import{$ as Xi,$a as gg,$b as k,$c as I_,A as Uo,Aa as jS,Ab as Q,Ac as Ni,B as ba,Ba as Qe,Bb as Se,Bc as Pi,C as RS,Ca as ea,Cb as Y,Cc as Fi,D as m_,Da as g_,Db as US,Dc as hN,E as hs,Ea as HL,Eb as Ve,Ec as Ye,F as p_,Fa as zS,Fb as oN,Fc as Tr,G as PL,Ga as y_,Gb as ne,Gc as Kc,H as ri,Ha as ie,Hb as HS,Hc as ta,I as It,Ia as we,Ib as lN,Ic as ia,J as OS,Ja as Yc,Jb as C_,Jc as bg,K as za,Ka as b_,Kb as w_,Kc as dm,L as Pl,La as rr,Lb as GS,Lc as vg,M as Wc,Ma as ge,Mb as yg,Mc as mN,N as LS,Na as pu,Nb as WS,Nc as bu,O as Yi,Oa as bn,Ob as D_,Oc as pN,P as FL,Pa as Vl,Pb as $s,Pc as qS,Q as hg,Qa as GL,Qb as Ee,Qc as st,R as mu,Ra as pg,Rb as W,Rc as zl,S as $c,Sa as WL,Sb as Ys,Sc as fN,T as NS,Ta as Ho,Tb as me,Tc as gN,U as VL,Ua as Kt,Ub as jn,Uc as yN,V as PS,Va as fg,Vb as cN,Vc as bN,W as f_,Wa as $L,Wb as kt,Wc as re,X as BL,Xa as YL,Xb as $S,Xc as Ga,Y as FS,Ya as fu,Yb as Bl,Yc as fr,Z as om,Za as v_,Zb as jl,Zc as zn,_ as yi,_a as dn,_b as M,_c as Go,a as f,aa as di,ab as gu,ac as ae,ad as vN,b as S,ba as jL,bb as lm,bc as vn,c as ci,ca as Ki,cb as KL,cc as _n,d as zo,da as gt,db as qL,dc as _a,e as L,ea as Fl,eb as ZL,ec as zt,f as sm,fa as va,fb as QL,fc as xa,g as xt,ga as $,gb as XL,gc as dN,h as RL,ha as De,hb as JL,hc as Ha,i as nr,ia as zL,ib as eN,ic as xn,j as kS,ja as G,jb as Ua,jc as X,k as dg,ka as VS,kb as tN,kc as ye,l as se,la as Te,lb as T,lc as mt,m as Qi,ma as x,mb as yu,mc as ke,n as AS,na as Bn,nb as bi,nc as S_,o as OL,oa as mg,ob as pr,oc as Et,p as LL,pa as ms,pb as Qt,pc as Xe,q as Qr,qa as UL,qb as J,qc as be,r as h_,ra as Xr,rb as cm,rc as ve,s as ES,sa as Jr,sb as vi,sc as uN,t as TS,ta as BS,tb as iN,tc as YS,u as Vn,ua as _t,ub as nN,uc as M_,v as Ie,va as xe,vb as rN,vc as ar,w as hu,wa as Ce,wb as aN,wc as V,x as ug,xa as Ai,xb as __,xc as $e,y as NL,ya as Er,yb as sN,yc as Ut,z as Re,za as Dt,zb as x_,zc as KS}from"./chunk-GDHZ47AW.js";var Ue=new G("");var CN=null;function Wa(){return CN}function ZS(t){CN??=t}var _g=class{},xg=(()=>{class t{historyGo(e){throw new Error("")}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:()=>x(wN),providedIn:"platform"})}return t})(),QS=new G(""),wN=(()=>{class t extends xg{_location;_history;_doc=x(Ue);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Wa().getBaseHref(this._doc)}onPopState(e){let n=Wa().getGlobalEventTarget(this._doc,"window");return n.addEventListener("popstate",e,!1),()=>n.removeEventListener("popstate",e)}onHashChange(e){let n=Wa().getGlobalEventTarget(this._doc,"window");return n.addEventListener("hashchange",e,!1),()=>n.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,n,r){this._history.pushState(e,n,r)}replaceState(e,n,r){this._history.replaceState(e,n,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function k_(t,i){return t?i?t.endsWith("/")?i.startsWith("/")?t+i.slice(1):t+i:i.startsWith("/")?t+i:`${t}/${i}`:t:i}function _N(t){let i=t.search(/#|\?|$/);return t[i-1]==="/"?t.slice(0,i-1)+t.slice(i):t}function Ks(t){return t&&t[0]!=="?"?`?${t}`:t}var qs=(()=>{class t{historyGo(e){throw new Error("")}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:()=>x(E_),providedIn:"root"})}return t})(),A_=new G(""),E_=(()=>{class t extends qs{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,n){super(),this._platformLocation=e,this._baseHref=n??this._platformLocation.getBaseHrefFromDOM()??x(Ue).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return k_(this._baseHref,e)}path(e=!1){let n=this._platformLocation.pathname+Ks(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${n}${r}`:n}pushState(e,n,r,a){let s=this.prepareExternalUrl(r+Ks(a));this._platformLocation.pushState(e,n,s)}replaceState(e,n,r,a){let s=this.prepareExternalUrl(r+Ks(a));this._platformLocation.replaceState(e,n,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(n){return new(n||t)(Te(xg),Te(A_,8))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Wo=(()=>{class t{_subject=new se;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(e){this._locationStrategy=e;let n=this._locationStrategy.getBaseHref();this._basePath=iY(_N(xN(n))),this._locationStrategy.onPopState(r=>{this._subject.next({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,n=""){return this.path()==this.normalize(e+Ks(n))}normalize(e){return t.stripTrailingSlash(tY(this._basePath,xN(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,n="",r=null){this._locationStrategy.pushState(r,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ks(n)),r)}replaceState(e,n="",r=null){this._locationStrategy.replaceState(r,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ks(n)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(n=>{this._notifyUrlChangeListeners(n.url,n.state)}),()=>{let n=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(n,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",n){this._urlChangeListeners.forEach(r=>r(e,n))}subscribe(e,n,r){return this._subject.subscribe({next:e,error:n??void 0,complete:r??void 0})}static normalizeQueryParams=Ks;static joinWithSlash=k_;static stripTrailingSlash=_N;static \u0275fac=function(n){return new(n||t)(Te(qs))};static \u0275prov=$({token:t,factory:()=>eY(),providedIn:"root"})}return t})();function eY(){return new Wo(Te(qs))}function tY(t,i){if(!t||!i.startsWith(t))return i;let e=i.substring(t.length);return e===""||["/",";","?","#"].includes(e[0])?e:i}function xN(t){return t.replace(/\/index.html$/,"")}function iY(t){if(new RegExp("^(https?:)?//").test(t)){let[,e]=t.split(/\/\/[^\/]+/);return e}return t}var rM=(()=>{class t extends qs{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(e,n){super(),this._platformLocation=e,n!=null&&(this._baseHref=n)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let n=this._platformLocation.hash??"#";return n.length>0?n.substring(1):n}prepareExternalUrl(e){let n=k_(this._baseHref,e);return n.length>0?"#"+n:n}pushState(e,n,r,a){let s=this.prepareExternalUrl(r+Ks(a))||this._platformLocation.pathname;this._platformLocation.pushState(e,n,s)}replaceState(e,n,r,a){let s=this.prepareExternalUrl(r+Ks(a))||this._platformLocation.pathname;this._platformLocation.replaceState(e,n,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(n){return new(n||t)(Te(xg),Te(A_,8))};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})();var aM=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(aM||{});var Rr=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(Rr||{}),ki=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(ki||{}),Ca=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(Ca||{}),wa={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function AN(t){return Ha(t)[xn.LocaleId]}function EN(t,i,e){let n=Ha(t),r=[n[xn.DayPeriodsFormat],n[xn.DayPeriodsStandalone]],a=ps(r,i);return ps(a,e)}function TN(t,i,e){let n=Ha(t),r=[n[xn.DaysFormat],n[xn.DaysStandalone]],a=ps(r,i);return ps(a,e)}function RN(t,i,e){let n=Ha(t),r=[n[xn.MonthsFormat],n[xn.MonthsStandalone]],a=ps(r,i);return ps(a,e)}function ON(t,i){let n=Ha(t)[xn.Eras];return ps(n,i)}function Cg(t,i){let e=Ha(t);return ps(e[xn.DateFormat],i)}function wg(t,i){let e=Ha(t);return ps(e[xn.TimeFormat],i)}function Dg(t,i){let n=Ha(t)[xn.DateTimeFormat];return ps(n,i)}function $o(t,i){let e=Ha(t),n=e[xn.NumberSymbols][i];if(typeof n>"u"){if(i===wa.CurrencyDecimal)return e[xn.NumberSymbols][wa.Decimal];if(i===wa.CurrencyGroup)return e[xn.NumberSymbols][wa.Group]}return n}function LN(t,i){return Ha(t)[xn.NumberFormats][i]}function NN(t){if(!t[xn.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[xn.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function PN(t){let i=Ha(t);return NN(i),(i[xn.ExtraData][2]||[]).map(n=>typeof n=="string"?XS(n):[XS(n[0]),XS(n[1])])}function FN(t,i,e){let n=Ha(t);NN(n);let r=[n[xn.ExtraData][0],n[xn.ExtraData][1]],a=ps(r,i)||[];return ps(a,e)||[]}function ps(t,i){for(let e=i;e>-1;e--)if(typeof t[e]<"u")return t[e];throw new Error("Locale data API: locale data undefined")}function XS(t){let[i,e]=t.split(":");return{hours:+i,minutes:+e}}var nY=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,T_={},rY=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function VN(t,i,e,n){let r=mY(t);i=Ul(e,i)||i;let s=[],o;for(;i;)if(o=rY.exec(i),o){s=s.concat(o.slice(1));let d=s.pop();if(!d)break;i=d}else{s.push(i);break}let l=r.getTimezoneOffset();n&&(l=jN(n,l),r=hY(r,n));let c="";return s.forEach(d=>{let u=dY(d);c+=u?u(r,e,l):d==="''"?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function P_(t,i,e){let n=new Date(0);return n.setFullYear(t,i,e),n.setHours(0,0,0),n}function Ul(t,i){let e=AN(t);if(T_[e]??={},T_[e][i])return T_[e][i];let n="";switch(i){case"shortDate":n=Cg(t,Ca.Short);break;case"mediumDate":n=Cg(t,Ca.Medium);break;case"longDate":n=Cg(t,Ca.Long);break;case"fullDate":n=Cg(t,Ca.Full);break;case"shortTime":n=wg(t,Ca.Short);break;case"mediumTime":n=wg(t,Ca.Medium);break;case"longTime":n=wg(t,Ca.Long);break;case"fullTime":n=wg(t,Ca.Full);break;case"short":let r=Ul(t,"shortTime"),a=Ul(t,"shortDate");n=R_(Dg(t,Ca.Short),[r,a]);break;case"medium":let s=Ul(t,"mediumTime"),o=Ul(t,"mediumDate");n=R_(Dg(t,Ca.Medium),[s,o]);break;case"long":let l=Ul(t,"longTime"),c=Ul(t,"longDate");n=R_(Dg(t,Ca.Long),[l,c]);break;case"full":let d=Ul(t,"fullTime"),u=Ul(t,"fullDate");n=R_(Dg(t,Ca.Full),[d,u]);break}return n&&(T_[e][i]=n),n}function R_(t,i){return i&&(t=t.replace(/\{([^}]+)}/g,function(e,n){return i!=null&&n in i?i[n]:e})),t}function Zs(t,i,e="-",n,r){let a="";(t<0||r&&t<=0)&&(r?t=-t+1:(t=-t,a=e));let s=String(t);for(;s.length<i;)s="0"+s;return n&&(s=s.slice(s.length-i)),a+s}function aY(t,i){return Zs(t,3).substring(0,i)}function Mn(t,i,e=0,n=!1,r=!1){return function(a,s){let o=sY(t,a);if((e>0||o>-e)&&(o+=e),t===3)o===0&&e===-12&&(o=12);else if(t===6)return aY(o,i);let l=$o(s,wa.MinusSign);return Zs(o,i,l,n,r)}}function sY(t,i){switch(t){case 0:return i.getFullYear();case 1:return i.getMonth();case 2:return i.getDate();case 3:return i.getHours();case 4:return i.getMinutes();case 5:return i.getSeconds();case 6:return i.getMilliseconds();case 7:return i.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function Vi(t,i,e=Rr.Format,n=!1){return function(r,a){return oY(r,a,t,i,e,n)}}function oY(t,i,e,n,r,a){switch(e){case 2:return RN(i,r,n)[t.getMonth()];case 1:return TN(i,r,n)[t.getDay()];case 0:let s=t.getHours(),o=t.getMinutes();if(a){let c=PN(i),d=FN(i,r,n),u=c.findIndex(h=>{if(Array.isArray(h)){let[m,p]=h,g=s>=m.hours&&o>=m.minutes,b=s<p.hours||s===p.hours&&o<p.minutes;if(m.hours<p.hours){if(g&&b)return!0}else if(g||b)return!0}else if(h.hours===s&&h.minutes===o)return!0;return!1});if(u!==-1)return d[u]}return EN(i,r,n)[s<12?0:1];case 3:return ON(i,n)[t.getFullYear()<=0?0:1];default:let l=e;throw new Error(`unexpected translation type ${l}`)}}function O_(t){return function(i,e,n){let r=-1*n,a=$o(e,wa.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(t){case 0:return(r>=0?"+":"")+Zs(s,2,a)+Zs(Math.abs(r%60),2,a);case 1:return"GMT"+(r>=0?"+":"")+Zs(s,1,a);case 2:return"GMT"+(r>=0?"+":"")+Zs(s,2,a)+":"+Zs(Math.abs(r%60),2,a);case 3:return n===0?"Z":(r>=0?"+":"")+Zs(s,2,a)+":"+Zs(Math.abs(r%60),2,a);default:throw new Error(`Unknown zone width "${t}"`)}}}var lY=0,N_=4;function cY(t){let i=P_(t,lY,1).getDay();return P_(t,0,1+(i<=N_?N_:N_+7)-i)}function BN(t){let i=t.getDay(),e=i===0?-3:N_-i;return P_(t.getFullYear(),t.getMonth(),t.getDate()+e)}function JS(t,i=!1){return function(e,n){let r;if(i){let a=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,s=e.getDate();r=1+Math.floor((s+a)/7)}else{let a=BN(e),s=cY(a.getFullYear()),o=a.getTime()-s.getTime();r=1+Math.round(o/6048e5)}return Zs(r,t,$o(n,wa.MinusSign))}}function L_(t,i=!1){return function(e,n){let a=BN(e).getFullYear();return Zs(a,t,$o(n,wa.MinusSign),i)}}var eM={};function dY(t){if(eM[t])return eM[t];let i;switch(t){case"G":case"GG":case"GGG":i=Vi(3,ki.Abbreviated);break;case"GGGG":i=Vi(3,ki.Wide);break;case"GGGGG":i=Vi(3,ki.Narrow);break;case"y":i=Mn(0,1,0,!1,!0);break;case"yy":i=Mn(0,2,0,!0,!0);break;case"yyy":i=Mn(0,3,0,!1,!0);break;case"yyyy":i=Mn(0,4,0,!1,!0);break;case"Y":i=L_(1);break;case"YY":i=L_(2,!0);break;case"YYY":i=L_(3);break;case"YYYY":i=L_(4);break;case"M":case"L":i=Mn(1,1,1);break;case"MM":case"LL":i=Mn(1,2,1);break;case"MMM":i=Vi(2,ki.Abbreviated);break;case"MMMM":i=Vi(2,ki.Wide);break;case"MMMMM":i=Vi(2,ki.Narrow);break;case"LLL":i=Vi(2,ki.Abbreviated,Rr.Standalone);break;case"LLLL":i=Vi(2,ki.Wide,Rr.Standalone);break;case"LLLLL":i=Vi(2,ki.Narrow,Rr.Standalone);break;case"w":i=JS(1);break;case"ww":i=JS(2);break;case"W":i=JS(1,!0);break;case"d":i=Mn(2,1);break;case"dd":i=Mn(2,2);break;case"c":case"cc":i=Mn(7,1);break;case"ccc":i=Vi(1,ki.Abbreviated,Rr.Standalone);break;case"cccc":i=Vi(1,ki.Wide,Rr.Standalone);break;case"ccccc":i=Vi(1,ki.Narrow,Rr.Standalone);break;case"cccccc":i=Vi(1,ki.Short,Rr.Standalone);break;case"E":case"EE":case"EEE":i=Vi(1,ki.Abbreviated);break;case"EEEE":i=Vi(1,ki.Wide);break;case"EEEEE":i=Vi(1,ki.Narrow);break;case"EEEEEE":i=Vi(1,ki.Short);break;case"a":case"aa":case"aaa":i=Vi(0,ki.Abbreviated);break;case"aaaa":i=Vi(0,ki.Wide);break;case"aaaaa":i=Vi(0,ki.Narrow);break;case"b":case"bb":case"bbb":i=Vi(0,ki.Abbreviated,Rr.Standalone,!0);break;case"bbbb":i=Vi(0,ki.Wide,Rr.Standalone,!0);break;case"bbbbb":i=Vi(0,ki.Narrow,Rr.Standalone,!0);break;case"B":case"BB":case"BBB":i=Vi(0,ki.Abbreviated,Rr.Format,!0);break;case"BBBB":i=Vi(0,ki.Wide,Rr.Format,!0);break;case"BBBBB":i=Vi(0,ki.Narrow,Rr.Format,!0);break;case"h":i=Mn(3,1,-12);break;case"hh":i=Mn(3,2,-12);break;case"H":i=Mn(3,1);break;case"HH":i=Mn(3,2);break;case"m":i=Mn(4,1);break;case"mm":i=Mn(4,2);break;case"s":i=Mn(5,1);break;case"ss":i=Mn(5,2);break;case"S":i=Mn(6,1);break;case"SS":i=Mn(6,2);break;case"SSS":i=Mn(6,3);break;case"Z":case"ZZ":case"ZZZ":i=O_(0);break;case"ZZZZZ":i=O_(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":i=O_(1);break;case"OOOO":case"ZZZZ":case"zzzz":i=O_(2);break;default:return null}return eM[t]=i,i}function jN(t,i){t=t.replace(/:/g,"");let e=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(e)?i:e}function uY(t,i){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+i),t}function hY(t,i,e){let r=t.getTimezoneOffset(),a=jN(i,r);return uY(t,-1*(a-r))}function mY(t){if(DN(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[r,a=1,s=1]=t.split("-").map(o=>+o);return P_(r,a-1,s)}let e=parseFloat(t);if(!isNaN(t-e))return new Date(e);let n;if(n=t.match(nY))return pY(n)}let i=new Date(t);if(!DN(i))throw new Error(`Unable to convert "${t}" into a date`);return i}function pY(t){let i=new Date(0),e=0,n=0,r=t[8]?i.setUTCFullYear:i.setFullYear,a=t[8]?i.setUTCHours:i.setHours;t[9]&&(e=Number(t[9]+t[10]),n=Number(t[9]+t[11])),r.call(i,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-e,o=Number(t[5]||0)-n,l=Number(t[6]||0),c=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return a.call(i,s,o,l,c),i}function DN(t){return t instanceof Date&&!isNaN(t.valueOf())}var fY=/^(\d+)?\.((\d+)(-(\d+))?)?$/,SN=22,F_=".",Sg="0",gY=";",yY=",",tM="#";function bY(t,i,e,n,r,a,s=!1){let o="",l=!1;if(!isFinite(t))o=$o(e,wa.Infinity);else{let c=xY(t);s&&(c=_Y(c));let d=i.minInt,u=i.minFrac,h=i.maxFrac;if(a){let _=a.match(fY);if(_===null)throw new Error(`${a} is not a valid digit info`);let w=_[1],D=_[3],I=_[5];w!=null&&(d=iM(w)),D!=null&&(u=iM(D)),I!=null?h=iM(I):D!=null&&u>h&&(h=u)}CY(c,u,h);let m=c.digits,p=c.integerLen,g=c.exponent,b=[];for(l=m.every(_=>!_);p<d;p++)m.unshift(0);for(;p<0;p++)m.unshift(0);p>0?b=m.splice(p,m.length):(b=m,m=[0]);let v=[];for(m.length>=i.lgSize&&v.unshift(m.splice(-i.lgSize,m.length).join(""));m.length>i.gSize;)v.unshift(m.splice(-i.gSize,m.length).join(""));m.length&&v.unshift(m.join("")),o=v.join($o(e,n)),b.length&&(o+=$o(e,r)+b.join("")),g&&(o+=$o(e,wa.Exponential)+"+"+g)}return t<0&&!l?o=i.negPre+o+i.negSuf:o=i.posPre+o+i.posSuf,o}function zN(t,i,e){let n=LN(i,aM.Decimal),r=vY(n,$o(i,wa.MinusSign));return bY(t,r,i,wa.Group,wa.Decimal,e)}function vY(t,i="-"){let e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},n=t.split(gY),r=n[0],a=n[1],s=r.indexOf(F_)!==-1?r.split(F_):[r.substring(0,r.lastIndexOf(Sg)+1),r.substring(r.lastIndexOf(Sg)+1)],o=s[0],l=s[1]||"";e.posPre=o.substring(0,o.indexOf(tM));for(let d=0;d<l.length;d++){let u=l.charAt(d);u===Sg?e.minFrac=e.maxFrac=d+1:u===tM?e.maxFrac=d+1:e.posSuf+=u}let c=o.split(yY);if(e.gSize=c[1]?c[1].length:0,e.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,a){let d=r.length-e.posPre.length-e.posSuf.length,u=a.indexOf(tM);e.negPre=a.substring(0,u).replace(/'/g,""),e.negSuf=a.slice(u+d).replace(/'/g,"")}else e.negPre=i+e.posPre,e.negSuf=e.posSuf;return e}function _Y(t){if(t.digits[0]===0)return t;let i=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(i===0?t.digits.push(0,0):i===1&&t.digits.push(0),t.integerLen+=2),t}function xY(t){let i=Math.abs(t)+"",e=0,n,r,a,s,o;for((r=i.indexOf(F_))>-1&&(i=i.replace(F_,"")),(a=i.search(/e/i))>0?(r<0&&(r=a),r+=+i.slice(a+1),i=i.substring(0,a)):r<0&&(r=i.length),a=0;i.charAt(a)===Sg;a++);if(a===(o=i.length))n=[0],r=1;else{for(o--;i.charAt(o)===Sg;)o--;for(r-=a,n=[],s=0;a<=o;a++,s++)n[s]=Number(i.charAt(a))}return r>SN&&(n=n.splice(0,SN-1),e=r-1,r=1),{digits:n,exponent:e,integerLen:r}}function CY(t,i,e){if(i>e)throw new Error(`The minimum number of digits after fraction (${i}) is higher than the maximum (${e}).`);let n=t.digits,r=n.length-t.integerLen,a=Math.min(Math.max(i,r),e),s=a+t.integerLen,o=n[s];if(s>0){n.splice(Math.max(t.integerLen,s));for(let u=s;u<n.length;u++)n[u]=0}else{r=Math.max(0,r),t.integerLen=1,n.length=Math.max(1,s=a+1),n[0]=0;for(let u=1;u<s;u++)n[u]=0}if(o>=5)if(s-1<0){for(let u=0;u>s;u--)n.unshift(0),t.integerLen++;n.unshift(1),t.integerLen++}else n[s-1]++;for(;r<Math.max(0,a);r++)n.push(0);let l=a!==0,c=i+t.integerLen,d=n.reduceRight(function(u,h,m,p){return h=h+u,p[m]=h<10?h:h-10,l&&(p[m]===0&&m>=c?p.pop():l=!1),h>=10?1:0},0);d&&(n.unshift(d),t.integerLen++)}function iM(t){let i=parseInt(t);if(isNaN(i))throw new Error("Invalid integer literal when parsing "+t);return i}var nM=/\s+/,MN=[],Mg=(()=>{class t{_ngEl;_renderer;initialClasses=MN;rawClass;stateMap=new Map;constructor(e,n){this._ngEl=e,this._renderer=n}set klass(e){this.initialClasses=e!=null?e.trim().split(nM):MN}set ngClass(e){this.rawClass=typeof e=="string"?e.trim().split(nM):e}ngDoCheck(){for(let n of this.initialClasses)this._updateState(n,!0);let e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(let n of e)this._updateState(n,!0);else if(e!=null)for(let n of Object.keys(e))this._updateState(n,!!e[n]);this._applyStateDiff()}_updateState(e,n){let r=this.stateMap.get(e);r!==void 0?(r.enabled!==n&&(r.changed=!0,r.enabled=n),r.touched=!0):this.stateMap.set(e,{enabled:n,changed:!0,touched:!0})}_applyStateDiff(){for(let e of this.stateMap){let n=e[0],r=e[1];r.changed?(this._toggleClass(n,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(n,!1),this.stateMap.delete(n)),r.touched=!1}}_toggleClass(e,n){e=e.trim(),e.length>0&&e.split(nM).forEach(r=>{n?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static \u0275fac=function(n){return new(n||t)(J(ge),J(Qt))};static \u0275dir=Y({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();var V_=class{$implicit;ngForOf;index;count;constructor(i,e,n,r){this.$implicit=i,this.ngForOf=e,this.index=n,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Da=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(e,n,r){this._viewContainer=e,this._template=n,this._differs=r}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let n=this._viewContainer;e.forEachOperation((r,a,s)=>{if(r.previousIndex==null)n.createEmbeddedView(this._template,new V_(r.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)n.remove(a===null?void 0:a);else if(a!==null){let o=n.get(a);n.move(o,s),IN(o,r)}});for(let r=0,a=n.length;r<a;r++){let o=n.get(r).context;o.index=r,o.count=a,o.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{let a=n.get(r.currentIndex);IN(a,r)})}static ngTemplateContextGuard(e,n){return!0}static \u0275fac=function(n){return new(n||t)(J(vi),J(bi),J(zl))};static \u0275dir=Y({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function IN(t,i){t.context.$implicit=i.item}var Qs=(()=>{class t{_viewContainer;_context=new B_;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(e,n){this._viewContainer=e,this._thenTemplateRef=n}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){kN(e,!1),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){kN(e,!1),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(e,n){return!0}static \u0275fac=function(n){return new(n||t)(J(vi),J(bi))};static \u0275dir=Y({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),B_=class{$implicit=null;ngIf=null};function kN(t,i){if(t&&!t.createEmbeddedView)throw new gt(2020,!1)}var Hl=(()=>{class t{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(e,n,r){this._ngEl=e,this._differs=n,this._renderer=r}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){let e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,n){let[r,a]=e.split("."),s=r.indexOf("-")===-1?void 0:yu.DashCase;n!=null?this._renderer.setStyle(this._ngEl.nativeElement,r,a?`${n}${a}`:n,s):this._renderer.removeStyle(this._ngEl.nativeElement,r,s)}_applyChanges(e){e.forEachRemovedItem(n=>this._setStyle(n.key,null)),e.forEachAddedItem(n=>this._setStyle(n.key,n.currentValue)),e.forEachChangedItem(n=>this._setStyle(n.key,n.currentValue))}static \u0275fac=function(n){return new(n||t)(J(ge),J(fN),J(Qt))};static \u0275dir=Y({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return t})(),sM=(()=>{class t{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(e){this._viewContainerRef=e}ngOnChanges(e){if(this._shouldRecreateView(e)){let n=this._viewContainerRef;if(this._viewRef&&n.remove(n.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let r=this._createContextForwardProxy();this._viewRef=n.createEmbeddedView(this.ngTemplateOutlet,r,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(e){return!!e.ngTemplateOutlet||!!e.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(e,n,r)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,n,r):!1,get:(e,n,r)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,n,r)}})}static \u0275fac=function(n){return new(n||t)(J(vi))};static \u0275dir=Y({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[_t]})}return t})();function UN(t,i){return new gt(2100,!1)}var wY="mediumDate",HN=new G(""),GN=new G(""),Gl=(()=>{class t{locale;defaultTimezone;defaultOptions;constructor(e,n,r){this.locale=e,this.defaultTimezone=n,this.defaultOptions=r}transform(e,n,r,a){if(e==null||e===""||e!==e)return null;try{let s=n??this.defaultOptions?.dateFormat??wY,o=r??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return VN(e,s,a||this.locale,o)}catch(s){throw UN(t,s.message)}}static \u0275fac=function(n){return new(n||t)(J(bu,16),J(HN,24),J(GN,24))};static \u0275pipe=US({name:"date",type:t,pure:!0})}return t})();var oM=(()=>{class t{_locale;constructor(e){this._locale=e}transform(e,n,r){if(!DY(e))return null;r||=this._locale;try{let a=SY(e);return zN(a,r,n)}catch(a){throw UN(t,a.message)}}static \u0275fac=function(n){return new(n||t)(J(bu,16))};static \u0275pipe=US({name:"number",type:t,pure:!0})}return t})();function DY(t){return!(t==null||t===""||t!==t)}function SY(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new Error(`${t} is not a number`);return t}var lM=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Se({type:t});static \u0275inj=De({})}return t})();function cM(t,i){i=encodeURIComponent(i);for(let e of t.split(";")){let n=e.indexOf("="),[r,a]=n==-1?[e,""]:[e.slice(0,n),e.slice(n+1)];if(r.trim()===i)return decodeURIComponent(a)}return null}var j_="browser",WN="server";function dM(t){return t===j_}function z_(t){return t===WN}var Ig=class{};function YN(t,i,e){return dN(t,i,e)}var KN=(()=>{class t{static \u0275prov=$({token:t,providedIn:"root",factory:()=>new uM(x(Ue),window)})}return t})(),uM=class{document;window;offset=()=>[0,0];constructor(i,e){this.document=i,this.window=e}setOffset(i){Array.isArray(i)?this.offset=()=>i:this.offset=i}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(i){this.window.scrollTo(i[0],i[1])}scrollToAnchor(i){let e=MY(this.document,i);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(i){this.window.history.scrollRestoration=i}scrollToElement(i){let e=i.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(n-a[0],r-a[1])}};function MY(t,i){let e=t.getElementById(i)||t.getElementsByName(i)[0];if(e)return e;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),r=n.currentNode;for(;r;){let a=r.shadowRoot;if(a){let s=a.getElementById(i)||a.querySelector(`[name="${i}"]`);if(s)return s}r=n.nextNode()}}return null}var G_=new G(""),fM=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,n){this._zone=n,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,n,r,a){return this._findPluginFor(n).addEventListener(e,n,r,a)}getZone(){return this._zone}_findPluginFor(e){let n=this._eventNameToPlugin.get(e);if(n)return n;if(n=this._plugins.find(a=>a.supports(e)),!n)throw new gt(5101,!1);return this._eventNameToPlugin.set(e,n),n}static \u0275fac=function(n){return new(n||t)(Te(G_),Te(we))};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})(),kg=class{_doc;constructor(i){this._doc=i}manager},U_="ng-app-id";function qN(t){for(let i of t)i.remove()}function ZN(t,i){let e=i.createElement("style");return e.textContent=t,e}function IY(t,i,e,n){let r=t.head?.querySelectorAll(`style[${U_}="${i}"],link[${U_}="${i}"]`);if(r)for(let a of r)a.removeAttribute(U_),a instanceof HTMLLinkElement?n.set(a.href.slice(a.href.lastIndexOf("/")+1),{usage:0,elements:[a]}):a.textContent&&e.set(a.textContent,{usage:0,elements:[a]})}function mM(t,i){let e=i.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",t),e}var gM=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(e,n,r,a={}){this.doc=e,this.appId=n,this.nonce=r,this.isServer=z_(a),IY(e,n,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,n){for(let r of e)this.addUsage(r,this.inline,ZN);n?.forEach(r=>this.addUsage(r,this.external,mM))}removeStyles(e,n){for(let r of e)this.removeUsage(r,this.inline);n?.forEach(r=>this.removeUsage(r,this.external))}addUsage(e,n,r){let a=n.get(e);a?a.usage++:n.set(e,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,r(e,this.doc)))})}removeUsage(e,n){let r=n.get(e);r&&(r.usage--,r.usage<=0&&(qN(r.elements),n.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])qN(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[n,{elements:r}]of this.inline)r.push(this.addElement(e,ZN(n,this.doc)));for(let[n,{elements:r}]of this.external)r.push(this.addElement(e,mM(n,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,n){return this.nonce&&n.setAttribute("nonce",this.nonce),this.isServer&&n.setAttribute(U_,this.appId),e.appendChild(n)}static \u0275fac=function(n){return new(n||t)(Te(Ue),Te(pg),Te(fg,8),Te(Ho))};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})(),hM={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},yM=/%COMP%/g;var XN="%COMP%",kY=`_nghost-${XN}`,AY=`_ngcontent-${XN}`,EY=!0,TY=new G("",{providedIn:"root",factory:()=>EY});function RY(t){return AY.replace(yM,t)}function OY(t){return kY.replace(yM,t)}function JN(t,i){return i.map(e=>e.replace(yM,t))}var Tg=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,n,r,a,s,o,l,c=null,d=null){this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.removeStylesOnCompDestroy=a,this.doc=s,this.platformId=o,this.ngZone=l,this.nonce=c,this.tracingService=d,this.platformIsServer=z_(o),this.defaultRenderer=new Ag(e,s,l,this.platformIsServer,this.tracingService)}createRenderer(e,n){if(!e||!n)return this.defaultRenderer;this.platformIsServer&&n.encapsulation===gg.ShadowDom&&(n=S(f({},n),{encapsulation:gg.Emulated}));let r=this.getOrCreateRenderer(e,n);return r instanceof H_?r.applyToHost(e):r instanceof Eg&&r.applyStyles(),r}getOrCreateRenderer(e,n){let r=this.rendererByCompId,a=r.get(n.id);if(!a){let s=this.doc,o=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,u=this.platformIsServer,h=this.tracingService;switch(n.encapsulation){case gg.Emulated:a=new H_(l,c,n,this.appId,d,s,o,u,h);break;case gg.ShadowDom:return new pM(l,c,e,n,s,o,this.nonce,u,h);default:a=new Eg(l,c,n,d,s,o,u,h);break}r.set(n.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(n){return new(n||t)(Te(fM),Te(gM),Te(pg),Te(TY),Te(Ue),Te(Ho),Te(we),Te(fg),Te(YL,8))};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})(),Ag=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(i,e,n,r,a){this.eventManager=i,this.doc=e,this.ngZone=n,this.platformIsServer=r,this.tracingService=a}destroy(){}destroyNode=null;createElement(i,e){return e?this.doc.createElementNS(hM[e]||e,i):this.doc.createElement(i)}createComment(i){return this.doc.createComment(i)}createText(i){return this.doc.createTextNode(i)}appendChild(i,e){(QN(i)?i.content:i).appendChild(e)}insertBefore(i,e,n){i&&(QN(i)?i.content:i).insertBefore(e,n)}removeChild(i,e){e.remove()}selectRootElement(i,e){let n=typeof i=="string"?this.doc.querySelector(i):i;if(!n)throw new gt(-5104,!1);return e||(n.textContent=""),n}parentNode(i){return i.parentNode}nextSibling(i){return i.nextSibling}setAttribute(i,e,n,r){if(r){e=r+":"+e;let a=hM[r];a?i.setAttributeNS(a,e,n):i.setAttribute(e,n)}else i.setAttribute(e,n)}removeAttribute(i,e,n){if(n){let r=hM[n];r?i.removeAttributeNS(r,e):i.removeAttribute(`${n}:${e}`)}else i.removeAttribute(e)}addClass(i,e){i.classList.add(e)}removeClass(i,e){i.classList.remove(e)}setStyle(i,e,n,r){r&(yu.DashCase|yu.Important)?i.style.setProperty(e,n,r&yu.Important?"important":""):i.style[e]=n}removeStyle(i,e,n){n&yu.DashCase?i.style.removeProperty(e):i.style[e]=""}setProperty(i,e,n){i!=null&&(i[e]=n)}setValue(i,e){i.nodeValue=e}listen(i,e,n,r){if(typeof i=="string"&&(i=Wa().getGlobalEventTarget(this.doc,i),!i))throw new gt(5102,!1);let a=this.decoratePreventDefault(n);return this.tracingService?.wrapEventListener&&(a=this.tracingService.wrapEventListener(i,e,a)),this.eventManager.addEventListener(i,e,a,r)}decoratePreventDefault(i){return e=>{if(e==="__ngUnwrap__")return i;(this.platformIsServer?this.ngZone.runGuarded(()=>i(e)):i(e))===!1&&e.preventDefault()}}};function QN(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var pM=class extends Ag{sharedStylesHost;hostEl;shadowRoot;constructor(i,e,n,r,a,s,o,l,c){super(i,a,s,l,c),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=r.styles;d=JN(r.id,d);for(let h of d){let m=document.createElement("style");o&&m.setAttribute("nonce",o),m.textContent=h,this.shadowRoot.appendChild(m)}let u=r.getExternalStyles?.();if(u)for(let h of u){let m=mM(h,a);o&&m.setAttribute("nonce",o),this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(i){return i===this.hostEl?this.shadowRoot:i}appendChild(i,e){return super.appendChild(this.nodeOrShadowRoot(i),e)}insertBefore(i,e,n){return super.insertBefore(this.nodeOrShadowRoot(i),e,n)}removeChild(i,e){return super.removeChild(null,e)}parentNode(i){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(i)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Eg=class extends Ag{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(i,e,n,r,a,s,o,l,c){super(i,a,s,o,l),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r;let d=n.styles;this.styles=c?JN(c,d):d,this.styleUrls=n.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},H_=class extends Eg{contentAttr;hostAttr;constructor(i,e,n,r,a,s,o,l,c){let d=r+"-"+n.id;super(i,e,n,a,s,o,l,c,d),this.contentAttr=RY(d),this.hostAttr=OY(d)}applyToHost(i){this.applyStyles(),this.setAttribute(i,this.hostAttr,"")}createElement(i,e){let n=super.createElement(i,e);return super.setAttribute(n,this.contentAttr,""),n}};var W_=class t extends _g{supportsDOMEvents=!0;static makeCurrent(){ZS(new t)}onAndCancel(i,e,n,r){return i.addEventListener(e,n,r),()=>{i.removeEventListener(e,n,r)}}dispatchEvent(i,e){i.dispatchEvent(e)}remove(i){i.remove()}createElement(i,e){return e=e||this.getDefaultDocument(),e.createElement(i)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(i){return i.nodeType===Node.ELEMENT_NODE}isShadowRoot(i){return i instanceof DocumentFragment}getGlobalEventTarget(i,e){return e==="window"?window:e==="document"?i:e==="body"?i.body:null}getBaseHref(i){let e=LY();return e==null?null:NY(e)}resetBaseElement(){Rg=null}getUserAgent(){return window.navigator.userAgent}getCookie(i){return cM(document.cookie,i)}},Rg=null;function LY(){return Rg=Rg||document.head.querySelector("base"),Rg?Rg.getAttribute("href"):null}function NY(t){return new URL(t,document.baseURI).pathname}var $_=class{addToWindow(i){Fl.getAngularTestability=(n,r=!0)=>{let a=i.findTestabilityInTree(n,r);if(a==null)throw new gt(5103,!1);return a},Fl.getAllAngularTestabilities=()=>i.getAllTestabilities(),Fl.getAllAngularRootElements=()=>i.getAllRootElements();let e=n=>{let r=Fl.getAllAngularTestabilities(),a=r.length,s=function(){a--,a==0&&n()};r.forEach(o=>{o.whenStable(s)})};Fl.frameworkStabilizers||(Fl.frameworkStabilizers=[]),Fl.frameworkStabilizers.push(e)}findTestabilityInTree(i,e,n){if(e==null)return null;let r=i.getTestability(e);return r??(n?Wa().isShadowRoot(e)?this.findTestabilityInTree(i,e.host,!0):this.findTestabilityInTree(i,e.parentElement,!0):null)}},PY=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})(),tP=(()=>{class t extends kg{constructor(e){super(e)}supports(e){return!0}addEventListener(e,n,r,a){return e.addEventListener(n,r,a),()=>this.removeEventListener(e,n,r,a)}removeEventListener(e,n,r,a){return e.removeEventListener(n,r,a)}static \u0275fac=function(n){return new(n||t)(Te(Ue))};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})(),eP=["alt","control","meta","shift"],FY={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},VY={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},iP=(()=>{class t extends kg{constructor(e){super(e)}supports(e){return t.parseEventName(e)!=null}addEventListener(e,n,r,a){let s=t.parseEventName(n),o=t.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Wa().onAndCancel(e,s.domEventName,o,a))}static parseEventName(e){let n=e.toLowerCase().split("."),r=n.shift();if(n.length===0||!(r==="keydown"||r==="keyup"))return null;let a=t._normalizeKey(n.pop()),s="",o=n.indexOf("code");if(o>-1&&(n.splice(o,1),s="code."),eP.forEach(c=>{let d=n.indexOf(c);d>-1&&(n.splice(d,1),s+=c+".")}),s+=a,n.length!=0||a.length===0)return null;let l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(e,n){let r=FY[e.key]||e.key,a="";return n.indexOf("code.")>-1&&(r=e.code,a="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),eP.forEach(s=>{if(s!==r){let o=VY[s];o(e)&&(a+=s+".")}}),a+=r,a===n)}static eventCallback(e,n,r){return a=>{t.matchEventFullKeyCode(a,e)&&r.runGuarded(()=>n(a))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(n){return new(n||t)(Te(Ue))};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})();function BY(){W_.makeCurrent()}function jY(){return new Yc}function zY(){return GL(document),document}var UY=[{provide:Ho,useValue:j_},{provide:WL,useValue:BY,multi:!0},{provide:Ue,useFactory:zY}],bM=pN(gN,"browser",UY);var HY=[{provide:C_,useClass:$_},{provide:lN,useClass:w_,deps:[we,GS,C_]},{provide:w_,useClass:w_,deps:[we,GS,C_]}],GY=[{provide:UL,useValue:"root"},{provide:Yc,useFactory:jY},{provide:G_,useClass:tP,multi:!0,deps:[Ue]},{provide:G_,useClass:iP,multi:!0,deps:[Ue]},Tg,gM,fM,{provide:pr,useExisting:Tg},{provide:Ig,useClass:PY},[]],vM=(()=>{class t{constructor(){}static \u0275fac=function(n){return new(n||t)};static \u0275mod=Se({type:t});static \u0275inj=De({providers:[...GY,...HY],imports:[lM,yN]})}return t})();var xM=class{};var qc=class t{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(i){i?typeof i=="string"?this.lazyInit=()=>{this.headers=new Map,i.split(`
`).forEach(e=>{let n=e.indexOf(":");if(n>0){let r=e.slice(0,n),a=e.slice(n+1).trim();this.addHeaderEntry(r,a)}})}:typeof Headers<"u"&&i instanceof Headers?(this.headers=new Map,i.forEach((e,n)=>{this.addHeaderEntry(n,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(i).forEach(([e,n])=>{this.setHeaderEntries(e,n)})}:this.headers=new Map}has(i){return this.init(),this.headers.has(i.toLowerCase())}get(i){this.init();let e=this.headers.get(i.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(i){return this.init(),this.headers.get(i.toLowerCase())||null}append(i,e){return this.clone({name:i,value:e,op:"a"})}set(i,e){return this.clone({name:i,value:e,op:"s"})}delete(i,e){return this.clone({name:i,value:e,op:"d"})}maybeSetNormalizedName(i,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,i)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(i=>this.applyUpdate(i)),this.lazyUpdate=null))}copyFrom(i){i.init(),Array.from(i.headers.keys()).forEach(e=>{this.headers.set(e,i.headers.get(e)),this.normalizedNames.set(e,i.normalizedNames.get(e))})}clone(i){let e=new t;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([i]),e}applyUpdate(i){let e=i.name.toLowerCase();switch(i.op){case"a":case"s":let n=i.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(i.name,e);let r=(i.op==="a"?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":let a=i.value;if(!a)this.headers.delete(e),this.normalizedNames.delete(e);else{let s=this.headers.get(e);if(!s)return;s=s.filter(o=>a.indexOf(o)===-1),s.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}break}}addHeaderEntry(i,e){let n=i.toLowerCase();this.maybeSetNormalizedName(i,n),this.headers.has(n)?this.headers.get(n).push(e):this.headers.set(n,[e])}setHeaderEntries(i,e){let n=(Array.isArray(e)?e:[e]).map(a=>a.toString()),r=i.toLowerCase();this.headers.set(r,n),this.maybeSetNormalizedName(i,r)}forEach(i){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>i(this.normalizedNames.get(e),this.headers.get(e)))}};var CM=class{encodeKey(i){return nP(i)}encodeValue(i){return nP(i)}decodeKey(i){return decodeURIComponent(i)}decodeValue(i){return decodeURIComponent(i)}};function WY(t,i){let e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{let a=r.indexOf("="),[s,o]=a==-1?[i.decodeKey(r),""]:[i.decodeKey(r.slice(0,a)),i.decodeValue(r.slice(a+1))],l=e.get(s)||[];l.push(o),e.set(s,l)}),e}var $Y=/%(\d[a-f0-9])/gi,YY={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function nP(t){return encodeURIComponent(t).replace($Y,(i,e)=>YY[e]??i)}function Y_(t){return`${t}`}var Wl=class t{map;encoder;updates=null;cloneFrom=null;constructor(i={}){if(this.encoder=i.encoder||new CM,i.fromString){if(i.fromObject)throw new gt(2805,!1);this.map=WY(i.fromString,this.encoder)}else i.fromObject?(this.map=new Map,Object.keys(i.fromObject).forEach(e=>{let n=i.fromObject[e],r=Array.isArray(n)?n.map(Y_):[Y_(n)];this.map.set(e,r)})):this.map=null}has(i){return this.init(),this.map.has(i)}get(i){this.init();let e=this.map.get(i);return e?e[0]:null}getAll(i){return this.init(),this.map.get(i)||null}keys(){return this.init(),Array.from(this.map.keys())}append(i,e){return this.clone({param:i,value:e,op:"a"})}appendAll(i){let e=[];return Object.keys(i).forEach(n=>{let r=i[n];Array.isArray(r)?r.forEach(a=>{e.push({param:n,value:a,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}set(i,e){return this.clone({param:i,value:e,op:"s"})}delete(i,e){return this.clone({param:i,value:e,op:"d"})}toString(){return this.init(),this.keys().map(i=>{let e=this.encoder.encodeKey(i);return this.map.get(i).map(n=>e+"="+this.encoder.encodeValue(n)).join("&")}).filter(i=>i!=="").join("&")}clone(i){let e=new t({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(i),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(i=>this.map.set(i,this.cloneFrom.map.get(i))),this.updates.forEach(i=>{switch(i.op){case"a":case"s":let e=(i.op==="a"?this.map.get(i.param):void 0)||[];e.push(Y_(i.value)),this.map.set(i.param,e);break;case"d":if(i.value!==void 0){let n=this.map.get(i.param)||[],r=n.indexOf(Y_(i.value));r!==-1&&n.splice(r,1),n.length>0?this.map.set(i.param,n):this.map.delete(i.param)}else{this.map.delete(i.param);break}}}),this.cloneFrom=this.updates=null)}};var wM=class{map=new Map;set(i,e){return this.map.set(i,e),this}get(i){return this.map.has(i)||this.map.set(i,i.defaultValue()),this.map.get(i)}delete(i){return this.map.delete(i),this}has(i){return this.map.has(i)}keys(){return this.map.keys()}};function KY(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function rP(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function aP(t){return typeof Blob<"u"&&t instanceof Blob}function sP(t){return typeof FormData<"u"&&t instanceof FormData}function qY(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var ZY="X-Request-URL",oP="text/plain",lP="application/json",E_e=`${lP}, ${oP}, */*`,um=class t{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(i,e,n,r){this.url=e,this.method=i.toUpperCase();let a;if(KY(this.method)||r?(this.body=n!==void 0?n:null,a=r):a=n,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params),this.transferCache=a.transferCache),this.headers??=new qc,this.context??=new wM,!this.params)this.params=new Wl,this.urlWithParams=e;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=e;else{let o=e.indexOf("?"),l=o===-1?"?":o<e.length-1?"&":"";this.urlWithParams=e+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||rP(this.body)||aP(this.body)||sP(this.body)||qY(this.body)?this.body:this.body instanceof Wl?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||sP(this.body)?null:aP(this.body)?this.body.type||null:rP(this.body)?null:typeof this.body=="string"?oP:this.body instanceof Wl?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?lP:null}clone(i={}){let e=i.method||this.method,n=i.url||this.url,r=i.responseType||this.responseType,a=i.transferCache??this.transferCache,s=i.body!==void 0?i.body:this.body,o=i.withCredentials??this.withCredentials,l=i.reportProgress??this.reportProgress,c=i.headers||this.headers,d=i.params||this.params,u=i.context??this.context;return i.setHeaders!==void 0&&(c=Object.keys(i.setHeaders).reduce((h,m)=>h.set(m,i.setHeaders[m]),c)),i.setParams&&(d=Object.keys(i.setParams).reduce((h,m)=>h.set(m,i.setParams[m]),d)),new t(e,n,s,{params:d,headers:c,context:u,reportProgress:l,responseType:r,withCredentials:o,transferCache:a})}},SM=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(SM||{}),DM=class{headers;status;statusText;url;ok;type;constructor(i,e=200,n="OK"){this.headers=i.headers||new qc,this.status=i.status!==void 0?i.status:e,this.statusText=i.statusText||n,this.url=i.url||null,this.ok=this.status>=200&&this.status<300}};var hm=class t extends DM{body;constructor(i={}){super(i),this.body=i.body!==void 0?i.body:null}type=SM.Response;clone(i={}){return new t({body:i.body!==void 0?i.body:this.body,headers:i.headers||this.headers,status:i.status!==void 0?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}};function _M(t,i){return{body:i,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var MM=(()=>{class t{handler;constructor(e){this.handler=e}request(e,n,r={}){let a;if(e instanceof um)a=e;else{let l;r.headers instanceof qc?l=r.headers:l=new qc(r.headers);let c;r.params&&(r.params instanceof Wl?c=r.params:c=new Wl({fromObject:r.params})),a=new um(e,n,r.body!==void 0?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let s=Ie(a).pipe(Pl(l=>this.handler.handle(l)));if(e instanceof um||r.observe==="events")return s;let o=s.pipe(It(l=>l instanceof hm));switch(r.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return o.pipe(Re(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new gt(2806,!1);return l.body}));case"blob":return o.pipe(Re(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new gt(2807,!1);return l.body}));case"text":return o.pipe(Re(l=>{if(l.body!==null&&typeof l.body!="string")throw new gt(2808,!1);return l.body}));case"json":default:return o.pipe(Re(l=>l.body))}case"response":return o;default:throw new gt(2809,!1)}}delete(e,n={}){return this.request("DELETE",e,n)}get(e,n={}){return this.request("GET",e,n)}head(e,n={}){return this.request("HEAD",e,n)}jsonp(e,n){return this.request("JSONP",e,{params:new Wl().append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,n={}){return this.request("OPTIONS",e,n)}patch(e,n,r={}){return this.request("PATCH",e,_M(r,n))}post(e,n,r={}){return this.request("POST",e,_M(r,n))}put(e,n,r={}){return this.request("PUT",e,_M(r,n))}static \u0275fac=function(n){return new(n||t)(Te(xM))};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})();var cP=new G("");var T_e=RegExp(`^${ZY}:`,"m");var QY=new G(""),XY="b",JY="h",e9="s",t9="st",i9="u",n9="rt",IM=new G(""),r9=["GET","HEAD"];function a9(t,i){let h=x(IM),{isCacheActive:e}=h,n=ci(h,["isCacheActive"]),{transferCache:r,method:a}=t;if(!e||r===!1||a==="POST"&&!n.includePostRequests&&!r||a!=="POST"&&!r9.includes(a)||!n.includeRequestsWithAuthHeaders&&s9(t)||n.filter?.(t)===!1)return i(t);let s=x($L);if(x(QY,{optional:!0}))throw new gt(2803,!1);let l=t.url,c=o9(t,l),d=s.get(c,null),u=n.includeHeaders;if(typeof r=="object"&&r.includeHeaders&&(u=r.includeHeaders),d){let{[XY]:m,[n9]:p,[JY]:g,[e9]:b,[t9]:v,[i9]:_}=d,w=m;switch(p){case"arraybuffer":w=new TextEncoder().encode(m).buffer;break;case"blob":w=new Blob([m]);break}let D=new qc(g);return Ie(new hm({body:w,headers:D,status:b,statusText:v,url:_}))}return i(t).pipe(Ki(m=>{m instanceof hm}))}function s9(t){return t.headers.has("authorization")||t.headers.has("proxy-authorization")}function dP(t){return[...t.keys()].sort().map(i=>`${i}=${t.getAll(i)}`).join("&")}function o9(t,i){let{params:e,method:n,responseType:r}=t,a=dP(e),s=t.serializeBody();s instanceof URLSearchParams?s=dP(s):typeof s!="string"&&(s="");let o=[n,r,i,s,a].join("|"),l=l9(o);return l}function l9(t){let i=0;for(let e of t)i=Math.imul(31,i)+e.charCodeAt(0)<<0;return i+=2147483648,i.toString()}function uP(t){return[{provide:IM,useFactory:()=>(fu("NgHttpTransferCache"),f({isCacheActive:!0},t))},{provide:cP,useValue:a9,multi:!0},{provide:D_,multi:!0,useFactory:()=>{let i=x($s),e=x(IM);return()=>{i.whenStable().then(()=>{e.isCacheActive=!1})}}}]}var hP=(()=>{class t{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(n){return new(n||t)(Te(Ue))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var AM=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:function(n){let r=null;return n?r=new(n||t):r=Te(u9),r},providedIn:"root"})}return t})(),u9=(()=>{class t extends AM{_doc;constructor(e){super(),this._doc=e}sanitize(e,n){if(n==null)return null;switch(e){case Ua.NONE:return n;case Ua.HTML:return lm(n,"HTML")?gu(n):eN(this._doc,String(n)).toString();case Ua.STYLE:return lm(n,"Style")?gu(n):n;case Ua.SCRIPT:if(lm(n,"Script"))return gu(n);throw new gt(5200,!1);case Ua.URL:return lm(n,"URL")?gu(n):JL(String(n));case Ua.RESOURCE_URL:if(lm(n,"ResourceURL"))return gu(n);throw new gt(5201,!1);default:throw new gt(5202,!1)}}bypassSecurityTrustHtml(e){return KL(e)}bypassSecurityTrustStyle(e){return qL(e)}bypassSecurityTrustScript(e){return ZL(e)}bypassSecurityTrustUrl(e){return QL(e)}bypassSecurityTrustResourceUrl(e){return XL(e)}static \u0275fac=function(n){return new(n||t)(Te(Ue))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),kM=function(t){return t[t.NoHttpTransferCache=0]="NoHttpTransferCache",t[t.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",t[t.I18nSupport=2]="I18nSupport",t[t.EventReplay=3]="EventReplay",t[t.IncrementalHydration=4]="IncrementalHydration",t}(kM||{});function mP(...t){let i=[],e=new Set;for(let{\u0275providers:r,\u0275kind:a}of t)e.add(a),r.length&&i.push(r);let n=e.has(kM.HttpTransferCacheOptions);return ms([[],bN(),e.has(kM.NoHttpTransferCache)||n?[]:uP({}),i])}var St="primary",Wg=Symbol("RouteTitle"),NM=class{params;constructor(i){this.params=i||{}}has(i){return Object.prototype.hasOwnProperty.call(this.params,i)}get(i){if(this.has(i)){let e=this.params[i];return Array.isArray(e)?e[0]:e}return null}getAll(i){if(this.has(i)){let e=this.params[i];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function xu(t){return new NM(t)}function xP(t,i,e){let n=e.path.split("/");if(n.length>t.length||e.pathMatch==="full"&&(i.hasChildren()||n.length<t.length))return null;let r={};for(let a=0;a<n.length;a++){let s=n[a],o=t[a];if(s[0]===":")r[s.substring(1)]=o;else if(s!==o.path)return null}return{consumed:t.slice(0,n.length),posParams:r}}function h9(t,i){if(t.length!==i.length)return!1;for(let e=0;e<t.length;++e)if(!Ko(t[e],i[e]))return!1;return!0}function Ko(t,i){let e=t?PM(t):void 0,n=i?PM(i):void 0;if(!e||!n||e.length!=n.length)return!1;let r;for(let a=0;a<e.length;a++)if(r=e[a],!CP(t[r],i[r]))return!1;return!0}function PM(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function CP(t,i){if(Array.isArray(t)&&Array.isArray(i)){if(t.length!==i.length)return!1;let e=[...t].sort(),n=[...i].sort();return e.every((r,a)=>n[a]===r)}else return t===i}function wP(t){return t.length>0?t[t.length-1]:null}function ed(t){return ug(t)?t:yg(t)?Vn(Promise.resolve(t)):Ie(t)}var m9={exact:SP,subset:MP},DP={exact:p9,subset:f9,ignored:()=>!0};function pP(t,i,e){return m9[e.paths](t.root,i.root,e.matrixParams)&&DP[e.queryParams](t.queryParams,i.queryParams)&&!(e.fragment==="exact"&&t.fragment!==i.fragment)}function p9(t,i){return Ko(t,i)}function SP(t,i,e){if(!vu(t.segments,i.segments)||!Z_(t.segments,i.segments,e)||t.numberOfChildren!==i.numberOfChildren)return!1;for(let n in i.children)if(!t.children[n]||!SP(t.children[n],i.children[n],e))return!1;return!0}function f9(t,i){return Object.keys(i).length<=Object.keys(t).length&&Object.keys(i).every(e=>CP(t[e],i[e]))}function MP(t,i,e){return IP(t,i,i.segments,e)}function IP(t,i,e,n){if(t.segments.length>e.length){let r=t.segments.slice(0,e.length);return!(!vu(r,e)||i.hasChildren()||!Z_(r,e,n))}else if(t.segments.length===e.length){if(!vu(t.segments,e)||!Z_(t.segments,e,n))return!1;for(let r in i.children)if(!t.children[r]||!MP(t.children[r],i.children[r],n))return!1;return!0}else{let r=e.slice(0,t.segments.length),a=e.slice(t.segments.length);return!vu(t.segments,r)||!Z_(t.segments,r,n)||!t.children[St]?!1:IP(t.children[St],i,a,n)}}function Z_(t,i,e){return i.every((n,r)=>DP[e](t[r].parameters,n.parameters))}var Zo=class{root;queryParams;fragment;_queryParamMap;constructor(i=new ui([],{}),e={},n=null){this.root=i,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap??=xu(this.queryParams),this._queryParamMap}toString(){return b9.serialize(this)}},ui=class{segments;children;parent=null;constructor(i,e){this.segments=i,this.children=e,Object.values(e).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Q_(this)}},Zc=class{path;parameters;_parameterMap;constructor(i,e){this.path=i,this.parameters=e}get parameterMap(){return this._parameterMap??=xu(this.parameters),this._parameterMap}toString(){return AP(this)}};function g9(t,i){return vu(t,i)&&t.every((e,n)=>Ko(e.parameters,i[n].parameters))}function vu(t,i){return t.length!==i.length?!1:t.every((e,n)=>e.path===i[n].path)}function y9(t,i){let e=[];return Object.entries(t.children).forEach(([n,r])=>{n===St&&(e=e.concat(i(r,n)))}),Object.entries(t.children).forEach(([n,r])=>{n!==St&&(e=e.concat(i(r,n)))}),e}var Cu=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:()=>new Qc,providedIn:"root"})}return t})(),Qc=class{parse(i){let e=new VM(i);return new Zo(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(i){let e=`/${Og(i.root,!0)}`,n=x9(i.queryParams),r=typeof i.fragment=="string"?`#${v9(i.fragment)}`:"";return`${e}${n}${r}`}},b9=new Qc;function Q_(t){return t.segments.map(i=>AP(i)).join("/")}function Og(t,i){if(!t.hasChildren())return Q_(t);if(i){let e=t.children[St]?Og(t.children[St],!1):"",n=[];return Object.entries(t.children).forEach(([r,a])=>{r!==St&&n.push(`${r}:${Og(a,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}else{let e=y9(t,(n,r)=>r===St?[Og(t.children[St],!1)]:[`${r}:${Og(n,!1)}`]);return Object.keys(t.children).length===1&&t.children[St]!=null?`${Q_(t)}/${e[0]}`:`${Q_(t)}/(${e.join("//")})`}}function kP(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function K_(t){return kP(t).replace(/%3B/gi,";")}function v9(t){return encodeURI(t)}function FM(t){return kP(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function X_(t){return decodeURIComponent(t)}function fP(t){return X_(t.replace(/\+/g,"%20"))}function AP(t){return`${FM(t.path)}${_9(t.parameters)}`}function _9(t){return Object.entries(t).map(([i,e])=>`;${FM(i)}=${FM(e)}`).join("")}function x9(t){let i=Object.entries(t).map(([e,n])=>Array.isArray(n)?n.map(r=>`${K_(e)}=${K_(r)}`).join("&"):`${K_(e)}=${K_(n)}`).filter(e=>e);return i.length?`?${i.join("&")}`:""}var C9=/^[^\/()?;#]+/;function TM(t){let i=t.match(C9);return i?i[0]:""}var w9=/^[^\/()?;=#]+/;function D9(t){let i=t.match(w9);return i?i[0]:""}var S9=/^[^=?&#]+/;function M9(t){let i=t.match(S9);return i?i[0]:""}var I9=/^[^&#]+/;function k9(t){let i=t.match(I9);return i?i[0]:""}var VM=class{url;remaining;constructor(i){this.url=i,this.remaining=i}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ui([],{}):new ui([],this.parseChildren())}parseQueryParams(){let i={};if(this.consumeOptional("?"))do this.parseQueryParam(i);while(this.consumeOptional("&"));return i}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let i=[];for(this.peekStartsWith("(")||i.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),i.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(i.length>0||Object.keys(e).length>0)&&(n[St]=new ui(i,e)),n}parseSegment(){let i=TM(this.remaining);if(i===""&&this.peekStartsWith(";"))throw new gt(4009,!1);return this.capture(i),new Zc(X_(i),this.parseMatrixParams())}parseMatrixParams(){let i={};for(;this.consumeOptional(";");)this.parseParam(i);return i}parseParam(i){let e=D9(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){let r=TM(this.remaining);r&&(n=r,this.capture(n))}i[X_(e)]=X_(n)}parseQueryParam(i){let e=M9(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){let s=k9(this.remaining);s&&(n=s,this.capture(n))}let r=fP(e),a=fP(n);if(i.hasOwnProperty(r)){let s=i[r];Array.isArray(s)||(s=[s],i[r]=s),s.push(a)}else i[r]=a}parseParens(i){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=TM(this.remaining),r=this.remaining[n.length];if(r!=="/"&&r!==")"&&r!==";")throw new gt(4010,!1);let a;n.indexOf(":")>-1?(a=n.slice(0,n.indexOf(":")),this.capture(a),this.capture(":")):i&&(a=St);let s=this.parseChildren();e[a]=Object.keys(s).length===1?s[St]:new ui([],s),this.consumeOptional("//")}return e}peekStartsWith(i){return this.remaining.startsWith(i)}consumeOptional(i){return this.peekStartsWith(i)?(this.remaining=this.remaining.substring(i.length),!0):!1}capture(i){if(!this.consumeOptional(i))throw new gt(4011,!1)}};function EP(t){return t.segments.length>0?new ui([],{[St]:t}):t}function TP(t){let i={};for(let[n,r]of Object.entries(t.children)){let a=TP(r);if(n===St&&a.segments.length===0&&a.hasChildren())for(let[s,o]of Object.entries(a.children))i[s]=o;else(a.segments.length>0||a.hasChildren())&&(i[n]=a)}let e=new ui(t.segments,i);return A9(e)}function A9(t){if(t.numberOfChildren===1&&t.children[St]){let i=t.children[St];return new ui(t.segments.concat(i.segments),i.children)}return t}function Xc(t){return t instanceof Zo}function RP(t,i,e=null,n=null){let r=OP(t);return LP(r,i,e,n)}function OP(t){let i;function e(a){let s={};for(let l of a.children){let c=e(l);s[l.outlet]=c}let o=new ui(a.url,s);return a===t&&(i=o),o}let n=e(t.root),r=EP(n);return i??r}function LP(t,i,e,n){let r=t;for(;r.parent;)r=r.parent;if(i.length===0)return RM(r,r,r,e,n);let a=E9(i);if(a.toRoot())return RM(r,r,new ui([],{}),e,n);let s=T9(a,r,t),o=s.processChildren?Ng(s.segmentGroup,s.index,a.commands):PP(s.segmentGroup,s.index,a.commands);return RM(r,s.segmentGroup,o,e,n)}function e0(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Fg(t){return typeof t=="object"&&t!=null&&t.outlets}function RM(t,i,e,n,r){let a={};n&&Object.entries(n).forEach(([l,c])=>{a[l]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`});let s;t===i?s=e:s=NP(t,i,e);let o=EP(TP(s));return new Zo(o,a,r)}function NP(t,i,e){let n={};return Object.entries(t.children).forEach(([r,a])=>{a===i?n[r]=e:n[r]=NP(a,i,e)}),new ui(t.segments,n)}var t0=class{isAbsolute;numberOfDoubleDots;commands;constructor(i,e,n){if(this.isAbsolute=i,this.numberOfDoubleDots=e,this.commands=n,i&&n.length>0&&e0(n[0]))throw new gt(4003,!1);let r=n.find(Fg);if(r&&r!==wP(n))throw new gt(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function E9(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new t0(!0,0,t);let i=0,e=!1,n=t.reduce((r,a,s)=>{if(typeof a=="object"&&a!=null){if(a.outlets){let o={};return Object.entries(a.outlets).forEach(([l,c])=>{o[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:o}]}if(a.segmentPath)return[...r,a.segmentPath]}return typeof a!="string"?[...r,a]:s===0?(a.split("/").forEach((o,l)=>{l==0&&o==="."||(l==0&&o===""?e=!0:o===".."?i++:o!=""&&r.push(o))}),r):[...r,a]},[]);return new t0(e,i,n)}var fm=class{segmentGroup;processChildren;index;constructor(i,e,n){this.segmentGroup=i,this.processChildren=e,this.index=n}};function T9(t,i,e){if(t.isAbsolute)return new fm(i,!0,0);if(!e)return new fm(i,!1,NaN);if(e.parent===null)return new fm(e,!0,0);let n=e0(t.commands[0])?0:1,r=e.segments.length-1+n;return R9(e,r,t.numberOfDoubleDots)}function R9(t,i,e){let n=t,r=i,a=e;for(;a>r;){if(a-=r,n=n.parent,!n)throw new gt(4005,!1);r=n.segments.length}return new fm(n,!1,r-a)}function O9(t){return Fg(t[0])?t[0].outlets:{[St]:t}}function PP(t,i,e){if(t??=new ui([],{}),t.segments.length===0&&t.hasChildren())return Ng(t,i,e);let n=L9(t,i,e),r=e.slice(n.commandIndex);if(n.match&&n.pathIndex<t.segments.length){let a=new ui(t.segments.slice(0,n.pathIndex),{});return a.children[St]=new ui(t.segments.slice(n.pathIndex),t.children),Ng(a,0,r)}else return n.match&&r.length===0?new ui(t.segments,{}):n.match&&!t.hasChildren()?BM(t,i,e):n.match?Ng(t,0,r):BM(t,i,e)}function Ng(t,i,e){if(e.length===0)return new ui(t.segments,{});{let n=O9(e),r={};if(Object.keys(n).some(a=>a!==St)&&t.children[St]&&t.numberOfChildren===1&&t.children[St].segments.length===0){let a=Ng(t.children[St],i,e);return new ui(t.segments,a.children)}return Object.entries(n).forEach(([a,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[a]=PP(t.children[a],i,s))}),Object.entries(t.children).forEach(([a,s])=>{n[a]===void 0&&(r[a]=s)}),new ui(t.segments,r)}}function L9(t,i,e){let n=0,r=i,a={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(n>=e.length)return a;let s=t.segments[r],o=e[n];if(Fg(o))break;let l=`${o}`,c=n<e.length-1?e[n+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!yP(l,c,s))return a;n+=2}else{if(!yP(l,{},s))return a;n++}r++}return{match:!0,pathIndex:r,commandIndex:n}}function BM(t,i,e){let n=t.segments.slice(0,i),r=0;for(;r<e.length;){let a=e[r];if(Fg(a)){let l=N9(a.outlets);return new ui(n,l)}if(r===0&&e0(e[0])){let l=t.segments[i];n.push(new Zc(l.path,gP(e[0]))),r++;continue}let s=Fg(a)?a.outlets[St]:`${a}`,o=r<e.length-1?e[r+1]:null;s&&o&&e0(o)?(n.push(new Zc(s,gP(o))),r+=2):(n.push(new Zc(s,{})),r++)}return new ui(n,{})}function N9(t){let i={};return Object.entries(t).forEach(([e,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(i[e]=BM(new ui([],{}),0,n))}),i}function gP(t){let i={};return Object.entries(t).forEach(([e,n])=>i[e]=`${n}`),i}function yP(t,i,e){return t==e.path&&Ko(i,e.parameters)}var J_="imperative",Un=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Un||{}),Ya=class{id;url;constructor(i,e){this.id=i,this.url=e}},Jc=class extends Ya{type=Un.NavigationStart;navigationTrigger;restoredState;constructor(i,e,n="imperative",r=null){super(i,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},fs=class extends Ya{urlAfterRedirects;type=Un.NavigationEnd;constructor(i,e,n){super(i,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Sa=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Sa||{}),ym=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(ym||{}),qo=class extends Ya{reason;code;type=Un.NavigationCancel;constructor(i,e,n,r){super(i,e),this.reason=n,this.code=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Qo=class extends Ya{reason;code;type=Un.NavigationSkipped;constructor(i,e,n,r){super(i,e),this.reason=n,this.code=r}},bm=class extends Ya{error;target;type=Un.NavigationError;constructor(i,e,n,r){super(i,e),this.error=n,this.target=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Vg=class extends Ya{urlAfterRedirects;state;type=Un.RoutesRecognized;constructor(i,e,n,r){super(i,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},i0=class extends Ya{urlAfterRedirects;state;type=Un.GuardsCheckStart;constructor(i,e,n,r){super(i,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},n0=class extends Ya{urlAfterRedirects;state;shouldActivate;type=Un.GuardsCheckEnd;constructor(i,e,n,r,a){super(i,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=a}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},r0=class extends Ya{urlAfterRedirects;state;type=Un.ResolveStart;constructor(i,e,n,r){super(i,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},a0=class extends Ya{urlAfterRedirects;state;type=Un.ResolveEnd;constructor(i,e,n,r){super(i,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},s0=class{route;type=Un.RouteConfigLoadStart;constructor(i){this.route=i}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},o0=class{route;type=Un.RouteConfigLoadEnd;constructor(i){this.route=i}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},l0=class{snapshot;type=Un.ChildActivationStart;constructor(i){this.snapshot=i}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},c0=class{snapshot;type=Un.ChildActivationEnd;constructor(i){this.snapshot=i}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},d0=class{snapshot;type=Un.ActivationStart;constructor(i){this.snapshot=i}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},u0=class{snapshot;type=Un.ActivationEnd;constructor(i){this.snapshot=i}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},vm=class{routerEvent;position;anchor;type=Un.Scroll;constructor(i,e,n){this.routerEvent=i,this.position=e,this.anchor=n}toString(){let i=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${i}')`}},Bg=class{},_m=class{url;navigationBehaviorOptions;constructor(i,e){this.url=i,this.navigationBehaviorOptions=e}};function P9(t,i){return t.providers&&!t._injector&&(t._injector=x_(t.providers,i,`Route: ${t.path}`)),t._injector??i}function Xs(t){return t.outlet||St}function F9(t,i){let e=t.filter(n=>Xs(n)===i);return e.push(...t.filter(n=>Xs(n)!==i)),e}function $g(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let i=t.parent;i;i=i.parent){let e=i.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var h0=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return $g(this.route?.snapshot)??this.rootInjector}constructor(i){this.rootInjector=i,this.children=new wu(this.rootInjector)}},wu=(()=>{class t{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,n){let r=this.getOrCreateContext(e);r.outlet=n,this.contexts.set(e,r)}onChildOutletDestroyed(e){let n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new h0(this.rootInjector),this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(n){return new(n||t)(Te(Xr))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),m0=class{_root;constructor(i){this._root=i}get root(){return this._root.value}parent(i){let e=this.pathFromRoot(i);return e.length>1?e[e.length-2]:null}children(i){let e=jM(i,this._root);return e?e.children.map(n=>n.value):[]}firstChild(i){let e=jM(i,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(i){let e=zM(i,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==i)}pathFromRoot(i){return zM(i,this._root).map(e=>e.value)}};function jM(t,i){if(t===i.value)return i;for(let e of i.children){let n=jM(t,e);if(n)return n}return null}function zM(t,i){if(t===i.value)return[i];for(let e of i.children){let n=zM(t,e);if(n.length)return n.unshift(i),n}return[]}var $a=class{value;children;constructor(i,e){this.value=i,this.children=e}toString(){return`TreeNode(${this.value})`}};function pm(t){let i={};return t&&t.children.forEach(e=>i[e.value.outlet]=e),i}var jg=class extends m0{snapshot;constructor(i,e){super(i),this.snapshot=e,qM(this,i)}toString(){return this.snapshot.toString()}};function FP(t){let i=V9(t),e=new Qi([new Zc("",{})]),n=new Qi({}),r=new Qi({}),a=new Qi({}),s=new Qi(""),o=new Js(e,n,a,s,r,St,t,i.root);return o.snapshot=i.root,new jg(new $a(o,[]),i)}function V9(t){let i={},e={},n={},r="",a=new _u([],i,n,r,e,St,t,null,{});return new zg("",new $a(a,[]))}var Js=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(i,e,n,r,a,s,o,l){this.urlSubject=i,this.paramsSubject=e,this.queryParamsSubject=n,this.fragmentSubject=r,this.dataSubject=a,this.outlet=s,this.component=o,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Re(c=>c[Wg]))??Ie(void 0),this.url=i,this.params=e,this.queryParams=n,this.fragment=r,this.data=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Re(i=>xu(i))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Re(i=>xu(i))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function p0(t,i,e="emptyOnly"){let n,{routeConfig:r}=t;return i!==null&&(e==="always"||r?.path===""||!i.component&&!i.routeConfig?.loadComponent)?n={params:f(f({},i.params),t.params),data:f(f({},i.data),t.data),resolve:f(f(f(f({},t.data),i.data),r?.data),t._resolvedData)}:n={params:f({},t.params),data:f({},t.data),resolve:f(f({},t.data),t._resolvedData??{})},r&&BP(r)&&(n.resolve[Wg]=r.title),n}var _u=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Wg]}constructor(i,e,n,r,a,s,o,l,c){this.url=i,this.params=e,this.queryParams=n,this.fragment=r,this.data=a,this.outlet=s,this.component=o,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=xu(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=xu(this.queryParams),this._queryParamMap}toString(){let i=this.url.map(n=>n.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${i}', path:'${e}')`}},zg=class extends m0{url;constructor(i,e){super(e),this.url=i,qM(this,e)}toString(){return VP(this._root)}};function qM(t,i){i.value._routerState=t,i.children.forEach(e=>qM(t,e))}function VP(t){let i=t.children.length>0?` { ${t.children.map(VP).join(", ")} } `:"";return`${t.value}${i}`}function OM(t){if(t.snapshot){let i=t.snapshot,e=t._futureSnapshot;t.snapshot=e,Ko(i.queryParams,e.queryParams)||t.queryParamsSubject.next(e.queryParams),i.fragment!==e.fragment&&t.fragmentSubject.next(e.fragment),Ko(i.params,e.params)||t.paramsSubject.next(e.params),h9(i.url,e.url)||t.urlSubject.next(e.url),Ko(i.data,e.data)||t.dataSubject.next(e.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function UM(t,i){let e=Ko(t.params,i.params)&&g9(t.url,i.url),n=!t.parent!=!i.parent;return e&&!n&&(!t.parent||UM(t.parent,i.parent))}function BP(t){return typeof t.title=="string"||t.title===null}var jP=new G(""),Yg=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=St;activateEvents=new ie;deactivateEvents=new ie;attachEvents=new ie;detachEvents=new ie;routerOutletData=rr(void 0);parentContexts=x(wu);location=x(vi);changeDetector=x(st);inputBinder=x(Kg,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:n,previousValue:r}=e.name;if(n)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new gt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new gt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new gt(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,n){this.activated=e,this._activatedRoute=n,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,n){if(this.isActivated)throw new gt(4013,!1);this._activatedRoute=e;let r=this.location,s=e.snapshot.component,o=this.parentContexts.getOrCreateContext(this.name).children,l=new HM(e,o,r.injector,this.routerOutletData);this.activated=r.createComponent(s,{index:r.length,injector:l,environmentInjector:n}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[_t]})}return t})(),HM=class{route;childContexts;parent;outletData;constructor(i,e,n,r){this.route=i,this.childContexts=e,this.parent=n,this.outletData=r}get(i,e){return i===Js?this.route:i===wu?this.childContexts:i===jP?this.outletData:this.parent.get(i,e)}},Kg=new G(""),ZM=(()=>{class t{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:n}=e,r=Uo([n.queryParams,n.params,n.data]).pipe(Xi(([a,s,o],l)=>(o=f(f(f({},a),s),o),l===0?Ie(o):Promise.resolve(o)))).subscribe(a=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==n||n.component===null){this.unsubscribeFromRouteData(e);return}let s=vN(n.component);if(!s){this.unsubscribeFromRouteData(e);return}for(let{templateName:o}of s.inputs)e.activatedComponentRef.setInput(o,a[o])});this.outletDataSubscriptions.set(e,r)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})(),QM=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Q({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(n,r){n&1&&ae(0,"router-outlet")},dependencies:[Yg],encapsulation:2})}return t})();function XM(t){let i=t.children&&t.children.map(XM),e=i?S(f({},t),{children:i}):f({},t);return!e.component&&!e.loadComponent&&(i||e.loadChildren)&&e.outlet&&e.outlet!==St&&(e.component=QM),e}function B9(t,i,e){let n=Ug(t,i._root,e?e._root:void 0);return new jg(n,i)}function Ug(t,i,e){if(e&&t.shouldReuseRoute(i.value,e.value.snapshot)){let n=e.value;n._futureSnapshot=i.value;let r=j9(t,i,e);return new $a(n,r)}else{if(t.shouldAttach(i.value)){let a=t.retrieve(i.value);if(a!==null){let s=a.route;return s.value._futureSnapshot=i.value,s.children=i.children.map(o=>Ug(t,o)),s}}let n=z9(i.value),r=i.children.map(a=>Ug(t,a));return new $a(n,r)}}function j9(t,i,e){return i.children.map(n=>{for(let r of e.children)if(t.shouldReuseRoute(n.value,r.value.snapshot))return Ug(t,n,r);return Ug(t,n)})}function z9(t){return new Js(new Qi(t.url),new Qi(t.params),new Qi(t.queryParams),new Qi(t.fragment),new Qi(t.data),t.outlet,t.component,t)}var xm=class{redirectTo;navigationBehaviorOptions;constructor(i,e){this.redirectTo=i,this.navigationBehaviorOptions=e}},zP="ngNavigationCancelingError";function f0(t,i){let{redirectTo:e,navigationBehaviorOptions:n}=Xc(i)?{redirectTo:i,navigationBehaviorOptions:void 0}:i,r=UP(!1,Sa.Redirect);return r.url=e,r.navigationBehaviorOptions=n,r}function UP(t,i){let e=new Error(`NavigationCancelingError: ${t||""}`);return e[zP]=!0,e.cancellationCode=i,e}function U9(t){return HP(t)&&Xc(t.url)}function HP(t){return!!t&&t[zP]}var H9=(t,i,e,n)=>Re(r=>(new GM(i,r.targetRouterState,r.currentRouterState,e,n).activate(t),r)),GM=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(i,e,n,r,a){this.routeReuseStrategy=i,this.futureState=e,this.currState=n,this.forwardEvent=r,this.inputBindingEnabled=a}activate(i){let e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,i),OM(this.futureState.root),this.activateChildRoutes(e,n,i)}deactivateChildRoutes(i,e,n){let r=pm(e);i.children.forEach(a=>{let s=a.value.outlet;this.deactivateRoutes(a,r[s],n),delete r[s]}),Object.values(r).forEach(a=>{this.deactivateRouteAndItsChildren(a,n)})}deactivateRoutes(i,e,n){let r=i.value,a=e?e.value:null;if(r===a)if(r.component){let s=n.getContext(r.outlet);s&&this.deactivateChildRoutes(i,e,s.children)}else this.deactivateChildRoutes(i,e,n);else a&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(i,e){i.value.component&&this.routeReuseStrategy.shouldDetach(i.value.snapshot)?this.detachAndStoreRouteSubtree(i,e):this.deactivateRouteAndOutlet(i,e)}detachAndStoreRouteSubtree(i,e){let n=e.getContext(i.value.outlet),r=n&&i.value.component?n.children:e,a=pm(i);for(let s of Object.values(a))this.deactivateRouteAndItsChildren(s,r);if(n&&n.outlet){let s=n.outlet.detach(),o=n.children.onOutletDeactivated();this.routeReuseStrategy.store(i.value.snapshot,{componentRef:s,route:i,contexts:o})}}deactivateRouteAndOutlet(i,e){let n=e.getContext(i.value.outlet),r=n&&i.value.component?n.children:e,a=pm(i);for(let s of Object.values(a))this.deactivateRouteAndItsChildren(s,r);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(i,e,n){let r=pm(e);i.children.forEach(a=>{this.activateRoutes(a,r[a.value.outlet],n),this.forwardEvent(new u0(a.value.snapshot))}),i.children.length&&this.forwardEvent(new c0(i.value.snapshot))}activateRoutes(i,e,n){let r=i.value,a=e?e.value:null;if(OM(r),r===a)if(r.component){let s=n.getOrCreateContext(r.outlet);this.activateChildRoutes(i,e,s.children)}else this.activateChildRoutes(i,e,n);else if(r.component){let s=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let o=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(o.contexts),s.attachRef=o.componentRef,s.route=o.route.value,s.outlet&&s.outlet.attach(o.componentRef,o.route.value),OM(o.route.value),this.activateChildRoutes(i,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(i,null,s.children)}else this.activateChildRoutes(i,null,n)}},g0=class{path;route;constructor(i){this.path=i,this.route=this.path[this.path.length-1]}},gm=class{component;route;constructor(i,e){this.component=i,this.route=e}};function G9(t,i,e){let n=t._root,r=i?i._root:null;return Lg(n,r,e,[n.value])}function W9(t){let i=t.routeConfig?t.routeConfig.canActivateChild:null;return!i||i.length===0?null:{node:t,guards:i}}function wm(t,i){let e=Symbol(),n=i.get(t,e);return n===e?typeof t=="function"&&!zL(t)?t:i.get(t):n}function Lg(t,i,e,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let a=pm(i);return t.children.forEach(s=>{$9(s,a[s.value.outlet],e,n.concat([s.value]),r),delete a[s.value.outlet]}),Object.entries(a).forEach(([s,o])=>Pg(o,e.getContext(s),r)),r}function $9(t,i,e,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let a=t.value,s=i?i.value:null,o=e?e.getContext(t.value.outlet):null;if(s&&a.routeConfig===s.routeConfig){let l=Y9(s,a,a.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new g0(n)):(a.data=s.data,a._resolvedData=s._resolvedData),a.component?Lg(t,i,o?o.children:null,n,r):Lg(t,i,e,n,r),l&&o&&o.outlet&&o.outlet.isActivated&&r.canDeactivateChecks.push(new gm(o.outlet.component,s))}else s&&Pg(i,o,r),r.canActivateChecks.push(new g0(n)),a.component?Lg(t,null,o?o.children:null,n,r):Lg(t,null,e,n,r);return r}function Y9(t,i,e){if(typeof e=="function")return e(t,i);switch(e){case"pathParamsChange":return!vu(t.url,i.url);case"pathParamsOrQueryParamsChange":return!vu(t.url,i.url)||!Ko(t.queryParams,i.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!UM(t,i)||!Ko(t.queryParams,i.queryParams);case"paramsChange":default:return!UM(t,i)}}function Pg(t,i,e){let n=pm(t),r=t.value;Object.entries(n).forEach(([a,s])=>{r.component?i?Pg(s,i.children.getContext(a),e):Pg(s,null,e):Pg(s,i,e)}),r.component?i&&i.outlet&&i.outlet.isActivated?e.canDeactivateChecks.push(new gm(i.outlet.component,r)):e.canDeactivateChecks.push(new gm(null,r)):e.canDeactivateChecks.push(new gm(null,r))}function qg(t){return typeof t=="function"}function K9(t){return typeof t=="boolean"}function q9(t){return t&&qg(t.canLoad)}function Z9(t){return t&&qg(t.canActivate)}function Q9(t){return t&&qg(t.canActivateChild)}function X9(t){return t&&qg(t.canDeactivate)}function J9(t){return t&&qg(t.canMatch)}function GP(t){return t instanceof NL||t?.name==="EmptyError"}var q_=Symbol("INITIAL_VALUE");function Cm(){return Xi(t=>Uo(t.map(i=>i.pipe(Yi(1),yi(q_)))).pipe(Re(i=>{for(let e of i)if(e!==!0){if(e===q_)return q_;if(e===!1||e7(e))return e}return!0}),It(i=>i!==q_),Yi(1)))}function e7(t){return Xc(t)||t instanceof xm}function t7(t,i){return ba(e=>{let{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:a,canDeactivateChecks:s}}=e;return s.length===0&&a.length===0?Ie(S(f({},e),{guardsResult:!0})):i7(s,n,r,t).pipe(ba(o=>o&&K9(o)?n7(n,a,t,i):Ie(o)),Re(o=>S(f({},e),{guardsResult:o})))})}function i7(t,i,e,n){return Vn(t).pipe(ba(r=>l7(r.component,r.route,e,i,n)),$c(r=>r!==!0,!0))}function n7(t,i,e,n){return Vn(i).pipe(Pl(r=>m_(a7(r.route.parent,n),r7(r.route,n),o7(t,r.path,e),s7(t,r.route,e))),$c(r=>r!==!0,!0))}function r7(t,i){return t!==null&&i&&i(new d0(t)),Ie(!0)}function a7(t,i){return t!==null&&i&&i(new l0(t)),Ie(!0)}function s7(t,i,e){let n=i.routeConfig?i.routeConfig.canActivate:null;if(!n||n.length===0)return Ie(!0);let r=n.map(a=>hs(()=>{let s=$g(i)??e,o=wm(a,s),l=Z9(o)?o.canActivate(i,t):Jr(s,()=>o(i,t));return ed(l).pipe($c())}));return Ie(r).pipe(Cm())}function o7(t,i,e){let n=i[i.length-1],a=i.slice(0,i.length-1).reverse().map(s=>W9(s)).filter(s=>s!==null).map(s=>hs(()=>{let o=s.guards.map(l=>{let c=$g(s.node)??e,d=wm(l,c),u=Q9(d)?d.canActivateChild(n,t):Jr(c,()=>d(n,t));return ed(u).pipe($c())});return Ie(o).pipe(Cm())}));return Ie(a).pipe(Cm())}function l7(t,i,e,n,r){let a=i&&i.routeConfig?i.routeConfig.canDeactivate:null;if(!a||a.length===0)return Ie(!0);let s=a.map(o=>{let l=$g(i)??r,c=wm(o,l),d=X9(c)?c.canDeactivate(t,i,e,n):Jr(l,()=>c(t,i,e,n));return ed(d).pipe($c())});return Ie(s).pipe(Cm())}function c7(t,i,e,n){let r=i.canLoad;if(r===void 0||r.length===0)return Ie(!0);let a=r.map(s=>{let o=wm(s,t),l=q9(o)?o.canLoad(i,e):Jr(t,()=>o(i,e));return ed(l)});return Ie(a).pipe(Cm(),WP(n))}function WP(t){return RL(Ki(i=>{if(typeof i!="boolean")throw f0(t,i)}),Re(i=>i===!0))}function d7(t,i,e,n){let r=i.canMatch;if(!r||r.length===0)return Ie(!0);let a=r.map(s=>{let o=wm(s,t),l=J9(o)?o.canMatch(i,e):Jr(t,()=>o(i,e));return ed(l)});return Ie(a).pipe(Cm(),WP(n))}var Hg=class{segmentGroup;constructor(i){this.segmentGroup=i||null}},Gg=class extends Error{urlTree;constructor(i){super(),this.urlTree=i}};function mm(t){return hu(new Hg(t))}function u7(t){return hu(new gt(4e3,!1))}function h7(t){return hu(UP(!1,Sa.GuardRejected))}var WM=class{urlSerializer;urlTree;constructor(i,e){this.urlSerializer=i,this.urlTree=e}lineralizeSegments(i,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),r.numberOfChildren===0)return Ie(n);if(r.numberOfChildren>1||!r.children[St])return u7(`${i.redirectTo}`);r=r.children[St]}}applyRedirectCommands(i,e,n,r,a){if(typeof e!="string"){let o=e,{queryParams:l,fragment:c,routeConfig:d,url:u,outlet:h,params:m,data:p,title:g}=r,b=Jr(a,()=>o({params:m,data:p,queryParams:l,fragment:c,routeConfig:d,url:u,outlet:h,title:g}));if(b instanceof Zo)throw new Gg(b);e=b}let s=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),i,n);if(e[0]==="/")throw new Gg(s);return s}applyRedirectCreateUrlTree(i,e,n,r){let a=this.createSegmentGroup(i,e.root,n,r);return new Zo(a,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(i,e){let n={};return Object.entries(i).forEach(([r,a])=>{if(typeof a=="string"&&a[0]===":"){let o=a.substring(1);n[r]=e[o]}else n[r]=a}),n}createSegmentGroup(i,e,n,r){let a=this.createSegments(i,e.segments,n,r),s={};return Object.entries(e.children).forEach(([o,l])=>{s[o]=this.createSegmentGroup(i,l,n,r)}),new ui(a,s)}createSegments(i,e,n,r){return e.map(a=>a.path[0]===":"?this.findPosParam(i,a,r):this.findOrReturn(a,n))}findPosParam(i,e,n){let r=n[e.path.substring(1)];if(!r)throw new gt(4001,!1);return r}findOrReturn(i,e){let n=0;for(let r of e){if(r.path===i.path)return e.splice(n),r;n++}return i}},$M={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function m7(t,i,e,n,r){let a=$P(t,i,e);return a.matched?(n=P9(i,n),d7(n,i,e,r).pipe(Re(s=>s===!0?a:f({},$M)))):Ie(a)}function $P(t,i,e){if(i.path==="**")return p7(e);if(i.path==="")return i.pathMatch==="full"&&(t.hasChildren()||e.length>0)?f({},$M):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let r=(i.matcher||xP)(e,t,i);if(!r)return f({},$M);let a={};Object.entries(r.posParams??{}).forEach(([o,l])=>{a[o]=l.path});let s=r.consumed.length>0?f(f({},a),r.consumed[r.consumed.length-1].parameters):a;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function p7(t){return{matched:!0,parameters:t.length>0?wP(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function bP(t,i,e,n){return e.length>0&&y7(t,e,n)?{segmentGroup:new ui(i,g7(n,new ui(e,t.children))),slicedSegments:[]}:e.length===0&&b7(t,e,n)?{segmentGroup:new ui(t.segments,f7(t,e,n,t.children)),slicedSegments:e}:{segmentGroup:new ui(t.segments,t.children),slicedSegments:e}}function f7(t,i,e,n){let r={};for(let a of e)if(b0(t,i,a)&&!n[Xs(a)]){let s=new ui([],{});r[Xs(a)]=s}return f(f({},n),r)}function g7(t,i){let e={};e[St]=i;for(let n of t)if(n.path===""&&Xs(n)!==St){let r=new ui([],{});e[Xs(n)]=r}return e}function y7(t,i,e){return e.some(n=>b0(t,i,n)&&Xs(n)!==St)}function b7(t,i,e){return e.some(n=>b0(t,i,n))}function b0(t,i,e){return(t.hasChildren()||i.length>0)&&e.pathMatch==="full"?!1:e.path===""}function v7(t,i,e){return i.length===0&&!t.children[e]}var YM=class{};function _7(t,i,e,n,r,a,s="emptyOnly"){return new KM(t,i,e,n,r,s,a).recognize()}var x7=31,KM=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(i,e,n,r,a,s,o){this.injector=i,this.configLoader=e,this.rootComponentType=n,this.config=r,this.urlTree=a,this.paramsInheritanceStrategy=s,this.urlSerializer=o,this.applyRedirects=new WM(this.urlSerializer,this.urlTree)}noMatchError(i){return new gt(4002,`'${i.segmentGroup}'`)}recognize(){let i=bP(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(i).pipe(Re(({children:e,rootSnapshot:n})=>{let r=new $a(n,e),a=new zg("",r),s=RP(n,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,a.url=this.urlSerializer.serialize(s),{state:a,tree:s}}))}match(i){let e=new _u([],Object.freeze({}),Object.freeze(f({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),St,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,i,St,e).pipe(Re(n=>({children:n,rootSnapshot:e})),za(n=>{if(n instanceof Gg)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof Hg?this.noMatchError(n):n}))}processSegmentGroup(i,e,n,r,a){return n.segments.length===0&&n.hasChildren()?this.processChildren(i,e,n,a):this.processSegment(i,e,n,n.segments,r,!0,a).pipe(Re(s=>s instanceof $a?[s]:[]))}processChildren(i,e,n,r){let a=[];for(let s of Object.keys(n.children))s==="primary"?a.unshift(s):a.push(s);return Vn(a).pipe(Pl(s=>{let o=n.children[s],l=F9(e,s);return this.processSegmentGroup(i,l,o,s,r)}),f_((s,o)=>(s.push(...o),s)),LS(null),VL(),ba(s=>{if(s===null)return mm(n);let o=YP(s);return C7(o),Ie(o)}))}processSegment(i,e,n,r,a,s,o){return Vn(e).pipe(Pl(l=>this.processSegmentAgainstRoute(l._injector??i,e,l,n,r,a,s,o).pipe(za(c=>{if(c instanceof Hg)return Ie(null);throw c}))),$c(l=>!!l),za(l=>{if(GP(l))return v7(n,r,a)?Ie(new YM):mm(n);throw l}))}processSegmentAgainstRoute(i,e,n,r,a,s,o,l){return Xs(n)!==s&&(s===St||!b0(r,a,n))?mm(r):n.redirectTo===void 0?this.matchSegmentAgainstRoute(i,r,n,a,s,l):this.allowRedirects&&o?this.expandSegmentAgainstRouteUsingRedirect(i,r,e,n,a,s,l):mm(r)}expandSegmentAgainstRouteUsingRedirect(i,e,n,r,a,s,o){let{matched:l,parameters:c,consumedSegments:d,positionalParamSegments:u,remainingSegments:h}=$P(e,r,a);if(!l)return mm(e);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>x7&&(this.allowRedirects=!1));let m=new _u(a,c,Object.freeze(f({},this.urlTree.queryParams)),this.urlTree.fragment,vP(r),Xs(r),r.component??r._loadedComponent??null,r,_P(r)),p=p0(m,o,this.paramsInheritanceStrategy);m.params=Object.freeze(p.params),m.data=Object.freeze(p.data);let g=this.applyRedirects.applyRedirectCommands(d,r.redirectTo,u,m,i);return this.applyRedirects.lineralizeSegments(r,g).pipe(ba(b=>this.processSegment(i,n,e,b.concat(h),s,!1,o)))}matchSegmentAgainstRoute(i,e,n,r,a,s){let o=m7(e,n,r,i,this.urlSerializer);return n.path==="**"&&(e.children={}),o.pipe(Xi(l=>l.matched?(i=n._injector??i,this.getChildConfig(i,n,r).pipe(Xi(({routes:c})=>{let d=n._loadedInjector??i,{parameters:u,consumedSegments:h,remainingSegments:m}=l,p=new _u(h,u,Object.freeze(f({},this.urlTree.queryParams)),this.urlTree.fragment,vP(n),Xs(n),n.component??n._loadedComponent??null,n,_P(n)),g=p0(p,s,this.paramsInheritanceStrategy);p.params=Object.freeze(g.params),p.data=Object.freeze(g.data);let{segmentGroup:b,slicedSegments:v}=bP(e,h,m,c);if(v.length===0&&b.hasChildren())return this.processChildren(d,c,b,p).pipe(Re(w=>new $a(p,w)));if(c.length===0&&v.length===0)return Ie(new $a(p,[]));let _=Xs(n)===a;return this.processSegment(d,c,b,v,_?St:a,!0,p).pipe(Re(w=>new $a(p,w instanceof $a?[w]:[])))}))):mm(e)))}getChildConfig(i,e,n){return e.children?Ie({routes:e.children,injector:i}):e.loadChildren?e._loadedRoutes!==void 0?Ie({routes:e._loadedRoutes,injector:e._loadedInjector}):c7(i,e,n,this.urlSerializer).pipe(ba(r=>r?this.configLoader.loadChildren(i,e).pipe(Ki(a=>{e._loadedRoutes=a.routes,e._loadedInjector=a.injector})):h7(e))):Ie({routes:[],injector:i})}};function C7(t){t.sort((i,e)=>i.value.outlet===St?-1:e.value.outlet===St?1:i.value.outlet.localeCompare(e.value.outlet))}function w7(t){let i=t.value.routeConfig;return i&&i.path===""}function YP(t){let i=[],e=new Set;for(let n of t){if(!w7(n)){i.push(n);continue}let r=i.find(a=>n.value.routeConfig===a.value.routeConfig);r!==void 0?(r.children.push(...n.children),e.add(r)):i.push(n)}for(let n of e){let r=YP(n.children);i.push(new $a(n.value,r))}return i.filter(n=>!e.has(n))}function vP(t){return t.data||{}}function _P(t){return t.resolve||{}}function D7(t,i,e,n,r,a){return ba(s=>_7(t,i,e,n,s.extractedUrl,r,a).pipe(Re(({state:o,tree:l})=>S(f({},s),{targetSnapshot:o,urlAfterRedirects:l}))))}function S7(t,i){return ba(e=>{let{targetSnapshot:n,guards:{canActivateChecks:r}}=e;if(!r.length)return Ie(e);let a=new Set(r.map(l=>l.route)),s=new Set;for(let l of a)if(!s.has(l))for(let c of KP(l))s.add(c);let o=0;return Vn(s).pipe(Pl(l=>a.has(l)?M7(l,n,t,i):(l.data=p0(l,l.parent,t).resolve,Ie(void 0))),Ki(()=>o++),NS(1),ba(l=>o===s.size?Ie(e):Qr))})}function KP(t){let i=t.children.map(e=>KP(e)).flat();return[t,...i]}function M7(t,i,e,n){let r=t.routeConfig,a=t._resolve;return r?.title!==void 0&&!BP(r)&&(a[Wg]=r.title),I7(a,t,i,n).pipe(Re(s=>(t._resolvedData=s,t.data=p0(t,t.parent,e).resolve,null)))}function I7(t,i,e,n){let r=PM(t);if(r.length===0)return Ie({});let a={};return Vn(r).pipe(ba(s=>k7(t[s],i,e,n).pipe($c(),Ki(o=>{if(o instanceof xm)throw f0(new Qc,o);a[s]=o}))),NS(1),Re(()=>a),za(s=>GP(s)?Qr:hu(s)))}function k7(t,i,e,n){let r=$g(i)??n,a=wm(t,r),s=a.resolve?a.resolve(i,e):Jr(r,()=>a(i,e));return ed(s)}function LM(t){return Xi(i=>{let e=t(i);return e?Vn(e).pipe(Re(()=>i)):Ie(i)})}var JM=(()=>{class t{buildTitle(e){let n,r=e.root;for(;r!==void 0;)n=this.getResolvedTitleForRoute(r)??n,r=r.children.find(a=>a.outlet===St);return n}getResolvedTitleForRoute(e){return e.data[Wg]}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:()=>x(qP),providedIn:"root"})}return t})(),qP=(()=>{class t extends JM{title;constructor(e){super(),this.title=e}updateTitle(e){let n=this.buildTitle(e);n!==void 0&&this.title.setTitle(n)}static \u0275fac=function(n){return new(n||t)(Te(hP))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Du=new G("",{providedIn:"root",factory:()=>({})}),Dm=new G(""),v0=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=x(mN);loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Ie(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let n=ed(e.loadComponent()).pipe(Re(QP),Ki(a=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=a}),mu(()=>{this.componentLoaders.delete(e)})),r=new dg(n,()=>new se).pipe(kS());return this.componentLoaders.set(e,r),r}loadChildren(e,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return Ie({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);let a=ZP(n,this.compiler,e,this.onLoadEndListener).pipe(mu(()=>{this.childrenLoaders.delete(n)})),s=new dg(a,()=>new se).pipe(kS());return this.childrenLoaders.set(n,s),s}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ZP(t,i,e,n){return ed(t.loadChildren()).pipe(Re(QP),ba(r=>r instanceof sN||Array.isArray(r)?Ie(r):Vn(i.compileModuleAsync(r))),Re(r=>{n&&n(t);let a,s,o=!1;return Array.isArray(r)?(s=r,o=!0):(a=r.create(e).injector,s=a.get(Dm,[],{optional:!0,self:!0}).flat()),{routes:s.map(XM),injector:a}}))}function A7(t){return t&&typeof t=="object"&&"default"in t}function QP(t){return A7(t)?t.default:t}var _0=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:()=>x(E7),providedIn:"root"})}return t})(),E7=(()=>{class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),eI=new G(""),tI=new G("");function XP(t,i,e){let n=t.get(tI),r=t.get(Ue);return t.get(we).runOutsideAngular(()=>{if(!r.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,new Promise(c=>setTimeout(c));let a,s=new Promise(c=>{a=c}),o=r.startViewTransition(()=>(a(),T7(t))),{onViewTransitionCreated:l}=n;return l&&Jr(t,()=>l({transition:o,from:i,to:e})),s})}function T7(t){return new Promise(i=>{dn({read:()=>setTimeout(i)},{injector:t})})}var iI=new G(""),x0=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new se;transitionAbortSubject=new se;configLoader=x(v0);environmentInjector=x(Xr);destroyRef=x(g_);urlSerializer=x(Cu);rootContexts=x(wu);location=x(Wo);inputBindingEnabled=x(Kg,{optional:!0})!==null;titleStrategy=x(JM);options=x(Du,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=x(_0);createViewTransition=x(eI,{optional:!0});navigationErrorHandler=x(iI,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Ie(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=r=>this.events.next(new s0(r)),n=r=>this.events.next(new o0(r));this.configLoader.onLoadEndListener=n,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let n=++this.navigationId;this.transitions?.next(S(f({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:n}))}setupNavigations(e){return this.transitions=new Qi(null),this.transitions.pipe(It(n=>n!==null),Xi(n=>{let r=!1,a=!1;return Ie(n).pipe(Xi(s=>{if(this.navigationId>n.id)return this.cancelNavigationTransition(n,"",Sa.SupersededByNewNavigation),Qr;this.currentTransition=n,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?S(f({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let o=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=s.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!o&&l!=="reload"){let c="";return this.events.next(new Qo(s.id,this.urlSerializer.serialize(s.rawUrl),c,ym.IgnoredSameUrlNavigation)),s.resolve(!1),Qr}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return Ie(s).pipe(Xi(c=>(this.events.next(new Jc(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?Qr:Promise.resolve(c))),D7(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),Ki(c=>{n.targetSnapshot=c.targetSnapshot,n.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation=S(f({},this.currentNavigation),{finalUrl:c.urlAfterRedirects});let d=new Vg(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}));if(o&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:c,extractedUrl:d,source:u,restoredState:h,extras:m}=s,p=new Jc(c,this.urlSerializer.serialize(d),u,h);this.events.next(p);let g=FP(this.rootComponentType).snapshot;return this.currentTransition=n=S(f({},s),{targetSnapshot:g,urlAfterRedirects:d,extras:S(f({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=d,Ie(n)}else{let c="";return this.events.next(new Qo(s.id,this.urlSerializer.serialize(s.extractedUrl),c,ym.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Qr}}),Ki(s=>{let o=new i0(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(o)}),Re(s=>(this.currentTransition=n=S(f({},s),{guards:G9(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),n)),t7(this.environmentInjector,s=>this.events.next(s)),Ki(s=>{if(n.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw f0(this.urlSerializer,s.guardsResult);let o=new n0(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(o)}),It(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Sa.GuardRejected),!1)),LM(s=>{if(s.guards.canActivateChecks.length!==0)return Ie(s).pipe(Ki(o=>{let l=new r0(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(l)}),Xi(o=>{let l=!1;return Ie(o).pipe(S7(this.paramsInheritanceStrategy,this.environmentInjector),Ki({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(o,"",Sa.NoDataFromResolver)}}))}),Ki(o=>{let l=new a0(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(l)}))}),LM(s=>{let o=l=>{let c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(Ki(d=>{l.component=d}),Re(()=>{})));for(let d of l.children)c.push(...o(d));return c};return Uo(o(s.targetSnapshot.root)).pipe(LS(null),Yi(1))}),LM(()=>this.afterPreactivation()),Xi(()=>{let{currentSnapshot:s,targetSnapshot:o}=n,l=this.createViewTransition?.(this.environmentInjector,s.root,o.root);return l?Vn(l).pipe(Re(()=>n)):Ie(n)}),Re(s=>{let o=B9(e.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=n=S(f({},s),{targetRouterState:o}),this.currentNavigation.targetRouterState=o,n}),Ki(()=>{this.events.next(new Bg)}),H9(this.rootContexts,e.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Yi(1),Ki({next:s=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new fs(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{r=!0}}),di(this.transitionAbortSubject.pipe(Ki(s=>{throw s}))),mu(()=>{!r&&!a&&this.cancelNavigationTransition(n,"",Sa.SupersededByNewNavigation),this.currentTransition?.id===n.id&&(this.currentNavigation=null,this.currentTransition=null)}),za(s=>{if(this.destroyed)return n.resolve(!1),Qr;if(a=!0,HP(s))this.events.next(new qo(n.id,this.urlSerializer.serialize(n.extractedUrl),s.message,s.cancellationCode)),U9(s)?this.events.next(new _m(s.url,s.navigationBehaviorOptions)):n.resolve(!1);else{let o=new bm(n.id,this.urlSerializer.serialize(n.extractedUrl),s,n.targetSnapshot??void 0);try{let l=Jr(this.environmentInjector,()=>this.navigationErrorHandler?.(o));if(l instanceof xm){let{message:c,cancellationCode:d}=f0(this.urlSerializer,l);this.events.next(new qo(n.id,this.urlSerializer.serialize(n.extractedUrl),c,d)),this.events.next(new _m(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(o),s}catch(l){this.options.resolveNavigationPromiseOnError?n.resolve(!1):n.reject(l)}}return Qr}))}))}cancelNavigationTransition(e,n,r){let a=new qo(e.id,this.urlSerializer.serialize(e.extractedUrl),n,r);this.events.next(a),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),n=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==n?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function R7(t){return t!==J_}var JP=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:()=>x(O7),providedIn:"root"})}return t})(),y0=class{shouldDetach(i){return!1}store(i,e){}shouldAttach(i){return!1}retrieve(i){return null}shouldReuseRoute(i,e){return i.routeConfig===e.routeConfig}},O7=(()=>{class t extends y0{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Dt(t)))(r||t)}})();static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),e2=(()=>{class t{urlSerializer=x(Cu);options=x(Du,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=x(Wo);urlHandlingStrategy=x(_0);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Zo;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:e,initialUrl:n,targetBrowserUrl:r}){let a=e!==void 0?this.urlHandlingStrategy.merge(e,n):n,s=r??a;return s instanceof Zo?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:e,finalUrl:n,initialUrl:r}){n&&e?(this.currentUrlTree=n,this.rawUrlTree=this.urlHandlingStrategy.merge(n,r),this.routerState=e):this.rawUrlTree=r}routerState=FP(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:e}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e??this.rawUrlTree)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:()=>x(L7),providedIn:"root"})}return t})(),L7=(()=>{class t extends e2{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(n=>{n.type==="popstate"&&setTimeout(()=>{e(n.url,n.state,"popstate")})})}handleRouterEvent(e,n){e instanceof Jc?this.updateStateMemento():e instanceof Qo?this.commitTransition(n):e instanceof Vg?this.urlUpdateStrategy==="eager"&&(n.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(n),n)):e instanceof Bg?(this.commitTransition(n),this.urlUpdateStrategy==="deferred"&&!n.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(n),n)):e instanceof qo&&(e.code===Sa.GuardRejected||e.code===Sa.NoDataFromResolver)?this.restoreHistory(n):e instanceof bm?this.restoreHistory(n,!0):e instanceof fs&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,{extras:n,id:r}){let{replaceUrl:a,state:s}=n;if(this.location.isCurrentPathEqualTo(e)||a){let o=this.browserPageId,l=f(f({},s),this.generateNgRouterState(r,o));this.location.replaceState(e,"",l)}else{let o=f(f({},s),this.generateNgRouterState(r,this.browserPageId+1));this.location.go(e,"",o)}}restoreHistory(e,n=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,a=this.currentPageId-r;a!==0?this.location.historyGo(a):this.getCurrentUrlTree()===e.finalUrl&&a===0&&(this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(n&&this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,n){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:n}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Dt(t)))(r||t)}})();static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function C0(t,i){t.events.pipe(It(e=>e instanceof fs||e instanceof qo||e instanceof bm||e instanceof Qo),Re(e=>e instanceof fs||e instanceof Qo?0:(e instanceof qo?e.code===Sa.Redirect||e.code===Sa.SupersededByNewNavigation:!1)?2:1),It(e=>e!==2),Yi(1)).subscribe(()=>{i()})}var N7={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},P7={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},na=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=x(HS);stateManager=x(e2);options=x(Du,{optional:!0})||{};pendingTasks=x(zS);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=x(x0);urlSerializer=x(Cu);location=x(Wo);urlHandlingStrategy=x(_0);_events=new se;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=x(JP);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=x(Dm,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!x(Kg,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new xt;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(n=>{try{let r=this.navigationTransitions.currentTransition,a=this.navigationTransitions.currentNavigation;if(r!==null&&a!==null){if(this.stateManager.handleRouterEvent(n,a),n instanceof qo&&n.code!==Sa.Redirect&&n.code!==Sa.SupersededByNewNavigation)this.navigated=!0;else if(n instanceof fs)this.navigated=!0;else if(n instanceof _m){let s=n.navigationBehaviorOptions,o=this.urlHandlingStrategy.merge(n.url,r.currentRawUrl),l=f({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||R7(r.source)},s);this.scheduleNavigation(o,J_,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}V7(n)&&this._events.next(n)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),J_,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,n,r)=>{this.navigateToSyncWithBrowser(e,r,n)})}navigateToSyncWithBrowser(e,n,r){let a={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let l=f({},r);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(a.state=l)}let o=this.parseUrl(e);this.scheduleNavigation(o,n,s,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(XM),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,n={}){let{relativeTo:r,queryParams:a,fragment:s,queryParamsHandling:o,preserveFragment:l}=n,c=l?this.currentUrlTree.fragment:s,d=null;switch(o??this.options.defaultQueryParamsHandling){case"merge":d=f(f({},this.currentUrlTree.queryParams),a);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=a||null}d!==null&&(d=this.removeEmptyProps(d));let u;try{let h=r?r.snapshot:this.routerState.snapshot.root;u=OP(h)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),u=this.currentUrlTree.root}return LP(u,e,d,c??null)}navigateByUrl(e,n={skipLocationChange:!1}){let r=Xc(e)?e:this.parseUrl(e),a=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(a,J_,null,n)}navigate(e,n={skipLocationChange:!1}){return F7(e),this.navigateByUrl(this.createUrlTree(e,n),n)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,n){let r;if(n===!0?r=f({},N7):n===!1?r=f({},P7):r=n,Xc(e))return pP(this.currentUrlTree,e,r);let a=this.parseUrl(e);return pP(this.currentUrlTree,a,r)}removeEmptyProps(e){return Object.entries(e).reduce((n,[r,a])=>(a!=null&&(n[r]=a),n),{})}scheduleNavigation(e,n,r,a,s){if(this.disposed)return Promise.resolve(!1);let o,l,c;s?(o=s.resolve,l=s.reject,c=s.promise):c=new Promise((u,h)=>{o=u,l=h});let d=this.pendingTasks.add();return C0(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:n,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:a,resolve:o,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(u=>Promise.reject(u))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function F7(t){for(let i=0;i<t.length;i++)if(t[i]==null)throw new gt(4008,!1)}function V7(t){return!(t instanceof Bg)&&!(t instanceof _m)}var w0=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new se;constructor(e,n,r,a,s,o){this.router=e,this.route=n,this.tabIndexAttribute=r,this.renderer=a,this.el=s,this.locationStrategy=o;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=e.events.subscribe(c=>{c instanceof fs&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Xc(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,n,r,a,s){let o=this.urlTree;if(o===null||this.isAnchorElement&&(e!==0||n||r||a||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(o,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let n=this.href===null?null:tN(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(e,n){let r=this.renderer,a=this.el.nativeElement;n!==null?r.setAttribute(a,e,n):r.removeAttribute(a,e)}get urlTree(){return this.routerLinkInput===null?null:Xc(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(n){return new(n||t)(J(na),J(Js),jS("tabindex"),J(Qt),J(ge),J(qs))};static \u0275dir=Y({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,r){n&1&&X("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),n&2&&Ee("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",re],skipLocationChange:[2,"skipLocationChange","skipLocationChange",re],replaceUrl:[2,"replaceUrl","replaceUrl",re],routerLink:"routerLink"},features:[_t]})}return t})();var Zg=class{};var t2=(()=>{class t{router;injector;preloadingStrategy;loader;subscription;constructor(e,n,r,a){this.router=e,this.injector=n,this.preloadingStrategy=r,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(It(e=>e instanceof fs),Pl(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,n){let r=[];for(let a of n){a.providers&&!a._injector&&(a._injector=x_(a.providers,e,`Route: ${a.path}`));let s=a._injector??e,o=a._loadedInjector??s;(a.loadChildren&&!a._loadedRoutes&&a.canLoad===void 0||a.loadComponent&&!a._loadedComponent)&&r.push(this.preloadConfig(s,a)),(a.children||a._loadedRoutes)&&r.push(this.processRoutes(o,a.children??a._loadedRoutes))}return Vn(r).pipe(RS())}preloadConfig(e,n){return this.preloadingStrategy.preload(n,()=>{let r;n.loadChildren&&n.canLoad===void 0?r=this.loader.loadChildren(e,n):r=Ie(null);let a=r.pipe(ba(s=>s===null?Ie(void 0):(n._loadedRoutes=s.routes,n._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));if(n.loadComponent&&!n._loadedComponent){let s=this.loader.loadComponent(n);return Vn([a,s]).pipe(RS())}else return a})}static \u0275fac=function(n){return new(n||t)(Te(na),Te(Xr),Te(Zg),Te(v0))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),i2=new G(""),B7=(()=>{class t{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(e,n,r,a,s={}){this.urlSerializer=e,this.transitions=n,this.viewportScroller=r,this.zone=a,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Jc?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof fs?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof Qo&&e.code===ym.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof vm&&(e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,n){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new vm(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,n))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(n){cm()};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})();function j7(t){return t.routerState.root}function Qg(t,i){return{\u0275kind:t,\u0275providers:i}}function z7(){let t=x(Qe);return i=>{let e=t.get($s);if(i!==e.components[0])return;let n=t.get(na),r=t.get(n2);t.get(rI)===1&&n.initialNavigation(),t.get(s2,null,VS.Optional)?.setUpPreloading(),t.get(i2,null,VS.Optional)?.init(),n.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var n2=new G("",{factory:()=>new se}),rI=new G("",{providedIn:"root",factory:()=>1});function r2(){let t=[{provide:rI,useValue:0},WS(()=>{let i=x(Qe);return i.get(QS,Promise.resolve()).then(()=>new Promise(n=>{let r=i.get(na),a=i.get(n2);C0(r,()=>{n(!0)}),i.get(x0).afterPreactivation=()=>(n(!0),a.closed?Ie(void 0):a),r.initialNavigation()}))})];return Qg(2,t)}function a2(){let t=[WS(()=>{x(na).setUpLocationChangeListener()}),{provide:rI,useValue:2}];return Qg(3,t)}var s2=new G("");function o2(t){return Qg(0,[{provide:s2,useExisting:t2},{provide:Zg,useExisting:t}])}function l2(){return Qg(8,[ZM,{provide:Kg,useExisting:ZM}])}function c2(t){fu("NgRouterViewTransitions");let i=[{provide:eI,useValue:XP},{provide:tI,useValue:f({skipNextTransition:!!t?.skipInitialTransition},t)}];return Qg(9,i)}var d2=[Wo,{provide:Cu,useClass:Qc},na,wu,{provide:Js,useFactory:j7,deps:[na]},v0,[]],D0=(()=>{class t{constructor(){}static forRoot(e,n){return{ngModule:t,providers:[d2,[],{provide:Dm,multi:!0,useValue:e},[],n?.errorHandler?{provide:iI,useValue:n.errorHandler}:[],{provide:Du,useValue:n||{}},n?.useHash?H7():G7(),U7(),n?.preloadingStrategy?o2(n.preloadingStrategy).\u0275providers:[],n?.initialNavigation?W7(n):[],n?.bindToComponentInputs?l2().\u0275providers:[],n?.enableViewTransitions?c2().\u0275providers:[],$7()]}}static forChild(e){return{ngModule:t,providers:[{provide:Dm,multi:!0,useValue:e}]}}static \u0275fac=function(n){return new(n||t)};static \u0275mod=Se({type:t});static \u0275inj=De({})}return t})();function U7(){return{provide:i2,useFactory:()=>{let t=x(KN),i=x(we),e=x(Du),n=x(x0),r=x(Cu);return e.scrollOffset&&t.setOffset(e.scrollOffset),new B7(r,n,t,i,e)}}}function H7(){return{provide:qs,useClass:rM}}function G7(){return{provide:qs,useClass:E_}}function W7(t){return[t.initialNavigation==="disabled"?a2().\u0275providers:[],t.initialNavigation==="enabledBlocking"?r2().\u0275providers:[]]}var nI=new G("");function $7(){return[{provide:nI,useFactory:z7},{provide:D_,multi:!0,useExisting:nI}]}var sI;try{sI=typeof Intl<"u"&&Intl.v8BreakIterator}catch{sI=!1}var Pt=(()=>{class t{_platformId=x(Ho);isBrowser=this._platformId?dM(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||sI)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Sm(t){return Array.isArray(t)?t:[t]}var u2=new Set,Su,m2=(()=>{class t{_platform=x(Pt);_nonce=x(fg,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):K7}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&Y7(e,this._nonce),this._matchMedia(e)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Y7(t,i){if(!u2.has(t))try{Su||(Su=document.createElement("style"),i&&Su.setAttribute("nonce",i),Su.setAttribute("type","text/css"),document.head.appendChild(Su)),Su.sheet&&(Su.sheet.insertRule(`@media ${t} {body{ }}`,0),u2.add(t))}catch(e){console.error(e)}}function K7(t){return{matches:t==="all"||t==="",media:t,addListener:()=>{},removeListener:()=>{}}}var eo=(()=>{class t{_mediaMatcher=x(m2);_zone=x(we);_queries=new Map;_destroySubject=new se;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return h2(Sm(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let r=h2(Sm(e)).map(s=>this._registerQuery(s).observable),a=Uo(r);return a=m_(a.pipe(Yi(1)),a.pipe(om(1),Wc(0))),a.pipe(Re(s=>{let o={matches:!1,breakpoints:{}};return s.forEach(({matches:l,query:c})=>{o.matches=o.matches||l,o.breakpoints[c]=l}),o}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);let n=this._mediaMatcher.matchMedia(e),a={observable:new nr(s=>{let o=l=>this._zone.run(()=>s.next(l));return n.addListener(o),()=>{n.removeListener(o)}}).pipe(yi(n),Re(({matches:s})=>({query:e,matches:s})),di(this._destroySubject)),mql:n};return this._queries.set(e,a),a}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function h2(t){return t.map(i=>i.split(",")).reduce((i,e)=>i.concat(e)).map(i=>i.trim())}var $l={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};var Xg=class{};function Jg(t){return t&&typeof t.connect=="function"&&!(t instanceof dg)}var td=function(t){return t[t.REPLACED=0]="REPLACED",t[t.INSERTED=1]="INSERTED",t[t.MOVED=2]="MOVED",t[t.REMOVED=3]="REMOVED",t}(td||{}),Mm=new G("_ViewRepeater");var Mu=class{applyChanges(i,e,n,r,a){i.forEachOperation((s,o,l)=>{let c,d;if(s.previousIndex==null){let u=n(s,o,l);c=e.createEmbeddedView(u.templateRef,u.context,u.index),d=td.INSERTED}else l==null?(e.remove(o),d=td.REMOVED):(c=e.get(o),e.move(c,l),d=td.MOVED);a&&a({context:c?.context,operation:d,record:s})})}detach(){}};var q7=new G("cdk-dir-doc",{providedIn:"root",factory:Z7});function Z7(){return x(Ue)}var Q7=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function p2(t){let i=t?.toLowerCase()||"";return i==="auto"&&typeof navigator<"u"&&navigator?.language?Q7.test(navigator.language)?"rtl":"ltr":i==="rtl"?"rtl":"ltr"}var Ei=(()=>{class t{value="ltr";change=new ie;constructor(){let e=x(q7,{optional:!0});if(e){let n=e.body?e.body.dir:null,r=e.documentElement?e.documentElement.dir:null;this.value=p2(n||r||"ltr")}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Xo(t,i=0){return M0(t)?Number(t):arguments.length===2?i:0}function M0(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}function ra(t){return t instanceof ge?t.nativeElement:t}var to=function(t){return t[t.NORMAL=0]="NORMAL",t[t.NEGATED=1]="NEGATED",t[t.INVERTED=2]="INVERTED",t}(to||{}),I0,Iu;function k0(){if(Iu==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return Iu=!1,Iu;if("scrollBehavior"in document.documentElement.style)Iu=!0;else{let t=Element.prototype.scrollTo;t?Iu=!/\{\s*\[native code\]\s*\}/.test(t.toString()):Iu=!1}}return Iu}function Im(){if(typeof document!="object"||!document)return to.NORMAL;if(I0==null){let t=document.createElement("div"),i=t.style;t.dir="rtl",i.width="1px",i.overflow="auto",i.visibility="hidden",i.pointerEvents="none",i.position="absolute";let e=document.createElement("div"),n=e.style;n.width="2px",n.height="1px",t.appendChild(e),document.body.appendChild(t),I0=to.NORMAL,t.scrollLeft===0&&(t.scrollLeft=1,I0=t.scrollLeft===0?to.NEGATED:to.INVERTED),t.remove()}return I0}var id=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Se({type:t});static \u0275inj=De({})}return t})();var X7=20,oI=(()=>{class t{_ngZone=x(we);_platform=x(Pt);_renderer=x(pr).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new se;_scrolledCount=0;scrollContainers=new Map;register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){let n=this.scrollContainers.get(e);n&&(n.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=X7){return this._platform.isBrowser?new nr(n=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let r=e>0?this._scrolled.pipe(OS(e)).subscribe(n):this._scrolled.subscribe(n);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):Ie()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((e,n)=>this.deregister(n)),this._scrolled.complete()}ancestorScrolled(e,n){let r=this.getAncestorScrollContainers(e);return this.scrolled(n).pipe(It(a=>!a||r.indexOf(a)>-1))}getAncestorScrollContainers(e){let n=[];return this.scrollContainers.forEach((r,a)=>{this._scrollableContainsElement(a,e)&&n.push(a)}),n}_scrollableContainsElement(e,n){let r=ra(n),a=e.getElementRef().nativeElement;do if(r==a)return!0;while(r=r.parentElement);return!1}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),A0=(()=>{class t{elementRef=x(ge);scrollDispatcher=x(oI);ngZone=x(we);dir=x(Ei,{optional:!0});_scrollElement=this.elementRef.nativeElement;_destroyed=new se;_renderer=x(Qt);_cleanupScroll;_elementScrolled=new se;constructor(){}ngOnInit(){this._cleanupScroll=this.ngZone.runOutsideAngular(()=>this._renderer.listen(this._scrollElement,"scroll",e=>this._elementScrolled.next(e))),this.scrollDispatcher.register(this)}ngOnDestroy(){this._cleanupScroll?.(),this._elementScrolled.complete(),this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){let n=this.elementRef.nativeElement,r=this.dir&&this.dir.value=="rtl";e.left==null&&(e.left=r?e.end:e.start),e.right==null&&(e.right=r?e.start:e.end),e.bottom!=null&&(e.top=n.scrollHeight-n.clientHeight-e.bottom),r&&Im()!=to.NORMAL?(e.left!=null&&(e.right=n.scrollWidth-n.clientWidth-e.left),Im()==to.INVERTED?e.left=e.right:Im()==to.NEGATED&&(e.left=e.right?-e.right:e.right)):e.right!=null&&(e.left=n.scrollWidth-n.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){let n=this.elementRef.nativeElement;k0()?n.scrollTo(e):(e.top!=null&&(n.scrollTop=e.top),e.left!=null&&(n.scrollLeft=e.left))}measureScrollOffset(e){let n="left",r="right",a=this.elementRef.nativeElement;if(e=="top")return a.scrollTop;if(e=="bottom")return a.scrollHeight-a.clientHeight-a.scrollTop;let s=this.dir&&this.dir.value=="rtl";return e=="start"?e=s?r:n:e=="end"&&(e=s?n:r),s&&Im()==to.INVERTED?e==n?a.scrollWidth-a.clientWidth-a.scrollLeft:a.scrollLeft:s&&Im()==to.NEGATED?e==n?a.scrollLeft+a.scrollWidth-a.clientWidth:-a.scrollLeft:e==n?a.scrollLeft:a.scrollWidth-a.clientWidth-a.scrollLeft}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]})}return t})(),J7=20,Yl=(()=>{class t{_platform=x(Pt);_listeners;_viewportSize;_change=new se;_document=x(Ue,{optional:!0});constructor(){let e=x(we),n=x(pr).createRenderer(null,null);e.runOutsideAngular(()=>{if(this._platform.isBrowser){let r=a=>this._change.next(a);this._listeners=[n.listen("window","resize",r),n.listen("window","orientationchange",r)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(e=>e()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){let e=this.getViewportScrollPosition(),{width:n,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+n,height:r,width:n}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let e=this._document,n=this._getWindow(),r=e.documentElement,a=r.getBoundingClientRect(),s=-a.top||e.body.scrollTop||n.scrollY||r.scrollTop||0,o=-a.left||e.body.scrollLeft||n.scrollX||r.scrollLeft||0;return{top:s,left:o}}change(e=J7){return e>0?this._change.pipe(OS(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Jo=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Se({type:t});static \u0275inj=De({})}return t})(),ey=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Se({type:t});static \u0275inj=De({imports:[id,Jo,id,Jo]})}return t})();function Ka(t){return t!=null&&`${t}`!="false"}var tK=[[["caption"]],[["colgroup"],["col"]],"*"],iK=["caption","colgroup, col","*"];function nK(t,i){t&1&&ke(0,2)}function rK(t,i){t&1&&(M(0,"thead",0),_a(1,1),k(),M(2,"tbody",0),_a(3,2)(4,3),k(),M(5,"tfoot",0),_a(6,4),k())}function aK(t,i){t&1&&_a(0,1)(1,2)(2,3)(3,4)}var io=new G("CDK_TABLE");var N0=(()=>{class t{template=x(bi);constructor(){}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["","cdkCellDef",""]]})}return t})(),P0=(()=>{class t{template=x(bi);constructor(){}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["","cdkHeaderCellDef",""]]})}return t})(),b2=(()=>{class t{template=x(bi);constructor(){}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["","cdkFooterCellDef",""]]})}return t})(),km=(()=>{class t{_table=x(io,{optional:!0});_hasStickyChanged=!1;get name(){return this._name}set name(e){this._setNameInput(e)}_name;get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}_sticky=!1;get stickyEnd(){return this._stickyEnd}set stickyEnd(e){e!==this._stickyEnd&&(this._stickyEnd=e,this._hasStickyChanged=!0)}_stickyEnd=!1;cell;headerCell;footerCell;cssClassFriendlyName;_columnCssClassName;constructor(){}hasStickyChanged(){let e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["","cdkColumnDef",""]],contentQueries:function(n,r,a){if(n&1&&(Et(a,N0,5),Et(a,P0,5),Et(a,b2,5)),n&2){let s;be(s=ve())&&(r.cell=s.first),be(s=ve())&&(r.headerCell=s.first),be(s=ve())&&(r.footerCell=s.first)}},inputs:{name:[0,"cdkColumnDef","name"],sticky:[2,"sticky","sticky",re],stickyEnd:[2,"stickyEnd","stickyEnd",re]},features:[Ye([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:t}])]})}return t})(),T0=class{constructor(i,e){e.nativeElement.classList.add(...i._columnCssClassName)}},v2=(()=>{class t extends T0{constructor(){super(x(km),x(ge))}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[Ve]})}return t})();var _2=(()=>{class t extends T0{constructor(){let e=x(km),n=x(ge);super(e,n);let r=e._table?._getCellRole();r&&n.nativeElement.setAttribute("role",r)}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[Ve]})}return t})(),R0=class{tasks=[];endTasks=[]},O0=new G("_COALESCED_STYLE_SCHEDULER"),cI=(()=>{class t{_currentSchedule=null;_ngZone=x(we);constructor(){}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new R0,this._ngZone.runOutsideAngular(()=>queueMicrotask(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){let e=this._currentSchedule;this._currentSchedule=new R0;for(let n of e.tasks)n();for(let n of e.endTasks)n()}this._currentSchedule=null})))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})();var dI=(()=>{class t{template=x(bi);_differs=x(zl);columns;_columnsDiffer;constructor(){}ngOnChanges(e){if(!this._columnsDiffer){let n=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(n).create(),this._columnsDiffer.diff(n)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof ty?e.headerCell.template:this instanceof uI?e.footerCell.template:e.cell.template}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,features:[_t]})}return t})(),ty=(()=>{class t extends dI{_table=x(io,{optional:!0});_hasStickyChanged=!1;get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}_sticky=!1;constructor(){super(x(bi),x(zl))}ngOnChanges(e){super.ngOnChanges(e)}hasStickyChanged(){let e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:[0,"cdkHeaderRowDef","columns"],sticky:[2,"cdkHeaderRowDefSticky","sticky",re]},features:[Ve,_t]})}return t})(),uI=(()=>{class t extends dI{_table=x(io,{optional:!0});_hasStickyChanged=!1;get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}_sticky=!1;constructor(){super(x(bi),x(zl))}ngOnChanges(e){super.ngOnChanges(e)}hasStickyChanged(){let e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:[0,"cdkFooterRowDef","columns"],sticky:[2,"cdkFooterRowDefSticky","sticky",re]},features:[Ve,_t]})}return t})(),F0=(()=>{class t extends dI{_table=x(io,{optional:!0});when;constructor(){super(x(bi),x(zl))}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["","cdkRowDef",""]],inputs:{columns:[0,"cdkRowDefColumns","columns"],when:[0,"cdkRowDefWhen","when"]},features:[Ve]})}return t})(),ku=(()=>{class t{_viewContainer=x(vi);cells;context;static mostRecentCellOutlet=null;constructor(){t.mostRecentCellOutlet=this}ngOnDestroy(){t.mostRecentCellOutlet===this&&(t.mostRecentCellOutlet=null)}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["","cdkCellOutlet",""]]})}return t})(),hI=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Q({type:t,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(n,r){n&1&&_a(0,0)},dependencies:[ku],encapsulation:2})}return t})();var mI=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Q({type:t,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(n,r){n&1&&_a(0,0)},dependencies:[ku],encapsulation:2})}return t})(),x2=(()=>{class t{templateRef=x(bi);_contentClassName="cdk-no-data-row";constructor(){}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["ng-template","cdkNoDataRow",""]]})}return t})(),f2=["top","bottom","left","right"],lI=class{_isNativeHtmlTable;_stickCellCss;direction;_coalescedStyleScheduler;_isBrowser;_needsPositionStickyOnElement;_positionListener;_tableInjector;_elemSizeCache=new WeakMap;_resizeObserver=globalThis?.ResizeObserver?new globalThis.ResizeObserver(i=>this._updateCachedSizes(i)):null;_updatedStickyColumnsParamsToReplay=[];_stickyColumnsReplayTimeout=null;_cachedCellWidths=[];_borderCellCss;_destroyed=!1;constructor(i,e,n,r,a=!0,s=!0,o,l){this._isNativeHtmlTable=i,this._stickCellCss=e,this.direction=n,this._coalescedStyleScheduler=r,this._isBrowser=a,this._needsPositionStickyOnElement=s,this._positionListener=o,this._tableInjector=l,this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(i,e){(e.includes("left")||e.includes("right"))&&this._removeFromStickyColumnReplayQueue(i);let n=[];for(let r of i)r.nodeType===r.ELEMENT_NODE&&n.push(r,...Array.from(r.children));this._afterNextRender({write:()=>{for(let r of n)this._removeStickyStyle(r,e)}})}updateStickyColumns(i,e,n,r=!0,a=!0){if(!i.length||!this._isBrowser||!(e.some(b=>b)||n.some(b=>b))){this._positionListener?.stickyColumnsUpdated({sizes:[]}),this._positionListener?.stickyEndColumnsUpdated({sizes:[]});return}let s=i[0],o=s.children.length,l=this.direction==="rtl",c=l?"right":"left",d=l?"left":"right",u=e.lastIndexOf(!0),h=n.indexOf(!0),m,p,g;a&&this._updateStickyColumnReplayQueue({rows:[...i],stickyStartStates:[...e],stickyEndStates:[...n]}),this._afterNextRender({earlyRead:()=>{m=this._getCellWidths(s,r),p=this._getStickyStartColumnPositions(m,e),g=this._getStickyEndColumnPositions(m,n)},write:()=>{for(let b of i)for(let v=0;v<o;v++){let _=b.children[v];e[v]&&this._addStickyStyle(_,c,p[v],v===u),n[v]&&this._addStickyStyle(_,d,g[v],v===h)}this._positionListener&&m.some(b=>!!b)&&(this._positionListener.stickyColumnsUpdated({sizes:u===-1?[]:m.slice(0,u+1).map((b,v)=>e[v]?b:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:h===-1?[]:m.slice(h).map((b,v)=>n[v+h]?b:null).reverse()}))}})}stickRows(i,e,n){if(!this._isBrowser)return;let r=n==="bottom"?i.slice().reverse():i,a=n==="bottom"?e.slice().reverse():e,s=[],o=[],l=[];this._afterNextRender({earlyRead:()=>{for(let c=0,d=0;c<r.length;c++){if(!a[c])continue;s[c]=d;let u=r[c];l[c]=this._isNativeHtmlTable?Array.from(u.children):[u];let h=this._retrieveElementSize(u).height;d+=h,o[c]=h}},write:()=>{let c=a.lastIndexOf(!0);for(let d=0;d<r.length;d++){if(!a[d])continue;let u=s[d],h=d===c;for(let m of l[d])this._addStickyStyle(m,n,u,h)}n==="top"?this._positionListener?.stickyHeaderRowsUpdated({sizes:o,offsets:s,elements:l}):this._positionListener?.stickyFooterRowsUpdated({sizes:o,offsets:s,elements:l})}})}updateStickyFooterContainer(i,e){this._isNativeHtmlTable&&this._afterNextRender({write:()=>{let n=i.querySelector("tfoot");n&&(e.some(r=>!r)?this._removeStickyStyle(n,["bottom"]):this._addStickyStyle(n,"bottom",0,!1))}})}destroy(){this._stickyColumnsReplayTimeout&&clearTimeout(this._stickyColumnsReplayTimeout),this._resizeObserver?.disconnect(),this._destroyed=!0}_removeStickyStyle(i,e){if(!i.classList.contains(this._stickCellCss))return;for(let r of e)i.style[r]="",i.classList.remove(this._borderCellCss[r]);f2.some(r=>e.indexOf(r)===-1&&i.style[r])?i.style.zIndex=this._getCalculatedZIndex(i):(i.style.zIndex="",this._needsPositionStickyOnElement&&(i.style.position=""),i.classList.remove(this._stickCellCss))}_addStickyStyle(i,e,n,r){i.classList.add(this._stickCellCss),r&&i.classList.add(this._borderCellCss[e]),i.style[e]=`${n}px`,i.style.zIndex=this._getCalculatedZIndex(i),this._needsPositionStickyOnElement&&(i.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(i){let e={top:100,bottom:10,left:1,right:1},n=0;for(let r of f2)i.style[r]&&(n+=e[r]);return n?`${n}`:""}_getCellWidths(i,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;let n=[],r=i.children;for(let a=0;a<r.length;a++){let s=r[a];n.push(this._retrieveElementSize(s).width)}return this._cachedCellWidths=n,n}_getStickyStartColumnPositions(i,e){let n=[],r=0;for(let a=0;a<i.length;a++)e[a]&&(n[a]=r,r+=i[a]);return n}_getStickyEndColumnPositions(i,e){let n=[],r=0;for(let a=i.length;a>0;a--)e[a]&&(n[a]=r,r+=i[a]);return n}_retrieveElementSize(i){let e=this._elemSizeCache.get(i);if(e)return e;let n=i.getBoundingClientRect(),r={width:n.width,height:n.height};return this._resizeObserver&&(this._elemSizeCache.set(i,r),this._resizeObserver.observe(i,{box:"border-box"})),r}_updateStickyColumnReplayQueue(i){this._removeFromStickyColumnReplayQueue(i.rows),this._stickyColumnsReplayTimeout||this._updatedStickyColumnsParamsToReplay.push(i)}_removeFromStickyColumnReplayQueue(i){let e=new Set(i);for(let n of this._updatedStickyColumnsParamsToReplay)n.rows=n.rows.filter(r=>!e.has(r));this._updatedStickyColumnsParamsToReplay=this._updatedStickyColumnsParamsToReplay.filter(n=>!!n.rows.length)}_updateCachedSizes(i){let e=!1;for(let n of i){let r=n.borderBoxSize?.length?{width:n.borderBoxSize[0].inlineSize,height:n.borderBoxSize[0].blockSize}:{width:n.contentRect.width,height:n.contentRect.height};r.width!==this._elemSizeCache.get(n.target)?.width&&sK(n.target)&&(e=!0),this._elemSizeCache.set(n.target,r)}e&&this._updatedStickyColumnsParamsToReplay.length&&(this._stickyColumnsReplayTimeout&&clearTimeout(this._stickyColumnsReplayTimeout),this._stickyColumnsReplayTimeout=setTimeout(()=>{if(!this._destroyed){for(let n of this._updatedStickyColumnsParamsToReplay)this.updateStickyColumns(n.rows,n.stickyStartStates,n.stickyEndStates,!0,!1);this._updatedStickyColumnsParamsToReplay=[],this._stickyColumnsReplayTimeout=null}},0))}_afterNextRender(i){this._tableInjector?dn(i,{injector:this._tableInjector}):this._coalescedStyleScheduler.schedule(()=>{i.earlyRead?.(),i.write()})}};function sK(t){return["cdk-cell","cdk-header-cell","cdk-footer-cell"].some(i=>t.classList.contains(i))}var L0=new G("CDK_SPL");var pI=(()=>{class t{viewContainer=x(vi);elementRef=x(ge);constructor(){let e=x(io);e._rowOutlet=this,e._outletAssigned()}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["","rowOutlet",""]]})}return t})(),fI=(()=>{class t{viewContainer=x(vi);elementRef=x(ge);constructor(){let e=x(io);e._headerRowOutlet=this,e._outletAssigned()}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["","headerRowOutlet",""]]})}return t})(),gI=(()=>{class t{viewContainer=x(vi);elementRef=x(ge);constructor(){let e=x(io);e._footerRowOutlet=this,e._outletAssigned()}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["","footerRowOutlet",""]]})}return t})(),yI=(()=>{class t{viewContainer=x(vi);elementRef=x(ge);constructor(){let e=x(io);e._noDataRowOutlet=this,e._outletAssigned()}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["","noDataRowOutlet",""]]})}return t})();var bI=(()=>{class t{_differs=x(zl);_changeDetectorRef=x(st);_elementRef=x(ge);_dir=x(Ei,{optional:!0});_platform=x(Pt);_viewRepeater=x(Mm);_coalescedStyleScheduler=x(O0);_viewportRuler=x(Yl);_stickyPositioningListener=x(L0,{optional:!0,skipSelf:!0});_document=x(Ue);_data;_onDestroy=new se;_renderRows;_renderChangeSubscription;_columnDefsByName=new Map;_rowDefs;_headerRowDefs;_footerRowDefs;_dataDiffer;_defaultRowDef;_customColumnDefs=new Set;_customRowDefs=new Set;_customHeaderRowDefs=new Set;_customFooterRowDefs=new Set;_customNoDataRow;_headerRowDefChanged=!0;_footerRowDefChanged=!0;_stickyColumnStylesNeedReset=!0;_forceRecalculateCellWidths=!0;_cachedRenderRowsMap=new Map;_isNativeHtmlTable;_stickyStyler;stickyCssClass="cdk-table-sticky";needsPositionStickyOnElement=!0;_isServer;_isShowingNoDataRow=!1;_hasAllOutlets=!1;_hasInitialized=!1;_getCellRole(){if(this._cellRoleInternal===void 0){let e=this._elementRef.nativeElement.getAttribute("role");return e==="grid"||e==="treegrid"?"gridcell":"cell"}return this._cellRoleInternal}_cellRoleInternal=void 0;get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}_trackByFn;get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}_dataSource;get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=e,this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}_multiTemplateDataRows=!1;get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=e,this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}_fixedLayout=!1;contentChanged=new ie;viewChange=new Qi({start:0,end:Number.MAX_VALUE});_rowOutlet;_headerRowOutlet;_footerRowOutlet;_noDataRowOutlet;_contentColumnDefs;_contentRowDefs;_contentHeaderRowDefs;_contentFooterRowDefs;_noDataRow;_injector=x(Qe);constructor(){x(new ea("role"),{optional:!0})||this._elementRef.nativeElement.setAttribute("role","table"),this._isServer=!this._platform.isBrowser,this._isNativeHtmlTable=this._elementRef.nativeElement.nodeName==="TABLE",this._dataDiffer=this._differs.find([]).create((n,r)=>this.trackBy?this.trackBy(r.dataIndex,r.data):r)}ngOnInit(){this._setupStickyStyler(),this._viewportRuler.change().pipe(di(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentInit(){this._hasInitialized=!0}ngAfterContentChecked(){this._canRender()&&this._render()}ngOnDestroy(){this._stickyStyler?.destroy(),[this._rowOutlet?.viewContainer,this._headerRowOutlet?.viewContainer,this._footerRowOutlet?.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e?.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),Jg(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();let e=this._dataDiffer.diff(this._renderRows);if(!e){this._updateNoDataRow(),this.contentChanged.next();return}let n=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,n,(r,a,s)=>this._getEmbeddedViewArgs(r.item,s),r=>r.item.data,r=>{r.operation===td.INSERTED&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(r=>{let a=n.get(r.currentIndex);a.context.$implicit=r.item.data}),this._updateNoDataRow(),this.contentChanged.next(),this.updateStickyColumnStyles()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){let e=this._getRenderedRows(this._headerRowOutlet);if(this._isNativeHtmlTable){let r=g2(this._headerRowOutlet,"thead");r&&(r.style.display=e.length?"":"none")}let n=this._headerRowDefs.map(r=>r.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,n,"top"),this._headerRowDefs.forEach(r=>r.resetStickyChanged())}updateStickyFooterRowStyles(){let e=this._getRenderedRows(this._footerRowOutlet);if(this._isNativeHtmlTable){let r=g2(this._footerRowOutlet,"tfoot");r&&(r.style.display=e.length?"":"none")}let n=this._footerRowDefs.map(r=>r.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,n,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,n),this._footerRowDefs.forEach(r=>r.resetStickyChanged())}updateStickyColumnStyles(){let e=this._getRenderedRows(this._headerRowOutlet),n=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...n,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((a,s)=>{this._addStickyColumnStyles([a],this._headerRowDefs[s])}),this._rowDefs.forEach(a=>{let s=[];for(let o=0;o<n.length;o++)this._renderRows[o].rowDef===a&&s.push(n[o]);this._addStickyColumnStyles(s,a)}),r.forEach((a,s)=>{this._addStickyColumnStyles([a],this._footerRowDefs[s])}),Array.from(this._columnDefsByName.values()).forEach(a=>a.resetStickyChanged())}_outletAssigned(){!this._hasAllOutlets&&this._rowOutlet&&this._headerRowOutlet&&this._footerRowOutlet&&this._noDataRowOutlet&&(this._hasAllOutlets=!0,this._canRender()&&this._render())}_canRender(){return this._hasAllOutlets&&this._hasInitialized}_render(){this._cacheRowDefs(),this._cacheColumnDefs(),!this._headerRowDefs.length&&!this._footerRowDefs.length&&this._rowDefs.length;let n=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||n,this._forceRecalculateCellWidths=n,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}_getAllRenderRows(){let e=[],n=this._cachedRenderRowsMap;if(this._cachedRenderRowsMap=new Map,!this._data)return e;for(let r=0;r<this._data.length;r++){let a=this._data[r],s=this._getRenderRowsForData(a,r,n.get(a));this._cachedRenderRowsMap.has(a)||this._cachedRenderRowsMap.set(a,new WeakMap);for(let o=0;o<s.length;o++){let l=s[o],c=this._cachedRenderRowsMap.get(l.data);c.has(l.rowDef)?c.get(l.rowDef).push(l):c.set(l.rowDef,[l]),e.push(l)}}return e}_getRenderRowsForData(e,n,r){return this._getRowDefs(e,n).map(s=>{let o=r&&r.has(s)?r.get(s):[];if(o.length){let l=o.shift();return l.dataIndex=n,l}else return{data:e,rowDef:s,dataIndex:n}})}_cacheColumnDefs(){this._columnDefsByName.clear(),E0(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(n=>{this._columnDefsByName.has(n.name),this._columnDefsByName.set(n.name,n)})}_cacheRowDefs(){this._headerRowDefs=E0(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=E0(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=E0(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);let e=this._rowDefs.filter(n=>!n.when);!this.multiTemplateDataRows&&e.length>1,this._defaultRowDef=e[0]}_renderUpdatedColumns(){let e=(s,o)=>{let l=!!o.getColumnsDiff();return s||l},n=this._rowDefs.reduce(e,!1);n&&this._forceRenderDataRows();let r=this._headerRowDefs.reduce(e,!1);r&&this._forceRenderHeaderRows();let a=this._footerRowDefs.reduce(e,!1);return a&&this._forceRenderFooterRows(),n||r||a}_switchDataSource(e){this._data=[],Jg(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet&&this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;Jg(this.dataSource)?e=this.dataSource.connect(this):ug(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=Ie(this.dataSource)),this._renderChangeSubscription=e.pipe(di(this._onDestroy)).subscribe(n=>{this._data=n||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,n)=>this._renderRow(this._headerRowOutlet,e,n)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,n)=>this._renderRow(this._footerRowOutlet,e,n)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,n){let r=Array.from(n?.columns||[]).map(o=>{let l=this._columnDefsByName.get(o);return l}),a=r.map(o=>o.sticky),s=r.map(o=>o.stickyEnd);this._stickyStyler.updateStickyColumns(e,a,s,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){let n=[];for(let r=0;r<e.viewContainer.length;r++){let a=e.viewContainer.get(r);n.push(a.rootNodes[0])}return n}_getRowDefs(e,n){if(this._rowDefs.length==1)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(a=>!a.when||a.when(n,e));else{let a=this._rowDefs.find(s=>s.when&&s.when(n,e))||this._defaultRowDef;a&&r.push(a)}return r.length,r}_getEmbeddedViewArgs(e,n){let r=e.rowDef,a={$implicit:e.data};return{templateRef:r.template,context:a,index:n}}_renderRow(e,n,r,a={}){let s=e.viewContainer.createEmbeddedView(n.template,a,r);return this._renderCellTemplateForItem(n,a),s}_renderCellTemplateForItem(e,n){for(let r of this._getCellTemplates(e))ku.mostRecentCellOutlet&&ku.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,n);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){let e=this._rowOutlet.viewContainer;for(let n=0,r=e.length;n<r;n++){let s=e.get(n).context;s.count=r,s.first=n===0,s.last=n===r-1,s.even=n%2===0,s.odd=!s.even,this.multiTemplateDataRows?(s.dataIndex=this._renderRows[n].dataIndex,s.renderIndex=n):s.index=this._renderRows[n].dataIndex}}_getCellTemplates(e){return!e||!e.columns?[]:Array.from(e.columns,n=>{let r=this._columnDefsByName.get(n);return e.extractCellTemplate(r)})}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){let e=(n,r)=>n||r.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){let e=this._dir?this._dir.value:"ltr";this._stickyStyler=new lI(this._isNativeHtmlTable,this.stickyCssClass,e,this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener,this._injector),(this._dir?this._dir.change:Ie()).pipe(di(this._onDestroy)).subscribe(n=>{this._stickyStyler.direction=n,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(n=>!n._table||n._table===this)}_updateNoDataRow(){let e=this._customNoDataRow||this._noDataRow;if(!e)return;let n=this._rowOutlet.viewContainer.length===0;if(n===this._isShowingNoDataRow)return;let r=this._noDataRowOutlet.viewContainer;if(n){let a=r.createEmbeddedView(e.templateRef),s=a.rootNodes[0];a.rootNodes.length===1&&s?.nodeType===this._document.ELEMENT_NODE&&(s.setAttribute("role","row"),s.classList.add(e._contentClassName))}else r.clear();this._isShowingNoDataRow=n,this._changeDetectorRef.markForCheck()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Q({type:t,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(n,r,a){if(n&1&&(Et(a,x2,5),Et(a,km,5),Et(a,F0,5),Et(a,ty,5),Et(a,uI,5)),n&2){let s;be(s=ve())&&(r._noDataRow=s.first),be(s=ve())&&(r._contentColumnDefs=s),be(s=ve())&&(r._contentRowDefs=s),be(s=ve())&&(r._contentHeaderRowDefs=s),be(s=ve())&&(r._contentFooterRowDefs=s)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(n,r){n&2&&me("cdk-table-fixed-layout",r.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:[2,"multiTemplateDataRows","multiTemplateDataRows",re],fixedLayout:[2,"fixedLayout","fixedLayout",re]},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[Ye([{provide:io,useExisting:t},{provide:Mm,useClass:Mu},{provide:O0,useClass:cI},{provide:L0,useValue:null}])],ngContentSelectors:iK,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(n,r){n&1&&(mt(tK),ke(0),ke(1,1),ne(2,nK,1,0)(3,rK,7,0)(4,aK,4,0)),n&2&&(T(2),kt(r._isServer?2:-1),T(),kt(r._isNativeHtmlTable?3:4))},dependencies:[fI,pI,yI,gI],styles:[`.cdk-table-fixed-layout{table-layout:fixed}
`],encapsulation:2})}return t})();function E0(t,i){return t.concat(Array.from(i))}function g2(t,i){let e=i.toUpperCase(),n=t.viewContainer.element.nativeElement;for(;n;){let r=n.nodeType===1?n.nodeName:null;if(r===e)return n;if(r==="TABLE")break;n=n.parentNode}return null}var C2=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Se({type:t});static \u0275inj=De({imports:[ey]})}return t})();var iy=(()=>{class t{_listeners=[];notify(e,n){for(let r of this._listeners)r(e,n)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(n=>e!==n)}}ngOnDestroy(){this._listeners=[]}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var ny=class{_multiple;_emitChanges;compareWith;_selection=new Set;_deselectedToEmit=[];_selectedToEmit=[];_selected;get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}changed=new se;constructor(i=!1,e,n=!0,r){this._multiple=i,this._emitChanges=n,this.compareWith=r,e&&e.length&&(i?e.forEach(a=>this._markSelected(a)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...i){this._verifyValueAssignment(i),i.forEach(n=>this._markSelected(n));let e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...i){this._verifyValueAssignment(i),i.forEach(n=>this._unmarkSelected(n));let e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...i){this._verifyValueAssignment(i);let e=this.selected,n=new Set(i.map(a=>this._getConcreteValue(a)));i.forEach(a=>this._markSelected(a)),e.filter(a=>!n.has(this._getConcreteValue(a,n))).forEach(a=>this._unmarkSelected(a));let r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(i){return this.isSelected(i)?this.deselect(i):this.select(i)}clear(i=!0){this._unmarkAll();let e=this._hasQueuedChanges();return i&&this._emitChangeEvent(),e}isSelected(i){return this._selection.has(this._getConcreteValue(i))}isEmpty(){return this._selection.size===0}hasValue(){return!this.isEmpty()}sort(i){this._multiple&&this.selected&&this._selected.sort(i)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(i){i=this._getConcreteValue(i),this.isSelected(i)||(this._multiple||this._unmarkAll(),this.isSelected(i)||this._selection.add(i),this._emitChanges&&this._selectedToEmit.push(i))}_unmarkSelected(i){i=this._getConcreteValue(i),this.isSelected(i)&&(this._selection.delete(i),this._emitChanges&&this._deselectedToEmit.push(i))}_unmarkAll(){this.isEmpty()||this._selection.forEach(i=>this._unmarkSelected(i))}_verifyValueAssignment(i){i.length>1&&this._multiple}_hasQueuedChanges(){return!!(this._deselectedToEmit.length||this._selectedToEmit.length)}_getConcreteValue(i,e){if(this.compareWith){e=e??this._selection;for(let n of e)if(this.compareWith(i,n))return n;return i}else return i}};function Au(t){return t.buttons===0||t.detail===0}function Eu(t){let i=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!!i&&i.identifier===-1&&(i.radiusX==null||i.radiusX===1)&&(i.radiusY==null||i.radiusY===1)}var vI;function w2(){if(vI==null){let t=typeof document<"u"?document.head:null;vI=!!(t&&(t.createShadowRoot||t.attachShadow))}return vI}function _I(t){if(w2()){let i=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&i instanceof ShadowRoot)return i}return null}function qa(){let t=typeof document<"u"&&document?document.activeElement:null;for(;t&&t.shadowRoot;){let i=t.shadowRoot.activeElement;if(i===t)break;t=i}return t}function gr(t){return t.composedPath?t.composedPath()[0]:t.target}function Ti(t,i,e,n,r){let a=parseInt(vg.major),s=parseInt(vg.minor);return a>19||a===19&&s>0||a===0&&s===0?t.listen(i,e,n,r):(i.addEventListener(e,n,r),()=>{i.removeEventListener(e,n,r)})}var ry;function D2(){if(ry==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ry=!0}))}finally{ry=ry||!1}return ry}function Am(t){return D2()?t:!!t.capture}var S2=new G("cdk-input-modality-detector-options"),M2={ignoreKeys:[18,17,224,91,16]},I2=650,xI={passive:!0,capture:!0},k2=(()=>{class t{_platform=x(Pt);_listenerCleanups;modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new Qi(null);_options;_lastTouchMs=0;_onKeydown=e=>{this._options?.ignoreKeys?.some(n=>n===e.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=gr(e))};_onMousedown=e=>{Date.now()-this._lastTouchMs<I2||(this._modality.next(Au(e)?"keyboard":"mouse"),this._mostRecentTarget=gr(e))};_onTouchstart=e=>{if(Eu(e)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=gr(e)};constructor(){let e=x(we),n=x(Ue),r=x(S2,{optional:!0});if(this._options=f(f({},M2),r),this.modalityDetected=this._modality.pipe(om(1)),this.modalityChanged=this.modalityDetected.pipe(hg()),this._platform.isBrowser){let a=x(pr).createRenderer(null,null);this._listenerCleanups=e.runOutsideAngular(()=>[Ti(a,n,"keydown",this._onKeydown,xI),Ti(a,n,"mousedown",this._onMousedown,xI),Ti(a,n,"touchstart",this._onTouchstart,xI)])}}ngOnDestroy(){this._modality.complete(),this._listenerCleanups?.forEach(e=>e())}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ay=function(t){return t[t.IMMEDIATE=0]="IMMEDIATE",t[t.EVENTUAL=1]="EVENTUAL",t}(ay||{}),A2=new G("cdk-focus-monitor-default-options"),V0=Am({passive:!0,capture:!0}),gs=(()=>{class t{_ngZone=x(we);_platform=x(Pt);_inputModalityDetector=x(k2);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=x(Ue,{optional:!0});_stopInputModalityDetector=new se;constructor(){let e=x(A2,{optional:!0});this._detectionMode=e?.detectionMode||ay.IMMEDIATE}_rootNodeFocusAndBlurListener=e=>{let n=gr(e);for(let r=n;r;r=r.parentElement)e.type==="focus"?this._onFocus(e,r):this._onBlur(e,r)};monitor(e,n=!1){let r=ra(e);if(!this._platform.isBrowser||r.nodeType!==1)return Ie();let a=_I(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return n&&(s.checkChildren=!0),s.subject;let o={checkChildren:n,subject:new se,rootNode:a};return this._elementInfo.set(r,o),this._registerGlobalListeners(o),o.subject}stopMonitoring(e){let n=ra(e),r=this._elementInfo.get(n);r&&(r.subject.complete(),this._setClasses(n),this._elementInfo.delete(n),this._removeGlobalListeners(r))}focusVia(e,n,r){let a=ra(e),s=this._getDocument().activeElement;a===s?this._getClosestElementsInfo(a).forEach(([o,l])=>this._originChanged(o,n,l)):(this._setOrigin(n),typeof a.focus=="function"&&a.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,n)=>this.stopMonitoring(n))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return this._detectionMode===ay.EVENTUAL||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,n){e.classList.toggle("cdk-focused",!!n),e.classList.toggle("cdk-touch-focused",n==="touch"),e.classList.toggle("cdk-keyboard-focused",n==="keyboard"),e.classList.toggle("cdk-mouse-focused",n==="mouse"),e.classList.toggle("cdk-program-focused",n==="program")}_setOrigin(e,n=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=e,this._originFromTouchInteraction=e==="touch"&&n,this._detectionMode===ay.IMMEDIATE){clearTimeout(this._originTimeoutId);let r=this._originFromTouchInteraction?I2:1;this._originTimeoutId=setTimeout(()=>this._origin=null,r)}})}_onFocus(e,n){let r=this._elementInfo.get(n),a=gr(e);!r||!r.checkChildren&&n!==a||this._originChanged(n,this._getFocusOrigin(a),r)}_onBlur(e,n){let r=this._elementInfo.get(n);!r||r.checkChildren&&e.relatedTarget instanceof Node&&n.contains(e.relatedTarget)||(this._setClasses(n),this._emitOrigin(r,null))}_emitOrigin(e,n){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(n))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;let n=e.rootNode,r=this._rootNodeFocusListenerCount.get(n)||0;r||this._ngZone.runOutsideAngular(()=>{n.addEventListener("focus",this._rootNodeFocusAndBlurListener,V0),n.addEventListener("blur",this._rootNodeFocusAndBlurListener,V0)}),this._rootNodeFocusListenerCount.set(n,r+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(di(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(e){let n=e.rootNode;if(this._rootNodeFocusListenerCount.has(n)){let r=this._rootNodeFocusListenerCount.get(n);r>1?this._rootNodeFocusListenerCount.set(n,r-1):(n.removeEventListener("focus",this._rootNodeFocusAndBlurListener,V0),n.removeEventListener("blur",this._rootNodeFocusAndBlurListener,V0),this._rootNodeFocusListenerCount.delete(n))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,n,r){this._setClasses(e,n),this._emitOrigin(r,n),this._lastFocusOrigin=n}_getClosestElementsInfo(e){let n=[];return this._elementInfo.forEach((r,a)=>{(a===e||r.checkChildren&&a.contains(e))&&n.push([a,r])}),n}_isLastInteractionFromInputLabel(e){let{_mostRecentTarget:n,mostRecentModality:r}=this._inputModalityDetector;if(r!=="mouse"||!n||n===e||e.nodeName!=="INPUT"&&e.nodeName!=="TEXTAREA"||e.disabled)return!1;let a=e.labels;if(a){for(let s=0;s<a.length;s++)if(a[s].contains(n))return!0}return!1}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),sy=(()=>{class t{_elementRef=x(ge);_focusMonitor=x(gs);_monitorSubscription;_focusOrigin=null;cdkFocusChange=new ie;constructor(){}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){let e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,e.nodeType===1&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(n=>{this._focusOrigin=n,this.cdkFocusChange.emit(n)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]})}return t})();var B0=new WeakMap,_i=(()=>{class t{_appRef;_injector=x(Qe);_environmentInjector=x(Xr);load(e){let n=this._appRef=this._appRef||this._injector.get($s),r=B0.get(n);r||(r={loaders:new Set,refs:[]},B0.set(n,r),n.onDestroy(()=>{B0.get(n)?.refs.forEach(a=>a.destroy()),B0.delete(n)})),r.loaders.has(e)||(r.loaders.add(e),r.refs.push(I_(e,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var nd=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Q({type:t,selectors:[["ng-component"]],exportAs:["cdkVisuallyHidden"],decls:0,vars:0,template:function(n,r){},styles:[`.cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}[dir=rtl] .cdk-visually-hidden{left:auto;right:0}
`],encapsulation:2,changeDetection:0})}return t})();function oK(t){if(t.type==="characterData"&&t.target instanceof Comment)return!0;if(t.type==="childList"){for(let i=0;i<t.addedNodes.length;i++)if(!(t.addedNodes[i]instanceof Comment))return!1;for(let i=0;i<t.removedNodes.length;i++)if(!(t.removedNodes[i]instanceof Comment))return!1;return!0}return!1}var E2=(()=>{class t{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),T2=(()=>{class t{_mutationObserverFactory=x(E2);_observedElements=new Map;_ngZone=x(we);constructor(){}ngOnDestroy(){this._observedElements.forEach((e,n)=>this._cleanupObserver(n))}observe(e){let n=ra(e);return new nr(r=>{let s=this._observeElement(n).pipe(Re(o=>o.filter(l=>!oK(l))),It(o=>!!o.length)).subscribe(o=>{this._ngZone.run(()=>{r.next(o)})});return()=>{s.unsubscribe(),this._unobserveElement(n)}})}_observeElement(e){return this._ngZone.runOutsideAngular(()=>{if(this._observedElements.has(e))this._observedElements.get(e).count++;else{let n=new se,r=this._mutationObserverFactory.create(a=>n.next(a));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:n,count:1})}return this._observedElements.get(e).stream})}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){let{observer:n,stream:r}=this._observedElements.get(e);n&&n.disconnect(),r.complete(),this._observedElements.delete(e)}}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),j0=(()=>{class t{_contentObserver=x(T2);_elementRef=x(ge);event=new ie;get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._disabled?this._unsubscribe():this._subscribe()}_disabled=!1;get debounce(){return this._debounce}set debounce(e){this._debounce=Xo(e),this._subscribe()}_debounce;_currentSubscription=null;constructor(){}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();let e=this._contentObserver.observe(this._elementRef);this._currentSubscription=(this.debounce?e.pipe(Wc(this.debounce)):e).subscribe(this.event)}_unsubscribe(){this._currentSubscription?.unsubscribe()}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[2,"cdkObserveContentDisabled","disabled",re],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]})}return t})(),Em=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Se({type:t});static \u0275inj=De({providers:[E2]})}return t})();var DI=(()=>{class t{_platform=x(Pt);constructor(){}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return cK(e)&&getComputedStyle(e).visibility==="visible"}isTabbable(e){if(!this._platform.isBrowser)return!1;let n=lK(yK(e));if(n&&(R2(n)===-1||!this.isVisible(n)))return!1;let r=e.nodeName.toLowerCase(),a=R2(e);return e.hasAttribute("contenteditable")?a!==-1:r==="iframe"||r==="object"||this._platform.WEBKIT&&this._platform.IOS&&!fK(e)?!1:r==="audio"?e.hasAttribute("controls")?a!==-1:!1:r==="video"?a===-1?!1:a!==null?!0:this._platform.FIREFOX||e.hasAttribute("controls"):e.tabIndex>=0}isFocusable(e,n){return gK(e)&&!this.isDisabled(e)&&(n?.ignoreVisibility||this.isVisible(e))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function lK(t){try{return t.frameElement}catch{return null}}function cK(t){return!!(t.offsetWidth||t.offsetHeight||typeof t.getClientRects=="function"&&t.getClientRects().length)}function dK(t){let i=t.nodeName.toLowerCase();return i==="input"||i==="select"||i==="button"||i==="textarea"}function uK(t){return mK(t)&&t.type=="hidden"}function hK(t){return pK(t)&&t.hasAttribute("href")}function mK(t){return t.nodeName.toLowerCase()=="input"}function pK(t){return t.nodeName.toLowerCase()=="a"}function N2(t){if(!t.hasAttribute("tabindex")||t.tabIndex===void 0)return!1;let i=t.getAttribute("tabindex");return!!(i&&!isNaN(parseInt(i,10)))}function R2(t){if(!N2(t))return null;let i=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(i)?-1:i}function fK(t){let i=t.nodeName.toLowerCase(),e=i==="input"&&t.type;return e==="text"||e==="password"||i==="select"||i==="textarea"}function gK(t){return uK(t)?!1:dK(t)||hK(t)||t.hasAttribute("contenteditable")||N2(t)}function yK(t){return t.ownerDocument&&t.ownerDocument.defaultView||window}var wI=class{_element;_checker;_ngZone;_document;_injector;_startAnchor;_endAnchor;_hasAttached=!1;startAnchorListener=()=>this.focusLastTabbableElement();endAnchorListener=()=>this.focusFirstTabbableElement();get enabled(){return this._enabled}set enabled(i){this._enabled=i,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(i,this._startAnchor),this._toggleAnchorTabIndex(i,this._endAnchor))}_enabled=!0;constructor(i,e,n,r,a=!1,s){this._element=i,this._checker=e,this._ngZone=n,this._document=r,this._injector=s,a||this.attachAnchors()}destroy(){let i=this._startAnchor,e=this._endAnchor;i&&(i.removeEventListener("focus",this.startAnchorListener),i.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(i){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(i)))})}focusFirstTabbableElementWhenReady(i){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(i)))})}focusLastTabbableElementWhenReady(i){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(i)))})}_getRegionBoundary(i){let e=this._element.querySelectorAll(`[cdk-focus-region-${i}], [cdkFocusRegion${i}], [cdk-focus-${i}]`);return i=="start"?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(i){let e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){let n=this._getFirstTabbableElement(e);return n?.focus(i),!!n}return e.focus(i),!0}return this.focusFirstTabbableElement(i)}focusFirstTabbableElement(i){let e=this._getRegionBoundary("start");return e&&e.focus(i),!!e}focusLastTabbableElement(i){let e=this._getRegionBoundary("end");return e&&e.focus(i),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(i){if(this._checker.isFocusable(i)&&this._checker.isTabbable(i))return i;let e=i.children;for(let n=0;n<e.length;n++){let r=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(r)return r}return null}_getLastTabbableElement(i){if(this._checker.isFocusable(i)&&this._checker.isTabbable(i))return i;let e=i.children;for(let n=e.length-1;n>=0;n--){let r=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(r)return r}return null}_createAnchor(){let i=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,i),i.classList.add("cdk-visually-hidden"),i.classList.add("cdk-focus-trap-anchor"),i.setAttribute("aria-hidden","true"),i}_toggleAnchorTabIndex(i,e){i?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(i){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(i,this._startAnchor),this._toggleAnchorTabIndex(i,this._endAnchor))}_executeOnStable(i){this._injector?dn(i,{injector:this._injector}):setTimeout(i)}},z0=(()=>{class t{_checker=x(DI);_ngZone=x(we);_document=x(Ue);_injector=x(Qe);constructor(){x(_i).load(nd)}create(e,n=!1){return new wI(e,this._checker,this._ngZone,this._document,n,this._injector)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),SI=(()=>{class t{_elementRef=x(ge);_focusTrapFactory=x(z0);focusTrap;_previouslyFocusedElement=null;get enabled(){return this.focusTrap?.enabled||!1}set enabled(e){this.focusTrap&&(this.focusTrap.enabled=e)}autoCapture;constructor(){x(Pt).isBrowser&&(this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0))}ngOnDestroy(){this.focusTrap?.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap?.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap&&!this.focusTrap.hasAttached()&&this.focusTrap.attachAnchors()}ngOnChanges(e){let n=e.autoCapture;n&&!n.firstChange&&this.autoCapture&&this.focusTrap?.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=qa(),this.focusTrap?.focusInitialElementWhenReady()}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:[2,"cdkTrapFocus","enabled",re],autoCapture:[2,"cdkTrapFocusAutoCapture","autoCapture",re]},exportAs:["cdkTrapFocus"],features:[_t]})}return t})(),P2=new G("liveAnnouncerElement",{providedIn:"root",factory:F2});function F2(){return null}var V2=new G("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),bK=0,MI=(()=>{class t{_ngZone=x(we);_defaultOptions=x(V2,{optional:!0});_liveElement;_document=x(Ue);_previousTimeout;_currentPromise;_currentResolve;constructor(){let e=x(P2,{optional:!0});this._liveElement=e||this._createLiveElement()}announce(e,...n){let r=this._defaultOptions,a,s;return n.length===1&&typeof n[0]=="number"?s=n[0]:[a,s]=n,this.clear(),clearTimeout(this._previousTimeout),a||(a=r&&r.politeness?r.politeness:"polite"),s==null&&r&&(s=r.duration),this._liveElement.setAttribute("aria-live",a),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(o=>this._currentResolve=o)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,typeof s=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),s)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let e="cdk-live-announcer-element",n=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let a=0;a<n.length;a++)n[a].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id=`cdk-live-announcer-${bK++}`,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(e){let n=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<n.length;r++){let a=n[r],s=a.getAttribute("aria-owns");s?s.indexOf(e)===-1&&a.setAttribute("aria-owns",s+" "+e):a.setAttribute("aria-owns",e)}}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var rd=function(t){return t[t.NONE=0]="NONE",t[t.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",t[t.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",t}(rd||{}),O2="cdk-high-contrast-black-on-white",L2="cdk-high-contrast-white-on-black",CI="cdk-high-contrast-active",U0=(()=>{class t{_platform=x(Pt);_hasCheckedHighContrastMode;_document=x(Ue);_breakpointSubscription;constructor(){this._breakpointSubscription=x(eo).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return rd.NONE;let e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);let n=this._document.defaultView||window,r=n&&n.getComputedStyle?n.getComputedStyle(e):null,a=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),a){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return rd.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return rd.BLACK_ON_WHITE}return rd.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let e=this._document.body.classList;e.remove(CI,O2,L2),this._hasCheckedHighContrastMode=!0;let n=this.getHighContrastMode();n===rd.BLACK_ON_WHITE?e.add(CI,O2):n===rd.WHITE_ON_BLACK&&e.add(CI,L2)}}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),oy=(()=>{class t{constructor(){x(U0)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(n){return new(n||t)};static \u0275mod=Se({type:t});static \u0275inj=De({imports:[Em]})}return t})();var II={},ei=(()=>{class t{_appId=x(pg);getId(e){return this._appId!=="ng"&&(e+=this._appId),II.hasOwnProperty(e)||(II[e]=0),`${e}${II[e]++}`}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var vK=200,H0=class{_letterKeyStream=new se;_items=[];_selectedItemIndex=-1;_pressedLetters=[];_skipPredicateFn;_selectedItem=new se;selectedItem=this._selectedItem;constructor(i,e){let n=typeof e?.debounceInterval=="number"?e.debounceInterval:vK;e?.skipPredicate&&(this._skipPredicateFn=e.skipPredicate),this.setItems(i),this._setupKeyHandler(n)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(i){this._selectedItemIndex=i}setItems(i){this._items=i}handleKey(i){let e=i.keyCode;i.key&&i.key.length===1?this._letterKeyStream.next(i.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(i){this._letterKeyStream.pipe(Ki(e=>this._pressedLetters.push(e)),Wc(i),It(()=>this._pressedLetters.length>0),Re(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(e=>{for(let n=1;n<this._items.length+1;n++){let r=(this._selectedItemIndex+n)%this._items.length,a=this._items[r];if(!this._skipPredicateFn?.(a)&&a.getLabel?.().toLocaleUpperCase().trim().indexOf(e)===0){this._selectedItem.next(a);break}}this._pressedLetters=[]})}};function mi(t,...i){return i.length?i.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}var Tm=class{_items;_activeItemIndex=-1;_activeItem=bn(null);_wrap=!1;_typeaheadSubscription=xt.EMPTY;_itemChangesSubscription;_vertical=!0;_horizontal;_allowedModifierKeys=[];_homeAndEnd=!1;_pageUpAndDown={enabled:!1,delta:10};_effectRef;_typeahead;_skipPredicateFn=i=>i.disabled;constructor(i,e){this._items=i,i instanceof Vl?this._itemChangesSubscription=i.changes.subscribe(n=>this._itemsChanged(n.toArray())):pu(i)&&(this._effectRef=Go(()=>this._itemsChanged(i()),{injector:e}))}tabOut=new se;change=new se;skipPredicate(i){return this._skipPredicateFn=i,this}withWrap(i=!0){return this._wrap=i,this}withVerticalOrientation(i=!0){return this._vertical=i,this}withHorizontalOrientation(i){return this._horizontal=i,this}withAllowedModifierKeys(i){return this._allowedModifierKeys=i,this}withTypeAhead(i=200){this._typeaheadSubscription.unsubscribe();let e=this._getItemsArray();return this._typeahead=new H0(e,{debounceInterval:typeof i=="number"?i:void 0,skipPredicate:n=>this._skipPredicateFn(n)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(n=>{this.setActiveItem(n)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(i=!0){return this._homeAndEnd=i,this}withPageUpDown(i=!0,e=10){return this._pageUpAndDown={enabled:i,delta:e},this}setActiveItem(i){let e=this._activeItem();this.updateActiveItem(i),this._activeItem()!==e&&this.change.next(this._activeItemIndex)}onKeydown(i){let e=i.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(a=>!i[a]||this._allowedModifierKeys.indexOf(a)>-1);switch(e){case 9:this.tabOut.next();return;case 40:if(this._vertical&&r){this.setNextItemActive();break}else return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&r){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&r){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&r){let a=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(a>0?a:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&r){let a=this._activeItemIndex+this._pageUpAndDown.delta,s=this._getItemsArray().length;this._setActiveItemByIndex(a<s?a:s-1,-1);break}else return;default:(r||mi(i,"shiftKey"))&&this._typeahead?.handleKey(i);return}this._typeahead?.reset(),i.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem()}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(i){let e=this._getItemsArray(),n=typeof i=="number"?i:e.indexOf(i),r=e[n];this._activeItem.set(r??null),this._activeItemIndex=n,this._typeahead?.setCurrentSelectedItemIndex(n)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(i){this._wrap?this._setActiveInWrapMode(i):this._setActiveInDefaultMode(i)}_setActiveInWrapMode(i){let e=this._getItemsArray();for(let n=1;n<=e.length;n++){let r=(this._activeItemIndex+i*n+e.length)%e.length,a=e[r];if(!this._skipPredicateFn(a)){this.setActiveItem(r);return}}}_setActiveInDefaultMode(i){this._setActiveItemByIndex(this._activeItemIndex+i,i)}_setActiveItemByIndex(i,e){let n=this._getItemsArray();if(n[i]){for(;this._skipPredicateFn(n[i]);)if(i+=e,!n[i])return;this.setActiveItem(i)}}_getItemsArray(){return pu(this._items)?this._items():this._items instanceof Vl?this._items.toArray():this._items}_itemsChanged(i){this._typeahead?.setItems(i);let e=this._activeItem();if(e){let n=i.indexOf(e);n>-1&&n!==this._activeItemIndex&&(this._activeItemIndex=n,this._typeahead?.setCurrentSelectedItemIndex(n))}}};var Tu=class extends Tm{setActiveItem(i){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(i),this.activeItem&&this.activeItem.setActiveStyles()}};var Kl=class extends Tm{_origin="program";setFocusOrigin(i){return this._origin=i,this}setActiveItem(i){super.setActiveItem(i),this.activeItem&&this.activeItem.focus(this._origin)}};var z2=" ";function U2(t,i,e){let n=H2(t,i);e=e.trim(),!n.some(r=>r.trim()===e)&&(n.push(e),t.setAttribute(i,n.join(z2)))}function kI(t,i,e){let n=H2(t,i);e=e.trim();let r=n.filter(a=>a!==e);r.length?t.setAttribute(i,r.join(z2)):t.removeAttribute(i)}function H2(t,i){return t.getAttribute(i)?.match(/\S+/g)??[]}var nt=(()=>{class t{constructor(){x(U0)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(n){return new(n||t)};static \u0275mod=Se({type:t});static \u0275inj=De({imports:[id,id]})}return t})();function Cn(t){return t==null?"":typeof t=="string"?t:`${t}px`}function G2(t,i=/\s+/){let e=[];if(t!=null){let n=Array.isArray(t)?t:`${t}`.split(i);for(let r of n){let a=`${r}`.trim();a&&e.push(a)}}return e}var _K=[[["caption"]],[["colgroup"],["col"]],"*"],xK=["caption","colgroup, col","*"];function CK(t,i){t&1&&ke(0,2)}function wK(t,i){t&1&&(M(0,"thead",0),_a(1,1),k(),M(2,"tbody",2),_a(3,3)(4,4),k(),M(5,"tfoot",0),_a(6,5),k())}function DK(t,i){t&1&&_a(0,1)(1,3)(2,4)(3,5)}var Rm=(()=>{class t extends bI{stickyCssClass="mat-mdc-table-sticky";needsPositionStickyOnElement=!1;static \u0275fac=(()=>{let e;return function(r){return(e||(e=Dt(t)))(r||t)}})();static \u0275cmp=Q({type:t,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(n,r){n&2&&me("mdc-table-fixed-layout",r.fixedLayout)},exportAs:["matTable"],features:[Ye([{provide:bI,useExisting:t},{provide:io,useExisting:t},{provide:O0,useClass:cI},{provide:Mm,useClass:Mu},{provide:L0,useValue:null}]),Ve],ngContentSelectors:xK,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["role","rowgroup",1,"mdc-data-table__content"],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(n,r){n&1&&(mt(_K),ke(0),ke(1,1),ne(2,CK,1,0)(3,wK,7,0)(4,DK,4,0)),n&2&&(T(2),kt(r._isServer?2:-1),T(),kt(r._isNativeHtmlTable?3:4))},dependencies:[fI,pI,yI,gI],styles:[`.mat-mdc-table-sticky{position:sticky !important}mat-table{display:block}mat-header-row{min-height:var(--mat-table-header-container-height, 56px)}mat-row{min-height:var(--mat-table-row-item-container-height, 52px)}mat-footer-row{min-height:var(--mat-table-footer-container-height, 52px)}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table{min-width:100%;border:0;border-spacing:0;table-layout:auto;white-space:normal;background-color:var(--mat-table-background-color, var(--mat-sys-surface))}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell{text-align:right}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px}.mat-mdc-header-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-header-container-height, 56px);color:var(--mat-table-header-headline-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-table-header-headline-font, var(--mat-sys-title-small-font, Roboto, sans-serif));line-height:var(--mat-table-header-headline-line-height, var(--mat-sys-title-small-line-height));font-size:var(--mat-table-header-headline-size, var(--mat-sys-title-small-size, 14px));font-weight:var(--mat-table-header-headline-weight, var(--mat-sys-title-small-weight, 500))}.mat-mdc-row{height:var(--mat-table-row-item-container-height, 52px);color:var(--mat-table-row-item-label-text-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)))}.mat-mdc-row,.mdc-data-table__content{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-table-row-item-label-text-font, var(--mat-sys-body-medium-font, Roboto, sans-serif));line-height:var(--mat-table-row-item-label-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-table-row-item-label-text-size, var(--mat-sys-body-medium-size, 14px));font-weight:var(--mat-table-row-item-label-text-weight, var(--mat-sys-body-medium-weight))}.mat-mdc-footer-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-footer-container-height, 52px);color:var(--mat-table-row-item-label-text-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-table-footer-supporting-text-font, var(--mat-sys-body-medium-font, Roboto, sans-serif));line-height:var(--mat-table-footer-supporting-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-table-footer-supporting-text-size, var(--mat-sys-body-medium-size, 14px));font-weight:var(--mat-table-footer-supporting-text-weight, var(--mat-sys-body-medium-weight));letter-spacing:var(--mat-table-footer-supporting-text-tracking, var(--mat-sys-body-medium-tracking))}.mat-mdc-header-cell{border-bottom-color:var(--mat-table-row-item-outline-color, var(--mat-sys-outline, rgba(0, 0, 0, 0.12)));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-header-headline-tracking, var(--mat-sys-title-small-tracking));font-weight:inherit;line-height:inherit;box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mat-mdc-header-cell{text-align:right}.mdc-data-table__row:last-child>.mat-mdc-header-cell{border-bottom:none}.mat-mdc-cell{border-bottom-color:var(--mat-table-row-item-outline-color, var(--mat-sys-outline, rgba(0, 0, 0, 0.12)));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-row-item-label-text-tracking, var(--mat-sys-body-medium-tracking));line-height:inherit}.mdc-data-table__row:last-child>.mat-mdc-cell{border-bottom:none}.mat-mdc-footer-cell{letter-spacing:var(--mat-table-row-item-label-text-tracking, var(--mat-sys-body-medium-tracking))}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}
`],encapsulation:2})}return t})(),Om=(()=>{class t extends N0{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Dt(t)))(r||t)}})();static \u0275dir=Y({type:t,selectors:[["","matCellDef",""]],features:[Ye([{provide:N0,useExisting:t}]),Ve]})}return t})(),Lm=(()=>{class t extends P0{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Dt(t)))(r||t)}})();static \u0275dir=Y({type:t,selectors:[["","matHeaderCellDef",""]],features:[Ye([{provide:P0,useExisting:t}]),Ve]})}return t})();var Nm=(()=>{class t extends km{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Dt(t)))(r||t)}})();static \u0275dir=Y({type:t,selectors:[["","matColumnDef",""]],inputs:{name:[0,"matColumnDef","name"]},features:[Ye([{provide:km,useExisting:t},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:t}]),Ve]})}return t})(),Pm=(()=>{class t extends v2{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Dt(t)))(r||t)}})();static \u0275dir=Y({type:t,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],features:[Ve]})}return t})();var Fm=(()=>{class t extends _2{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Dt(t)))(r||t)}})();static \u0275dir=Y({type:t,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],features:[Ve]})}return t})();var Vm=(()=>{class t extends ty{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Dt(t)))(r||t)}})();static \u0275dir=Y({type:t,selectors:[["","matHeaderRowDef",""]],inputs:{columns:[0,"matHeaderRowDef","columns"],sticky:[2,"matHeaderRowDefSticky","sticky",re]},features:[Ye([{provide:ty,useExisting:t}]),Ve]})}return t})();var Bm=(()=>{class t extends F0{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Dt(t)))(r||t)}})();static \u0275dir=Y({type:t,selectors:[["","matRowDef",""]],inputs:{columns:[0,"matRowDefColumns","columns"],when:[0,"matRowDefWhen","when"]},features:[Ye([{provide:F0,useExisting:t}]),Ve]})}return t})(),jm=(()=>{class t extends hI{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Dt(t)))(r||t)}})();static \u0275cmp=Q({type:t,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],features:[Ye([{provide:hI,useExisting:t}]),Ve],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(n,r){n&1&&_a(0,0)},dependencies:[ku],encapsulation:2})}return t})();var zm=(()=>{class t extends mI{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Dt(t)))(r||t)}})();static \u0275cmp=Q({type:t,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],features:[Ye([{provide:mI,useExisting:t}]),Ve],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(n,r){n&1&&_a(0,0)},dependencies:[ku],encapsulation:2})}return t})();var W2=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Se({type:t});static \u0275inj=De({imports:[nt,C2,nt]})}return t})(),SK=9007199254740991,il=class extends Xg{_data;_renderData=new Qi([]);_filter=new Qi("");_internalPageChanges=new se;_renderChangesSubscription=null;filteredData;get data(){return this._data.value}set data(i){i=Array.isArray(i)?i:[],this._data.next(i),this._renderChangesSubscription||this._filterData(i)}get filter(){return this._filter.value}set filter(i){this._filter.next(i),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(i){this._sort=i,this._updateChangeSubscription()}_sort;get paginator(){return this._paginator}set paginator(i){this._paginator=i,this._updateChangeSubscription()}_paginator;sortingDataAccessor=(i,e)=>{let n=i[e];if(M0(n)){let r=Number(n);return r<SK?r:n}return n};sortData=(i,e)=>{let n=e.active,r=e.direction;return!n||r==""?i:i.sort((a,s)=>{let o=this.sortingDataAccessor(a,n),l=this.sortingDataAccessor(s,n),c=typeof o,d=typeof l;c!==d&&(c==="number"&&(o+=""),d==="number"&&(l+=""));let u=0;return o!=null&&l!=null?o>l?u=1:o<l&&(u=-1):o!=null?u=1:l!=null&&(u=-1),u*(r=="asc"?1:-1)})};filterPredicate=(i,e)=>{let n=e.trim().toLowerCase();return Object.values(i).some(r=>`${r}`.toLowerCase().includes(n))};constructor(i=[]){super(),this._data=new Qi(i),this._updateChangeSubscription()}_updateChangeSubscription(){let i=this._sort?ri(this._sort.sortChange,this._sort.initialized):Ie(null),e=this._paginator?ri(this._paginator.page,this._internalPageChanges,this._paginator.initialized):Ie(null),n=this._data,r=Uo([n,this._filter]).pipe(Re(([o])=>this._filterData(o))),a=Uo([r,i]).pipe(Re(([o])=>this._orderData(o))),s=Uo([a,e]).pipe(Re(([o])=>this._pageData(o)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=s.subscribe(o=>this._renderData.next(o))}_filterData(i){return this.filteredData=this.filter==null||this.filter===""?i:i.filter(e=>this.filterPredicate(e,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(i){return this.sort?this.sortData(i.slice(),this.sort):i}_pageData(i){if(!this.paginator)return i;let e=this.paginator.pageIndex*this.paginator.pageSize;return i.slice(e,e+this.paginator.pageSize)}_updatePaginator(i){Promise.resolve().then(()=>{let e=this.paginator;if(e&&(e.length=i,e.pageIndex>0)){let n=Math.ceil(e.length/e.pageSize)-1||0,r=Math.min(e.pageIndex,n);r!==e.pageIndex&&(e.pageIndex=r,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}};var $2=()=>{};var TI={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var he=function(t,i){if(!t)throw Ru(i)},Ru=function(t){return new Error("Firebase Database ("+TI.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};var q2=function(t){let i=[],e=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?i[e++]=r:r<2048?(i[e++]=r>>6|192,i[e++]=r&63|128):(r&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++n)&1023),i[e++]=r>>18|240,i[e++]=r>>12&63|128,i[e++]=r>>6&63|128,i[e++]=r&63|128):(i[e++]=r>>12|224,i[e++]=r>>6&63|128,i[e++]=r&63|128)}return i},MK=function(t){let i=[],e=0,n=0;for(;e<t.length;){let r=t[e++];if(r<128)i[n++]=String.fromCharCode(r);else if(r>191&&r<224){let a=t[e++];i[n++]=String.fromCharCode((r&31)<<6|a&63)}else if(r>239&&r<365){let a=t[e++],s=t[e++],o=t[e++],l=((r&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536;i[n++]=String.fromCharCode(55296+(l>>10)),i[n++]=String.fromCharCode(56320+(l&1023))}else{let a=t[e++],s=t[e++];i[n++]=String.fromCharCode((r&15)<<12|(a&63)<<6|s&63)}}return i.join("")},Gm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,i){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let e=i?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let r=0;r<t.length;r+=3){let a=t[r],s=r+1<t.length,o=s?t[r+1]:0,l=r+2<t.length,c=l?t[r+2]:0,d=a>>2,u=(a&3)<<4|o>>4,h=(o&15)<<2|c>>6,m=c&63;l||(m=64,s||(h=64)),n.push(e[d],e[u],e[h],e[m])}return n.join("")},encodeString(t,i){return this.HAS_NATIVE_SUPPORT&&!i?btoa(t):this.encodeByteArray(q2(t),i)},decodeString(t,i){return this.HAS_NATIVE_SUPPORT&&!i?atob(t):MK(this.decodeStringToByteArray(t,i))},decodeStringToByteArray(t,i){this.init_();let e=i?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let r=0;r<t.length;){let a=e[t.charAt(r++)],o=r<t.length?e[t.charAt(r)]:0;++r;let c=r<t.length?e[t.charAt(r)]:64;++r;let u=r<t.length?e[t.charAt(r)]:64;if(++r,a==null||o==null||c==null||u==null)throw new RI;let h=a<<2|o>>4;if(n.push(h),c!==64){let m=o<<4&240|c>>2;if(n.push(m),u!==64){let p=c<<6&192|u;n.push(p)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},RI=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},LI=function(t){let i=q2(t);return Gm.encodeByteArray(i,!0)},uy=function(t){return LI(t).replace(/\./g,"")},Um=function(t){try{return Gm.decodeString(t,!0)}catch(i){console.error("base64Decode failed: ",i)}return null};function Z2(t){return Q2(void 0,t)}function Q2(t,i){if(!(i instanceof Object))return i;switch(i.constructor){case Date:let e=i;return new Date(e.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return i}for(let e in i)!i.hasOwnProperty(e)||!IK(e)||(t[e]=Q2(t[e],i[e]));return t}function IK(t){return t!=="__proto__"}function X2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var kK=()=>X2().__FIREBASE_DEFAULTS__,AK=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},EK=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let i=t&&Um(t[1]);return i&&JSON.parse(i)},NI=()=>{try{return $2()||kK()||AK()||EK()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},PI=t=>{var i,e;return(e=(i=NI())===null||i===void 0?void 0:i.emulatorHosts)===null||e===void 0?void 0:e[t]},J2=t=>{let i=PI(t);if(!i)return;let e=i.lastIndexOf(":");if(e<=0||e+1===i.length)throw new Error(`Invalid host ${i} with no separate hostname and port!`);let n=parseInt(i.substring(e+1),10);return i[0]==="["?[i.substring(1,e-1),n]:[i.substring(0,e),n]},FI=()=>{var t;return(t=NI())===null||t===void 0?void 0:t.config},VI=t=>{var i;return(i=NI())===null||i===void 0?void 0:i[`_${t}`]};var no=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((i,e)=>{this.resolve=i,this.reject=e})}wrapCallback(i){return(e,n)=>{e?this.reject(e):this.resolve(n),typeof i=="function"&&(this.promise.catch(()=>{}),i.length===1?i(e):i(e,n))}}};function ad(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}function Y0(t){return L(this,null,function*(){return(yield fetch(t,{credentials:"include"})).ok})}function eF(t,i){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let e={alg:"none",type:"JWT"},n=i||"demo-project",r=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[uy(JSON.stringify(e)),uy(JSON.stringify(s)),""].join(".")}var dy={};function TK(){let t={prod:[],emulator:[]};for(let i of Object.keys(dy))dy[i]?t.emulator.push(i):t.prod.push(i);return t}function RK(t){let i=document.getElementById(t),e=!1;return i||(i=document.createElement("div"),i.setAttribute("id",t),e=!0),{created:e,element:i}}var Y2=!1;function K0(t,i){if(typeof window>"u"||typeof document>"u"||!ad(window.location.host)||dy[t]===i||dy[t]||Y2)return;dy[t]=i;function e(h){return`__firebase__banner__${h}`}let n="__firebase__banner",a=TK().prod.length>0;function s(){let h=document.getElementById(n);h&&h.remove()}function o(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,m){h.setAttribute("width","24"),h.setAttribute("id",m),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){let h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{Y2=!0,s()},h}function d(h,m){h.setAttribute("id",m),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function u(){let h=RK(n),m=e("text"),p=document.getElementById(m)||document.createElement("span"),g=e("learnmore"),b=document.getElementById(g)||document.createElement("a"),v=e("preprendIcon"),_=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){let w=h.element;o(w),d(b,g);let D=c();l(_,v),w.append(_,p,b,D),document.body.appendChild(w)}a?(p.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,p.innerText="Preview backend running in this workspace."),p.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",u):u()}function Or(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hy(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Or())}function tF(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function iF(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function q0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nF(){let t=Or();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function nl(){return TI.NODE_CLIENT===!0||TI.NODE_ADMIN===!0}function Z0(){try{return typeof indexedDB=="object"}catch{return!1}}function rF(){return new Promise((t,i)=>{try{let e=!0,n="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(n);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(n),t(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{var a;i(((a=r.error)===null||a===void 0?void 0:a.message)||"")}}catch(e){i(e)}})}var OK="FirebaseError",ro=class t extends Error{constructor(i,e,n){super(e),this.code=i,this.customData=n,this.name=OK,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ao.prototype.create)}},ao=class{constructor(i,e,n){this.service=i,this.serviceName=e,this.errors=n}create(i,...e){let n=e[0]||{},r=`${this.service}/${i}`,a=this.errors[i],s=a?LK(a,n):"Error",o=`${this.serviceName}: ${s} (${r}).`;return new ro(r,o,n)}};function LK(t,i){return t.replace(NK,(e,n)=>{let r=i[n];return r!=null?String(r):`<${n}?>`})}var NK=/\{\$([^}]+)}/g;function Hm(t){return JSON.parse(t)}function In(t){return JSON.stringify(t)}var aF=function(t){let i={},e={},n={},r="";try{let a=t.split(".");i=Hm(Um(a[0])||""),e=Hm(Um(a[1])||""),r=a[2],n=e.d||{},delete e.d}catch{}return{header:i,claims:e,data:n,signature:r}};var sF=function(t){let i=aF(t),e=i.claims;return!!e&&typeof e=="object"&&e.hasOwnProperty("iat")},oF=function(t){let i=aF(t).claims;return typeof i=="object"&&i.admin===!0};function rl(t,i){return Object.prototype.hasOwnProperty.call(t,i)}function Ou(t,i){if(Object.prototype.hasOwnProperty.call(t,i))return t[i]}function my(t){for(let i in t)if(Object.prototype.hasOwnProperty.call(t,i))return!1;return!0}function py(t,i,e){let n={};for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=i.call(e,t[r],r,t));return n}function al(t,i){if(t===i)return!0;let e=Object.keys(t),n=Object.keys(i);for(let r of e){if(!n.includes(r))return!1;let a=t[r],s=i[r];if(K2(a)&&K2(s)){if(!al(a,s))return!1}else if(a!==s)return!1}for(let r of n)if(!e.includes(r))return!1;return!0}function K2(t){return t!==null&&typeof t=="object"}function sd(t){let i=[];for(let[e,n]of Object.entries(t))Array.isArray(n)?n.forEach(r=>{i.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):i.push(encodeURIComponent(e)+"="+encodeURIComponent(n));return i.length?"&"+i.join("&"):""}function Wm(t){let i={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){let[r,a]=n.split("=");i[decodeURIComponent(r)]=decodeURIComponent(a)}}),i}function $m(t){let i=t.indexOf("?");if(!i)return"";let e=t.indexOf("#",i);return t.substring(i,e>0?e:void 0)}var $0=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let i=1;i<this.blockSize;++i)this.pad_[i]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(i,e){e||(e=0);let n=this.W_;if(typeof i=="string")for(let u=0;u<16;u++)n[u]=i.charCodeAt(e)<<24|i.charCodeAt(e+1)<<16|i.charCodeAt(e+2)<<8|i.charCodeAt(e+3),e+=4;else for(let u=0;u<16;u++)n[u]=i[e]<<24|i[e+1]<<16|i[e+2]<<8|i[e+3],e+=4;for(let u=16;u<80;u++){let h=n[u-3]^n[u-8]^n[u-14]^n[u-16];n[u]=(h<<1|h>>>31)&4294967295}let r=this.chain_[0],a=this.chain_[1],s=this.chain_[2],o=this.chain_[3],l=this.chain_[4],c,d;for(let u=0;u<80;u++){u<40?u<20?(c=o^a&(s^o),d=1518500249):(c=a^s^o,d=1859775393):u<60?(c=a&s|o&(a|s),d=2400959708):(c=a^s^o,d=3395469782);let h=(r<<5|r>>>27)+c+l+d+n[u]&4294967295;l=o,o=s,s=(a<<30|a>>>2)&4294967295,a=r,r=h}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+o&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(i,e){if(i==null)return;e===void 0&&(e=i.length);let n=e-this.blockSize,r=0,a=this.buf_,s=this.inbuf_;for(;r<e;){if(s===0)for(;r<=n;)this.compress_(i,r),r+=this.blockSize;if(typeof i=="string"){for(;r<e;)if(a[s]=i.charCodeAt(r),++s,++r,s===this.blockSize){this.compress_(a),s=0;break}}else for(;r<e;)if(a[s]=i[r],++s,++r,s===this.blockSize){this.compress_(a),s=0;break}}this.inbuf_=s,this.total_+=e}digest(){let i=[],e=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=e&255,e/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let a=24;a>=0;a-=8)i[n]=this.chain_[r]>>a&255,++n;return i}};function lF(t,i){let e=new OI(t,i);return e.subscribe.bind(e)}var OI=class{constructor(i,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{i(this)}).catch(n=>{this.error(n)})}next(i){this.forEachObserver(e=>{e.next(i)})}error(i){this.forEachObserver(e=>{e.error(i)}),this.close(i)}complete(){this.forEachObserver(i=>{i.complete()}),this.close()}subscribe(i,e,n){let r;if(i===void 0&&e===void 0&&n===void 0)throw new Error("Missing Observer.");PK(i,["next","error","complete"])?r=i:r={next:i,error:e,complete:n},r.next===void 0&&(r.next=EI),r.error===void 0&&(r.error=EI),r.complete===void 0&&(r.complete=EI);let a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),a}unsubscribeOne(i){this.observers===void 0||this.observers[i]===void 0||(delete this.observers[i],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(i){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,i)}sendOne(i,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[i]!==void 0)try{e(this.observers[i])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(i){this.finalized||(this.finalized=!0,i!==void 0&&(this.finalError=i),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function PK(t,i){if(typeof t!="object"||t===null)return!1;for(let e of i)if(e in t&&typeof t[e]=="function")return!0;return!1}function EI(){}function Q0(t,i){return`${t} failed: ${i} argument `}var cF=function(t){let i=[],e=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r>=55296&&r<=56319){let a=r-55296;n++,he(n<t.length,"Surrogate pair missing trail surrogate.");let s=t.charCodeAt(n)-56320;r=65536+(a<<10)+s}r<128?i[e++]=r:r<2048?(i[e++]=r>>6|192,i[e++]=r&63|128):r<65536?(i[e++]=r>>12|224,i[e++]=r>>6&63|128,i[e++]=r&63|128):(i[e++]=r>>18|240,i[e++]=r>>12&63|128,i[e++]=r>>6&63|128,i[e++]=r&63|128)}return i},fy=function(t){let i=0;for(let e=0;e<t.length;e++){let n=t.charCodeAt(e);n<128?i++:n<2048?i+=2:n>=55296&&n<=56319?(i+=4,e++):i+=3}return i};var MDe=4*60*60*1e3;function kn(t){return t&&t._delegate?t._delegate:t}var aa=class{constructor(i,e,n){this.name=i,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(i){return this.instantiationMode=i,this}setMultipleInstances(i){return this.multipleInstances=i,this}setServiceProps(i){return this.serviceProps=i,this}setInstanceCreatedCallback(i){return this.onInstanceCreated=i,this}};var Lu="[DEFAULT]";var X0=class{constructor(i,e){this.name=i,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(i){let e=this.normalizeInstanceIdentifier(i);if(!this.instancesDeferred.has(e)){let n=new no;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(i){var e;let n=this.normalizeInstanceIdentifier(i?.identifier),r=(e=i?.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(i){if(i.name!==this.name)throw Error(`Mismatching Component ${i.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=i,!!this.shouldAutoInitialize()){if(VK(i))try{this.getOrInitializeService({instanceIdentifier:Lu})}catch{}for(let[e,n]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(e);try{let a=this.getOrInitializeService({instanceIdentifier:r});n.resolve(a)}catch{}}}}clearInstance(i=Lu){this.instancesDeferred.delete(i),this.instancesOptions.delete(i),this.instances.delete(i)}delete(){return L(this,null,function*(){let i=Array.from(this.instances.values());yield Promise.all([...i.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...i.filter(e=>"_delete"in e).map(e=>e._delete())])})}isComponentSet(){return this.component!=null}isInitialized(i=Lu){return this.instances.has(i)}getOptions(i=Lu){return this.instancesOptions.get(i)||{}}initialize(i={}){let{options:e={}}=i,n=this.normalizeInstanceIdentifier(i.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:n,options:e});for(let[a,s]of this.instancesDeferred.entries()){let o=this.normalizeInstanceIdentifier(a);n===o&&s.resolve(r)}return r}onInit(i,e){var n;let r=this.normalizeInstanceIdentifier(e),a=(n=this.onInitCallbacks.get(r))!==null&&n!==void 0?n:new Set;a.add(i),this.onInitCallbacks.set(r,a);let s=this.instances.get(r);return s&&i(s,r),()=>{a.delete(i)}}invokeOnInitCallbacks(i,e){let n=this.onInitCallbacks.get(e);if(n)for(let r of n)try{r(i,e)}catch{}}getOrInitializeService({instanceIdentifier:i,options:e={}}){let n=this.instances.get(i);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:FK(i),options:e}),this.instances.set(i,n),this.instancesOptions.set(i,e),this.invokeOnInitCallbacks(n,i),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,i,n)}catch{}return n||null}normalizeInstanceIdentifier(i=Lu){return this.component?this.component.multipleInstances?i:Lu:i}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function FK(t){return t===Lu?void 0:t}function VK(t){return t.instantiationMode==="EAGER"}var gy=class{constructor(i){this.name=i,this.providers=new Map}addComponent(i){let e=this.getProvider(i.name);if(e.isComponentSet())throw new Error(`Component ${i.name} has already been registered with ${this.name}`);e.setComponent(i)}addOrOverwriteComponent(i){this.getProvider(i.name).isComponentSet()&&this.providers.delete(i.name),this.addComponent(i)}getProvider(i){if(this.providers.has(i))return this.providers.get(i);let e=new X0(i,this);return this.providers.set(i,e),e}getProviders(){return Array.from(this.providers.values())}};var BK=[],xi=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(xi||{}),jK={debug:xi.DEBUG,verbose:xi.VERBOSE,info:xi.INFO,warn:xi.WARN,error:xi.ERROR,silent:xi.SILENT},zK=xi.INFO,UK={[xi.DEBUG]:"log",[xi.VERBOSE]:"log",[xi.INFO]:"info",[xi.WARN]:"warn",[xi.ERROR]:"error"},HK=(t,i,...e)=>{if(i<t.logLevel)return;let n=new Date().toISOString(),r=UK[i];if(r)console[r](`[${n}]  ${t.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${i})`)},sl=class{constructor(i){this.name=i,this._logLevel=zK,this._logHandler=HK,this._userLogHandler=null,BK.push(this)}get logLevel(){return this._logLevel}set logLevel(i){if(!(i in xi))throw new TypeError(`Invalid value "${i}" assigned to \`logLevel\``);this._logLevel=i}setLogLevel(i){this._logLevel=typeof i=="string"?jK[i]:i}get logHandler(){return this._logHandler}set logHandler(i){if(typeof i!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=i}get userLogHandler(){return this._userLogHandler}set userLogHandler(i){this._userLogHandler=i}debug(...i){this._userLogHandler&&this._userLogHandler(this,xi.DEBUG,...i),this._logHandler(this,xi.DEBUG,...i)}log(...i){this._userLogHandler&&this._userLogHandler(this,xi.VERBOSE,...i),this._logHandler(this,xi.VERBOSE,...i)}info(...i){this._userLogHandler&&this._userLogHandler(this,xi.INFO,...i),this._logHandler(this,xi.INFO,...i)}warn(...i){this._userLogHandler&&this._userLogHandler(this,xi.WARN,...i),this._logHandler(this,xi.WARN,...i)}error(...i){this._userLogHandler&&this._userLogHandler(this,xi.ERROR,...i),this._logHandler(this,xi.ERROR,...i)}};var GK=(t,i)=>i.some(e=>t instanceof e),dF,uF;function WK(){return dF||(dF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $K(){return uF||(uF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var hF=new WeakMap,jI=new WeakMap,mF=new WeakMap,BI=new WeakMap,UI=new WeakMap;function YK(t){let i=new Promise((e,n)=>{let r=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{e(ol(t.result)),r()},s=()=>{n(t.error),r()};t.addEventListener("success",a),t.addEventListener("error",s)});return i.then(e=>{e instanceof IDBCursor&&hF.set(e,t)}).catch(()=>{}),UI.set(i,t),i}function KK(t){if(jI.has(t))return;let i=new Promise((e,n)=>{let r=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{e(),r()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});jI.set(t,i)}var zI={get(t,i,e){if(t instanceof IDBTransaction){if(i==="done")return jI.get(t);if(i==="objectStoreNames")return t.objectStoreNames||mF.get(t);if(i==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return ol(t[i])},set(t,i,e){return t[i]=e,!0},has(t,i){return t instanceof IDBTransaction&&(i==="done"||i==="store")?!0:i in t}};function pF(t){zI=t(zI)}function qK(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(i,...e){let n=t.call(J0(this),i,...e);return mF.set(n,i.sort?i.sort():[i]),ol(n)}:$K().includes(t)?function(...i){return t.apply(J0(this),i),ol(hF.get(this))}:function(...i){return ol(t.apply(J0(this),i))}}function ZK(t){return typeof t=="function"?qK(t):(t instanceof IDBTransaction&&KK(t),GK(t,WK())?new Proxy(t,zI):t)}function ol(t){if(t instanceof IDBRequest)return YK(t);if(BI.has(t))return BI.get(t);let i=ZK(t);return i!==t&&(BI.set(t,i),UI.set(i,t)),i}var J0=t=>UI.get(t);function gF(t,i,{blocked:e,upgrade:n,blocking:r,terminated:a}={}){let s=indexedDB.open(t,i),o=ol(s);return n&&s.addEventListener("upgradeneeded",l=>{n(ol(s.result),l.oldVersion,l.newVersion,ol(s.transaction),l)}),e&&s.addEventListener("blocked",l=>e(l.oldVersion,l.newVersion,l)),o.then(l=>{a&&l.addEventListener("close",()=>a()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}var QK=["get","getKey","getAll","getAllKeys","count"],XK=["put","add","delete","clear"],HI=new Map;function fF(t,i){if(!(t instanceof IDBDatabase&&!(i in t)&&typeof i=="string"))return;if(HI.get(i))return HI.get(i);let e=i.replace(/FromIndex$/,""),n=i!==e,r=XK.includes(e);if(!(e in(n?IDBIndex:IDBObjectStore).prototype)||!(r||QK.includes(e)))return;let a=function(s,...o){return L(this,null,function*(){let l=this.transaction(s,r?"readwrite":"readonly"),c=l.store;return n&&(c=c.index(o.shift())),(yield Promise.all([c[e](...o),r&&l.done]))[0]})};return HI.set(i,a),a}pF(t=>S(f({},t),{get:(i,e,n)=>fF(i,e)||t.get(i,e,n),has:(i,e)=>!!fF(i,e)||t.has(i,e)}));var WI=class{constructor(i){this.container=i}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(JK(e)){let n=e.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(e=>e).join(" ")}};function JK(t){let i=t.getComponent();return i?.type==="VERSION"}var $I="@firebase/app",yF="0.13.2";var ql=new sl("@firebase/app"),eq="@firebase/app-compat",tq="@firebase/analytics-compat",iq="@firebase/analytics",nq="@firebase/app-check-compat",rq="@firebase/app-check",aq="@firebase/auth",sq="@firebase/auth-compat",oq="@firebase/database",lq="@firebase/data-connect",cq="@firebase/database-compat",dq="@firebase/functions",uq="@firebase/functions-compat",hq="@firebase/installations",mq="@firebase/installations-compat",pq="@firebase/messaging",fq="@firebase/messaging-compat",gq="@firebase/performance",yq="@firebase/performance-compat",bq="@firebase/remote-config",vq="@firebase/remote-config-compat",_q="@firebase/storage",xq="@firebase/storage-compat",Cq="@firebase/firestore",wq="@firebase/ai",Dq="@firebase/firestore-compat",Sq="firebase",Mq="11.10.0";var YI="[DEFAULT]",Iq={[$I]:"fire-core",[eq]:"fire-core-compat",[iq]:"fire-analytics",[tq]:"fire-analytics-compat",[rq]:"fire-app-check",[nq]:"fire-app-check-compat",[aq]:"fire-auth",[sq]:"fire-auth-compat",[oq]:"fire-rtdb",[lq]:"fire-data-connect",[cq]:"fire-rtdb-compat",[dq]:"fire-fn",[uq]:"fire-fn-compat",[hq]:"fire-iid",[mq]:"fire-iid-compat",[pq]:"fire-fcm",[fq]:"fire-fcm-compat",[gq]:"fire-perf",[yq]:"fire-perf-compat",[bq]:"fire-rc",[vq]:"fire-rc-compat",[_q]:"fire-gcs",[xq]:"fire-gcs-compat",[Cq]:"fire-fst",[Dq]:"fire-fst-compat",[wq]:"fire-vertex","fire-js":"fire-js",[Sq]:"fire-js-all"};var yy=new Map,kq=new Map,KI=new Map;function bF(t,i){try{t.container.addComponent(i)}catch(e){ql.debug(`Component ${i.name} failed to register with FirebaseApp ${t.name}`,e)}}function so(t){let i=t.name;if(KI.has(i))return ql.debug(`There were multiple attempts to register component ${i}.`),!1;KI.set(i,t);for(let e of yy.values())bF(e,t);for(let e of kq.values())bF(e,t);return!0}function Ym(t,i){let e=t.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),t.container.getProvider(i)}function sa(t){return t==null?!1:t.settings!==void 0}var Aq={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},od=new ao("app","Firebase",Aq);var qI=class{constructor(i,e,n){this._isDeleted=!1,this._options=Object.assign({},i),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new aa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(i){this.checkDestroyed(),this._automaticDataCollectionEnabled=i}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(i){this._isDeleted=i}checkDestroyed(){if(this.isDeleted)throw od.create("app-deleted",{appName:this._name})}};var ld=Mq;function XI(t,i={}){let e=t;typeof i!="object"&&(i={name:i});let n=Object.assign({name:YI,automaticDataCollectionEnabled:!0},i),r=n.name;if(typeof r!="string"||!r)throw od.create("bad-app-name",{appName:String(r)});if(e||(e=FI()),!e)throw od.create("no-options");let a=yy.get(r);if(a){if(al(e,a.options)&&al(n,a.config))return a;throw od.create("duplicate-app",{appName:r})}let s=new gy(r);for(let l of KI.values())s.addComponent(l);let o=new qI(e,n,s);return yy.set(r,o),o}function Nu(t=YI){let i=yy.get(t);if(!i&&t===YI&&FI())return XI();if(!i)throw od.create("no-app",{appName:t});return i}function ex(){return Array.from(yy.values())}function un(t,i,e){var n;let r=(n=Iq[t])!==null&&n!==void 0?n:t;e&&(r+=`-${e}`);let a=r.match(/\s|\//),s=i.match(/\s|\//);if(a||s){let o=[`Unable to register library "${r}" with version "${i}":`];a&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&s&&o.push("and"),s&&o.push(`version name "${i}" contains illegal characters (whitespace or "/")`),ql.warn(o.join(" "));return}so(new aa(`${r}-version`,()=>({library:r,version:i}),"VERSION"))}var Eq="firebase-heartbeat-database",Tq=1,by="firebase-heartbeat-store",GI=null;function CF(){return GI||(GI=gF(Eq,Tq,{upgrade:(t,i)=>{switch(i){case 0:try{t.createObjectStore(by)}catch(e){console.warn(e)}}}}).catch(t=>{throw od.create("idb-open",{originalErrorMessage:t.message})})),GI}function Rq(t){return L(this,null,function*(){try{let e=(yield CF()).transaction(by),n=yield e.objectStore(by).get(wF(t));return yield e.done,n}catch(i){if(i instanceof ro)ql.warn(i.message);else{let e=od.create("idb-get",{originalErrorMessage:i?.message});ql.warn(e.message)}}})}function vF(t,i){return L(this,null,function*(){try{let n=(yield CF()).transaction(by,"readwrite");yield n.objectStore(by).put(i,wF(t)),yield n.done}catch(e){if(e instanceof ro)ql.warn(e.message);else{let n=od.create("idb-set",{originalErrorMessage:e?.message});ql.warn(n.message)}}})}function wF(t){return`${t.name}!${t.options.appId}`}var Oq=1024,Lq=30,ZI=class{constructor(i){this.container=i,this._heartbeatsCache=null;let e=this.container.getProvider("app").getImmediate();this._storage=new QI(e),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}triggerHeartbeat(){return L(this,null,function*(){var i,e;try{let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=_F();if(((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:r}),this._heartbeatsCache.heartbeats.length>Lq){let s=Pq(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){ql.warn(n)}})}getHeartbeatsHeader(){return L(this,null,function*(){var i;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let e=_F(),{heartbeatsToSend:n,unsentEntries:r}=Nq(this._heartbeatsCache.heartbeats),a=uy(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return ql.warn(e),""}})}};function _F(){return new Date().toISOString().substring(0,10)}function Nq(t,i=Oq){let e=[],n=t.slice();for(let r of t){let a=e.find(s=>s.agent===r.agent);if(a){if(a.dates.push(r.date),xF(e)>i){a.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),xF(e)>i){e.pop();break}n=n.slice(1)}return{heartbeatsToSend:e,unsentEntries:n}}var QI=class{constructor(i){this.app=i,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return L(this,null,function*(){return Z0()?rF().then(()=>!0).catch(()=>!1):!1})}read(){return L(this,null,function*(){if(yield this._canUseIndexedDBPromise){let e=yield Rq(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(i){return L(this,null,function*(){var e;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return vF(this.app,{lastSentHeartbeatDate:(e=i.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:i.heartbeats})}else return})}add(i){return L(this,null,function*(){var e;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return vF(this.app,{lastSentHeartbeatDate:(e=i.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...i.heartbeats]})}else return})}};function xF(t){return uy(JSON.stringify({version:2,heartbeats:t})).length}function Pq(t){if(t.length===0)return-1;let i=0,e=t[0].date;for(let n=1;n<t.length;n++)t[n].date<e&&(e=t[n].date,i=n);return i}function Fq(t){so(new aa("platform-logger",i=>new WI(i),"PRIVATE")),so(new aa("heartbeat",i=>new ZI(i),"PRIVATE")),un($I,yF,t),un($I,yF,"esm2017"),un("fire-js","")}Fq("");var Vq="firebase",Bq="11.10.0";un(Vq,Bq,"app");function JI(t){t===void 0&&(BS(JI),t=x(Qe));let i=t.get(y_);return e=>new nr(n=>{let r=i.add(),a=!1;function s(){a||(r(),a=!0)}let o=e.subscribe({next:l=>{n.next(l),s()},complete:()=>{n.complete(),s()},error:l=>{n.error(l),s()}});return o.add(()=>{n.unsubscribe(),s()}),o})}var cd=new dm("ANGULARFIRE2_VERSION");function vy(t,i,e){if(i){if(i.length===1)return i[0];let a=i.filter(s=>s.app===e);if(a.length===1)return a[0]}return e.container.getProvider(t).getImmediate({optional:!0})}var qm=(t,i)=>{let e=i?[i]:ex(),n=[];return e.forEach(r=>{r.container.getProvider(t).instances.forEach(s=>{n.includes(s)||n.push(s)})}),n},Km=function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t}(Km||{}),DF=qS()&&typeof Zone<"u"?Km.WARN:Km.SILENT;var tx=class{zone;delegate;constructor(i,e=LL){this.zone=i,this.delegate=e}now(){return this.delegate.now()}schedule(i,e,n){let r=this.zone,a=function(s){r?r.runGuarded(()=>{i.apply(this,[s])}):i.apply(this,[s])};return this.delegate.schedule(a,e,n)}},dd=(()=>{class t{outsideAngular;insideAngular;constructor(){let e=x(we);this.outsideAngular=e.runOutsideAngular(()=>new tx(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=e.run(()=>new tx(typeof Zone>"u"?void 0:Zone.current,OL))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),SF=!1;function jq(t,i){!SF&&(DF>Km.SILENT||qS())&&(SF=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),DF>=i&&console.warn(`Firebase API called outside injection context: ${t.name}`)}function zq(t){let i=x(we,{optional:!0});return i?i.runOutsideAngular(()=>t()):t()}function Pu(t){let i=x(we,{optional:!0});return i?i.run(()=>t()):t()}var Uq=(t,i,e)=>(...n)=>(i&&setTimeout(i,0),Jr(e,()=>Pu(()=>t.apply(void 0,n)))),Hn=(t,i,e)=>(e||=i?Km.WARN:Km.VERBOSE,function(){let n,r=arguments,a,s,o;try{a=x(dd),s=x(y_),o=x(Xr)}catch{return jq(t,e),t.apply(this,r)}for(let c=0;c<arguments.length;c++)typeof r[c]=="function"&&(i&&(n||=Pu(()=>s.add())),r[c]=Uq(r[c],n,o));let l=zq(()=>t.apply(this,r));return i?l instanceof nr?l.pipe(TS(a.outsideAngular),ES(a.insideAngular),JI(o)):l instanceof Promise?Pu(()=>new Promise((c,d)=>{s.run(()=>l).then(u=>Jr(o,()=>Pu(()=>c(u))),u=>Jr(o,()=>Pu(()=>d(u))))})):typeof l=="function"&&n?function(){return setTimeout(n,0),l.apply(this,arguments)}:Pu(()=>l):l instanceof nr?l.pipe(TS(a.outsideAngular),ES(a.insideAngular)):Pu(()=>l)});var Zl=class{constructor(i){return i}},Fu=class{constructor(){return ex()}};function Hq(t){return t&&t.length===1?t[0]:new Zl(Nu())}var ek=new G("angularfire2._apps"),Gq={provide:Zl,useFactory:Hq,deps:[[new Bn,ek]]},Wq={provide:Fu,deps:[[new Bn,ek]]};function $q(t){return(i,e)=>{let n=e.get(Ho);un("angularfire",cd.full,"core"),un("angularfire",cd.full,"app"),un("angular",vg.full,n.toString());let r=i.runOutsideAngular(()=>t(e));return new Zl(r)}}function MF(t,...i){return ms([Gq,Wq,{provide:ek,useFactory:$q(t),multi:!0,deps:[we,Qe,dd,...i]}])}var IF=Hn(XI,!0);var Yq=new Map,Kq={activated:!1,tokenObservers:[]},qq={initialized:!1,enabled:!1};function oo(t){return Yq.get(t)||Object.assign({},Kq)}function TF(){return qq}var Zq="https://content-firebaseappcheck.googleapis.com/v1";var Qq="exchangeDebugToken",kF={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},ESe=24*60*60*1e3;var nk=class{constructor(i,e,n,r,a){if(this.operation=i,this.retryPolicy=e,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=r,r>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(i){return L(this,null,function*(){this.stop();try{this.pending=new no,this.pending.promise.catch(e=>{}),yield Xq(this.getNextRun(i)),this.pending.resolve(),yield this.pending.promise,this.pending=new no,this.pending.promise.catch(e=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(e){this.retryPolicy(e)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(i){if(i)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}};function Xq(t){return new Promise(i=>{setTimeout(i,t)})}var Jq={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},ud=new ao("appCheck","AppCheck",Jq);function RF(t){if(!oo(t).activated)throw ud.create("use-before-activation",{appName:t.name})}function OF(n,r){return L(this,arguments,function*({url:t,body:i},e){let a={"Content-Type":"application/json"},s=e.getImmediate({optional:!0});if(s){let m=yield s.getHeartbeatsHeader();m&&(a["X-Firebase-Client"]=m)}let o={method:"POST",body:JSON.stringify(i),headers:a},l;try{l=yield fetch(t,o)}catch(m){throw ud.create("fetch-network-error",{originalErrorMessage:m?.message})}if(l.status!==200)throw ud.create("fetch-status-error",{httpStatus:l.status});let c;try{c=yield l.json()}catch(m){throw ud.create("fetch-parse-error",{originalErrorMessage:m?.message})}let d=c.ttl.match(/^([\d.]+)(s)$/);if(!d||!d[2]||isNaN(Number(d[1])))throw ud.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});let u=Number(d[1])*1e3,h=Date.now();return{token:c.token,expireTimeMillis:h+u,issuedAtTimeMillis:h}})}function LF(t,i){let{projectId:e,appId:n,apiKey:r}=t.options;return{url:`${Zq}/projects/${e}/apps/${n}:${Qq}?key=${r}`,body:{debug_token:i}}}var eZ="firebase-app-check-database",tZ=1,rk="firebase-app-check-store";var ix=null;function iZ(){return ix||(ix=new Promise((t,i)=>{try{let e=indexedDB.open(eZ,tZ);e.onsuccess=n=>{t(n.target.result)},e.onerror=n=>{var r;i(ud.create("storage-open",{originalErrorMessage:(r=n.target.error)===null||r===void 0?void 0:r.message}))},e.onupgradeneeded=n=>{let r=n.target.result;switch(n.oldVersion){case 0:r.createObjectStore(rk,{keyPath:"compositeKey"})}}}catch(e){i(ud.create("storage-open",{originalErrorMessage:e?.message}))}}),ix)}function nZ(t,i){return rZ(aZ(t),i)}function rZ(t,i){return L(this,null,function*(){let n=(yield iZ()).transaction(rk,"readwrite"),a=n.objectStore(rk).put({compositeKey:t,value:i});return new Promise((s,o)=>{a.onsuccess=l=>{s()},n.onerror=l=>{var c;o(ud.create("storage-set",{originalErrorMessage:(c=l.target.error)===null||c===void 0?void 0:c.message}))}})})}function aZ(t){return`${t.options.appId}-${t.name}`}var _y=new sl("@firebase/app-check");function tk(t,i){return Z0()?nZ(t,i).catch(e=>{_y.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function NF(){return TF().enabled}function PF(){return L(this,null,function*(){let t=TF();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var sZ={error:"UNKNOWN_ERROR"};function oZ(t){return Gm.encodeString(JSON.stringify(t),!1)}function ak(t,i=!1,e=!1){return L(this,null,function*(){let n=t.app;RF(n);let r=oo(n),a=r.token,s;if(a&&!xy(a)&&(r.token=void 0,a=void 0),!a){let c=yield r.cachedTokenPromise;c&&(xy(c)?a=c:yield tk(n,void 0))}if(!i&&a&&xy(a))return{token:a.token};let o=!1;if(NF())try{r.exchangeTokenPromise||(r.exchangeTokenPromise=OF(LF(n,yield PF()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);let c=yield r.exchangeTokenPromise;return yield tk(n,c),r.token=c,{token:c.token}}catch(c){return c.code==="appCheck/throttled"||c.code==="appCheck/initial-throttle"?_y.warn(c.message):e&&_y.error(c),ik(c)}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),a=yield oo(n).exchangeTokenPromise}catch(c){c.code==="appCheck/throttled"||c.code==="appCheck/initial-throttle"?_y.warn(c.message):e&&_y.error(c),s=c}let l;return a?s?xy(a)?l={token:a.token,internalError:s}:l=ik(s):(l={token:a.token},r.token=a,yield tk(n,a)):l=ik(s),o&&uZ(n,l),l})}function lZ(t){return L(this,null,function*(){let i=t.app;RF(i);let{provider:e}=oo(i);if(NF()){let n=yield PF(),{token:r}=yield OF(LF(i,n),t.heartbeatServiceProvider);return{token:r}}else{let{token:n}=yield e.getToken();return{token:n}}})}function cZ(t,i,e,n){let{app:r}=t,a=oo(r),s={next:e,error:n,type:i};if(a.tokenObservers=[...a.tokenObservers,s],a.token&&xy(a.token)){let o=a.token;Promise.resolve().then(()=>{e({token:o.token}),AF(t)}).catch(()=>{})}a.cachedTokenPromise.then(()=>AF(t))}function FF(t,i){let e=oo(t),n=e.tokenObservers.filter(r=>r.next!==i);n.length===0&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=n}function AF(t){let{app:i}=t,e=oo(i),n=e.tokenRefresher;n||(n=dZ(t),e.tokenRefresher=n),!n.isRunning()&&e.isTokenAutoRefreshEnabled&&n.start()}function dZ(t){let{app:i}=t;return new nk(()=>L(null,null,function*(){let e=oo(i),n;if(e.token?n=yield ak(t,!0):n=yield ak(t),n.error)throw n.error;if(n.internalError)throw n.internalError}),()=>!0,()=>{let e=oo(i);if(e.token){let n=e.token.issuedAtTimeMillis+(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)*.5+3e5,r=e.token.expireTimeMillis-5*60*1e3;return n=Math.min(n,r),Math.max(0,n-Date.now())}else return 0},kF.RETRIAL_MIN_WAIT,kF.RETRIAL_MAX_WAIT)}function uZ(t,i){let e=oo(t).tokenObservers;for(let n of e)try{n.type==="EXTERNAL"&&i.error!=null?n.error(i.error):n.next(i)}catch{}}function xy(t){return t.expireTimeMillis-Date.now()>0}function ik(t){return{token:oZ(sZ),error:t}}var sk=class{constructor(i,e){this.app=i,this.heartbeatServiceProvider=e}_delete(){let{tokenObservers:i}=oo(this.app);for(let e of i)FF(this.app,e.next);return Promise.resolve()}};function hZ(t,i){return new sk(t,i)}function mZ(t){return{getToken:i=>ak(t,i),getLimitedUseToken:()=>lZ(t),addTokenListener:i=>cZ(t,"INTERNAL",i),removeTokenListener:i=>FF(t.app,i)}}var pZ="@firebase/app-check",fZ="0.10.1";var gZ="app-check",EF="app-check-internal";function yZ(){so(new aa(gZ,t=>{let i=t.getProvider("app").getImmediate(),e=t.getProvider("heartbeat");return hZ(i,e)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,e)=>{t.getProvider(EF).initialize()})),so(new aa(EF,t=>{let i=t.getProvider("app-check").getImmediate();return mZ(i)},"PUBLIC").setInstantiationMode("EXPLICIT")),un(pZ,fZ)}yZ();var bZ="app-check";var Zm=class{constructor(){return qm(bZ)}};var vZ=["localhost","0.0.0.0","127.0.0.1"],HSe=typeof window<"u"&&vZ.includes(window.location.hostname);function JF(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var eV=JF,tV=new ao("auth","Firebase",JF());var lx=new sl("@firebase/auth");function _Z(t,...i){lx.logLevel<=xi.WARN&&lx.warn(`Auth (${ld}): ${t}`,...i)}function rx(t,...i){lx.logLevel<=xi.ERROR&&lx.error(`Auth (${ld}): ${t}`,...i)}function ys(t,...i){throw Ak(t,...i)}function lo(t,...i){return Ak(t,...i)}function kk(t,i,e){let n=Object.assign(Object.assign({},eV()),{[i]:e});return new ao("auth","Firebase",n).create(i,{appName:t.name})}function Jl(t){return kk(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xZ(t,i,e){let n=e;if(!(i instanceof n))throw n.name!==i.constructor.name&&ys(t,"argument-error"),kk(t,"argument-error",`Type of ${i.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ak(t,...i){if(typeof t!="string"){let e=i[0],n=[...i.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(e,...n)}return tV.create(t,...i)}function ct(t,i,...e){if(!t)throw Ak(i,...e)}function Ql(t){let i="INTERNAL ASSERTION FAILED: "+t;throw rx(i),new Error(i)}function ec(t,i){t||Ql(i)}function ck(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function CZ(){return VF()==="http:"||VF()==="https:"}function VF(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function wZ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(CZ()||iF()||"connection"in navigator)?navigator.onLine:!0}function DZ(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Vu=class{constructor(i,e){this.shortDelay=i,this.longDelay=e,ec(e>i,"Short delay should be less than long delay!"),this.isMobile=hy()||q0()}get(){return wZ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Ek(t,i){ec(t.emulator,"Emulator should always be set here");let{url:e}=t.emulator;return i?`${e}${i.startsWith("/")?i.slice(1):i}`:e}var cx=class{static initialize(i,e,n){this.fetchImpl=i,e&&(this.headersImpl=e),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ql("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ql("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ql("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var SZ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var MZ=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],IZ=new Vu(3e4,6e4);function pd(t,i){return t.tenantId&&!i.tenantId?Object.assign(Object.assign({},i),{tenantId:t.tenantId}):i}function tc(a,s,o,l){return L(this,arguments,function*(t,i,e,n,r={}){return iV(t,r,()=>L(null,null,function*(){let c={},d={};n&&(i==="GET"?d=n:c={body:JSON.stringify(n)});let u=sd(Object.assign({key:t.config.apiKey},d)).slice(1),h=yield t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);let m=Object.assign({method:i,headers:h},c);return tF()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&ad(t.emulatorConfig.host)&&(m.credentials="include"),cx.fetch()(yield nV(t,t.config.apiHost,e,u),m)}))})}function iV(t,i,e){return L(this,null,function*(){t._canInitEmulator=!1;let n=Object.assign(Object.assign({},SZ),i);try{let r=new dk(t),a=yield Promise.race([e(),r.promise]);r.clearNetworkTimeout();let s=yield a.json();if("needConfirmation"in s)throw nx(t,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{let o=a.ok?s.errorMessage:s.error.message,[l,c]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw nx(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw nx(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw nx(t,"user-disabled",s);let d=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw kk(t,d,c);ys(t,d)}}catch(r){if(r instanceof ro)throw r;ys(t,"network-request-failed",{message:String(r)})}})}function Ay(a,s,o,l){return L(this,arguments,function*(t,i,e,n,r={}){let c=yield tc(t,i,e,n,r);return"mfaPendingCredential"in c&&ys(t,"multi-factor-auth-required",{_serverResponse:c}),c})}function nV(t,i,e,n){return L(this,null,function*(){let r=`${i}${e}?${n}`,a=t,s=a.config.emulator?Ek(t.config,r):`${t.config.apiScheme}://${r}`;return MZ.includes(e)&&(yield a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(s).toString():s})}function kZ(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var dk=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(i){this.auth=i,this.timer=null,this.promise=new Promise((e,n)=>{this.timer=setTimeout(()=>n(lo(this.auth,"network-request-failed")),IZ.get())})}};function nx(t,i,e){let n={appName:t.name};e.email&&(n.email=e.email),e.phoneNumber&&(n.phoneNumber=e.phoneNumber);let r=lo(t,i,n);return r.customData._tokenResponse=e,r}function BF(t){return t!==void 0&&t.enterprise!==void 0}var uk=class{constructor(i){if(this.siteKey="",this.recaptchaEnforcementState=[],i.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=i.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=i.recaptchaEnforcementState}getProviderEnforcementState(i){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let e of this.recaptchaEnforcementState)if(e.provider&&e.provider===i)return kZ(e.enforcementState);return null}isProviderEnabled(i){return this.getProviderEnforcementState(i)==="ENFORCE"||this.getProviderEnforcementState(i)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function AZ(t,i){return L(this,null,function*(){return tc(t,"GET","/v2/recaptchaConfig",pd(t,i))})}function EZ(t,i){return L(this,null,function*(){return tc(t,"POST","/v1/accounts:delete",i)})}function dx(t,i){return L(this,null,function*(){return tc(t,"POST","/v1/accounts:lookup",i)})}function wy(t){if(t)try{let i=new Date(Number(t));if(!isNaN(i.getTime()))return i.toUTCString()}catch{}}function Tk(t,i=!1){return L(this,null,function*(){let e=kn(t),n=yield e.getIdToken(i),r=Rk(n);ct(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");let a=typeof r.firebase=="object"?r.firebase:void 0,s=a?.sign_in_provider;return{claims:r,token:n,authTime:wy(ok(r.auth_time)),issuedAtTime:wy(ok(r.iat)),expirationTime:wy(ok(r.exp)),signInProvider:s||null,signInSecondFactor:a?.sign_in_second_factor||null}})}function ok(t){return Number(t)*1e3}function Rk(t){let[i,e,n]=t.split(".");if(i===void 0||e===void 0||n===void 0)return rx("JWT malformed, contained fewer than 3 sections"),null;try{let r=Um(e);return r?JSON.parse(r):(rx("Failed to decode base64 JWT payload"),null)}catch(r){return rx("Caught error parsing JWT payload as JSON",r?.toString()),null}}function jF(t){let i=Rk(t);return ct(i,"internal-error"),ct(typeof i.exp<"u","internal-error"),ct(typeof i.iat<"u","internal-error"),Number(i.exp)-Number(i.iat)}function Xm(t,i,e=!1){return L(this,null,function*(){if(e)return i;try{return yield i}catch(n){throw n instanceof ro&&TZ(n)&&t.auth.currentUser===t&&(yield t.auth.signOut()),n}})}function TZ({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var hk=class{constructor(i){this.user=i,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(i){var e;if(i){let n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;let r=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(i=!1){if(!this.isRunning)return;let e=this.getInterval(i);this.timerId=setTimeout(()=>L(this,null,function*(){yield this.iteration()}),e)}iteration(){return L(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(i){i?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Sy=class{constructor(i,e){this.createdAt=i,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=wy(this.lastLoginAt),this.creationTime=wy(this.createdAt)}_copy(i){this.createdAt=i.createdAt,this.lastLoginAt=i.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function ux(t){return L(this,null,function*(){var i;let e=t.auth,n=yield t.getIdToken(),r=yield Xm(t,dx(e,{idToken:n}));ct(r?.users.length,e,"internal-error");let a=r.users[0];t._notifyReloadListener(a);let s=!((i=a.providerUserInfo)===null||i===void 0)&&i.length?rV(a.providerUserInfo):[],o=RZ(t.providerData,s),l=t.isAnonymous,c=!(t.email&&a.passwordHash)&&!o?.length,d=l?c:!1,u={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new Sy(a.createdAt,a.lastLoginAt),isAnonymous:d};Object.assign(t,u)})}function Ok(t){return L(this,null,function*(){let i=kn(t);yield ux(i),yield i.auth._persistUserIfCurrent(i),i.auth._notifyListenersIfCurrent(i)})}function RZ(t,i){return[...t.filter(n=>!i.some(r=>r.providerId===n.providerId)),...i]}function rV(t){return t.map(i=>{var{providerId:e}=i,n=h_(i,["providerId"]);return{providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}function OZ(t,i){return L(this,null,function*(){let e=yield iV(t,{},()=>L(null,null,function*(){let n=sd({grant_type:"refresh_token",refresh_token:i}).slice(1),{tokenApiHost:r,apiKey:a}=t.config,s=yield nV(t,r,"/v1/token",`key=${a}`),o=yield t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";let l={method:"POST",headers:o,body:n};return t.emulatorConfig&&ad(t.emulatorConfig.host)&&(l.credentials="include"),cx.fetch()(s,l)}));return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}})}function LZ(t,i){return L(this,null,function*(){return tc(t,"POST","/v2/accounts:revokeToken",pd(t,i))})}var Dy=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(i){ct(i.idToken,"internal-error"),ct(typeof i.idToken<"u","internal-error"),ct(typeof i.refreshToken<"u","internal-error");let e="expiresIn"in i&&typeof i.expiresIn<"u"?Number(i.expiresIn):jF(i.idToken);this.updateTokensAndExpiration(i.idToken,i.refreshToken,e)}updateFromIdToken(i){ct(i.length!==0,"internal-error");let e=jF(i);this.updateTokensAndExpiration(i,null,e)}getToken(i,e=!1){return L(this,null,function*(){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(ct(this.refreshToken,i,"user-token-expired"),this.refreshToken?(yield this.refresh(i,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(i,e){return L(this,null,function*(){let{accessToken:n,refreshToken:r,expiresIn:a}=yield OZ(i,e);this.updateTokensAndExpiration(n,r,Number(a))})}updateTokensAndExpiration(i,e,n){this.refreshToken=e||null,this.accessToken=i||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(i,e){let{refreshToken:n,accessToken:r,expirationTime:a}=e,s=new t;return n&&(ct(typeof n=="string","internal-error",{appName:i}),s.refreshToken=n),r&&(ct(typeof r=="string","internal-error",{appName:i}),s.accessToken=r),a&&(ct(typeof a=="number","internal-error",{appName:i}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(i){this.accessToken=i.accessToken,this.refreshToken=i.refreshToken,this.expirationTime=i.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Ql("not implemented")}};function hd(t,i){ct(typeof t=="string"||typeof t>"u","internal-error",{appName:i})}var md=class t{constructor(i){var{uid:e,auth:n,stsTokenManager:r}=i,a=h_(i,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new hk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Sy(a.createdAt||void 0,a.lastLoginAt||void 0)}getIdToken(i){return L(this,null,function*(){let e=yield Xm(this,this.stsTokenManager.getToken(this.auth,i));return ct(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e})}getIdTokenResult(i){return Tk(this,i)}reload(){return Ok(this)}_assign(i){this!==i&&(ct(this.uid===i.uid,this.auth,"internal-error"),this.displayName=i.displayName,this.photoURL=i.photoURL,this.email=i.email,this.emailVerified=i.emailVerified,this.phoneNumber=i.phoneNumber,this.isAnonymous=i.isAnonymous,this.tenantId=i.tenantId,this.providerData=i.providerData.map(e=>Object.assign({},e)),this.metadata._copy(i.metadata),this.stsTokenManager._assign(i.stsTokenManager))}_clone(i){let e=new t(Object.assign(Object.assign({},this),{auth:i,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(i){ct(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=i,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(i){this.reloadListener?this.reloadListener(i):this.reloadUserInfo=i}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(i,e=!1){return L(this,null,function*(){let n=!1;i.idToken&&i.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(i),n=!0),e&&(yield ux(this)),yield this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)})}delete(){return L(this,null,function*(){if(sa(this.auth.app))return Promise.reject(Jl(this.auth));let i=yield this.getIdToken();return yield Xm(this,EZ(this.auth,{idToken:i})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(i=>Object.assign({},i)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(i,e){var n,r,a,s,o,l,c,d;let u=(n=e.displayName)!==null&&n!==void 0?n:void 0,h=(r=e.email)!==null&&r!==void 0?r:void 0,m=(a=e.phoneNumber)!==null&&a!==void 0?a:void 0,p=(s=e.photoURL)!==null&&s!==void 0?s:void 0,g=(o=e.tenantId)!==null&&o!==void 0?o:void 0,b=(l=e._redirectEventId)!==null&&l!==void 0?l:void 0,v=(c=e.createdAt)!==null&&c!==void 0?c:void 0,_=(d=e.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:w,emailVerified:D,isAnonymous:I,providerData:E,stsTokenManager:A}=e;ct(w&&A,i,"internal-error");let N=Dy.fromJSON(this.name,A);ct(typeof w=="string",i,"internal-error"),hd(u,i.name),hd(h,i.name),ct(typeof D=="boolean",i,"internal-error"),ct(typeof I=="boolean",i,"internal-error"),hd(m,i.name),hd(p,i.name),hd(g,i.name),hd(b,i.name),hd(v,i.name),hd(_,i.name);let F=new t({uid:w,auth:i,email:h,emailVerified:D,displayName:u,isAnonymous:I,photoURL:p,phoneNumber:m,tenantId:g,stsTokenManager:N,createdAt:v,lastLoginAt:_});return E&&Array.isArray(E)&&(F.providerData=E.map(P=>Object.assign({},P))),b&&(F._redirectEventId=b),F}static _fromIdTokenResponse(i,e,n=!1){return L(this,null,function*(){let r=new Dy;r.updateFromServerResponse(e);let a=new t({uid:e.localId,auth:i,stsTokenManager:r,isAnonymous:n});return yield ux(a),a})}static _fromGetAccountInfoResponse(i,e,n){return L(this,null,function*(){let r=e.users[0];ct(r.localId!==void 0,"internal-error");let a=r.providerUserInfo!==void 0?rV(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!a?.length,o=new Dy;o.updateFromIdToken(n);let l=new t({uid:r.localId,auth:i,stsTokenManager:o,isAnonymous:s}),c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new Sy(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!a?.length};return Object.assign(l,c),l})}};var zF=new Map;function Xl(t){ec(t instanceof Function,"Expected a class definition");let i=zF.get(t);return i?(ec(i instanceof t,"Instance stored in cache mismatched with class"),i):(i=new t,zF.set(t,i),i)}var NZ=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return L(this,null,function*(){return!0})}_set(e,n){return L(this,null,function*(){this.storage[e]=n})}_get(e){return L(this,null,function*(){let n=this.storage[e];return n===void 0?null:n})}_remove(e){return L(this,null,function*(){delete this.storage[e]})}_addListener(e,n){}_removeListener(e,n){}}return t.type="NONE",t})(),mk=NZ;function ax(t,i,e){return`firebase:${t}:${i}:${e}`}var hx=class t{constructor(i,e,n){this.persistence=i,this.auth=e,this.userKey=n;let{config:r,name:a}=this.auth;this.fullUserKey=ax(this.userKey,r.apiKey,a),this.fullPersistenceKey=ax("persistence",r.apiKey,a),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(i){return this.persistence._set(this.fullUserKey,i.toJSON())}getCurrentUser(){return L(this,null,function*(){let i=yield this.persistence._get(this.fullUserKey);if(!i)return null;if(typeof i=="string"){let e=yield dx(this.auth,{idToken:i}).catch(()=>{});return e?md._fromGetAccountInfoResponse(this.auth,e,i):null}return md._fromJSON(this.auth,i)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(i){return L(this,null,function*(){if(this.persistence===i)return;let e=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=i,e)return this.setCurrentUser(e)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(i,e,n="authUser"){return L(this,null,function*(){if(!e.length)return new t(Xl(mk),i,n);let r=(yield Promise.all(e.map(c=>L(null,null,function*(){if(yield c._isAvailable())return c})))).filter(c=>c),a=r[0]||Xl(mk),s=ax(n,i.config.apiKey,i.name),o=null;for(let c of e)try{let d=yield c._get(s);if(d){let u;if(typeof d=="string"){let h=yield dx(i,{idToken:d}).catch(()=>{});if(!h)break;u=yield md._fromGetAccountInfoResponse(i,h,d)}else u=md._fromJSON(i,d);c!==a&&(o=u),a=c;break}}catch{}let l=r.filter(c=>c._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new t(a,i,n):(a=l[0],o&&(yield a._set(s,o.toJSON())),yield Promise.all(e.map(c=>L(null,null,function*(){if(c!==a)try{yield c._remove(s)}catch{}}))),new t(a,i,n))})}};function UF(t){let i=t.toLowerCase();if(i.includes("opera/")||i.includes("opr/")||i.includes("opios/"))return"Opera";if(lV(i))return"IEMobile";if(i.includes("msie")||i.includes("trident/"))return"IE";if(i.includes("edge/"))return"Edge";if(aV(i))return"Firefox";if(i.includes("silk/"))return"Silk";if(dV(i))return"Blackberry";if(uV(i))return"Webos";if(sV(i))return"Safari";if((i.includes("chrome/")||oV(i))&&!i.includes("edge/"))return"Chrome";if(cV(i))return"Android";{let e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(e);if(n?.length===2)return n[1]}return"Other"}function aV(t=Or()){return/firefox\//i.test(t)}function sV(t=Or()){let i=t.toLowerCase();return i.includes("safari/")&&!i.includes("chrome/")&&!i.includes("crios/")&&!i.includes("android")}function oV(t=Or()){return/crios\//i.test(t)}function lV(t=Or()){return/iemobile/i.test(t)}function cV(t=Or()){return/android/i.test(t)}function dV(t=Or()){return/blackberry/i.test(t)}function uV(t=Or()){return/webos/i.test(t)}function Lk(t=Or()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function PZ(t=Or()){var i;return Lk(t)&&!!(!((i=window.navigator)===null||i===void 0)&&i.standalone)}function FZ(){return nF()&&document.documentMode===10}function hV(t=Or()){return Lk(t)||cV(t)||uV(t)||dV(t)||/windows phone/i.test(t)||lV(t)}function mV(t,i=[]){let e;switch(t){case"Browser":e=UF(Or());break;case"Worker":e=`${UF(Or())}-${t}`;break;default:e=t}let n=i.length?i.join(","):"FirebaseCore-web";return`${e}/JsCore/${ld}/${n}`}var pk=class{constructor(i){this.auth=i,this.queue=[]}pushCallback(i,e){let n=a=>new Promise((s,o)=>{try{let l=i(a);s(l)}catch(l){o(l)}});n.onAbort=e,this.queue.push(n);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(i){return L(this,null,function*(){if(this.auth.currentUser===i)return;let e=[];try{for(let n of this.queue)yield n(i),n.onAbort&&e.push(n.onAbort)}catch(n){e.reverse();for(let r of e)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}})}};function VZ(e){return L(this,arguments,function*(t,i={}){return tc(t,"GET","/v2/passwordPolicy",pd(t,i))})}var BZ=6,fk=class{constructor(i){var e,n,r,a;let s=i.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=s.minPasswordLength)!==null&&e!==void 0?e:BZ,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=i.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(n=i.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(a=i.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=i.schemaVersion}validatePassword(i){var e,n,r,a,s,o;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(i,l),this.validatePasswordCharacterOptions(i,l),l.isValid&&(l.isValid=(e=l.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),l.isValid&&(l.isValid=(n=l.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.containsLowercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(a=l.containsUppercaseLetter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),l}validatePasswordLengthOptions(i,e){let n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(e.meetsMinPasswordLength=i.length>=n),r&&(e.meetsMaxPasswordLength=i.length<=r)}validatePasswordCharacterOptions(i,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let n;for(let r=0;r<i.length;r++)n=i.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(i,e,n,r,a){this.customStrengthOptions.containsLowercaseLetter&&(i.containsLowercaseLetter||(i.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(i.containsUppercaseLetter||(i.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(i.containsNumericCharacter||(i.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(i.containsNonAlphanumericCharacter||(i.containsNonAlphanumericCharacter=a))}};var gk=class{constructor(i,e,n,r){this.app=i,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mx(this),this.idTokenSubscription=new mx(this),this.beforeStateQueue=new pk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tV,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=i.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(i,e){return e&&(this._popupRedirectResolver=Xl(e)),this._initializationPromise=this.queue(()=>L(this,null,function*(){var n,r,a;if(!this._deleted&&(this.persistenceManager=yield hx.create(this,i),(n=this._resolvePersistenceManagerAvailable)===null||n===void 0||n.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(e),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return L(this,null,function*(){if(this._deleted)return;let i=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!i)){if(this.currentUser&&i&&this.currentUser.uid===i.uid){this._currentUser._assign(i),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(i,!0)}})}initializeCurrentUserFromIdToken(i){return L(this,null,function*(){try{let e=yield dx(this,{idToken:i}),n=yield md._fromGetAccountInfoResponse(this,e,i);yield this.directlySetCurrentUser(n)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(i){return L(this,null,function*(){var e;if(sa(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}let n=yield this.assertedPersistence.getCurrentUser(),r=n,a=!1;if(i&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,o=r?._redirectEventId,l=yield this.tryRedirectSignIn(i);(!s||s===o)&&l?.user&&(r=l.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{yield this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ct(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(i){return L(this,null,function*(){let e=null;try{e=yield this._popupRedirectResolver._completeRedirectFn(this,i,!0)}catch{yield this._setRedirectUser(null)}return e})}reloadAndSetCurrentUserOrClear(i){return L(this,null,function*(){try{yield ux(i)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(i)})}useDeviceLanguage(){this.languageCode=DZ()}_delete(){return L(this,null,function*(){this._deleted=!0})}updateCurrentUser(i){return L(this,null,function*(){if(sa(this.app))return Promise.reject(Jl(this));let e=i?kn(i):null;return e&&ct(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))})}_updateCurrentUser(i,e=!1){return L(this,null,function*(){if(!this._deleted)return i&&ct(this.tenantId===i.tenantId,this,"tenant-id-mismatch"),e||(yield this.beforeStateQueue.runMiddleware(i)),this.queue(()=>L(this,null,function*(){yield this.directlySetCurrentUser(i),this.notifyAuthListeners()}))})}signOut(){return L(this,null,function*(){return sa(this.app)?Promise.reject(Jl(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(i){return sa(this.app)?Promise.reject(Jl(this)):this.queue(()=>L(this,null,function*(){yield this.assertedPersistence.setPersistence(Xl(i))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(i){return L(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(i)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return L(this,null,function*(){let i=yield VZ(this),e=new fk(i);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(i){this._errorFactory=new ao("auth","Firebase",i())}onAuthStateChanged(i,e,n){return this.registerStateListener(this.authStateSubscription,i,e,n)}beforeAuthStateChanged(i,e){return this.beforeStateQueue.pushCallback(i,e)}onIdTokenChanged(i,e,n){return this.registerStateListener(this.idTokenSubscription,i,e,n)}authStateReady(){return new Promise((i,e)=>{if(this.currentUser)i();else{let n=this.onAuthStateChanged(()=>{n(),i()},e)}})}revokeAccessToken(i){return L(this,null,function*(){if(this.currentUser){let e=yield this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:i,idToken:e};this.tenantId!=null&&(n.tenantId=this.tenantId),yield LZ(this,n)}})}toJSON(){var i;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(i=this._currentUser)===null||i===void 0?void 0:i.toJSON()}}_setRedirectUser(i,e){return L(this,null,function*(){let n=yield this.getOrInitRedirectPersistenceManager(e);return i===null?n.removeCurrentUser():n.setCurrentUser(i)})}getOrInitRedirectPersistenceManager(i){return L(this,null,function*(){if(!this.redirectPersistenceManager){let e=i&&Xl(i)||this._popupRedirectResolver;ct(e,this,"argument-error"),this.redirectPersistenceManager=yield hx.create(this,[Xl(e._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(i){return L(this,null,function*(){var e,n;return this._isInitialized&&(yield this.queue(()=>L(this,null,function*(){}))),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===i?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===i?this.redirectUser:null})}_persistUserIfCurrent(i){return L(this,null,function*(){if(i===this.currentUser)return this.queue(()=>L(this,null,function*(){return this.directlySetCurrentUser(i)}))})}_notifyListenersIfCurrent(i){i===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var i,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let n=(e=(i=this.currentUser)===null||i===void 0?void 0:i.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(i,e,n,r){if(this._deleted)return()=>{};let a=typeof e=="function"?e:e.next.bind(e),s=!1,o=this._isInitialized?Promise.resolve():this._initializationPromise;if(ct(o,this,"internal-error"),o.then(()=>{s||a(this.currentUser)}),typeof e=="function"){let l=i.addObserver(e,n,r);return()=>{s=!0,l()}}else{let l=i.addObserver(e);return()=>{s=!0,l()}}}directlySetCurrentUser(i){return L(this,null,function*(){this.currentUser&&this.currentUser!==i&&this._currentUser._stopProactiveRefresh(),i&&this.isProactiveRefreshEnabled&&i._startProactiveRefresh(),this.currentUser=i,i?yield this.assertedPersistence.setCurrentUser(i):yield this.assertedPersistence.removeCurrentUser()})}queue(i){return this.operations=this.operations.then(i,i),this.operations}get assertedPersistence(){return ct(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(i){!i||this.frameworks.includes(i)||(this.frameworks.push(i),this.frameworks.sort(),this.clientVersion=mV(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return L(this,null,function*(){var i;let e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);let n=yield(i=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||i===void 0?void 0:i.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);let r=yield this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e})}_getAppCheckToken(){return L(this,null,function*(){var i;if(sa(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=yield(i=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||i===void 0?void 0:i.getToken();return e?.error&&_Z(`Error while retrieving App Check token: ${e.error}`),e?.token})}};function fd(t){return kn(t)}var mx=class{constructor(i){this.auth=i,this.observer=null,this.addObserver=lF(e=>this.observer=e)}get next(){return ct(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Cx={loadJS(){return L(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jZ(t){Cx=t}function pV(t){return Cx.loadJS(t)}function zZ(){return Cx.recaptchaEnterpriseScript}function UZ(){return Cx.gapiScript}function fV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var yk=class{constructor(){this.enterprise=new bk}ready(i){i()}execute(i,e){return Promise.resolve("token")}render(i,e){return""}},bk=class{ready(i){i()}execute(i,e){return Promise.resolve("token")}render(i,e){return""}};var HZ="recaptcha-enterprise",gV="NO_RECAPTCHA",vk=class{constructor(i){this.type=HZ,this.auth=fd(i)}verify(i="verify",e=!1){return L(this,null,function*(){function n(a){return L(this,null,function*(){if(!e){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise((s,o)=>L(null,null,function*(){AZ(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{let c=new uk(l);return a.tenantId==null?a._agentRecaptchaConfig=c:a._tenantRecaptchaConfigs[a.tenantId]=c,s(c.siteKey)}}).catch(l=>{o(l)})}))})}function r(a,s,o){let l=window.grecaptcha;BF(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:i}).then(c=>{s(c)}).catch(()=>{s(gV)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new yk().execute("siteKey",{action:"verify"}):new Promise((a,s)=>{n(this.auth).then(o=>{if(!e&&BF(window.grecaptcha))r(o,a,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=zZ();l.length!==0&&(l+=o),pV(l).then(()=>{r(o,a,s)}).catch(c=>{s(c)})}}).catch(o=>{s(o)})})})}};function Cy(t,i,e,n=!1,r=!1){return L(this,null,function*(){let a=new vk(t),s;if(r)s=gV;else try{s=yield a.verify(e)}catch{s=yield a.verify(e,!0)}let o=Object.assign({},i);if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){let l=o.phoneEnrollmentInfo.phoneNumber,c=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){let l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return n?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function _k(t,i,e,n,r){return L(this,null,function*(){var a,s;if(r==="EMAIL_PASSWORD_PROVIDER")if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=yield Cy(t,i,e,e==="getOobCode");return n(t,o)}else return n(t,i).catch(o=>L(null,null,function*(){if(o.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let l=yield Cy(t,i,e,e==="getOobCode");return n(t,l)}else return Promise.reject(o)}));else if(r==="PHONE_PROVIDER")if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let o=yield Cy(t,i,e);return n(t,o).catch(l=>L(null,null,function*(){var c;if(((c=t._getRecaptchaConfig())===null||c===void 0?void 0:c.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${e} flow.`);let d=yield Cy(t,i,e,!1,!0);return n(t,d)}return Promise.reject(l)}))}else{let o=yield Cy(t,i,e,!1,!0);return n(t,o)}else return Promise.reject(r+" provider is not supported.")})}function Nk(t,i){let e=Ym(t,"auth");if(e.isInitialized()){let r=e.getImmediate(),a=e.getOptions();if(al(a,i??{}))return r;ys(r,"already-initialized")}return e.initialize({options:i})}function GZ(t,i){let e=i?.persistence||[],n=(Array.isArray(e)?e:[e]).map(Xl);i?.errorMap&&t._updateErrorMap(i.errorMap),t._initializeWithPersistence(n,i?.popupRedirectResolver)}function Pk(t,i,e){let n=fd(t);ct(/^https?:\/\//.test(i),n,"invalid-emulator-scheme");let r=!!e?.disableWarnings,a=yV(i),{host:s,port:o}=WZ(i),l=o===null?"":`:${o}`,c={url:`${a}//${s}${l}/`},d=Object.freeze({host:s,port:o,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!n._canInitEmulator){ct(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),ct(al(c,n.config.emulator)&&al(d,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=c,n.emulatorConfig=d,n.settings.appVerificationDisabledForTesting=!0,ad(s)?(Y0(`${a}//${s}${l}`),K0("Auth",!0)):r||$Z()}function yV(t){let i=t.indexOf(":");return i<0?"":t.substr(0,i+1)}function WZ(t){let i=yV(t),e=/(\/\/)?([^?#/]+)/.exec(t.substr(i.length));if(!e)return{host:"",port:null};let n=e[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(n);if(r){let a=r[1];return{host:a,port:HF(n.substr(a.length+1))}}else{let[a,s]=n.split(":");return{host:a,port:HF(s)}}}function HF(t){if(!t)return null;let i=Number(t);return isNaN(i)?null:i}function $Z(){function t(){let i=document.createElement("p"),e=i.style;i.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",i.classList.add("firebase-emulator-warning"),document.body.appendChild(i)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Jm=class{constructor(i,e){this.providerId=i,this.signInMethod=e}toJSON(){return Ql("not implemented")}_getIdTokenResponse(i){return Ql("not implemented")}_linkToIdToken(i,e){return Ql("not implemented")}_getReauthenticationResolver(i){return Ql("not implemented")}};function YZ(t,i){return L(this,null,function*(){return tc(t,"POST","/v1/accounts:signUp",i)})}function KZ(t,i){return L(this,null,function*(){return Ay(t,"POST","/v1/accounts:signInWithPassword",pd(t,i))})}function qZ(t,i){return L(this,null,function*(){return Ay(t,"POST","/v1/accounts:signInWithEmailLink",pd(t,i))})}function ZZ(t,i){return L(this,null,function*(){return Ay(t,"POST","/v1/accounts:signInWithEmailLink",pd(t,i))})}var My=class t extends Jm{constructor(i,e,n,r=null){super("password",n),this._email=i,this._password=e,this._tenantId=r}static _fromEmailAndPassword(i,e){return new t(i,e,"password")}static _fromEmailAndCode(i,e,n=null){return new t(i,e,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(i){let e=typeof i=="string"?JSON.parse(i):i;if(e?.email&&e?.password){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}_getIdTokenResponse(i){return L(this,null,function*(){switch(this.signInMethod){case"password":let e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _k(i,e,"signInWithPassword",KZ,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return qZ(i,{email:this._email,oobCode:this._password});default:ys(i,"internal-error")}})}_linkToIdToken(i,e){return L(this,null,function*(){switch(this.signInMethod){case"password":let n={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _k(i,n,"signUpPassword",YZ,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return ZZ(i,{idToken:e,email:this._email,oobCode:this._password});default:ys(i,"internal-error")}})}_getReauthenticationResolver(i){return this._getIdTokenResponse(i)}};function Qm(t,i){return L(this,null,function*(){return Ay(t,"POST","/v1/accounts:signInWithIdp",pd(t,i))})}var QZ="http://localhost",px=class t extends Jm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(i){let e=new t(i.providerId,i.signInMethod);return i.idToken||i.accessToken?(i.idToken&&(e.idToken=i.idToken),i.accessToken&&(e.accessToken=i.accessToken),i.nonce&&!i.pendingToken&&(e.nonce=i.nonce),i.pendingToken&&(e.pendingToken=i.pendingToken)):i.oauthToken&&i.oauthTokenSecret?(e.accessToken=i.oauthToken,e.secret=i.oauthTokenSecret):ys("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(i){let e=typeof i=="string"?JSON.parse(i):i,{providerId:n,signInMethod:r}=e,a=h_(e,["providerId","signInMethod"]);if(!n||!r)return null;let s=new t(n,r);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(i){let e=this.buildRequest();return Qm(i,e)}_linkToIdToken(i,e){let n=this.buildRequest();return n.idToken=e,Qm(i,n)}_getReauthenticationResolver(i){let e=this.buildRequest();return e.autoCreate=!1,Qm(i,e)}buildRequest(){let i={requestUri:QZ,returnSecureToken:!0};if(this.pendingToken)i.pendingToken=this.pendingToken;else{let e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),i.postBody=sd(e)}return i}};function XZ(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function JZ(t){let i=Wm($m(t)).link,e=i?Wm($m(i)).deep_link_id:null,n=Wm($m(t)).deep_link_id;return(n?Wm($m(n)).link:null)||n||e||i||t}var fx=class t{constructor(i){var e,n,r,a,s,o;let l=Wm($m(i)),c=(e=l.apiKey)!==null&&e!==void 0?e:null,d=(n=l.oobCode)!==null&&n!==void 0?n:null,u=XZ((r=l.mode)!==null&&r!==void 0?r:null);ct(c&&d&&u,"argument-error"),this.apiKey=c,this.operation=u,this.code=d,this.continueUrl=(a=l.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(s=l.lang)!==null&&s!==void 0?s:null,this.tenantId=(o=l.tenantId)!==null&&o!==void 0?o:null}static parseLink(i){let e=JZ(i);try{return new t(e)}catch{return null}}};var bV=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(e,n){return My._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){let r=fx.parseLink(n);return ct(r,"argument-error"),My._fromEmailAndCode(e,r.code,r.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Iy=class{constructor(i){this.providerId=i,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(i){this.defaultLanguageCode=i}setCustomParameters(i){return this.customParameters=i,this}getCustomParameters(){return this.customParameters}};var gx=class extends Iy{constructor(){super(...arguments),this.scopes=[]}addScope(i){return this.scopes.includes(i)||this.scopes.push(i),this}getScopes(){return[...this.scopes]}};var Fk=(()=>{class t extends gx{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return px._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return t.credentialFromTaggedObject(e)}static credentialFromError(e){return t.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return t.credential(n,r)}catch{return null}}}t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com";return t})();function eQ(t,i){return L(this,null,function*(){return Ay(t,"POST","/v1/accounts:signUp",pd(t,i))})}var ep=class t{constructor(i){this.user=i.user,this.providerId=i.providerId,this._tokenResponse=i._tokenResponse,this.operationType=i.operationType}static _fromIdTokenResponse(i,e,n,r=!1){return L(this,null,function*(){let a=yield md._fromIdTokenResponse(i,n,r),s=GF(n);return new t({user:a,providerId:s,_tokenResponse:n,operationType:e})})}static _forOperation(i,e,n){return L(this,null,function*(){yield i._updateTokensIfNecessary(n,!0);let r=GF(n);return new t({user:i,providerId:r,_tokenResponse:n,operationType:e})})}};function GF(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var xk=class t extends ro{constructor(i,e,n,r){var a;super(e.code,e.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,t.prototype),this.customData={appName:i.name,tenantId:(a=i.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:e.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(i,e,n,r){return new t(i,e,n,r)}};function vV(t,i,e,n){return(i==="reauthenticate"?e._getReauthenticationResolver(t):e._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?xk._fromErrorAndOperation(t,a,i,n):a})}function tQ(t,i,e=!1){return L(this,null,function*(){let n=yield Xm(t,i._linkToIdToken(t.auth,yield t.getIdToken()),e);return ep._forOperation(t,"link",n)})}function iQ(t,i,e=!1){return L(this,null,function*(){let{auth:n}=t;if(sa(n.app))return Promise.reject(Jl(n));let r="reauthenticate";try{let a=yield Xm(t,vV(n,r,i,t),e);ct(a.idToken,n,"internal-error");let s=Rk(a.idToken);ct(s,n,"internal-error");let{sub:o}=s;return ct(t.uid===o,n,"user-mismatch"),ep._forOperation(t,r,a)}catch(a){throw a?.code==="auth/user-not-found"&&ys(n,"user-mismatch"),a}})}function _V(t,i,e=!1){return L(this,null,function*(){if(sa(t.app))return Promise.reject(Jl(t));let n="signIn",r=yield vV(t,n,i),a=yield ep._fromIdTokenResponse(t,n,r);return e||(yield t._updateCurrentUser(a.user)),a})}function Vk(t,i){return L(this,null,function*(){return _V(fd(t),i)})}function xV(t){return L(this,null,function*(){let i=fd(t);i._getPasswordPolicyInternal()&&(yield i._updatePasswordPolicy())})}function Bk(t,i,e){return L(this,null,function*(){if(sa(t.app))return Promise.reject(Jl(t));let n=fd(t),s=yield _k(n,{returnSecureToken:!0,email:i,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",eQ,"EMAIL_PASSWORD_PROVIDER").catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&xV(t),l}),o=yield ep._fromIdTokenResponse(n,"signIn",s);return yield n._updateCurrentUser(o.user),o})}function jk(t,i,e){return sa(t.app)?Promise.reject(Jl(t)):Vk(kn(t),bV.credential(i,e)).catch(n=>L(null,null,function*(){throw n.code==="auth/password-does-not-meet-requirements"&&xV(t),n}))}function nQ(t,i){return L(this,null,function*(){return tc(t,"POST","/v1/accounts:update",i)})}function zk(n,r){return L(this,arguments,function*(t,{displayName:i,photoURL:e}){if(i===void 0&&e===void 0)return;let a=kn(t),o={idToken:yield a.getIdToken(),displayName:i,photoUrl:e,returnSecureToken:!0},l=yield Xm(a,nQ(a.auth,o));a.displayName=l.displayName||null,a.photoURL=l.photoUrl||null;let c=a.providerData.find(({providerId:d})=>d==="password");c&&(c.displayName=a.displayName,c.photoURL=a.photoURL),yield a._updateTokensIfNecessary(l)})}function Uk(t,i,e,n){return kn(t).onIdTokenChanged(i,e,n)}function Hk(t,i,e){return kn(t).beforeAuthStateChanged(i,e)}function Gk(t,i,e,n){return kn(t).onAuthStateChanged(i,e,n)}function Wk(t){return kn(t).signOut()}var yx="__sak";var bx=class{constructor(i,e){this.storageRetriever=i,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(yx,"1"),this.storage.removeItem(yx),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(i,e){return this.storage.setItem(i,JSON.stringify(e)),Promise.resolve()}_get(i){let e=this.storage.getItem(i);return Promise.resolve(e?JSON.parse(e):null)}_remove(i){return this.storage.removeItem(i),Promise.resolve()}get storage(){return this.storageRetriever()}};var rQ=1e3,aQ=10,sQ=(()=>{class t extends bx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hV(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(let n of Object.keys(this.listeners)){let r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}let r=e.key;n?this.detachListener():this.stopPolling();let a=()=>{let o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);FZ()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,aQ):a()}notifyListeners(e,n){this.localCache[e]=n;let r=this.listeners[e];if(r)for(let a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},rQ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(e,n){return L(this,null,function*(){yield zo(t.prototype,this,"_set").call(this,e,n),this.localCache[e]=JSON.stringify(n)})}_get(e){return L(this,null,function*(){let n=yield zo(t.prototype,this,"_get").call(this,e);return this.localCache[e]=JSON.stringify(n),n})}_remove(e){return L(this,null,function*(){yield zo(t.prototype,this,"_remove").call(this,e),delete this.localCache[e]})}}return t.type="LOCAL",t})(),CV=sQ;var oQ=(()=>{class t extends bx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}return t.type="SESSION",t})(),$k=oQ;function lQ(t){return Promise.all(t.map(i=>L(null,null,function*(){try{return{fulfilled:!0,value:yield i}}catch(e){return{fulfilled:!1,reason:e}}})))}var cQ=(()=>{class t{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){let n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;let r=new t(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}handleEvent(e){return L(this,null,function*(){let n=e,{eventId:r,eventType:a,data:s}=n.data,o=this.handlersMap[a];if(!o?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});let l=Array.from(o).map(d=>L(this,null,function*(){return d(n.origin,s)})),c=yield lQ(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:c})})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function Yk(t="",i=10){let e="";for(let n=0;n<i;n++)e+=Math.floor(Math.random()*10);return t+e}var Ck=class{constructor(i){this.target=i,this.handlers=new Set}removeMessageHandler(i){i.messageChannel&&(i.messageChannel.port1.removeEventListener("message",i.onMessage),i.messageChannel.port1.close()),this.handlers.delete(i)}_send(i,e,n=50){return L(this,null,function*(){let r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let a,s;return new Promise((o,l)=>{let c=Yk("",20);r.port1.start();let d=setTimeout(()=>{l(new Error("unsupported_event"))},n);s={messageChannel:r,onMessage(u){let h=u;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(d),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),o(h.data.response);break;default:clearTimeout(d),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:i,eventId:c,data:e},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function ll(){return window}function dQ(t){ll().location.href=t}function wV(){return typeof ll().WorkerGlobalScope<"u"&&typeof ll().importScripts=="function"}function uQ(){return L(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function hQ(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function mQ(){return wV()?self:null}var DV="firebaseLocalStorageDb",pQ=1,vx="firebaseLocalStorage",SV="fbase_key",Bu=class{constructor(i){this.request=i}toPromise(){return new Promise((i,e)=>{this.request.addEventListener("success",()=>{i(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}};function wx(t,i){return t.transaction([vx],i?"readwrite":"readonly").objectStore(vx)}function fQ(){let t=indexedDB.deleteDatabase(DV);return new Bu(t).toPromise()}function wk(){let t=indexedDB.open(DV,pQ);return new Promise((i,e)=>{t.addEventListener("error",()=>{e(t.error)}),t.addEventListener("upgradeneeded",()=>{let n=t.result;try{n.createObjectStore(vx,{keyPath:SV})}catch(r){e(r)}}),t.addEventListener("success",()=>L(null,null,function*(){let n=t.result;n.objectStoreNames.contains(vx)?i(n):(n.close(),yield fQ(),i(yield wk()))}))})}function WF(t,i,e){return L(this,null,function*(){let n=wx(t,!0).put({[SV]:i,value:e});return new Bu(n).toPromise()})}function gQ(t,i){return L(this,null,function*(){let e=wx(t,!1).get(i),n=yield new Bu(e).toPromise();return n===void 0?null:n.value})}function $F(t,i){let e=wx(t,!0).delete(i);return new Bu(e).toPromise()}var yQ=800,bQ=3,vQ=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return L(this,null,function*(){return this.db?this.db:(this.db=yield wk(),this.db)})}_withRetries(e){return L(this,null,function*(){let n=0;for(;;)try{let r=yield this._openDb();return yield e(r)}catch(r){if(n++>bQ)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return L(this,null,function*(){return wV()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return L(this,null,function*(){this.receiver=cQ._getInstance(mQ()),this.receiver._subscribe("keyChanged",(e,n)=>L(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(n.key)}})),this.receiver._subscribe("ping",(e,n)=>L(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return L(this,null,function*(){var e,n;if(this.activeServiceWorker=yield uQ(),!this.activeServiceWorker)return;this.sender=new Ck(this.activeServiceWorker);let r=yield this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(e){return L(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||hQ()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return L(this,null,function*(){try{if(!indexedDB)return!1;let e=yield wk();return yield WF(e,yx,"1"),yield $F(e,yx),!0}catch{}return!1})}_withPendingWrite(e){return L(this,null,function*(){this.pendingWrites++;try{yield e()}finally{this.pendingWrites--}})}_set(e,n){return L(this,null,function*(){return this._withPendingWrite(()=>L(this,null,function*(){return yield this._withRetries(r=>WF(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)}))})}_get(e){return L(this,null,function*(){let n=yield this._withRetries(r=>gQ(r,e));return this.localCache[e]=n,n})}_remove(e){return L(this,null,function*(){return this._withPendingWrite(()=>L(this,null,function*(){return yield this._withRetries(n=>$F(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)}))})}_poll(){return L(this,null,function*(){let e=yield this._withRetries(a=>{let s=wx(a,!1).getAll();return new Bu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];let n=[],r=new Set;if(e.length!==0)for(let{fbase_key:a,value:s}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(s)&&(this.notifyListeners(a,s),n.push(a));for(let a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n})}notifyListeners(e,n){this.localCache[e]=n;let r=this.listeners[e];if(r)for(let a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>L(this,null,function*(){return this._poll()}),yQ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),MV=vQ;var QSe=fV("rcb"),XSe=new Vu(3e4,6e4);function IV(t,i){return i?Xl(i):(ct(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var ky=class extends Jm{constructor(i){super("custom","custom"),this.params=i}_getIdTokenResponse(i){return Qm(i,this._buildIdpRequest())}_linkToIdToken(i,e){return Qm(i,this._buildIdpRequest(e))}_getReauthenticationResolver(i){return Qm(i,this._buildIdpRequest())}_buildIdpRequest(i){let e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return i&&(e.idToken=i),e}};function _Q(t){return _V(t.auth,new ky(t),t.bypassAuthState)}function xQ(t){let{auth:i,user:e}=t;return ct(e,i,"internal-error"),iQ(e,new ky(t),t.bypassAuthState)}function CQ(t){return L(this,null,function*(){let{auth:i,user:e}=t;return ct(e,i,"internal-error"),tQ(e,new ky(t),t.bypassAuthState)})}var _x=class{constructor(i,e,n,r,a=!1){this.auth=i,this.resolver=n,this.user=r,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise((i,e)=>L(this,null,function*(){this.pendingPromise={resolve:i,reject:e};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}onAuthEvent(i){return L(this,null,function*(){let{urlResponse:e,sessionId:n,postBody:r,tenantId:a,error:s,type:o}=i;if(s){this.reject(s);return}let l={auth:this.auth,requestUri:e,sessionId:n,tenantId:a||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(o)(l))}catch(c){this.reject(c)}})}onError(i){this.reject(i)}getIdpTask(i){switch(i){case"signInViaPopup":case"signInViaRedirect":return _Q;case"linkViaPopup":case"linkViaRedirect":return CQ;case"reauthViaPopup":case"reauthViaRedirect":return xQ;default:ys(this.auth,"internal-error")}}resolve(i){ec(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(i),this.unregisterAndCleanUp()}reject(i){ec(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(i),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var wQ=new Vu(2e3,1e4);function Kk(t,i,e){return L(this,null,function*(){if(sa(t.app))return Promise.reject(lo(t,"operation-not-supported-in-this-environment"));let n=fd(t);xZ(t,i,Iy);let r=IV(n,e);return new DQ(n,"signInViaPopup",i,r).executeNotNull()})}var DQ=(()=>{class t extends _x{constructor(e,n,r,a,s){super(e,n,a,s),this.provider=r,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){return L(this,null,function*(){let e=yield this.execute();return ct(e,this.auth,"internal-error"),e})}onExecution(){return L(this,null,function*(){ec(this.filter.length===1,"Popup operations only handle one event");let e=Yk();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(lo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(lo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){let e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(lo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,wQ.get())};e()}}t.currentPopupAction=null;return t})(),SQ="pendingRedirect",sx=new Map,Dk=class t extends _x{constructor(i,e,n=!1){super(i,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,n),this.eventId=null}execute(){return L(this,null,function*(){let i=sx.get(this.auth._key());if(!i){try{let n=(yield MQ(this.resolver,this.auth))?yield zo(t.prototype,this,"execute").call(this):null;i=()=>Promise.resolve(n)}catch(e){i=()=>Promise.reject(e)}sx.set(this.auth._key(),i)}return this.bypassAuthState||sx.set(this.auth._key(),()=>Promise.resolve(null)),i()})}onAuthEvent(i){return L(this,null,function*(){if(i.type==="signInViaRedirect")return zo(t.prototype,this,"onAuthEvent").call(this,i);if(i.type==="unknown"){this.resolve(null);return}if(i.eventId){let e=yield this.auth._redirectUserForId(i.eventId);if(e)return this.user=e,zo(t.prototype,this,"onAuthEvent").call(this,i);this.resolve(null)}})}onExecution(){return L(this,null,function*(){})}cleanUp(){}};function MQ(t,i){return L(this,null,function*(){let e=AQ(i),n=kQ(t);if(!(yield n._isAvailable()))return!1;let r=(yield n._get(e))==="true";return yield n._remove(e),r})}function IQ(t,i){sx.set(t._key(),i)}function kQ(t){return Xl(t._redirectPersistence)}function AQ(t){return ax(SQ,t.config.apiKey,t.name)}function EQ(t,i,e=!1){return L(this,null,function*(){if(sa(t.app))return Promise.reject(Jl(t));let n=fd(t),r=IV(n,i),s=yield new Dk(n,r,e).execute();return s&&!e&&(delete s.user._redirectEventId,yield n._persistUserIfCurrent(s.user),yield n._setRedirectUser(null,i)),s})}var TQ=10*60*1e3,Sk=class{constructor(i){this.auth=i,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(i){this.consumers.add(i),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,i)&&(this.sendToConsumer(this.queuedRedirectEvent,i),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(i){this.consumers.delete(i)}onEvent(i){if(this.hasEventBeenHandled(i))return!1;let e=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(i,n)&&(e=!0,this.sendToConsumer(i,n),this.saveEventToCache(i))}),this.hasHandledPotentialRedirect||!RQ(i)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=i,e=!0)),e}sendToConsumer(i,e){var n;if(i.error&&!kV(i)){let r=((n=i.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";e.onError(lo(this.auth,r))}else e.onAuthEvent(i)}isEventForConsumer(i,e){let n=e.eventId===null||!!i.eventId&&i.eventId===e.eventId;return e.filter.includes(i.type)&&n}hasEventBeenHandled(i){return Date.now()-this.lastProcessedEventTime>=TQ&&this.cachedEventUids.clear(),this.cachedEventUids.has(YF(i))}saveEventToCache(i){this.cachedEventUids.add(YF(i)),this.lastProcessedEventTime=Date.now()}};function YF(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(i=>i).join("-")}function kV({type:t,error:i}){return t==="unknown"&&i?.code==="auth/no-auth-event"}function RQ(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kV(t);default:return!1}}function OQ(e){return L(this,arguments,function*(t,i={}){return tc(t,"GET","/v1/projects",i)})}var LQ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,NQ=/^https?/;function PQ(t){return L(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:i}=yield OQ(t);for(let e of i)try{if(FQ(e))return}catch{}ys(t,"unauthorized-domain")})}function FQ(t){let i=ck(),{protocol:e,hostname:n}=new URL(i);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&n===""?e==="chrome-extension:"&&t.replace("chrome-extension://","")===i.replace("chrome-extension://",""):e==="chrome-extension:"&&s.hostname===n}if(!NQ.test(e))return!1;if(LQ.test(t))return n===t;let r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(n)}var VQ=new Vu(3e4,6e4);function KF(){let t=ll().___jsl;if(t?.H){for(let i of Object.keys(t.H))if(t.H[i].r=t.H[i].r||[],t.H[i].L=t.H[i].L||[],t.H[i].r=[...t.H[i].L],t.CP)for(let e=0;e<t.CP.length;e++)t.CP[e]=null}}function BQ(t){return new Promise((i,e)=>{var n,r,a;function s(){KF(),gapi.load("gapi.iframes",{callback:()=>{i(gapi.iframes.getContext())},ontimeout:()=>{KF(),e(lo(t,"network-request-failed"))},timeout:VQ.get()})}if(!((r=(n=ll().gapi)===null||n===void 0?void 0:n.iframes)===null||r===void 0)&&r.Iframe)i(gapi.iframes.getContext());else if(!((a=ll().gapi)===null||a===void 0)&&a.load)s();else{let o=fV("iframefcb");return ll()[o]=()=>{gapi.load?s():e(lo(t,"network-request-failed"))},pV(`${UZ()}?onload=${o}`).catch(l=>e(l))}}).catch(i=>{throw ox=null,i})}var ox=null;function jQ(t){return ox=ox||BQ(t),ox}var zQ=new Vu(5e3,15e3),UQ="__/auth/iframe",HQ="emulator/auth/iframe",GQ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},WQ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $Q(t){let i=t.config;ct(i.authDomain,t,"auth-domain-config-required");let e=i.emulator?Ek(i,HQ):`https://${t.config.authDomain}/${UQ}`,n={apiKey:i.apiKey,appName:t.name,v:ld},r=WQ.get(t.config.apiHost);r&&(n.eid=r);let a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${e}?${sd(n).slice(1)}`}function YQ(t){return L(this,null,function*(){let i=yield jQ(t),e=ll().gapi;return ct(e,t,"internal-error"),i.open({where:document.body,url:$Q(t),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:GQ,dontclear:!0},n=>new Promise((r,a)=>L(null,null,function*(){yield n.restyle({setHideOnLeave:!1});let s=lo(t,"network-request-failed"),o=ll().setTimeout(()=>{a(s)},zQ.get());function l(){ll().clearTimeout(o),r(n)}n.ping(l).then(l,()=>{a(s)})})))})}var KQ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qQ=500,ZQ=600,QQ="_blank",XQ="http://localhost",xx=class{constructor(i){this.window=i,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function JQ(t,i,e,n=qQ,r=ZQ){let a=Math.max((window.screen.availHeight-r)/2,0).toString(),s=Math.max((window.screen.availWidth-n)/2,0).toString(),o="",l=Object.assign(Object.assign({},KQ),{width:n.toString(),height:r.toString(),top:a,left:s}),c=Or().toLowerCase();e&&(o=oV(c)?QQ:e),aV(c)&&(i=i||XQ,l.scrollbars="yes");let d=Object.entries(l).reduce((h,[m,p])=>`${h}${m}=${p},`,"");if(PZ(c)&&o!=="_self")return eX(i||"",o),new xx(null);let u=window.open(i||"",o,d);ct(u,t,"popup-blocked");try{u.focus()}catch{}return new xx(u)}function eX(t,i){let e=document.createElement("a");e.href=t,e.target=i;let n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(n)}var tX="__/auth/handler",iX="emulator/auth/handler",nX=encodeURIComponent("fac");function qF(t,i,e,n,r,a){return L(this,null,function*(){ct(t.config.authDomain,t,"auth-domain-config-required"),ct(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:e,redirectUrl:n,v:ld,eventId:r};if(i instanceof Iy){i.setDefaultLanguage(t.languageCode),s.providerId=i.providerId||"",my(i.getCustomParameters())||(s.customParameters=JSON.stringify(i.getCustomParameters()));for(let[d,u]of Object.entries(a||{}))s[d]=u}if(i instanceof gx){let d=i.getScopes().filter(u=>u!=="");d.length>0&&(s.scopes=d.join(","))}t.tenantId&&(s.tid=t.tenantId);let o=s;for(let d of Object.keys(o))o[d]===void 0&&delete o[d];let l=yield t._getAppCheckToken(),c=l?`#${nX}=${encodeURIComponent(l)}`:"";return`${rX(t)}?${sd(o).slice(1)}${c}`})}function rX({config:t}){return t.emulator?Ek(t,iX):`https://${t.authDomain}/${tX}`}var lk="webStorageSupport",Mk=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$k,this._completeRedirectFn=EQ,this._overrideRedirectResult=IQ}_openPopup(i,e,n,r){return L(this,null,function*(){var a;ec((a=this.eventManagers[i._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");let s=yield qF(i,e,n,ck(),r);return JQ(i,s,Yk())})}_openRedirect(i,e,n,r){return L(this,null,function*(){yield this._originValidation(i);let a=yield qF(i,e,n,ck(),r);return dQ(a),new Promise(()=>{})})}_initialize(i){let e=i._key();if(this.eventManagers[e]){let{manager:r,promise:a}=this.eventManagers[e];return r?Promise.resolve(r):(ec(a,"If manager is not set, promise should be"),a)}let n=this.initAndGetManager(i);return this.eventManagers[e]={promise:n},n.catch(()=>{delete this.eventManagers[e]}),n}initAndGetManager(i){return L(this,null,function*(){let e=yield YQ(i),n=new Sk(i);return e.register("authEvent",r=>(ct(r?.authEvent,i,"invalid-auth-event"),{status:n.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[i._key()]={manager:n},this.iframes[i._key()]=e,n})}_isIframeWebStorageSupported(i,e){this.iframes[i._key()].send(lk,{type:lk},r=>{var a;let s=(a=r?.[0])===null||a===void 0?void 0:a[lk];s!==void 0&&e(!!s),ys(i,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(i){let e=i._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=PQ(i)),this.originValidationPromises[e]}get _shouldInitProactively(){return hV()||sV()||Lk()}},AV=Mk;var ZF="@firebase/auth",QF="1.10.8";var Ik=class{constructor(i){this.auth=i,this.internalListeners=new Map}getUid(){var i;return this.assertAuthConfigured(),((i=this.auth.currentUser)===null||i===void 0?void 0:i.uid)||null}getToken(i){return L(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(i)}:null})}addAuthTokenListener(i){if(this.assertAuthConfigured(),this.internalListeners.has(i))return;let e=this.auth.onIdTokenChanged(n=>{i(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(i,e),this.updateProactiveRefresh()}removeAuthTokenListener(i){this.assertAuthConfigured();let e=this.internalListeners.get(i);e&&(this.internalListeners.delete(i),e(),this.updateProactiveRefresh())}assertAuthConfigured(){ct(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function aX(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function sX(t){so(new aa("auth",(i,{options:e})=>{let n=i.getProvider("app").getImmediate(),r=i.getProvider("heartbeat"),a=i.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=n.options;ct(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});let l={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mV(t)},c=new gk(n,r,a,l);return GZ(c,e),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((i,e,n)=>{i.getProvider("auth-internal").initialize()})),so(new aa("auth-internal",i=>{let e=fd(i.getProvider("auth").getImmediate());return(n=>new Ik(n))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),un(ZF,QF,aX(t)),un(ZF,QF,"esm2017")}var oX=5*60,lX=VI("authIdTokenMaxAge")||oX,XF=null,cX=t=>i=>L(null,null,function*(){let e=i&&(yield i.getIdTokenResult()),n=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(n&&n>lX)return;let r=e?.token;XF!==r&&(XF=r,yield fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});function qk(t=Nu()){let i=Ym(t,"auth");if(i.isInitialized())return i.getImmediate();let e=Nk(t,{popupRedirectResolver:AV,persistence:[MV,CV,$k]}),n=VI("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){let a=new URL(n,location.origin);if(location.origin===a.origin){let s=cX(a.toString());Hk(e,s,()=>s(e.currentUser)),Uk(e,o=>s(o))}}let r=PI("auth");return r&&Pk(e,`http://${r}`),e}function dX(){var t,i;return(i=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&i!==void 0?i:document}jZ({loadJS(t){return new Promise((i,e)=>{let n=document.createElement("script");n.setAttribute("src",t),n.onload=i,n.onerror=r=>{let a=lo("internal-error");a.customData=r,e(a)},n.type="text/javascript",n.charset="UTF-8",dX().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});sX("Browser");var EV="auth",ju=class{constructor(i){return i}},Ey=class{constructor(){return qm(EV)}};var Zk=new G("angularfire2.auth-instances");function ZX(t,i){let e=vy(EV,t,i);return e&&new ju(e)}function QX(t){return(i,e)=>{let n=i.runOutsideAngular(()=>t(e));return new ju(n)}}var XX={provide:Ey,deps:[[new Bn,Zk]]},JX={provide:ju,useFactory:ZX,deps:[[new Bn,Zk],Zl]};function TV(t,...i){return un("angularfire",cd.full,"auth"),ms([JX,XX,{provide:Zk,useFactory:QX(t),multi:!0,deps:[we,Qe,dd,Fu,[new Bn,Zm],...i]}])}var RV=Hn(Bk,!0,2);var OV=Hn(qk,!0);var LV=Hn(Gk,!0);var NV=Hn(jk,!0,2);var PV=Hn(Kk,!0,2);var FV=Hn(Wk,!0,2);var VV=Hn(zk,!0,2);var BV="@firebase/database",jV="1.0.20";var QA="";function tJ(t){QA=t}var rA=class{constructor(i){this.domStorage_=i,this.prefix_="firebase:"}set(i,e){e==null?this.domStorage_.removeItem(this.prefixedName_(i)):this.domStorage_.setItem(this.prefixedName_(i),In(e))}get(i){let e=this.domStorage_.getItem(this.prefixedName_(i));return e==null?null:Hm(e)}remove(i){this.domStorage_.removeItem(this.prefixedName_(i))}prefixedName_(i){return this.prefix_+i}toString(){return this.domStorage_.toString()}};var aA=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(i,e){e==null?delete this.cache_[i]:this.cache_[i]=e}get(i){return rl(this.cache_,i)?this.cache_[i]:null}remove(i){delete this.cache_[i]}};var bB=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let i=window[t];return i.setItem("firebase:sentinel","cache"),i.removeItem("firebase:sentinel"),new rA(i)}}catch{}return new aA},Uu=bB("localStorage"),sA=bB("sessionStorage");var np=new sl("@firebase/database"),iJ=function(){let t=1;return function(){return t++}}(),vB=function(t){let i=cF(t),e=new $0;e.update(i);let n=e.digest();return Gm.encodeByteArray(n)},Zy=function(...t){let i="";for(let e=0;e<t.length;e++){let n=t[e];Array.isArray(n)||n&&typeof n=="object"&&typeof n.length=="number"?i+=Zy.apply(null,n):typeof n=="object"?i+=In(n):i+=n,i+=" "}return i},Gu=null,zV=!0,nJ=function(t,i){he(!i||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(np.logLevel=xi.VERBOSE,Gu=np.log.bind(np),i&&sA.set("logging_enabled",!0)):typeof t=="function"?Gu=t:(Gu=null,sA.remove("logging_enabled"))},Lr=function(...t){if(zV===!0&&(zV=!1,Gu===null&&sA.get("logging_enabled")===!0&&nJ(!0)),Gu){let i=Zy.apply(null,t);Gu(i)}},Qy=function(t){return function(...i){Lr(t,...i)}},oA=function(...t){let i="FIREBASE INTERNAL ERROR: "+Zy(...t);np.error(i)},ic=function(...t){let i=`FIREBASE FATAL ERROR: ${Zy(...t)}`;throw np.error(i),new Error(i)},Ma=function(...t){let i="FIREBASE WARNING: "+Zy(...t);np.warn(i)},rJ=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ma("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},_B=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},aJ=function(t){if(nl()||document.readyState==="complete")t();else{let i=!1,e=function(){if(!document.body){setTimeout(e,Math.floor(10));return}i||(i=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&e()}),window.attachEvent("onload",e))}},ap="[MIN_NAME]",Wu="[MAX_NAME]",hp=function(t,i){if(t===i)return 0;if(t===ap||i===Wu)return-1;if(i===ap||t===Wu)return 1;{let e=UV(t),n=UV(i);return e!==null?n!==null?e-n===0?t.length-i.length:e-n:-1:n!==null?1:t<i?-1:1}},sJ=function(t,i){return t===i?0:t<i?-1:1},Ty=function(t,i){if(i&&t in i)return i[t];throw new Error("Missing required key ("+t+") in object: "+In(i))},XA=function(t){if(typeof t!="object"||t===null)return In(t);let i=[];for(let n in t)i.push(n);i.sort();let e="{";for(let n=0;n<i.length;n++)n!==0&&(e+=","),e+=In(i[n]),e+=":",e+=XA(t[i[n]]);return e+="}",e},xB=function(t,i){let e=t.length;if(e<=i)return[t];let n=[];for(let r=0;r<e;r+=i)r+i>e?n.push(t.substring(r,e)):n.push(t.substring(r,r+i));return n};function Ia(t,i){for(let e in t)t.hasOwnProperty(e)&&i(e,t[e])}var CB=function(t){he(!_B(t),"Invalid JSON number");let i=11,e=52,n=(1<<i-1)-1,r,a,s,o,l;t===0?(a=0,s=0,r=1/t===-1/0?1:0):(r=t<0,t=Math.abs(t),t>=Math.pow(2,1-n)?(o=Math.min(Math.floor(Math.log(t)/Math.LN2),n),a=o+n,s=Math.round(t*Math.pow(2,e-o)-Math.pow(2,e))):(a=0,s=Math.round(t/Math.pow(2,1-n-e))));let c=[];for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);for(l=i;l;l-=1)c.push(a%2?1:0),a=Math.floor(a/2);c.push(r?1:0),c.reverse();let d=c.join(""),u="";for(l=0;l<64;l+=8){let h=parseInt(d.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),u=u+h}return u.toLowerCase()},oJ=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},lJ=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function cJ(t,i){let e="Unknown Error";t==="too_big"?e="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?e="Client doesn't have permission to access the desired data.":t==="unavailable"&&(e="The service is unavailable");let n=new Error(t+" at "+i._path.toString()+": "+e);return n.code=t.toUpperCase(),n}var dJ=new RegExp("^-?(0*)\\d{1,10}$"),uJ=-2147483648,hJ=2147483647,UV=function(t){if(dJ.test(t)){let i=Number(t);if(i>=uJ&&i<=hJ)return i}return null},mp=function(t){try{t()}catch(i){setTimeout(()=>{let e=i.stack||"";throw Ma("Exception was thrown by user callback.",e),i},Math.floor(0))}},mJ=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Py=function(t,i){let e=setTimeout(t,i);return typeof e=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):typeof e=="object"&&e.unref&&e.unref(),e};var lA=class{constructor(i,e){this.appCheckProvider=e,this.appName=i.name,sa(i)&&i.settings.appCheckToken&&(this.serverAppAppCheckToken=i.settings.appCheckToken),this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(n=>this.appCheck=n)}getToken(i){if(this.serverAppAppCheckToken){if(i)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(i):new Promise((e,n)=>{setTimeout(()=>{this.appCheck?this.getToken(i).then(e,n):e(null)},0)})}addTokenChangeListener(i){var e;(e=this.appCheckProvider)===null||e===void 0||e.get().then(n=>n.addTokenListener(i))}notifyForInvalidToken(){Ma(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}};var cA=class{constructor(i,e,n){this.appName_=i,this.firebaseOptions_=e,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(r=>this.auth_=r)}getToken(i){return this.auth_?this.auth_.getToken(i).catch(e=>e&&e.code==="auth/token-not-initialized"?(Lr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,n)=>{setTimeout(()=>{this.auth_?this.getToken(i).then(e,n):e(null)},0)})}addTokenChangeListener(i){this.auth_?this.auth_.addAuthTokenListener(i):this.authProvider_.get().then(e=>e.addAuthTokenListener(i))}removeTokenChangeListener(i){this.authProvider_.get().then(e=>e.removeAuthTokenListener(i))}notifyForInvalidToken(){let i='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?i+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?i+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':i+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ma(i)}},Fy=(()=>{class t{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),Sx="5",wB="v",DB="s",SB="r",MB="f",IB=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,kB="ls",AB="p",dA="ac",EB="websocket",TB="long_polling";var Mx=class{constructor(i,e,n,r,a=!1,s="",o=!1,l=!1,c=null){this.secure=e,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=a,this.persistenceKey=s,this.includeNamespaceInQueryParams=o,this.isUsingEmulator=l,this.emulatorOptions=c,this._host=i.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Uu.get("host:"+i)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(i){i!==this.internalHost&&(this.internalHost=i,this.isCacheableHost()&&Uu.set("host:"+this._host,this.internalHost))}toString(){let i=this.toURLString();return this.persistenceKey&&(i+="<"+this.persistenceKey+">"),i}toURLString(){let i=this.secure?"https://":"http://",e=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${i}${this.host}/${e}`}};function pJ(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function RB(t,i,e){he(typeof i=="string","typeof type must == string"),he(typeof e=="object","typeof params must == object");let n;if(i===EB)n=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(i===TB)n=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+i);pJ(t)&&(e.ns=t.namespace);let r=[];return Ia(e,(a,s)=>{r.push(a+"="+s)}),n+r.join("&")}var uA=class{constructor(){this.counters_={}}incrementCounter(i,e=1){rl(this.counters_,i)||(this.counters_[i]=0),this.counters_[i]+=e}get(){return Z2(this.counters_)}};var Qk={},Xk={};function JA(t){let i=t.toString();return Qk[i]||(Qk[i]=new uA),Qk[i]}function fJ(t,i){let e=t.toString();return Xk[e]||(Xk[e]=i()),Xk[e]}var hA=class{constructor(i){this.onMessage_=i,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(i,e){this.closeAfterResponse=i,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(i,e){for(this.pendingResponses[i]=e;this.pendingResponses[this.currentResponseNum];){let n=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<n.length;++r)n[r]&&mp(()=>{this.onMessage_(n[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var HV="start",gJ="close",yJ="pLPCommand",bJ="pRTLPCB",OB="id",LB="pw",NB="ser",vJ="cb",_J="seg",xJ="ts",CJ="d",wJ="dframe",PB=1870,FB=30,DJ=PB-FB,SJ=25e3,MJ=3e4,mA=class t{constructor(i,e,n,r,a,s,o){this.connId=i,this.repoInfo=e,this.applicationId=n,this.appCheckToken=r,this.authToken=a,this.transportSessionId=s,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Qy(i),this.stats_=JA(e),this.urlFn=l=>(this.appCheckToken&&(l[dA]=this.appCheckToken),RB(e,TB,l))}open(i,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new hA(i),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(MJ)),aJ(()=>{if(this.isClosed_)return;this.scriptTagHolder=new pA((...a)=>{let[s,o,l,c,d]=a;if(this.incrementIncomingBytes_(a),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===HV)this.id=o,this.password=l;else if(s===gJ)o?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(o,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...a)=>{let[s,o]=a;this.incrementIncomingBytes_(a),this.myPacketOrderer.handleResponse(s,o)},()=>{this.onClosed_()},this.urlFn);let n={};n[HV]="t",n[NB]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(n[vJ]=this.scriptTagHolder.uniqueCallbackIdentifier),n[wB]=Sx,this.transportSessionId&&(n[DB]=this.transportSessionId),this.lastSessionId&&(n[kB]=this.lastSessionId),this.applicationId&&(n[AB]=this.applicationId),this.appCheckToken&&(n[dA]=this.appCheckToken),typeof location<"u"&&location.hostname&&IB.test(location.hostname)&&(n[SB]=MB);let r=this.urlFn(n);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return nl()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!oJ()&&!lJ()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(i){let e=In(i);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);let n=LI(e),r=xB(n,DJ);for(let a=0;a<r.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[a]),this.curSegmentNum++}addDisconnectPingFrame(i,e){if(nl())return;this.myDisconnFrame=document.createElement("iframe");let n={};n[wJ]="t",n[OB]=i,n[LB]=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(i){let e=In(i).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}},pA=class t{constructor(i,e,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,nl())this.commandCB=i,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=iJ(),window[yJ+this.uniqueCallbackIdentifier]=i,window[bJ+this.uniqueCallbackIdentifier]=e,this.myIFrame=t.createIFrame_();let a="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(a='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(o){Lr("frame writing exception"),o.stack&&Lr(o.stack),Lr(o)}}}static createIFrame_(){let i=document.createElement("iframe");if(i.style.display="none",document.body){document.body.appendChild(i);try{i.contentWindow.document||Lr("No IE domain setting required")}catch{let n=document.domain;i.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return i.contentDocument?i.doc=i.contentDocument:i.contentWindow?i.doc=i.contentWindow.document:i.document&&(i.doc=i.document),i}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let i=this.onDisconnect;i&&(this.onDisconnect=null,i())}startLongPoll(i,e){for(this.myID=i,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let i={};i[OB]=this.myID,i[LB]=this.myPW,i[NB]=this.currentSerial;let e=this.urlFn(i),n="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+FB+n.length<=PB;){let s=this.pendingSegs.shift();n=n+"&"+_J+r+"="+s.seg+"&"+xJ+r+"="+s.ts+"&"+CJ+r+"="+s.d,r++}return e=e+n,this.addLongPollTag_(e,this.currentSerial),!0}else return!1}enqueueSegment(i,e,n){this.pendingSegs.push({seg:i,ts:e,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(i,e){this.outstandingRequests.add(e);let n=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(n,Math.floor(SJ)),a=()=>{clearTimeout(r),n()};this.addTag(i,a)}addTag(i,e){nl()?this.doNodeLongPoll(i,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;let n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=i,n.onload=n.onreadystatechange=function(){let r=n.readyState;(!r||r==="loaded"||r==="complete")&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),e())},n.onerror=()=>{Lr("Long-poll script failed to load: "+i),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch{}},Math.floor(1))}};var IJ=16384,kJ=45e3,Ix=null;typeof MozWebSocket<"u"?Ix=MozWebSocket:typeof WebSocket<"u"&&(Ix=WebSocket);var Ry=(()=>{class t{constructor(e,n,r,a,s,o,l){this.connId=e,this.applicationId=r,this.appCheckToken=a,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Qy(this.connId),this.stats_=JA(n),this.connURL=t.connectionURL_(n,o,l,a,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,a,s){let o={};return o[wB]=Sx,!nl()&&typeof location<"u"&&location.hostname&&IB.test(location.hostname)&&(o[SB]=MB),n&&(o[DB]=n),r&&(o[kB]=r),a&&(o[dA]=a),s&&(o[AB]=s),RB(e,EB,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Uu.set("previous_websocket_failure",!0);try{let r;if(nl()){let a=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":`Firebase/${Sx}/${QA}/${process.platform}/${a}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,o=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;o&&(r.proxy={origin:o})}this.mySock=new Ix(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");let a=r.message||r.data;a&&this.log_(a),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");let a=r.message||r.data;a&&this.log_(a),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){let n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Ix!==null&&!t.forceDisallow_}static previouslyFailed(){return Uu.isInMemoryStorage||Uu.get("previous_websocket_failure")===!0}markConnectionHealthy(){Uu.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){let n=this.frames.join("");this.frames=null;let r=Hm(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(he(this.frames===null,"We already have a frame buffer"),e.length<=6){let n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;let n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{let r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();let n=In(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=xB(n,IJ);r.length>1&&this.sendString_(String(r.length));for(let a=0;a<r.length;a++)this.sendString_(r[a])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(kJ))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),AJ=(()=>{class t{static get ALL_TRANSPORTS(){return[mA,Ry]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){let n=Ry&&Ry.isAvailable(),r=n&&!Ry.previouslyFailed();if(e.webSocketOnly&&(n||Ma("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Ry];else{let a=this.transports_=[];for(let s of t.ALL_TRANSPORTS)s&&s.isAvailable()&&a.push(s);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),EJ=6e4,TJ=5e3,RJ=10*1024,OJ=100*1024,Jk="t",GV="d",LJ="s",WV="r",NJ="e",$V="o",YV="a",KV="n",qV="p",PJ="h",fA=class{constructor(i,e,n,r,a,s,o,l,c,d){this.id=i,this.repoInfo_=e,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=a,this.onMessage_=s,this.onReady_=o,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Qy("c:"+this.id+":"),this.transportManager_=new AJ(e),this.log_("Connection created"),this.start_()}start_(){let i=this.transportManager_.initialTransport();this.conn_=new i(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=i.responsesRequiredToBeHealthy||0;let e=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,n)},Math.floor(0));let r=i.healthyTimeout||0;r>0&&(this.healthyTimeout_=Py(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>OJ?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>RJ?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(i){return e=>{i===this.conn_?this.onConnectionLost_(e):i===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(i){return e=>{this.state_!==2&&(i===this.rx_?this.onPrimaryMessageReceived_(e):i===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(i){let e={t:"d",d:i};this.sendData_(e)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(i){if(Jk in i){let e=i[Jk];e===YV?this.upgradeIfSecondaryHealthy_():e===WV?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):e===$V&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(i){let e=Ty("t",i),n=Ty("d",i);if(e==="c")this.onSecondaryControl_(n);else if(e==="d")this.pendingDataMessages.push(n);else throw new Error("Unknown protocol layer: "+e)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:qV,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:YV,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:KV,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(i){let e=Ty("t",i),n=Ty("d",i);e==="c"?this.onControl_(n):e==="d"&&this.onDataMessage_(n)}onDataMessage_(i){this.onPrimaryResponse_(),this.onMessage_(i)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(i){let e=Ty(Jk,i);if(GV in i){let n=i[GV];if(e===PJ){let r=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(e===KV){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else e===LJ?this.onConnectionShutdown_(n):e===WV?this.onReset_(n):e===NJ?oA("Server Error: "+n):e===$V?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):oA("Unknown control packet command: "+e)}}onHandshake_(i){let e=i.ts,n=i.v,r=i.h;this.sessionId=i.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),Sx!==n&&Ma("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let i=this.transportManager_.upgradeTransport();i&&this.startUpgrade_(i)}startUpgrade_(i){this.secondaryConn_=new i(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=i.responsesRequiredToBeHealthy||0;let e=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,n),Py(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(EJ))}onReset_(i){this.log_("Reset packet received.  New host: "+i),this.repoInfo_.host=i,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(i,e){this.log_("Realtime connection established."),this.conn_=i,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Py(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(TJ))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:qV,d:{}}}))}onSecondaryConnectionLost_(){let i=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===i||this.rx_===i)&&this.close()}onConnectionLost_(i){this.conn_=null,!i&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Uu.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(i){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(i),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(i){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(i)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var kx=class{put(i,e,n,r){}merge(i,e,n,r){}refreshAuthToken(i){}refreshAppCheckToken(i){}onDisconnectPut(i,e,n){}onDisconnectMerge(i,e,n){}onDisconnectCancel(i,e){}reportStats(i){}};var Ax=class{constructor(i){this.allowedEvents_=i,this.listeners_={},he(Array.isArray(i)&&i.length>0,"Requires a non-empty array")}trigger(i,...e){if(Array.isArray(this.listeners_[i])){let n=[...this.listeners_[i]];for(let r=0;r<n.length;r++)n[r].callback.apply(n[r].context,e)}}on(i,e,n){this.validateEventType_(i),this.listeners_[i]=this.listeners_[i]||[],this.listeners_[i].push({callback:e,context:n});let r=this.getInitialEvent(i);r&&e.apply(n,r)}off(i,e,n){this.validateEventType_(i);let r=this.listeners_[i]||[];for(let a=0;a<r.length;a++)if(r[a].callback===e&&(!n||n===r[a].context)){r.splice(a,1);return}}validateEventType_(i){he(this.allowedEvents_.find(e=>e===i),"Unknown event: "+i)}};var Ex=class t extends Ax{static getInstance(){return new t}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!hy()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(i){return he(i==="online","Unknown event type: "+i),[this.online_]}currentlyOnline(){return this.online_}};var ZV=32,QV=768,Ci=class{constructor(i,e){if(e===void 0){this.pieces_=i.split("/");let n=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=i,this.pieceNum_=e}toString(){let i="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)this.pieces_[e]!==""&&(i+="/"+this.pieces_[e]);return i||"/"}};function ai(){return new Ci("")}function Ft(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function bd(t){return t.pieces_.length-t.pieceNum_}function Bi(t){let i=t.pieceNum_;return i<t.pieces_.length&&i++,new Ci(t.pieces_,i)}function VB(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function FJ(t){let i="";for(let e=t.pieceNum_;e<t.pieces_.length;e++)t.pieces_[e]!==""&&(i+="/"+encodeURIComponent(String(t.pieces_[e])));return i||"/"}function BB(t,i=0){return t.pieces_.slice(t.pieceNum_+i)}function jB(t){if(t.pieceNum_>=t.pieces_.length)return null;let i=[];for(let e=t.pieceNum_;e<t.pieces_.length-1;e++)i.push(t.pieces_[e]);return new Ci(i,0)}function Gn(t,i){let e=[];for(let n=t.pieceNum_;n<t.pieces_.length;n++)e.push(t.pieces_[n]);if(i instanceof Ci)for(let n=i.pieceNum_;n<i.pieces_.length;n++)e.push(i.pieces_[n]);else{let n=i.split("/");for(let r=0;r<n.length;r++)n[r].length>0&&e.push(n[r])}return new Ci(e,0)}function Ht(t){return t.pieceNum_>=t.pieces_.length}function oa(t,i){let e=Ft(t),n=Ft(i);if(e===null)return i;if(e===n)return oa(Bi(t),Bi(i));throw new Error("INTERNAL ERROR: innerPath ("+i+") is not within outerPath ("+t+")")}function eE(t,i){if(bd(t)!==bd(i))return!1;for(let e=t.pieceNum_,n=i.pieceNum_;e<=t.pieces_.length;e++,n++)if(t.pieces_[e]!==i.pieces_[n])return!1;return!0}function uo(t,i){let e=t.pieceNum_,n=i.pieceNum_;if(bd(t)>bd(i))return!1;for(;e<t.pieces_.length;){if(t.pieces_[e]!==i.pieces_[n])return!1;++e,++n}return!0}var gA=class{constructor(i,e){this.errorPrefix_=e,this.parts_=BB(i,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=fy(this.parts_[n]);zB(this)}};function VJ(t,i){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(i),t.byteLength_+=fy(i),zB(t)}function BJ(t){let i=t.parts_.pop();t.byteLength_-=fy(i),t.parts_.length>0&&(t.byteLength_-=1)}function zB(t){if(t.byteLength_>QV)throw new Error(t.errorPrefix_+"has a key path longer than "+QV+" bytes ("+t.byteLength_+").");if(t.parts_.length>ZV)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+ZV+") or object contains a cycle "+zu(t))}function zu(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var yA=class t extends Ax{static getInstance(){return new t}constructor(){super(["visible"]);let i,e;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",i="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",i="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",i="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",i="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{let n=!document[i];n!==this.visible_&&(this.visible_=n,this.trigger("visible",n))},!1)}getInitialEvent(i){return he(i==="visible","Unknown event type: "+i),[this.visible_]}};var Oy=1e3,jJ=60*5*1e3,XV=30*1e3,zJ=1.3,UJ=3e4,HJ="server_kill",JV=3,tE=(()=>{class t extends kx{constructor(e,n,r,a,s,o,l,c){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=a,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=t.nextPersistentConnectionId_++,this.log_=Qy("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Oy,this.maxReconnectDelay_=jJ,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!nl())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");yA.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Ex.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){let a=++this.requestNumber_,s={r:a,a:e,b:n};this.log_(In(s)),he(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[a]=r)}get(e){this.initConnection_();let n=new no,a={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{let l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,a){this.initConnection_();let s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),he(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),he(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");let l={onComplete:a,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(e){let n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){let n=e.query,r=n._path.toString(),a=n._queryIdentifier;this.log_("Listen on "+r+" for "+a);let s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,l=>{let c=l.d,d=l.s;t.warnOnListenWarnings_(c,n),(this.listens.get(r)&&this.listens.get(r).get(a))===e&&(this.log_("listen response",l),d!=="ok"&&this.removeListen_(r,a),e.onComplete&&e.onComplete(d,c))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&rl(e,"w")){let r=Ou(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){let a='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Ma(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${a} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||oF(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=XV)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let e=this.authToken_,n=sF(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,a=>{let s=a.s,o=a.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{let n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){let r=e._path.toString(),a=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+a),he(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,a)&&this.connected_&&this.sendUnlisten_(r,a,e._queryObject,n)}sendUnlisten_(e,n,r,a){this.log_("Unlisten on "+e+" for "+n);let s={p:e},o="n";a&&(s.q=r,s.t=a),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,a){let s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{a&&setTimeout(()=>{a(o.s,o.d)},Math.floor(0))})}put(e,n,r,a){this.putInternal("p",e,n,r,a)}merge(e,n,r,a){this.putInternal("m",e,n,r,a)}putInternal(e,n,r,a,s){this.initConnection_();let o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:a}),this.outstandingPutCount_++;let l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){let n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,a=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),a&&a(s.s,s.d)})}reportStats(e){if(this.connected_){let n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){let s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+In(e));let n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):oA("Unrecognized action received from server: "+In(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){he(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Oy,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Oy,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>UJ&&(this.reconnectDelay_=Oy),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_),n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*zJ)}this.onConnectStatus_(!1)}establishConnection_(){return L(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+t.nextConnectionId_++,s=this.lastSessionId,o=!1,l=null,c=function(){l?l.close():(o=!0,r())},d=function(h){he(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(h)};this.realtime_={close:c,sendRequest:d};let u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[h,m]=yield Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?Lr("getToken() completed but was canceled"):(Lr("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=m&&m.token,l=new fA(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{Ma(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(HJ)},s))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&Ma(h),c())}}})}interrupt(e){Lr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Lr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],my(this.interruptReasons_)&&(this.reconnectDelay_=Oy,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){let n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){let n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>XA(s)).join("$"):r="default";let a=this.removeListen_(e,r);a&&a.onComplete&&a.onComplete("permission_denied")}removeListen_(e,n){let r=new Ci(e).toString(),a;if(this.listens.has(r)){let s=this.listens.get(r);a=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else a=void 0;return a}onAuthRevoked_(e,n){Lr("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=JV&&(this.reconnectDelay_=XV,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Lr("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=JV&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let e of this.listens.values())for(let n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){let e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){let e={},n="js";nl()&&(this.repoInfo_.nodeAdmin?n="admin_node":n="node"),e["sdk."+n+"."+QA.replace(/\./g,"-")]=1,hy()?e["framework.cordova"]=1:q0()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){let e=Ex.getInstance().currentlyOnline();return my(this.interruptReasons_)&&e}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),Vt=class t{constructor(i,e){this.name=i,this.node=e}static Wrap(i,e){return new t(i,e)}};var sp=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(i,e){let n=new Vt(ap,i),r=new Vt(ap,e);return this.compare(n,r)!==0}minPost(){return Vt.MIN}};var Dx,Tx=class extends sp{static get __EMPTY_NODE(){return Dx}static set __EMPTY_NODE(i){Dx=i}compare(i,e){return hp(i.name,e.name)}isDefinedOn(i){throw Ru("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(i,e){return!1}minPost(){return Vt.MIN}maxPost(){return new Vt(Wu,Dx)}makePost(i,e){return he(typeof i=="string","KeyIndex indexValue must always be a string."),new Vt(i,Dx)}toString(){return".key"}},rp=new Tx;var ip=class{constructor(i,e,n,r,a=null){this.isReverse_=r,this.resultGenerator_=a,this.nodeStack_=[];let s=1;for(;!i.isEmpty();)if(i=i,s=e?n(i.key,e):1,r&&(s*=-1),s<0)this.isReverse_?i=i.left:i=i.right;else if(s===0){this.nodeStack_.push(i);break}else this.nodeStack_.push(i),this.isReverse_?i=i.right:i=i.left}getNext(){if(this.nodeStack_.length===0)return null;let i=this.nodeStack_.pop(),e;if(this.resultGenerator_?e=this.resultGenerator_(i.key,i.value):e={key:i.key,value:i.value},this.isReverse_)for(i=i.left;!i.isEmpty();)this.nodeStack_.push(i),i=i.right;else for(i=i.right;!i.isEmpty();)this.nodeStack_.push(i),i=i.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let i=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(i.key,i.value):{key:i.key,value:i.value}}},co=(()=>{class t{constructor(e,n,r,a,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=a??bs.EMPTY_NODE,this.right=s??bs.EMPTY_NODE}copy(e,n,r,a,s){return new t(e??this.key,n??this.value,r??this.color,a??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this,s=r(e,a.key);return s<0?a=a.copy(null,null,null,a.left.insert(e,n,r),null):s===0?a=a.copy(null,n,null,null,null):a=a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp_()}removeMin_(){if(this.left.isEmpty())return bs.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,a;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return bs.EMPTY_NODE;a=r.right.min_(),r=r.copy(a.key,a.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){let e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),bA=class{copy(i,e,n,r,a){return this}insert(i,e,n){return new co(i,e,null)}remove(i,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},bs=class t{constructor(i,e=t.EMPTY_NODE){this.comparator_=i,this.root_=e}insert(i,e){return new t(this.comparator_,this.root_.insert(i,e,this.comparator_).copy(null,null,co.BLACK,null,null))}remove(i){return new t(this.comparator_,this.root_.remove(i,this.comparator_).copy(null,null,co.BLACK,null,null))}get(i){let e,n=this.root_;for(;!n.isEmpty();){if(e=this.comparator_(i,n.key),e===0)return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null}getPredecessorKey(i){let e,n=this.root_,r=null;for(;!n.isEmpty();)if(e=this.comparator_(i,n.key),e===0){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}else e<0?n=n.left:e>0&&(r=n,n=n.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(i){return this.root_.inorderTraversal(i)}reverseTraversal(i){return this.root_.reverseTraversal(i)}getIterator(i){return new ip(this.root_,null,this.comparator_,!1,i)}getIteratorFrom(i,e){return new ip(this.root_,i,this.comparator_,!1,e)}getReverseIteratorFrom(i,e){return new ip(this.root_,i,this.comparator_,!0,e)}getReverseIterator(i){return new ip(this.root_,null,this.comparator_,!0,i)}};bs.EMPTY_NODE=new bA;function GJ(t,i){return hp(t.name,i.name)}function iE(t,i){return hp(t,i)}var vA;function WJ(t){vA=t}var UB=function(t){return typeof t=="number"?"number:"+CB(t):"string:"+t},HB=function(t){if(t.isLeafNode()){let i=t.val();he(typeof i=="string"||typeof i=="number"||typeof i=="object"&&rl(i,".sv"),"Priority must be a string or number.")}else he(t===vA||t.isEmpty(),"priority of unexpected type.");he(t===vA||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var eB,op=(()=>{class t{static set __childrenNodeConstructor(e){eB=e}static get __childrenNodeConstructor(){return eB}constructor(e,n=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,he(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),HB(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new t(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Ht(e)?this:Ft(e)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){let r=Ft(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(he(r!==".priority"||bd(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(Bi(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+UB(this.priorityNode_.val())+":");let n=typeof this.value_;e+=n+":",n==="number"?e+=CB(this.value_):e+=this.value_,this.lazyHash_=vB(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(he(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){let n=typeof e.value_,r=typeof this.value_,a=t.VALUE_TYPE_ORDER.indexOf(n),s=t.VALUE_TYPE_ORDER.indexOf(r);return he(a>=0,"Unknown leaf type: "+n),he(s>=0,"Unknown leaf type: "+r),a===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-a}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){let n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),GB,WB;function $J(t){GB=t}function YJ(t){WB=t}var _A=class extends sp{compare(i,e){let n=i.node.getPriority(),r=e.node.getPriority(),a=n.compareTo(r);return a===0?hp(i.name,e.name):a}isDefinedOn(i){return!i.getPriority().isEmpty()}indexedValueChanged(i,e){return!i.getPriority().equals(e.getPriority())}minPost(){return Vt.MIN}maxPost(){return new Vt(Wu,new op("[PRIORITY-POST]",WB))}makePost(i,e){let n=GB(i);return new Vt(e,new op("[PRIORITY-POST]",n))}toString(){return".priority"}},hn=new _A;var KJ=Math.log(2),xA=class{constructor(i){let e=a=>parseInt(Math.log(a)/KJ,10),n=a=>parseInt(Array(a+1).join("1"),2);this.count=e(i+1),this.current_=this.count-1;let r=n(this.count);this.bits_=i+1&r}nextBitIsOne(){let i=!(this.bits_&1<<this.current_);return this.current_--,i}},Rx=function(t,i,e,n){t.sort(i);let r=function(l,c){let d=c-l,u,h;if(d===0)return null;if(d===1)return u=t[l],h=e?e(u):u,new co(h,u.node,co.BLACK,null,null);{let m=parseInt(d/2,10)+l,p=r(l,m),g=r(m+1,c);return u=t[m],h=e?e(u):u,new co(h,u.node,co.BLACK,p,g)}},a=function(l){let c=null,d=null,u=t.length,h=function(p,g){let b=u-p,v=u;u-=p;let _=r(b+1,v),w=t[b],D=e?e(w):w;m(new co(D,w.node,g,null,_))},m=function(p){c?(c.left=p,c=p):(d=p,c=p)};for(let p=0;p<l.count;++p){let g=l.nextBitIsOne(),b=Math.pow(2,l.count-(p+1));g?h(b,co.BLACK):(h(b,co.BLACK),h(b,co.RED))}return d},s=new xA(t.length),o=a(s);return new bs(n||i,o)};var eA,tp={},lp=class t{static get Default(){return he(tp&&hn,"ChildrenNode.ts has not been loaded"),eA=eA||new t({".priority":tp},{".priority":hn}),eA}constructor(i,e){this.indexes_=i,this.indexSet_=e}get(i){let e=Ou(this.indexes_,i);if(!e)throw new Error("No index defined for "+i);return e instanceof bs?e:null}hasIndex(i){return rl(this.indexSet_,i.toString())}addIndex(i,e){he(i!==rp,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let n=[],r=!1,a=e.getIterator(Vt.Wrap),s=a.getNext();for(;s;)r=r||i.isDefinedOn(s.node),n.push(s),s=a.getNext();let o;r?o=Rx(n,i.getCompare()):o=tp;let l=i.toString(),c=Object.assign({},this.indexSet_);c[l]=i;let d=Object.assign({},this.indexes_);return d[l]=o,new t(d,c)}addToIndexes(i,e){let n=py(this.indexes_,(r,a)=>{let s=Ou(this.indexSet_,a);if(he(s,"Missing index implementation for "+a),r===tp)if(s.isDefinedOn(i.node)){let o=[],l=e.getIterator(Vt.Wrap),c=l.getNext();for(;c;)c.name!==i.name&&o.push(c),c=l.getNext();return o.push(i),Rx(o,s.getCompare())}else return tp;else{let o=e.get(i.name),l=r;return o&&(l=l.remove(new Vt(i.name,o))),l.insert(i,i.node)}});return new t(n,this.indexSet_)}removeFromIndexes(i,e){let n=py(this.indexes_,r=>{if(r===tp)return r;{let a=e.get(i.name);return a?r.remove(new Vt(i.name,a)):r}});return new t(n,this.indexSet_)}};var Ly,Mt=(()=>{class t{static get EMPTY_NODE(){return Ly||(Ly=new t(new bs(iE),null,lp.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&HB(this.priorityNode_),this.children_.isEmpty()&&he(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ly}updatePriority(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{let n=this.children_.get(e);return n===null?Ly:n}}getChild(e){let n=Ft(e);return n===null?this:this.getImmediateChild(n).getChild(Bi(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(he(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{let r=new Vt(e,n),a,s;n.isEmpty()?(a=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(a=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));let o=a.isEmpty()?Ly:this.priorityNode_;return new t(a,o,s)}}updateChild(e,n){let r=Ft(e);if(r===null)return n;{he(Ft(e)!==".priority"||bd(e)===1,".priority must be the last token in a path");let a=this.getImmediateChild(r).updateChild(Bi(e),n);return this.updateImmediateChild(r,a)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;let n={},r=0,a=0,s=!0;if(this.forEachChild(hn,(o,l)=>{n[o]=l.val(e),r++,s&&t.INTEGER_REGEXP_.test(o)?a=Math.max(a,Number(o)):s=!1}),!e&&s&&a<2*r){let o=[];for(let l in n)o[l]=n[l];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+UB(this.getPriority().val())+":"),this.forEachChild(hn,(n,r)=>{let a=r.hash();a!==""&&(e+=":"+n+":"+a)}),this.lazyHash_=e===""?"":vB(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){let a=this.resolveIndex_(r);if(a){let s=a.getPredecessorKey(new Vt(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){let n=this.resolveIndex_(e);if(n){let r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){let n=this.getFirstChildName(e);return n?new Vt(n,this.children_.get(n)):null}getLastChildName(e){let n=this.resolveIndex_(e);if(n){let r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){let n=this.getLastChildName(e);return n?new Vt(n,this.children_.get(n)):null}forEachChild(e,n){let r=this.resolveIndex_(e);return r?r.inorderTraversal(a=>n(a.name,a.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){let r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,a=>a);{let a=this.children_.getIteratorFrom(e.name,Vt.Wrap),s=a.peek();for(;s!=null&&n.compare(s,e)<0;)a.getNext(),s=a.peek();return a}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){let r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,a=>a);{let a=this.children_.getReverseIteratorFrom(e.name,Vt.Wrap),s=a.peek();for(;s!=null&&n.compare(s,e)>0;)a.getNext(),s=a.peek();return a}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Xy?-1:0}withIndex(e){if(e===rp||this.indexMap_.hasIndex(e))return this;{let n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===rp||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{let n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){let r=this.getIterator(hn),a=n.getIterator(hn),s=r.getNext(),o=a.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=a.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===rp?null:this.indexMap_.get(e.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),CA=class extends Mt{constructor(){super(new bs(iE),Mt.EMPTY_NODE,lp.Default)}compareTo(i){return i===this?0:1}equals(i){return i===this}getPriority(){return this}getImmediateChild(i){return Mt.EMPTY_NODE}isEmpty(){return!1}},Xy=new CA;Object.defineProperties(Vt,{MIN:{value:new Vt(ap,Mt.EMPTY_NODE)},MAX:{value:new Vt(Wu,Xy)}});Tx.__EMPTY_NODE=Mt.EMPTY_NODE;op.__childrenNodeConstructor=Mt;WJ(Xy);YJ(Xy);var qJ=!0;function sr(t,i=null){if(t===null)return Mt.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(i=t[".priority"]),he(i===null||typeof i=="string"||typeof i=="number"||typeof i=="object"&&".sv"in i,"Invalid priority type found: "+typeof i),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let e=t;return new op(e,sr(i))}if(!(t instanceof Array)&&qJ){let e=[],n=!1;if(Ia(t,(s,o)=>{if(s.substring(0,1)!=="."){let l=sr(o);l.isEmpty()||(n=n||!l.getPriority().isEmpty(),e.push(new Vt(s,l)))}}),e.length===0)return Mt.EMPTY_NODE;let a=Rx(e,GJ,s=>s.name,iE);if(n){let s=Rx(e,hn.getCompare());return new Mt(a,sr(i),new lp({".priority":s},{".priority":hn}))}else return new Mt(a,sr(i),lp.Default)}else{let e=Mt.EMPTY_NODE;return Ia(t,(n,r)=>{if(rl(t,n)&&n.substring(0,1)!=="."){let a=sr(r);(a.isLeafNode()||!a.isEmpty())&&(e=e.updateImmediateChild(n,a))}}),e.updatePriority(sr(i))}}$J(sr);var wA=class extends sp{constructor(i){super(),this.indexPath_=i,he(!Ht(i)&&Ft(i)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(i){return i.getChild(this.indexPath_)}isDefinedOn(i){return!i.getChild(this.indexPath_).isEmpty()}compare(i,e){let n=this.extractChild(i.node),r=this.extractChild(e.node),a=n.compareTo(r);return a===0?hp(i.name,e.name):a}makePost(i,e){let n=sr(i),r=Mt.EMPTY_NODE.updateChild(this.indexPath_,n);return new Vt(e,r)}maxPost(){let i=Mt.EMPTY_NODE.updateChild(this.indexPath_,Xy);return new Vt(Wu,i)}toString(){return BB(this.indexPath_,0).join("/")}};var DA=class extends sp{compare(i,e){let n=i.node.compareTo(e.node);return n===0?hp(i.name,e.name):n}isDefinedOn(i){return!0}indexedValueChanged(i,e){return!i.equals(e)}minPost(){return Vt.MIN}maxPost(){return Vt.MAX}makePost(i,e){let n=sr(i);return new Vt(e,n)}toString(){return".value"}},ZJ=new DA;function $B(t){return{type:"value",snapshotNode:t}}function cp(t,i){return{type:"child_added",snapshotNode:i,childName:t}}function zy(t,i){return{type:"child_removed",snapshotNode:i,childName:t}}function Uy(t,i,e){return{type:"child_changed",snapshotNode:i,childName:t,oldSnap:e}}function QJ(t,i){return{type:"child_moved",snapshotNode:i,childName:t}}var Hy=class{constructor(i){this.index_=i}updateChild(i,e,n,r,a,s){he(i.isIndexed(this.index_),"A node must be indexed if only a child is updated");let o=i.getImmediateChild(e);return o.getChild(r).equals(n.getChild(r))&&o.isEmpty()===n.isEmpty()||(s!=null&&(n.isEmpty()?i.hasChild(e)?s.trackChildChange(zy(e,o)):he(i.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?s.trackChildChange(cp(e,n)):s.trackChildChange(Uy(e,n,o))),i.isLeafNode()&&n.isEmpty())?i:i.updateImmediateChild(e,n).withIndex(this.index_)}updateFullNode(i,e,n){return n!=null&&(i.isLeafNode()||i.forEachChild(hn,(r,a)=>{e.hasChild(r)||n.trackChildChange(zy(r,a))}),e.isLeafNode()||e.forEachChild(hn,(r,a)=>{if(i.hasChild(r)){let s=i.getImmediateChild(r);s.equals(a)||n.trackChildChange(Uy(r,a,s))}else n.trackChildChange(cp(r,a))})),e.withIndex(this.index_)}updatePriority(i,e){return i.isEmpty()?Mt.EMPTY_NODE:i.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var Ox=class t{constructor(i){this.indexedFilter_=new Hy(i.getIndex()),this.index_=i.getIndex(),this.startPost_=t.getStartPost_(i),this.endPost_=t.getEndPost_(i),this.startIsInclusive_=!i.startAfterSet_,this.endIsInclusive_=!i.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(i){let e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),i)<=0:this.index_.compare(this.getStartPost(),i)<0,n=this.endIsInclusive_?this.index_.compare(i,this.getEndPost())<=0:this.index_.compare(i,this.getEndPost())<0;return e&&n}updateChild(i,e,n,r,a,s){return this.matches(new Vt(e,n))||(n=Mt.EMPTY_NODE),this.indexedFilter_.updateChild(i,e,n,r,a,s)}updateFullNode(i,e,n){e.isLeafNode()&&(e=Mt.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(Mt.EMPTY_NODE);let a=this;return e.forEachChild(hn,(s,o)=>{a.matches(new Vt(s,o))||(r=r.updateImmediateChild(s,Mt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(i,r,n)}updatePriority(i,e){return i}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(i){if(i.hasStart()){let e=i.getIndexStartName();return i.getIndex().makePost(i.getIndexStartValue(),e)}else return i.getIndex().minPost()}static getEndPost_(i){if(i.hasEnd()){let e=i.getIndexEndName();return i.getIndex().makePost(i.getIndexEndValue(),e)}else return i.getIndex().maxPost()}};var SA=class{constructor(i){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{let n=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?n<=0:n<0},this.withinEndPost=e=>{let n=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?n<=0:n<0},this.rangedFilter_=new Ox(i),this.index_=i.getIndex(),this.limit_=i.getLimit(),this.reverse_=!i.isViewFromLeft(),this.startIsInclusive_=!i.startAfterSet_,this.endIsInclusive_=!i.endBeforeSet_}updateChild(i,e,n,r,a,s){return this.rangedFilter_.matches(new Vt(e,n))||(n=Mt.EMPTY_NODE),i.getImmediateChild(e).equals(n)?i:i.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(i,e,n,r,a,s):this.fullLimitUpdateChild_(i,e,n,a,s)}updateFullNode(i,e,n){let r;if(e.isLeafNode()||e.isEmpty())r=Mt.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<e.numChildren()&&e.isIndexed(this.index_)){r=Mt.EMPTY_NODE.withIndex(this.index_);let a;this.reverse_?a=e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):a=e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;a.hasNext()&&s<this.limit_;){let o=a.getNext();if(this.withinDirectionalStart(o))if(this.withinDirectionalEnd(o))r=r.updateImmediateChild(o.name,o.node),s++;else break;else continue}}else{r=e.withIndex(this.index_),r=r.updatePriority(Mt.EMPTY_NODE);let a;this.reverse_?a=r.getReverseIterator(this.index_):a=r.getIterator(this.index_);let s=0;for(;a.hasNext();){let o=a.getNext();s<this.limit_&&this.withinDirectionalStart(o)&&this.withinDirectionalEnd(o)?s++:r=r.updateImmediateChild(o.name,Mt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(i,r,n)}updatePriority(i,e){return i}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(i,e,n,r,a){let s;if(this.reverse_){let u=this.index_.getCompare();s=(h,m)=>u(m,h)}else s=this.index_.getCompare();let o=i;he(o.numChildren()===this.limit_,"");let l=new Vt(e,n),c=this.reverse_?o.getFirstChild(this.index_):o.getLastChild(this.index_),d=this.rangedFilter_.matches(l);if(o.hasChild(e)){let u=o.getImmediateChild(e),h=r.getChildAfterChild(this.index_,c,this.reverse_);for(;h!=null&&(h.name===e||o.hasChild(h.name));)h=r.getChildAfterChild(this.index_,h,this.reverse_);let m=h==null?1:s(h,l);if(d&&!n.isEmpty()&&m>=0)return a?.trackChildChange(Uy(e,n,u)),o.updateImmediateChild(e,n);{a?.trackChildChange(zy(e,u));let g=o.updateImmediateChild(e,Mt.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(a?.trackChildChange(cp(h.name,h.node)),g.updateImmediateChild(h.name,h.node)):g}}else return n.isEmpty()?i:d&&s(c,l)>=0?(a!=null&&(a.trackChildChange(zy(c.name,c.node)),a.trackChildChange(cp(e,n))),o.updateImmediateChild(e,n).updateImmediateChild(c.name,Mt.EMPTY_NODE)):i}};var MA=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=hn}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return he(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return he(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ap}hasEnd(){return this.endSet_}getIndexEndValue(){return he(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return he(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Wu}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return he(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===hn}copy(){let i=new t;return i.limitSet_=this.limitSet_,i.limit_=this.limit_,i.startSet_=this.startSet_,i.startAfterSet_=this.startAfterSet_,i.indexStartValue_=this.indexStartValue_,i.startNameSet_=this.startNameSet_,i.indexStartName_=this.indexStartName_,i.endSet_=this.endSet_,i.endBeforeSet_=this.endBeforeSet_,i.indexEndValue_=this.indexEndValue_,i.endNameSet_=this.endNameSet_,i.indexEndName_=this.indexEndName_,i.index_=this.index_,i.viewFrom_=this.viewFrom_,i}};function XJ(t){return t.loadsAllData()?new Hy(t.getIndex()):t.hasLimit()?new SA(t):new Ox(t)}function tB(t){let i={};if(t.isDefault())return i;let e;if(t.index_===hn?e="$priority":t.index_===ZJ?e="$value":t.index_===rp?e="$key":(he(t.index_ instanceof wA,"Unrecognized index type!"),e=t.index_.toString()),i.orderBy=In(e),t.startSet_){let n=t.startAfterSet_?"startAfter":"startAt";i[n]=In(t.indexStartValue_),t.startNameSet_&&(i[n]+=","+In(t.indexStartName_))}if(t.endSet_){let n=t.endBeforeSet_?"endBefore":"endAt";i[n]=In(t.indexEndValue_),t.endNameSet_&&(i[n]+=","+In(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?i.limitToFirst=t.limit_:i.limitToLast=t.limit_),i}function iB(t){let i={};if(t.startSet_&&(i.sp=t.indexStartValue_,t.startNameSet_&&(i.sn=t.indexStartName_),i.sin=!t.startAfterSet_),t.endSet_&&(i.ep=t.indexEndValue_,t.endNameSet_&&(i.en=t.indexEndName_),i.ein=!t.endBeforeSet_),t.limitSet_){i.l=t.limit_;let e=t.viewFrom_;e===""&&(t.isViewFromLeft()?e="l":e="r"),i.vf=e}return t.index_!==hn&&(i.i=t.index_.toString()),i}var IA=class t extends kx{reportStats(i){throw new Error("Method not implemented.")}static getListenId_(i,e){return e!==void 0?"tag$"+e:(he(i._queryParams.isDefault(),"should have a tag if it's not a default query."),i._path.toString())}constructor(i,e,n,r){super(),this.repoInfo_=i,this.onDataUpdate_=e,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=Qy("p:rest:"),this.listens_={}}listen(i,e,n,r){let a=i._path.toString();this.log_("Listen called for "+a+" "+i._queryIdentifier);let s=t.getListenId_(i,n),o={};this.listens_[s]=o;let l=tB(i._queryParams);this.restRequest_(a+".json",l,(c,d)=>{let u=d;if(c===404&&(u=null,c=null),c===null&&this.onDataUpdate_(a,u,!1,n),Ou(this.listens_,s)===o){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",r(h,null)}})}unlisten(i,e){let n=t.getListenId_(i,e);delete this.listens_[n]}get(i){let e=tB(i._queryParams),n=i._path.toString(),r=new no;return this.restRequest_(n+".json",e,(a,s)=>{let o=s;a===404&&(o=null,a=null),a===null?(this.onDataUpdate_(n,o,!1,null),r.resolve(o)):r.reject(new Error(o))}),r.promise}refreshAuthToken(i){}restRequest_(i,e={},n){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,a])=>{r&&r.accessToken&&(e.auth=r.accessToken),a&&a.token&&(e.ac=a.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+i+"?ns="+this.repoInfo_.namespace+sd(e);this.log_("Sending REST request for "+s);let o=new XMLHttpRequest;o.onreadystatechange=()=>{if(n&&o.readyState===4){this.log_("REST Response for "+s+" received. status:",o.status,"response:",o.responseText);let l=null;if(o.status>=200&&o.status<300){try{l=Hm(o.responseText)}catch{Ma("Failed to parse JSON response for "+s+": "+o.responseText)}n(null,l)}else o.status!==401&&o.status!==404&&Ma("Got unsuccessful REST response for "+s+" Status: "+o.status),n(o.status);n=null}},o.open("GET",s,!0),o.send()})}};var kA=class{constructor(){this.rootNode_=Mt.EMPTY_NODE}getNode(i){return this.rootNode_.getChild(i)}updateSnapshot(i,e){this.rootNode_=this.rootNode_.updateChild(i,e)}};function Lx(){return{value:null,children:new Map}}function YB(t,i,e){if(Ht(i))t.value=e,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(i,e);else{let n=Ft(i);t.children.has(n)||t.children.set(n,Lx());let r=t.children.get(n);i=Bi(i),YB(r,i,e)}}function AA(t,i,e){t.value!==null?e(i,t.value):JJ(t,(n,r)=>{let a=new Ci(i.toString()+"/"+n);AA(r,a,e)})}function JJ(t,i){t.children.forEach((e,n)=>{i(n,e)})}var EA=class{constructor(i){this.collection_=i,this.last_=null}get(){let i=this.collection_.get(),e=Object.assign({},i);return this.last_&&Ia(this.last_,(n,r)=>{e[n]=e[n]-r}),this.last_=i,e}};var nB=10*1e3,eee=30*1e3,tee=5*60*1e3,TA=class{constructor(i,e){this.server_=e,this.statsToReport_={},this.statsListener_=new EA(i);let n=nB+(eee-nB)*Math.random();Py(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){let i=this.statsListener_.get(),e={},n=!1;Ia(i,(r,a)=>{a>0&&rl(this.statsToReport_,r)&&(e[r]=a,n=!0)}),n&&this.server_.reportStats(e),Py(this.reportStats_.bind(this),Math.floor(Math.random()*2*tee))}};var cl=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(cl||{});function KB(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function nE(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function rE(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var RA=class t{constructor(i,e,n){this.path=i,this.affectedTree=e,this.revert=n,this.type=cl.ACK_USER_WRITE,this.source=KB()}operationForChild(i){if(Ht(this.path)){if(this.affectedTree.value!=null)return he(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let e=this.affectedTree.subtree(new Ci(i));return new t(ai(),e,this.revert)}}else return he(Ft(this.path)===i,"operationForChild called for unrelated child."),new t(Bi(this.path),this.affectedTree,this.revert)}};var Nx=class t{constructor(i,e){this.source=i,this.path=e,this.type=cl.LISTEN_COMPLETE}operationForChild(i){return Ht(this.path)?new t(this.source,ai()):new t(this.source,Bi(this.path))}};var dp=class t{constructor(i,e,n){this.source=i,this.path=e,this.snap=n,this.type=cl.OVERWRITE}operationForChild(i){return Ht(this.path)?new t(this.source,ai(),this.snap.getImmediateChild(i)):new t(this.source,Bi(this.path),this.snap)}};var Px=class t{constructor(i,e,n){this.source=i,this.path=e,this.children=n,this.type=cl.MERGE}operationForChild(i){if(Ht(this.path)){let e=this.children.subtree(new Ci(i));return e.isEmpty()?null:e.value?new dp(this.source,ai(),e.value):new t(this.source,ai(),e)}else return he(Ft(this.path)===i,"Can't get a merge for a child not on the path of the operation"),new t(this.source,Bi(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var dl=class{constructor(i,e,n){this.node_=i,this.fullyInitialized_=e,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(i){if(Ht(i))return this.isFullyInitialized()&&!this.filtered_;let e=Ft(i);return this.isCompleteForChild(e)}isCompleteForChild(i){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(i)}getNode(){return this.node_}};var OA=class{constructor(i){this.query_=i,this.index_=this.query_._queryParams.getIndex()}};function iee(t,i,e,n){let r=[],a=[];return i.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&a.push(QJ(s.childName,s.snapshotNode))}),Ny(t,r,"child_removed",i,n,e),Ny(t,r,"child_added",i,n,e),Ny(t,r,"child_moved",a,n,e),Ny(t,r,"child_changed",i,n,e),Ny(t,r,"value",i,n,e),r}function Ny(t,i,e,n,r,a){let s=n.filter(o=>o.type===e);s.sort((o,l)=>ree(t,o,l)),s.forEach(o=>{let l=nee(t,o,a);r.forEach(c=>{c.respondsTo(o.type)&&i.push(c.createEvent(l,t.query_))})})}function nee(t,i,e){return i.type==="value"||i.type==="child_removed"||(i.prevName=e.getPredecessorChildName(i.childName,i.snapshotNode,t.index_)),i}function ree(t,i,e){if(i.childName==null||e.childName==null)throw Ru("Should only compare child_ events.");let n=new Vt(i.childName,i.snapshotNode),r=new Vt(e.childName,e.snapshotNode);return t.index_.compare(n,r)}function qx(t,i){return{eventCache:t,serverCache:i}}function Vy(t,i,e,n){return qx(new dl(i,e,n),t.serverCache)}function qB(t,i,e,n){return qx(t.eventCache,new dl(i,e,n))}function Fx(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function $u(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var tA,aee=()=>(tA||(tA=new bs(sJ)),tA),ka=class t{static fromObject(i){let e=new t(null);return Ia(i,(n,r)=>{e=e.set(new Ci(n),r)}),e}constructor(i,e=aee()){this.value=i,this.children=e}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(i,e){if(this.value!=null&&e(this.value))return{path:ai(),value:this.value};if(Ht(i))return null;{let n=Ft(i),r=this.children.get(n);if(r!==null){let a=r.findRootMostMatchingPathAndValue(Bi(i),e);return a!=null?{path:Gn(new Ci(n),a.path),value:a.value}:null}else return null}}findRootMostValueAndPath(i){return this.findRootMostMatchingPathAndValue(i,()=>!0)}subtree(i){if(Ht(i))return this;{let e=Ft(i),n=this.children.get(e);return n!==null?n.subtree(Bi(i)):new t(null)}}set(i,e){if(Ht(i))return new t(e,this.children);{let n=Ft(i),a=(this.children.get(n)||new t(null)).set(Bi(i),e),s=this.children.insert(n,a);return new t(this.value,s)}}remove(i){if(Ht(i))return this.children.isEmpty()?new t(null):new t(null,this.children);{let e=Ft(i),n=this.children.get(e);if(n){let r=n.remove(Bi(i)),a;return r.isEmpty()?a=this.children.remove(e):a=this.children.insert(e,r),this.value===null&&a.isEmpty()?new t(null):new t(this.value,a)}else return this}}get(i){if(Ht(i))return this.value;{let e=Ft(i),n=this.children.get(e);return n?n.get(Bi(i)):null}}setTree(i,e){if(Ht(i))return e;{let n=Ft(i),a=(this.children.get(n)||new t(null)).setTree(Bi(i),e),s;return a.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,a),new t(this.value,s)}}fold(i){return this.fold_(ai(),i)}fold_(i,e){let n={};return this.children.inorderTraversal((r,a)=>{n[r]=a.fold_(Gn(i,r),e)}),e(i,this.value,n)}findOnPath(i,e){return this.findOnPath_(i,ai(),e)}findOnPath_(i,e,n){let r=this.value?n(e,this.value):!1;if(r)return r;if(Ht(i))return null;{let a=Ft(i),s=this.children.get(a);return s?s.findOnPath_(Bi(i),Gn(e,a),n):null}}foreachOnPath(i,e){return this.foreachOnPath_(i,ai(),e)}foreachOnPath_(i,e,n){if(Ht(i))return this;{this.value&&n(e,this.value);let r=Ft(i),a=this.children.get(r);return a?a.foreachOnPath_(Bi(i),Gn(e,r),n):new t(null)}}foreach(i){this.foreach_(ai(),i)}foreach_(i,e){this.children.inorderTraversal((n,r)=>{r.foreach_(Gn(i,n),e)}),this.value&&e(i,this.value)}foreachChild(i){this.children.inorderTraversal((e,n)=>{n.value&&i(e,n.value)})}};var ho=class t{constructor(i){this.writeTree_=i}static empty(){return new t(new ka(null))}};function By(t,i,e){if(Ht(i))return new ho(new ka(e));{let n=t.writeTree_.findRootMostValueAndPath(i);if(n!=null){let r=n.path,a=n.value,s=oa(r,i);return a=a.updateChild(s,e),new ho(t.writeTree_.set(r,a))}else{let r=new ka(e),a=t.writeTree_.setTree(i,r);return new ho(a)}}}function rB(t,i,e){let n=t;return Ia(e,(r,a)=>{n=By(n,Gn(i,r),a)}),n}function aB(t,i){if(Ht(i))return ho.empty();{let e=t.writeTree_.setTree(i,new ka(null));return new ho(e)}}function LA(t,i){return Ku(t,i)!=null}function Ku(t,i){let e=t.writeTree_.findRootMostValueAndPath(i);return e!=null?t.writeTree_.get(e.path).getChild(oa(e.path,i)):null}function sB(t){let i=[],e=t.writeTree_.value;return e!=null?e.isLeafNode()||e.forEachChild(hn,(n,r)=>{i.push(new Vt(n,r))}):t.writeTree_.children.inorderTraversal((n,r)=>{r.value!=null&&i.push(new Vt(n,r.value))}),i}function gd(t,i){if(Ht(i))return t;{let e=Ku(t,i);return e!=null?new ho(new ka(e)):new ho(t.writeTree_.subtree(i))}}function NA(t){return t.writeTree_.isEmpty()}function up(t,i){return ZB(ai(),t.writeTree_,i)}function ZB(t,i,e){if(i.value!=null)return e.updateChild(t,i.value);{let n=null;return i.children.inorderTraversal((r,a)=>{r===".priority"?(he(a.value!==null,"Priority writes must always be leaf nodes"),n=a.value):e=ZB(Gn(t,r),a,e)}),!e.getChild(t).isEmpty()&&n!==null&&(e=e.updateChild(Gn(t,".priority"),n)),e}}function Zx(t,i){return e4(i,t)}function see(t,i,e,n,r){he(n>t.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),t.allWrites.push({path:i,snap:e,writeId:n,visible:r}),r&&(t.visibleWrites=By(t.visibleWrites,i,e)),t.lastWriteId=n}function oee(t,i){for(let e=0;e<t.allWrites.length;e++){let n=t.allWrites[e];if(n.writeId===i)return n}return null}function lee(t,i){let e=t.allWrites.findIndex(o=>o.writeId===i);he(e>=0,"removeWrite called with nonexistent writeId.");let n=t.allWrites[e];t.allWrites.splice(e,1);let r=n.visible,a=!1,s=t.allWrites.length-1;for(;r&&s>=0;){let o=t.allWrites[s];o.visible&&(s>=e&&cee(o,n.path)?r=!1:uo(n.path,o.path)&&(a=!0)),s--}if(r){if(a)return dee(t),!0;if(n.snap)t.visibleWrites=aB(t.visibleWrites,n.path);else{let o=n.children;Ia(o,l=>{t.visibleWrites=aB(t.visibleWrites,Gn(n.path,l))})}return!0}else return!1}function cee(t,i){if(t.snap)return uo(t.path,i);for(let e in t.children)if(t.children.hasOwnProperty(e)&&uo(Gn(t.path,e),i))return!0;return!1}function dee(t){t.visibleWrites=QB(t.allWrites,uee,ai()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function uee(t){return t.visible}function QB(t,i,e){let n=ho.empty();for(let r=0;r<t.length;++r){let a=t[r];if(i(a)){let s=a.path,o;if(a.snap)uo(e,s)?(o=oa(e,s),n=By(n,o,a.snap)):uo(s,e)&&(o=oa(s,e),n=By(n,ai(),a.snap.getChild(o)));else if(a.children){if(uo(e,s))o=oa(e,s),n=rB(n,o,a.children);else if(uo(s,e))if(o=oa(s,e),Ht(o))n=rB(n,ai(),a.children);else{let l=Ou(a.children,Ft(o));if(l){let c=l.getChild(Bi(o));n=By(n,ai(),c)}}}else throw Ru("WriteRecord should have .snap or .children")}}return n}function XB(t,i,e,n,r){if(!n&&!r){let a=Ku(t.visibleWrites,i);if(a!=null)return a;{let s=gd(t.visibleWrites,i);if(NA(s))return e;if(e==null&&!LA(s,ai()))return null;{let o=e||Mt.EMPTY_NODE;return up(s,o)}}}else{let a=gd(t.visibleWrites,i);if(!r&&NA(a))return e;if(!r&&e==null&&!LA(a,ai()))return null;{let s=function(c){return(c.visible||r)&&(!n||!~n.indexOf(c.writeId))&&(uo(c.path,i)||uo(i,c.path))},o=QB(t.allWrites,s,i),l=e||Mt.EMPTY_NODE;return up(o,l)}}}function hee(t,i,e){let n=Mt.EMPTY_NODE,r=Ku(t.visibleWrites,i);if(r)return r.isLeafNode()||r.forEachChild(hn,(a,s)=>{n=n.updateImmediateChild(a,s)}),n;if(e){let a=gd(t.visibleWrites,i);return e.forEachChild(hn,(s,o)=>{let l=up(gd(a,new Ci(s)),o);n=n.updateImmediateChild(s,l)}),sB(a).forEach(s=>{n=n.updateImmediateChild(s.name,s.node)}),n}else{let a=gd(t.visibleWrites,i);return sB(a).forEach(s=>{n=n.updateImmediateChild(s.name,s.node)}),n}}function mee(t,i,e,n,r){he(n||r,"Either existingEventSnap or existingServerSnap must exist");let a=Gn(i,e);if(LA(t.visibleWrites,a))return null;{let s=gd(t.visibleWrites,a);return NA(s)?r.getChild(e):up(s,r.getChild(e))}}function pee(t,i,e,n){let r=Gn(i,e),a=Ku(t.visibleWrites,r);if(a!=null)return a;if(n.isCompleteForChild(e)){let s=gd(t.visibleWrites,r);return up(s,n.getNode().getImmediateChild(e))}else return null}function fee(t,i){return Ku(t.visibleWrites,i)}function gee(t,i,e,n,r,a,s){let o,l=gd(t.visibleWrites,i),c=Ku(l,ai());if(c!=null)o=c;else if(e!=null)o=up(l,e);else return[];if(o=o.withIndex(s),!o.isEmpty()&&!o.isLeafNode()){let d=[],u=s.getCompare(),h=a?o.getReverseIteratorFrom(n,s):o.getIteratorFrom(n,s),m=h.getNext();for(;m&&d.length<r;)u(m,n)!==0&&d.push(m),m=h.getNext();return d}else return[]}function yee(){return{visibleWrites:ho.empty(),allWrites:[],lastWriteId:-1}}function Vx(t,i,e,n){return XB(t.writeTree,t.treePath,i,e,n)}function aE(t,i){return hee(t.writeTree,t.treePath,i)}function oB(t,i,e,n){return mee(t.writeTree,t.treePath,i,e,n)}function Bx(t,i){return fee(t.writeTree,Gn(t.treePath,i))}function bee(t,i,e,n,r,a){return gee(t.writeTree,t.treePath,i,e,n,r,a)}function sE(t,i,e){return pee(t.writeTree,t.treePath,i,e)}function JB(t,i){return e4(Gn(t.treePath,i),t.writeTree)}function e4(t,i){return{treePath:t,writeTree:i}}var PA=class{constructor(){this.changeMap=new Map}trackChildChange(i){let e=i.type,n=i.childName;he(e==="child_added"||e==="child_changed"||e==="child_removed","Only child changes supported for tracking"),he(n!==".priority","Only non-priority child changes can be tracked.");let r=this.changeMap.get(n);if(r){let a=r.type;if(e==="child_added"&&a==="child_removed")this.changeMap.set(n,Uy(n,i.snapshotNode,r.snapshotNode));else if(e==="child_removed"&&a==="child_added")this.changeMap.delete(n);else if(e==="child_removed"&&a==="child_changed")this.changeMap.set(n,zy(n,r.oldSnap));else if(e==="child_changed"&&a==="child_added")this.changeMap.set(n,cp(n,i.snapshotNode));else if(e==="child_changed"&&a==="child_changed")this.changeMap.set(n,Uy(n,i.snapshotNode,r.oldSnap));else throw Ru("Illegal combination of changes: "+i+" occurred after "+r)}else this.changeMap.set(n,i)}getChanges(){return Array.from(this.changeMap.values())}};var FA=class{getCompleteChild(i){return null}getChildAfterChild(i,e,n){return null}},t4=new FA,Gy=class{constructor(i,e,n=null){this.writes_=i,this.viewCache_=e,this.optCompleteServerCache_=n}getCompleteChild(i){let e=this.viewCache_.eventCache;if(e.isCompleteForChild(i))return e.getNode().getImmediateChild(i);{let n=this.optCompleteServerCache_!=null?new dl(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return sE(this.writes_,i,n)}}getChildAfterChild(i,e,n){let r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:$u(this.viewCache_),a=bee(this.writes_,r,e,1,n,i);return a.length===0?null:a[0]}};function vee(t){return{filter:t}}function _ee(t,i){he(i.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),he(i.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function xee(t,i,e,n,r){let a=new PA,s,o;if(e.type===cl.OVERWRITE){let c=e;c.source.fromUser?s=VA(t,i,c.path,c.snap,n,r,a):(he(c.source.fromServer,"Unknown source."),o=c.source.tagged||i.serverCache.isFiltered()&&!Ht(c.path),s=jx(t,i,c.path,c.snap,n,r,o,a))}else if(e.type===cl.MERGE){let c=e;c.source.fromUser?s=wee(t,i,c.path,c.children,n,r,a):(he(c.source.fromServer,"Unknown source."),o=c.source.tagged||i.serverCache.isFiltered(),s=BA(t,i,c.path,c.children,n,r,o,a))}else if(e.type===cl.ACK_USER_WRITE){let c=e;c.revert?s=Mee(t,i,c.path,n,r,a):s=Dee(t,i,c.path,c.affectedTree,n,r,a)}else if(e.type===cl.LISTEN_COMPLETE)s=See(t,i,e.path,n,a);else throw Ru("Unknown operation type: "+e.type);let l=a.getChanges();return Cee(i,s,l),{viewCache:s,changes:l}}function Cee(t,i,e){let n=i.eventCache;if(n.isFullyInitialized()){let r=n.getNode().isLeafNode()||n.getNode().isEmpty(),a=Fx(t);(e.length>0||!t.eventCache.isFullyInitialized()||r&&!n.getNode().equals(a)||!n.getNode().getPriority().equals(a.getPriority()))&&e.push($B(Fx(i)))}}function i4(t,i,e,n,r,a){let s=i.eventCache;if(Bx(n,e)!=null)return i;{let o,l;if(Ht(e))if(he(i.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),i.serverCache.isFiltered()){let c=$u(i),d=c instanceof Mt?c:Mt.EMPTY_NODE,u=aE(n,d);o=t.filter.updateFullNode(i.eventCache.getNode(),u,a)}else{let c=Vx(n,$u(i));o=t.filter.updateFullNode(i.eventCache.getNode(),c,a)}else{let c=Ft(e);if(c===".priority"){he(bd(e)===1,"Can't have a priority with additional path components");let d=s.getNode();l=i.serverCache.getNode();let u=oB(n,e,d,l);u!=null?o=t.filter.updatePriority(d,u):o=s.getNode()}else{let d=Bi(e),u;if(s.isCompleteForChild(c)){l=i.serverCache.getNode();let h=oB(n,e,s.getNode(),l);h!=null?u=s.getNode().getImmediateChild(c).updateChild(d,h):u=s.getNode().getImmediateChild(c)}else u=sE(n,c,i.serverCache);u!=null?o=t.filter.updateChild(s.getNode(),c,u,d,r,a):o=s.getNode()}}return Vy(i,o,s.isFullyInitialized()||Ht(e),t.filter.filtersNodes())}}function jx(t,i,e,n,r,a,s,o){let l=i.serverCache,c,d=s?t.filter:t.filter.getIndexedFilter();if(Ht(e))c=d.updateFullNode(l.getNode(),n,null);else if(d.filtersNodes()&&!l.isFiltered()){let m=l.getNode().updateChild(e,n);c=d.updateFullNode(l.getNode(),m,null)}else{let m=Ft(e);if(!l.isCompleteForPath(e)&&bd(e)>1)return i;let p=Bi(e),b=l.getNode().getImmediateChild(m).updateChild(p,n);m===".priority"?c=d.updatePriority(l.getNode(),b):c=d.updateChild(l.getNode(),m,b,p,t4,null)}let u=qB(i,c,l.isFullyInitialized()||Ht(e),d.filtersNodes()),h=new Gy(r,u,a);return i4(t,u,e,r,h,o)}function VA(t,i,e,n,r,a,s){let o=i.eventCache,l,c,d=new Gy(r,i,a);if(Ht(e))c=t.filter.updateFullNode(i.eventCache.getNode(),n,s),l=Vy(i,c,!0,t.filter.filtersNodes());else{let u=Ft(e);if(u===".priority")c=t.filter.updatePriority(i.eventCache.getNode(),n),l=Vy(i,c,o.isFullyInitialized(),o.isFiltered());else{let h=Bi(e),m=o.getNode().getImmediateChild(u),p;if(Ht(h))p=n;else{let g=d.getCompleteChild(u);g!=null?VB(h)===".priority"&&g.getChild(jB(h)).isEmpty()?p=g:p=g.updateChild(h,n):p=Mt.EMPTY_NODE}if(m.equals(p))l=i;else{let g=t.filter.updateChild(o.getNode(),u,p,h,d,s);l=Vy(i,g,o.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function lB(t,i){return t.eventCache.isCompleteForChild(i)}function wee(t,i,e,n,r,a,s){let o=i;return n.foreach((l,c)=>{let d=Gn(e,l);lB(i,Ft(d))&&(o=VA(t,o,d,c,r,a,s))}),n.foreach((l,c)=>{let d=Gn(e,l);lB(i,Ft(d))||(o=VA(t,o,d,c,r,a,s))}),o}function cB(t,i,e){return e.foreach((n,r)=>{i=i.updateChild(n,r)}),i}function BA(t,i,e,n,r,a,s,o){if(i.serverCache.getNode().isEmpty()&&!i.serverCache.isFullyInitialized())return i;let l=i,c;Ht(e)?c=n:c=new ka(null).setTree(e,n);let d=i.serverCache.getNode();return c.children.inorderTraversal((u,h)=>{if(d.hasChild(u)){let m=i.serverCache.getNode().getImmediateChild(u),p=cB(t,m,h);l=jx(t,l,new Ci(u),p,r,a,s,o)}}),c.children.inorderTraversal((u,h)=>{let m=!i.serverCache.isCompleteForChild(u)&&h.value===null;if(!d.hasChild(u)&&!m){let p=i.serverCache.getNode().getImmediateChild(u),g=cB(t,p,h);l=jx(t,l,new Ci(u),g,r,a,s,o)}}),l}function Dee(t,i,e,n,r,a,s){if(Bx(r,e)!=null)return i;let o=i.serverCache.isFiltered(),l=i.serverCache;if(n.value!=null){if(Ht(e)&&l.isFullyInitialized()||l.isCompleteForPath(e))return jx(t,i,e,l.getNode().getChild(e),r,a,o,s);if(Ht(e)){let c=new ka(null);return l.getNode().forEachChild(rp,(d,u)=>{c=c.set(new Ci(d),u)}),BA(t,i,e,c,r,a,o,s)}else return i}else{let c=new ka(null);return n.foreach((d,u)=>{let h=Gn(e,d);l.isCompleteForPath(h)&&(c=c.set(d,l.getNode().getChild(h)))}),BA(t,i,e,c,r,a,o,s)}}function See(t,i,e,n,r){let a=i.serverCache,s=qB(i,a.getNode(),a.isFullyInitialized()||Ht(e),a.isFiltered());return i4(t,s,e,n,t4,r)}function Mee(t,i,e,n,r,a){let s;if(Bx(n,e)!=null)return i;{let o=new Gy(n,i,r),l=i.eventCache.getNode(),c;if(Ht(e)||Ft(e)===".priority"){let d;if(i.serverCache.isFullyInitialized())d=Vx(n,$u(i));else{let u=i.serverCache.getNode();he(u instanceof Mt,"serverChildren would be complete if leaf node"),d=aE(n,u)}d=d,c=t.filter.updateFullNode(l,d,a)}else{let d=Ft(e),u=sE(n,d,i.serverCache);u==null&&i.serverCache.isCompleteForChild(d)&&(u=l.getImmediateChild(d)),u!=null?c=t.filter.updateChild(l,d,u,Bi(e),o,a):i.eventCache.getNode().hasChild(d)?c=t.filter.updateChild(l,d,Mt.EMPTY_NODE,Bi(e),o,a):c=l,c.isEmpty()&&i.serverCache.isFullyInitialized()&&(s=Vx(n,$u(i)),s.isLeafNode()&&(c=t.filter.updateFullNode(c,s,a)))}return s=i.serverCache.isFullyInitialized()||Bx(n,ai())!=null,Vy(i,c,s,t.filter.filtersNodes())}}var jA=class{constructor(i,e){this.query_=i,this.eventRegistrations_=[];let n=this.query_._queryParams,r=new Hy(n.getIndex()),a=XJ(n);this.processor_=vee(a);let s=e.serverCache,o=e.eventCache,l=r.updateFullNode(Mt.EMPTY_NODE,s.getNode(),null),c=a.updateFullNode(Mt.EMPTY_NODE,o.getNode(),null),d=new dl(l,s.isFullyInitialized(),r.filtersNodes()),u=new dl(c,o.isFullyInitialized(),a.filtersNodes());this.viewCache_=qx(u,d),this.eventGenerator_=new OA(this.query_)}get query(){return this.query_}};function Iee(t){return t.viewCache_.serverCache.getNode()}function kee(t){return Fx(t.viewCache_)}function Aee(t,i){let e=$u(t.viewCache_);return e&&(t.query._queryParams.loadsAllData()||!Ht(i)&&!e.getImmediateChild(Ft(i)).isEmpty())?e.getChild(i):null}function dB(t){return t.eventRegistrations_.length===0}function Eee(t,i){t.eventRegistrations_.push(i)}function uB(t,i,e){let n=[];if(e){he(i==null,"A cancel should cancel all event registrations.");let r=t.query._path;t.eventRegistrations_.forEach(a=>{let s=a.createCancelEvent(e,r);s&&n.push(s)})}if(i){let r=[];for(let a=0;a<t.eventRegistrations_.length;++a){let s=t.eventRegistrations_[a];if(!s.matches(i))r.push(s);else if(i.hasAnyCallback()){r=r.concat(t.eventRegistrations_.slice(a+1));break}}t.eventRegistrations_=r}else t.eventRegistrations_=[];return n}function hB(t,i,e,n){i.type===cl.MERGE&&i.source.queryId!==null&&(he($u(t.viewCache_),"We should always have a full cache before handling merges"),he(Fx(t.viewCache_),"Missing event cache, even though we have a server cache"));let r=t.viewCache_,a=xee(t.processor_,r,i,e,n);return _ee(t.processor_,a.viewCache),he(a.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=a.viewCache,n4(t,a.changes,a.viewCache.eventCache.getNode(),null)}function Tee(t,i){let e=t.viewCache_.eventCache,n=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(hn,(a,s)=>{n.push(cp(a,s))}),e.isFullyInitialized()&&n.push($B(e.getNode())),n4(t,n,e.getNode(),i)}function n4(t,i,e,n){let r=n?[n]:t.eventRegistrations_;return iee(t.eventGenerator_,i,e,r)}var zx,Ux=class{constructor(){this.views=new Map}};function Ree(t){he(!zx,"__referenceConstructor has already been defined"),zx=t}function Oee(){return he(zx,"Reference.ts has not been loaded"),zx}function Lee(t){return t.views.size===0}function oE(t,i,e,n){let r=i.source.queryId;if(r!==null){let a=t.views.get(r);return he(a!=null,"SyncTree gave us an op for an invalid query."),hB(a,i,e,n)}else{let a=[];for(let s of t.views.values())a=a.concat(hB(s,i,e,n));return a}}function r4(t,i,e,n,r){let a=i._queryIdentifier,s=t.views.get(a);if(!s){let o=Vx(e,r?n:null),l=!1;o?l=!0:n instanceof Mt?(o=aE(e,n),l=!1):(o=Mt.EMPTY_NODE,l=!1);let c=qx(new dl(o,l,!1),new dl(n,r,!1));return new jA(i,c)}return s}function Nee(t,i,e,n,r,a){let s=r4(t,i,n,r,a);return t.views.has(i._queryIdentifier)||t.views.set(i._queryIdentifier,s),Eee(s,e),Tee(s,e)}function Pee(t,i,e,n){let r=i._queryIdentifier,a=[],s=[],o=vd(t);if(r==="default")for(let[l,c]of t.views.entries())s=s.concat(uB(c,e,n)),dB(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||a.push(c.query));else{let l=t.views.get(r);l&&(s=s.concat(uB(l,e,n)),dB(l)&&(t.views.delete(r),l.query._queryParams.loadsAllData()||a.push(l.query)))}return o&&!vd(t)&&a.push(new(Oee())(i._repo,i._path)),{removed:a,events:s}}function a4(t){let i=[];for(let e of t.views.values())e.query._queryParams.loadsAllData()||i.push(e);return i}function yd(t,i){let e=null;for(let n of t.views.values())e=e||Aee(n,i);return e}function s4(t,i){if(i._queryParams.loadsAllData())return Qx(t);{let n=i._queryIdentifier;return t.views.get(n)}}function o4(t,i){return s4(t,i)!=null}function vd(t){return Qx(t)!=null}function Qx(t){for(let i of t.views.values())if(i.query._queryParams.loadsAllData())return i;return null}var Hx;function Fee(t){he(!Hx,"__referenceConstructor has already been defined"),Hx=t}function Vee(){return he(Hx,"Reference.ts has not been loaded"),Hx}var Bee=1,Gx=class{constructor(i){this.listenProvider_=i,this.syncPointTree_=new ka(null),this.pendingWriteTree_=yee(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function l4(t,i,e,n,r){return see(t.pendingWriteTree_,i,e,n,r),r?eb(t,new dp(KB(),i,e)):[]}function Hu(t,i,e=!1){let n=oee(t.pendingWriteTree_,i);if(lee(t.pendingWriteTree_,i)){let a=new ka(null);return n.snap!=null?a=a.set(ai(),!0):Ia(n.children,s=>{a=a.set(new Ci(s),!0)}),eb(t,new RA(n.path,a,e))}else return[]}function Jy(t,i,e){return eb(t,new dp(nE(),i,e))}function jee(t,i,e){let n=ka.fromObject(e);return eb(t,new Px(nE(),i,n))}function zee(t,i){return eb(t,new Nx(nE(),i))}function Uee(t,i,e){let n=cE(t,e);if(n){let r=dE(n),a=r.path,s=r.queryId,o=oa(a,i),l=new Nx(rE(s),o);return uE(t,a,l)}else return[]}function Wx(t,i,e,n,r=!1){let a=i._path,s=t.syncPointTree_.get(a),o=[];if(s&&(i._queryIdentifier==="default"||o4(s,i))){let l=Pee(s,i,e,n);Lee(s)&&(t.syncPointTree_=t.syncPointTree_.remove(a));let c=l.removed;if(o=l.events,!r){let d=c.findIndex(h=>h._queryParams.loadsAllData())!==-1,u=t.syncPointTree_.findOnPath(a,(h,m)=>vd(m));if(d&&!u){let h=t.syncPointTree_.subtree(a);if(!h.isEmpty()){let m=Wee(h);for(let p=0;p<m.length;++p){let g=m[p],b=g.query,v=h4(t,g);t.listenProvider_.startListening(jy(b),Wy(t,b),v.hashFn,v.onComplete)}}}!u&&c.length>0&&!n&&(d?t.listenProvider_.stopListening(jy(i),null):c.forEach(h=>{let m=t.queryToTagMap.get(Xx(h));t.listenProvider_.stopListening(jy(h),m)}))}$ee(t,c)}return o}function c4(t,i,e,n){let r=cE(t,n);if(r!=null){let a=dE(r),s=a.path,o=a.queryId,l=oa(s,i),c=new dp(rE(o),l,e);return uE(t,s,c)}else return[]}function Hee(t,i,e,n){let r=cE(t,n);if(r){let a=dE(r),s=a.path,o=a.queryId,l=oa(s,i),c=ka.fromObject(e),d=new Px(rE(o),l,c);return uE(t,s,d)}else return[]}function zA(t,i,e,n=!1){let r=i._path,a=null,s=!1;t.syncPointTree_.foreachOnPath(r,(h,m)=>{let p=oa(h,r);a=a||yd(m,p),s=s||vd(m)});let o=t.syncPointTree_.get(r);o?(s=s||vd(o),a=a||yd(o,ai())):(o=new Ux,t.syncPointTree_=t.syncPointTree_.set(r,o));let l;a!=null?l=!0:(l=!1,a=Mt.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild((m,p)=>{let g=yd(p,ai());g&&(a=a.updateImmediateChild(m,g))}));let c=o4(o,i);if(!c&&!i._queryParams.loadsAllData()){let h=Xx(i);he(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");let m=Yee();t.queryToTagMap.set(h,m),t.tagToQueryMap.set(m,h)}let d=Zx(t.pendingWriteTree_,r),u=Nee(o,i,e,d,a,l);if(!c&&!s&&!n){let h=s4(o,i);u=u.concat(Kee(t,i,h))}return u}function lE(t,i,e){let r=t.pendingWriteTree_,a=t.syncPointTree_.findOnPath(i,(s,o)=>{let l=oa(s,i),c=yd(o,l);if(c)return c});return XB(r,i,a,e,!0)}function Gee(t,i){let e=i._path,n=null;t.syncPointTree_.foreachOnPath(e,(c,d)=>{let u=oa(c,e);n=n||yd(d,u)});let r=t.syncPointTree_.get(e);r?n=n||yd(r,ai()):(r=new Ux,t.syncPointTree_=t.syncPointTree_.set(e,r));let a=n!=null,s=a?new dl(n,!0,!1):null,o=Zx(t.pendingWriteTree_,i._path),l=r4(r,i,o,a?s.getNode():Mt.EMPTY_NODE,a);return kee(l)}function eb(t,i){return d4(i,t.syncPointTree_,null,Zx(t.pendingWriteTree_,ai()))}function d4(t,i,e,n){if(Ht(t.path))return u4(t,i,e,n);{let r=i.get(ai());e==null&&r!=null&&(e=yd(r,ai()));let a=[],s=Ft(t.path),o=t.operationForChild(s),l=i.children.get(s);if(l&&o){let c=e?e.getImmediateChild(s):null,d=JB(n,s);a=a.concat(d4(o,l,c,d))}return r&&(a=a.concat(oE(r,t,n,e))),a}}function u4(t,i,e,n){let r=i.get(ai());e==null&&r!=null&&(e=yd(r,ai()));let a=[];return i.children.inorderTraversal((s,o)=>{let l=e?e.getImmediateChild(s):null,c=JB(n,s),d=t.operationForChild(s);d&&(a=a.concat(u4(d,o,l,c)))}),r&&(a=a.concat(oE(r,t,n,e))),a}function h4(t,i){let e=i.query,n=Wy(t,e);return{hashFn:()=>(Iee(i)||Mt.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return n?Uee(t,e._path,n):zee(t,e._path);{let a=cJ(r,e);return Wx(t,e,null,a)}}}}function Wy(t,i){let e=Xx(i);return t.queryToTagMap.get(e)}function Xx(t){return t._path.toString()+"$"+t._queryIdentifier}function cE(t,i){return t.tagToQueryMap.get(i)}function dE(t){let i=t.indexOf("$");return he(i!==-1&&i<t.length-1,"Bad queryKey."),{queryId:t.substr(i+1),path:new Ci(t.substr(0,i))}}function uE(t,i,e){let n=t.syncPointTree_.get(i);he(n,"Missing sync point for query tag that we're tracking");let r=Zx(t.pendingWriteTree_,i);return oE(n,e,r,null)}function Wee(t){return t.fold((i,e,n)=>{if(e&&vd(e))return[Qx(e)];{let r=[];return e&&(r=a4(e)),Ia(n,(a,s)=>{r=r.concat(s)}),r}})}function jy(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(Vee())(t._repo,t._path):t}function $ee(t,i){for(let e=0;e<i.length;++e){let n=i[e];if(!n._queryParams.loadsAllData()){let r=Xx(n),a=t.queryToTagMap.get(r);t.queryToTagMap.delete(r),t.tagToQueryMap.delete(a)}}}function Yee(){return Bee++}function Kee(t,i,e){let n=i._path,r=Wy(t,i),a=h4(t,e),s=t.listenProvider_.startListening(jy(i),r,a.hashFn,a.onComplete),o=t.syncPointTree_.subtree(n);if(r)he(!vd(o.value),"If we're adding a query, it shouldn't be shadowed");else{let l=o.fold((c,d,u)=>{if(!Ht(c)&&d&&vd(d))return[Qx(d).query];{let h=[];return d&&(h=h.concat(a4(d).map(m=>m.query))),Ia(u,(m,p)=>{h=h.concat(p)}),h}});for(let c=0;c<l.length;++c){let d=l[c];t.listenProvider_.stopListening(jy(d),Wy(t,d))}}return s}var UA=class t{constructor(i){this.node_=i}getImmediateChild(i){let e=this.node_.getImmediateChild(i);return new t(e)}node(){return this.node_}},HA=class t{constructor(i,e){this.syncTree_=i,this.path_=e}getImmediateChild(i){let e=Gn(this.path_,i);return new t(this.syncTree_,e)}node(){return lE(this.syncTree_,this.path_)}},qee=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},mB=function(t,i,e){if(!t||typeof t!="object")return t;if(he(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Zee(t[".sv"],i,e);if(typeof t[".sv"]=="object")return Qee(t[".sv"],i);he(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Zee=function(t,i,e){switch(t){case"timestamp":return e.timestamp;default:he(!1,"Unexpected server value: "+t)}},Qee=function(t,i,e){t.hasOwnProperty("increment")||he(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let n=t.increment;typeof n!="number"&&he(!1,"Unexpected increment value: "+n);let r=i.node();if(he(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return n;let s=r.getValue();return typeof s!="number"?n:s+n},Xee=function(t,i,e,n){return hE(i,new HA(e,t),n)},m4=function(t,i,e){return hE(t,new UA(i),e)};function hE(t,i,e){let n=t.getPriority().val(),r=mB(n,i.getImmediateChild(".priority"),e),a;if(t.isLeafNode()){let s=t,o=mB(s.getValue(),i,e);return o!==s.getValue()||r!==s.getPriority().val()?new op(o,sr(r)):t}else{let s=t;return a=s,r!==s.getPriority().val()&&(a=a.updatePriority(new op(r))),s.forEachChild(hn,(o,l)=>{let c=hE(l,i.getImmediateChild(o),e);c!==l&&(a=a.updateImmediateChild(o,c))}),a}}var $y=class{constructor(i="",e=null,n={children:{},childCount:0}){this.name=i,this.parent=e,this.node=n}};function mE(t,i){let e=i instanceof Ci?i:new Ci(i),n=t,r=Ft(e);for(;r!==null;){let a=Ou(n.node.children,r)||{children:{},childCount:0};n=new $y(r,n,a),e=Bi(e),r=Ft(e)}return n}function pp(t){return t.node.value}function p4(t,i){t.node.value=i,GA(t)}function f4(t){return t.node.childCount>0}function Jee(t){return pp(t)===void 0&&!f4(t)}function Jx(t,i){Ia(t.node.children,(e,n)=>{i(new $y(e,t,n))})}function g4(t,i,e,n){e&&!n&&i(t),Jx(t,r=>{g4(r,i,!0,n)}),e&&n&&i(t)}function ete(t,i,e){let n=e?t:t.parent;for(;n!==null;){if(i(n))return!0;n=n.parent}return!1}function tb(t){return new Ci(t.parent===null?t.name:tb(t.parent)+"/"+t.name)}function GA(t){t.parent!==null&&tte(t.parent,t.name,t)}function tte(t,i,e){let n=Jee(e),r=rl(t.node.children,i);n&&r?(delete t.node.children[i],t.node.childCount--,GA(t)):!n&&!r&&(t.node.children[i]=e.node,t.node.childCount++,GA(t))}var ite=/[\[\].#$\/\u0000-\u001F\u007F]/,nte=/[\[\].#$\u0000-\u001F\u007F]/,iA=10*1024*1024,y4=function(t){return typeof t=="string"&&t.length!==0&&!ite.test(t)},b4=function(t){return typeof t=="string"&&t.length!==0&&!nte.test(t)},rte=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),b4(t)};var v4=function(t,i,e,n){n&&i===void 0||pE(Q0(t,"value"),i,e)},pE=function(t,i,e){let n=e instanceof Ci?new gA(e,t):e;if(i===void 0)throw new Error(t+"contains undefined "+zu(n));if(typeof i=="function")throw new Error(t+"contains a function "+zu(n)+" with contents = "+i.toString());if(_B(i))throw new Error(t+"contains "+i.toString()+" "+zu(n));if(typeof i=="string"&&i.length>iA/3&&fy(i)>iA)throw new Error(t+"contains a string greater than "+iA+" utf8 bytes "+zu(n)+" ('"+i.substring(0,50)+"...')");if(i&&typeof i=="object"){let r=!1,a=!1;if(Ia(i,(s,o)=>{if(s===".value")r=!0;else if(s!==".priority"&&s!==".sv"&&(a=!0,!y4(s)))throw new Error(t+" contains an invalid key ("+s+") "+zu(n)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);VJ(n,s),pE(t,o,n),BJ(n)}),r&&a)throw new Error(t+' contains ".value" child '+zu(n)+" in addition to actual children.")}};var _4=function(t,i,e,n){if(!(n&&e===void 0)&&!b4(e))throw new Error(Q0(t,i)+'was an invalid path = "'+e+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},ate=function(t,i,e,n){e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),_4(t,i,e,n)},fE=function(t,i){if(Ft(i)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},ste=function(t,i){let e=i.path.toString();if(typeof i.repoInfo.host!="string"||i.repoInfo.host.length===0||!y4(i.repoInfo.namespace)&&i.repoInfo.host.split(":")[0]!=="localhost"||e.length!==0&&!rte(e))throw new Error(Q0(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var WA=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function gE(t,i){let e=null;for(let n=0;n<i.length;n++){let r=i[n],a=r.getPath();e!==null&&!eE(a,e.path)&&(t.eventLists_.push(e),e=null),e===null&&(e={events:[],path:a}),e.events.push(r)}e&&t.eventLists_.push(e)}function x4(t,i,e){gE(t,e),C4(t,n=>eE(n,i))}function ul(t,i,e){gE(t,e),C4(t,n=>uo(n,i)||uo(i,n))}function C4(t,i){t.recursionDepth_++;let e=!0;for(let n=0;n<t.eventLists_.length;n++){let r=t.eventLists_[n];if(r){let a=r.path;i(a)?(ote(t.eventLists_[n]),t.eventLists_[n]=null):e=!1}}e&&(t.eventLists_=[]),t.recursionDepth_--}function ote(t){for(let i=0;i<t.events.length;i++){let e=t.events[i];if(e!==null){t.events[i]=null;let n=e.getEventRunner();Gu&&Lr("event: "+e.toString()),mp(n)}}}var lte="repo_interrupt",cte=25,$A=class{constructor(i,e,n,r){this.repoInfo_=i,this.forceRestClient_=e,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new WA,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Lx(),this.transactionQueueTree_=new $y,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function dte(t,i,e){if(t.stats_=JA(t.repoInfo_),t.forceRestClient_||mJ())t.server_=new IA(t.repoInfo_,(n,r,a,s)=>{pB(t,n,r,a,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>fB(t,!0),0);else{if(typeof e<"u"&&e!==null){if(typeof e!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{In(e)}catch(n){throw new Error("Invalid authOverride provided: "+n)}}t.persistentConnection_=new tE(t.repoInfo_,i,(n,r,a,s)=>{pB(t,n,r,a,s)},n=>{fB(t,n)},n=>{ute(t,n)},t.authTokenProvider_,t.appCheckProvider_,e),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(n=>{t.server_.refreshAuthToken(n)}),t.appCheckProvider_.addTokenChangeListener(n=>{t.server_.refreshAppCheckToken(n.token)}),t.statsReporter_=fJ(t.repoInfo_,()=>new TA(t.stats_,t.server_)),t.infoData_=new kA,t.infoSyncTree_=new Gx({startListening:(n,r,a,s)=>{let o=[],l=t.infoData_.getNode(n._path);return l.isEmpty()||(o=Jy(t.infoSyncTree_,n._path,l),setTimeout(()=>{s("ok")},0)),o},stopListening:()=>{}}),bE(t,"connected",!1),t.serverSyncTree_=new Gx({startListening:(n,r,a,s)=>(t.server_.listen(n,a,r,(o,l)=>{let c=s(o,l);ul(t.eventQueue_,n._path,c)}),[]),stopListening:(n,r)=>{t.server_.unlisten(n,r)}})}function w4(t){let e=t.infoData_.getNode(new Ci(".info/serverTimeOffset")).val()||0;return new Date().getTime()+e}function yE(t){return qee({timestamp:w4(t)})}function pB(t,i,e,n,r){t.dataUpdateCount++;let a=new Ci(i);e=t.interceptServerDataCallback_?t.interceptServerDataCallback_(i,e):e;let s=[];if(r)if(n){let l=py(e,c=>sr(c));s=Hee(t.serverSyncTree_,a,l,r)}else{let l=sr(e);s=c4(t.serverSyncTree_,a,l,r)}else if(n){let l=py(e,c=>sr(c));s=jee(t.serverSyncTree_,a,l)}else{let l=sr(e);s=Jy(t.serverSyncTree_,a,l)}let o=a;s.length>0&&(o=tC(t,a)),ul(t.eventQueue_,o,s)}function fB(t,i){bE(t,"connected",i),i===!1&&pte(t)}function ute(t,i){Ia(i,(e,n)=>{bE(t,e,n)})}function bE(t,i,e){let n=new Ci("/.info/"+i),r=sr(e);t.infoData_.updateSnapshot(n,r);let a=Jy(t.infoSyncTree_,n,r);ul(t.eventQueue_,n,a)}function D4(t){return t.nextWriteId_++}function hte(t,i,e){let n=Gee(t.serverSyncTree_,i);return n!=null?Promise.resolve(n):t.server_.get(i).then(r=>{let a=sr(r).withIndex(i._queryParams.getIndex());zA(t.serverSyncTree_,i,e,!0);let s;if(i._queryParams.loadsAllData())s=Jy(t.serverSyncTree_,i._path,a);else{let o=Wy(t.serverSyncTree_,i);s=c4(t.serverSyncTree_,i._path,a,o)}return ul(t.eventQueue_,i._path,s),Wx(t.serverSyncTree_,i,e,null,!0),a},r=>(eC(t,"get for query "+In(i)+" failed: "+r),Promise.reject(new Error(r))))}function mte(t,i,e,n,r){eC(t,"set",{path:i.toString(),value:e,priority:n});let a=yE(t),s=sr(e,n),o=lE(t.serverSyncTree_,i),l=m4(s,o,a),c=D4(t),d=l4(t.serverSyncTree_,i,l,c,!0);gE(t.eventQueue_,d),t.server_.put(i.toString(),s.val(!0),(h,m)=>{let p=h==="ok";p||Ma("set at "+i+" failed: "+h);let g=Hu(t.serverSyncTree_,c,!p);ul(t.eventQueue_,i,g),yte(t,r,h,m)});let u=A4(t,i);tC(t,u),ul(t.eventQueue_,u,[])}function pte(t){eC(t,"onDisconnectEvents");let i=yE(t),e=Lx();AA(t.onDisconnect_,ai(),(r,a)=>{let s=Xee(r,a,t.serverSyncTree_,i);YB(e,r,s)});let n=[];AA(e,ai(),(r,a)=>{n=n.concat(Jy(t.serverSyncTree_,r,a));let s=A4(t,r);tC(t,s)}),t.onDisconnect_=Lx(),ul(t.eventQueue_,ai(),n)}function fte(t,i,e){let n;Ft(i._path)===".info"?n=zA(t.infoSyncTree_,i,e):n=zA(t.serverSyncTree_,i,e),x4(t.eventQueue_,i._path,n)}function YA(t,i,e){let n;Ft(i._path)===".info"?n=Wx(t.infoSyncTree_,i,e):n=Wx(t.serverSyncTree_,i,e),x4(t.eventQueue_,i._path,n)}function gte(t){t.persistentConnection_&&t.persistentConnection_.interrupt(lte)}function eC(t,...i){let e="";t.persistentConnection_&&(e=t.persistentConnection_.id+":"),Lr(e,...i)}function yte(t,i,e,n){i&&mp(()=>{if(e==="ok")i(null);else{let r=(e||"error").toUpperCase(),a=r;n&&(a+=": "+n);let s=new Error(a);s.code=r,i(s)}})}function S4(t,i,e){return lE(t.serverSyncTree_,i,e)||Mt.EMPTY_NODE}function vE(t,i=t.transactionQueueTree_){if(i||iC(t,i),pp(i)){let e=I4(t,i);he(e.length>0,"Sending zero length transaction queue"),e.every(r=>r.status===0)&&bte(t,tb(i),e)}else f4(i)&&Jx(i,e=>{vE(t,e)})}function bte(t,i,e){let n=e.map(c=>c.currentWriteId),r=S4(t,i,n),a=r,s=r.hash();for(let c=0;c<e.length;c++){let d=e[c];he(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;let u=oa(i,d.path);a=a.updateChild(u,d.currentOutputSnapshotRaw)}let o=a.val(!0),l=i;t.server_.put(l.toString(),o,c=>{eC(t,"transaction put response",{path:l.toString(),status:c});let d=[];if(c==="ok"){let u=[];for(let h=0;h<e.length;h++)e[h].status=2,d=d.concat(Hu(t.serverSyncTree_,e[h].currentWriteId)),e[h].onComplete&&u.push(()=>e[h].onComplete(null,!0,e[h].currentOutputSnapshotResolved)),e[h].unwatcher();iC(t,mE(t.transactionQueueTree_,i)),vE(t,t.transactionQueueTree_),ul(t.eventQueue_,i,d);for(let h=0;h<u.length;h++)mp(u[h])}else{if(c==="datastale")for(let u=0;u<e.length;u++)e[u].status===3?e[u].status=4:e[u].status=0;else{Ma("transaction at "+l.toString()+" failed: "+c);for(let u=0;u<e.length;u++)e[u].status=4,e[u].abortReason=c}tC(t,i)}},s)}function tC(t,i){let e=M4(t,i),n=tb(e),r=I4(t,e);return vte(t,r,n),n}function vte(t,i,e){if(i.length===0)return;let n=[],r=[],s=i.filter(o=>o.status===0).map(o=>o.currentWriteId);for(let o=0;o<i.length;o++){let l=i[o],c=oa(e,l.path),d=!1,u;if(he(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)d=!0,u=l.abortReason,r=r.concat(Hu(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=cte)d=!0,u="maxretry",r=r.concat(Hu(t.serverSyncTree_,l.currentWriteId,!0));else{let h=S4(t,l.path,s);l.currentInputSnapshot=h;let m=i[o].update(h.val());if(m!==void 0){pE("transaction failed: Data returned ",m,l.path);let p=sr(m);typeof m=="object"&&m!=null&&rl(m,".priority")||(p=p.updatePriority(h.getPriority()));let b=l.currentWriteId,v=yE(t),_=m4(p,h,v);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=_,l.currentWriteId=D4(t),s.splice(s.indexOf(b),1),r=r.concat(l4(t.serverSyncTree_,l.path,_,l.currentWriteId,l.applyLocally)),r=r.concat(Hu(t.serverSyncTree_,b,!0))}else d=!0,u="nodata",r=r.concat(Hu(t.serverSyncTree_,l.currentWriteId,!0))}ul(t.eventQueue_,e,r),r=[],d&&(i[o].status=2,function(h){setTimeout(h,Math.floor(0))}(i[o].unwatcher),i[o].onComplete&&(u==="nodata"?n.push(()=>i[o].onComplete(null,!1,i[o].currentInputSnapshot)):n.push(()=>i[o].onComplete(new Error(u),!1,null))))}iC(t,t.transactionQueueTree_);for(let o=0;o<n.length;o++)mp(n[o]);vE(t,t.transactionQueueTree_)}function M4(t,i){let e,n=t.transactionQueueTree_;for(e=Ft(i);e!==null&&pp(n)===void 0;)n=mE(n,e),i=Bi(i),e=Ft(i);return n}function I4(t,i){let e=[];return k4(t,i,e),e.sort((n,r)=>n.order-r.order),e}function k4(t,i,e){let n=pp(i);if(n)for(let r=0;r<n.length;r++)e.push(n[r]);Jx(i,r=>{k4(t,r,e)})}function iC(t,i){let e=pp(i);if(e){let n=0;for(let r=0;r<e.length;r++)e[r].status!==2&&(e[n]=e[r],n++);e.length=n,p4(i,e.length>0?e:void 0)}Jx(i,n=>{iC(t,n)})}function A4(t,i){let e=tb(M4(t,i)),n=mE(t.transactionQueueTree_,i);return ete(n,r=>{nA(t,r)}),nA(t,n),g4(n,r=>{nA(t,r)}),e}function nA(t,i){let e=pp(i);if(e){let n=[],r=[],a=-1;for(let s=0;s<e.length;s++)e[s].status===3||(e[s].status===1?(he(a===s-1,"All SENT items should be at beginning of queue."),a=s,e[s].status=3,e[s].abortReason="set"):(he(e[s].status===0,"Unexpected transaction status in abort"),e[s].unwatcher(),r=r.concat(Hu(t.serverSyncTree_,e[s].currentWriteId,!0)),e[s].onComplete&&n.push(e[s].onComplete.bind(null,new Error("set"),!1,null))));a===-1?p4(i,void 0):e.length=a+1,ul(t.eventQueue_,tb(i),r);for(let s=0;s<n.length;s++)mp(n[s])}}function _te(t){let i="",e=t.split("/");for(let n=0;n<e.length;n++)if(e[n].length>0){let r=e[n];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}i+="/"+r}return i}function xte(t){let i={};t.charAt(0)==="?"&&(t=t.substring(1));for(let e of t.split("&")){if(e.length===0)continue;let n=e.split("=");n.length===2?i[decodeURIComponent(n[0])]=decodeURIComponent(n[1]):Ma(`Invalid query segment '${e}' in query '${t}'`)}return i}var gB=function(t,i){let e=Cte(t),n=e.namespace;e.domain==="firebase.com"&&ic(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!n||n==="undefined")&&e.domain!=="localhost"&&ic("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||rJ();let r=e.scheme==="ws"||e.scheme==="wss";return{repoInfo:new Mx(e.host,e.secure,n,r,i,"",n!==e.subdomain),path:new Ci(e.pathString)}},Cte=function(t){let i="",e="",n="",r="",a="",s=!0,o="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(o=t.substring(0,c-1),t=t.substring(c+2));let d=t.indexOf("/");d===-1&&(d=t.length);let u=t.indexOf("?");u===-1&&(u=t.length),i=t.substring(0,Math.min(d,u)),d<u&&(r=_te(t.substring(d,u)));let h=xte(t.substring(Math.min(t.length,u)));c=i.indexOf(":"),c>=0?(s=o==="https"||o==="wss",l=parseInt(i.substring(c+1),10)):c=i.length;let m=i.slice(0,c);if(m.toLowerCase()==="localhost")e="localhost";else if(m.split(".").length<=2)e=m;else{let p=i.indexOf(".");n=i.substring(0,p).toLowerCase(),e=i.substring(p+1),a=n}"ns"in h&&(a=h.ns)}return{host:i,port:l,domain:e,subdomain:n,secure:s,scheme:o,pathString:r,namespace:a}};var yB="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",wte=function(){let t=0,i=[];return function(e){let n=e===t;t=e;let r,a=new Array(8);for(r=7;r>=0;r--)a[r]=yB.charAt(e%64),e=Math.floor(e/64);he(e===0,"Cannot push at time == 0");let s=a.join("");if(n){for(r=11;r>=0&&i[r]===63;r--)i[r]=0;i[r]++}else for(r=0;r<12;r++)i[r]=Math.floor(Math.random()*64);for(r=0;r<12;r++)s+=yB.charAt(i[r]);return he(s.length===20,"nextPushId: Length should be 20."),s}}();var $x=class{constructor(i,e,n,r){this.eventType=i,this.eventRegistration=e,this.snapshot=n,this.prevName=r}getPath(){let i=this.snapshot.ref;return this.eventType==="value"?i._path:i.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+In(this.snapshot.exportVal())}},Yx=class{constructor(i,e,n){this.eventRegistration=i,this.error=e,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var Yy=class{constructor(i,e){this.snapshotCallback=i,this.cancelCallback=e}onValue(i,e){this.snapshotCallback.call(null,i,e)}onCancel(i){return he(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,i)}get hasCancelCallback(){return!!this.cancelCallback}matches(i){return this.snapshotCallback===i.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===i.snapshotCallback.userCallback&&this.snapshotCallback.context===i.snapshotCallback.context}};var KA=class t{constructor(i,e,n,r){this._repo=i,this._path=e,this._queryParams=n,this._orderByCalled=r}get key(){return Ht(this._path)?null:VB(this._path)}get ref(){return new hl(this._repo,this._path)}get _queryIdentifier(){let i=iB(this._queryParams),e=XA(i);return e==="{}"?"default":e}get _queryObject(){return iB(this._queryParams)}isEqual(i){if(i=kn(i),!(i instanceof t))return!1;let e=this._repo===i._repo,n=eE(this._path,i._path),r=this._queryIdentifier===i._queryIdentifier;return e&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+FJ(this._path)}};var hl=class t extends KA{constructor(i,e){super(i,e,new MA,!1)}get parent(){let i=jB(this._path);return i===null?null:new t(this._repo,i)}get root(){let i=this;for(;i.parent!==null;)i=i.parent;return i}},Ky=class t{constructor(i,e,n){this._node=i,this.ref=e,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(i){let e=new Ci(i),n=Yu(this.ref,i);return new t(this._node.getChild(e),n,hn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(i){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(n,r)=>i(new t(r,Yu(this.ref,n),hn)))}hasChild(i){let e=new Ci(i);return!this._node.getChild(e).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function E4(t,i){return t=kn(t),t._checkNotDeleted("ref"),i!==void 0?Yu(t._root,i):t._root}function Yu(t,i){return t=kn(t),Ft(t._path)===null?ate("child","path",i,!1):_4("child","path",i,!1),new hl(t._repo,Gn(t._path,i))}function T4(t,i){t=kn(t),fE("push",t._path),v4("push",i,t._path,!0);let e=w4(t._repo),n=wte(e),r=Yu(t,n),a=Yu(t,n),s;return i!=null?s=nC(a,i).then(()=>a):s=Promise.resolve(a),r.then=s.then.bind(s),r.catch=s.then.bind(s,void 0),r}function R4(t){return fE("remove",t._path),nC(t,null)}function nC(t,i){t=kn(t),fE("set",t._path),v4("set",i,t._path,!1);let e=new no;return mte(t._repo,t._path,i,null,e.wrapCallback(()=>{})),e.promise}function _E(t){t=kn(t);let i=new Yy(()=>{}),e=new qy(i);return hte(t._repo,t,e).then(n=>new Ky(n,new hl(t._repo,t._path),t._queryParams.getIndex()))}var qy=class t{constructor(i){this.callbackContext=i}respondsTo(i){return i==="value"}createEvent(i,e){let n=e._queryParams.getIndex();return new $x("value",this,new Ky(i.snapshotNode,new hl(e._repo,e._path),n))}getEventRunner(i){return i.getEventType()==="cancel"?()=>this.callbackContext.onCancel(i.error):()=>this.callbackContext.onValue(i.snapshot,null)}createCancelEvent(i,e){return this.callbackContext.hasCancelCallback?new Yx(this,i,e):null}matches(i){return i instanceof t?!i.callbackContext||!this.callbackContext?!0:i.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},Kx=class t{constructor(i,e){this.eventType=i,this.callbackContext=e}respondsTo(i){let e=i==="children_added"?"child_added":i;return e=e==="children_removed"?"child_removed":e,this.eventType===e}createCancelEvent(i,e){return this.callbackContext.hasCancelCallback?new Yx(this,i,e):null}createEvent(i,e){he(i.childName!=null,"Child events should have a childName.");let n=Yu(new hl(e._repo,e._path),i.childName),r=e._queryParams.getIndex();return new $x(i.type,this,new Ky(i.snapshotNode,n,r),i.prevName)}getEventRunner(i){return i.getEventType()==="cancel"?()=>this.callbackContext.onCancel(i.error):()=>this.callbackContext.onValue(i.snapshot,i.prevName)}matches(i){return i instanceof t?this.eventType===i.eventType&&(!this.callbackContext||!i.callbackContext||this.callbackContext.matches(i.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function ib(t,i,e,n,r){let a;if(typeof n=="object"&&(a=void 0,r=n),typeof n=="function"&&(a=n),r&&r.onlyOnce){let l=e,c=(d,u)=>{YA(t._repo,t,o),l(d,u)};c.userCallback=e.userCallback,c.context=e.context,e=c}let s=new Yy(e,a||void 0),o=i==="value"?new qy(s):new Kx(i,s);return fte(t._repo,t,o),()=>YA(t._repo,t,o)}function xE(t,i,e,n){return ib(t,"value",i,e,n)}function CE(t,i,e,n){return ib(t,"child_added",i,e,n)}function wE(t,i,e,n){return ib(t,"child_changed",i,e,n)}function DE(t,i,e,n){return ib(t,"child_moved",i,e,n)}function SE(t,i,e,n){return ib(t,"child_removed",i,e,n)}function ME(t,i,e){let n=null,r=e?new Yy(e):null;i==="value"?n=new qy(r):i&&(n=new Kx(i,r)),YA(t._repo,t,n)}Ree(hl);Fee(hl);var Dte="FIREBASE_DATABASE_EMULATOR_HOST",qA={},Ste=!1;function Mte(t,i,e,n){let r=i.lastIndexOf(":"),a=i.substring(0,r),s=ad(a);t.repoInfo_=new Mx(i,s,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,e),n&&(t.authTokenProvider_=n)}function Ite(t,i,e,n,r){let a=n||t.options.databaseURL;a===void 0&&(t.options.projectId||ic("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Lr("Using default host for project ",t.options.projectId),a=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=gB(a,r),o=s.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[Dte]),c?(l=!0,a=`http://${c}?ns=${o.namespace}`,s=gB(a,r),o=s.repoInfo):l=!s.repoInfo.secure;let d=r&&l?new Fy(Fy.OWNER):new cA(t.name,t.options,i);ste("Invalid Firebase Database URL",s),Ht(s.path)||ic("Database URL must point to the root of a Firebase Database (not including a child path).");let u=Ate(o,t,d,new lA(t,e));return new ZA(u,t)}function kte(t,i){let e=qA[i];(!e||e[t.key]!==t)&&ic(`Database ${i}(${t.repoInfo_}) has already been deleted.`),gte(t),delete e[t.key]}function Ate(t,i,e,n){let r=qA[i.name];r||(r={},qA[i.name]=r);let a=r[t.toURLString()];return a&&ic("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new $A(t,Ste,e,n),r[t.toURLString()]=a,a}var ZA=class{constructor(i,e){this._repoInternal=i,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(dte(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new hl(this._repo,ai())),this._rootInternal}_delete(){return this._rootInternal!==null&&(kte(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(i){this._rootInternal===null&&ic("Cannot call "+i+" on a deleted database.")}};function O4(t=Nu(),i){let e=Ym(t,"database").getImmediate({identifier:i});if(!e._instanceStarted){let n=J2("database");n&&L4(e,...n)}return e}function L4(t,i,e,n={}){t=kn(t),t._checkNotDeleted("useEmulator");let r=`${i}:${e}`,a=t._repoInternal;if(t._instanceStarted){if(r===t._repoInternal.repoInfo_.host&&al(n,a.repoInfo_.emulatorOptions))return;ic("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let s;if(a.repoInfo_.nodeAdmin)n.mockUserToken&&ic('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Fy(Fy.OWNER);else if(n.mockUserToken){let o=typeof n.mockUserToken=="string"?n.mockUserToken:eF(n.mockUserToken,t.app.options.projectId);s=new Fy(o)}ad(i)&&(Y0(i),K0("Database",!0)),Mte(a,r,n,s)}function Ete(t){tJ(ld),so(new aa("database",(i,{instanceIdentifier:e})=>{let n=i.getProvider("app").getImmediate(),r=i.getProvider("auth-internal"),a=i.getProvider("app-check-internal");return Ite(n,r,a,e)},"PUBLIC").setMultipleInstances(!0)),un(BV,jV,t),un(BV,jV,"esm2017")}tE.prototype.simpleListen=function(t,i){this.sendRequest("q",{p:t},i)};tE.prototype.echo=function(t,i){this.sendRequest("echo",{d:t},i)};Ete();var qu,or=function(t){return t.added="child_added",t.removed="child_removed",t.changed="child_changed",t.moved="child_moved",t.value="value",t}(or||{}),Tte=Object.freeze((qu={},qu[or.added]=CE,qu[or.removed]=SE,qu[or.changed]=wE,qu[or.moved]=DE,qu[or.value]=xE,qu));function kE(t,i){return new nr(function(e){var n=Tte[i](t,function(r,a){e.next({snapshot:r,prevKey:a,event:i})},e.error.bind(e));return{unsubscribe:function(){ME(t,i,n)}}}).pipe(FL(0))}var rC=function(){return rC=Object.assign||function(i){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(i[a]=e[a])}return i},rC.apply(this,arguments)};function IE(t,i,e){if(e||arguments.length===2)for(var n=0,r=i.length,a;n<r;n++)(a||!(n in i))&&(a||(a=Array.prototype.slice.call(i,0,n)),a[n]=i[n]);return t.concat(a||Array.prototype.slice.call(i))}function Rte(t){return(t==null||t.length===0)&&(t=[or.added,or.removed,or.changed,or.moved]),t}function N4(t,i){return i===void 0&&(i={}),kE(t,or.value).pipe(Re(function(e){return AE(e,i)}))}function AE(t,i){var e;i===void 0&&(i={});var n=t.snapshot.val();return!t.snapshot.exists()||typeof n!="object"?n:rC(rC({},n),i.keyField?(e={},e[i.keyField]=t.snapshot.key,e):null)}function Ote(t){return Vn(_E(t)).pipe(Re(function(i){var e=or.value;return{snapshot:i,prevKey:null,event:e}}))}function P4(t,i){i===void 0&&(i={});var e=Rte(i.events);return Ote(t).pipe(Xi(function(n){var r=[Ie(n)];return e.forEach(function(a){r.push(kE(t,a))}),ri.apply(void 0,r).pipe(f_(Nte,[]))}),hg())}function F4(t,i){return i===void 0&&(i={}),P4(t).pipe(Re(function(e){return e.map(function(n){return AE(n,i)})}))}function V4(t,i){for(var e=t.length,n=0;n<e;n++)if(t[n].snapshot.key===i)return n;return-1}function Lte(t,i){if(i==null)return 0;var e=V4(t,i);return e===-1?t.length:e+1}function Nte(t,i){var e=i.snapshot,n=i.prevKey,r=i.event,a=e.key,s=V4(t,a),o=Lte(t,n||void 0);switch(r){case or.value:if(i.snapshot&&i.snapshot.exists()){var l=null;i.snapshot.forEach(function(u){var h={snapshot:u,event:or.value,prevKey:l};return l=u.key,t=IE(IE([],t,!0),[h],!1),!1})}return t;case or.added:if(s>-1){var c=t[s-1];(c&&c.snapshot.key||null)!==n&&(t=t.filter(function(u){return u.snapshot.key!==e.key}),t.splice(o,0,i))}else{if(n==null)return IE([i],t,!0);t=t.slice(),t.splice(o,0,i)}return t;case or.removed:return t.filter(function(u){return u.snapshot.key!==e.key});case or.changed:return t.map(function(u){return u.snapshot.key===a?i:u});case or.moved:if(s>-1){var d=t.splice(s,1)[0];return t=t.slice(),t.splice(o,0,d),t}return t;default:return t}}var Zu=class{constructor(i){return i}},B4="database",EE=class{constructor(){return qm(B4)}};var TE=new G("angularfire2.database-instances");function Pte(t,i){let e=vy(B4,t,i);return e&&new Zu(e)}function Fte(t){return(i,e)=>{let n=i.runOutsideAngular(()=>t(e));return new Zu(n)}}var Vte={provide:EE,deps:[[new Bn,TE]]},Bte={provide:Zu,useFactory:Pte,deps:[[new Bn,TE],Zl]};function j4(t,...i){return un("angularfire",cd.full,"rtdb"),ms([Bte,Vte,{provide:TE,useFactory:Fte(t),multi:!0,deps:[we,Qe,dd,Fu,[new Bn,Ey],[new Bn,Zm],...i]}])}var z4=Hn(F4,!0);var U4=Hn(N4,!0);var H4=Hn(O4,!0);var G4=Hn(T4,!0,2);var fp=Hn(E4,!0,2);var W4=Hn(R4,!0,2);var RE=Hn(nC,!0,2);var _d=(()=>{class t{constructor(e){this.db=e}setData(e,n){return RE(fp(this.db,e),n)}getData(e){return U4(fp(this.db,e))}getList(e){return z4(fp(this.db,e))}pushData(e,n){return RE(G4(fp(this.db,e)),n).then(()=>{console.log("Player added successfully.")}).catch(r=>{console.error("Error during push operation:",r)})}deleteData(e){return W4(fp(this.db,e))}static{this.\u0275fac=function(n){return new(n||t)(Te(Zu))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var xd=(()=>{class t{constructor(e){this.storageService=e,this.months=["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"]}getQuotasForMonth(e){return this.storageService.getData(`quotas/${e}`)}isUserInPayments(e,n){for(var r in n)if(r===e)return n[r].data;return null}getUnpaidQuotasForUser(e){return this.storageService.getData("quotas").pipe(Re(n=>{var r=[];for(var a in n){var s=n[a].pagamentos;this.isUserInPayments(e,s)||r.push({month:a,valor:n[a].valor})}return r.sort((o,l)=>{var c=this.convertThreeCharacterMonthIntoIndex(o.month.substring(0,3)),d=o.month.substring(3),u=this.convertThreeCharacterMonthIntoIndex(l.month.substring(0,3)),h=l.month.substring(3);return d<h?-1:d>h?1:c<u?-1:u>c?1:0}),r}))}getPaidQuotasForUser(e){return this.storageService.getData("quotas").pipe(Re(n=>{var r=[];for(var a in n){var s=n[a].pagamentos,o=this.isUserInPayments(e,s);o&&r.push({month:a,valor:n[a].valor,paymentDate:new Date(o)})}return r.sort((l,c)=>{var d=this.convertThreeCharacterMonthIntoIndex(l.month.substring(0,3)),u=l.month.substring(3),h=this.convertThreeCharacterMonthIntoIndex(c.month.substring(0,3)),m=c.month.substring(3);return u<m?-1:u>m?1:d<h?-1:h>d?1:0}),r}))}setQuotaPayment(e,n,r){return this.storageService.setData(`quotas/${e}/pagamentos/${n}`,{data:r})}deleteQuotaPayment(e,n){return this.storageService.deleteData(`quotas/${e}/pagamentos/${n}`)}convertThreeCharacterMonthIntoIndex(e){return this.months.indexOf(e)}calculateFineForDate(e,n){var r=this.convertThreeCharacterMonthIntoIndex(n.substring(0,3)),a=parseInt(n.substring(3));return e.getFullYear()<a||e.getFullYear()==a&&e.getMonth()<=r?0:e.getFullYear()==a&&e.getMonth()==r+1&&e.getDate()<=10?e.getDate():e.getFullYear()==a&&e.getMonth()==r+1?10:20}static{this.\u0275fac=function(n){return new(n||t)(Te(_d))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var vs=(()=>{class t{constructor(e){this.storageService=e,this.usersType=[{tipo:"Comiss\xE3o"},{tipo:"Comunica\xE7\xE3o e Imagem"},{tipo:"Conv\xEDvios"},{tipo:"Brindes"},{tipo:"Jantares de Curso"}]}getAllUsers(){return this.storageService.getData("users").pipe(Re(e=>{var n=[];for(var r in e){var a=e[r];a.id=r,a.ready&&n.push(a)}return n}))}getAllInactiveUsers(){return this.storageService.getData("users").pipe(Re(e=>{var n=[];for(var r in e){var a=e[r];a.id=r,a.ready||n.push(a)}return n}))}getUserInfo(e){return this.storageService.getData(`users/${e}`)}getUserTypeByNumber(e){return this.usersType[e]}getAllUserTypes(){for(var e=[],n=0;n<this.usersType.length;n++)e.push({id:n,type:this.usersType[n].tipo});return e}getNumberByUserType(e){for(var n=0;n<this.usersType.length;n++)if(this.usersType[n].tipo===e)return n;return-1}registerUser(e,n){return this.storageService.setData(`users/${e}`,{name:n,ready:!1})}finishRegistration(e,n){return this.storageService.setData(`users/${e}`,n)}static{this.\u0275fac=function(n){return new(n||t)(Te(_d))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var _s=(()=>{class t{constructor(e,n){this.auth=e,this.userService=n,this.user$=new Qi(null),this.ready=!1,LV(this.auth,r=>{r?this.userService.getUserInfo(r.uid).subscribe(a=>{this.userData=a,this.user$.next(r)}):(this.userData=null,this.user$.next(r))}),e.authStateReady().then(()=>{this.ready=!0})}getUserData(){return new Promise(e=>{let n=()=>{this.userData||this.ready?e(this.userData):setTimeout(n,50)};n()})}registerUser(e,n){return hs(()=>RV(this.auth,e,n))}login(e,n){return hs(()=>NV(this.auth,e,n))}logOut(){return this.userData=null,FV(this.auth)}logInGoogle(){var e=new Fk;return PV(this.auth,e)}updateUserProfile(e){return VV(this.auth.currentUser,{displayName:e})}static{this.\u0275fac=function(n){return new(n||t)(Te(ju),Te(vs))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var OE=class{_box;_destroyed=new se;_resizeSubject=new se;_resizeObserver;_elementObservables=new Map;constructor(i){this._box=i,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(i){return this._elementObservables.has(i)||this._elementObservables.set(i,new nr(e=>{let n=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(i,{box:this._box}),()=>{this._resizeObserver?.unobserve(i),n.unsubscribe(),this._elementObservables.delete(i)}}).pipe(It(e=>e.some(n=>n.target===i)),FS({bufferSize:1,refCount:!0}),di(this._destroyed))),this._elementObservables.get(i)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},oC=(()=>{class t{_cleanupErrorListener;_observers=new Map;_ngZone=x(we);constructor(){typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,e]of this._observers)e.destroy();this._observers.clear(),this._cleanupErrorListener?.()}observe(e,n){let r=n?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new OE(r)),this._observers.get(r).observe(e)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function LE(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var bp,$4=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function NE(){if(bp)return bp;if(typeof document!="object"||!document)return bp=new Set($4),bp;let t=document.createElement("input");return bp=new Set($4.filter(i=>(t.setAttribute("type",i),t.type===i))),bp}var vp=class{_attachedHost;attach(i){return this._attachedHost=i,i.attach(this)}detach(){let i=this._attachedHost;i!=null&&(this._attachedHost=null,i.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(i){this._attachedHost=i}},ml=class extends vp{component;viewContainerRef;injector;componentFactoryResolver;projectableNodes;constructor(i,e,n,r,a){super(),this.component=i,this.viewContainerRef=e,this.injector=n,this.projectableNodes=a}},Wn=class extends vp{templateRef;viewContainerRef;context;injector;constructor(i,e,n,r){super(),this.templateRef=i,this.viewContainerRef=e,this.context=n,this.injector=r}get origin(){return this.templateRef.elementRef}attach(i,e=this.context){return this.context=e,super.attach(i)}detach(){return this.context=void 0,super.detach()}},lC=class extends vp{element;constructor(i){super(),this.element=i instanceof ge?i.nativeElement:i}},Qu=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(i){if(i instanceof ml)return this._attachedPortal=i,this.attachComponentPortal(i);if(i instanceof Wn)return this._attachedPortal=i,this.attachTemplatePortal(i);if(this.attachDomPortal&&i instanceof lC)return this._attachedPortal=i,this.attachDomPortal(i)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(i){this._disposeFn=i}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var Xu=class extends Qu{outletElement;_appRef;_defaultInjector;_document;constructor(i,e,n,r,a){super(),this.outletElement=i,this._appRef=n,this._defaultInjector=r,this._document=a}attachComponentPortal(i){let e;if(i.viewContainerRef){let n=i.injector||i.viewContainerRef.injector,r=n.get(__,null,{optional:!0})||void 0;e=i.viewContainerRef.createComponent(i.component,{index:i.viewContainerRef.length,injector:n,ngModuleRef:r,projectableNodes:i.projectableNodes||void 0}),this.setDisposeFn(()=>e.destroy())}else{let n=this._appRef,r=i.injector||this._defaultInjector||Qe.NULL,a=r.get(Xr,n.injector);e=I_(i.component,{elementInjector:r,environmentInjector:a,projectableNodes:i.projectableNodes||void 0}),n.attachView(e.hostView),this.setDisposeFn(()=>{n.viewCount>0&&n.detachView(e.hostView),e.destroy()})}return this.outletElement.appendChild(this._getComponentRootNode(e)),this._attachedPortal=i,e}attachTemplatePortal(i){let e=i.viewContainerRef,n=e.createEmbeddedView(i.templateRef,i.context,{injector:i.injector});return n.rootNodes.forEach(r=>this.outletElement.appendChild(r)),n.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(n);r!==-1&&e.remove(r)}),this._attachedPortal=i,n}attachDomPortal=i=>{let e=i.element;e.parentNode;let n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),this._attachedPortal=i,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(i){return i.hostView.rootNodes[0]}};var PE=(()=>{class t extends Wn{constructor(){let e=x(bi),n=x(vi);super(e,n)}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[Ve]})}return t})();var Aa=(()=>{class t extends Qu{_moduleRef=x(__,{optional:!0});_document=x(Ue);_viewContainerRef=x(vi);_isInitialized=!1;_attachedRef;constructor(){super()}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}attached=new ie;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);let n=e.viewContainerRef!=null?e.viewContainerRef:this._viewContainerRef,r=n.createComponent(e.component,{index:n.length,injector:e.injector||n.injector,projectableNodes:e.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return n!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),super.setDisposeFn(()=>r.destroy()),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(e){e.setAttachedHost(this);let n=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=n,this.attached.emit(n),n}attachDomPortal=e=>{let n=e.element;n.parentNode;let r=this._document.createComment("dom-portal");e.setAttachedHost(this),n.parentNode.insertBefore(r,n),this._getRootNode().appendChild(n),this._attachedPortal=e,super.setDisposeFn(()=>{r.parentNode&&r.parentNode.replaceChild(n,r)})};_getRootNode(){let e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Ve]})}return t})();var xs=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Se({type:t});static \u0275inj=De({})}return t})();var Nr=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Q({type:t,selectors:[["structural-styles"]],decls:0,vars:0,template:function(n,r){},styles:[`.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}
`],encapsulation:2,changeDetection:0})}return t})();var Cs=function(t){return t[t.FADING_IN=0]="FADING_IN",t[t.VISIBLE=1]="VISIBLE",t[t.FADING_OUT=2]="FADING_OUT",t[t.HIDDEN=3]="HIDDEN",t}(Cs||{}),FE=class{_renderer;element;config;_animationForciblyDisabledThroughCss;state=Cs.HIDDEN;constructor(i,e,n,r=!1){this._renderer=i,this.element=e,this.config=n,this._animationForciblyDisabledThroughCss=r}fadeOut(){this._renderer.fadeOutRipple(this)}},Y4=Am({passive:!0,capture:!0}),VE=class{_events=new Map;addHandler(i,e,n,r){let a=this._events.get(e);if(a){let s=a.get(n);s?s.add(r):a.set(n,new Set([r]))}else this._events.set(e,new Map([[n,new Set([r])]])),i.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,Y4)})}removeHandler(i,e,n){let r=this._events.get(i);if(!r)return;let a=r.get(e);a&&(a.delete(n),a.size===0&&r.delete(e),r.size===0&&(this._events.delete(i),document.removeEventListener(i,this._delegateEventHandler,Y4)))}_delegateEventHandler=i=>{let e=gr(i);e&&this._events.get(i.type)?.forEach((n,r)=>{(r===e||r.contains(e))&&n.forEach(a=>a.handleEvent(i))})}},nb={enterDuration:225,exitDuration:150},zte=800,K4=Am({passive:!0,capture:!0}),q4=["mousedown","touchstart"],Z4=["mouseup","mouseleave","touchend","touchcancel"],Ute=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Q({type:t,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(n,r){},styles:[`.mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}
`],encapsulation:2,changeDetection:0})}return t})(),Ju=class t{_target;_ngZone;_platform;_containerElement;_triggerElement;_isPointerDown=!1;_activeRipples=new Map;_mostRecentTransientRipple;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect;static _eventManager=new VE;constructor(i,e,n,r,a){this._target=i,this._ngZone=e,this._platform=r,r.isBrowser&&(this._containerElement=ra(n)),a&&a.get(_i).load(Ute)}fadeInRipple(i,e,n={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a=f(f({},nb),n.animation);n.centered&&(i=r.left+r.width/2,e=r.top+r.height/2);let s=n.radius||Hte(i,e,r),o=i-r.left,l=e-r.top,c=a.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=`${o-s}px`,d.style.top=`${l-s}px`,d.style.height=`${s*2}px`,d.style.width=`${s*2}px`,n.color!=null&&(d.style.backgroundColor=n.color),d.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(d);let u=window.getComputedStyle(d),h=u.transitionProperty,m=u.transitionDuration,p=h==="none"||m==="0s"||m==="0s, 0s"||r.width===0&&r.height===0,g=new FE(this,d,n,p);d.style.transform="scale3d(1, 1, 1)",g.state=Cs.FADING_IN,n.persistent||(this._mostRecentTransientRipple=g);let b=null;return!p&&(c||a.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let v=()=>{b&&(b.fallbackTimer=null),clearTimeout(w),this._finishRippleTransition(g)},_=()=>this._destroyRipple(g),w=setTimeout(_,c+100);d.addEventListener("transitionend",v),d.addEventListener("transitioncancel",_),b={onTransitionEnd:v,onTransitionCancel:_,fallbackTimer:w}}),this._activeRipples.set(g,b),(p||!c)&&this._finishRippleTransition(g),g}fadeOutRipple(i){if(i.state===Cs.FADING_OUT||i.state===Cs.HIDDEN)return;let e=i.element,n=f(f({},nb),i.config.animation);e.style.transitionDuration=`${n.exitDuration}ms`,e.style.opacity="0",i.state=Cs.FADING_OUT,(i._animationForciblyDisabledThroughCss||!n.exitDuration)&&this._finishRippleTransition(i)}fadeOutAll(){this._getActiveRipples().forEach(i=>i.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(i=>{i.config.persistent||i.fadeOut()})}setupTriggerEvents(i){let e=ra(i);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,q4.forEach(n=>{t._eventManager.addHandler(this._ngZone,n,e,this)}))}handleEvent(i){i.type==="mousedown"?this._onMousedown(i):i.type==="touchstart"?this._onTouchStart(i):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Z4.forEach(e=>{this._triggerElement.addEventListener(e,this,K4)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(i){i.state===Cs.FADING_IN?this._startFadeOutTransition(i):i.state===Cs.FADING_OUT&&this._destroyRipple(i)}_startFadeOutTransition(i){let e=i===this._mostRecentTransientRipple,{persistent:n}=i.config;i.state=Cs.VISIBLE,!n&&(!e||!this._isPointerDown)&&i.fadeOut()}_destroyRipple(i){let e=this._activeRipples.get(i)??null;this._activeRipples.delete(i),this._activeRipples.size||(this._containerRect=null),i===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),i.state=Cs.HIDDEN,e!==null&&(i.element.removeEventListener("transitionend",e.onTransitionEnd),i.element.removeEventListener("transitioncancel",e.onTransitionCancel),e.fallbackTimer!==null&&clearTimeout(e.fallbackTimer)),i.element.remove()}_onMousedown(i){let e=Au(i),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+zte;!this._target.rippleDisabled&&!e&&!n&&(this._isPointerDown=!0,this.fadeInRipple(i.clientX,i.clientY,this._target.rippleConfig))}_onTouchStart(i){if(!this._target.rippleDisabled&&!Eu(i)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let e=i.changedTouches;if(e)for(let n=0;n<e.length;n++)this.fadeInRipple(e[n].clientX,e[n].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(i=>{let e=i.state===Cs.VISIBLE||i.config.terminateOnPointerUp&&i.state===Cs.FADING_IN;!i.config.persistent&&e&&i.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let i=this._triggerElement;i&&(q4.forEach(e=>t._eventManager.removeHandler(e,i,this)),this._pointerUpEventsRegistered&&(Z4.forEach(e=>i.removeEventListener(e,this,K4)),this._pointerUpEventsRegistered=!1))}};function Hte(t,i,e){let n=Math.max(Math.abs(t-e.left),Math.abs(t-e.right)),r=Math.max(Math.abs(i-e.top),Math.abs(i-e.bottom));return Math.sqrt(n*n+r*r)}var _p=new G("mat-ripple-global-options"),nc=(()=>{class t{_elementRef=x(ge);_animationMode=x(Kt,{optional:!0});color;unbounded;centered;radius=0;animation;get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}_disabled=!1;get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}_trigger;_rippleRenderer;_globalOptions;_isInitialized=!1;constructor(){let e=x(we),n=x(Pt),r=x(_p,{optional:!0}),a=x(Qe);this._globalOptions=r||{},this._rippleRenderer=new Ju(this,e,this._elementRef,n,a)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:f(f(f({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,n=0,r){return typeof e=="number"?this._rippleRenderer.fadeInRipple(e,n,f(f({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,f(f({},this.rippleConfig),e))}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(n,r){n&2&&me("mat-ripple-unbounded",r.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return t})();var HE=["*"];function Gte(t,i){t&1&&ke(0)}var Wte=["tabListContainer"],$te=["tabList"],Yte=["tabListInner"],Kte=["nextPaginator"],qte=["previousPaginator"],Zte=["content"];function Qte(t,i){}var Xte=["tabBodyWrapper"],Jte=["tabHeader"];function eie(t,i){}function tie(t,i){if(t&1&&ne(0,eie,0,0,"ng-template",12),t&2){let e=ye().$implicit;W("cdkPortalOutlet",e.templateLabel)}}function iie(t,i){if(t&1&&V(0),t&2){let e=ye().$implicit;$e(e.textLabel)}}function nie(t,i){if(t&1){let e=zt();M(0,"div",7,2),X("click",function(){let r=xe(e),a=r.$implicit,s=r.$index,o=ye(),l=ar(1);return Ce(o._handleClick(a,l,s))})("cdkFocusChange",function(r){let a=xe(e).$index,s=ye();return Ce(s._tabFocusChanged(r,a))}),ae(2,"span",8)(3,"div",9),M(4,"span",10)(5,"span",11),ne(6,tie,1,1,null,12)(7,iie,1,1),k()()()}if(t&2){let e=i.$implicit,n=i.$index,r=ar(1),a=ye();jn(e.labelClass),me("mdc-tab--active",a.selectedIndex===n),W("id",a._getTabLabelId(e,n))("disabled",e.disabled)("fitInkBarToContent",a.fitInkBarToContent),Ee("tabIndex",a._getTabIndex(n))("aria-posinset",n+1)("aria-setsize",a._tabs.length)("aria-controls",a._getTabContentId(n))("aria-selected",a.selectedIndex===n)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null),T(3),W("matRippleTrigger",r)("matRippleDisabled",e.disabled||a.disableRipple),T(3),kt(e.templateLabel?6:7)}}function rie(t,i){t&1&&ke(0)}function aie(t,i){if(t&1){let e=zt();M(0,"mat-tab-body",13),X("_onCentered",function(){xe(e);let r=ye();return Ce(r._removeTabBodyWrapperHeight())})("_onCentering",function(r){xe(e);let a=ye();return Ce(a._setTabBodyWrapperHeight(r))})("_beforeCentering",function(r){xe(e);let a=ye();return Ce(a._bodyCentered(r))}),k()}if(t&2){let e=i.$implicit,n=i.$index,r=ye();jn(e.bodyClass),W("id",r._getTabContentId(n))("content",e.content)("position",e.position)("animationDuration",r.animationDuration)("preserveContent",r.preserveContent),Ee("tabindex",r.contentTabIndex!=null&&r.selectedIndex===n?r.contentTabIndex:null)("aria-labelledby",r._getTabLabelId(e,n))("aria-hidden",r.selectedIndex!==n)}}var sie=new G("MatTabContent"),oie=(()=>{class t{template=x(bi);constructor(){}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["","matTabContent",""]],features:[Ye([{provide:sie,useExisting:t}])]})}return t})(),lie=new G("MatTabLabel"),ej=new G("MAT_TAB"),cie=(()=>{class t extends PE{_closestTab=x(ej,{optional:!0});static \u0275fac=(()=>{let e;return function(r){return(e||(e=Dt(t)))(r||t)}})();static \u0275dir=Y({type:t,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[Ye([{provide:lie,useExisting:t}]),Ve]})}return t})(),tj=new G("MAT_TAB_GROUP"),eh=(()=>{class t{_viewContainerRef=x(vi);_closestTabGroup=x(tj,{optional:!0});disabled=!1;get templateLabel(){return this._templateLabel}set templateLabel(e){this._setTemplateLabelInput(e)}_templateLabel;_explicitContent=void 0;_implicitContent;textLabel="";ariaLabel;ariaLabelledby;labelClass;bodyClass;id=null;_contentPortal=null;get content(){return this._contentPortal}_stateChanges=new se;position=null;origin=null;isActive=!1;constructor(){x(_i).load(Nr)}ngOnChanges(e){(e.hasOwnProperty("textLabel")||e.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new Wn(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(e){e&&e._closestTab===this&&(this._templateLabel=e)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Q({type:t,selectors:[["mat-tab"]],contentQueries:function(n,r,a){if(n&1&&(Et(a,cie,5),Et(a,oie,7,bi)),n&2){let s;be(s=ve())&&(r.templateLabel=s.first),be(s=ve())&&(r._explicitContent=s.first)}},viewQuery:function(n,r){if(n&1&&Xe(bi,7),n&2){let a;be(a=ve())&&(r._implicitContent=a.first)}},hostAttrs:["hidden",""],hostVars:1,hostBindings:function(n,r){n&2&&Ee("id",null)},inputs:{disabled:[2,"disabled","disabled",re],textLabel:[0,"label","textLabel"],ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass",id:"id"},exportAs:["matTab"],features:[Ye([{provide:ej,useExisting:t}]),_t],ngContentSelectors:HE,decls:1,vars:0,template:function(n,r){n&1&&(mt(),ne(0,Gte,1,0,"ng-template"))},encapsulation:2})}return t})(),BE="mdc-tab-indicator--active",Q4="mdc-tab-indicator--no-transition",jE=class{_items;_currentItem;constructor(i){this._items=i}hide(){this._items.forEach(i=>i.deactivateInkBar()),this._currentItem=void 0}alignToElement(i){let e=this._items.find(r=>r.elementRef.nativeElement===i),n=this._currentItem;if(e!==n&&(n?.deactivateInkBar(),e)){let r=n?.elementRef.nativeElement.getBoundingClientRect?.();e.activateInkBar(r),this._currentItem=e}}},die=(()=>{class t{_elementRef=x(ge);_inkBarElement;_inkBarContentElement;_fitToContent=!1;get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(e){this._fitToContent!==e&&(this._fitToContent=e,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(e){let n=this._elementRef.nativeElement;if(!e||!n.getBoundingClientRect||!this._inkBarContentElement){n.classList.add(BE);return}let r=n.getBoundingClientRect(),a=e.width/r.width,s=e.left-r.left;n.classList.add(Q4),this._inkBarContentElement.style.setProperty("transform",`translateX(${s}px) scaleX(${a})`),n.getBoundingClientRect(),n.classList.remove(Q4),n.classList.add(BE),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this._elementRef.nativeElement.classList.remove(BE)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){let e=this._elementRef.nativeElement.ownerDocument||document,n=this._inkBarElement=e.createElement("span"),r=this._inkBarContentElement=e.createElement("span");n.className="mdc-tab-indicator",r.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",n.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){this._inkBarElement;let e=this._fitToContent?this._elementRef.nativeElement.querySelector(".mdc-tab__content"):this._elementRef.nativeElement;e.appendChild(this._inkBarElement)}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,inputs:{fitInkBarToContent:[2,"fitInkBarToContent","fitInkBarToContent",re]}})}return t})();var ij=(()=>{class t extends die{elementRef=x(ge);disabled=!1;focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Dt(t)))(r||t)}})();static \u0275dir=Y({type:t,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(n,r){n&2&&(Ee("aria-disabled",!!r.disabled),me("mat-mdc-tab-disabled",r.disabled))},inputs:{disabled:[2,"disabled","disabled",re]},features:[Ve]})}return t})(),X4={passive:!0},uie=650,hie=100,mie=(()=>{class t{_elementRef=x(ge);_changeDetectorRef=x(st);_viewportRuler=x(Yl);_dir=x(Ei,{optional:!0});_ngZone=x(we);_platform=x(Pt);_sharedResizeObserver=x(oC);_injector=x(Qe);_renderer=x(Qt);_animationMode=x(Kt,{optional:!0});_eventCleanups;_scrollDistance=0;_selectedIndexChanged=!1;_destroyed=new se;_showPaginationControls=!1;_disableScrollAfter=!0;_disableScrollBefore=!0;_tabLabelCount;_scrollDistanceChanged;_keyManager;_currentTextContent;_stopScrolling=new se;disablePagination=!1;get selectedIndex(){return this._selectedIndex}set selectedIndex(e){let n=isNaN(e)?0:e;this._selectedIndex!=n&&(this._selectedIndexChanged=!0,this._selectedIndex=n,this._keyManager&&this._keyManager.updateActiveItem(n))}_selectedIndex=0;selectFocusedIndex=new ie;indexFocused=new ie;constructor(){this._eventCleanups=this._ngZone.runOutsideAngular(()=>[this._renderer.listen(this._elementRef.nativeElement,"mouseleave",()=>this._stopInterval())])}ngAfterViewInit(){this._eventCleanups.push(Ti(this._renderer,this._previousPaginator.nativeElement,"touchstart",()=>this._handlePaginatorPress("before"),X4),Ti(this._renderer,this._nextPaginator.nativeElement,"touchstart",()=>this._handlePaginatorPress("after"),X4))}ngAfterContentInit(){let e=this._dir?this._dir.change:Ie("ltr"),n=this._sharedResizeObserver.observe(this._elementRef.nativeElement).pipe(Wc(32),di(this._destroyed)),r=this._viewportRuler.change(150).pipe(di(this._destroyed)),a=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new Kl(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(Math.max(this._selectedIndex,0)),dn(a,{injector:this._injector}),ri(e,r,n,this._items.changes,this._itemsResized()).pipe(di(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),a()})}),this._keyManager?.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(s=>{this.indexFocused.emit(s),this._setTabFocus(s)})}_itemsResized(){return typeof ResizeObserver!="function"?Qr:this._items.changes.pipe(yi(this._items),Xi(e=>new nr(n=>this._ngZone.runOutsideAngular(()=>{let r=new ResizeObserver(a=>n.next(a));return e.forEach(a=>r.observe(a.elementRef.nativeElement)),()=>{r.disconnect()}}))),om(1),It(e=>e.some(n=>n.contentRect.width>0&&n.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._eventCleanups.forEach(e=>e()),this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(e){if(!mi(e))switch(e.keyCode){case 13:case 32:if(this.focusIndex!==this.selectedIndex){let n=this._items.get(this.focusIndex);n&&!n.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(e))}break;default:this._keyManager?.onKeydown(e)}}_onContentChanges(){let e=this._elementRef.nativeElement.textContent;e!==this._currentTextContent&&(this._currentTextContent=e||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(e){!this._isValidIndex(e)||this.focusIndex===e||!this._keyManager||this._keyManager.setActiveItem(e)}_isValidIndex(e){return this._items?!!this._items.toArray()[e]:!0}_setTabFocus(e){if(this._showPaginationControls&&this._scrollToLabel(e),this._items&&this._items.length){this._items.toArray()[e].focus();let n=this._tabListContainer.nativeElement;this._getLayoutDirection()=="ltr"?n.scrollLeft=0:n.scrollLeft=n.scrollWidth-n.offsetWidth}}_getLayoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;let e=this.scrollDistance,n=this._getLayoutDirection()==="ltr"?-e:e;this._tabList.nativeElement.style.transform=`translateX(${Math.round(n)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(e){this._scrollTo(e)}_scrollHeader(e){let n=this._tabListContainer.nativeElement.offsetWidth,r=(e=="before"?-1:1)*n/3;return this._scrollTo(this._scrollDistance+r)}_handlePaginatorClick(e){this._stopInterval(),this._scrollHeader(e)}_scrollToLabel(e){if(this.disablePagination)return;let n=this._items?this._items.toArray()[e]:null;if(!n)return;let r=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:a,offsetWidth:s}=n.elementRef.nativeElement,o,l;this._getLayoutDirection()=="ltr"?(o=a,l=o+s):(l=this._tabListInner.nativeElement.offsetWidth-a,o=l-s);let c=this.scrollDistance,d=this.scrollDistance+r;o<c?this.scrollDistance-=c-o:l>d&&(this.scrollDistance+=Math.min(l-d,o-c))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{let e=this._tabListInner.nativeElement.scrollWidth,n=this._elementRef.nativeElement.offsetWidth,r=e-n>=5;r||(this.scrollDistance=0),r!==this._showPaginationControls&&(this._showPaginationControls=r,this._changeDetectorRef.markForCheck())}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=this.scrollDistance==0,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){let e=this._tabListInner.nativeElement.scrollWidth,n=this._tabListContainer.nativeElement.offsetWidth;return e-n||0}_alignInkBarToSelectedTab(){let e=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,n=e?e.elementRef.nativeElement:null;n?this._inkBar.alignToElement(n):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(e,n){n&&n.button!=null&&n.button!==0||(this._stopInterval(),PL(uie,hie).pipe(di(ri(this._stopScrolling,this._destroyed))).subscribe(()=>{let{maxScrollDistance:r,distance:a}=this._scrollHeader(e);(a===0||a>=r)&&this._stopInterval()}))}_scrollTo(e){if(this.disablePagination)return{maxScrollDistance:0,distance:0};let n=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(n,e)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:n,distance:this._scrollDistance}}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,inputs:{disablePagination:[2,"disablePagination","disablePagination",re],selectedIndex:[2,"selectedIndex","selectedIndex",Ga]},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"}})}return t})(),pie=(()=>{class t extends mie{_items;_tabListContainer;_tabList;_tabListInner;_nextPaginator;_previousPaginator;_inkBar;ariaLabel;ariaLabelledby;disableRipple=!1;ngAfterContentInit(){this._inkBar=new jE(this._items),super.ngAfterContentInit()}_itemSelected(e){e.preventDefault()}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Dt(t)))(r||t)}})();static \u0275cmp=Q({type:t,selectors:[["mat-tab-header"]],contentQueries:function(n,r,a){if(n&1&&Et(a,ij,4),n&2){let s;be(s=ve())&&(r._items=s)}},viewQuery:function(n,r){if(n&1&&(Xe(Wte,7),Xe($te,7),Xe(Yte,7),Xe(Kte,5),Xe(qte,5)),n&2){let a;be(a=ve())&&(r._tabListContainer=a.first),be(a=ve())&&(r._tabList=a.first),be(a=ve())&&(r._tabListInner=a.first),be(a=ve())&&(r._nextPaginator=a.first),be(a=ve())&&(r._previousPaginator=a.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(n,r){n&2&&me("mat-mdc-tab-header-pagination-controls-enabled",r._showPaginationControls)("mat-mdc-tab-header-rtl",r._getLayoutDirection()=="rtl")},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],disableRipple:[2,"disableRipple","disableRipple",re]},features:[Ve],ngContentSelectors:HE,decls:13,vars:10,consts:[["previousPaginator",""],["tabListContainer",""],["tabList",""],["tabListInner",""],["nextPaginator",""],["mat-ripple","",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"click","mousedown","touchend","matRippleDisabled"],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],[1,"mat-mdc-tab-labels"],["mat-ripple","",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"mousedown","click","touchend","matRippleDisabled"]],template:function(n,r){if(n&1){let a=zt();mt(),M(0,"div",5,0),X("click",function(){return xe(a),Ce(r._handlePaginatorClick("before"))})("mousedown",function(o){return xe(a),Ce(r._handlePaginatorPress("before",o))})("touchend",function(){return xe(a),Ce(r._stopInterval())}),ae(2,"div",6),k(),M(3,"div",7,1),X("keydown",function(o){return xe(a),Ce(r._handleKeydown(o))}),M(5,"div",8,2),X("cdkObserveContent",function(){return xe(a),Ce(r._onContentChanges())}),M(7,"div",9,3),ke(9),k()()(),M(10,"div",10,4),X("mousedown",function(o){return xe(a),Ce(r._handlePaginatorPress("after",o))})("click",function(){return xe(a),Ce(r._handlePaginatorClick("after"))})("touchend",function(){return xe(a),Ce(r._stopInterval())}),ae(12,"div",6),k()}n&2&&(me("mat-mdc-tab-header-pagination-disabled",r._disableScrollBefore),W("matRippleDisabled",r._disableScrollBefore||r.disableRipple),T(3),me("_mat-animation-noopable",r._animationMode==="NoopAnimations"),T(2),Ee("aria-label",r.ariaLabel||null)("aria-labelledby",r.ariaLabelledby||null),T(5),me("mat-mdc-tab-header-pagination-disabled",r._disableScrollAfter),W("matRippleDisabled",r._disableScrollAfter||r.disableRipple))},dependencies:[nc,j0],styles:[`.mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;outline:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-header-pagination-icon-color, var(--mat-sys-on-surface))}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1;border-bottom-style:solid;border-bottom-width:var(--mat-tab-header-divider-height, 1px);border-bottom-color:var(--mat-tab-header-divider-color, var(--mat-sys-surface-variant))}.mat-mdc-tab-group-inverted-header .mat-mdc-tab-label-container{border-bottom:none;border-top-style:solid;border-top-width:var(--mat-tab-header-divider-height, 1px);border-top-color:var(--mat-tab-header-divider-color, var(--mat-sys-surface-variant))}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.cdk-drop-list .mat-mdc-tab-labels,.mat-mdc-tab-labels.cdk-drop-list{min-height:var(--mdc-secondary-navigation-tab-container-height, 48px)}.mat-mdc-tab::before{margin:5px}@media(forced-colors: active){.mat-mdc-tab[aria-disabled=true]{color:GrayText}}
`],encapsulation:2})}return t})(),fie=new G("MAT_TABS_CONFIG"),J4=(()=>{class t extends Aa{_host=x(zE);_centeringSub=xt.EMPTY;_leavingSub=xt.EMPTY;constructor(){super()}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(yi(this._host._isCenterPosition())).subscribe(e=>{this._host._content&&e&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["","matTabBodyHost",""]],features:[Ve]})}return t})(),zE=(()=>{class t{_elementRef=x(ge);_dir=x(Ei,{optional:!0});_ngZone=x(we);_injector=x(Qe);_renderer=x(Qt);_animationsModule=x(Kt,{optional:!0});_eventCleanups;_initialized;_fallbackTimer;_positionIndex;_dirChangeSubscription=xt.EMPTY;_position;_previousPosition;_onCentering=new ie;_beforeCentering=new ie;_afterLeavingCenter=new ie;_onCentered=new ie(!0);_portalHost;_contentElement;_content;animationDuration="500ms";preserveContent=!1;set position(e){this._positionIndex=e,this._computePositionAnimationState()}constructor(){if(this._dir){let e=x(st);this._dirChangeSubscription=this._dir.change.subscribe(n=>{this._computePositionAnimationState(n),e.markForCheck()})}}ngOnInit(){this._bindTransitionEvents(),this._position==="center"&&(this._setActiveClass(!0),dn(()=>this._onCentering.emit(this._elementRef.nativeElement.clientHeight),{injector:this._injector})),this._initialized=!0}ngOnDestroy(){clearTimeout(this._fallbackTimer),this._eventCleanups?.forEach(e=>e()),this._dirChangeSubscription.unsubscribe()}_bindTransitionEvents(){this._ngZone.runOutsideAngular(()=>{let e=this._elementRef.nativeElement,n=r=>{r.target===this._contentElement?.nativeElement&&(this._elementRef.nativeElement.classList.remove("mat-tab-body-animating"),r.type==="transitionend"&&this._transitionDone())};this._eventCleanups=[this._renderer.listen(e,"transitionstart",r=>{r.target===this._contentElement?.nativeElement&&(this._elementRef.nativeElement.classList.add("mat-tab-body-animating"),this._transitionStarted())}),this._renderer.listen(e,"transitionend",n),this._renderer.listen(e,"transitioncancel",n)]})}_transitionStarted(){clearTimeout(this._fallbackTimer);let e=this._position==="center";this._beforeCentering.emit(e),e&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_transitionDone(){this._position==="center"?this._onCentered.emit():this._previousPosition==="center"&&this._afterLeavingCenter.emit()}_setActiveClass(e){this._elementRef.nativeElement.classList.toggle("mat-mdc-tab-body-active",e)}_getLayoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_isCenterPosition(){return this._positionIndex===0}_computePositionAnimationState(e=this._getLayoutDirection()){this._previousPosition=this._position,this._positionIndex<0?this._position=e=="ltr"?"left":"right":this._positionIndex>0?this._position=e=="ltr"?"right":"left":this._position="center",this._animationsDisabled()?this._simulateTransitionEvents():this._initialized&&(this._position==="center"||this._previousPosition==="center")&&(clearTimeout(this._fallbackTimer),this._fallbackTimer=this._ngZone.runOutsideAngular(()=>setTimeout(()=>this._simulateTransitionEvents(),100)))}_simulateTransitionEvents(){this._transitionStarted(),dn(()=>this._transitionDone(),{injector:this._injector})}_animationsDisabled(){return this._animationsModule==="NoopAnimations"||this.animationDuration==="0ms"||this.animationDuration==="0s"}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Q({type:t,selectors:[["mat-tab-body"]],viewQuery:function(n,r){if(n&1&&(Xe(J4,5),Xe(Zte,5)),n&2){let a;be(a=ve())&&(r._portalHost=a.first),be(a=ve())&&(r._contentElement=a.first)}},hostAttrs:[1,"mat-mdc-tab-body"],hostVars:1,hostBindings:function(n,r){n&2&&Ee("inert",r._position==="center"?null:"")},inputs:{_content:[0,"content","_content"],animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_onCentered:"_onCentered"},decls:3,vars:6,consts:[["content",""],["cdkScrollable","",1,"mat-mdc-tab-body-content"],["matTabBodyHost",""]],template:function(n,r){n&1&&(M(0,"div",1,0),ne(2,Qte,0,0,"ng-template",2),k()),n&2&&me("mat-tab-body-content-left",r._position==="left")("mat-tab-body-content-right",r._position==="right")("mat-tab-body-content-can-animate",r._position==="center"||r._previousPosition==="center")},dependencies:[J4,A0],styles:[`.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto;transform:none;visibility:hidden}.mat-tab-body-animating>.mat-mdc-tab-body-content,.mat-mdc-tab-body-active>.mat-mdc-tab-body-content{visibility:visible}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-tab-body-content-can-animate{transition:transform var(--mat-tab-animation-duration) 1ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable .mat-tab-body-content-can-animate{transition:none}.mat-tab-body-content-left{transform:translate3d(-100%, 0, 0)}.mat-tab-body-content-right{transform:translate3d(100%, 0, 0)}
`],encapsulation:2})}return t})(),xp=(()=>{class t{_elementRef=x(ge);_changeDetectorRef=x(st);_ngZone=x(we);_tabsSubscription=xt.EMPTY;_tabLabelSubscription=xt.EMPTY;_tabBodySubscription=xt.EMPTY;_diAnimationsDisabled=x(Kt,{optional:!0})==="NoopAnimations";_allTabs;_tabBodies;_tabBodyWrapper;_tabHeader;_tabs=new Vl;_indexToSelect=0;_lastFocusedTabIndex=null;_tabBodyWrapperHeight=0;color;get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(e){this._fitInkBarToContent=e,this._changeDetectorRef.markForCheck()}_fitInkBarToContent=!1;stretchTabs=!0;alignTabs=null;dynamicHeight=!1;get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._indexToSelect=isNaN(e)?null:e}_selectedIndex=null;headerPosition="above";get animationDuration(){return this._animationDuration}set animationDuration(e){let n=e+"";this._animationDuration=/^\d+$/.test(n)?e+"ms":n}_animationDuration;get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(e){this._contentTabIndex=isNaN(e)?null:e}_contentTabIndex;disablePagination=!1;disableRipple=!1;preserveContent=!1;get backgroundColor(){return this._backgroundColor}set backgroundColor(e){let n=this._elementRef.nativeElement.classList;n.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),e&&n.add("mat-tabs-with-background",`mat-background-${e}`),this._backgroundColor=e}_backgroundColor;ariaLabel;ariaLabelledby;selectedIndexChange=new ie;focusChange=new ie;animationDone=new ie;selectedTabChange=new ie(!0);_groupId;_isServer=!x(Pt).isBrowser;constructor(){let e=x(fie,{optional:!0});this._groupId=x(ei).getId("mat-tab-group-"),this.animationDuration=e&&e.animationDuration?e.animationDuration:"500ms",this.disablePagination=e&&e.disablePagination!=null?e.disablePagination:!1,this.dynamicHeight=e&&e.dynamicHeight!=null?e.dynamicHeight:!1,e?.contentTabIndex!=null&&(this.contentTabIndex=e.contentTabIndex),this.preserveContent=!!e?.preserveContent,this.fitInkBarToContent=e&&e.fitInkBarToContent!=null?e.fitInkBarToContent:!1,this.stretchTabs=e&&e.stretchTabs!=null?e.stretchTabs:!0,this.alignTabs=e&&e.alignTabs!=null?e.alignTabs:null}ngAfterContentChecked(){let e=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=e){let n=this._selectedIndex==null;if(!n){this.selectedTabChange.emit(this._createChangeEvent(e));let r=this._tabBodyWrapper.nativeElement;r.style.minHeight=r.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((r,a)=>r.isActive=a===e),n||(this.selectedIndexChange.emit(e),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((n,r)=>{n.position=r-e,this._selectedIndex!=null&&n.position==0&&!n.origin&&(n.origin=e-this._selectedIndex)}),this._selectedIndex!==e&&(this._selectedIndex=e,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{let e=this._clampTabIndex(this._indexToSelect);if(e===this._selectedIndex){let n=this._tabs.toArray(),r;for(let a=0;a<n.length;a++)if(n[a].isActive){this._indexToSelect=this._selectedIndex=a,this._lastFocusedTabIndex=null,r=n[a];break}!r&&n[e]&&Promise.resolve().then(()=>{n[e].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(e))})}this._changeDetectorRef.markForCheck()})}ngAfterViewInit(){this._tabBodySubscription=this._tabBodies.changes.subscribe(()=>this._bodyCentered(!0))}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(yi(this._allTabs)).subscribe(e=>{this._tabs.reset(e.filter(n=>n._closestTabGroup===this||!n._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe(),this._tabBodySubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(e){let n=this._tabHeader;n&&(n.focusIndex=e)}_focusChanged(e){this._lastFocusedTabIndex=e,this.focusChange.emit(this._createChangeEvent(e))}_createChangeEvent(e){let n=new UE;return n.index=e,this._tabs&&this._tabs.length&&(n.tab=this._tabs.toArray()[e]),n}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=ri(...this._tabs.map(e=>e._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(e){return Math.min(this._tabs.length-1,Math.max(e||0,0))}_getTabLabelId(e,n){return e.id||`${this._groupId}-label-${n}`}_getTabContentId(e){return`${this._groupId}-content-${e}`}_setTabBodyWrapperHeight(e){if(!this.dynamicHeight||!this._tabBodyWrapperHeight){this._tabBodyWrapperHeight=e;return}let n=this._tabBodyWrapper.nativeElement;n.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(n.style.height=e+"px")}_removeTabBodyWrapperHeight(){let e=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=e.clientHeight,e.style.height="",this._ngZone.run(()=>this.animationDone.emit())}_handleClick(e,n,r){n.focusIndex=r,e.disabled||(this.selectedIndex=r)}_getTabIndex(e){let n=this._lastFocusedTabIndex??this.selectedIndex;return e===n?0:-1}_tabFocusChanged(e,n){e&&e!=="mouse"&&e!=="touch"&&(this._tabHeader.focusIndex=n)}_bodyCentered(e){e&&this._tabBodies?.forEach((n,r)=>n._setActiveClass(r===this._selectedIndex))}_animationsDisabled(){return this._diAnimationsDisabled||this.animationDuration==="0"||this.animationDuration==="0ms"}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Q({type:t,selectors:[["mat-tab-group"]],contentQueries:function(n,r,a){if(n&1&&Et(a,eh,5),n&2){let s;be(s=ve())&&(r._allTabs=s)}},viewQuery:function(n,r){if(n&1&&(Xe(Xte,5),Xe(Jte,5),Xe(zE,5)),n&2){let a;be(a=ve())&&(r._tabBodyWrapper=a.first),be(a=ve())&&(r._tabHeader=a.first),be(a=ve())&&(r._tabBodies=a)}},hostAttrs:[1,"mat-mdc-tab-group"],hostVars:11,hostBindings:function(n,r){n&2&&(Ee("mat-align-tabs",r.alignTabs),jn("mat-"+(r.color||"primary")),Ys("--mat-tab-animation-duration",r.animationDuration),me("mat-mdc-tab-group-dynamic-height",r.dynamicHeight)("mat-mdc-tab-group-inverted-header",r.headerPosition==="below")("mat-mdc-tab-group-stretch-tabs",r.stretchTabs))},inputs:{color:"color",fitInkBarToContent:[2,"fitInkBarToContent","fitInkBarToContent",re],stretchTabs:[2,"mat-stretch-tabs","stretchTabs",re],alignTabs:[0,"mat-align-tabs","alignTabs"],dynamicHeight:[2,"dynamicHeight","dynamicHeight",re],selectedIndex:[2,"selectedIndex","selectedIndex",Ga],headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:[2,"contentTabIndex","contentTabIndex",Ga],disablePagination:[2,"disablePagination","disablePagination",re],disableRipple:[2,"disableRipple","disableRipple",re],preserveContent:[2,"preserveContent","preserveContent",re],backgroundColor:"backgroundColor",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"]},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},exportAs:["matTabGroup"],features:[Ye([{provide:tj,useExisting:t}])],ngContentSelectors:HE,decls:9,vars:8,consts:[["tabHeader",""],["tabBodyWrapper",""],["tabNode",""],[3,"indexFocused","selectFocusedIndex","selectedIndex","disableRipple","disablePagination","aria-label","aria-labelledby"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-focus-indicator",3,"id","mdc-tab--active","class","disabled","fitInkBarToContent"],[1,"mat-mdc-tab-body-wrapper"],["role","tabpanel",3,"id","class","content","position","animationDuration","preserveContent"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-focus-indicator",3,"click","cdkFocusChange","id","disabled","fitInkBarToContent"],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"_onCentered","_onCentering","_beforeCentering","id","content","position","animationDuration","preserveContent"]],template:function(n,r){if(n&1){let a=zt();mt(),M(0,"mat-tab-header",3,0),X("indexFocused",function(o){return xe(a),Ce(r._focusChanged(o))})("selectFocusedIndex",function(o){return xe(a),Ce(r.selectedIndex=o)}),Bl(2,nie,8,17,"div",4,$S),k(),ne(4,rie,1,0),M(5,"div",5,1),Bl(7,aie,1,10,"mat-tab-body",6,$S),k()}n&2&&(W("selectedIndex",r.selectedIndex||0)("disableRipple",r.disableRipple)("disablePagination",r.disablePagination)("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledby),T(2),jl(r._tabs),T(2),kt(r._isServer?4:-1),T(),me("_mat-animation-noopable",r._animationsDisabled()),T(2),jl(r._tabs))},dependencies:[pie,ij,sy,nc,Aa,zE],styles:[`.mdc-tab{min-width:90px;padding:0 24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;z-index:1}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab--active .mdc-tab__text-label{transition-delay:100ms}._mat-animation-noopable .mdc-tab__text-label{transition:none}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transition:var(--mat-tab-animation-duration, 250ms) transform cubic-bezier(0.4, 0, 0.2, 1);transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}._mat-animation-noopable .mdc-tab-indicator__content,.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mat-mdc-tab-ripple.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;height:var(--mdc-secondary-navigation-tab-container-height, 48px);font-family:var(--mat-tab-header-label-text-font, var(--mat-sys-title-small-font));font-size:var(--mat-tab-header-label-text-size, var(--mat-sys-title-small-size));letter-spacing:var(--mat-tab-header-label-text-tracking, var(--mat-sys-title-small-tracking));line-height:var(--mat-tab-header-label-text-line-height, var(--mat-sys-title-small-line-height));font-weight:var(--mat-tab-header-label-text-weight, var(--mat-sys-title-small-weight))}.mat-mdc-tab.mdc-tab{flex-grow:0}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-color:var(--mdc-tab-indicator-active-indicator-color, var(--mat-sys-primary));border-top-width:var(--mdc-tab-indicator-active-indicator-height, 2px);border-radius:var(--mdc-tab-indicator-active-indicator-shape, 0)}.mat-mdc-tab:hover .mdc-tab__text-label{color:var(--mat-tab-header-inactive-hover-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab:focus .mdc-tab__text-label{color:var(--mat-tab-header-inactive-focus-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-header-active-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-header-active-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-header-active-hover-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-hover-indicator-color, var(--mat-sys-primary))}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-header-active-focus-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-focus-indicator-color, var(--mat-sys-primary))}.mat-mdc-tab.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-header-disabled-ripple-color)}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-inactive-label-text-color, var(--mat-sys-on-surface));display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-header-with-background-background-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-focus-indicator::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-focus-indicator::before{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}
`],encapsulation:2})}return t})(),UE=class{index;tab};var nj=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Se({type:t});static \u0275inj=De({imports:[nt,nt]})}return t})();var gie=new G("MAT_SORT_DEFAULT_OPTIONS"),Cp=(()=>{class t{_defaultOptions;_initializedStream=new AS(1);sortables=new Map;_stateChanges=new se;active;start="asc";get direction(){return this._direction}set direction(e){this._direction=e}_direction="";disableClear;disabled=!1;sortChange=new ie;initialized=this._initializedStream;constructor(e){this._defaultOptions=e}register(e){this.sortables.set(e.id,e)}deregister(e){this.sortables.delete(e.id)}sort(e){this.active!=e.id?(this.active=e.id,this.direction=e.start?e.start:this.start):this.direction=this.getNextSortDirection(e),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(e){if(!e)return"";let n=e?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear,r=yie(e.start||this.start,n),a=r.indexOf(this.direction)+1;return a>=r.length&&(a=0),r[a]}ngOnInit(){this._initializedStream.next()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete(),this._initializedStream.complete()}static \u0275fac=function(n){return new(n||t)(J(gie,8))};static \u0275dir=Y({type:t,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{active:[0,"matSortActive","active"],start:[0,"matSortStart","start"],direction:[0,"matSortDirection","direction"],disableClear:[2,"matSortDisableClear","disableClear",re],disabled:[2,"matSortDisabled","disabled",re]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[_t]})}return t})();function yie(t,i){let e=["asc","desc"];return t=="desc"&&e.reverse(),i||e.push(""),e}var WE=(()=>{class t{changes=new se;static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function bie(t){return t||new WE}var vie={provide:WE,deps:[[new Bn,new mg,WE]],useFactory:bie};var rj=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Se({type:t});static \u0275inj=De({providers:[vie],imports:[nt]})}return t})();var aj=()=>["month","valor"];function _ie(t,i){t&1&&(M(0,"th",17),V(1,"M\xEAs"),k())}function xie(t,i){if(t&1&&(M(0,"td",18),V(1),k()),t&2){let e=i.$implicit;T(),$e(e.month)}}function Cie(t,i){t&1&&(M(0,"th",17),V(1,"Valor"),k())}function wie(t,i){if(t&1&&(M(0,"td",18),V(1),k()),t&2){let e=i.$implicit;T(),$e(e.valor+"\u20AC")}}function Die(t,i){t&1&&(M(0,"th",17),V(1,"Data de pagamento"),k())}function Sie(t,i){if(t&1&&(M(0,"td",18),V(1),ta(2,"date"),k()),t&2){let e=i.$implicit;T(),$e(ia(2,1,e.paymentDate,"longDate"))}}function Mie(t,i){t&1&&ae(0,"tr",19)}function Iie(t,i){t&1&&ae(0,"tr",20)}function kie(t,i){if(t&1&&(M(0,"table",9),vn(1,10),ne(2,_ie,2,0,"th",11)(3,xie,2,1,"td",12),_n(),vn(4,13),ne(5,Cie,2,0,"th",11)(6,wie,2,1,"td",12),_n(),vn(7,14),ne(8,Die,2,0,"th",11)(9,Sie,3,4,"td",12),_n(),ne(10,Mie,1,0,"tr",15)(11,Iie,1,0,"tr",16),k()),t&2){let e=ye();W("dataSource",e.dataSourcePaid),T(10),W("matHeaderRowDef",e.displayedColumnsPaid),T(),W("matRowDefColumns",e.displayedColumnsPaid)}}function Aie(t,i){t&1&&(M(0,"h2",21),V(1,"Sem quotas pagas."),k())}function Eie(t,i){t&1&&(M(0,"th",17),V(1,"M\xEAs"),k())}function Tie(t,i){if(t&1&&(M(0,"td",18),V(1),k()),t&2){let e=i.$implicit;T(),$e(e.month)}}function Rie(t,i){t&1&&(M(0,"th",17),V(1,"Valor"),k())}function Oie(t,i){if(t&1&&(M(0,"td",18),V(1),k()),t&2){let e=i.$implicit;T(),$e(e.valor+"\u20AC")}}function Lie(t,i){t&1&&ae(0,"tr",19)}function Nie(t,i){t&1&&ae(0,"tr",20)}function Pie(t,i){if(t&1&&(M(0,"table",9),vn(1,10),ne(2,Eie,2,0,"th",11)(3,Tie,2,1,"td",12),_n(),vn(4,13),ne(5,Rie,2,0,"th",11)(6,Oie,2,1,"td",12),_n(),ne(7,Lie,1,0,"tr",15)(8,Nie,1,0,"tr",16),k()),t&2){let e=ye();W("dataSource",e.dataSourceUnpaid),T(7),W("matHeaderRowDef",Tr(3,aj)),T(),W("matRowDefColumns",Tr(4,aj))}}function Fie(t,i){t&1&&(M(0,"h2",21),V(1,"Sem quotas por pagar."),k())}var sj=(()=>{class t{constructor(e,n,r,a,s){this.quotasService=e,this.breakPointObserver=n,this.userService=r,this.authService=a,this.ref=s,this.paidQuotas=[],this.unpaidQuotas=[],this.initials="",this.displayedColumnsPaid=["month","valor","paymentDate"]}ngOnInit(){this.authService.user$.subscribe(e=>{e&&(this.userId=e.uid,this.userService.getUserInfo(this.userId).subscribe(n=>{this.userData=n,this.userData.type=this.userService.getUserTypeByNumber(n.type).tipo,this.initials=this.getInitials(this.userData.name)}),this.breakPointObserver.observe([$l.Small,$l.Handset]).subscribe(n=>{n.matches?this.displayedColumnsPaid=["month","paymentDate"]:this.displayedColumnsPaid=["month","valor","paymentDate"]}),this.quotasService.getUnpaidQuotasForUser(this.userId).subscribe(n=>{for(var r of n){var a=this.quotasService.calculateFineForDate(new Date,r.month),s=r.valor+a;r.valor=s,r.month=this.getMonthStringFromMonthCode(r.month)}this.unpaidQuotas=n,this.dataSourceUnpaid=new il(this.unpaidQuotas),this.ref.detectChanges()}),this.quotasService.getPaidQuotasForUser(this.userId).subscribe(n=>{for(var r of n){var a=this.quotasService.calculateFineForDate(r.paymentDate,r.month),s=r.valor+a;r.valor=s,r.month=this.getMonthStringFromMonthCode(r.month)}this.paidQuotas=n,this.dataSourcePaid=new il(this.paidQuotas),this.ref.detectChanges()}))})}getMonthStringFromMonthCode(e){var n=parseInt(e.substring(3)),r=this.quotasService.convertThreeCharacterMonthIntoIndex(e.substring(0,3)),a=new Date(n,r,1),s=a.toLocaleDateString("pt-PT",{month:"long",year:"numeric"}),o=s.charAt(0).toUpperCase()+s.slice(1);return o}getInitials(e){if(!e)return"";var n=e.split(" ");let r="";return n.length>0&&(r+=n[0].charAt(0).toUpperCase()),n.length>1&&(r+=n[n.length-1].charAt(0).toUpperCase()),r}static{this.\u0275fac=function(n){return new(n||t)(J(xd),J(eo),J(vs),J(_s),J(st))}}static{this.\u0275cmp=Q({type:t,selectors:[["app-quotas"]],standalone:!1,decls:17,vars:7,consts:[[1,"quotas-container"],[1,"avatar"],[1,"name-container"],[1,"type-container"],[1,"tabs-container"],["label","Pagas"],["mat-table","","matSort","","class","mat-elevation-z8",3,"dataSource",4,"ngIf"],["class","no-quotas-message",4,"ngIf"],["label","Por pagar"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","month"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","valor"],["matColumnDef","paymentDate"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],[1,"no-quotas-message"]],template:function(n,r){n&1&&(M(0,"div",0)(1,"div",1),V(2),k(),M(3,"div",2),V(4),k(),ae(5,"br"),M(6,"div",3)(7,"h3"),V(8),k()(),M(9,"div",4)(10,"mat-tab-group")(11,"mat-tab",5),ne(12,kie,12,3,"table",6)(13,Aie,2,0,"h2",7),k(),M(14,"mat-tab",8),ne(15,Pie,9,5,"table",6)(16,Fie,2,0,"h2",7),k()()()()),n&2&&(T(2),Ut(" ",r.initials," "),T(2),Ut(" ",r.userData==null?null:r.userData.name," "),T(4),$e(r.userData==null?null:r.userData.type),T(4),W("ngIf",(r.dataSourcePaid==null||r.dataSourcePaid.data==null?null:r.dataSourcePaid.data.length)>0),T(),W("ngIf",(r.dataSourcePaid==null||r.dataSourcePaid.data==null?null:r.dataSourcePaid.data.length)===0),T(2),W("ngIf",(r.dataSourceUnpaid==null||r.dataSourceUnpaid.data==null?null:r.dataSourceUnpaid.data.length)>0),T(),W("ngIf",(r.dataSourceUnpaid==null||r.dataSourceUnpaid.data==null?null:r.dataSourceUnpaid.data.length)===0))},dependencies:[Qs,eh,xp,Rm,Lm,Vm,Nm,Om,Bm,Pm,Fm,jm,zm,Cp,Gl],styles:[".quotas-container[_ngcontent-%COMP%]{max-width:1200px;height:fit-content;box-shadow:0 2px 4px #0000001a;background-color:#fff;border-radius:5px;margin:20px auto;grid-column:2;padding:10px;overflow:hidden}.name-container[_ngcontent-%COMP%]{text-align:center;font-family:var(--font-family);font-weight:600;font-size:x-large}.type-container[_ngcontent-%COMP%]{text-align:center}.no-quotas-message[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.avatar[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100px;height:100px;background-color:#e6e6e9;border-radius:100px;margin:25px auto;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;font-weight:700;font-size:xxx-large;border:5px black solid}@media screen and (max-width: 599px){.quotas-container[_ngcontent-%COMP%]{box-sizing:border-box;margin:20px 15px;width:calc(100% - 30px)}.avatar[_ngcontent-%COMP%]{margin:25px auto}}@media screen and (min-width: 600px) and (max-width: 1400px){.quotas-container[_ngcontent-%COMP%]{margin-left:20px;margin-right:10px;margin-bottom:20px;padding:15px;max-width:100vw}.avatar[_ngcontent-%COMP%]{margin:25px auto}}"]})}}return t})();var oj=k0(),cC=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(i,e){this._viewportRuler=i,this._document=e}attach(){}enable(){if(this._canBeEnabled()){let i=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=i.style.left||"",this._previousHTMLStyles.top=i.style.top||"",i.style.left=Cn(-this._previousScrollPosition.left),i.style.top=Cn(-this._previousScrollPosition.top),i.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let i=this._document.documentElement,e=this._document.body,n=i.style,r=e.style,a=n.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,i.classList.remove("cdk-global-scrollblock"),oj&&(n.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),oj&&(n.scrollBehavior=a,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let e=this._document.documentElement,n=this._viewportRuler.getViewportSize();return e.scrollHeight>n.height||e.scrollWidth>n.width}};var dC=class{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(i,e,n,r){this._scrollDispatcher=i,this._ngZone=e,this._viewportRuler=n,this._config=r}attach(i){this._overlayRef,this._overlayRef=i}enable(){if(this._scrollSubscription)return;let i=this._scrollDispatcher.scrolled(0).pipe(It(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=i.subscribe(()=>{let e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=i.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}},rb=class{enable(){}disable(){}attach(){}};function YE(t,i){return i.some(e=>{let n=t.bottom<e.top,r=t.top>e.bottom,a=t.right<e.left,s=t.left>e.right;return n||r||a||s})}function lj(t,i){return i.some(e=>{let n=t.top<e.top,r=t.bottom>e.bottom,a=t.left<e.left,s=t.right>e.right;return n||r||a||s})}var uC=class{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(i,e,n,r){this._scrollDispatcher=i,this._viewportRuler=e,this._ngZone=n,this._config=r}attach(i){this._overlayRef,this._overlayRef=i}enable(){if(!this._scrollSubscription){let i=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(i).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:n,height:r}=this._viewportRuler.getViewportSize();YE(e,[{width:n,height:r,bottom:r,right:n,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},pj=(()=>{class t{_scrollDispatcher=x(oI);_viewportRuler=x(Yl);_ngZone=x(we);_document=x(Ue);constructor(){}noop=()=>new rb;close=e=>new dC(this._scrollDispatcher,this._ngZone,this._viewportRuler,e);block=()=>new cC(this._viewportRuler,this._document);reposition=e=>new uC(this._scrollDispatcher,this._viewportRuler,this._ngZone,e);static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),mo=class{positionStrategy;scrollStrategy=new rb;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;constructor(i){if(i){let e=Object.keys(i);for(let n of e)i[n]!==void 0&&(this[n]=i[n])}}};var hC=class{connectionPair;scrollableViewProperties;constructor(i,e){this.connectionPair=i,this.scrollableViewProperties=e}};var fj=(()=>{class t{_attachedOverlays=[];_document=x(Ue);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){let n=this._attachedOverlays.indexOf(e);n>-1&&this._attachedOverlays.splice(n,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),gj=(()=>{class t extends fj{_ngZone=x(we);_renderer=x(pr).createRenderer(null,null);_cleanupKeydown;add(e){super.add(e),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=e=>{let n=this._attachedOverlays;for(let r=n.length-1;r>-1;r--)if(n[r]._keydownEvents.observers.length>0){this._ngZone.run(()=>n[r]._keydownEvents.next(e));break}};static \u0275fac=(()=>{let e;return function(r){return(e||(e=Dt(t)))(r||t)}})();static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),yj=(()=>{class t extends fj{_platform=x(Pt);_ngZone=x(we);_renderer=x(pr).createRenderer(null,null);_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;_cleanups;add(e){if(super.add(e),!this._isAttached){let n=this._document.body,r={capture:!0};this._cleanups=this._ngZone.runOutsideAngular(()=>[Ti(this._renderer,n,"pointerdown",this._pointerDownListener,r),Ti(this._renderer,n,"click",this._clickListener,r),Ti(this._renderer,n,"auxclick",this._clickListener,r),Ti(this._renderer,n,"contextmenu",this._clickListener,r)]),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=n.style.cursor,n.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){this._isAttached&&(this._cleanups?.forEach(e=>e()),this._cleanups=void 0,this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}_pointerDownListener=e=>{this._pointerDownEventTarget=gr(e)};_clickListener=e=>{let n=gr(e),r=e.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:n;this._pointerDownEventTarget=null;let a=this._attachedOverlays.slice();for(let s=a.length-1;s>-1;s--){let o=a[s];if(o._outsidePointerEvents.observers.length<1||!o.hasAttached())continue;if(cj(o.overlayElement,n)||cj(o.overlayElement,r))break;let l=o._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>l.next(e)):l.next(e)}};static \u0275fac=(()=>{let e;return function(r){return(e||(e=Dt(t)))(r||t)}})();static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function cj(t,i){let e=typeof ShadowRoot<"u"&&ShadowRoot,n=i;for(;n;){if(n===t)return!0;n=e&&n instanceof ShadowRoot?n.host:n.parentNode}return!1}var bj=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Q({type:t,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(n,r){},styles:[`.cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0;touch-action:manipulation}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}@media(prefers-reduced-motion){.cdk-overlay-backdrop{transition-duration:1ms}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}
`],encapsulation:2,changeDetection:0})}return t})(),pC=(()=>{class t{_platform=x(Pt);_containerElement;_document=x(Ue);_styleLoader=x(_i);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e="cdk-overlay-container";if(this._platform.isBrowser||LE()){let r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let a=0;a<r.length;a++)r[a].remove()}let n=this._document.createElement("div");n.classList.add(e),LE()?n.setAttribute("platform","test"):this._platform.isBrowser||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}_loadStyles(){this._styleLoader.load(bj)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),KE=class{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(i,e,n,r){this._renderer=e,this._ngZone=n,this.element=i.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=e.listen(this.element,"click",r)}detach(){this._ngZone.runOutsideAngular(()=>{let i=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(i,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),i.style.pointerEvents="none",i.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}},ih=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new se;_attachments=new se;_detachments=new se;_positionStrategy;_scrollStrategy;_locationChanges=xt.EMPTY;_backdropRef=null;_previousHostParent;_keydownEvents=new se;_outsidePointerEvents=new se;_renders=new se;_afterRenderRef;_afterNextRenderRef;constructor(i,e,n,r,a,s,o,l,c,d=!1,u,h){this._portalOutlet=i,this._host=e,this._pane=n,this._config=r,this._ngZone=a,this._keyboardDispatcher=s,this._document=o,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=d,this._injector=u,this._renderer=h,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy,this._afterRenderRef=fr(()=>v_(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(i){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let e=this._portalOutlet.attach(i);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=dn(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof e?.onDestroy=="function"&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let i=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),i}dispose(){let i=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,i&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(i){i!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=i,this.hasAttached()&&(i.attach(this),this.updatePosition()))}updateSize(i){this._config=f(f({},this._config),i),this._updateElementSize()}setDirection(i){this._config=S(f({},this._config),{direction:i}),this._updateElementDirection()}addPanelClass(i){this._pane&&this._toggleClasses(this._pane,i,!0)}removePanelClass(i){this._pane&&this._toggleClasses(this._pane,i,!1)}getDirection(){let i=this._config.direction;return i?typeof i=="string"?i:i.value:"ltr"}updateScrollStrategy(i){i!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=i,this.hasAttached()&&(i.attach(this),i.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let i=this._pane.style;i.width=Cn(this._config.width),i.height=Cn(this._config.height),i.minWidth=Cn(this._config.minWidth),i.minHeight=Cn(this._config.minHeight),i.maxWidth=Cn(this._config.maxWidth),i.maxHeight=Cn(this._config.maxHeight)}_togglePointerEvents(i){this._pane.style.pointerEvents=i?"":"none"}_attachBackdrop(){let i="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new KE(this._document,this._renderer,this._ngZone,e=>{this._backdropClick.next(e)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(i))}):this._backdropRef.element.classList.add(i)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(i,e,n){let r=Sm(e||[]).filter(a=>!!a);r.length&&(n?i.classList.add(...r):i.classList.remove(...r))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let i=this._renders.pipe(di(ri(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),i.unsubscribe())})})}_disposeScrollStrategy(){let i=this._scrollStrategy;i?.disable(),i?.detach?.()}},dj="cdk-overlay-connected-position-bounding-box",Vie=/([A-Za-z%]+)$/,wp=class{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new se;_resizeSubscription=xt.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(i,e,n,r,a){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=a,this.setOrigin(i)}attach(i){this._overlayRef&&this._overlayRef,this._validatePositions(),i.hostElement.classList.add(dj),this._overlayRef=i,this._boundingBox=i.hostElement,this._pane=i.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let i=this._originRect,e=this._overlayRect,n=this._viewportRect,r=this._containerRect,a=[],s;for(let o of this._preferredPositions){let l=this._getOriginPoint(i,r,o),c=this._getOverlayPoint(l,e,o),d=this._getOverlayFit(c,e,n,o);if(d.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(o,l);return}if(this._canFitWithFlexibleDimensions(d,c,n)){a.push({position:o,origin:l,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(l,o)});continue}(!s||s.overlayFit.visibleArea<d.visibleArea)&&(s={overlayFit:d,overlayPoint:c,originPoint:l,position:o,overlayRect:e})}if(a.length){let o=null,l=-1;for(let c of a){let d=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);d>l&&(l=d,o=c)}this._isPushed=!1,this._applyPosition(o.position,o.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&th(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(dj),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let i=this._lastPosition;if(i){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._getOriginPoint(this._originRect,this._containerRect,i);this._applyPosition(i,e)}else this.apply()}withScrollableContainers(i){return this._scrollables=i,this}withPositions(i){return this._preferredPositions=i,i.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(i){return this._viewportMargin=i,this}withFlexibleDimensions(i=!0){return this._hasFlexibleDimensions=i,this}withGrowAfterOpen(i=!0){return this._growAfterOpen=i,this}withPush(i=!0){return this._canPush=i,this}withLockedPosition(i=!0){return this._positionLocked=i,this}setOrigin(i){return this._origin=i,this}withDefaultOffsetX(i){return this._offsetX=i,this}withDefaultOffsetY(i){return this._offsetY=i,this}withTransformOriginOn(i){return this._transformOriginSelector=i,this}_getOriginPoint(i,e,n){let r;if(n.originX=="center")r=i.left+i.width/2;else{let s=this._isRtl()?i.right:i.left,o=this._isRtl()?i.left:i.right;r=n.originX=="start"?s:o}e.left<0&&(r-=e.left);let a;return n.originY=="center"?a=i.top+i.height/2:a=n.originY=="top"?i.top:i.bottom,e.top<0&&(a-=e.top),{x:r,y:a}}_getOverlayPoint(i,e,n){let r;n.overlayX=="center"?r=-e.width/2:n.overlayX==="start"?r=this._isRtl()?-e.width:0:r=this._isRtl()?0:-e.width;let a;return n.overlayY=="center"?a=-e.height/2:a=n.overlayY=="top"?0:-e.height,{x:i.x+r,y:i.y+a}}_getOverlayFit(i,e,n,r){let a=hj(e),{x:s,y:o}=i,l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(s+=l),c&&(o+=c);let d=0-s,u=s+a.width-n.width,h=0-o,m=o+a.height-n.height,p=this._subtractOverflows(a.width,d,u),g=this._subtractOverflows(a.height,h,m),b=p*g;return{visibleArea:b,isCompletelyWithinViewport:a.width*a.height===b,fitsInViewportVertically:g===a.height,fitsInViewportHorizontally:p==a.width}}_canFitWithFlexibleDimensions(i,e,n){if(this._hasFlexibleDimensions){let r=n.bottom-e.y,a=n.right-e.x,s=uj(this._overlayRef.getConfig().minHeight),o=uj(this._overlayRef.getConfig().minWidth),l=i.fitsInViewportVertically||s!=null&&s<=r,c=i.fitsInViewportHorizontally||o!=null&&o<=a;return l&&c}return!1}_pushOverlayOnScreen(i,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:i.x+this._previousPushAmount.x,y:i.y+this._previousPushAmount.y};let r=hj(e),a=this._viewportRect,s=Math.max(i.x+r.width-a.width,0),o=Math.max(i.y+r.height-a.height,0),l=Math.max(a.top-n.top-i.y,0),c=Math.max(a.left-n.left-i.x,0),d=0,u=0;return r.width<=a.width?d=c||-s:d=i.x<this._viewportMargin?a.left-n.left-i.x:0,r.height<=a.height?u=l||-o:u=i.y<this._viewportMargin?a.top-n.top-i.y:0,this._previousPushAmount={x:d,y:u},{x:i.x+d,y:i.y+u}}_applyPosition(i,e){if(this._setTransformOrigin(i),this._setOverlayElementStyles(e,i),this._setBoundingBoxStyles(e,i),i.panelClass&&this._addPanelClasses(i.panelClass),this._positionChanges.observers.length){let n=this._getScrollVisibility();if(i!==this._lastPosition||!this._lastScrollVisibility||!Bie(this._lastScrollVisibility,n)){let r=new hC(i,n);this._positionChanges.next(r)}this._lastScrollVisibility=n}this._lastPosition=i,this._isInitialRender=!1}_setTransformOrigin(i){if(!this._transformOriginSelector)return;let e=this._boundingBox.querySelectorAll(this._transformOriginSelector),n,r=i.overlayY;i.overlayX==="center"?n="center":this._isRtl()?n=i.overlayX==="start"?"right":"left":n=i.overlayX==="start"?"left":"right";for(let a=0;a<e.length;a++)e[a].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(i,e){let n=this._viewportRect,r=this._isRtl(),a,s,o;if(e.overlayY==="top")s=i.y,a=n.height-s+this._viewportMargin;else if(e.overlayY==="bottom")o=n.height-i.y+this._viewportMargin*2,a=n.height-o+this._viewportMargin;else{let m=Math.min(n.bottom-i.y+n.top,i.y),p=this._lastBoundingBoxSize.height;a=m*2,s=i.y-m,a>p&&!this._isInitialRender&&!this._growAfterOpen&&(s=i.y-p/2)}let l=e.overlayX==="start"&&!r||e.overlayX==="end"&&r,c=e.overlayX==="end"&&!r||e.overlayX==="start"&&r,d,u,h;if(c)h=n.width-i.x+this._viewportMargin*2,d=i.x-this._viewportMargin;else if(l)u=i.x,d=n.right-i.x;else{let m=Math.min(n.right-i.x+n.left,i.x),p=this._lastBoundingBoxSize.width;d=m*2,u=i.x-m,d>p&&!this._isInitialRender&&!this._growAfterOpen&&(u=i.x-p/2)}return{top:s,left:u,bottom:o,right:h,width:d,height:a}}_setBoundingBoxStyles(i,e){let n=this._calculateBoundingBoxRect(i,e);!this._isInitialRender&&!this._growAfterOpen&&(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));let r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{let a=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=Cn(n.height),r.top=Cn(n.top),r.bottom=Cn(n.bottom),r.width=Cn(n.width),r.left=Cn(n.left),r.right=Cn(n.right),e.overlayX==="center"?r.alignItems="center":r.alignItems=e.overlayX==="end"?"flex-end":"flex-start",e.overlayY==="center"?r.justifyContent="center":r.justifyContent=e.overlayY==="bottom"?"flex-end":"flex-start",a&&(r.maxHeight=Cn(a)),s&&(r.maxWidth=Cn(s))}this._lastBoundingBoxSize=n,th(this._boundingBox.style,r)}_resetBoundingBoxStyles(){th(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){th(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(i,e){let n={},r=this._hasExactPosition(),a=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){let d=this._viewportRuler.getViewportScrollPosition();th(n,this._getExactOverlayY(e,i,d)),th(n,this._getExactOverlayX(e,i,d))}else n.position="static";let o="",l=this._getOffset(e,"x"),c=this._getOffset(e,"y");l&&(o+=`translateX(${l}px) `),c&&(o+=`translateY(${c}px)`),n.transform=o.trim(),s.maxHeight&&(r?n.maxHeight=Cn(s.maxHeight):a&&(n.maxHeight="")),s.maxWidth&&(r?n.maxWidth=Cn(s.maxWidth):a&&(n.maxWidth="")),th(this._pane.style,n)}_getExactOverlayY(i,e,n){let r={top:"",bottom:""},a=this._getOverlayPoint(e,this._overlayRect,i);if(this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,n)),i.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;r.bottom=`${s-(a.y+this._overlayRect.height)}px`}else r.top=Cn(a.y);return r}_getExactOverlayX(i,e,n){let r={left:"",right:""},a=this._getOverlayPoint(e,this._overlayRect,i);this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,n));let s;if(this._isRtl()?s=i.overlayX==="end"?"left":"right":s=i.overlayX==="end"?"right":"left",s==="right"){let o=this._document.documentElement.clientWidth;r.right=`${o-(a.x+this._overlayRect.width)}px`}else r.left=Cn(a.x);return r}_getScrollVisibility(){let i=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:lj(i,n),isOriginOutsideView:YE(i,n),isOverlayClipped:lj(e,n),isOverlayOutsideView:YE(e,n)}}_subtractOverflows(i,...e){return e.reduce((n,r)=>n-Math.max(r,0),i)}_getNarrowedViewportRect(){let i=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+i-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:i-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(i,e){return e==="x"?i.offsetX==null?this._offsetX:i.offsetX:i.offsetY==null?this._offsetY:i.offsetY}_validatePositions(){}_addPanelClasses(i){this._pane&&Sm(i).forEach(e=>{e!==""&&this._appliedPanelClasses.indexOf(e)===-1&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(i=>{this._pane.classList.remove(i)}),this._appliedPanelClasses=[])}_getOriginRect(){let i=this._origin;if(i instanceof ge)return i.nativeElement.getBoundingClientRect();if(i instanceof Element)return i.getBoundingClientRect();let e=i.width||0,n=i.height||0;return{top:i.y,bottom:i.y+n,left:i.x,right:i.x+e,height:n,width:e}}};function th(t,i){for(let e in i)i.hasOwnProperty(e)&&(t[e]=i[e]);return t}function uj(t){if(typeof t!="number"&&t!=null){let[i,e]=t.split(Vie);return!e||e==="px"?parseFloat(i):null}return t||null}function hj(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}function Bie(t,i){return t===i?!0:t.isOriginClipped===i.isOriginClipped&&t.isOriginOutsideView===i.isOriginOutsideView&&t.isOverlayClipped===i.isOverlayClipped&&t.isOverlayOutsideView===i.isOverlayOutsideView}var mj="cdk-global-overlay-wrapper",mC=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(i){let e=i.getConfig();this._overlayRef=i,this._width&&!e.width&&i.updateSize({width:this._width}),this._height&&!e.height&&i.updateSize({height:this._height}),i.hostElement.classList.add(mj),this._isDisposed=!1}top(i=""){return this._bottomOffset="",this._topOffset=i,this._alignItems="flex-start",this}left(i=""){return this._xOffset=i,this._xPosition="left",this}bottom(i=""){return this._topOffset="",this._bottomOffset=i,this._alignItems="flex-end",this}right(i=""){return this._xOffset=i,this._xPosition="right",this}start(i=""){return this._xOffset=i,this._xPosition="start",this}end(i=""){return this._xOffset=i,this._xPosition="end",this}width(i=""){return this._overlayRef?this._overlayRef.updateSize({width:i}):this._width=i,this}height(i=""){return this._overlayRef?this._overlayRef.updateSize({height:i}):this._height=i,this}centerHorizontally(i=""){return this.left(i),this._xPosition="center",this}centerVertically(i=""){return this.top(i),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let i=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:a,maxWidth:s,maxHeight:o}=n,l=(r==="100%"||r==="100vw")&&(!s||s==="100%"||s==="100vw"),c=(a==="100%"||a==="100vh")&&(!o||o==="100%"||o==="100vh"),d=this._xPosition,u=this._xOffset,h=this._overlayRef.getConfig().direction==="rtl",m="",p="",g="";l?g="flex-start":d==="center"?(g="center",h?p=u:m=u):h?d==="left"||d==="end"?(g="flex-end",m=u):(d==="right"||d==="start")&&(g="flex-start",p=u):d==="left"||d==="start"?(g="flex-start",m=u):(d==="right"||d==="end")&&(g="flex-end",p=u),i.position=this._cssPosition,i.marginLeft=l?"0":m,i.marginTop=c?"0":this._topOffset,i.marginBottom=this._bottomOffset,i.marginRight=l?"0":p,e.justifyContent=g,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let i=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(mj),n.justifyContent=n.alignItems=i.marginTop=i.marginBottom=i.marginLeft=i.marginRight=i.position="",this._overlayRef=null,this._isDisposed=!0}},vj=(()=>{class t{_viewportRuler=x(Yl);_document=x(Ue);_platform=x(Pt);_overlayContainer=x(pC);constructor(){}global(){return new mC}flexibleConnectedTo(e){return new wp(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Hi=(()=>{class t{scrollStrategies=x(pj);_overlayContainer=x(pC);_positionBuilder=x(vj);_keyboardDispatcher=x(gj);_injector=x(Qe);_ngZone=x(we);_document=x(Ue);_directionality=x(Ei);_location=x(Wo);_outsideClickDispatcher=x(yj);_animationsModuleType=x(Kt,{optional:!0});_idGenerator=x(ei);_renderer=x(pr).createRenderer(null,null);_appRef;_styleLoader=x(_i);constructor(){}create(e){this._styleLoader.load(bj);let n=this._createHostElement(),r=this._createPaneElement(n),a=this._createPortalOutlet(r),s=new mo(e);return s.direction=s.direction||this._directionality.value,new ih(a,n,r,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(Xr),this._renderer)}position(){return this._positionBuilder}_createPaneElement(e){let n=this._document.createElement("div");return n.id=this._idGenerator.getId("cdk-overlay-"),n.classList.add("cdk-overlay-pane"),e.appendChild(n),n}_createHostElement(){let e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get($s)),new Xu(e,null,this._appRef,this._injector,this._document)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),jie=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],_j=new G("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let t=x(Hi);return()=>t.scrollStrategies.reposition()}}),Dp=(()=>{class t{elementRef=x(ge);constructor(){}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]})}return t})(),fC=(()=>{class t{_overlay=x(Hi);_dir=x(Ei,{optional:!0});_overlayRef;_templatePortal;_backdropSubscription=xt.EMPTY;_attachSubscription=xt.EMPTY;_detachSubscription=xt.EMPTY;_positionSubscription=xt.EMPTY;_offsetX;_offsetY;_position;_scrollStrategyFactory=x(_j);_disposeOnNavigation=!1;_ngZone=x(we);origin;positions;positionStrategy;get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}width;height;minWidth;minHeight;backdropClass;panelClass;viewportMargin=0;scrollStrategy;open=!1;disableClose=!1;transformOriginSelector;hasBackdrop=!1;lockPosition=!1;flexibleDimensions=!1;growAfterOpen=!1;push=!1;get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(e){this._disposeOnNavigation=e}backdropClick=new ie;positionChange=new ie;attach=new ie;detach=new ie;overlayKeydown=new ie;overlayOutsideClick=new ie;constructor(){let e=x(bi),n=x(vi);this._templatePortal=new Wn(e,n),this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef?.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef?.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this.attachOverlay():this.detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=jie);let e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(n=>{this.overlayKeydown.next(n),n.keyCode===27&&!this.disableClose&&!mi(n)&&(n.preventDefault(),this.detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(n=>{let r=this._getOriginElement(),a=gr(n);(!r||r!==a&&!r.contains(a))&&this.overlayOutsideClick.next(n)})}_buildConfig(){let e=this._position=this.positionStrategy||this._createPositionStrategy(),n=new mo({direction:this._dir||"ltr",positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||this.width===0)&&(n.width=this.width),(this.height||this.height===0)&&(n.height=this.height),(this.minWidth||this.minWidth===0)&&(n.minWidth=this.minWidth),(this.minHeight||this.minHeight===0)&&(n.minHeight=this.minHeight),this.backdropClass&&(n.backdropClass=this.backdropClass),this.panelClass&&(n.panelClass=this.panelClass),n}_updatePositionStrategy(e){let n=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getOrigin()).withPositions(n).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){let e=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(e),e}_getOrigin(){return this.origin instanceof Dp?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof Dp?this.origin.elementRef.nativeElement:this.origin instanceof ge?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(jL(()=>this.positionChange.observers.length>0)).subscribe(e=>{this._ngZone.run(()=>this.positionChange.emit(e)),this.positionChange.observers.length===0&&this._positionSubscription.unsubscribe()})),this.open=!0}detachOverlay(){this._overlayRef?.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.open=!1}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",re],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",re],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",re],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",re],push:[2,"cdkConnectedOverlayPush","push",re],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",re]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[_t]})}return t})();function zie(t){return()=>t.scrollStrategies.reposition()}var Uie={provide:_j,deps:[Hi],useFactory:zie},po=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Se({type:t});static \u0275inj=De({providers:[Hi,Uie],imports:[id,xs,ey,ey]})}return t})();function Hie(t,i){}var Cd=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;width="";height="";minWidth;minHeight;maxWidth;maxHeight;positionStrategy;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;scrollStrategy;closeOnNavigation=!0;closeOnDestroy=!0;closeOnOverlayDetachments=!0;componentFactoryResolver;providers;container;templateContext};var ZE=(()=>{class t extends Qu{_elementRef=x(ge);_focusTrapFactory=x(z0);_config;_interactivityChecker=x(DI);_ngZone=x(we);_overlayRef=x(ih);_focusMonitor=x(gs);_renderer=x(Qt);_changeDetectorRef=x(st);_injector=x(Qe);_platform=x(Pt);_document=x(Ue,{optional:!0});_portalOutlet;_focusTrapped=new se;_focusTrap=null;_elementFocusedBeforeDialogWasOpened=null;_closeInteractionType=null;_ariaLabelledByQueue=[];_isDestroyed=!1;constructor(){super(),this._config=x(Cd,{optional:!0})||new Cd,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(e){this._ariaLabelledByQueue.push(e),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(e){let n=this._ariaLabelledByQueue.indexOf(e);n>-1&&(this._ariaLabelledByQueue.splice(n,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._focusTrapped.complete(),this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();let n=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),n}attachTemplatePortal(e){this._portalOutlet.hasAttached();let n=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),n}attachDomPortal=e=>{this._portalOutlet.hasAttached();let n=this._portalOutlet.attachDomPortal(e);return this._contentAttached(),n};_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,n){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let r=()=>{a(),s(),e.removeAttribute("tabindex")},a=this._renderer.listen(e,"blur",r),s=this._renderer.listen(e,"mousedown",r)})),e.focus(n)}_focusByCssSelector(e,n){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,n)}_trapFocus(e){this._isDestroyed||dn(()=>{let n=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||n.focus(e);break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement(e)||this._focusDialogContainer(e);break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]',e);break;default:this._focusByCssSelector(this._config.autoFocus,e);break}this._focusTrapped.next()},{injector:this._injector})}_restoreFocus(){let e=this._config.restoreFocus,n=null;if(typeof e=="string"?n=this._document.querySelector(e):typeof e=="boolean"?n=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(n=e),this._config.restoreFocus&&n&&typeof n.focus=="function"){let r=qa(),a=this._elementRef.nativeElement;(!r||r===this._document.body||r===a||a.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(n,this._closeInteractionType),this._closeInteractionType=null):n.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(e){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus(e)}_containsFocus(){let e=this._elementRef.nativeElement,n=qa();return e===n||e.contains(n)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=qa()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Q({type:t,selectors:[["cdk-dialog-container"]],viewQuery:function(n,r){if(n&1&&Xe(Aa,7),n&2){let a;be(a=ve())&&(r._portalOutlet=a.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(n,r){n&2&&Ee("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},features:[Ve],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(n,r){n&1&&ne(0,Hie,0,0,"ng-template",0)},dependencies:[Aa],styles:[`.cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}
`],encapsulation:2})}return t})(),ab=class{overlayRef;config;componentInstance;componentRef;containerInstance;disableClose;closed=new se;backdropClick;keydownEvents;outsidePointerEvents;id;_detachSubscription;constructor(i,e){this.overlayRef=i,this.config=e,this.disableClose=e.disableClose,this.backdropClick=i.backdropClick(),this.keydownEvents=i.keydownEvents(),this.outsidePointerEvents=i.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(n=>{n.keyCode===27&&!this.disableClose&&!mi(n)&&(n.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=i.detachments().subscribe(()=>{e.closeOnOverlayDetachments!==!1&&this.close()})}close(i,e){if(this.containerInstance){let n=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),n.next(i),n.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(i="",e=""){return this.overlayRef.updateSize({width:i,height:e}),this}addPanelClass(i){return this.overlayRef.addPanelClass(i),this}removePanelClass(i){return this.overlayRef.removePanelClass(i),this}},Gie=new G("DialogScrollStrategy",{providedIn:"root",factory:()=>{let t=x(Hi);return()=>t.scrollStrategies.block()}}),Wie=new G("DialogData"),$ie=new G("DefaultDialogConfig");var QE=(()=>{class t{_overlay=x(Hi);_injector=x(Qe);_defaultOptions=x($ie,{optional:!0});_parentDialog=x(t,{optional:!0,skipSelf:!0});_overlayContainer=x(pC);_idGenerator=x(ei);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new se;_afterOpenedAtThisLevel=new se;_ariaHiddenElements=new Map;_scrollStrategy=x(Gie);get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}afterAllClosed=hs(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(yi(void 0)));constructor(){}open(e,n){let r=this._defaultOptions||new Cd;n=f(f({},r),n),n.id=n.id||this._idGenerator.getId("cdk-dialog-"),n.id&&this.getDialogById(n.id);let a=this._getOverlayConfig(n),s=this._overlay.create(a),o=new ab(s,n),l=this._attachContainer(s,o,n);if(o.containerInstance=l,!this.openDialogs.length){let c=this._overlayContainer.getContainerElement();l._focusTrapped?l._focusTrapped.pipe(Yi(1)).subscribe(()=>{this._hideNonDialogContentFromAssistiveTechnology(c)}):this._hideNonDialogContentFromAssistiveTechnology(c)}return this._attachDialogContent(e,o,l,n),this.openDialogs.push(o),o.closed.subscribe(()=>this._removeOpenDialog(o,!0)),this.afterOpened.next(o),o}closeAll(){qE(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(n=>n.id===e)}ngOnDestroy(){qE(this._openDialogsAtThisLevel,e=>{e.config.closeOnDestroy===!1&&this._removeOpenDialog(e,!1)}),qE(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){let n=new mo({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(n.backdropClass=e.backdropClass),n}_attachContainer(e,n,r){let a=r.injector||r.viewContainerRef?.injector,s=[{provide:Cd,useValue:r},{provide:ab,useValue:n},{provide:ih,useValue:e}],o;r.container?typeof r.container=="function"?o=r.container:(o=r.container.type,s.push(...r.container.providers(r))):o=ZE;let l=new ml(o,r.viewContainerRef,Qe.create({parent:a||this._injector,providers:s}));return e.attach(l).instance}_attachDialogContent(e,n,r,a){if(e instanceof bi){let s=this._createInjector(a,n,r,void 0),o={$implicit:a.data,dialogRef:n};a.templateContext&&(o=f(f({},o),typeof a.templateContext=="function"?a.templateContext():a.templateContext)),r.attachTemplatePortal(new Wn(e,null,o,s))}else{let s=this._createInjector(a,n,r,this._injector),o=r.attachComponentPortal(new ml(e,a.viewContainerRef,s));n.componentRef=o,n.componentInstance=o.instance}}_createInjector(e,n,r,a){let s=e.injector||e.viewContainerRef?.injector,o=[{provide:Wie,useValue:e.data},{provide:ab,useValue:n}];return e.providers&&(typeof e.providers=="function"?o.push(...e.providers(n,e,r)):o.push(...e.providers)),e.direction&&(!s||!s.get(Ei,null,{optional:!0}))&&o.push({provide:Ei,useValue:{value:e.direction,change:Ie()}}),Qe.create({parent:s||a,providers:o})}_removeOpenDialog(e,n){let r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((a,s)=>{a?s.setAttribute("aria-hidden",a):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),n&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(e){if(e.parentElement){let n=e.parentElement.children;for(let r=n.length-1;r>-1;r--){let a=n[r];a!==e&&a.nodeName!=="SCRIPT"&&a.nodeName!=="STYLE"&&!a.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(a,a.getAttribute("aria-hidden")),a.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function qE(t,i){let e=t.length;for(;e--;)i(t[e])}var xj=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Se({type:t});static \u0275inj=De({providers:[QE],imports:[po,xs,oy,xs]})}return t})();function Yie(t,i){}var ob=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;width="";height="";minWidth;minHeight;maxWidth;maxHeight;position;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;delayFocusTrap=!0;scrollStrategy;closeOnNavigation=!0;componentFactoryResolver;enterAnimationDuration;exitAnimationDuration},XE="mdc-dialog--open",Cj="mdc-dialog--opening",wj="mdc-dialog--closing",Kie=150,qie=75,Mj=(()=>{class t extends ZE{_animationMode=x(Kt,{optional:!0});_animationStateChanged=new ie;_animationsEnabled=this._animationMode!=="NoopAnimations";_actionSectionCount=0;_hostElement=this._elementRef.nativeElement;_enterAnimationDuration=this._animationsEnabled?Sj(this._config.enterAnimationDuration)??Kie:0;_exitAnimationDuration=this._animationsEnabled?Sj(this._config.exitAnimationDuration)??qie:0;_animationTimer=null;_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(Dj,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Cj,XE)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(XE),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(XE),this._animationsEnabled?(this._hostElement.style.setProperty(Dj,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(wj)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(e){this._actionSectionCount+=e,this._changeDetectorRef.markForCheck()}_finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)};_finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})};_clearAnimationClasses(){this._hostElement.classList.remove(Cj,wj)}_waitForAnimationToComplete(e,n){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(n,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(e):e()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(e){let n=super.attachComponentPortal(e);return n.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),n}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Dt(t)))(r||t)}})();static \u0275cmp=Q({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(n,r){n&2&&(xa("id",r._config.id),Ee("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),me("_mat-animation-noopable",!r._animationsEnabled)("mat-mdc-dialog-container-with-actions",r._actionSectionCount>0))},features:[Ve],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(n,r){n&1&&(M(0,"div",0)(1,"div",1),ne(2,Yie,0,0,"ng-template",2),k()())},dependencies:[Aa],styles:[`.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 560px);min-width:var(--mat-dialog-container-min-width, 280px)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, calc(100vw - 32px))}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, none);border-radius:var(--mdc-dialog-container-shape, var(--mat-sys-corner-extra-large, 4px));background-color:var(--mdc-dialog-container-color, var(--mat-sys-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 6px 24px 13px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mdc-dialog-subhead-font, var(--mat-sys-headline-small-font, inherit));line-height:var(--mdc-dialog-subhead-line-height, var(--mat-sys-headline-small-line-height, 1.5rem));font-size:var(--mdc-dialog-subhead-size, var(--mat-sys-headline-small-size, 1rem));font-weight:var(--mdc-dialog-subhead-weight, var(--mat-sys-headline-small-weight, 400));letter-spacing:var(--mdc-dialog-subhead-tracking, var(--mat-sys-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, var(--mat-sys-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mdc-dialog-supporting-text-font, var(--mat-sys-body-medium-font, inherit));line-height:var(--mdc-dialog-supporting-text-line-height, var(--mat-sys-body-medium-line-height, 1.5rem));font-size:var(--mdc-dialog-supporting-text-size, var(--mat-sys-body-medium-size, 1rem));font-weight:var(--mdc-dialog-supporting-text-weight, var(--mat-sys-body-medium-weight, 400));letter-spacing:var(--mdc-dialog-supporting-text-tracking, var(--mat-sys-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px 0)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 16px 24px);justify-content:var(--mat-dialog-actions-alignment, flex-end)}@media(forced-colors: active){.mat-mdc-dialog-actions{border-top-color:CanvasText}}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}
`],encapsulation:2})}return t})(),Dj="--mat-dialog-transition-duration";function Sj(t){return t==null?null:typeof t=="number"?t:t.endsWith("ms")?Xo(t.substring(0,t.length-2)):t.endsWith("s")?Xo(t.substring(0,t.length-1))*1e3:t==="0"?0:null}var sb=function(t){return t[t.OPEN=0]="OPEN",t[t.CLOSING=1]="CLOSING",t[t.CLOSED=2]="CLOSED",t}(sb||{}),Yn=class{_ref;_containerInstance;componentInstance;componentRef;disableClose;id;_afterOpened=new se;_beforeClosed=new se;_result;_closeFallbackTimeout;_state=sb.OPEN;_closeInteractionType;constructor(i,e,n){this._ref=i,this._containerInstance=n,this.disableClose=e.disableClose,this.id=i.id,i.addPanelClass("mat-mdc-dialog-panel"),n._animationStateChanged.pipe(It(r=>r.state==="opened"),Yi(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),n._animationStateChanged.pipe(It(r=>r.state==="closed"),Yi(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),i.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),ri(this.backdropClick(),this.keydownEvents().pipe(It(r=>r.keyCode===27&&!this.disableClose&&!mi(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),Ij(this,r.type==="keydown"?"keyboard":"mouse"))})}close(i){this._result=i,this._containerInstance._animationStateChanged.pipe(It(e=>e.state==="closing"),Yi(1)).subscribe(e=>{this._beforeClosed.next(i),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=sb.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(i){let e=this._ref.config.positionStrategy;return i&&(i.left||i.right)?i.left?e.left(i.left):e.right(i.right):e.centerHorizontally(),i&&(i.top||i.bottom)?i.top?e.top(i.top):e.bottom(i.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(i="",e=""){return this._ref.updateSize(i,e),this}addPanelClass(i){return this._ref.addPanelClass(i),this}removePanelClass(i){return this._ref.removePanelClass(i),this}getState(){return this._state}_finishDialogClose(){this._state=sb.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function Ij(t,i,e){return t._closeInteractionType=i,t.close(e)}var ws=new G("MatMdcDialogData"),kj=new G("mat-mdc-dialog-default-options"),Aj=new G("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let t=x(Hi);return()=>t.scrollStrategies.block()}});var fo=(()=>{class t{_overlay=x(Hi);_defaultOptions=x(kj,{optional:!0});_scrollStrategy=x(Aj);_parentDialog=x(t,{optional:!0,skipSelf:!0});_idGenerator=x(ei);_dialog=x(QE);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new se;_afterOpenedAtThisLevel=new se;dialogConfigClass=ob;_dialogRefConstructor;_dialogContainerType;_dialogDataToken;get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}afterAllClosed=hs(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(yi(void 0)));constructor(){this._dialogRefConstructor=Yn,this._dialogContainerType=Mj,this._dialogDataToken=ws}open(e,n){let r;n=f(f({},this._defaultOptions||new ob),n),n.id=n.id||this._idGenerator.getId("mat-mdc-dialog-"),n.scrollStrategy=n.scrollStrategy||this._scrollStrategy();let a=this._dialog.open(e,S(f({},n),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:n},{provide:Cd,useValue:n}]},templateContext:()=>({dialogRef:r}),providers:(s,o,l)=>(r=new this._dialogRefConstructor(s,n,l),r.updatePosition(n?.position),[{provide:this._dialogContainerType,useValue:l},{provide:this._dialogDataToken,useValue:o.data},{provide:this._dialogRefConstructor,useValue:r}])}));return r.componentRef=a.componentRef,r.componentInstance=a.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{let s=this.openDialogs.indexOf(r);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(n=>n.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let n=e.length;for(;n--;)e[n].close()}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Zie=(()=>{class t{_dialogRef=x(Yn,{optional:!0});_elementRef=x(ge);_dialog=x(fo);constructor(){}ngOnInit(){this._dialogRef||(this._dialogRef=Qie(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t})}return t})();var la=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],features:[oN([A0])]})}return t})(),lb=(()=>{class t extends Zie{align;_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Dt(t)))(r||t)}})();static \u0275dir=Y({type:t,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(n,r){n&2&&me("mat-mdc-dialog-actions-align-start",r.align==="start")("mat-mdc-dialog-actions-align-center",r.align==="center")("mat-mdc-dialog-actions-align-end",r.align==="end")},inputs:{align:"align"},features:[Ve]})}return t})();function Qie(t,i){let e=t.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-mdc-dialog-container");)e=e.parentElement;return e?i.find(n=>n.id===e.id):null}var JE=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Se({type:t});static \u0275inj=De({providers:[fo],imports:[xj,po,xs,nt,nt]})}return t})();var wd=(()=>{class t{constructor(e){this.storageService=e,this.eventTypes=[{name:"Conv\xEDvio",color:"#00ff00"},{name:"Reuni\xE3o",color:"#0000ff"},{name:"Prazo",color:"#ff0000"},{name:"Jantar de Curso",color:"#00ffff"}]}getEvents(){return this.storageService.getData("events").pipe(Re(e=>{var n=[];for(var r in e){var a=e[r];a.id=r,n.push(a)}return n}))}getEventsForDay(e){return this.getEvents().pipe(Re(n=>{var r=n.filter(a=>{var s=new Date(a.data);return s.getDate()===e.getDate()&&s.getMonth()===e.getMonth()&&s.getFullYear()===e.getFullYear()});return r}))}getEventType(e){return this.eventTypes[e]}getEventTypes(){return this.eventTypes}addEvent(e){return this.storageService.pushData("events",e)}deleteEvent(e){return this.storageService.deleteData(`events/${e.id}`)}static{this.\u0275fac=function(n){return new(n||t)(Te(_d))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Dd=(()=>{class t{constructor(e){this.breakpointObserver=e}getGenericDialogConfig(){let e={},n=this.breakpointObserver.isMatched("(max-width: 599px)"),r=this.breakpointObserver.isMatched("(min-width: 600px) and (max-width: 1400px)");return n?e={width:"90vw",maxWidth:"none"}:r?e={width:"60vw",maxWidth:"none"}:!n&&!r?e={width:"60vw",maxWidth:"800px"}:e={width:"600px"},e}static{this.\u0275fac=function(n){return new(n||t)(Te(eo))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var eT=new G("CdkAccordion"),Ej=(()=>{class t{_stateChanges=new se;_openCloseAllActions=new se;id=x(ei).getId("cdk-accordion-");multi=!1;openAll(){this.multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(e){this._stateChanges.next(e)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:[2,"multi","multi",re]},exportAs:["cdkAccordion"],features:[Ye([{provide:eT,useExisting:t}]),_t]})}return t})(),Tj=(()=>{class t{accordion=x(eT,{optional:!0,skipSelf:!0});_changeDetectorRef=x(st);_expansionDispatcher=x(iy);_openCloseAllSubscription=xt.EMPTY;closed=new ie;opened=new ie;destroyed=new ie;expandedChange=new ie;id=x(ei).getId("cdk-accordion-child-");get expanded(){return this._expanded}set expanded(e){if(this._expanded!==e){if(this._expanded=e,this.expandedChange.emit(e),e){this.opened.emit();let n=this.accordion?this.accordion.id:this.id;this._expansionDispatcher.notify(this.id,n)}else this.closed.emit();this._changeDetectorRef.markForCheck()}}_expanded=!1;disabled=!1;_removeUniqueSelectionListener=()=>{};constructor(){}ngOnInit(){this._removeUniqueSelectionListener=this._expansionDispatcher.listen((e,n)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===n&&this.id!==e&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(e=>{this.disabled||(this.expanded=e)})}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:[2,"expanded","expanded",re],disabled:[2,"disabled","disabled",re]},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[Ye([{provide:eT,useValue:void 0}])]})}return t})(),Rj=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Se({type:t});static \u0275inj=De({})}return t})();var Xie=["body"],Jie=["bodyWrapper"],ene=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],tne=["mat-expansion-panel-header","*","mat-action-row"];function ine(t,i){}var nne=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],rne=["mat-panel-title","mat-panel-description","*"];function ane(t,i){t&1&&(M(0,"span",1),Ai(),M(1,"svg",2),ae(2,"path",3),k()())}var tT=new G("MAT_ACCORDION"),Oj=new G("MAT_EXPANSION_PANEL"),sne=(()=>{class t{_template=x(bi);_expansionPanel=x(Oj,{optional:!0});constructor(){}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["ng-template","matExpansionPanelContent",""]]})}return t})(),Lj=new G("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS"),nh=(()=>{class t extends Tj{_viewContainerRef=x(vi);_animationsDisabled=x(Kt,{optional:!0})==="NoopAnimations";_document=x(Ue);_ngZone=x(we);_elementRef=x(ge);_renderer=x(Qt);_cleanupTransitionEnd;get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(e){this._hideToggle=e}_hideToggle=!1;get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(e){this._togglePosition=e}_togglePosition;afterExpand=new ie;afterCollapse=new ie;_inputChanges=new se;accordion=x(tT,{optional:!0,skipSelf:!0});_lazyContent;_body;_bodyWrapper;_portal;_headerId=x(ei).getId("mat-expansion-panel-header-");constructor(){super();let e=x(Lj,{optional:!0});this._expansionDispatcher=x(iy),e&&(this.hideToggle=e.hideToggle)}_hasSpacing(){return this.accordion?this.expanded&&this.accordion.displayMode==="default":!1}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(yi(null),It(()=>this.expanded&&!this._portal),Yi(1)).subscribe(()=>{this._portal=new Wn(this._lazyContent._template,this._viewContainerRef)}),this._setupAnimationEvents()}ngOnChanges(e){this._inputChanges.next(e)}ngOnDestroy(){super.ngOnDestroy(),this._cleanupTransitionEnd?.(),this._inputChanges.complete()}_containsFocus(){if(this._body){let e=this._document.activeElement,n=this._body.nativeElement;return e===n||n.contains(e)}return!1}_transitionEndListener=({target:e,propertyName:n})=>{e===this._bodyWrapper?.nativeElement&&n==="grid-template-rows"&&this._ngZone.run(()=>{this.expanded?this.afterExpand.emit():this.afterCollapse.emit()})};_setupAnimationEvents(){this._ngZone.runOutsideAngular(()=>{this._animationsDisabled?(this.opened.subscribe(()=>this._ngZone.run(()=>this.afterExpand.emit())),this.closed.subscribe(()=>this._ngZone.run(()=>this.afterCollapse.emit()))):setTimeout(()=>{let e=this._elementRef.nativeElement;this._cleanupTransitionEnd=this._renderer.listen(e,"transitionend",this._transitionEndListener),e.classList.add("mat-expansion-panel-animations-enabled")},200)})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Q({type:t,selectors:[["mat-expansion-panel"]],contentQueries:function(n,r,a){if(n&1&&Et(a,sne,5),n&2){let s;be(s=ve())&&(r._lazyContent=s.first)}},viewQuery:function(n,r){if(n&1&&(Xe(Xie,5),Xe(Jie,5)),n&2){let a;be(a=ve())&&(r._body=a.first),be(a=ve())&&(r._bodyWrapper=a.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:4,hostBindings:function(n,r){n&2&&me("mat-expanded",r.expanded)("mat-expansion-panel-spacing",r._hasSpacing())},inputs:{hideToggle:[2,"hideToggle","hideToggle",re],togglePosition:"togglePosition"},outputs:{afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[Ye([{provide:tT,useValue:void 0},{provide:Oj,useExisting:t}]),Ve,_t],ngContentSelectors:tne,decls:9,vars:4,consts:[["bodyWrapper",""],["body",""],[1,"mat-expansion-panel-content-wrapper"],["role","region",1,"mat-expansion-panel-content",3,"id"],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(n,r){n&1&&(mt(ene),ke(0),M(1,"div",2,0)(3,"div",3,1)(5,"div",4),ke(6,1),ne(7,ine,0,0,"ng-template",5),k(),ke(8,2),k()()),n&2&&(T(),Ee("inert",r.expanded?null:""),T(2),W("id",r.id),Ee("aria-labelledby",r._headerId),T(4),W("cdkPortalOutlet",r._portal))},dependencies:[Aa],styles:[`.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;overflow:hidden;position:relative;background:var(--mat-expansion-container-background-color, var(--mat-sys-surface));color:var(--mat-expansion-container-text-color, var(--mat-sys-on-surface));border-radius:var(--mat-expansion-container-shape, 12px)}.mat-expansion-panel.mat-expansion-panel-animations-enabled{transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:var(--mat-expansion-container-shape, 12px);border-top-left-radius:var(--mat-expansion-container-shape, 12px)}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:var(--mat-expansion-container-shape, 12px);border-bottom-left-radius:var(--mat-expansion-container-shape, 12px)}@media(forced-colors: active){.mat-expansion-panel{outline:solid 1px}}.mat-expansion-panel-content-wrapper{display:grid;grid-template-rows:0fr;grid-template-columns:100%}.mat-expansion-panel-animations-enabled .mat-expansion-panel-content-wrapper{transition:grid-template-rows 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel.mat-expanded>.mat-expansion-panel-content-wrapper{grid-template-rows:1fr}@supports not (grid-template-rows: 0fr){.mat-expansion-panel-content-wrapper{height:0}.mat-expansion-panel.mat-expanded>.mat-expansion-panel-content-wrapper{height:auto}}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible;min-height:0;visibility:hidden;font-family:var(--mat-expansion-container-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-expansion-container-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-expansion-container-text-weight, var(--mat-sys-body-large-weight));line-height:var(--mat-expansion-container-text-line-height, var(--mat-sys-body-large-line-height));letter-spacing:var(--mat-expansion-container-text-tracking, var(--mat-sys-body-large-tracking))}.mat-expansion-panel-animations-enabled .mat-expansion-panel-content{transition:visibility 190ms linear}.mat-expansion-panel.mat-expanded>.mat-expansion-panel-content-wrapper>.mat-expansion-panel-content{visibility:visible}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px;border-top-color:var(--mat-expansion-actions-divider-color, var(--mat-sys-outline))}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}
`],encapsulation:2,changeDetection:0})}return t})();var rh=(()=>{class t{panel=x(nh,{host:!0});_element=x(ge);_focusMonitor=x(gs);_changeDetectorRef=x(st);_parentChangeSubscription=xt.EMPTY;constructor(){x(_i).load(Nr);let e=this.panel,n=x(Lj,{optional:!0}),r=x(new ea("tabindex"),{optional:!0}),a=e.accordion?e.accordion._stateChanges.pipe(It(s=>!!(s.hideToggle||s.togglePosition))):Qr;this.tabIndex=parseInt(r||"")||0,this._parentChangeSubscription=ri(e.opened,e.closed,a,e._inputChanges.pipe(It(s=>!!(s.hideToggle||s.disabled||s.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),e.closed.pipe(It(()=>e._containsFocus())).subscribe(()=>this._focusMonitor.focusVia(this._element,"program")),n&&(this.expandedHeight=n.expandedHeight,this.collapsedHeight=n.collapsedHeight)}expandedHeight;collapsedHeight;tabIndex=0;get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){let e=this._isExpanded();return e&&this.expandedHeight?this.expandedHeight:!e&&this.collapsedHeight?this.collapsedHeight:null}_keydown(e){switch(e.keyCode){case 32:case 13:mi(e)||(e.preventDefault(),this._toggle());break;default:this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(e);return}}focus(e,n){e?this._focusMonitor.focusVia(this._element,e,n):this._element.nativeElement.focus(n)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(e=>{e&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Q({type:t,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:13,hostBindings:function(n,r){n&1&&X("click",function(){return r._toggle()})("keydown",function(s){return r._keydown(s)}),n&2&&(Ee("id",r.panel._headerId)("tabindex",r.disabled?-1:r.tabIndex)("aria-controls",r._getPanelId())("aria-expanded",r._isExpanded())("aria-disabled",r.panel.disabled),Ys("height",r._getHeaderHeight()),me("mat-expanded",r._isExpanded())("mat-expansion-toggle-indicator-after",r._getTogglePosition()==="after")("mat-expansion-toggle-indicator-before",r._getTogglePosition()==="before"))},inputs:{expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight",tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:Ga(e)]},ngContentSelectors:rne,decls:5,vars:3,consts:[[1,"mat-content"],[1,"mat-expansion-indicator"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","aria-hidden","true","focusable","false"],["d","M480-345 240-585l56-56 184 184 184-184 56 56-240 240Z"]],template:function(n,r){n&1&&(mt(nne),M(0,"span",0),ke(1),ke(2,1),ke(3,2),k(),ne(4,ane,3,0,"span",1)),n&2&&(me("mat-content-hide-toggle",!r._showToggle()),T(4),kt(r._showToggle()?4:-1))},styles:[`.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;height:var(--mat-expansion-header-collapsed-state-height, 48px);font-family:var(--mat-expansion-header-text-font, var(--mat-sys-title-medium-font));font-size:var(--mat-expansion-header-text-size, var(--mat-sys-title-medium-size));font-weight:var(--mat-expansion-header-text-weight, var(--mat-sys-title-medium-weight));line-height:var(--mat-expansion-header-text-line-height, var(--mat-sys-title-medium-line-height));letter-spacing:var(--mat-expansion-header-text-tracking, var(--mat-sys-title-medium-tracking))}.mat-expansion-panel-animations-enabled .mat-expansion-panel-header{transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header::before{border-radius:inherit}.mat-expansion-panel-header.mat-expanded{height:var(--mat-expansion-header-expanded-state-height, 64px)}.mat-expansion-panel-header[aria-disabled=true]{color:var(--mat-expansion-header-disabled-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-header-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}@media(hover: none){.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-container-background-color, var(--mat-sys-surface))}}.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-keyboard-focused,.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-program-focused{background:var(--mat-expansion-header-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent))}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title{color:var(--mat-expansion-header-text-color, var(--mat-sys-on-surface))}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-title,.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-description{color:inherit}.mat-expansion-panel-header-description{flex-grow:2;color:var(--mat-expansion-header-description-color, var(--mat-sys-on-surface-variant))}.mat-expansion-panel-animations-enabled .mat-expansion-indicator{transition:transform 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header.mat-expanded .mat-expansion-indicator{transform:rotate(180deg)}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle;color:var(--mat-expansion-header-indicator-color, var(--mat-sys-on-surface-variant));display:var(--mat-expansion-legacy-header-indicator-display, none)}.mat-expansion-indicator svg{width:24px;height:24px;margin:0 -8px;vertical-align:middle;fill:var(--mat-expansion-header-indicator-color, var(--mat-sys-on-surface-variant));display:var(--mat-expansion-header-indicator-display, inline-block)}@media(forced-colors: active){.mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}}
`],encapsulation:2,changeDetection:0})}return t})(),bC=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["mat-panel-description"]],hostAttrs:[1,"mat-expansion-panel-header-description"]})}return t})(),Sp=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]})}return t})(),Mp=(()=>{class t extends Ej{_keyManager;_ownHeaders=new Vl;_headers;hideToggle=!1;displayMode="default";togglePosition="after";ngAfterContentInit(){this._headers.changes.pipe(yi(this._headers)).subscribe(e=>{this._ownHeaders.reset(e.filter(n=>n.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new Kl(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(e){this._keyManager.onKeydown(e)}_handleHeaderFocus(e){this._keyManager.updateActiveItem(e)}ngOnDestroy(){super.ngOnDestroy(),this._keyManager?.destroy(),this._ownHeaders.destroy()}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Dt(t)))(r||t)}})();static \u0275dir=Y({type:t,selectors:[["mat-accordion"]],contentQueries:function(n,r,a){if(n&1&&Et(a,rh,5),n&2){let s;be(s=ve())&&(r._headers=s)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(n,r){n&2&&me("mat-accordion-multi",r.multi)},inputs:{hideToggle:[2,"hideToggle","hideToggle",re],displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[Ye([{provide:tT,useExisting:t}]),Ve]})}return t})(),Nj=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Se({type:t});static \u0275inj=De({imports:[nt,Rj,xs]})}return t})();var vC;function one(){if(vC===void 0&&(vC=null,typeof window<"u")){let t=window;t.trustedTypes!==void 0&&(vC=t.trustedTypes.createPolicy("angular#components",{createHTML:i=>i}))}return vC}function cb(t){return one()?.createHTML(t)||t}function Pj(t){return Error(`Unable to find icon with the name "${t}"`)}function lne(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function Fj(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function Vj(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}var rc=class{url;svgText;options;svgElement;constructor(i,e,n){this.url=i,this.svgText=e,this.options=n}},jj=(()=>{class t{_httpClient;_sanitizer;_errorHandler;_document;_svgIconConfigs=new Map;_iconSetConfigs=new Map;_cachedIconsByUrl=new Map;_inProgressUrlFetches=new Map;_fontCssClassesByAlias=new Map;_resolvers=[];_defaultFontSetClass=["material-icons","mat-ligature-font"];constructor(e,n,r,a){this._httpClient=e,this._sanitizer=n,this._errorHandler=a,this._document=r}addSvgIcon(e,n,r){return this.addSvgIconInNamespace("",e,n,r)}addSvgIconLiteral(e,n,r){return this.addSvgIconLiteralInNamespace("",e,n,r)}addSvgIconInNamespace(e,n,r,a){return this._addSvgIconConfig(e,n,new rc(r,null,a))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,n,r,a){let s=this._sanitizer.sanitize(Ua.HTML,r);if(!s)throw Vj(r);let o=cb(s);return this._addSvgIconConfig(e,n,new rc("",o,a))}addSvgIconSet(e,n){return this.addSvgIconSetInNamespace("",e,n)}addSvgIconSetLiteral(e,n){return this.addSvgIconSetLiteralInNamespace("",e,n)}addSvgIconSetInNamespace(e,n,r){return this._addSvgIconSetConfig(e,new rc(n,null,r))}addSvgIconSetLiteralInNamespace(e,n,r){let a=this._sanitizer.sanitize(Ua.HTML,n);if(!a)throw Vj(n);let s=cb(a);return this._addSvgIconSetConfig(e,new rc("",s,r))}registerFontClassAlias(e,n=e){return this._fontCssClassesByAlias.set(e,n),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){let n=this._sanitizer.sanitize(Ua.RESOURCE_URL,e);if(!n)throw Fj(e);let r=this._cachedIconsByUrl.get(n);return r?Ie(_C(r)):this._loadSvgIconFromConfig(new rc(e,null)).pipe(Ki(a=>this._cachedIconsByUrl.set(n,a)),Re(a=>_C(a)))}getNamedSvgIcon(e,n=""){let r=Bj(n,e),a=this._svgIconConfigs.get(r);if(a)return this._getSvgFromConfig(a);if(a=this._getIconConfigFromResolvers(n,e),a)return this._svgIconConfigs.set(r,a),this._getSvgFromConfig(a);let s=this._iconSetConfigs.get(n);return s?this._getSvgFromIconSetConfigs(e,s):hu(Pj(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?Ie(_C(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(Re(n=>_C(n)))}_getSvgFromIconSetConfigs(e,n){let r=this._extractIconWithNameFromAnySet(e,n);if(r)return Ie(r);let a=n.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(za(o=>{let c=`Loading icon set URL: ${this._sanitizer.sanitize(Ua.RESOURCE_URL,s.url)} failed: ${o.message}`;return this._errorHandler.handleError(new Error(c)),Ie(null)})));return p_(a).pipe(Re(()=>{let s=this._extractIconWithNameFromAnySet(e,n);if(!s)throw Pj(e);return s}))}_extractIconWithNameFromAnySet(e,n){for(let r=n.length-1;r>=0;r--){let a=n[r];if(a.svgText&&a.svgText.toString().indexOf(e)>-1){let s=this._svgElementFromConfig(a),o=this._extractSvgIconFromSet(s,e,a.options);if(o)return o}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(Ki(n=>e.svgText=n),Re(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?Ie(null):this._fetchIcon(e).pipe(Ki(n=>e.svgText=n))}_extractSvgIconFromSet(e,n,r){let a=e.querySelector(`[id="${n}"]`);if(!a)return null;let s=a.cloneNode(!0);if(s.removeAttribute("id"),s.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(s,r);if(s.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(s),r);let o=this._svgElementFromString(cb("<svg></svg>"));return o.appendChild(s),this._setSvgAttributes(o,r)}_svgElementFromString(e){let n=this._document.createElement("DIV");n.innerHTML=e;let r=n.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){let n=this._svgElementFromString(cb("<svg></svg>")),r=e.attributes;for(let a=0;a<r.length;a++){let{name:s,value:o}=r[a];s!=="id"&&n.setAttribute(s,o)}for(let a=0;a<e.childNodes.length;a++)e.childNodes[a].nodeType===this._document.ELEMENT_NODE&&n.appendChild(e.childNodes[a].cloneNode(!0));return n}_setSvgAttributes(e,n){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),n&&n.viewBox&&e.setAttribute("viewBox",n.viewBox),e}_fetchIcon(e){let{url:n,options:r}=e,a=r?.withCredentials??!1;if(!this._httpClient)throw lne();if(n==null)throw Error(`Cannot fetch icon from URL "${n}".`);let s=this._sanitizer.sanitize(Ua.RESOURCE_URL,n);if(!s)throw Fj(n);let o=this._inProgressUrlFetches.get(s);if(o)return o;let l=this._httpClient.get(s,{responseType:"text",withCredentials:a}).pipe(Re(c=>cb(c)),mu(()=>this._inProgressUrlFetches.delete(s)),BL());return this._inProgressUrlFetches.set(s,l),l}_addSvgIconConfig(e,n,r){return this._svgIconConfigs.set(Bj(e,n),r),this}_addSvgIconSetConfig(e,n){let r=this._iconSetConfigs.get(e);return r?r.push(n):this._iconSetConfigs.set(e,[n]),this}_svgElementFromConfig(e){if(!e.svgElement){let n=this._svgElementFromString(e.svgText);this._setSvgAttributes(n,e.options),e.svgElement=n}return e.svgElement}_getIconConfigFromResolvers(e,n){for(let r=0;r<this._resolvers.length;r++){let a=this._resolvers[r](n,e);if(a)return cne(a)?new rc(a.url,null,a.options):new rc(a,null)}}static \u0275fac=function(n){return new(n||t)(Te(MM,8),Te(AM),Te(Ue,8),Te(Yc))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function _C(t){return t.cloneNode(!0)}function Bj(t,i){return t+":"+i}function cne(t){return!!(t.url&&t.options)}var dne=["*"],une=new G("MAT_ICON_DEFAULT_OPTIONS"),hne=new G("mat-icon-location",{providedIn:"root",factory:mne});function mne(){let t=x(Ue),i=t?t.location:null;return{getPathname:()=>i?i.pathname+i.search:""}}var zj=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],pne=zj.map(t=>`[${t}]`).join(", "),fne=/^url\(['"]?#(.*?)['"]?\)$/,Pr=(()=>{class t{_elementRef=x(ge);_iconRegistry=x(jj);_location=x(hne);_errorHandler=x(Yc);_defaultColor;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;inline=!1;get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}_svgIcon;get fontSet(){return this._fontSet}set fontSet(e){let n=this._cleanupFontValue(e);n!==this._fontSet&&(this._fontSet=n,this._updateFontIconClasses())}_fontSet;get fontIcon(){return this._fontIcon}set fontIcon(e){let n=this._cleanupFontValue(e);n!==this._fontIcon&&(this._fontIcon=n,this._updateFontIconClasses())}_fontIcon;_previousFontSetClass=[];_previousFontIconClass;_svgName;_svgNamespace;_previousPath;_elementsWithExternalReferences;_currentIconFetch=xt.EMPTY;constructor(){let e=x(new ea("aria-hidden"),{optional:!0}),n=x(une,{optional:!0});n&&(n.color&&(this.color=this._defaultColor=n.color),n.fontSet&&(this.fontSet=n.fontSet)),e||this._elementRef.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];let n=e.split(":");switch(n.length){case 1:return["",n[0]];case 2:return n;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let e=this._elementsWithExternalReferences;if(e&&e.size){let n=this._location.getPathname();n!==this._previousPath&&(this._previousPath=n,this._prependPathToReferences(n))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();let n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){let e=this._elementRef.nativeElement,n=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();n--;){let r=e.childNodes[n];(r.nodeType!==1||r.nodeName.toLowerCase()==="svg")&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let e=this._elementRef.nativeElement,n=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),n.forEach(r=>e.classList.add(r)),this._previousFontSetClass=n,this.fontIcon!==this._previousFontIconClass&&!n.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return typeof e=="string"?e.trim().split(" ")[0]:e}_prependPathToReferences(e){let n=this._elementsWithExternalReferences;n&&n.forEach((r,a)=>{r.forEach(s=>{a.setAttribute(s.name,`url('${e}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(e){let n=e.querySelectorAll(pne),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let a=0;a<n.length;a++)zj.forEach(s=>{let o=n[a],l=o.getAttribute(s),c=l?l.match(fne):null;if(c){let d=r.get(o);d||(d=[],r.set(o,d)),d.push({name:s,value:c[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){let[n,r]=this._splitIconName(e);n&&(this._svgNamespace=n),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,n).pipe(Yi(1)).subscribe(a=>this._setSvgElement(a),a=>{let s=`Error retrieving icon ${n}:${r}! ${a.message}`;this._errorHandler.handleError(new Error(s))})}}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Q({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(n,r){n&2&&(Ee("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),jn(r.color?"mat-"+r.color:""),me("mat-icon-inline",r.inline)("mat-icon-no-color",r.color!=="primary"&&r.color!=="accent"&&r.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",re],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],ngContentSelectors:dne,decls:1,vars:0,template:function(n,r){n&1&&(mt(),ke(0))},styles:[`mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color, inherit)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}
`],encapsulation:2,changeDetection:0})}return t})(),Uj=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Se({type:t});static \u0275inj=De({imports:[nt,nt]})}return t})();var gne={capture:!0},yne=["focus","mousedown","mouseenter","touchstart"],nT="mat-ripple-loader-uninitialized",rT="mat-ripple-loader-class-name",Hj="mat-ripple-loader-centered",xC="mat-ripple-loader-disabled",Gj=(()=>{class t{_document=x(Ue);_animationMode=x(Kt,{optional:!0});_globalRippleOptions=x(_p,{optional:!0});_platform=x(Pt);_ngZone=x(we);_injector=x(Qe);_eventCleanups;_hosts=new Map;constructor(){let e=x(pr).createRenderer(null,null);this._eventCleanups=this._ngZone.runOutsideAngular(()=>yne.map(n=>Ti(e,this._document,n,this._onInteraction,gne)))}ngOnDestroy(){let e=this._hosts.keys();for(let n of e)this.destroyRipple(n);this._eventCleanups.forEach(n=>n())}configureRipple(e,n){e.setAttribute(nT,this._globalRippleOptions?.namespace??""),(n.className||!e.hasAttribute(rT))&&e.setAttribute(rT,n.className||""),n.centered&&e.setAttribute(Hj,""),n.disabled&&e.setAttribute(xC,"")}setDisabled(e,n){let r=this._hosts.get(e);r?(r.target.rippleDisabled=n,!n&&!r.hasSetUpEvents&&(r.hasSetUpEvents=!0,r.renderer.setupTriggerEvents(e))):n?e.setAttribute(xC,""):e.removeAttribute(xC)}_onInteraction=e=>{let n=gr(e);if(n instanceof HTMLElement){let r=n.closest(`[${nT}="${this._globalRippleOptions?.namespace??""}"]`);r&&this._createRipple(r)}};_createRipple(e){if(!this._document||this._hosts.has(e))return;e.querySelector(".mat-ripple")?.remove();let n=this._document.createElement("span");n.classList.add("mat-ripple",e.getAttribute(rT)),e.append(n);let r=this._animationMode==="NoopAnimations",a=this._globalRippleOptions,s=r?0:a?.animation?.enterDuration??nb.enterDuration,o=r?0:a?.animation?.exitDuration??nb.exitDuration,l={rippleDisabled:r||a?.disabled||e.hasAttribute(xC),rippleConfig:{centered:e.hasAttribute(Hj),terminateOnPointerUp:a?.terminateOnPointerUp,animation:{enterDuration:s,exitDuration:o}}},c=new Ju(l,this._ngZone,n,this._platform,this._injector),d=!l.rippleDisabled;d&&c.setupTriggerEvents(e),this._hosts.set(e,{target:l,renderer:c,hasSetUpEvents:d}),e.removeAttribute(nT)}destroyRipple(e){let n=this._hosts.get(e);n&&(n.renderer._removeTriggerEvents(),this._hosts.delete(e))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var bne=["mat-icon-button",""],vne=["*"];var _ne=new G("MAT_BUTTON_CONFIG");var xne=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],db=(()=>{class t{_elementRef=x(ge);_ngZone=x(we);_animationMode=x(Kt,{optional:!0});_focusMonitor=x(gs);_rippleLoader=x(Gj);_isFab=!1;color;get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=e,this._updateRippleDisabled()}_disableRipple=!1;get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._updateRippleDisabled()}_disabled=!1;ariaDisabled;disabledInteractive;constructor(){x(_i).load(Nr);let e=x(_ne,{optional:!0}),n=this._elementRef.nativeElement,r=n.classList;this.disabledInteractive=e?.disabledInteractive??!1,this.color=e?.color??null,this._rippleLoader?.configureRipple(n,{className:"mat-mdc-button-ripple"});for(let{attribute:a,mdcClasses:s}of xne)n.hasAttribute(a)&&r.add(...s)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(e="program",n){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,n):this._elementRef.nativeElement.focus(n)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",re],disabled:[2,"disabled","disabled",re],ariaDisabled:[2,"aria-disabled","ariaDisabled",re],disabledInteractive:[2,"disabledInteractive","disabledInteractive",re]}})}return t})();var lr=(()=>{class t extends db{constructor(){super(),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Q({type:t,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(n,r){n&2&&(Ee("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),jn(r.color?"mat-"+r.color:""),me("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable",r._animationMode==="NoopAnimations")("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[Ve],attrs:bne,ngContentSelectors:vne,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,r){n&1&&(mt(),ae(0,"span",0),ke(1),ae(2,"span",1)(3,"span",2))},styles:[`.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 40px);height:var(--mdc-icon-button-state-layer-size, 40px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 40px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size, 24px);color:var(--mdc-icon-button-icon-color, var(--mat-sys-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-icon-button:focus>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface-variant) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-icon-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display, block)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size, 24px);height:var(--mdc-icon-button-icon-size, 24px);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0})}return t})();var Md=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Se({type:t});static \u0275inj=De({imports:[nt,nt]})}return t})();var Cne=["mat-button",""],aT=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],sT=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var wne=["mat-fab",""],Dne=["mat-mini-fab",""],Sne=`.mat-mdc-fab-base{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1);flex-shrink:0;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-fab-base .mat-mdc-button-ripple,.mat-mdc-fab-base .mat-mdc-button-persistent-ripple,.mat-mdc-fab-base .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab-base .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-fab-base .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-fab-base .mdc-button__label,.mat-mdc-fab-base .mat-icon{z-index:1;position:relative}.mat-mdc-fab-base .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab-base:focus>.mat-focus-indicator::before{content:""}.mat-mdc-fab-base._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab-base::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-fab-base[hidden]{display:none}.mat-mdc-fab-base::-moz-focus-inner{padding:0;border:0}.mat-mdc-fab-base:active,.mat-mdc-fab-base:focus{outline:none}.mat-mdc-fab-base:hover{cursor:pointer}.mat-mdc-fab-base>svg{width:100%}.mat-mdc-fab-base .mat-icon,.mat-mdc-fab-base .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab-base .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-fab-base[disabled],.mat-mdc-fab-base.mat-mdc-button-disabled{cursor:default;pointer-events:none}.mat-mdc-fab-base[disabled],.mat-mdc-fab-base[disabled]:focus,.mat-mdc-fab-base.mat-mdc-button-disabled,.mat-mdc-fab-base.mat-mdc-button-disabled:focus{box-shadow:none}.mat-mdc-fab-base.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-fab{background-color:var(--mdc-fab-container-color, var(--mat-sys-primary-container));border-radius:var(--mdc-fab-container-shape, var(--mat-sys-corner-large));color:var(--mat-fab-foreground-color, var(--mat-sys-on-primary-container, inherit));box-shadow:var(--mdc-fab-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-fab:hover{box-shadow:var(--mdc-fab-hover-container-elevation-shadow, var(--mat-sys-level4))}.mat-mdc-fab:focus{box-shadow:var(--mdc-fab-focus-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-fab:active,.mat-mdc-fab:focus:active{box-shadow:var(--mdc-fab-pressed-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-fab[disabled],.mat-mdc-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-fab-disabled-state-foreground-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-fab-disabled-state-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-fab-touch-target-display, block)}.mat-mdc-fab .mat-ripple-element{background-color:var(--mat-fab-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary-container) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-state-layer-color, var(--mat-sys-on-primary-container))}.mat-mdc-fab.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-disabled-state-layer-color)}.mat-mdc-fab:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-fab.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-fab.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-fab.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-fab:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-mini-fab{width:40px;height:40px;background-color:var(--mdc-fab-small-container-color, var(--mat-sys-primary-container));border-radius:var(--mdc-fab-small-container-shape, var(--mat-sys-corner-medium));color:var(--mat-fab-small-foreground-color, var(--mat-sys-on-primary-container, inherit));box-shadow:var(--mdc-fab-small-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-mini-fab:hover{box-shadow:var(--mdc-fab-small-hover-container-elevation-shadow, var(--mat-sys-level4))}.mat-mdc-mini-fab:focus{box-shadow:var(--mdc-fab-small-focus-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:var(--mdc-fab-small-pressed-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-mini-fab[disabled],.mat-mdc-mini-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-fab-small-disabled-state-foreground-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-fab-small-disabled-state-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-fab-small-touch-target-display)}.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-fab-small-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary-container) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-small-state-layer-color, var(--mat-sys-on-primary-container))}.mat-mdc-mini-fab.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-small-disabled-state-layer-color)}.mat-mdc-mini-fab:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-mini-fab.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-mini-fab:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-extended-fab{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;line-height:normal;height:var(--mdc-extended-fab-container-height, 56px);border-radius:var(--mdc-extended-fab-container-shape, var(--mat-sys-corner-large));font-family:var(--mdc-extended-fab-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-extended-fab-label-text-size, var(--mat-sys-label-large-size));font-weight:var(--mdc-extended-fab-label-text-weight, var(--mat-sys-label-large-weight));letter-spacing:var(--mdc-extended-fab-label-text-tracking, var(--mat-sys-label-large-tracking));box-shadow:var(--mdc-extended-fab-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-extended-fab:hover{box-shadow:var(--mdc-extended-fab-hover-container-elevation-shadow, var(--mat-sys-level4))}.mat-mdc-extended-fab:focus{box-shadow:var(--mdc-extended-fab-focus-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-extended-fab:active,.mat-mdc-extended-fab:focus:active{box-shadow:var(--mdc-extended-fab-pressed-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-extended-fab[disabled],.mat-mdc-extended-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none}.mat-mdc-extended-fab[disabled],.mat-mdc-extended-fab[disabled]:focus,.mat-mdc-extended-fab.mat-mdc-button-disabled,.mat-mdc-extended-fab.mat-mdc-button-disabled:focus{box-shadow:none}.mat-mdc-extended-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:-8px;margin-right:12px}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons,[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons{margin-left:12px;margin-right:-8px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}
`,br=(()=>{class t extends db{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Dt(t)))(r||t)}})();static \u0275cmp=Q({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(n,r){n&2&&(Ee("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),jn(r.color?"mat-"+r.color:""),me("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable",r._animationMode==="NoopAnimations")("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[Ve],attrs:Cne,ngContentSelectors:sT,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,r){n&1&&(mt(aT),ae(0,"span",0),ke(1),M(2,"span",1),ke(3,1),k(),ke(4,2),ae(5,"span",2)(6,"span",3)),n&2&&me("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:[`.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 12px);height:var(--mdc-text-button-container-height, 40px);font-family:var(--mdc-text-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-sys-label-large-weight))}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-sys-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 16px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display, block)}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-filled-button-container-height, 40px);font-family:var(--mdc-filled-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-filled-button-horizontal-padding, 24px)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-sys-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-unelevated-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display, block)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-sys-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-sys-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-filled-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-sys-level1));height:var(--mdc-protected-button-container-height, 40px);font-family:var(--mdc-protected-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-protected-button-horizontal-padding, 24px)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-raised-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-raised-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display, block)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-sys-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-sys-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-sys-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-protected-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-sys-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-outlined-button-container-height, 40px);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-sys-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-sys-corner-full));border-width:var(--mdc-outlined-button-outline-width, 1px);padding:0 var(--mat-outlined-button-horizontal-padding, 24px)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-outlined-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-outlined-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display, block)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-sys-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-sys-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:var(--mdc-outlined-button-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-focus-indicator,.mat-mdc-unelevated-button .mat-focus-indicator,.mat-mdc-raised-button .mat-focus-indicator,.mat-mdc-outlined-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-button:focus>.mat-focus-indicator::before,.mat-mdc-unelevated-button:focus>.mat-focus-indicator::before,.mat-mdc-raised-button:focus>.mat-focus-indicator::before,.mat-mdc-outlined-button:focus>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-focus-indicator::before,.mat-mdc-raised-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0})}return t})();var Wj=new G("mat-mdc-fab-default-options",{providedIn:"root",factory:$j});function $j(){return{color:"accent"}}var CC=$j(),Yj=(()=>{class t extends db{_options=x(Wj,{optional:!0});_isFab=!0;extended;constructor(){super(),this._options=this._options||CC,this.color=this._options.color||CC.color}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Q({type:t,selectors:[["button","mat-fab",""]],hostVars:18,hostBindings:function(n,r){n&2&&(Ee("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),jn(r.color?"mat-"+r.color:""),me("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable",r._animationMode==="NoopAnimations")("mat-unthemed",!r.color)("mat-mdc-button-base",!0)("mdc-fab--extended",r.extended)("mat-mdc-extended-fab",r.extended))},inputs:{extended:[2,"extended","extended",re]},exportAs:["matButton"],features:[Ve],attrs:wne,ngContentSelectors:sT,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,r){n&1&&(mt(aT),ae(0,"span",0),ke(1),M(2,"span",1),ke(3,1),k(),ke(4,2),ae(5,"span",2)(6,"span",3)),n&2&&me("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:[`.mat-mdc-fab-base{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1);flex-shrink:0;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-fab-base .mat-mdc-button-ripple,.mat-mdc-fab-base .mat-mdc-button-persistent-ripple,.mat-mdc-fab-base .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab-base .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-fab-base .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-fab-base .mdc-button__label,.mat-mdc-fab-base .mat-icon{z-index:1;position:relative}.mat-mdc-fab-base .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab-base:focus>.mat-focus-indicator::before{content:""}.mat-mdc-fab-base._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab-base::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-fab-base[hidden]{display:none}.mat-mdc-fab-base::-moz-focus-inner{padding:0;border:0}.mat-mdc-fab-base:active,.mat-mdc-fab-base:focus{outline:none}.mat-mdc-fab-base:hover{cursor:pointer}.mat-mdc-fab-base>svg{width:100%}.mat-mdc-fab-base .mat-icon,.mat-mdc-fab-base .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab-base .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-fab-base[disabled],.mat-mdc-fab-base.mat-mdc-button-disabled{cursor:default;pointer-events:none}.mat-mdc-fab-base[disabled],.mat-mdc-fab-base[disabled]:focus,.mat-mdc-fab-base.mat-mdc-button-disabled,.mat-mdc-fab-base.mat-mdc-button-disabled:focus{box-shadow:none}.mat-mdc-fab-base.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-fab{background-color:var(--mdc-fab-container-color, var(--mat-sys-primary-container));border-radius:var(--mdc-fab-container-shape, var(--mat-sys-corner-large));color:var(--mat-fab-foreground-color, var(--mat-sys-on-primary-container, inherit));box-shadow:var(--mdc-fab-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-fab:hover{box-shadow:var(--mdc-fab-hover-container-elevation-shadow, var(--mat-sys-level4))}.mat-mdc-fab:focus{box-shadow:var(--mdc-fab-focus-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-fab:active,.mat-mdc-fab:focus:active{box-shadow:var(--mdc-fab-pressed-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-fab[disabled],.mat-mdc-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-fab-disabled-state-foreground-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-fab-disabled-state-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-fab-touch-target-display, block)}.mat-mdc-fab .mat-ripple-element{background-color:var(--mat-fab-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary-container) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-state-layer-color, var(--mat-sys-on-primary-container))}.mat-mdc-fab.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-disabled-state-layer-color)}.mat-mdc-fab:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-fab.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-fab.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-fab.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-fab:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-mini-fab{width:40px;height:40px;background-color:var(--mdc-fab-small-container-color, var(--mat-sys-primary-container));border-radius:var(--mdc-fab-small-container-shape, var(--mat-sys-corner-medium));color:var(--mat-fab-small-foreground-color, var(--mat-sys-on-primary-container, inherit));box-shadow:var(--mdc-fab-small-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-mini-fab:hover{box-shadow:var(--mdc-fab-small-hover-container-elevation-shadow, var(--mat-sys-level4))}.mat-mdc-mini-fab:focus{box-shadow:var(--mdc-fab-small-focus-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:var(--mdc-fab-small-pressed-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-mini-fab[disabled],.mat-mdc-mini-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-fab-small-disabled-state-foreground-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-fab-small-disabled-state-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-fab-small-touch-target-display)}.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-fab-small-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary-container) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-small-state-layer-color, var(--mat-sys-on-primary-container))}.mat-mdc-mini-fab.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-small-disabled-state-layer-color)}.mat-mdc-mini-fab:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-mini-fab.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-mini-fab:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-extended-fab{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;line-height:normal;height:var(--mdc-extended-fab-container-height, 56px);border-radius:var(--mdc-extended-fab-container-shape, var(--mat-sys-corner-large));font-family:var(--mdc-extended-fab-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-extended-fab-label-text-size, var(--mat-sys-label-large-size));font-weight:var(--mdc-extended-fab-label-text-weight, var(--mat-sys-label-large-weight));letter-spacing:var(--mdc-extended-fab-label-text-tracking, var(--mat-sys-label-large-tracking));box-shadow:var(--mdc-extended-fab-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-extended-fab:hover{box-shadow:var(--mdc-extended-fab-hover-container-elevation-shadow, var(--mat-sys-level4))}.mat-mdc-extended-fab:focus{box-shadow:var(--mdc-extended-fab-focus-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-extended-fab:active,.mat-mdc-extended-fab:focus:active{box-shadow:var(--mdc-extended-fab-pressed-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-extended-fab[disabled],.mat-mdc-extended-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none}.mat-mdc-extended-fab[disabled],.mat-mdc-extended-fab[disabled]:focus,.mat-mdc-extended-fab.mat-mdc-button-disabled,.mat-mdc-extended-fab.mat-mdc-button-disabled:focus{box-shadow:none}.mat-mdc-extended-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:-8px;margin-right:12px}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons,[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons{margin-left:12px;margin-right:-8px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}
`],encapsulation:2,changeDetection:0})}return t})(),wC=(()=>{class t extends db{_options=x(Wj,{optional:!0});_isFab=!0;constructor(){super(),this._options=this._options||CC,this.color=this._options.color||CC.color}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Q({type:t,selectors:[["button","mat-mini-fab",""]],hostVars:14,hostBindings:function(n,r){n&2&&(Ee("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),jn(r.color?"mat-"+r.color:""),me("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable",r._animationMode==="NoopAnimations")("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[Ve],attrs:Dne,ngContentSelectors:sT,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,r){n&1&&(mt(aT),ae(0,"span",0),ke(1),M(2,"span",1),ke(3,1),k(),ke(4,2),ae(5,"span",2)(6,"span",3)),n&2&&me("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:[Sne],encapsulation:2,changeDetection:0})}return t})();var DC=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Se({type:t});static \u0275inj=De({imports:[nt,Md,nt]})}return t})();var Mne=t=>({"background-color":t});function Ine(t,i){t&1&&(M(0,"h3"),V(1," Eventos :"),k())}function kne(t,i){t&1&&(M(0,"h4"),V(1,"Sem eventos planeados"),k())}function Ane(t,i){if(t&1&&(M(0,"mat-accordion")(1,"mat-expansion-panel")(2,"mat-expansion-panel-header")(3,"mat-panel-title"),ae(4,"div",6),V(5),k(),M(6,"mat-panel-description",7)(7,"mat-icon"),V(8,"access_time"),k(),V(9),ta(10,"date"),k()(),M(11,"div",8),V(12),k()()()),t&2){let e=i.$implicit,n=ye();T(4),W("ngStyle",Kc(7,Mne,n.getColorForEvent(e))),T(),Ut(" ",e.titulo," "),T(4),Ut(" ",ia(10,4,e.data,"shortTime")," "),T(3),Ut(" ",e.descricao," ")}}var Kj=(()=>{class t{constructor(e,n,r,a,s){this.dialogRef=e,this.data=n,this.calendarioService=r,this.matDialog=a,this.dialogService=s}ngOnInit(){this.calendarioService.getEventsForDay(this.data.dia).subscribe(e=>{this.events=e})}fecharDialogo(){this.dialogRef.close()}getColorForEvent(e){return this.calendarioService.getEventType(e.tipo).color}static{this.\u0275fac=function(n){return new(n||t)(J(Yn),J(ws),J(wd),J(fo),J(Dd))}}static{this.\u0275cmp=Q({type:t,selectors:[["app-show-day-dialog"]],standalone:!1,decls:10,vars:7,consts:[[1,"header"],[1,"header-date"],["mat-icon-button","",2,"align-self","end",3,"click"],["fontIcon","close"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"has-event",3,"ngStyle"],[1,"mat-panel-description"],[1,"event-container"]],template:function(n,r){n&1&&(M(0,"mat-dialog-content")(1,"div",0)(2,"h2",1),V(3),ta(4,"date"),k(),M(5,"button",2),X("click",function(){return r.fecharDialogo()}),ae(6,"mat-icon",3),k()(),ne(7,Ine,2,0,"h3",4)(8,kne,2,0,"h4",4)(9,Ane,13,9,"mat-accordion",5),k()),n&2&&(T(3),$e(ia(4,4,r.data.dia,"longDate")),T(4),W("ngIf",r.events&&r.events.length!=0),T(),W("ngIf",!r.events||r.events.length==0),T(),W("ngForOf",r.events))},dependencies:[Da,Qs,Hl,Mp,nh,rh,Sp,bC,Pr,la,lr,Gl],styles:[".header[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center}.header-date[_ngcontent-%COMP%]{margin:0}.displayer-eventos[_ngcontent-%COMP%]{display:flex;flex-direction:column}.has-event[_ngcontent-%COMP%]{width:7px;height:30px;border-radius:50px;margin-right:15px}.event-header-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.mat-panel-description[_ngcontent-%COMP%]{justify-content:flex-end}.mat-expansion-panel.mat-expanded[_ngcontent-%COMP%]   .mat-expansion-panel-header[_ngcontent-%COMP%]{border-bottom:1px solid rgba(0,0,0,.4);margin-bottom:auto}.event-container[_ngcontent-%COMP%]{margin-top:12px}.mat-expansion-panel-header-title[_ngcontent-%COMP%]{flex-grow:4}"]})}}return t})();var Ene=()=>({"background-color":"var(--calendar-blue)"}),qj=()=>({"background-color":"#ffffff00"}),Tne=()=>({"background-color":"purple"});function Rne(t,i){if(t&1){let e=zt();M(0,"div",12),X("click",function(){let r=xe(e).$implicit,a=ye();return Ce(a.openDay(r.day))}),M(1,"div",13),V(2),k(),ae(3,"div",14),k()}if(t&2){let e=i.$implicit,n=ye();me("valid-day",e.day!=="")("day-selected",n.dateSelected===e+" "+n.monthAndYear),T(),W("ngStyle",e.day===n.today.getDate()&&n.month===n.today.getMonth()&&n.year===n.today.getFullYear()?Tr(7,Ene):Tr(8,qj)),T(),$e(e.day),T(),W("ngStyle",e.day&&e.hasEvents?Tr(9,Tne):Tr(10,qj))}}var Zj=(()=>{class t{constructor(e,n,r,a){this.calendarService=e,this.matDialog=n,this.dialogService=r,this.ref=a,this.month=new Date().getMonth(),this.year=new Date().getFullYear(),this.eventsShown=!1,this.monthNames=["Janeiro","Fevereiro","Mar\xE7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],this.calendarDays=[],this.today=new Date,this.monthAndYear="",this.dateSelected="",this.eventList=[]}ngOnInit(){this.calendarService.getEvents().subscribe(e=>{this.eventList=e,this.updateMonth(),this.buildCalendar()})}prevMonth(){this.month=this.month-1,this.month<0&&(this.month=11,this.year=this.year-1),this.updateMonth(),this.buildCalendar()}nextMonth(){this.month=this.month+1,this.month>11&&(this.month=0,this.year=this.year+1),this.updateMonth(),this.buildCalendar()}updateMonth(){var e=this.monthNames[this.month];this.monthAndYear=e+" "+this.year}buildCalendar(){var e=new Date(this.year,this.month,1),n=new Date(this.year,this.month+1,0),r=n.getDate(),a=42;this.calendarDays=[];for(var s=0;s<a;s++){var o=s-e.getDay()+1;o>=1&&o<=r?this.calendarDays.push({day:o,hasEvents:this.eventList.some(l=>{var c=new Date(l.data);return c.getDate()===o&&c.getMonth()===this.month&&c.getFullYear()===this.year})}):this.calendarDays.push({day:""})}this.ref.detectChanges()}openDay(e){this.matDialog.open(Kj,S(f({},this.dialogService.getGenericDialogConfig()),{data:{dia:new Date(this.year,this.month,e)}}))}static{this.\u0275fac=function(n){return new(n||t)(J(wd),J(fo),J(Dd),J(st))}}static{this.\u0275cmp=Q({type:t,selectors:[["app-calendario"]],standalone:!1,decls:27,vars:2,consts:[[1,"calendar-container"],[1,"calendar"],[1,"choose-month"],["id","month-n-year",1,"current-month"],[1,"month-buttons"],["aria-hidden","false","aria-label","Previous month","fontIcon","chevron_left",1,"change-month-buttons",3,"click"],["aria-hidden","false","aria-label","Previous month","fontIcon","chevron_right",1,"change-month-buttons",3,"click"],[1,"inner-calendar"],[1,"week-days","calendar-grid"],[1,"week-day"],["id","calendar-days",1,"days","calendar-grid"],["class","day",3,"valid-day","day-selected","click",4,"ngFor","ngForOf"],[1,"day",3,"click"],[1,"circle-day",3,"ngStyle"],[1,"has-event",3,"ngStyle"]],template:function(n,r){n&1&&(M(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div"),V(5),k()(),M(6,"div",4)(7,"mat-icon",5),X("click",function(){return r.prevMonth()}),k(),M(8,"mat-icon",6),X("click",function(){return r.nextMonth()}),k()()(),M(9,"div",7)(10,"div",8)(11,"div",9),V(12,"Dom"),k(),M(13,"div",9),V(14,"Seg"),k(),M(15,"div",9),V(16,"Ter"),k(),M(17,"div",9),V(18,"Qua"),k(),M(19,"div",9),V(20,"Qui"),k(),M(21,"div",9),V(22,"Sex"),k(),M(23,"div",9),V(24,"S\xE1b"),k()(),M(25,"div",10),ne(26,Rne,4,11,"div",11),k()()()()),n&2&&(T(5),$e(r.monthAndYear),T(21),W("ngForOf",r.calendarDays))},dependencies:[Da,Hl,Pr],styles:[".container[_ngcontent-%COMP%]{width:100%}.calendar-container[_ngcontent-%COMP%]{max-width:800px;height:fit-content;background-color:var(--containers-bg);box-shadow:0 2px 4px #0000001a;border-radius:10px;margin:20px auto;grid-column:2}.calendar[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.choose-month[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:90%;margin-top:10px}.current-month[_ngcontent-%COMP%]{font-family:var(--font-family);font-size:25px;font-weight:600}.week-day[_ngcontent-%COMP%]{color:var(--text-color)}.month-buttons[_ngcontent-%COMP%]{margin:auto 2px;cursor:pointer;-webkit-user-select:none;user-select:none;color:var(--text-color)}.change-month-buttons[_ngcontent-%COMP%]:hover{background-color:var(--calendar-blue);transition:.5s;border-radius:50%}.inner-calendar[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:90%;font-family:var(--font-family);font-size:20px}.calendar-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);text-align:center}.material-symbols-rounded[_ngcontent-%COMP%]:hover{background-color:var(--logo-color);border-radius:50%;height:100%;transition:.3s}.days[_ngcontent-%COMP%]{margin:6px 0;text-align:center;-webkit-user-select:none;user-select:none}.day[_ngcontent-%COMP%]{margin:3px;background-color:#cdcccc;border-radius:5px;height:75px;display:flex;flex-direction:column}.day-selected[_ngcontent-%COMP%]{background-color:var(--calendar-blue)}.valid-day[_ngcontent-%COMP%]:hover{background-color:var(--calendar-blue);transition:.5s;cursor:pointer}.circle-day[_ngcontent-%COMP%]{background-color:var(--calendar-blue);height:30px;width:30px;border-radius:50%;margin:auto}.has-event[_ngcontent-%COMP%]{width:7px;height:7px;border-radius:50px;margin:auto;background-color:purple}.add-event-button[_ngcontent-%COMP%]{margin-right:20px;padding-bottom:20px;display:flex;justify-content:flex-end;flex-wrap:wrap}@media screen and (max-width: 599px){.calendar-container[_ngcontent-%COMP%]{box-sizing:border-box;margin-top:20px;margin-left:15px;margin-right:15px;width:calc(100% - 30px)}.inner-calendar[_ngcontent-%COMP%]{width:96%;font-size:medium}}@media screen and (min-width: 600px) and (max-width: 1400px){.calendar-container[_ngcontent-%COMP%]{margin-left:20px;margin-right:10px;margin-bottom:20px;padding:15px;max-width:100vw}.inner-calendar[_ngcontent-%COMP%]{width:96%}}"]})}}return t})();var Qj=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=Q({type:t,selectors:[["app-perfil"]],standalone:!1,decls:1,vars:0,template:function(n,r){n&1&&V(0,`perfil
`)},encapsulation:2})}}return t})();function One(t,i){if(t&1&&(M(0,"li"),V(1),k()),t&2){let e=i.$implicit;T(),$e(e)}}function Lne(t,i){if(t&1&&(M(0,"mat-accordion")(1,"mat-expansion-panel",3)(2,"mat-expansion-panel-header")(3,"mat-panel-title"),V(4),k()(),M(5,"div",4)(6,"ul"),ne(7,One,2,1,"li",2),k()()()()),t&2){let e=i.$implicit;T(4),Ut(" ",e.titulo," "),T(3),W("ngForOf",e.regras)}}var Xj=(()=>{class t{constructor(){this.tipoRegraSelecionado="",this.regrasExibidas=[],this.todasAsRegras=[{titulo:"Regras de Quotas",regras:["Regra 1: O pagamento das quotas, sem multa, tem de ser feito at\xE9 ao fim do m\xEAs corrente.","Regra 2: A partir do 1\xBAdia do m\xEAs seguinte adiciona 1\u20AC a cada dia at\xE9 ao 10\xBA dia.","Regra 3: Do 10\xBA ao \xFAltimo dia do m\xEAs o valor da multa \xE9 10\u20AC.","Regra 4: Ao passarem 2 meses a multa passa para 20\u20AC.","EXEMPLO: Se a quota de ABRIL for paga a 4 de MAIO a multa ser\xE1 de 4\u20AC totalizando 14\u20AC de quota"]},{titulo:"Regras de Conv\xEDvios",regras:["Regra 1: \xC9 PRO\xCDBIDO a qualquer membro, exceto os da comiss\xE3o, oferecer bebidas. Os membros da comiss\xE3o s\xF3 podem oferecer bebidas a membros de outras comiss\xF5es. O incumprimento desta regra implicar\xE1 uma multa de 5\u20AC.","Regra 2: Em caso de aus\xEAncia a um turno marcado, ser\xE1 aplicada uma multa de 5\u20AC na primeira ocorr\xEAncia. As aus\xEAncias subsequentes ser\xE3o multadas em 10\u20AC.","Regra 3: A presen\xE7a dos membros nos conv\xEDvios \xE9 obrigat\xF3ria, sendo que a aus\xEAncia a dois conv\xEDvios consecutivos implicar\xE1 uma multa de 2\u20AC, e a acumula\xE7\xE3o de quatro aus\xEAncias ao longo do ano letivo resultar\xE1 numa multa de 10\u20AC","Regra 4: A pontualidade no in\xEDcio dos turnos \xE9 exigida. Ap\xF3s 5 minutos da hora marcada, ser\xE1 aplicada uma multa de 5\u20AC.","Regra 5: Caso um membro se apresente incapacitado(a) por embriaguez para realizar o turno, ser\xE1 aplicada uma multa de 2\u20AC."]},{titulo:"Regras de Reuni\xF5es",regras:["Regra 1: Ap\xF3s uma toler\xE2ncia de 15 minutos no in\xEDcio das reuni\xF5es, ser\xE1 aplicada uma multa de 2\u20AC por atraso.","Regra 2: A presen\xE7a em reuni\xF5es \xE9 obrigat\xF3ria para todos os membros. A primeira e a segunda faltas implicar\xE3o uma multa de 2\u20AC cada. A partir da terceira e quarta faltas, a multa ser\xE1 de 5\u20AC cada, e da quinta falta em diante, a multa ser\xE1 de 10\u20AC","Regra 3: A pontualidade no in\xEDcio dos turnos \xE9 exigida. Ap\xF3s 5 minutos da hora marcada, ser\xE1 aplicada uma multa de 5\u20AC.","Regra 4: Caso um membro se apresente incapacitado(a) por embriaguez para realizar o turno, ser\xE1 aplicada uma multa de 2\u20AC."]},{titulo:"Regras de Rifas",regras:["Regra 1: O valor correspondente \xE0 totalidade das rifas entregues como obrigat\xF3rias deve ser devolvido em dinheiro.","Regra 2: As rifas opcionais n\xE3o s\xE3o sujeitas \xE0 regra 1"]},{titulo:"Regras de Jantares de Curso",regras:["Regra 1: Os membros que faltarem a um jantar de curso ter\xE3o de pagar a diferen\xE7a entre o custo real por pessoa do evento e o pre\xE7o definido para os participantes.","EXEMPLO: Se o restaurante cobrar 14\u20AC por pessoa e o pre\xE7o para os participantes for 15\u20AC, o membro ausente pagar\xE1 1\u20AC."]}]}ngOnInit(){}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=Q({type:t,selectors:[["app-regras"]],standalone:!1,decls:9,vars:1,consts:[[1,"regras-container"],[1,"highlight-bioquimica"],[4,"ngFor","ngForOf"],[1,"tipo-container"],[1,"conteudo-regras"]],template:function(n,r){n&1&&(M(0,"div",0)(1,"h2"),V(2,"Regras "),M(3,"p"),V(4,"Carro "),M(5,"span",1),V(6,"Bioqu\xEDmica"),k(),V(7," 2027 "),k()(),ne(8,Lne,8,2,"mat-accordion",2),k()),n&2&&(T(8),W("ngForOf",r.todasAsRegras))},dependencies:[Da,Mp,nh,rh,Sp],styles:[".regras-container[_ngcontent-%COMP%]{max-width:1200px;height:fit-content;box-shadow:0 2px 4px #0000001a;background-color:#fff;border-radius:5px;margin:20px auto;grid-column:2;padding:10px;overflow:hidden}h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{color:#333;margin-bottom:20px;font-size:2em}h3[_ngcontent-%COMP%]{font-size:1.5em}p[_ngcontent-%COMP%]{margin-top:0}.highlight-bioquimica[_ngcontent-%COMP%]{color:#0095d7}.conteudo-regras[_ngcontent-%COMP%]{border-top:1px solid #eee;padding-top:20px}.conteudo-regras[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0}.conteudo-regras[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#f9f9f9;border:1px solid #e5e5e5;margin-bottom:10px;padding:15px;border-radius:5px;line-height:1.6;color:#555;font-size:1em}.conteudo-regras[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;color:#777;font-style:italic;font-size:1em}.tipo-container[_ngcontent-%COMP%]{margin-bottom:10px}@media screen and (max-width: 599px){.regras-container[_ngcontent-%COMP%]{box-sizing:border-box;margin:20px 15px;width:calc(100% - 30px)}h2[_ngcontent-%COMP%]{margin-bottom:15px}.conteudo-regras[_ngcontent-%COMP%]{padding-top:15px}.conteudo-regras[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:12px}}@media screen and (min-width: 600px) and (max-width: 1400px){.regras-container[_ngcontent-%COMP%]{margin-left:20px;margin-right:10px;margin-bottom:20px;padding:15px;max-width:100vw}h2[_ngcontent-%COMP%]{margin-bottom:15px}.conteudo-regras[_ngcontent-%COMP%]{padding-top:15px}.conteudo-regras[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:12px}}"]})}}return t})();var Jj=()=>["month","valor"];function Nne(t,i){t&1&&(M(0,"th",16),V(1,"M\xEAs"),k())}function Pne(t,i){if(t&1&&(M(0,"td",17),V(1),k()),t&2){let e=i.$implicit;T(),$e(e.month)}}function Fne(t,i){t&1&&(M(0,"th",16),V(1,"Valor"),k())}function Vne(t,i){if(t&1&&(M(0,"td",17),V(1),k()),t&2){let e=i.$implicit;T(),$e(e.valor+"\u20AC")}}function Bne(t,i){t&1&&(M(0,"th",16),V(1,"Data de pagamento"),k())}function jne(t,i){if(t&1&&(M(0,"td",17),V(1),ta(2,"date"),k()),t&2){let e=i.$implicit;T(),$e(ia(2,1,e.paymentDate,"longDate"))}}function zne(t,i){t&1&&ae(0,"tr",18)}function Une(t,i){t&1&&ae(0,"tr",19)}function Hne(t,i){if(t&1&&(M(0,"table",8),vn(1,9),ne(2,Nne,2,0,"th",10)(3,Pne,2,1,"td",11),_n(),vn(4,12),ne(5,Fne,2,0,"th",10)(6,Vne,2,1,"td",11),_n(),vn(7,13),ne(8,Bne,2,0,"th",10)(9,jne,3,4,"td",11),_n(),ne(10,zne,1,0,"tr",14)(11,Une,1,0,"tr",15),k()),t&2){let e=ye();W("dataSource",e.dataSourcePaid),T(10),W("matHeaderRowDef",e.displayedColumnsPaid),T(),W("matRowDefColumns",e.displayedColumnsPaid)}}function Gne(t,i){t&1&&(M(0,"h2",20),V(1,"Sem quotas pagas."),k())}function Wne(t,i){t&1&&(M(0,"th",16),V(1,"M\xEAs"),k())}function $ne(t,i){if(t&1&&(M(0,"td",17),V(1),k()),t&2){let e=i.$implicit;T(),$e(e.month)}}function Yne(t,i){t&1&&(M(0,"th",16),V(1,"Valor"),k())}function Kne(t,i){if(t&1&&(M(0,"td",17),V(1),k()),t&2){let e=i.$implicit;T(),$e(e.valor+"\u20AC")}}function qne(t,i){t&1&&ae(0,"tr",18)}function Zne(t,i){t&1&&ae(0,"tr",19)}function Qne(t,i){if(t&1&&(M(0,"table",8),vn(1,9),ne(2,Wne,2,0,"th",10)(3,$ne,2,1,"td",11),_n(),vn(4,12),ne(5,Yne,2,0,"th",10)(6,Kne,2,1,"td",11),_n(),ne(7,qne,1,0,"tr",14)(8,Zne,1,0,"tr",15),k()),t&2){let e=ye();W("dataSource",e.dataSourceUnpaid),T(7),W("matHeaderRowDef",Tr(3,Jj)),T(),W("matRowDefColumns",Tr(4,Jj))}}function Xne(t,i){t&1&&(M(0,"h2",20),V(1,"Sem quotas por pagar."),k())}var ez=(()=>{class t{constructor(e,n,r,a){this.dialogRef=e,this.data=n,this.quotasService=r,this.breakPointObserver=a,this.paidQuotas=[],this.unpaidQuotas=[],this.displayedColumnsPaid=["month","valor","paymentDate"]}ngOnInit(){this.breakPointObserver.observe([$l.Small,$l.Handset]).subscribe(e=>{e.matches?this.displayedColumnsPaid=["month","paymentDate"]:this.displayedColumnsPaid=["month","valor","paymentDate"]}),this.quotasService.getUnpaidQuotasForUser(this.data.id).subscribe(e=>{for(var n of e){var r=this.quotasService.calculateFineForDate(new Date,n.month),a=n.valor+r;n.valor=a,n.month=this.getMonthStringFromMonthCode(n.month)}this.unpaidQuotas=e,this.dataSourceUnpaid=new il(this.unpaidQuotas)}),this.quotasService.getPaidQuotasForUser(this.data.id).subscribe(e=>{for(var n of e){var r=this.quotasService.calculateFineForDate(n.paymentDate,n.month),a=n.valor+r;n.valor=a,n.month=this.getMonthStringFromMonthCode(n.month)}this.paidQuotas=e,this.dataSourcePaid=new il(this.paidQuotas)})}getMonthStringFromMonthCode(e){var n=parseInt(e.substring(3)),r=this.quotasService.convertThreeCharacterMonthIntoIndex(e.substring(0,3)),a=new Date(n,r,1),s=a.toLocaleDateString("pt-PT",{month:"long",year:"numeric"}),o=s.charAt(0).toUpperCase()+s.slice(1);return o}fecharDialogo(){this.dialogRef.close()}static{this.\u0275fac=function(n){return new(n||t)(J(Yn),J(ws),J(xd),J(eo))}}static{this.\u0275cmp=Q({type:t,selectors:[["app-see-account-dialog"]],standalone:!1,decls:18,vars:6,consts:[[1,"header"],["mat-icon-button","",2,"align-self","end",3,"click"],["fontIcon","close"],[1,"tabs-container"],["label","Pagas"],["mat-table","","matSort","","class","mat-elevation-z8",3,"dataSource",4,"ngIf"],["class","no-quotas-message",4,"ngIf"],["label","Por pagar"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","month"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","valor"],["matColumnDef","paymentDate"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],[1,"no-quotas-message"]],template:function(n,r){n&1&&(M(0,"mat-dialog-content")(1,"div",0)(2,"h1"),V(3),k(),M(4,"button",1),X("click",function(){return r.fecharDialogo()}),ae(5,"mat-icon",2),k()(),M(6,"h2"),V(7),k(),M(8,"h3"),V(9,"Hist\xF3rico de quotas"),k(),M(10,"div",3)(11,"mat-tab-group")(12,"mat-tab",4),ne(13,Hne,12,3,"table",5)(14,Gne,2,0,"h2",6),k(),M(15,"mat-tab",7),ne(16,Qne,9,5,"table",5)(17,Xne,2,0,"h2",6),k()()()()),n&2&&(T(3),$e(r.data.name),T(4),$e(r.data.type),T(6),W("ngIf",(r.dataSourcePaid==null||r.dataSourcePaid.data==null?null:r.dataSourcePaid.data.length)>0),T(),W("ngIf",(r.dataSourcePaid==null||r.dataSourcePaid.data==null?null:r.dataSourcePaid.data.length)===0),T(2),W("ngIf",(r.dataSourceUnpaid==null||r.dataSourceUnpaid.data==null?null:r.dataSourceUnpaid.data.length)>0),T(),W("ngIf",(r.dataSourceUnpaid==null||r.dataSourceUnpaid.data==null?null:r.dataSourceUnpaid.data.length)===0))},dependencies:[Qs,Pr,la,lr,eh,xp,Rm,Lm,Vm,Nm,Om,Bm,Pm,Fm,jm,zm,Cp,Gl],styles:[".header[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center}.tabs-container[_ngcontent-%COMP%]{max-width:1200px;height:fit-content;background-color:var(--bg-color);border-radius:5px;margin-top:20px;margin-left:auto;margin-right:auto;grid-column:2;padding:10px;overflow:hidden}.no-quotas-message[_ngcontent-%COMP%]{text-align:center;margin-top:20px}"]})}}return t})();var Jne=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Q({type:t,selectors:[["ng-component"]],hostAttrs:["cdk-text-field-style-loader",""],decls:0,vars:0,template:function(n,r){},styles:[`textarea.cdk-textarea-autosize{resize:none}textarea.cdk-textarea-autosize-measuring{padding:2px 0 !important;box-sizing:content-box !important;height:auto !important;overflow:hidden !important}textarea.cdk-textarea-autosize-measuring-firefox{padding:2px 0 !important;box-sizing:content-box !important;height:0 !important}@keyframes cdk-text-field-autofill-start{/*!*/}@keyframes cdk-text-field-autofill-end{/*!*/}.cdk-text-field-autofill-monitored:-webkit-autofill{animation:cdk-text-field-autofill-start 0s 1ms}.cdk-text-field-autofill-monitored:not(:-webkit-autofill){animation:cdk-text-field-autofill-end 0s 1ms}
`],encapsulation:2,changeDetection:0})}return t})(),ere={passive:!0},tz=(()=>{class t{_platform=x(Pt);_ngZone=x(we);_renderer=x(pr).createRenderer(null,null);_styleLoader=x(_i);_monitoredElements=new Map;constructor(){}monitor(e){if(!this._platform.isBrowser)return Qr;this._styleLoader.load(Jne);let n=ra(e),r=this._monitoredElements.get(n);if(r)return r.subject;let a=new se,s="cdk-text-field-autofilled",o=c=>{c.animationName==="cdk-text-field-autofill-start"&&!n.classList.contains(s)?(n.classList.add(s),this._ngZone.run(()=>a.next({target:c.target,isAutofilled:!0}))):c.animationName==="cdk-text-field-autofill-end"&&n.classList.contains(s)&&(n.classList.remove(s),this._ngZone.run(()=>a.next({target:c.target,isAutofilled:!1})))},l=this._ngZone.runOutsideAngular(()=>(n.classList.add("cdk-text-field-autofill-monitored"),Ti(this._renderer,n,"animationstart",o,ere)));return this._monitoredElements.set(n,{subject:a,unlisten:l}),a}stopMonitoring(e){let n=ra(e),r=this._monitoredElements.get(n);r&&(r.unlisten(),r.subject.complete(),n.classList.remove("cdk-text-field-autofill-monitored"),n.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(n))}ngOnDestroy(){this._monitoredElements.forEach((e,n)=>this.stopMonitoring(n))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var iz=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Se({type:t});static \u0275inj=De({})}return t})();var dz=(()=>{class t{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,n){this._renderer=e,this._elementRef=n}setProperty(e,n){this._renderer.setProperty(this._elementRef.nativeElement,e,n)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(n){return new(n||t)(J(Qt),J(ge))};static \u0275dir=Y({type:t})}return t})(),uz=(()=>{class t extends dz{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Dt(t)))(r||t)}})();static \u0275dir=Y({type:t,features:[Ve]})}return t})(),oc=new G("");var tre={provide:oc,useExisting:va(()=>Ds),multi:!0};function ire(){let t=Wa()?Wa().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var nre=new G(""),Ds=(()=>{class t extends dz{_compositionMode;_composing=!1;constructor(e,n,r){super(e,n),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!ire())}writeValue(e){let n=e??"";this.setProperty("value",n)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(n){return new(n||t)(J(Qt),J(ge),J(nre,8))};static \u0275dir=Y({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){n&1&&X("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},standalone:!1,features:[Ye([tre]),Ve]})}return t})();function lT(t){return t==null||cT(t)===0}function cT(t){return t==null?null:Array.isArray(t)||typeof t=="string"?t.length:t instanceof Set?t.size:null}var yl=new G(""),dT=new G(""),rre=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,fl=class{static min(i){return are(i)}static max(i){return sre(i)}static required(i){return hz(i)}static requiredTrue(i){return ore(i)}static email(i){return lre(i)}static minLength(i){return cre(i)}static maxLength(i){return dre(i)}static pattern(i){return ure(i)}static nullValidator(i){return MC()}static compose(i){return bz(i)}static composeAsync(i){return vz(i)}};function are(t){return i=>{if(i.value==null||t==null)return null;let e=parseFloat(i.value);return!isNaN(e)&&e<t?{min:{min:t,actual:i.value}}:null}}function sre(t){return i=>{if(i.value==null||t==null)return null;let e=parseFloat(i.value);return!isNaN(e)&&e>t?{max:{max:t,actual:i.value}}:null}}function hz(t){return lT(t.value)?{required:!0}:null}function ore(t){return t.value===!0?null:{required:!0}}function lre(t){return lT(t.value)||rre.test(t.value)?null:{email:!0}}function cre(t){return i=>{let e=i.value?.length??cT(i.value);return e===null||e===0?null:e<t?{minlength:{requiredLength:t,actualLength:e}}:null}}function dre(t){return i=>{let e=i.value?.length??cT(i.value);return e!==null&&e>t?{maxlength:{requiredLength:t,actualLength:e}}:null}}function ure(t){if(!t)return MC;let i,e;return typeof t=="string"?(e="",t.charAt(0)!=="^"&&(e+="^"),e+=t,t.charAt(t.length-1)!=="$"&&(e+="$"),i=new RegExp(e)):(e=t.toString(),i=t),n=>{if(lT(n.value))return null;let r=n.value;return i.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}function MC(t){return null}function mz(t){return t!=null}function pz(t){return yg(t)?Vn(t):t}function fz(t){let i={};return t.forEach(e=>{i=e!=null?f(f({},i),e):i}),Object.keys(i).length===0?null:i}function gz(t,i){return i.map(e=>e(t))}function hre(t){return!t.validate}function yz(t){return t.map(i=>hre(i)?i:e=>i.validate(e))}function bz(t){if(!t)return null;let i=t.filter(mz);return i.length==0?null:function(e){return fz(gz(e,i))}}function uT(t){return t!=null?bz(yz(t)):null}function vz(t){if(!t)return null;let i=t.filter(mz);return i.length==0?null:function(e){let n=gz(e,i).map(pz);return p_(n).pipe(Re(fz))}}function hT(t){return t!=null?vz(yz(t)):null}function nz(t,i){return t===null?[i]:Array.isArray(t)?[...t,i]:[t,i]}function _z(t){return t._rawValidators}function xz(t){return t._rawAsyncValidators}function oT(t){return t?Array.isArray(t)?t:[t]:[]}function IC(t,i){return Array.isArray(t)?t.includes(i):t===i}function rz(t,i){let e=oT(i);return oT(t).forEach(r=>{IC(e,r)||e.push(r)}),e}function az(t,i){return oT(i).filter(e=>!IC(t,e))}var kC=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(i){this._rawValidators=i||[],this._composedValidatorFn=uT(this._rawValidators)}_setAsyncValidators(i){this._rawAsyncValidators=i||[],this._composedAsyncValidatorFn=hT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(i){this._onDestroyCallbacks.push(i)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(i=>i()),this._onDestroyCallbacks=[]}reset(i=void 0){this.control&&this.control.reset(i)}hasError(i,e){return this.control?this.control.hasError(i,e):!1}getError(i,e){return this.control?this.control.getError(i,e):null}},sc=class extends kC{name;get formDirective(){return null}get path(){return null}},gl=class extends kC{_parent=null;name=null;valueAccessor=null},AC=class{_cd;constructor(i){this._cd=i}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},mre={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},J1e=S(f({},mre),{"[class.ng-submitted]":"isSubmitted"}),Ea=(()=>{class t extends AC{constructor(e){super(e)}static \u0275fac=function(n){return new(n||t)(J(gl,2))};static \u0275dir=Y({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){n&2&&me("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[Ve]})}return t})(),Ap=(()=>{class t extends AC{constructor(e){super(e)}static \u0275fac=function(n){return new(n||t)(J(sc,10))};static \u0275dir=Y({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){n&2&&me("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},standalone:!1,features:[Ve]})}return t})();var ub="VALID",SC="INVALID",Ip="PENDING",hb="DISABLED",Id=class{},EC=class extends Id{value;source;constructor(i,e){super(),this.value=i,this.source=e}},pb=class extends Id{pristine;source;constructor(i,e){super(),this.pristine=i,this.source=e}},fb=class extends Id{touched;source;constructor(i,e){super(),this.touched=i,this.source=e}},kp=class extends Id{status;source;constructor(i,e){super(),this.status=i,this.source=e}},TC=class extends Id{source;constructor(i){super(),this.source=i}},RC=class extends Id{source;constructor(i){super(),this.source=i}};function Cz(t){return(VC(t)?t.validators:t)||null}function pre(t){return Array.isArray(t)?uT(t):t||null}function wz(t,i){return(VC(i)?i.asyncValidators:t)||null}function fre(t){return Array.isArray(t)?hT(t):t||null}function VC(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function gre(t,i,e){let n=t.controls;if(!(i?Object.keys(n):n).length)throw new gt(1e3,"");if(!n[e])throw new gt(1001,"")}function yre(t,i,e){t._forEachChild((n,r)=>{if(e[r]===void 0)throw new gt(1002,"")})}var OC=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(i,e){this._assignValidators(i),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(i){this._rawValidators=this._composedValidatorFn=i}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(i){this._rawAsyncValidators=this._composedAsyncValidatorFn=i}get parent(){return this._parent}get status(){return fr(this.statusReactive)}set status(i){fr(()=>this.statusReactive.set(i))}_status=zn(()=>this.statusReactive());statusReactive=bn(void 0);get valid(){return this.status===ub}get invalid(){return this.status===SC}get pending(){return this.status==Ip}get disabled(){return this.status===hb}get enabled(){return this.status!==hb}errors;get pristine(){return fr(this.pristineReactive)}set pristine(i){fr(()=>this.pristineReactive.set(i))}_pristine=zn(()=>this.pristineReactive());pristineReactive=bn(!0);get dirty(){return!this.pristine}get touched(){return fr(this.touchedReactive)}set touched(i){fr(()=>this.touchedReactive.set(i))}_touched=zn(()=>this.touchedReactive());touchedReactive=bn(!1);get untouched(){return!this.touched}_events=new se;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(i){this._assignValidators(i)}setAsyncValidators(i){this._assignAsyncValidators(i)}addValidators(i){this.setValidators(rz(i,this._rawValidators))}addAsyncValidators(i){this.setAsyncValidators(rz(i,this._rawAsyncValidators))}removeValidators(i){this.setValidators(az(i,this._rawValidators))}removeAsyncValidators(i){this.setAsyncValidators(az(i,this._rawAsyncValidators))}hasValidator(i){return IC(this._rawValidators,i)}hasAsyncValidator(i){return IC(this._rawAsyncValidators,i)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(i={}){let e=this.touched===!1;this.touched=!0;let n=i.sourceControl??this;this._parent&&!i.onlySelf&&this._parent.markAsTouched(S(f({},i),{sourceControl:n})),e&&i.emitEvent!==!1&&this._events.next(new fb(!0,n))}markAllAsTouched(i={}){this.markAsTouched({onlySelf:!0,emitEvent:i.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(i))}markAsUntouched(i={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let n=i.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:i.emitEvent,sourceControl:n})}),this._parent&&!i.onlySelf&&this._parent._updateTouched(i,n),e&&i.emitEvent!==!1&&this._events.next(new fb(!1,n))}markAsDirty(i={}){let e=this.pristine===!0;this.pristine=!1;let n=i.sourceControl??this;this._parent&&!i.onlySelf&&this._parent.markAsDirty(S(f({},i),{sourceControl:n})),e&&i.emitEvent!==!1&&this._events.next(new pb(!1,n))}markAsPristine(i={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let n=i.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:i.emitEvent})}),this._parent&&!i.onlySelf&&this._parent._updatePristine(i,n),e&&i.emitEvent!==!1&&this._events.next(new pb(!0,n))}markAsPending(i={}){this.status=Ip;let e=i.sourceControl??this;i.emitEvent!==!1&&(this._events.next(new kp(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!i.onlySelf&&this._parent.markAsPending(S(f({},i),{sourceControl:e}))}disable(i={}){let e=this._parentMarkedDirty(i.onlySelf);this.status=hb,this.errors=null,this._forEachChild(r=>{r.disable(S(f({},i),{onlySelf:!0}))}),this._updateValue();let n=i.sourceControl??this;i.emitEvent!==!1&&(this._events.next(new EC(this.value,n)),this._events.next(new kp(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(S(f({},i),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(i={}){let e=this._parentMarkedDirty(i.onlySelf);this.status=ub,this._forEachChild(n=>{n.enable(S(f({},i),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent}),this._updateAncestors(S(f({},i),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(i,e){this._parent&&!i.onlySelf&&(this._parent.updateValueAndValidity(i),i.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(i){this._parent=i}getRawValue(){return this.value}updateValueAndValidity(i={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let n=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ub||this.status===Ip)&&this._runAsyncValidator(n,i.emitEvent)}let e=i.sourceControl??this;i.emitEvent!==!1&&(this._events.next(new EC(this.value,e)),this._events.next(new kp(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!i.onlySelf&&this._parent.updateValueAndValidity(S(f({},i),{sourceControl:e}))}_updateTreeValidity(i={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(i)),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?hb:ub}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(i,e){if(this.asyncValidator){this.status=Ip,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let n=pz(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:e,shouldHaveEmitted:i})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let i=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,i}return!1}setErrors(i,e={}){this.errors=i,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(i){let e=i;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((n,r)=>n&&n._find(r),this)}getError(i,e){let n=e?this.get(e):this;return n&&n.errors?n.errors[i]:null}hasError(i,e){return!!this.getError(i,e)}get root(){let i=this;for(;i._parent;)i=i._parent;return i}_updateControlsErrors(i,e,n){this.status=this._calculateStatus(),i&&this.statusChanges.emit(this.status),(i||n)&&this._events.next(new kp(this.status,e)),this._parent&&this._parent._updateControlsErrors(i,e,n)}_initObservables(){this.valueChanges=new ie,this.statusChanges=new ie}_calculateStatus(){return this._allControlsDisabled()?hb:this.errors?SC:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ip)?Ip:this._anyControlsHaveStatus(SC)?SC:ub}_anyControlsHaveStatus(i){return this._anyControls(e=>e.status===i)}_anyControlsDirty(){return this._anyControls(i=>i.dirty)}_anyControlsTouched(){return this._anyControls(i=>i.touched)}_updatePristine(i,e){let n=!this._anyControlsDirty(),r=this.pristine!==n;this.pristine=n,this._parent&&!i.onlySelf&&this._parent._updatePristine(i,e),r&&this._events.next(new pb(this.pristine,e))}_updateTouched(i={},e){this.touched=this._anyControlsTouched(),this._events.next(new fb(this.touched,e)),this._parent&&!i.onlySelf&&this._parent._updateTouched(i,e)}_onDisabledChange=[];_registerOnCollectionChange(i){this._onCollectionChange=i}_setUpdateStrategy(i){VC(i)&&i.updateOn!=null&&(this._updateOn=i.updateOn)}_parentMarkedDirty(i){let e=this._parent&&this._parent.dirty;return!i&&!!e&&!this._parent._anyControlsDirty()}_find(i){return null}_assignValidators(i){this._rawValidators=Array.isArray(i)?i.slice():i,this._composedValidatorFn=pre(this._rawValidators)}_assignAsyncValidators(i){this._rawAsyncValidators=Array.isArray(i)?i.slice():i,this._composedAsyncValidatorFn=fre(this._rawAsyncValidators)}},LC=class extends OC{constructor(i,e,n){super(Cz(e),wz(n,e)),this.controls=i,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(i,e){return this.controls[i]?this.controls[i]:(this.controls[i]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(i,e,n={}){this.registerControl(i,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(i,e={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(i,e,n={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],e&&this.registerControl(i,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(i){return this.controls.hasOwnProperty(i)&&this.controls[i].enabled}setValue(i,e={}){yre(this,!0,i),Object.keys(i).forEach(n=>{gre(this,!0,n),this.controls[n].setValue(i[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(i,e={}){i!=null&&(Object.keys(i).forEach(n=>{let r=this.controls[n];r&&r.patchValue(i[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(i={},e={}){this._forEachChild((n,r)=>{n.reset(i?i[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(i,e,n)=>(i[n]=e.getRawValue(),i))}_syncPendingControls(){let i=this._reduceChildren(!1,(e,n)=>n._syncPendingControls()?!0:e);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_forEachChild(i){Object.keys(this.controls).forEach(e=>{let n=this.controls[e];n&&i(n,e)})}_setUpControls(){this._forEachChild(i=>{i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(i){for(let[e,n]of Object.entries(this.controls))if(this.contains(e)&&i(n))return!0;return!1}_reduceValue(){let i={};return this._reduceChildren(i,(e,n,r)=>((n.enabled||this.disabled)&&(e[r]=n.value),e))}_reduceChildren(i,e){let n=i;return this._forEachChild((r,a)=>{n=e(n,r,a)}),n}_allControlsDisabled(){for(let i of Object.keys(this.controls))if(this.controls[i].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(i){return this.controls.hasOwnProperty(i)?this.controls[i]:null}};var BC=new G("",{providedIn:"root",factory:()=>mT}),mT="always";function bre(t,i){return[...i.path,t]}function NC(t,i,e=mT){pT(t,i),i.valueAccessor.writeValue(t.value),(t.disabled||e==="always")&&i.valueAccessor.setDisabledState?.(t.disabled),_re(t,i),Cre(t,i),xre(t,i),vre(t,i)}function sz(t,i,e=!0){let n=()=>{};i.valueAccessor&&(i.valueAccessor.registerOnChange(n),i.valueAccessor.registerOnTouched(n)),FC(t,i),t&&(i._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function PC(t,i){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(i)})}function vre(t,i){if(i.valueAccessor.setDisabledState){let e=n=>{i.valueAccessor.setDisabledState(n)};t.registerOnDisabledChange(e),i._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}function pT(t,i){let e=_z(t);i.validator!==null?t.setValidators(nz(e,i.validator)):typeof e=="function"&&t.setValidators([e]);let n=xz(t);i.asyncValidator!==null?t.setAsyncValidators(nz(n,i.asyncValidator)):typeof n=="function"&&t.setAsyncValidators([n]);let r=()=>t.updateValueAndValidity();PC(i._rawValidators,r),PC(i._rawAsyncValidators,r)}function FC(t,i){let e=!1;if(t!==null){if(i.validator!==null){let r=_z(t);if(Array.isArray(r)&&r.length>0){let a=r.filter(s=>s!==i.validator);a.length!==r.length&&(e=!0,t.setValidators(a))}}if(i.asyncValidator!==null){let r=xz(t);if(Array.isArray(r)&&r.length>0){let a=r.filter(s=>s!==i.asyncValidator);a.length!==r.length&&(e=!0,t.setAsyncValidators(a))}}}let n=()=>{};return PC(i._rawValidators,n),PC(i._rawAsyncValidators,n),e}function _re(t,i){i.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&Dz(t,i)})}function xre(t,i){i.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&Dz(t,i),t.updateOn!=="submit"&&t.markAsTouched()})}function Dz(t,i){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),i.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Cre(t,i){let e=(n,r)=>{i.valueAccessor.writeValue(n),r&&i.viewToModelUpdate(n)};t.registerOnChange(e),i._registerOnDestroy(()=>{t._unregisterOnChange(e)})}function Sz(t,i){t==null,pT(t,i)}function wre(t,i){return FC(t,i)}function Dre(t,i){if(!t.hasOwnProperty("model"))return!1;let e=t.model;return e.isFirstChange()?!0:!Object.is(i,e.currentValue)}function Sre(t){return Object.getPrototypeOf(t.constructor)===uz}function Mz(t,i){t._syncPendingControls(),i.forEach(e=>{let n=e.control;n.updateOn==="submit"&&n._pendingChange&&(e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function Mre(t,i){if(!i)return null;Array.isArray(i);let e,n,r;return i.forEach(a=>{a.constructor===Ds?e=a:Sre(a)?n=a:r=a}),r||n||e||null}function Ire(t,i){let e=t.indexOf(i);e>-1&&t.splice(e,1)}var kre={provide:sc,useExisting:va(()=>Ss)},mb=Promise.resolve(),Ss=(()=>{class t extends sc{callSetDisabledState;get submitted(){return fr(this.submittedReactive)}_submitted=zn(()=>this.submittedReactive());submittedReactive=bn(!1);_directives=new Set;form;ngSubmit=new ie;options;constructor(e,n,r){super(),this.callSetDisabledState=r,this.form=new LC({},uT(e),hT(n))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){mb.then(()=>{let n=this._findContainer(e.path);e.control=n.registerControl(e.name,e.control),NC(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){mb.then(()=>{let n=this._findContainer(e.path);n&&n.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){mb.then(()=>{let n=this._findContainer(e.path),r=new LC({});Sz(r,e),n.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){mb.then(()=>{let n=this._findContainer(e.path);n&&n.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,n){mb.then(()=>{this.form.get(e.path).setValue(n)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),Mz(this.form,this._directives),this.ngSubmit.emit(e),this.form._events.next(new TC(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1),this.form._events.next(new RC(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static \u0275fac=function(n){return new(n||t)(J(yl,10),J(dT,10),J(BC,8))};static \u0275dir=Y({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,r){n&1&&X("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Ye([kre]),Ve]})}return t})();function oz(t,i){let e=t.indexOf(i);e>-1&&t.splice(e,1)}function lz(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Iz=class extends OC{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(i=null,e,n){super(Cz(e),wz(n,e)),this._applyFormState(i),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),VC(e)&&(e.nonNullable||e.initialValueIsDefault)&&(lz(i)?this.defaultValue=i.value:this.defaultValue=i)}setValue(i,e={}){this.value=this._pendingValue=i,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(i,e={}){this.setValue(i,e)}reset(i=this.defaultValue,e={}){this._applyFormState(i),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(i){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(i){this._onChange.push(i)}_unregisterOnChange(i){oz(this._onChange,i)}registerOnDisabledChange(i){this._onDisabledChange.push(i)}_unregisterOnDisabledChange(i){oz(this._onDisabledChange,i)}_forEachChild(i){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(i){lz(i)?(this.value=this._pendingValue=i.value,i.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=i}};var Are=t=>t instanceof Iz;var Ere={provide:gl,useExisting:va(()=>ca)},cz=Promise.resolve(),ca=(()=>{class t extends gl{_changeDetectorRef;callSetDisabledState;control=new Iz;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new ie;constructor(e,n,r,a,s,o){super(),this._changeDetectorRef=s,this.callSetDisabledState=o,this._parent=e,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=Mre(this,a)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let n=e.name.previousValue;this.formDirective.removeControl({name:n,path:this._getPath(n)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),Dre(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){NC(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){cz.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let n=e.isDisabled.currentValue,r=n!==0&&re(n);cz.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?bre(e,this._parent):[e]}static \u0275fac=function(n){return new(n||t)(J(sc,9),J(yl,10),J(dT,10),J(oc,10),J(st,8),J(BC,8))};static \u0275dir=Y({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Ye([Ere]),Ve,_t]})}return t})();var Ep=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})(),Tre={provide:oc,useExisting:va(()=>fT),multi:!0},fT=(()=>{class t extends uz{writeValue(e){let n=e??"";this.setProperty("value",n)}registerOnChange(e){this.onChange=n=>{e(n==""?null:parseFloat(n))}}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Dt(t)))(r||t)}})();static \u0275dir=Y({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(n,r){n&1&&X("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},standalone:!1,features:[Ye([Tre]),Ve]})}return t})();var Rre={provide:sc,useExisting:va(()=>Tp)},Tp=(()=>{class t extends sc{callSetDisabledState;get submitted(){return fr(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}_submitted=zn(()=>this._submittedReactive());_submittedReactive=bn(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new ie;constructor(e,n,r){super(),this.callSetDisabledState=r,this._setValidators(e),this._setAsyncValidators(n)}ngOnChanges(e){e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(FC(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let n=this.form.get(e.path);return NC(n,e,this.callSetDisabledState),n.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),n}getControl(e){return this.form.get(e.path)}removeControl(e){sz(e.control||null,e,!1),Ire(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,n){this.form.get(e.path).setValue(n)}onSubmit(e){return this._submittedReactive.set(!0),Mz(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new TC(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this._submittedReactive.set(!1),this.form._events.next(new RC(this.form))}_updateDomValue(){this.directives.forEach(e=>{let n=e.control,r=this.form.get(e.path);n!==r&&(sz(n||null,e),Are(r)&&(NC(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let n=this.form.get(e.path);Sz(n,e),n.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let n=this.form.get(e.path);n&&wre(n,e)&&n.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){pT(this.form,this),this._oldForm&&FC(this._oldForm,this)}static \u0275fac=function(n){return new(n||t)(J(yl,10),J(dT,10),J(BC,8))};static \u0275dir=Y({type:t,selectors:[["","formGroup",""]],hostBindings:function(n,r){n&1&&X("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Ye([Rre]),Ve,_t]})}return t})();var Ore=(()=>{class t{_validator=MC;_onChange;_enabled;ngOnChanges(e){if(this.inputName in e){let n=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(n),this._validator=this._enabled?this.createValidator(n):MC,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,features:[_t]})}return t})();var Lre={provide:yl,useExisting:va(()=>gb),multi:!0};var gb=(()=>{class t extends Ore{required;inputName="required";normalizeInput=re;createValidator=e=>hz;enabled(e){return e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Dt(t)))(r||t)}})();static \u0275dir=Y({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(n,r){n&2&&Ee("required",r._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Ye([Lre]),Ve]})}return t})();var Nre=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Se({type:t});static \u0275inj=De({})}return t})();var kz=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:BC,useValue:e.callSetDisabledState??mT}]}}static \u0275fac=function(n){return new(n||t)};static \u0275mod=Se({type:t});static \u0275inj=De({imports:[Nre]})}return t})();var Rp=new G("MAT_INPUT_VALUE_ACCESSOR");var Pre=["notch"],Fre=["matFormFieldNotchedOutline",""],Vre=["*"],Bre=["textField"],jre=["iconPrefixContainer"],zre=["textPrefixContainer"],Ure=["iconSuffixContainer"],Hre=["textSuffixContainer"],Gre=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Wre=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function $re(t,i){t&1&&ae(0,"span",20)}function Yre(t,i){if(t&1&&(M(0,"label",19),ke(1,1),ne(2,$re,1,0,"span",20),k()),t&2){let e=ye(2);W("floating",e._shouldLabelFloat())("monitorResize",e._hasOutline())("id",e._labelId),Ee("for",e._control.disableAutomaticLabeling?null:e._control.id),T(2),kt(!e.hideRequiredMarker&&e._control.required?2:-1)}}function Kre(t,i){if(t&1&&ne(0,Yre,3,5,"label",19),t&2){let e=ye();kt(e._hasFloatingLabel()?0:-1)}}function qre(t,i){t&1&&ae(0,"div",7)}function Zre(t,i){}function Qre(t,i){if(t&1&&ne(0,Zre,0,0,"ng-template",13),t&2){ye(2);let e=ar(1);W("ngTemplateOutlet",e)}}function Xre(t,i){if(t&1&&(M(0,"div",9),ne(1,Qre,1,1,null,13),k()),t&2){let e=ye();W("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat()),T(),kt(e._forceDisplayInfixLabel()?-1:1)}}function Jre(t,i){t&1&&(M(0,"div",10,2),ke(2,2),k())}function eae(t,i){t&1&&(M(0,"div",11,3),ke(2,3),k())}function tae(t,i){}function iae(t,i){if(t&1&&ne(0,tae,0,0,"ng-template",13),t&2){ye();let e=ar(1);W("ngTemplateOutlet",e)}}function nae(t,i){t&1&&(M(0,"div",14,4),ke(2,4),k())}function rae(t,i){t&1&&(M(0,"div",15,5),ke(2,5),k())}function aae(t,i){t&1&&ae(0,"div",16)}function sae(t,i){t&1&&ke(0,6)}function oae(t,i){if(t&1&&(M(0,"mat-hint",21),V(1),k()),t&2){let e=ye(2);W("id",e._hintLabelId),T(),$e(e.hintLabel)}}function lae(t,i){if(t&1&&(ne(0,oae,2,2,"mat-hint",21),ke(1,7),ae(2,"div",22),ke(3,8)),t&2){let e=ye();kt(e.hintLabel?0:-1)}}var vr=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["mat-label"]]})}return t})(),cae=new G("MatError");var gT=(()=>{class t{align="start";id=x(ei).getId("mat-mdc-hint-");static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(n,r){n&2&&(xa("id",r.id),Ee("align",null),me("mat-mdc-form-field-hint-end",r.align==="end"))},inputs:{align:"align",id:"id"}})}return t})(),dae=new G("MatPrefix");var Nz=new G("MatSuffix"),lc=(()=>{class t{set _isTextSelector(e){this._isText=!0}_isText=!1;static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:[0,"matTextSuffix","_isTextSelector"]},features:[Ye([{provide:Nz,useExisting:t}])]})}return t})(),Pz=new G("FloatingLabelParent"),Az=(()=>{class t{_elementRef=x(ge);get floating(){return this._floating}set floating(e){this._floating=e,this.monitorResize&&this._handleResize()}_floating=!1;get monitorResize(){return this._monitorResize}set monitorResize(e){this._monitorResize=e,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}_monitorResize=!1;_resizeObserver=x(oC);_ngZone=x(we);_parent=x(Pz);_resizeSubscription=new xt;constructor(){}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return uae(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(n,r){n&2&&me("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return t})();function uae(t){let i=t;if(i.offsetParent!==null)return i.scrollWidth;let e=i.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);let n=e.scrollWidth;return e.remove(),n}var Ez="mdc-line-ripple--active",jC="mdc-line-ripple--deactivating",Tz=(()=>{class t{_elementRef=x(ge);_cleanupTransitionEnd;constructor(){let e=x(we),n=x(Qt);e.runOutsideAngular(()=>{this._cleanupTransitionEnd=n.listen(this._elementRef.nativeElement,"transitionend",this._handleTransitionEnd)})}activate(){let e=this._elementRef.nativeElement.classList;e.remove(jC),e.add(Ez)}deactivate(){this._elementRef.nativeElement.classList.add(jC)}_handleTransitionEnd=e=>{let n=this._elementRef.nativeElement.classList,r=n.contains(jC);e.propertyName==="opacity"&&r&&n.remove(Ez,jC)};ngOnDestroy(){this._cleanupTransitionEnd()}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return t})(),Rz=(()=>{class t{_elementRef=x(ge);_ngZone=x(we);open=!1;_notch;constructor(){}ngAfterViewInit(){let e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(e){!this.open||!e?this._notch.nativeElement.style.width="":this._notch.nativeElement.style.width=`calc(${e}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Q({type:t,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(n,r){if(n&1&&Xe(Pre,5),n&2){let a;be(a=ve())&&(r._notch=a.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(n,r){n&2&&me("mdc-notched-outline--notched",r.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},attrs:Fre,ngContentSelectors:Vre,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(n,r){n&1&&(mt(),ae(0,"div",1),M(1,"div",2,0),ke(3),k(),ae(4,"div",3))},encapsulation:2,changeDetection:0})}return t})(),Op=(()=>{class t{value;stateChanges;id;placeholder;ngControl;focused;empty;shouldLabelFloat;required;disabled;errorState;controlType;autofilled;userAriaDescribedBy;disableAutomaticLabeling;static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t})}return t})();var cc=new G("MatFormField"),hae=new G("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Oz="fill",mae="auto",Lz="fixed",pae="translateY(-50%)",da=(()=>{class t{_elementRef=x(ge);_changeDetectorRef=x(st);_dir=x(Ei);_platform=x(Pt);_idGenerator=x(ei);_ngZone=x(we);_injector=x(Qe);_defaults=x(hae,{optional:!0});_textField;_iconPrefixContainer;_textPrefixContainer;_iconSuffixContainer;_textSuffixContainer;_floatingLabel;_notchedOutline;_lineRipple;_formFieldControl;_prefixChildren;_suffixChildren;_errorChildren;_hintChildren;_labelChild=rN(vr);get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Ka(e)}_hideRequiredMarker=!1;color="primary";get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||mae}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}_floatLabel;get appearance(){return this._appearance}set appearance(e){let n=this._appearance,r=e||this._defaults?.appearance||Oz;this._appearance=r,this._appearance==="outline"&&this._appearance!==n&&(this._needsOutlineLabelOffsetUpdate=!0)}_appearance=Oz;get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||Lz}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||Lz}_subscriptSizing=null;get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}_hintLabel="";_hasIconPrefix=!1;_hasTextPrefix=!1;_hasIconSuffix=!1;_hasTextSuffix=!1;_labelId=this._idGenerator.getId("mat-mdc-form-field-label-");_hintLabelId=this._idGenerator.getId("mat-mdc-hint-");get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}_destroyed=new se;_isFocused=null;_explicitFormFieldControl;_needsOutlineLabelOffsetUpdate=!1;_previousControl=null;_previousControlValidatorFn=null;_stateChanges;_valueChanges;_describedByChanges;_animationsDisabled;constructor(){let e=this._defaults;e&&(e.appearance&&(this.appearance=e.appearance),this._hideRequiredMarker=!!e?.hideRequiredMarker,e.color&&(this.color=e.color)),this._animationsDisabled=x(Kt,{optional:!0})==="NoopAnimations"}ngAfterViewInit(){this._updateFocusState(),this._animationsDisabled||this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-form-field-animations-enabled")},300)}),this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._control.ngControl&&this._control.ngControl.control&&(this._previousControlValidatorFn=this._control.ngControl.control.validator),this._previousControl=this._control),this._control.ngControl&&this._control.ngControl.control&&this._control.ngControl.control.validator!==this._previousControlValidatorFn&&this._changeDetectorRef.markForCheck()}ngOnDestroy(){this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._describedByChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}getLabelId=zn(()=>this._hasFloatingLabel()?this._labelId:null);getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(e){let n=this._control,r="mat-mdc-form-field-type-";e&&this._elementRef.nativeElement.classList.remove(r+e.controlType),n.controlType&&this._elementRef.nativeElement.classList.add(r+n.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=n.stateChanges.subscribe(()=>{this._updateFocusState(),this._changeDetectorRef.markForCheck()}),this._describedByChanges?.unsubscribe(),this._describedByChanges=n.stateChanges.pipe(yi([void 0,void 0]),Re(()=>[n.errorState,n.userAriaDescribedBy]),PS(),It(([[a,s],[o,l]])=>a!==o||s!==l)).subscribe(()=>this._syncDescribedByIds()),this._valueChanges?.unsubscribe(),n.ngControl&&n.ngControl.valueChanges&&(this._valueChanges=n.ngControl.valueChanges.pipe(di(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()))}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),ri(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),v_(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe(di(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel=zn(()=>!!this._labelChild());_shouldLabelFloat(){return this._hasFloatingLabel()?this._control.shouldLabelFloat||this._shouldAlwaysFloat():!1}_shouldForward(e){let n=this._control?this._control.ngControl:null;return n&&n[e]}_getSubscriptMessageType(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&e.push(...this._control.userAriaDescribedBy.split(" ")),this._getSubscriptMessageType()==="hint"){let n=this._hintChildren?this._hintChildren.find(a=>a.align==="start"):null,r=this._hintChildren?this._hintChildren.find(a=>a.align==="end"):null;n?e.push(n.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(n=>n.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;let e=this._floatingLabel.element;if(!(this._iconPrefixContainer||this._textPrefixContainer)){e.style.transform="";return}if(!this._isAttachedToDom()){this._needsOutlineLabelOffsetUpdate=!0;return}let n=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,a=this._iconSuffixContainer?.nativeElement,s=this._textSuffixContainer?.nativeElement,o=n?.getBoundingClientRect().width??0,l=r?.getBoundingClientRect().width??0,c=a?.getBoundingClientRect().width??0,d=s?.getBoundingClientRect().width??0,u=this._dir.value==="rtl"?"-1":"1",h=`${o+l}px`,p=`calc(${u} * (${h} + var(--mat-mdc-form-field-label-offset-x, 0px)))`;e.style.transform=`var(
        --mat-mdc-form-field-label-transform,
        ${pae} translateX(${p})
    )`;let g=o+l+c+d;this._elementRef.nativeElement.style.setProperty("--mat-form-field-notch-max-width",`calc(100% - ${g}px)`)}_isAttachedToDom(){let e=this._elementRef.nativeElement;if(e.getRootNode){let n=e.getRootNode();return n&&n!==e}return document.documentElement.contains(e)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Q({type:t,selectors:[["mat-form-field"]],contentQueries:function(n,r,a){if(n&1&&(uN(a,r._labelChild,vr,5),Et(a,Op,5),Et(a,dae,5),Et(a,Nz,5),Et(a,cae,5),Et(a,gT,5)),n&2){M_();let s;be(s=ve())&&(r._formFieldControl=s.first),be(s=ve())&&(r._prefixChildren=s),be(s=ve())&&(r._suffixChildren=s),be(s=ve())&&(r._errorChildren=s),be(s=ve())&&(r._hintChildren=s)}},viewQuery:function(n,r){if(n&1&&(Xe(Bre,5),Xe(jre,5),Xe(zre,5),Xe(Ure,5),Xe(Hre,5),Xe(Az,5),Xe(Rz,5),Xe(Tz,5)),n&2){let a;be(a=ve())&&(r._textField=a.first),be(a=ve())&&(r._iconPrefixContainer=a.first),be(a=ve())&&(r._textPrefixContainer=a.first),be(a=ve())&&(r._iconSuffixContainer=a.first),be(a=ve())&&(r._textSuffixContainer=a.first),be(a=ve())&&(r._floatingLabel=a.first),be(a=ve())&&(r._notchedOutline=a.first),be(a=ve())&&(r._lineRipple=a.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:40,hostBindings:function(n,r){n&2&&me("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-appearance-fill",r.appearance=="fill")("mat-form-field-appearance-outline",r.appearance=="outline")("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary",r.color!=="accent"&&r.color!=="warn")("mat-accent",r.color==="accent")("mat-warn",r.color==="warn")("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[Ye([{provide:cc,useExisting:t},{provide:Pz,useExisting:t}])],ngContentSelectors:Wre,decls:20,vars:25,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],["textSuffixContainer",""],["iconSuffixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],["aria-atomic","true","aria-live","polite"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(n,r){if(n&1){let a=zt();mt(Gre),ne(0,Kre,1,1,"ng-template",null,0,bg),M(2,"div",6,1),X("click",function(o){return xe(a),Ce(r._control.onContainerClick(o))}),ne(4,qre,1,0,"div",7),M(5,"div",8),ne(6,Xre,2,2,"div",9)(7,Jre,3,0,"div",10)(8,eae,3,0,"div",11),M(9,"div",12),ne(10,iae,1,1,null,13),ke(11),k(),ne(12,nae,3,0,"div",14)(13,rae,3,0,"div",15),k(),ne(14,aae,1,0,"div",16),k(),M(15,"div",17),hN(16),M(17,"div",18),ne(18,sae,1,0)(19,lae,4,1),k()()}if(n&2){let a;T(2),me("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),T(2),kt(!r._hasOutline()&&!r._control.disabled?4:-1),T(2),kt(r._hasOutline()?6:-1),T(),kt(r._hasIconPrefix?7:-1),T(),kt(r._hasTextPrefix?8:-1),T(2),kt(!r._hasOutline()||r._forceDisplayInfixLabel()?10:-1),T(2),kt(r._hasTextSuffix?12:-1),T(),kt(r._hasIconSuffix?13:-1),T(),kt(r._hasOutline()?-1:14),T(),me("mat-mdc-form-field-subscript-dynamic-size",r.subscriptSizing==="dynamic");let s=r._getSubscriptMessageType();T(2),me("mat-mdc-form-field-error-wrapper",s==="error")("mat-mdc-form-field-hint-wrapper",s==="hint"),T(),kt((a=s)==="error"?18:a==="hint"?19:-1)}},dependencies:[Az,Rz,sM,Tz,gT],styles:[`.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-moz-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-webkit-input-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive:-ms-input-placeholder{opacity:0}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mdc-filled-text-field-caret-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mdc-outlined-text-field-caret-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mdc-filled-text-field-container-shape, var(--mat-sys-corner-extra-small));border-top-right-radius:var(--mdc-filled-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color, var(--mat-sys-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 4%, transparent))}.mdc-text-field--outlined{height:56px;overflow:visible;padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)));padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)) + 4px);padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)))}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}@media(forced-colors: active){.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-filled-text-field-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-filled-text-field-hover-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-filled-text-field-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-filled-text-field-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-filled-text-field-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mdc-filled-text-field-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mdc-filled-text-field-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mdc-filled-text-field-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-outlined-text-field-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-hover-label-text-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-outlined-text-field-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-outlined-text-field-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mdc-outlined-text-field-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mdc-outlined-text-field-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mdc-outlined-text-field-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-outline-color, var(--mat-sys-outline));border-width:var(--mdc-outlined-text-field-outline-width, 1px)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-hover-outline-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-focus-outline-color, var(--mat-sys-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-hover-outline-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-focus-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mdc-outlined-text-field-focus-outline-width, 2px)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)))}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:min(var(--mat-form-field-notch-max-width, 100%),100% - max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)))*2)}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none;--mat-form-field-notch-max-width: 100%}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mdc-filled-text-field-active-indicator-height, 1px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color, var(--mat-sys-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color, var(--mat-sys-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height, 2px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color, var(--mat-sys-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color, var(--mat-sys-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height, 56px);padding-top:var(--mat-form-field-filled-with-label-container-padding-top, 24px);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom, 8px)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding, 16px);padding-bottom:var(--mat-form-field-container-vertical-padding, 16px)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height, 56px)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height, 56px) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}@keyframes _mat-form-field-subscript-animation{from{opacity:0;transform:translateY(-5px)}to{opacity:1;transform:translateY(0)}}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px;opacity:1;transform:translateY(0);animation:_mat-form-field-subscript-animation 0ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-sys-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-sys-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-sys-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-sys-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-sys-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-sys-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-sys-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity, 0)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color, var(--mat-sys-neutral10))}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color, color-mix(in srgb, var(--mat-sys-neutral10) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-sys-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}@media(forced-colors: active){.mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}}@media(forced-colors: active){.mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-sys-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-sys-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-sys-body-large-weight))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-sys-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-sys-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-sys-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field-infix:has(textarea[cols]){width:auto}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field.mat-form-field-animations-enabled .mat-mdc-form-field-error-wrapper{animation-duration:300ms}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}
`],encapsulation:2,changeDetection:0})}return t})();var zC=(()=>{class t{isErrorState(e,n){return!!(e&&e.invalid&&(e.touched||n&&n.submitted))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Lp=class{_defaultMatcher;ngControl;_parentFormGroup;_parentForm;_stateChanges;errorState=!1;matcher;constructor(i,e,n,r,a){this._defaultMatcher=i,this.ngControl=e,this._parentFormGroup=n,this._parentForm=r,this._stateChanges=a}updateErrorState(){let i=this.errorState,e=this._parentFormGroup||this._parentForm,n=this.matcher||this._defaultMatcher,r=this.ngControl?this.ngControl.control:null,a=n?.isErrorState(r,e)??!1;a!==i&&(this.errorState=a,this._stateChanges.next())}};var kd=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Se({type:t});static \u0275inj=De({imports:[nt,Em,nt]})}return t})();var fae=["button","checkbox","file","hidden","image","radio","range","reset","submit"],gae=new G("MAT_INPUT_CONFIG"),Ms=(()=>{class t{_elementRef=x(ge);_platform=x(Pt);ngControl=x(gl,{optional:!0,self:!0});_autofillMonitor=x(tz);_ngZone=x(we);_formField=x(cc,{optional:!0});_renderer=x(Qt);_uid=x(ei).getId("mat-input-");_previousNativeValue;_inputValueAccessor;_signalBasedValueAccessor;_previousPlaceholder;_errorStateTracker;_config=x(gae,{optional:!0});_cleanupIosKeyup;_cleanupWebkitWheel;_formFieldDescribedBy;_isServer;_isNativeSelect;_isTextarea;_isInFormField;focused=!1;stateChanges=new se;controlType="mat-input";autofilled=!1;get disabled(){return this._disabled}set disabled(e){this._disabled=Ka(e),this.focused&&(this.focused=!1,this.stateChanges.next())}_disabled=!1;get id(){return this._id}set id(e){this._id=e||this._uid}_id;placeholder;name;get required(){return this._required??this.ngControl?.control?.hasValidator(fl.required)??!1}set required(e){this._required=Ka(e)}_required;get type(){return this._type}set type(e){let n=this._type;this._type=e||"text",this._validateType(),!this._isTextarea&&NE().has(this._type)&&(this._elementRef.nativeElement.type=this._type),this._type!==n&&this._ensureWheelDefaultBehavior()}_type="text";get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}userAriaDescribedBy;get value(){return this._signalBasedValueAccessor?this._signalBasedValueAccessor.value():this._inputValueAccessor.value}set value(e){e!==this.value&&(this._signalBasedValueAccessor?this._signalBasedValueAccessor.value.set(e):this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Ka(e)}_readonly=!1;disabledInteractive;get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}_neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(e=>NE().has(e));constructor(){let e=x(Ss,{optional:!0}),n=x(Tp,{optional:!0}),r=x(zC),a=x(Rp,{optional:!0,self:!0}),s=this._elementRef.nativeElement,o=s.nodeName.toLowerCase();a?pu(a.value)?this._signalBasedValueAccessor=a:this._inputValueAccessor=a:this._inputValueAccessor=s,this._previousNativeValue=this.value,this.id=this.id,this._platform.IOS&&this._ngZone.runOutsideAngular(()=>{this._cleanupIosKeyup=this._renderer.listen(s,"keyup",this._iOSKeyupListener)}),this._errorStateTracker=new Lp(r,this.ngControl,n,e,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=o==="select",this._isTextarea=o==="textarea",this._isInFormField=!!this._formField,this.disabledInteractive=this._config?.disabledInteractive||!1,this._isNativeSelect&&(this.controlType=s.multiple?"mat-native-select-multiple":"mat-native-select"),this._signalBasedValueAccessor&&Go(()=>{this._signalBasedValueAccessor.value(),this.stateChanges.next()})}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._cleanupIosKeyup?.(),this._cleanupWebkitWheel?.()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(e){if(e!==this.focused){if(!this._isNativeSelect&&e&&this.disabled&&this.disabledInteractive){let n=this._elementRef.nativeElement;n.type==="number"?(n.type="text",n.setSelectionRange(0,0),n.type="number"):n.setSelectionRange(0,0)}this.focused=e,this.stateChanges.next()}}_onInput(){}_dirtyCheckNativeValue(){let e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){let e=this._getPlaceholder();if(e!==this._previousPlaceholder){let n=this._elementRef.nativeElement;this._previousPlaceholder=e,e?n.setAttribute("placeholder",e):n.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){fae.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let e=this._elementRef.nativeElement,n=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&n&&n.label)}else return this.focused&&!this.disabled||!this.empty}setDescribedByIds(e){let n=this._elementRef.nativeElement,r=n.getAttribute("aria-describedby"),a;if(r){let s=this._formFieldDescribedBy||e;a=e.concat(r.split(" ").filter(o=>o&&!s.includes(o)))}else a=e;this._formFieldDescribedBy=e,a.length?n.setAttribute("aria-describedby",a.join(" ")):n.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}_iOSKeyupListener=e=>{let n=e.target;!n.value&&n.selectionStart===0&&n.selectionEnd===0&&(n.setSelectionRange(1,1),n.setSelectionRange(0,0))};_webkitBlinkWheelListener=()=>{};_ensureWheelDefaultBehavior(){this._cleanupWebkitWheel?.(),this._type==="number"&&(this._platform.BLINK||this._platform.WEBKIT)&&(this._cleanupWebkitWheel=this._renderer.listen(this._elementRef.nativeElement,"wheel",this._webkitBlinkWheelListener))}_getReadonlyAttribute(){return this._isNativeSelect?null:this.readonly||this.disabled&&this.disabledInteractive?"true":null}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:21,hostBindings:function(n,r){n&1&&X("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),n&2&&(xa("id",r.id)("disabled",r.disabled&&!r.disabledInteractive)("required",r.required),Ee("name",r.name||null)("readonly",r._getReadonlyAttribute())("aria-disabled",r.disabled&&r.disabledInteractive?"true":null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),me("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mat-mdc-input-disabled-interactive",r.disabledInteractive)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly",disabledInteractive:[2,"disabledInteractive","disabledInteractive",re]},exportAs:["matInput"],features:[Ye([{provide:Op,useExisting:t}]),_t]})}return t})(),Fz=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Se({type:t});static \u0275inj=De({imports:[nt,kd,kd,iz,nt]})}return t})();var yT=new G("MAT_DATE_LOCALE",{providedIn:"root",factory:yae});function yae(){return x(bu)}var Np="Method not implemented",Kn=class{locale;_localeChanges=new se;localeChanges=this._localeChanges;setTime(i,e,n,r){throw new Error(Np)}getHours(i){throw new Error(Np)}getMinutes(i){throw new Error(Np)}getSeconds(i){throw new Error(Np)}parseTime(i,e){throw new Error(Np)}addSeconds(i,e){throw new Error(Np)}getValidDateOrNull(i){return this.isDateInstance(i)&&this.isValid(i)?i:null}deserialize(i){return i==null||this.isDateInstance(i)&&this.isValid(i)?i:this.invalid()}setLocale(i){this.locale=i,this._localeChanges.next()}compareDate(i,e){return this.getYear(i)-this.getYear(e)||this.getMonth(i)-this.getMonth(e)||this.getDate(i)-this.getDate(e)}compareTime(i,e){return this.getHours(i)-this.getHours(e)||this.getMinutes(i)-this.getMinutes(e)||this.getSeconds(i)-this.getSeconds(e)}sameDate(i,e){if(i&&e){let n=this.isValid(i),r=this.isValid(e);return n&&r?!this.compareDate(i,e):n==r}return i==e}sameTime(i,e){if(i&&e){let n=this.isValid(i),r=this.isValid(e);return n&&r?!this.compareTime(i,e):n==r}return i==e}clampDate(i,e,n){return e&&this.compareDate(i,e)<0?e:n&&this.compareDate(i,n)>0?n:i}},go=new G("mat-date-formats");var bae=["mat-calendar-body",""];function vae(t,i){return this._trackRow(i)}var Gz=(t,i)=>i.id;function _ae(t,i){if(t&1&&(M(0,"tr",0)(1,"td",3),V(2),k()()),t&2){let e=ye();T(),Ys("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),Ee("colspan",e.numCols),T(),Ut(" ",e.label," ")}}function xae(t,i){if(t&1&&(M(0,"td",3),V(1),k()),t&2){let e=ye(2);Ys("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),Ee("colspan",e._firstRowOffset),T(),Ut(" ",e._firstRowOffset>=e.labelMinRequiredCells?e.label:""," ")}}function Cae(t,i){if(t&1){let e=zt();M(0,"td",6)(1,"button",7),X("click",function(r){let a=xe(e).$implicit,s=ye(2);return Ce(s._cellClicked(a,r))})("focus",function(r){let a=xe(e).$implicit,s=ye(2);return Ce(s._emitActiveDateChange(a,r))}),M(2,"span",8),V(3),k(),ae(4,"span",9),k()()}if(t&2){let e=i.$implicit,n=i.$index,r=ye().$index,a=ye();Ys("width",a._cellWidth)("padding-top",a._cellPadding)("padding-bottom",a._cellPadding),Ee("data-mat-row",r)("data-mat-col",n),T(),me("mat-calendar-body-disabled",!e.enabled)("mat-calendar-body-active",a._isActiveCell(r,n))("mat-calendar-body-range-start",a._isRangeStart(e.compareValue))("mat-calendar-body-range-end",a._isRangeEnd(e.compareValue))("mat-calendar-body-in-range",a._isInRange(e.compareValue))("mat-calendar-body-comparison-bridge-start",a._isComparisonBridgeStart(e.compareValue,r,n))("mat-calendar-body-comparison-bridge-end",a._isComparisonBridgeEnd(e.compareValue,r,n))("mat-calendar-body-comparison-start",a._isComparisonStart(e.compareValue))("mat-calendar-body-comparison-end",a._isComparisonEnd(e.compareValue))("mat-calendar-body-in-comparison-range",a._isInComparisonRange(e.compareValue))("mat-calendar-body-preview-start",a._isPreviewStart(e.compareValue))("mat-calendar-body-preview-end",a._isPreviewEnd(e.compareValue))("mat-calendar-body-in-preview",a._isInPreview(e.compareValue)),W("ngClass",e.cssClasses)("tabindex",a._isActiveCell(r,n)?0:-1),Ee("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null)("aria-pressed",a._isSelected(e.compareValue))("aria-current",a.todayValue===e.compareValue?"date":null)("aria-describedby",a._getDescribedby(e.compareValue)),T(),me("mat-calendar-body-selected",a._isSelected(e.compareValue))("mat-calendar-body-comparison-identical",a._isComparisonIdentical(e.compareValue))("mat-calendar-body-today",a.todayValue===e.compareValue),T(),Ut(" ",e.displayValue," ")}}function wae(t,i){if(t&1&&(M(0,"tr",1),ne(1,xae,2,6,"td",4),Bl(2,Cae,5,48,"td",5,Gz),k()),t&2){let e=i.$implicit,n=i.$index,r=ye();T(),kt(n===0&&r._firstRowOffset?1:-1),T(),jl(e)}}function Dae(t,i){if(t&1&&(M(0,"th",2)(1,"span",6),V(2),k(),M(3,"span",3),V(4),k()()),t&2){let e=i.$implicit;T(2),$e(e.long),T(2),$e(e.narrow)}}var Sae=["*"];function Mae(t,i){}function Iae(t,i){if(t&1){let e=zt();M(0,"mat-month-view",4),Fi("activeDateChange",function(r){xe(e);let a=ye();return Pi(a.activeDate,r)||(a.activeDate=r),Ce(r)}),X("_userSelection",function(r){xe(e);let a=ye();return Ce(a._dateSelected(r))})("dragStarted",function(r){xe(e);let a=ye();return Ce(a._dragStarted(r))})("dragEnded",function(r){xe(e);let a=ye();return Ce(a._dragEnded(r))}),k()}if(t&2){let e=ye();Ni("activeDate",e.activeDate),W("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)("startDateAccessibleName",e.startDateAccessibleName)("endDateAccessibleName",e.endDateAccessibleName)("activeDrag",e._activeDrag)}}function kae(t,i){if(t&1){let e=zt();M(0,"mat-year-view",5),Fi("activeDateChange",function(r){xe(e);let a=ye();return Pi(a.activeDate,r)||(a.activeDate=r),Ce(r)}),X("monthSelected",function(r){xe(e);let a=ye();return Ce(a._monthSelectedInYearView(r))})("selectedChange",function(r){xe(e);let a=ye();return Ce(a._goToDateInView(r,"month"))}),k()}if(t&2){let e=ye();Ni("activeDate",e.activeDate),W("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function Aae(t,i){if(t&1){let e=zt();M(0,"mat-multi-year-view",6),Fi("activeDateChange",function(r){xe(e);let a=ye();return Pi(a.activeDate,r)||(a.activeDate=r),Ce(r)}),X("yearSelected",function(r){xe(e);let a=ye();return Ce(a._yearSelectedInMultiYearView(r))})("selectedChange",function(r){xe(e);let a=ye();return Ce(a._goToDateInView(r,"year"))}),k()}if(t&2){let e=ye();Ni("activeDate",e.activeDate),W("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function Eae(t,i){}var Tae=["button"],Rae=[[["","matDatepickerToggleIcon",""]]],Oae=["[matDatepickerToggleIcon]"];function Lae(t,i){t&1&&(Ai(),M(0,"svg",2),ae(1,"path",3),k())}var Vp=(()=>{class t{changes=new se;calendarLabel="Calendar";openCalendarLabel="Open calendar";closeCalendarLabel="Close calendar";prevMonthLabel="Previous month";nextMonthLabel="Next month";prevYearLabel="Previous year";nextYearLabel="Next year";prevMultiYearLabel="Previous 24 years";nextMultiYearLabel="Next 24 years";switchToMonthViewLabel="Choose date";switchToMultiYearViewLabel="Choose month and year";startDateLabel="Start date";endDateLabel="End date";comparisonDateLabel="Comparison range";formatYearRange(e,n){return`${e} \u2013 ${n}`}formatYearRangeLabel(e,n){return`${e} to ${n}`}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Nae=0,bb=class{value;displayValue;ariaLabel;enabled;cssClasses;compareValue;rawValue;id=Nae++;constructor(i,e,n,r,a={},s=i,o){this.value=i,this.displayValue=e,this.ariaLabel=n,this.enabled=r,this.cssClasses=a,this.compareValue=s,this.rawValue=o}},Pae={passive:!1,capture:!0},UC={passive:!0,capture:!0},Vz={passive:!0},Fp=(()=>{class t{_elementRef=x(ge);_ngZone=x(we);_platform=x(Pt);_intl=x(Vp);_eventCleanups;_skipNextFocus;_focusActiveCellAfterViewChecked=!1;label;rows;todayValue;startValue;endValue;labelMinRequiredCells;numCols=7;activeCell=0;ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}isRange=!1;cellAspectRatio=1;comparisonStart;comparisonEnd;previewStart=null;previewEnd=null;startDateAccessibleName;endDateAccessibleName;selectedValueChange=new ie;previewChange=new ie;activeDateChange=new ie;dragStarted=new ie;dragEnded=new ie;_firstRowOffset;_cellPadding;_cellWidth;_startDateLabelId;_endDateLabelId;_comparisonStartDateLabelId;_comparisonEndDateLabelId;_didDragSinceMouseDown=!1;_injector=x(Qe);comparisonDateAccessibleName=this._intl.comparisonDateLabel;_trackRow=e=>e;constructor(){let e=x(Qt),n=x(ei);this._startDateLabelId=n.getId("mat-calendar-body-start-"),this._endDateLabelId=n.getId("mat-calendar-body-end-"),this._comparisonStartDateLabelId=n.getId("mat-calendar-body-comparison-start-"),this._comparisonEndDateLabelId=n.getId("mat-calendar-body-comparison-end-"),x(_i).load(Nr),this._ngZone.runOutsideAngular(()=>{let r=this._elementRef.nativeElement,a=[Ti(e,r,"touchmove",this._touchmoveHandler,Pae),Ti(e,r,"mouseenter",this._enterHandler,UC),Ti(e,r,"focus",this._enterHandler,UC),Ti(e,r,"mouseleave",this._leaveHandler,UC),Ti(e,r,"blur",this._leaveHandler,UC),Ti(e,r,"mousedown",this._mousedownHandler,Vz),Ti(e,r,"touchstart",this._mousedownHandler,Vz)];this._platform.isBrowser&&a.push(e.listen("window","mouseup",this._mouseupHandler),e.listen("window","touchend",this._touchendHandler)),this._eventCleanups=a})}_cellClicked(e,n){this._didDragSinceMouseDown||e.enabled&&this.selectedValueChange.emit({value:e.value,event:n})}_emitActiveDateChange(e,n){e.enabled&&this.activeDateChange.emit({value:e.value,event:n})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){let n=e.numCols,{rows:r,numCols:a}=this;(e.rows||n)&&(this._firstRowOffset=r&&r.length&&r[0].length?a-r[0].length:0),(e.cellAspectRatio||n||!this._cellPadding)&&(this._cellPadding=`${50*this.cellAspectRatio/a}%`),(n||!this._cellWidth)&&(this._cellWidth=`${100/a}%`)}ngOnDestroy(){this._eventCleanups.forEach(e=>e())}_isActiveCell(e,n){let r=e*this.numCols+n;return e&&(r-=this._firstRowOffset),r==this.activeCell}_focusActiveCell(e=!0){dn(()=>{setTimeout(()=>{let n=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");n&&(e||(this._skipNextFocus=!0),n.focus())})},{injector:this._injector})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(e){return _T(e,this.startValue,this.endValue)}_isRangeEnd(e){return xT(e,this.startValue,this.endValue)}_isInRange(e){return CT(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return _T(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,n,r){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let a=this.rows[n][r-1];if(!a){let s=this.rows[n-1];a=s&&s[s.length-1]}return a&&!this._isRangeEnd(a.compareValue)}_isComparisonBridgeEnd(e,n,r){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let a=this.rows[n][r+1];if(!a){let s=this.rows[n+1];a=s&&s[0]}return a&&!this._isRangeStart(a.compareValue)}_isComparisonEnd(e){return xT(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return CT(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return _T(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return xT(e,this.previewStart,this.previewEnd)}_isInPreview(e){return CT(e,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(e){if(!this.isRange)return null;if(this.startValue===e&&this.endValue===e)return`${this._startDateLabelId} ${this._endDateLabelId}`;if(this.startValue===e)return this._startDateLabelId;if(this.endValue===e)return this._endDateLabelId;if(this.comparisonStart!==null&&this.comparisonEnd!==null){if(e===this.comparisonStart&&e===this.comparisonEnd)return`${this._comparisonStartDateLabelId} ${this._comparisonEndDateLabelId}`;if(e===this.comparisonStart)return this._comparisonStartDateLabelId;if(e===this.comparisonEnd)return this._comparisonEndDateLabelId}return null}_enterHandler=e=>{if(this._skipNextFocus&&e.type==="focus"){this._skipNextFocus=!1;return}if(e.target&&this.isRange){let n=this._getCellFromElement(e.target);n&&this._ngZone.run(()=>this.previewChange.emit({value:n.enabled?n:null,event:e}))}};_touchmoveHandler=e=>{if(!this.isRange)return;let n=Bz(e),r=n?this._getCellFromElement(n):null;n!==e.target&&(this._didDragSinceMouseDown=!0),vT(e.target)&&e.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:r?.enabled?r:null,event:e}))};_leaveHandler=e=>{this.previewEnd!==null&&this.isRange&&(e.type!=="blur"&&(this._didDragSinceMouseDown=!0),e.target&&this._getCellFromElement(e.target)&&!(e.relatedTarget&&this._getCellFromElement(e.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:e})))};_mousedownHandler=e=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;let n=e.target&&this._getCellFromElement(e.target);!n||!this._isInRange(n.compareValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:n.rawValue,event:e})})};_mouseupHandler=e=>{if(!this.isRange)return;let n=vT(e.target);if(!n){this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:e})});return}n.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{let r=this._getCellFromElement(n);this.dragEnded.emit({value:r?.rawValue??null,event:e})})};_touchendHandler=e=>{let n=Bz(e);n&&this._mouseupHandler({target:n})};_getCellFromElement(e){let n=vT(e);if(n){let r=n.getAttribute("data-mat-row"),a=n.getAttribute("data-mat-col");if(r&&a)return this.rows[parseInt(r)][parseInt(a)]}return null}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Q({type:t,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],features:[_t],attrs:bae,decls:11,vars:11,consts:[["aria-hidden","true"],["role","row"],[1,"mat-calendar-body-hidden-label",3,"id"],[1,"mat-calendar-body-label"],[1,"mat-calendar-body-label",3,"paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"click","focus","ngClass","tabindex"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(n,r){n&1&&(ne(0,_ae,3,6,"tr",0),Bl(1,wae,4,1,"tr",1,vae,!0),M(3,"span",2),V(4),k(),M(5,"span",2),V(6),k(),M(7,"span",2),V(8),k(),M(9,"span",2),V(10),k()),n&2&&(kt(r._firstRowOffset<r.labelMinRequiredCells?0:-1),T(),jl(r.rows),T(2),W("id",r._startDateLabelId),T(),Ut(" ",r.startDateAccessibleName,`
`),T(),W("id",r._endDateLabelId),T(),Ut(" ",r.endDateAccessibleName,`
`),T(),W("id",r._comparisonStartDateLabelId),T(),KS(" ",r.comparisonDateAccessibleName," ",r.startDateAccessibleName,`
`),T(),W("id",r._comparisonEndDateLabelId),T(),KS(" ",r.comparisonDateAccessibleName," ",r.endDateAccessibleName,`
`))},dependencies:[Mg],styles:[`.mat-calendar-body{min-width:224px}.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-outline-color, var(--mat-sys-primary))}.mat-calendar-body-label{height:0;line-height:0;text-align:start;padding-left:4.7142857143%;padding-right:4.7142857143%;font-size:var(--mat-datepicker-calendar-body-label-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-body-label-text-weight, var(--mat-sys-title-small-weight));color:var(--mat-datepicker-calendar-body-label-text-color, var(--mat-sys-on-surface))}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-sys-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-sys-body-medium-size));-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview{color:var(--mat-datepicker-calendar-date-preview-state-outline-color, var(--mat-sys-primary))}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-disabled>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){color:var(--mat-datepicker-calendar-date-disabled-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-calendar-body-disabled>.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-disabled-state-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mat-calendar-body-disabled{opacity:.5}}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px;color:var(--mat-datepicker-calendar-date-text-color, var(--mat-sys-on-surface));border-color:var(--mat-datepicker-calendar-date-outline-color, transparent)}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}@media(forced-colors: active){.mat-calendar-body-cell-content{border:none}}.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-focus-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent))}@media(hover: hover){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-hover-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}}.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-state-background-color, var(--mat-sys-primary));color:var(--mat-datepicker-calendar-date-selected-state-text-color, var(--mat-sys-on-primary))}.mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-disabled-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-calendar-body-selected.mat-calendar-body-today{box-shadow:inset 0 0 0 1px var(--mat-datepicker-calendar-date-today-selected-state-outline-color, var(--mat-sys-primary))}.mat-calendar-body-in-range::before{background:var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container))}.mat-calendar-body-comparison-bridge-start::before,[dir=rtl] .mat-calendar-body-comparison-bridge-end::before{background:linear-gradient(to right, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container)) 50%)}.mat-calendar-body-comparison-bridge-end::before,[dir=rtl] .mat-calendar-body-comparison-bridge-start::before{background:linear-gradient(to left, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container)) 50%)}.mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range.mat-calendar-body-in-range::after{background:var(--mat-datepicker-calendar-date-in-overlap-range-state-background-color, var(--mat-sys-secondary-container))}.mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:var(--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color, var(--mat-sys-secondary))}@media(forced-colors: active){.mat-datepicker-popup:not(:empty),.mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.mat-calendar-body-today{outline:dotted 1px}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-selected{background:none}.mat-calendar-body-in-range::before,.mat-calendar-body-comparison-bridge-start::before,.mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}}
`],encapsulation:2,changeDetection:0})}return t})();function bT(t){return t?.nodeName==="TD"}function vT(t){let i;return bT(t)?i=t:bT(t.parentNode)?i=t.parentNode:bT(t.parentNode?.parentNode)&&(i=t.parentNode.parentNode),i?.getAttribute("data-mat-row")!=null?i:null}function _T(t,i,e){return e!==null&&i!==e&&t<e&&t===i}function xT(t,i,e){return i!==null&&i!==e&&t>=i&&t===e}function CT(t,i,e,n){return n&&i!==null&&e!==null&&i!==e&&t>=i&&t<=e}function Bz(t){let i=t.changedTouches[0];return document.elementFromPoint(i.clientX,i.clientY)}var Is=class{start;end;_disableStructuralEquivalency;constructor(i,e){this.start=i,this.end=e}},vb=(()=>{class t{selection;_adapter;_selectionChanged=new se;selectionChanged=this._selectionChanged;constructor(e,n){this.selection=e,this._adapter=n,this.selection=e}updateSelection(e,n){let r=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:n,oldValue:r})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}static \u0275fac=function(n){cm()};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})(),Fae=(()=>{class t extends vb{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return this.selection!=null&&this._isValidDateInstance(this.selection)}isComplete(){return this.selection!=null}clone(){let e=new t(this._adapter);return e.updateSelection(this.selection,this),e}static \u0275fac=function(n){return new(n||t)(Te(Kn))};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})();function Vae(t,i){return t||new Fae(i)}var Wz={provide:vb,deps:[[new Bn,new mg,vb],Kn],useFactory:Vae};var $z=new G("MAT_DATE_RANGE_SELECTION_STRATEGY");var wT=7,Bae=0,jz=(()=>{class t{_changeDetectorRef=x(st);_dateFormats=x(go,{optional:!0});_dateAdapter=x(Kn,{optional:!0});_dir=x(Ei,{optional:!0});_rangeStrategy=x($z,{optional:!0});_rerenderSubscription=xt.EMPTY;_selectionKeyPressed;get activeDate(){return this._activeDate}set activeDate(e){let n=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._hasSameMonthAndYear(n,this._activeDate)||this._init()}_activeDate;get selected(){return this._selected}set selected(e){e instanceof Is?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}_selected;get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_minDate;get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_maxDate;dateFilter;dateClass;comparisonStart;comparisonEnd;startDateAccessibleName;endDateAccessibleName;activeDrag=null;selectedChange=new ie;_userSelection=new ie;dragStarted=new ie;dragEnded=new ie;activeDateChange=new ie;_matCalendarBody;_monthLabel;_weeks;_firstWeekOffset;_rangeStart;_rangeEnd;_comparisonRangeStart;_comparisonRangeEnd;_previewStart;_previewEnd;_isRange;_todayDate;_weekdays;constructor(){x(_i).load(nd),this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(yi(null)).subscribe(()=>this._init())}ngOnChanges(e){let n=e.comparisonStart||e.comparisonEnd;n&&!n.firstChange&&this._setRanges(this.selected),e.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){let n=e.value,r=this._getDateFromDayOfMonth(n),a,s;this._selected instanceof Is?(a=this._getDateInCurrentMonth(this._selected.start),s=this._getDateInCurrentMonth(this._selected.end)):a=s=this._getDateInCurrentMonth(this._selected),(a!==n||s!==n)&&this.selectedChange.emit(r),this._userSelection.emit({value:r,event:e.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(e){let n=e.value,r=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(n),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(e){let n=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:this._selectionKeyPressed=!0,this._canSelect(this._activeDate)&&e.preventDefault();return;case 27:this._previewEnd!=null&&!mi(e)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:e}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e})),e.preventDefault(),e.stopPropagation());return;default:return}this._dateAdapter.compareDate(n,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(wT+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%wT,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:e,value:n}){if(this._rangeStrategy){let r=n?n.rawValue:null,a=this._rangeStrategy.createPreview(r,this.selected,e);if(this._previewStart=this._getCellCompareValue(a.start),this._previewEnd=this._getCellCompareValue(a.end),this.activeDrag&&r){let s=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,r,e);s&&(this._previewStart=this._getCellCompareValue(s.start),this._previewEnd=this._getCellCompareValue(s.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(e){if(this.activeDrag)if(e.value){let n=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,e.value,e.event);this.dragEnded.emit({value:n??null,event:e.event})}else this.dragEnded.emit({value:null,event:e.event})}_getDateFromDayOfMonth(e){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),e)}_initWeekdays(){let e=this._dateAdapter.getFirstDayOfWeek(),n=this._dateAdapter.getDayOfWeekNames("narrow"),a=this._dateAdapter.getDayOfWeekNames("long").map((s,o)=>({long:s,narrow:n[o],id:Bae++}));this._weekdays=a.slice(e).concat(a.slice(0,e))}_createWeekCells(){let e=this._dateAdapter.getNumDaysInMonth(this.activeDate),n=this._dateAdapter.getDateNames();this._weeks=[[]];for(let r=0,a=this._firstWeekOffset;r<e;r++,a++){a==wT&&(this._weeks.push([]),a=0);let s=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),r+1),o=this._shouldEnableDate(s),l=this._dateAdapter.format(s,this._dateFormats.display.dateA11yLabel),c=this.dateClass?this.dateClass(s,"month"):void 0;this._weeks[this._weeks.length-1].push(new bb(r+1,n[r],l,o,c,this._getCellCompareValue(s),s))}}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,n){return!!(e&&n&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(n)&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(n))}_getCellCompareValue(e){if(e){let n=this._dateAdapter.getYear(e),r=this._dateAdapter.getMonth(e),a=this._dateAdapter.getDate(e);return new Date(n,r,a).getTime()}return null}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setRanges(e){e instanceof Is?(this._rangeStart=this._getCellCompareValue(e.start),this._rangeEnd=this._getCellCompareValue(e.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(e),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(e){return!this.dateFilter||this.dateFilter(e)}_clearPreview(){this._previewStart=this._previewEnd=null}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Q({type:t,selectors:[["mat-month-view"]],viewQuery:function(n,r){if(n&1&&Xe(Fp,5),n&2){let a;be(a=ve())&&(r._matCalendarBody=a.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[_t],decls:8,vars:14,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col"],["aria-hidden","true"],["colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown","label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName"],[1,"cdk-visually-hidden"]],template:function(n,r){n&1&&(M(0,"table",0)(1,"thead",1)(2,"tr"),Bl(3,Dae,5,2,"th",2,Gz),k(),M(5,"tr",3),ae(6,"th",4),k()(),M(7,"tbody",5),X("selectedValueChange",function(s){return r._dateSelected(s)})("activeDateChange",function(s){return r._updateActiveDate(s)})("previewChange",function(s){return r._previewChanged(s)})("dragStarted",function(s){return r.dragStarted.emit(s)})("dragEnded",function(s){return r._dragEnded(s)})("keyup",function(s){return r._handleCalendarBodyKeyup(s)})("keydown",function(s){return r._handleCalendarBodyKeydown(s)}),k()()),n&2&&(T(3),jl(r._weekdays),T(4),W("label",r._monthLabel)("rows",r._weeks)("todayValue",r._todayDate)("startValue",r._rangeStart)("endValue",r._rangeEnd)("comparisonStart",r._comparisonRangeStart)("comparisonEnd",r._comparisonRangeEnd)("previewStart",r._previewStart)("previewEnd",r._previewEnd)("isRange",r._isRange)("labelMinRequiredCells",3)("activeCell",r._dateAdapter.getDate(r.activeDate)-1)("startDateAccessibleName",r.startDateAccessibleName)("endDateAccessibleName",r.endDateAccessibleName))},dependencies:[Fp],encapsulation:2,changeDetection:0})}return t})(),Ja=24,DT=4,zz=(()=>{class t{_changeDetectorRef=x(st);_dateAdapter=x(Kn,{optional:!0});_dir=x(Ei,{optional:!0});_rerenderSubscription=xt.EMPTY;_selectionKeyPressed;get activeDate(){return this._activeDate}set activeDate(e){let n=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),Yz(this._dateAdapter,n,this._activeDate,this.minDate,this.maxDate)||this._init()}_activeDate;get selected(){return this._selected}set selected(e){e instanceof Is?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}_selected;get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_minDate;get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_maxDate;dateFilter;dateClass;selectedChange=new ie;yearSelected=new ie;activeDateChange=new ie;_matCalendarBody;_years;_todayYear;_selectedYear;constructor(){this._dateAdapter,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(yi(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());let n=this._dateAdapter.getYear(this._activeDate)-yb(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let r=0,a=[];r<Ja;r++)a.push(n+r),a.length==DT&&(this._years.push(a.map(s=>this._createCellForYear(s))),a=[]);this._changeDetectorRef.markForCheck()}_yearSelected(e){let n=e.value,r=this._dateAdapter.createDate(n,0,1),a=this._getDateFromYear(n);this.yearSelected.emit(r),this.selectedChange.emit(a)}_updateActiveDate(e){let n=e.value,r=this._activeDate;this.activeDate=this._getDateFromYear(n),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){let n=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-DT);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,DT);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-yb(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Ja-yb(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-Ja*10:-Ja);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?Ja*10:Ja);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(n,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_getActiveCell(){return yb(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(e){let n=this._dateAdapter.getMonth(this.activeDate),r=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(e,n,1));return this._dateAdapter.createDate(e,n,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForYear(e){let n=this._dateAdapter.createDate(e,0,1),r=this._dateAdapter.getYearName(n),a=this.dateClass?this.dateClass(n,"multi-year"):void 0;return new bb(e,r,r,this._shouldEnableYear(e),a)}_shouldEnableYear(e){if(e==null||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;let n=this._dateAdapter.createDate(e,0,1);for(let r=n;this._dateAdapter.getYear(r)==e;r=this._dateAdapter.addCalendarDays(r,1))if(this.dateFilter(r))return!0;return!1}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setSelectedYear(e){if(this._selectedYear=null,e instanceof Is){let n=e.start||e.end;n&&(this._selectedYear=this._dateAdapter.getYear(n))}else e&&(this._selectedYear=this._dateAdapter.getYear(e))}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Q({type:t,selectors:[["mat-multi-year-view"]],viewQuery:function(n,r){if(n&1&&Xe(Fp,5),n&2){let a;be(a=ve())&&(r._matCalendarBody=a.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell"]],template:function(n,r){n&1&&(M(0,"table",0)(1,"thead",1)(2,"tr"),ae(3,"th",2),k()(),M(4,"tbody",3),X("selectedValueChange",function(s){return r._yearSelected(s)})("activeDateChange",function(s){return r._updateActiveDate(s)})("keyup",function(s){return r._handleCalendarBodyKeyup(s)})("keydown",function(s){return r._handleCalendarBodyKeydown(s)}),k()()),n&2&&(T(4),W("rows",r._years)("todayValue",r._todayYear)("startValue",r._selectedYear)("endValue",r._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",r._getActiveCell()))},dependencies:[Fp],encapsulation:2,changeDetection:0})}return t})();function Yz(t,i,e,n,r){let a=t.getYear(i),s=t.getYear(e),o=Kz(t,n,r);return Math.floor((a-o)/Ja)===Math.floor((s-o)/Ja)}function yb(t,i,e,n){let r=t.getYear(i);return jae(r-Kz(t,e,n),Ja)}function Kz(t,i,e){let n=0;return e?n=t.getYear(e)-Ja+1:i&&(n=t.getYear(i)),n}function jae(t,i){return(t%i+i)%i}var Uz=(()=>{class t{_changeDetectorRef=x(st);_dateFormats=x(go,{optional:!0});_dateAdapter=x(Kn,{optional:!0});_dir=x(Ei,{optional:!0});_rerenderSubscription=xt.EMPTY;_selectionKeyPressed;get activeDate(){return this._activeDate}set activeDate(e){let n=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._dateAdapter.getYear(n)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}_activeDate;get selected(){return this._selected}set selected(e){e instanceof Is?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}_selected;get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_minDate;get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_maxDate;dateFilter;dateClass;selectedChange=new ie;monthSelected=new ie;activeDateChange=new ie;_matCalendarBody;_months;_yearLabel;_todayMonth;_selectedMonth;constructor(){this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(yi(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){let n=e.value,r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),n,1);this.monthSelected.emit(r);let a=this._getDateFromMonth(n);this.selectedChange.emit(a)}_updateActiveDate(e){let n=e.value,r=this._activeDate;this.activeDate=this._getDateFromMonth(n),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){let n=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(n,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(n=>n.map(r=>this._createCellForMonth(r,e[r]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_getDateFromMonth(e){let n=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),r=this._dateAdapter.getNumDaysInMonth(n);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForMonth(e,n){let r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),a=this._dateAdapter.format(r,this._dateFormats.display.monthYearA11yLabel),s=this.dateClass?this.dateClass(r,"year"):void 0;return new bb(e,n.toLocaleUpperCase(),a,this._shouldEnableMonth(e),s)}_shouldEnableMonth(e){let n=this._dateAdapter.getYear(this.activeDate);if(e==null||this._isYearAndMonthAfterMaxDate(n,e)||this._isYearAndMonthBeforeMinDate(n,e))return!1;if(!this.dateFilter)return!0;let r=this._dateAdapter.createDate(n,e,1);for(let a=r;this._dateAdapter.getMonth(a)==e;a=this._dateAdapter.addCalendarDays(a,1))if(this.dateFilter(a))return!0;return!1}_isYearAndMonthAfterMaxDate(e,n){if(this.maxDate){let r=this._dateAdapter.getYear(this.maxDate),a=this._dateAdapter.getMonth(this.maxDate);return e>r||e===r&&n>a}return!1}_isYearAndMonthBeforeMinDate(e,n){if(this.minDate){let r=this._dateAdapter.getYear(this.minDate),a=this._dateAdapter.getMonth(this.minDate);return e<r||e===r&&n<a}return!1}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setSelectedMonth(e){e instanceof Is?this._selectedMonth=this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end):this._selectedMonth=this._getMonthInCurrentYear(e)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Q({type:t,selectors:[["mat-year-view"]],viewQuery:function(n,r){if(n&1&&Xe(Fp,5),n&2){let a;be(a=ve())&&(r._matCalendarBody=a.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell"]],template:function(n,r){n&1&&(M(0,"table",0)(1,"thead",1)(2,"tr"),ae(3,"th",2),k()(),M(4,"tbody",3),X("selectedValueChange",function(s){return r._monthSelected(s)})("activeDateChange",function(s){return r._updateActiveDate(s)})("keyup",function(s){return r._handleCalendarBodyKeyup(s)})("keydown",function(s){return r._handleCalendarBodyKeydown(s)}),k()()),n&2&&(T(4),W("label",r._yearLabel)("rows",r._months)("todayValue",r._todayMonth)("startValue",r._selectedMonth)("endValue",r._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",r._dateAdapter.getMonth(r.activeDate)))},dependencies:[Fp],encapsulation:2,changeDetection:0})}return t})(),qz=(()=>{class t{_intl=x(Vp);calendar=x(ST);_dateAdapter=x(Kn,{optional:!0});_dateFormats=x(go,{optional:!0});constructor(){x(_i).load(nd);let e=x(st);this.calendar.stateChanges.subscribe(()=>e.markForCheck())}get periodButtonText(){return this.calendar.currentView=="month"?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():this.calendar.currentView=="year"?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return this.calendar.currentView=="month"?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():this.calendar.currentView=="year"?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return this.calendar.currentView=="month"?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView=this.calendar.currentView=="month"?"multi-year":"month"}previousClicked(){this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?-1:-Ja)}nextClicked(){this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?1:Ja)}previousEnabled(){return this.calendar.minDate?!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate):!0}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(e,n){return this.calendar.currentView=="month"?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(n)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(n):this.calendar.currentView=="year"?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(n):Yz(this._dateAdapter,e,n,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){let n=this._dateAdapter.getYear(this.calendar.activeDate)-yb(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),r=n+Ja-1,a=this._dateAdapter.getYearName(this._dateAdapter.createDate(n,0,1)),s=this._dateAdapter.getYearName(this._dateAdapter.createDate(r,0,1));return[a,s]}_periodButtonLabelId=x(ei).getId("mat-calendar-period-label-");static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Q({type:t,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:Sae,decls:17,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["aria-live","polite",1,"cdk-visually-hidden",3,"id"],["mat-button","","type","button",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"click","disabled"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"click","disabled"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"]],template:function(n,r){n&1&&(mt(),M(0,"div",0)(1,"div",1)(2,"span",2),V(3),k(),M(4,"button",3),X("click",function(){return r.currentPeriodClicked()}),M(5,"span",4),V(6),k(),Ai(),M(7,"svg",5),ae(8,"polygon",6),k()(),Er(),ae(9,"div",7),ke(10),M(11,"button",8),X("click",function(){return r.previousClicked()}),Ai(),M(12,"svg",9),ae(13,"path",10),k()(),Er(),M(14,"button",11),X("click",function(){return r.nextClicked()}),Ai(),M(15,"svg",9),ae(16,"path",12),k()()()()),n&2&&(T(2),W("id",r._periodButtonLabelId),T(),$e(r.periodButtonDescription),T(),Ee("aria-label",r.periodButtonLabel)("aria-describedby",r._periodButtonLabelId),T(2),$e(r.periodButtonText),T(),me("mat-calendar-invert",r.calendar.currentView!=="month"),T(4),W("disabled",!r.previousEnabled()),Ee("aria-label",r.prevButtonLabel),T(3),W("disabled",!r.nextEnabled()),Ee("aria-label",r.nextButtonLabel))},dependencies:[br,lr],encapsulation:2,changeDetection:0})}return t})(),ST=(()=>{class t{_dateAdapter=x(Kn,{optional:!0});_dateFormats=x(go,{optional:!0});_changeDetectorRef=x(st);_elementRef=x(ge);headerComponent;_calendarHeaderPortal;_intlChanges;_moveFocusOnNextTick=!1;get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_startAt;startView="month";get selected(){return this._selected}set selected(e){e instanceof Is?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_selected;get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_minDate;get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_maxDate;dateFilter;dateClass;comparisonStart;comparisonEnd;startDateAccessibleName;endDateAccessibleName;selectedChange=new ie;yearSelected=new ie;monthSelected=new ie;viewChanged=new ie(!0);_userSelection=new ie;_userDragDrop=new ie;monthView;yearView;multiYearView;get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}_clampedActiveDate;get currentView(){return this._currentView}set currentView(e){let n=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),n&&this.viewChanged.emit(n)}_currentView;_activeDrag=null;stateChanges=new se;constructor(){this._intlChanges=x(Vp).changes.subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new ml(this.headerComponent||qz),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){let n=e.minDate&&!this._dateAdapter.sameDate(e.minDate.previousValue,e.minDate.currentValue)?e.minDate:void 0,r=e.maxDate&&!this._dateAdapter.sameDate(e.maxDate.previousValue,e.maxDate.currentValue)?e.maxDate:void 0,a=n||r||e.dateFilter;if(a&&!a.firstChange){let s=this._getCurrentViewComponent();s&&(this._elementRef.nativeElement.contains(qa())&&(this._moveFocusOnNextTick=!0),this._changeDetectorRef.detectChanges(),s._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(e){let n=e.value;(this.selected instanceof Is||n&&!this._dateAdapter.sameDate(n,this.selected))&&this.selectedChange.emit(n),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,n){this.activeDate=e,this.currentView=n}_dragStarted(e){this._activeDrag=e}_dragEnded(e){this._activeDrag&&(e.value&&this._userDragDrop.emit(e),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Q({type:t,selectors:[["mat-calendar"]],viewQuery:function(n,r){if(n&1&&(Xe(jz,5),Xe(Uz,5),Xe(zz,5)),n&2){let a;be(a=ve())&&(r.monthView=a.first),be(a=ve())&&(r.yearView=a.first),be(a=ve())&&(r.multiYearView=a.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],features:[Ye([Wz]),_t],decls:5,vars:2,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","_userSelection","dragStarted","dragEnded","activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDateChange","monthSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","yearSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"]],template:function(n,r){if(n&1&&(ne(0,Mae,0,0,"ng-template",0),M(1,"div",1),ne(2,Iae,1,11,"mat-month-view",2)(3,kae,1,6,"mat-year-view",3)(4,Aae,1,6,"mat-multi-year-view",3),k()),n&2){let a;W("cdkPortalOutlet",r._calendarHeaderPortal),T(2),kt((a=r.currentView)==="month"?2:a==="year"?3:a==="multi-year"?4:-1)}},dependencies:[Aa,sy,jz,Uz,zz],styles:[`.mat-calendar{display:block;line-height:normal;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-sys-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-sys-body-medium-size))}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px;font-size:var(--mat-datepicker-calendar-period-button-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-period-button-text-weight, var(--mat-sys-title-small-weight));--mdc-text-button-label-text-color:var(--mat-datepicker-calendar-period-button-text-color, var(--mat-sys-on-surface-variant))}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle;fill:var(--mat-datepicker-calendar-period-button-icon-color, var(--mat-sys-on-surface-variant))}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}@media(forced-colors: active){.mat-calendar-arrow{fill:CanvasText}}.mat-datepicker-content .mat-calendar-previous-button:not(.mat-mdc-button-disabled),.mat-datepicker-content .mat-calendar-next-button:not(.mat-mdc-button-disabled){color:var(--mat-datepicker-calendar-navigation-button-icon-color, var(--mat-sys-on-surface-variant))}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0;color:var(--mat-datepicker-calendar-header-text-color, var(--mat-sys-on-surface-variant));font-size:var(--mat-datepicker-calendar-header-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-header-text-weight, var(--mat-sys-title-small-weight))}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px;background:var(--mat-datepicker-calendar-header-divider-color, transparent)}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}
`],encapsulation:2,changeDetection:0})}return t})(),Zz=new G("mat-datepicker-scroll-strategy",{providedIn:"root",factory:()=>{let t=x(Hi);return()=>t.scrollStrategies.reposition()}});function zae(t){return()=>t.scrollStrategies.reposition()}var Uae={provide:Zz,deps:[Hi],useFactory:zae},Qz=(()=>{class t{_elementRef=x(ge);_animationsDisabled=x(Kt,{optional:!0})==="NoopAnimations";_changeDetectorRef=x(st);_globalModel=x(vb);_dateAdapter=x(Kn);_ngZone=x(we);_rangeSelectionStrategy=x($z,{optional:!0});_stateChanges;_model;_eventCleanups;_animationFallback;_calendar;color;datepicker;comparisonStart;comparisonEnd;startDateAccessibleName;endDateAccessibleName;_isAbove;_animationDone=new se;_isAnimating=!1;_closeButtonText;_closeButtonFocused;_actionsPortal=null;_dialogLabelId;constructor(){if(x(_i).load(nd),this._closeButtonText=x(Vp).closeCalendarLabel,!this._animationsDisabled){let e=this._elementRef.nativeElement,n=x(Qt);this._eventCleanups=this._ngZone.runOutsideAngular(()=>[n.listen(e,"animationstart",this._handleAnimationEvent),n.listen(e,"animationend",this._handleAnimationEvent),n.listen(e,"animationcancel",this._handleAnimationEvent)])}}ngAfterViewInit(){this._stateChanges=this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()}),this._calendar.focusActiveCell()}ngOnDestroy(){clearTimeout(this._animationFallback),this._eventCleanups?.forEach(e=>e()),this._stateChanges?.unsubscribe(),this._animationDone.complete()}_handleUserSelection(e){let n=this._model.selection,r=e.value,a=n instanceof Is;if(a&&this._rangeSelectionStrategy){let s=this._rangeSelectionStrategy.selectionFinished(r,n,e.event);this._model.updateSelection(s,this)}else r&&(a||!this._dateAdapter.sameDate(r,n))&&this._model.add(r);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(e){this._model.updateSelection(e.value,this)}_startExitAnimation(){this._elementRef.nativeElement.classList.add("mat-datepicker-content-exit"),this._animationsDisabled?this._animationDone.next():(clearTimeout(this._animationFallback),this._animationFallback=setTimeout(()=>{this._isAnimating||this._animationDone.next()},200))}_handleAnimationEvent=e=>{let n=this._elementRef.nativeElement;e.target!==n||!e.animationName.startsWith("_mat-datepicker-content")||(clearTimeout(this._animationFallback),this._isAnimating=e.type==="animationstart",n.classList.toggle("mat-datepicker-content-animating",this._isAnimating),this._isAnimating||this._animationDone.next())};_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(e,n){this._model=e?this._globalModel.clone():this._globalModel,this._actionsPortal=e,n&&this._changeDetectorRef.detectChanges()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Q({type:t,selectors:[["mat-datepicker-content"]],viewQuery:function(n,r){if(n&1&&Xe(ST,5),n&2){let a;be(a=ve())&&(r._calendar=a.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:6,hostBindings:function(n,r){n&2&&(jn(r.color?"mat-"+r.color:""),me("mat-datepicker-content-touch",r.datepicker.touchUi)("mat-datepicker-content-animations-enabled",!r._animationsDisabled))},inputs:{color:"color"},exportAs:["matDatepickerContent"],decls:5,vars:26,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop","id","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"focus","blur","click","color"]],template:function(n,r){if(n&1&&(M(0,"div",0)(1,"mat-calendar",1),X("yearSelected",function(s){return r.datepicker._selectYear(s)})("monthSelected",function(s){return r.datepicker._selectMonth(s)})("viewChanged",function(s){return r.datepicker._viewChanged(s)})("_userSelection",function(s){return r._handleUserSelection(s)})("_userDragDrop",function(s){return r._handleUserDragDrop(s)}),k(),ne(2,Eae,0,0,"ng-template",2),M(3,"button",3),X("focus",function(){return r._closeButtonFocused=!0})("blur",function(){return r._closeButtonFocused=!1})("click",function(){return r.datepicker.close()}),V(4),k()()),n&2){let a;me("mat-datepicker-content-container-with-custom-header",r.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",r._actionsPortal),Ee("aria-modal",!0)("aria-labelledby",(a=r._dialogLabelId)!==null&&a!==void 0?a:void 0),T(),jn(r.datepicker.panelClass),W("id",r.datepicker.id)("startAt",r.datepicker.startAt)("startView",r.datepicker.startView)("minDate",r.datepicker._getMinDate())("maxDate",r.datepicker._getMaxDate())("dateFilter",r.datepicker._getDateFilter())("headerComponent",r.datepicker.calendarHeaderComponent)("selected",r._getSelected())("dateClass",r.datepicker.dateClass)("comparisonStart",r.comparisonStart)("comparisonEnd",r.comparisonEnd)("startDateAccessibleName",r.startDateAccessibleName)("endDateAccessibleName",r.endDateAccessibleName),T(),W("cdkPortalOutlet",r._actionsPortal),T(),me("cdk-visually-hidden",!r._closeButtonFocused),W("color",r.color||"primary"),T(),$e(r._closeButtonText)}},dependencies:[SI,ST,Aa,br],styles:[`@keyframes _mat-datepicker-content-dropdown-enter{from{opacity:0;transform:scaleY(0.8)}to{opacity:1;transform:none}}@keyframes _mat-datepicker-content-dialog-enter{from{opacity:0;transform:scale(0.8)}to{opacity:1;transform:none}}@keyframes _mat-datepicker-content-exit{from{opacity:1}to{opacity:0}}.mat-datepicker-content{display:block;border-radius:4px;background-color:var(--mat-datepicker-calendar-container-background-color, var(--mat-sys-surface-container-high));color:var(--mat-datepicker-calendar-container-text-color, var(--mat-sys-on-surface));box-shadow:var(--mat-datepicker-calendar-container-elevation-shadow, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12));border-radius:var(--mat-datepicker-calendar-container-shape, var(--mat-sys-corner-large))}.mat-datepicker-content.mat-datepicker-content-animations-enabled{animation:_mat-datepicker-content-dropdown-enter 120ms cubic-bezier(0, 0, 0.2, 1)}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.mat-datepicker-content-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;box-shadow:var(--mat-datepicker-calendar-container-touch-elevation-shadow, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12));border-radius:var(--mat-datepicker-calendar-container-touch-shape, var(--mat-sys-corner-extra-large));position:relative;overflow:visible}.mat-datepicker-content-touch.mat-datepicker-content-animations-enabled{animation:_mat-datepicker-content-dialog-enter 150ms cubic-bezier(0, 0, 0.2, 1)}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}.mat-datepicker-content-exit.mat-datepicker-content-animations-enabled{animation:_mat-datepicker-content-exit 100ms linear}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}
`],encapsulation:2,changeDetection:0})}return t})(),Hz=(()=>{class t{_overlay=x(Hi);_viewContainerRef=x(vi);_dateAdapter=x(Kn,{optional:!0});_dir=x(Ei,{optional:!0});_model=x(vb);_scrollStrategy=x(Zz);_inputStateChanges=xt.EMPTY;_document=x(Ue);calendarHeaderComponent;get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_startAt;startView="month";get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(e){this._color=e}_color;touchUi=!1;get disabled(){return this._disabled===void 0&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(e){e!==this._disabled&&(this._disabled=e,this.stateChanges.next(void 0))}_disabled;xPosition="start";yPosition="below";restoreFocus=!0;yearSelected=new ie;monthSelected=new ie;viewChanged=new ie(!0);dateClass;openedStream=new ie;closedStream=new ie;get panelClass(){return this._panelClass}set panelClass(e){this._panelClass=G2(e)}_panelClass;get opened(){return this._opened}set opened(e){e?this.open():this.close()}_opened=!1;id=x(ei).getId("mat-datepicker-");_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}_overlayRef;_componentRef;_focusedElementBeforeOpen=null;_backdropHarnessClass=`${this.id}-backdrop`;_actionsPortal;datepickerInput;stateChanges=new se;_injector=x(Qe);_changeDetectorRef=x(st);constructor(){this._dateAdapter,this._model.selectionChanged.subscribe(()=>{this._changeDetectorRef.markForCheck()})}ngOnChanges(e){let n=e.xPosition||e.yPosition;if(n&&!n.firstChange&&this._overlayRef){let r=this._overlayRef.getConfig().positionStrategy;r instanceof wp&&(this._setConnectedPositions(r),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(e){this._model.add(e)}_selectYear(e){this.yearSelected.emit(e)}_selectMonth(e){this.monthSelected.emit(e)}_viewChanged(e){this.viewChanged.emit(e)}registerInput(e){return this.datepickerInput,this._inputStateChanges.unsubscribe(),this.datepickerInput=e,this._inputStateChanges=e.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(e){this._actionsPortal,this._actionsPortal=e,this._componentRef?.instance._assignActions(e,!0)}removeActions(e){e===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||this._componentRef?.instance._isAnimating||(this.datepickerInput,this._focusedElementBeforeOpen=qa(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened||this._componentRef?.instance._isAnimating)return;let e=this.restoreFocus&&this._focusedElementBeforeOpen&&typeof this._focusedElementBeforeOpen.focus=="function",n=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){let{instance:r,location:a}=this._componentRef;r._animationDone.pipe(Yi(1)).subscribe(()=>{let s=this._document.activeElement;e&&(!s||s===this._document.activeElement||a.nativeElement.contains(s))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()}),r._startExitAnimation()}e?setTimeout(n):n()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(e){e.datepicker=this,e.color=this.color,e._dialogLabelId=this.datepickerInput.getOverlayLabelId(),e._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();let e=this.touchUi,n=new ml(Qz,this._viewContainerRef),r=this._overlayRef=this._overlay.create(new mo({positionStrategy:e?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[e?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir||"ltr",scrollStrategy:e?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:`mat-datepicker-${e?"dialog":"popup"}`}));this._getCloseStream(r).subscribe(a=>{a&&a.preventDefault(),this.close()}),r.keydownEvents().subscribe(a=>{let s=a.keyCode;(s===38||s===40||s===37||s===39||s===33||s===34)&&a.preventDefault()}),this._componentRef=r.attach(n),this._forwardContentValues(this._componentRef.instance),e||dn(()=>{r.updatePosition()},{injector:this._injector})}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){let e=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(e)}_setConnectedPositions(e){let n=this.xPosition==="end"?"end":"start",r=n==="start"?"end":"start",a=this.yPosition==="above"?"bottom":"top",s=a==="top"?"bottom":"top";return e.withPositions([{originX:n,originY:s,overlayX:n,overlayY:a},{originX:n,originY:a,overlayX:n,overlayY:s},{originX:r,originY:s,overlayX:r,overlayY:a},{originX:r,originY:a,overlayX:r,overlayY:s}])}_getCloseStream(e){let n=["ctrlKey","shiftKey","metaKey"];return ri(e.backdropClick(),e.detachments(),e.keydownEvents().pipe(It(r=>r.keyCode===27&&!mi(r)||this.datepickerInput&&mi(r,"altKey")&&r.keyCode===38&&n.every(a=>!mi(r,a)))))}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:[2,"touchUi","touchUi",re],disabled:[2,"disabled","disabled",re],xPosition:"xPosition",yPosition:"yPosition",restoreFocus:[2,"restoreFocus","restoreFocus",re],dateClass:"dateClass",panelClass:"panelClass",opened:[2,"opened","opened",re]},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[_t]})}return t})(),HC=(()=>{class t extends Hz{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Dt(t)))(r||t)}})();static \u0275cmp=Q({type:t,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[Ye([Wz,{provide:Hz,useExisting:t}]),Ve],decls:0,vars:0,template:function(n,r){},encapsulation:2,changeDetection:0})}return t})(),Pp=class{target;targetElement;value;constructor(i,e){this.target=i,this.targetElement=e,this.value=this.target.value}},Hae=(()=>{class t{_elementRef=x(ge);_dateAdapter=x(Kn,{optional:!0});_dateFormats=x(go,{optional:!0});_isInitialized;get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(e){this._assignValueProgrammatically(e)}_model;get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(e){let n=e,r=this._elementRef.nativeElement;this._disabled!==n&&(this._disabled=n,this.stateChanges.next(void 0)),n&&this._isInitialized&&r.blur&&r.blur()}_disabled;dateChange=new ie;dateInput=new ie;stateChanges=new se;_onTouched=()=>{};_validatorOnChange=()=>{};_cvaOnChange=()=>{};_valueChangesSubscription=xt.EMPTY;_localeSubscription=xt.EMPTY;_pendingValue;_parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}};_filterValidator=e=>{let n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e.value));return!n||this._matchesFilter(n)?null:{matDatepickerFilter:!0}};_minValidator=e=>{let n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e.value)),r=this._getMinDate();return!r||!n||this._dateAdapter.compareDate(r,n)<=0?null:{matDatepickerMin:{min:r,actual:n}}};_maxValidator=e=>{let n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e.value)),r=this._getMaxDate();return!r||!n||this._dateAdapter.compareDate(r,n)>=0?null:{matDatepickerMax:{max:r,actual:n}}};_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(e){this._model=e,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(n=>{if(this._shouldHandleChangeEvent(n)){let r=this._getValueFromModel(n.selection);this._lastValueValid=this._isValidValue(r),this._cvaOnChange(r),this._onTouched(),this._formatValue(r),this.dateInput.emit(new Pp(this,this._elementRef.nativeElement)),this.dateChange.emit(new Pp(this,this._elementRef.nativeElement))}})}_lastValueValid=!1;constructor(){this._localeSubscription=this._dateAdapter.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(e){Gae(e,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}writeValue(e){this._assignValueProgrammatically(e)}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onKeydown(e){let n=["ctrlKey","shiftKey","metaKey"];mi(e,"altKey")&&e.keyCode===40&&n.every(a=>!mi(e,a))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),e.preventDefault())}_onInput(e){let n=this._lastValueValid,r=this._dateAdapter.parse(e,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(r),r=this._dateAdapter.getValidDateOrNull(r);let a=!this._dateAdapter.sameDate(r,this.value);!r||a?this._cvaOnChange(r):(e&&!this.value&&this._cvaOnChange(r),n!==this._lastValueValid&&this._validatorOnChange()),a&&(this._assignValue(r),this.dateInput.emit(new Pp(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new Pp(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(e){this._elementRef.nativeElement.value=e!=null?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}_assignValue(e){this._model?(this._assignValueToModel(e),this._pendingValue=null):this._pendingValue=e}_isValidValue(e){return!e||this._dateAdapter.isValid(e)}_parentDisabled(){return!1}_assignValueProgrammatically(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=this._isValidValue(e),e=this._dateAdapter.getValidDateOrNull(e),this._assignValue(e),this._formatValue(e)}_matchesFilter(e){let n=this._getDateFilter();return!n||n(e)}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,inputs:{value:"value",disabled:[2,"disabled","disabled",re]},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[_t]})}return t})();function Gae(t,i){let e=Object.keys(t);for(let n of e){let{previousValue:r,currentValue:a}=t[n];if(i.isDateInstance(r)&&i.isDateInstance(a)){if(!i.sameDate(r,a))return!0}else return!0}return!1}var Wae={provide:oc,useExisting:va(()=>Bp),multi:!0},$ae={provide:yl,useExisting:va(()=>Bp),multi:!0},Bp=(()=>{class t extends Hae{_formField=x(cc,{optional:!0});_closedSubscription=xt.EMPTY;_openedSubscription=xt.EMPTY;set matDatepicker(e){e&&(this._datepicker=e,this._ariaOwns.set(e.opened?e.id:null),this._closedSubscription=e.closedStream.subscribe(()=>{this._onTouched(),this._ariaOwns.set(null)}),this._openedSubscription=e.openedStream.subscribe(()=>{this._ariaOwns.set(e.id)}),this._registerModel(e.registerInput(this)))}_datepicker;_ariaOwns=bn(null);get min(){return this._min}set min(e){let n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(n,this._min)||(this._min=n,this._validatorOnChange())}_min;get max(){return this._max}set max(e){let n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(n,this._max)||(this._max=n,this._validatorOnChange())}_max;get dateFilter(){return this._dateFilter}set dateFilter(e){let n=this._matchesFilter(this.value);this._dateFilter=e,this._matchesFilter(this.value)!==n&&this._validatorOnChange()}_dateFilter;_validator;constructor(){super(),this._validator=fl.compose(super._getValidators())}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe(),this._openedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(e){return e}_assignValueToModel(e){this._model&&this._model.updateSelection(e,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(e){return e.source!==this}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(n,r){n&1&&X("input",function(s){return r._onInput(s.target.value)})("change",function(){return r._onChange()})("blur",function(){return r._onBlur()})("keydown",function(s){return r._onKeydown(s)}),n&2&&(xa("disabled",r.disabled),Ee("aria-haspopup",r._datepicker?"dialog":null)("aria-owns",r._ariaOwns())("min",r.min?r._dateAdapter.toIso8601(r.min):null)("max",r.max?r._dateAdapter.toIso8601(r.max):null)("data-mat-calendar",r._datepicker?r._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:[0,"matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[Ye([Wae,$ae,{provide:Rp,useExisting:t}]),Ve]})}return t})(),Yae=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["","matDatepickerToggleIcon",""]]})}return t})(),_b=(()=>{class t{_intl=x(Vp);_changeDetectorRef=x(st);_stateChanges=xt.EMPTY;datepicker;tabIndex;ariaLabel;get disabled(){return this._disabled===void 0&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=e}_disabled;disableRipple;_customIcon;_button;constructor(){let e=x(new ea("tabindex"),{optional:!0}),n=Number(e);this.tabIndex=n||n===0?n:null}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){let e=this.datepicker?this.datepicker.stateChanges:Ie(),n=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:Ie(),r=this.datepicker?ri(this.datepicker.openedStream,this.datepicker.closedStream):Ie();this._stateChanges.unsubscribe(),this._stateChanges=ri(this._intl.changes,e,n,r).subscribe(()=>this._changeDetectorRef.markForCheck())}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Q({type:t,selectors:[["mat-datepicker-toggle"]],contentQueries:function(n,r,a){if(n&1&&Et(a,Yae,5),n&2){let s;be(s=ve())&&(r._customIcon=s.first)}},viewQuery:function(n,r){if(n&1&&Xe(Tae,5),n&2){let a;be(a=ve())&&(r._button=a.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(n,r){n&1&&X("click",function(s){return r._open(s)}),n&2&&(Ee("tabindex",null)("data-mat-calendar",r.datepicker?r.datepicker.id:null),me("mat-datepicker-toggle-active",r.datepicker&&r.datepicker.opened)("mat-accent",r.datepicker&&r.datepicker.color==="accent")("mat-warn",r.datepicker&&r.datepicker.color==="warn"))},inputs:{datepicker:[0,"for","datepicker"],tabIndex:"tabIndex",ariaLabel:[0,"aria-label","ariaLabel"],disabled:[2,"disabled","disabled",re],disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[_t],ngContentSelectors:Oae,decls:4,vars:7,consts:[["button",""],["mat-icon-button","","type","button",3,"disabled","disableRipple"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(n,r){n&1&&(mt(Rae),M(0,"button",1,0),ne(2,Lae,2,0,":svg:svg",2),ke(3),k()),n&2&&(W("disabled",r.disabled)("disableRipple",r.disableRipple),Ee("aria-haspopup",r.datepicker?"dialog":null)("aria-label",r.ariaLabel||r._intl.openCalendarLabel)("tabindex",r.disabled?-1:r.tabIndex)("aria-expanded",r.datepicker?r.datepicker.opened:null),T(2),kt(r._customIcon?-1:2))},dependencies:[lr],styles:[`.mat-datepicker-toggle{pointer-events:auto;color:var(--mat-datepicker-toggle-icon-color, var(--mat-sys-on-surface-variant))}.mat-datepicker-toggle-active{color:var(--mat-datepicker-toggle-active-state-icon-color, var(--mat-sys-on-surface-variant))}@media(forced-colors: active){.mat-datepicker-toggle-default-icon{color:CanvasText}}
`],encapsulation:2,changeDetection:0})}return t})();var Xz=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Se({type:t});static \u0275inj=De({providers:[Vp,Uae],imports:[DC,po,oy,xs,nt,Qz,_b,qz,Jo]})}return t})();var e3=(()=>{class t{constructor(e,n,r){this.dialogRef=e,this.data=n,this.quotasService=r,this.today=new Date}ngOnInit(){this.paymentDate=new Date,this.updateTotalValue(),this.updateChart()}updateTotalValue(){this.totalValue=this.data.valor+this.quotasService.calculateFineForDate(this.paymentDate,this.data.month.id)}updateChart(){this.chartOptions={data:[{amount:this.data.valor,source:"valor base"},{amount:this.totalValue-this.data.valor,source:"multa"}],series:[{type:"pie",angleKey:"amount",calloutLabelKey:"source",sectorLabelKey:"amount",sectorLabel:{color:"white",fontWeight:"bold"}}]}}dateChanged(){this.updateTotalValue(),this.updateChart()}addPayment(){this.quotasService.setQuotaPayment(this.data.month.id,this.data.id,this.paymentDate.getTime()).then(()=>{this.dialogRef.close()})}static{this.\u0275fac=function(n){return new(n||t)(J(Yn),J(ws),J(xd))}}static{this.\u0275cmp=Q({type:t,selectors:[["app-add-payment-dialog"]],standalone:!1,decls:17,vars:6,consts:[["picker",""],["matInput","",3,"ngModelChange","dateChange","matDatepicker","ngModel"],["matIconSuffix","",3,"for"],[1,"add-button"],["mat-raised-button","","color","primary",3,"click"]],template:function(n,r){if(n&1){let a=zt();M(0,"mat-dialog-content")(1,"h3"),V(2),k(),M(3,"h4"),V(4),k(),M(5,"mat-form-field")(6,"mat-label"),V(7,"Data de pagamento"),k(),M(8,"input",1),Fi("ngModelChange",function(o){return xe(a),Pi(r.paymentDate,o)||(r.paymentDate=o),Ce(o)}),X("dateChange",function(){return xe(a),Ce(r.dateChanged())}),k(),ae(9,"mat-datepicker-toggle",2)(10,"mat-datepicker",null,0),k(),M(12,"h4"),V(13),k(),M(14,"div",3)(15,"button",4),X("click",function(){return xe(a),Ce(r.addPayment())}),V(16,"Adicionar pagamento"),k()()()}if(n&2){let a=ar(11);T(2),Ut("Pagamento de ",r.data.month.mes,""),T(2),Ut("Utilizador: ",r.data.name,""),T(4),W("matDatepicker",a),Ni("ngModel",r.paymentDate),T(),W("for",a),T(4),Ut("Valor do pagamento: ",r.totalValue,"")}},dependencies:[la,br,Ms,da,vr,lc,HC,Bp,_b,Ds,Ea,ca],encapsulation:2})}}return t})();var t3=(()=>{class t{_animationMode=x(Kt,{optional:!0});state="unchecked";disabled=!1;appearance="full";constructor(){}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Q({type:t,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(n,r){n&2&&me("mat-pseudo-checkbox-indeterminate",r.state==="indeterminate")("mat-pseudo-checkbox-checked",r.state==="checked")("mat-pseudo-checkbox-disabled",r.disabled)("mat-pseudo-checkbox-minimal",r.appearance==="minimal")("mat-pseudo-checkbox-full",r.appearance==="full")("_mat-animation-noopable",r._animationMode==="NoopAnimations")},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(n,r){},styles:[`.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color, var(--mat-sys-primary))}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color, var(--mat-sys-on-surface-variant));border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color, var(--mat-sys-primary));border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color, var(--mat-sys-on-primary))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color, var(--mat-sys-surface))}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}
`],encapsulation:2,changeDetection:0})}return t})();var Kae=["text"],qae=[[["mat-icon"]],"*"],Zae=["mat-icon","*"];function Qae(t,i){if(t&1&&ae(0,"mat-pseudo-checkbox",1),t&2){let e=ye();W("disabled",e.disabled)("state",e.selected?"checked":"unchecked")}}function Xae(t,i){if(t&1&&ae(0,"mat-pseudo-checkbox",3),t&2){let e=ye();W("disabled",e.disabled)}}function Jae(t,i){if(t&1&&(M(0,"span",4),V(1),k()),t&2){let e=ye();T(),Ut("(",e.group.label,")")}}var xb=new G("MAT_OPTION_PARENT_COMPONENT"),IT=new G("MatOptgroup");var MT=class{source;isUserInput;constructor(i,e=!1){this.source=i,this.isUserInput=e}},es=(()=>{class t{_element=x(ge);_changeDetectorRef=x(st);_parent=x(xb,{optional:!0});group=x(IT,{optional:!0});_signalDisableRipple=!1;_selected=!1;_active=!1;_disabled=!1;_mostRecentViewValue="";get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}value;id=x(ei).getId("mat-option-");get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=e}get disableRipple(){return this._signalDisableRipple?this._parent.disableRipple():!!this._parent?.disableRipple}get hideSingleSelectionIndicator(){return!!(this._parent&&this._parent.hideSingleSelectionIndicator)}onSelectionChange=new ie;_text;_stateChanges=new se;constructor(){let e=x(_i);e.load(Nr),e.load(nd),this._signalDisableRipple=!!this._parent&&pu(this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(e=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}deselect(e=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}focus(e,n){let r=this._getHostElement();typeof r.focus=="function"&&r.focus(n)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(e.keyCode===13||e.keyCode===32)&&!mi(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=this.multiple?!this._selected:!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){let e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=e)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new MT(this,e))}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Q({type:t,selectors:[["mat-option"]],viewQuery:function(n,r){if(n&1&&Xe(Kae,7),n&2){let a;be(a=ve())&&(r._text=a.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(n,r){n&1&&X("click",function(){return r._selectViaInteraction()})("keydown",function(s){return r._handleKeydown(s)}),n&2&&(xa("id",r.id),Ee("aria-selected",r.selected)("aria-disabled",r.disabled.toString()),me("mdc-list-item--selected",r.selected)("mat-mdc-option-multiple",r.multiple)("mat-mdc-option-active",r.active)("mdc-list-item--disabled",r.disabled))},inputs:{value:"value",id:"id",disabled:[2,"disabled","disabled",re]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],ngContentSelectors:Zae,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(n,r){n&1&&(mt(qae),ne(0,Qae,1,2,"mat-pseudo-checkbox",1),ke(1),M(2,"span",2,0),ke(4,1),k(),ne(5,Xae,1,1,"mat-pseudo-checkbox",3)(6,Jae,2,1,"span",4),ae(7,"div",5)),n&2&&(kt(r.multiple?0:-1),T(5),kt(!r.multiple&&r.selected&&!r.hideSingleSelectionIndicator?5:-1),T(),kt(r.group&&r.group._inert?6:-1),T(),W("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disabled||r.disableRipple))},dependencies:[t3,nc],styles:[`.mat-mdc-option{-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-option-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mat-option-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mat-option-label-text-size, var(--mat-sys-body-large-size));letter-spacing:var(--mat-option-label-text-tracking, var(--mat-sys-label-large-tracking));font-weight:var(--mat-option-label-text-weight, var(--mat-sys-body-large-weight))}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent));outline:0}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color, var(--mat-sys-secondary-container))}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-option .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-option-selected-state-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}@media(forced-colors: active){.mat-mdc-option.mdc-list-item--selected:not(:has(.mat-mdc-option-pseudo-checkbox))::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .mat-mdc-option.mdc-list-item--selected:not(:has(.mat-mdc-option-pseudo-checkbox))::after{right:auto;left:16px}}.mat-mdc-option-multiple{--mdc-list-list-item-selected-container-color:var(--mdc-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-focus-indicator::before{content:""}
`],encapsulation:2,changeDetection:0})}return t})();function i3(t,i,e){if(e.length){let n=i.toArray(),r=e.toArray(),a=0;for(let s=0;s<t+1;s++)n[s].group&&n[s].group===r[a]&&a++;return a}return 0}function n3(t,i,e,n){return t<e?t:t+i>e+n?Math.max(0,t-n+i):e}var GC=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Se({type:t});static \u0275inj=De({imports:[nt]})}return t})();var kT=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Se({type:t});static \u0275inj=De({imports:[Md,nt,GC]})}return t})();var ese=["trigger"],tse=["panel"],ise=[[["mat-select-trigger"]],"*"],nse=["mat-select-trigger","*"];function rse(t,i){if(t&1&&(M(0,"span",4),V(1),k()),t&2){let e=ye();T(),$e(e.placeholder)}}function ase(t,i){t&1&&ke(0)}function sse(t,i){if(t&1&&(M(0,"span",11),V(1),k()),t&2){let e=ye(2);T(),$e(e.triggerValue)}}function ose(t,i){if(t&1&&(M(0,"span",5),ne(1,ase,1,0)(2,sse,2,1,"span",11),k()),t&2){let e=ye();T(),kt(e.customTrigger?1:2)}}function lse(t,i){if(t&1){let e=zt();M(0,"div",12,1),X("keydown",function(r){xe(e);let a=ye();return Ce(a._handleKeydown(r))}),ke(2,1),k()}if(t&2){let e=ye();cN("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",e._getPanelTheme(),""),me("mat-select-panel-animations-enabled",!e._animationsDisabled),W("ngClass",e.panelClass),Ee("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}var AT=new G("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{let t=x(Hi);return()=>t.scrollStrategies.reposition()}});function r3(t){return()=>t.scrollStrategies.reposition()}var a3=new G("MAT_SELECT_CONFIG"),s3={provide:AT,deps:[Hi],useFactory:r3},o3=new G("MatSelectTrigger"),WC=class{source;value;constructor(i,e){this.source=i,this.value=e}},oh=(()=>{class t{_viewportRuler=x(Yl);_changeDetectorRef=x(st);_elementRef=x(ge);_dir=x(Ei,{optional:!0});_idGenerator=x(ei);_renderer=x(Qt);_parentFormField=x(cc,{optional:!0});ngControl=x(gl,{self:!0,optional:!0});_liveAnnouncer=x(MI);_defaultOptions=x(a3,{optional:!0});_animationsDisabled=x(Kt,{optional:!0})==="NoopAnimations";_initialized=new se;_cleanupDetach;options;optionGroups;customTrigger;_positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}];_scrollOptionIntoView(e){let n=this.options.toArray()[e];if(n){let r=this.panel.nativeElement,a=i3(e,this.options,this.optionGroups),s=n._getHostElement();e===0&&a===1?r.scrollTop=0:r.scrollTop=n3(s.offsetTop,s.offsetHeight,r.scrollTop,r.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(e){return new WC(this,e)}_scrollStrategyFactory=x(AT);_panelOpen=!1;_compareWith=(e,n)=>e===n;_uid=this._idGenerator.getId("mat-select-");_triggerAriaLabelledBy=null;_previousControl;_destroy=new se;_errorStateTracker;stateChanges=new se;disableAutomaticLabeling=!0;userAriaDescribedBy;_selectionModel;_keyManager;_preferredOverlayOrigin;_overlayWidth;_onChange=()=>{};_onTouched=()=>{};_valueId=this._idGenerator.getId("mat-select-value-");_scrollStrategy;_overlayPanelClass=this._defaultOptions?.overlayPanelClass||"";get focused(){return this._focused||this._panelOpen}_focused=!1;controlType="mat-select";trigger;panel;_overlayDir;panelClass;disabled=!1;disableRipple=!1;tabIndex=0;get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._syncParentProperties()}_hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1;get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}_placeholder;get required(){return this._required??this.ngControl?.control?.hasValidator(fl.required)??!1}set required(e){this._required=e,this.stateChanges.next()}_required;get multiple(){return this._multiple}set multiple(e){this._selectionModel,this._multiple=e}_multiple=!1;disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1;get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}_value;ariaLabel="";ariaLabelledby;get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}typeaheadDebounceInterval;sortComparator;get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}_id;get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto";canSelectNullableOptions=this._defaultOptions?.canSelectNullableOptions??!1;optionSelectionChanges=hs(()=>{let e=this.options;return e?e.changes.pipe(yi(e),Xi(()=>ri(...e.map(n=>n.onSelectionChange)))):this._initialized.pipe(Xi(()=>this.optionSelectionChanges))});openedChange=new ie;_openedStream=this.openedChange.pipe(It(e=>e),Re(()=>{}));_closedStream=this.openedChange.pipe(It(e=>!e),Re(()=>{}));selectionChange=new ie;valueChange=new ie;constructor(){let e=x(zC),n=x(Ss,{optional:!0}),r=x(Tp,{optional:!0}),a=x(new ea("tabindex"),{optional:!0});this.ngControl&&(this.ngControl.valueAccessor=this),this._defaultOptions?.typeaheadDebounceInterval!=null&&(this.typeaheadDebounceInterval=this._defaultOptions.typeaheadDebounceInterval),this._errorStateTracker=new Lp(e,this.ngControl,r,n,this.stateChanges),this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=a==null?0:parseInt(a)||0,this.id=this.id}ngOnInit(){this._selectionModel=new ny(this.multiple),this.stateChanges.next(),this._viewportRuler.change().pipe(di(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe(di(this._destroy)).subscribe(e=>{e.added.forEach(n=>n.select()),e.removed.forEach(n=>n.deselect())}),this.options.changes.pipe(yi(null),di(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){let e=this._getTriggerAriaLabelledby(),n=this.ngControl;if(e!==this._triggerAriaLabelledBy){let r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}n&&(this._previousControl!==n.control&&(this._previousControl!==void 0&&n.disabled!==null&&n.disabled!==this.disabled&&(this.disabled=n.disabled),this._previousControl=n.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._cleanupDetach?.(),this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._cleanupDetach?.(),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._overlayDir.positionChange.pipe(Yi(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()}),this._overlayDir.attachOverlay(),this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next(),Promise.resolve().then(()=>this.openedChange.emit(!0)))}_trackedModal=null;_applyModalPanelOwnership(){let e=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;let n=`${this.id}-panel`;this._trackedModal&&kI(this._trackedModal,"aria-owns",n),U2(e,"aria-owns",n),this._trackedModal=e}_clearFromModal(){if(!this._trackedModal)return;let e=`${this.id}-panel`;kI(this._trackedModal,"aria-owns",e),this._trackedModal=null}close(){this._panelOpen&&(this._panelOpen=!1,this._exitAndDetach(),this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next(),Promise.resolve().then(()=>this.openedChange.emit(!1)))}_exitAndDetach(){if(this._animationsDisabled||!this.panel){this._detachOverlay();return}this._cleanupDetach?.(),this._cleanupDetach=()=>{n(),clearTimeout(r),this._cleanupDetach=void 0};let e=this.panel.nativeElement,n=this._renderer.listen(e,"animationend",a=>{a.animationName==="_mat-select-exit"&&(this._cleanupDetach?.(),this._detachOverlay())}),r=setTimeout(()=>{this._cleanupDetach?.(),this._detachOverlay()},200);e.classList.add("mat-select-panel-exit")}_detachOverlay(){this._overlayDir.detachOverlay(),this._changeDetectorRef.markForCheck()}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){let e=this._selectionModel.selected.map(n=>n.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return this._dir?this._dir.value==="rtl":!1}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){let n=e.keyCode,r=n===40||n===38||n===37||n===39,a=n===13||n===32,s=this._keyManager;if(!s.isTyping()&&a&&!mi(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){let o=this.selected;s.onKeydown(e);let l=this.selected;l&&o!==l&&this._liveAnnouncer.announce(l.viewValue,1e4)}}_handleOpenKeydown(e){let n=this._keyManager,r=e.keyCode,a=r===40||r===38,s=n.isTyping();if(a&&e.altKey)e.preventDefault(),this.close();else if(!s&&(r===13||r===32)&&n.activeItem&&!mi(e))e.preventDefault(),n.activeItem._selectViaInteraction();else if(!s&&this._multiple&&r===65&&e.ctrlKey){e.preventDefault();let o=this.options.some(l=>!l.disabled&&!l.selected);this.options.forEach(l=>{l.disabled||(o?l.select():l.deselect())})}else{let o=n.activeItemIndex;n.onKeydown(e),this._multiple&&a&&e.shiftKey&&n.activeItem&&n.activeItemIndex!==o&&n.activeItem._selectViaInteraction()}}_handleOverlayKeydown(e){e.keyCode===27&&!mi(e)&&(e.preventDefault(),this.close())}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.options.forEach(n=>n.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(n=>this._selectOptionByValue(n)),this._sortValues();else{let n=this._selectOptionByValue(e);n?this._keyManager.updateActiveItem(n):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){let n=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return(r.value!=null||this.canSelectNullableOptions)&&this._compareWith(r.value,e)}catch{return!1}});return n&&this._selectionModel.select(n),n}_assignValue(e){return e!==this._value||this._multiple&&Array.isArray(e)?(this.options&&this._setSelectionByValue(e),this._value=e,!0):!1}_skipPredicate=e=>this.panelOpen?!1:e.disabled;_getOverlayWidth(e){return this.panelWidth==="auto"?(e instanceof Dp?e.elementRef:e||this._elementRef).nativeElement.getBoundingClientRect().width:this.panelWidth===null?"":this.panelWidth}_syncParentProperties(){if(this.options)for(let e of this.options)e._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new Tu(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){let e=ri(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(di(e)).subscribe(n=>{this._onSelect(n.source,n.isUserInput),n.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),ri(...this.options.map(n=>n._stateChanges)).pipe(di(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,n){let r=this._selectionModel.isSelected(e);!this.canSelectNullableOptions&&e.value==null&&!this._multiple?(e.deselect(),this._selectionModel.clear(),this.value!=null&&this._propagateChanges(e.value)):(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),n&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),n&&this.focus())),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){let e=this.options.toArray();this._selectionModel.sort((n,r)=>this.sortComparator?this.sortComparator(n,r,e):e.indexOf(n)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let n;this.multiple?n=this.selected.map(r=>r.value):n=this.selected?this.selected.value:e,this._value=n,this.valueChange.emit(n),this._onChange(n),this.selectionChange.emit(this._getChangeEvent(n)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let e=-1;for(let n=0;n<this.options.length;n++)if(!this.options.get(n).disabled){e=n;break}this._keyManager.setActiveItem(e)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0&&!!this._overlayDir}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;let e=this._parentFormField?.getLabelId()||null,n=e?e+" ":"";return this.ariaLabelledby?n+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;let e=this._parentFormField?.getLabelId()||"";return this.ariaLabelledby&&(e+=" "+this.ariaLabelledby),e||(e=this._valueId),e}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Q({type:t,selectors:[["mat-select"]],contentQueries:function(n,r,a){if(n&1&&(Et(a,o3,5),Et(a,es,5),Et(a,IT,5)),n&2){let s;be(s=ve())&&(r.customTrigger=s.first),be(s=ve())&&(r.options=s),be(s=ve())&&(r.optionGroups=s)}},viewQuery:function(n,r){if(n&1&&(Xe(ese,5),Xe(tse,5),Xe(fC,5)),n&2){let a;be(a=ve())&&(r.trigger=a.first),be(a=ve())&&(r.panel=a.first),be(a=ve())&&(r._overlayDir=a.first)}},hostAttrs:["role","combobox","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(n,r){n&1&&X("keydown",function(s){return r._handleKeydown(s)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),n&2&&(Ee("id",r.id)("tabindex",r.disabled?-1:r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-activedescendant",r._getAriaActiveDescendant()),me("mat-mdc-select-disabled",r.disabled)("mat-mdc-select-invalid",r.errorState)("mat-mdc-select-required",r.required)("mat-mdc-select-empty",r.empty)("mat-mdc-select-multiple",r.multiple))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",re],disableRipple:[2,"disableRipple","disableRipple",re],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:Ga(e)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",re],placeholder:"placeholder",required:[2,"required","required",re],multiple:[2,"multiple","multiple",re],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",re],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",Ga],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth",canSelectNullableOptions:[2,"canSelectNullableOptions","canSelectNullableOptions",re]},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],features:[Ye([{provide:Op,useExisting:t},{provide:xb,useExisting:t}]),_t],ngContentSelectors:nse,decls:11,vars:9,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"detach","backdropClick","overlayKeydown","cdkConnectedOverlayDisableClose","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","cdkConnectedOverlayFlexibleDimensions"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(n,r){if(n&1){let a=zt();mt(ise),M(0,"div",2,0),X("click",function(){return xe(a),Ce(r.open())}),M(3,"div",3),ne(4,rse,2,1,"span",4)(5,ose,3,1,"span",5),k(),M(6,"div",6)(7,"div",7),Ai(),M(8,"svg",8),ae(9,"path",9),k()()()(),ne(10,lse,3,10,"ng-template",10),X("detach",function(){return xe(a),Ce(r.close())})("backdropClick",function(){return xe(a),Ce(r.close())})("overlayKeydown",function(o){return xe(a),Ce(r._handleOverlayKeydown(o))})}if(n&2){let a=ar(1);T(3),Ee("id",r._valueId),T(),kt(r.empty?4:5),T(6),W("cdkConnectedOverlayDisableClose",!0)("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",r._preferredOverlayOrigin||a)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayWidth",r._overlayWidth)("cdkConnectedOverlayFlexibleDimensions",!0)}},dependencies:[Dp,fC,Mg],styles:[`@keyframes _mat-select-enter{from{opacity:0;transform:scaleY(0.8)}to{opacity:1;transform:none}}@keyframes _mat-select-exit{from{opacity:1}to{opacity:0}}.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color, var(--mat-sys-on-surface));font-family:var(--mat-select-trigger-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-select-trigger-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-select-trigger-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-select-trigger-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-select-trigger-text-tracking, var(--mat-sys-body-large-tracking))}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-disabled .mat-mdc-select-placeholder{color:var(--mat-select-disabled-trigger-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color, var(--mat-sys-error))}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color, var(--mat-sys-on-surface-variant))}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}@media(forced-colors: active){.mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .mat-mdc-select-arrow svg{fill:GrayText}}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:relative;background-color:var(--mat-select-panel-background-color, var(--mat-sys-surface-container))}@media(forced-colors: active){div.mat-mdc-select-panel{outline:solid 1px}}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-select-panel-animations-enabled{animation:_mat-select-enter 120ms cubic-bezier(0, 0, 0.2, 1)}.mat-select-panel-animations-enabled.mat-select-panel-exit{animation:_mat-select-exit 100ms linear}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color, var(--mat-sys-on-surface-variant))}.mat-mdc-form-field:not(.mat-form-field-animations-enabled) .mat-mdc-select-placeholder,._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform, translateY(-8px))}
`],encapsulation:2,changeDetection:0})}return t})();var ET=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Se({type:t});static \u0275inj=De({providers:[s3],imports:[po,kT,nt,Jo,kd,kT,nt]})}return t})();var cse=["panelTemplate"],dse=(t,i)=>i.value;function use(t,i){if(t&1){let e=zt();M(0,"mat-option",3),X("onSelectionChange",function(r){xe(e);let a=ye(2);return Ce(a._selectValue(r.source))}),V(1),k()}if(t&2){let e=i.$implicit;W("value",e.value),T(),$e(e.label)}}function hse(t,i){if(t&1){let e=zt();M(0,"div",1),X("animationend",function(r){xe(e);let a=ye();return Ce(a._handleAnimationEnd(r))}),Bl(1,use,2,2,"mat-option",2,dse),k()}if(t&2){let e=ye();me("mat-timepicker-panel-animations-enabled",!e._animationsDisabled)("mat-timepicker-panel-exit",!e.isOpen()),W("id",e.panelId),Ee("aria-label",e.ariaLabel()||null)("aria-labelledby",e._getAriaLabelledby()),T(),jl(e._timeOptions)}}var mse=[[["","matTimepickerToggleIcon",""]]],pse=["[matTimepickerToggleIcon]"];function fse(t,i){t&1&&(Ai(),M(0,"svg",1),ae(1,"path",2),k())}var gse=/^(\d*\.?\d+)\s*(h|hour|hours|m|min|minute|minutes|s|second|seconds)?$/i,c3=new G("MAT_TIMEPICKER_CONFIG");function l3(t){let i;if(t===null)return null;if(typeof t=="number")i=t;else{if(t.trim().length===0)return null;let e=t.match(gse),n=e?parseFloat(e[1]):null,r=e?.[2]?.toLowerCase()||null;if(!e||n===null||isNaN(n))return null;r==="h"||r==="hour"||r==="hours"?i=n*3600:r==="m"||r==="min"||r==="minute"||r==="minutes"?i=n*60:i=n}return i}function yse(t,i,e,n,r){let a=[],s=t.compareTime(e,n)<1?e:n;for(;t.sameDate(s,e)&&t.compareTime(s,n)<1&&t.isValid(s);)a.push({value:s,label:t.format(s,i.display.timeOptionLabel)}),s=t.addSeconds(s,r);return a}var bse=new G("MAT_TIMEPICKER_SCROLL_STRATEGY",{providedIn:"root",factory:()=>{let t=x(Hi);return()=>t.scrollStrategies.reposition()}}),OT=(()=>{class t{_overlay=x(Hi);_dir=x(Ei,{optional:!0});_viewContainerRef=x(vi);_injector=x(Qe);_defaultConfig=x(c3,{optional:!0});_dateAdapter=x(Kn,{optional:!0});_dateFormats=x(go,{optional:!0});_scrollStrategyFactory=x(bse);_animationsDisabled=x(Kt,{optional:!0})==="NoopAnimations";_isOpen=bn(!1);_activeDescendant=bn(null);_input=bn(null);_overlayRef=null;_portal=null;_optionsCacheKey=null;_localeChanges;_onOpenRender=null;_panelTemplate=iN.required("panelTemplate");_timeOptions=[];_options=nN(es);_keyManager=new Tu(this._options,this._injector).withHomeAndEnd(!0).withPageUpDown(!0).withVerticalOrientation(!0);interval=rr(l3(this._defaultConfig?.interval||null),{transform:l3});options=rr(null);isOpen=this._isOpen.asReadonly();selected=b_();opened=b_();closed=b_();activeDescendant=this._activeDescendant.asReadonly();panelId=x(ei).getId("mat-timepicker-panel-");disableRipple=rr(this._defaultConfig?.disableRipple??!1,{transform:re});ariaLabel=rr(null,{alias:"aria-label"});ariaLabelledby=rr(null,{alias:"aria-labelledby"});disabled=zn(()=>!!this._input()?.disabled());constructor(){x(ge).nativeElement.setAttribute("mat-timepicker-panel-id",this.panelId),this._handleLocaleChanges(),this._handleInputStateChanges(),this._keyManager.change.subscribe(()=>this._activeDescendant.set(this._keyManager.activeItem?.id||null))}open(){let e=this._input();if(!e||(e.focus(),this._isOpen()))return;this._isOpen.set(!0),this._generateOptions();let n=this._getOverlayRef();n.updateSize({width:e.getOverlayOrigin().nativeElement.offsetWidth}),this._portal??=new Wn(this._panelTemplate(),this._viewContainerRef),n.hasAttached()||n.attach(this._portal),this._onOpenRender?.destroy(),this._onOpenRender=dn(()=>{let r=this._options();this._syncSelectedState(e.value(),r,r[0]),this._onOpenRender=null},{injector:this._injector}),this.opened.emit()}close(){this._isOpen()&&(this._isOpen.set(!1),this.closed.emit(),this._animationsDisabled&&this._overlayRef?.detach())}registerInput(e){let n=this._input();this._input.set(e)}ngOnDestroy(){this._keyManager.destroy(),this._localeChanges.unsubscribe(),this._onOpenRender?.destroy(),this._overlayRef?.dispose()}_selectValue(e){this.close(),this._keyManager.setActiveItem(e),this._options().forEach(n=>{n!==e&&n.deselect(!1)}),this.selected.emit({value:e.value,source:this}),this._input()?.focus()}_getAriaLabelledby(){return this.ariaLabel()?null:this.ariaLabelledby()||this._input()?._getLabelId()||null}_handleAnimationEnd(e){e.animationName==="_mat-timepicker-exit"&&this._overlayRef?.detach()}_getOverlayRef(){if(this._overlayRef)return this._overlayRef;let e=this._overlay.position().flexibleConnectedTo(this._input().getOverlayOrigin()).withFlexibleDimensions(!1).withPush(!1).withTransformOriginOn(".mat-timepicker-panel").withPositions([{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-timepicker-above"}]);return this._overlayRef=this._overlay.create({positionStrategy:e,scrollStrategy:this._scrollStrategyFactory(),direction:this._dir||"ltr",hasBackdrop:!1}),this._overlayRef.detachments().subscribe(()=>this.close()),this._overlayRef.keydownEvents().subscribe(n=>this._handleKeydown(n)),this._overlayRef.outsidePointerEvents().subscribe(n=>{let r=gr(n),a=this._input()?.getOverlayOrigin().nativeElement;r&&a&&r!==a&&!a.contains(r)&&this.close()}),this._overlayRef}_generateOptions(){let e=this.interval()??1800,n=this.options();if(n!==null)this._timeOptions=n;else{let r=this._input(),a=this._dateAdapter,s=this._dateFormats.display.timeInput,o=r?.min()||a.setTime(a.today(),0,0,0),l=r?.max()||a.setTime(a.today(),23,59,0),c=e+"/"+a.format(o,s)+"/"+a.format(l,s);c!==this._optionsCacheKey&&(this._optionsCacheKey=c,this._timeOptions=yse(a,this._dateFormats,o,l,e))}}_syncSelectedState(e,n,r){let a=!1;for(let s of n)e&&this._dateAdapter.sameTime(s.value,e)?(s.select(!1),RT(s,"center"),fr(()=>this._keyManager.setActiveItem(s)),a=!0):s.deselect(!1);a||(r?(fr(()=>this._keyManager.setActiveItem(r)),RT(r,"center")):fr(()=>this._keyManager.setActiveItem(-1)))}_handleKeydown(e){let n=e.keyCode;if(n===9)this.close();else if(n===27&&!mi(e))e.preventDefault(),this.close();else if(n===13)e.preventDefault(),this._keyManager.activeItem?this._selectValue(this._keyManager.activeItem):this.close();else{let r=this._keyManager.activeItem;this._keyManager.onKeydown(e);let a=this._keyManager.activeItem;a&&a!==r&&RT(a,"nearest")}}_handleLocaleChanges(){this._localeChanges=this._dateAdapter.localeChanges.subscribe(()=>{this._optionsCacheKey=null,this.isOpen()&&this._generateOptions()})}_handleInputStateChanges(){Go(()=>{let e=this._input(),n=this._options();this._isOpen()&&e&&this._syncSelectedState(e.value(),n,null)})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Q({type:t,selectors:[["mat-timepicker"]],viewQuery:function(n,r){n&1&&(YS(r._panelTemplate,cse,5),YS(r._options,es,5)),n&2&&M_(2)},inputs:{interval:[1,"interval"],options:[1,"options"],disableRipple:[1,"disableRipple"],ariaLabel:[1,"aria-label","ariaLabel"],ariaLabelledby:[1,"aria-labelledby","ariaLabelledby"]},outputs:{selected:"selected",opened:"opened",closed:"closed"},exportAs:["matTimepicker"],features:[Ye([{provide:xb,useExisting:t}])],decls:2,vars:0,consts:[["panelTemplate",""],["role","listbox",1,"mat-timepicker-panel",3,"animationend","id"],[3,"value"],[3,"onSelectionChange","value"]],template:function(n,r){n&1&&ne(0,hse,3,7,"ng-template",null,0,bg)},dependencies:[es],styles:[`@keyframes _mat-timepicker-enter{from{opacity:0;transform:scaleY(0.8)}to{opacity:1;transform:none}}@keyframes _mat-timepicker-exit{from{opacity:1}to{opacity:0}}mat-timepicker{display:none}.mat-timepicker-panel{width:100%;max-height:256px;transform-origin:center top;overflow:auto;padding:8px 0;box-sizing:border-box;position:relative;border-bottom-left-radius:var(--mat-timepicker-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mat-timepicker-container-shape, var(--mat-sys-corner-extra-small));box-shadow:var(--mat-timepicker-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12));background-color:var(--mat-timepicker-container-background-color, var(--mat-sys-surface-container))}@media(forced-colors: active){.mat-timepicker-panel{outline:solid 1px}}.mat-timepicker-above .mat-timepicker-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mat-timepicker-container-shape, var(--mat-sys-corner-extra-small));border-top-right-radius:var(--mat-timepicker-container-shape, var(--mat-sys-corner-extra-small))}.mat-timepicker-panel-animations-enabled{animation:_mat-timepicker-enter 120ms cubic-bezier(0, 0, 0.2, 1)}.mat-timepicker-panel-animations-enabled.mat-timepicker-panel-exit{animation:_mat-timepicker-exit 100ms linear}.mat-timepicker-input[readonly]{cursor:pointer}@media(forced-colors: active){.mat-timepicker-toggle-default-icon{color:CanvasText}}
`],encapsulation:2,changeDetection:0})}return t})();function RT(t,i){t._getHostElement().scrollIntoView({block:i,inline:i})}var d3=(()=>{class t{_elementRef=x(ge);_dateAdapter=x(Kn,{optional:!0});_dateFormats=x(go,{optional:!0});_formField=x(cc,{optional:!0});_onChange;_onTouched;_validatorOnChange;_cleanupClick;_accessorDisabled=bn(!1);_localeSubscription;_timepickerSubscription;_validator;_lastValueValid=!0;_lastValidDate=null;_ariaActiveDescendant=zn(()=>{let e=this.timepicker(),n=e.isOpen(),r=e.activeDescendant();return n&&r?r:null});_ariaExpanded=zn(()=>this.timepicker().isOpen()+"");_ariaControls=zn(()=>{let e=this.timepicker();return e.isOpen()?e.panelId:null});value=aN(null);timepicker=rr.required({alias:"matTimepicker"});min=rr(null,{alias:"matTimepickerMin",transform:e=>this._transformDateInput(e)});max=rr(null,{alias:"matTimepickerMax",transform:e=>this._transformDateInput(e)});disabled=zn(()=>this.disabledInput()||this._accessorDisabled());disabledInput=rr(!1,{transform:re,alias:"disabled"});constructor(){let e=x(Qt);this._validator=this._getValidator(),this._respondToValueChanges(),this._respondToMinMaxChanges(),this._registerTimepicker(),this._localeSubscription=this._dateAdapter.localeChanges.subscribe(()=>{this._hasFocus()||this._formatValue(this.value())}),this._cleanupClick=e.listen(this.getOverlayOrigin().nativeElement,"click",this._handleClick)}writeValue(e){let n=this._dateAdapter.deserialize(e);this.value.set(this._dateAdapter.getValidDateOrNull(n))}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this._accessorDisabled.set(e)}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._validatorOnChange=e}getOverlayOrigin(){return this._formField?.getConnectedOverlayOrigin()||this._elementRef}focus(){this._elementRef.nativeElement.focus()}ngOnDestroy(){this._cleanupClick(),this._timepickerSubscription?.unsubscribe(),this._localeSubscription.unsubscribe()}_getLabelId(){return this._formField?.getLabelId()||null}_handleClick=()=>{this.disabled()||this.timepicker().open()};_handleInput(e){let n=this.value(),r=this._dateAdapter.parseTime(e,this._dateFormats.parse.timeInput),a=!this._dateAdapter.sameTime(r,n);!r||a||e&&!n?this._assignUserSelection(r,!0):this._validatorOnChange?.()}_handleBlur(){let e=this.value();e&&this._isValid(e)&&this._formatValue(e),this.timepicker().isOpen()||this._onTouched?.()}_handleKeydown(e){this.timepicker().isOpen()||this.disabled()||(e.keyCode===27&&!mi(e)&&this.value()!==null?(e.preventDefault(),this.value.set(null),this._formatValue(null)):(e.keyCode===40||e.keyCode===38)&&(e.preventDefault(),this.timepicker().open()))}_respondToValueChanges(){Go(()=>{let e=this._dateAdapter.deserialize(this.value()),n=this._lastValueValid;this._lastValueValid=this._isValid(e),this._hasFocus()||this._formatValue(e),e&&this._lastValueValid&&(this._lastValidDate=e),n!==this._lastValueValid&&this._validatorOnChange?.()})}_registerTimepicker(){Go(()=>{let e=this.timepicker();e.registerInput(this),e.closed.subscribe(()=>this._onTouched?.()),e.selected.subscribe(({value:n})=>{this._dateAdapter.sameTime(n,this.value())||(this._assignUserSelection(n,!0),this._formatValue(n))})})}_respondToMinMaxChanges(){Go(()=>{this.min(),this.max(),this._validatorOnChange?.()})}_assignUserSelection(e,n){if(e==null||!this._isValid(e))this.value.set(e);else{let r=this._dateAdapter,a=r.getValidDateOrNull(this._lastValidDate||this.value()),s=r.getHours(e),o=r.getMinutes(e),l=r.getSeconds(e);this.value.set(a?r.setTime(a,s,o,l):e)}n&&this._onChange?.(this.value())}_formatValue(e){e=this._dateAdapter.getValidDateOrNull(e),this._elementRef.nativeElement.value=e==null?"":this._dateAdapter.format(e,this._dateFormats.display.timeInput)}_isValid(e){return!e||this._dateAdapter.isValid(e)}_transformDateInput(e){let n=typeof e=="string"?this._dateAdapter.parseTime(e,this._dateFormats.parse.timeInput):this._dateAdapter.deserialize(e);return n&&this._dateAdapter.isValid(n)?n:null}_hasFocus(){return qa()===this._elementRef.nativeElement}_getValidator(){return fl.compose([()=>this._lastValueValid?null:{matTimepickerParse:{text:this._elementRef.nativeElement.value}},e=>{let n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e.value)),r=this.min();return!r||!n||this._dateAdapter.compareTime(r,n)<=0?null:{matTimepickerMin:{min:r,actual:n}}},e=>{let n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e.value)),r=this.max();return!r||!n||this._dateAdapter.compareTime(r,n)>=0?null:{matTimepickerMax:{max:r,actual:n}}}])}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["input","matTimepicker",""]],hostAttrs:["role","combobox","type","text","aria-haspopup","listbox",1,"mat-timepicker-input"],hostVars:5,hostBindings:function(n,r){if(n&1&&X("blur",function(){return r._handleBlur()})("input",function(s){return r._handleInput(s.target.value)})("keydown",function(s){return r._handleKeydown(s)}),n&2){let a;xa("disabled",r.disabled()),Ee("aria-activedescendant",r._ariaActiveDescendant())("aria-expanded",r._ariaExpanded())("aria-controls",r._ariaControls())("mat-timepicker-id",(a=r.timepicker())==null?null:a.panelId)}},inputs:{value:[1,"value"],timepicker:[1,"matTimepicker","timepicker"],min:[1,"matTimepickerMin","min"],max:[1,"matTimepickerMax","max"],disabledInput:[1,"disabled","disabledInput"]},outputs:{value:"valueChange"},exportAs:["matTimepickerInput"],features:[Ye([{provide:oc,useExisting:t,multi:!0},{provide:yl,useExisting:t,multi:!0},{provide:Rp,useExisting:t}])]})}return t})(),LT=(()=>{class t{_defaultConfig=x(c3,{optional:!0});_defaultTabIndex=(()=>{let e=x(new ea("tabindex"),{optional:!0}),n=Number(e);return isNaN(n)?null:n})();_isDisabled=zn(()=>{let e=this.timepicker();return this.disabled()||e.disabled()});timepicker=rr.required({alias:"for"});ariaLabel=rr(void 0,{alias:"aria-label"});ariaLabelledby=rr(void 0,{alias:"aria-labelledby"});_defaultAriaLabel="Open timepicker options";disabled=rr(!1,{transform:re,alias:"disabled"});tabIndex=rr(this._defaultTabIndex);disableRipple=rr(this._defaultConfig?.disableRipple??!1,{transform:re});_open(e){this.timepicker()&&!this._isDisabled()&&(this.timepicker().open(),e.stopPropagation())}getAriaLabel(){return this.ariaLabelledby()?null:this.ariaLabel()||this._defaultAriaLabel}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Q({type:t,selectors:[["mat-timepicker-toggle"]],hostAttrs:[1,"mat-timepicker-toggle"],hostVars:1,hostBindings:function(n,r){n&1&&X("click",function(s){return r._open(s)}),n&2&&Ee("tabindex",null)},inputs:{timepicker:[1,"for","timepicker"],ariaLabel:[1,"aria-label","ariaLabel"],ariaLabelledby:[1,"aria-labelledby","ariaLabelledby"],disabled:[1,"disabled"],tabIndex:[1,"tabIndex"],disableRipple:[1,"disableRipple"]},exportAs:["matTimepickerToggle"],ngContentSelectors:pse,decls:3,vars:6,consts:[["mat-icon-button","","type","button","aria-haspopup","listbox",3,"disabled","disableRipple"],["height","24px","width","24px","viewBox","0 -960 960 960","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-timepicker-toggle-default-icon"],["d","m612-292 56-56-148-148v-184h-80v216l172 172ZM480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-400Zm0 320q133 0 226.5-93.5T800-480q0-133-93.5-226.5T480-800q-133 0-226.5 93.5T160-480q0 133 93.5 226.5T480-160Z"]],template:function(n,r){n&1&&(mt(mse),M(0,"button",0),ke(1,0,null,fse,2,0),k()),n&2&&(W("disabled",r._isDisabled())("disableRipple",r.disableRipple()),Ee("aria-label",r.getAriaLabel())("aria-labelledby",r.ariaLabelledby())("aria-expanded",r.timepicker().isOpen())("tabindex",r._isDisabled()?-1:r.tabIndex()))},dependencies:[lr],encapsulation:2,changeDetection:0})}return t})(),u3=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Se({type:t});static \u0275inj=De({imports:[OT,LT,Jo]})}return t})();function _se(t,i){if(t&1&&(M(0,"mat-option",18),V(1),k()),t&2){let e=i.$implicit;S_("value",e.id),T(),$e(e.name)}}var h3=(()=>{class t{constructor(e,n){this.dialogRef=e,this.calendarioService=n,this.eventTypes=[]}ngOnInit(){this.eventTypes=this.calendarioService.getEventTypes().map((e,n)=>(e.id=n,e)),this.tipo="0",this.eventTime=new Date}fecharDialogo(){this.dialogRef.close()}addEvent(){if(!this.titulo||this.titulo===""){alert("Obrigat\xF3rio preencher o t\xEDtulo");return}else(!this.descricao||this.descricao==="")&&(this.descricao="Sem descri\xE7\xE3o");var e={data:this.eventTime.getTime(),descricao:this.descricao,tipo:this.tipo,titulo:this.titulo};this.calendarioService.addEvent(e).then(n=>{this.dialogRef.close()})}static{this.\u0275fac=function(n){return new(n||t)(J(Yn),J(wd))}}static{this.\u0275cmp=Q({type:t,selectors:[["app-create-event-dialog"]],standalone:!1,decls:39,vars:10,consts:[["datepicker",""],["timepicker",""],[1,"header"],[1,"header-date"],["mat-icon-button","",2,"align-self","end",3,"click"],["fontIcon","close"],[1,"event-creator-container"],[3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["matInput","",3,"ngModelChange","ngModel"],[1,"horario-picker"],[2,"margin-right","16px"],["matInput","",3,"ngModelChange","matDatepicker","ngModel"],["matIconSuffix","",3,"for"],["matInput","",3,"ngModelChange","matTimepicker","ngModel"],[1,"example-full-width"],[1,"add-button"],["mat-raised-button","","color","primary",3,"click"],[3,"value"]],template:function(n,r){if(n&1){let a=zt();M(0,"mat-dialog-content")(1,"div",2)(2,"h2",3),V(3,"Adicionar evento"),k(),M(4,"button",4),X("click",function(){return xe(a),Ce(r.fecharDialogo())}),ae(5,"mat-icon",5),k()(),M(6,"div",6)(7,"mat-form-field")(8,"mat-label"),V(9,"Tipo de evento"),k(),M(10,"mat-select",7),Fi("ngModelChange",function(o){return xe(a),Pi(r.tipo,o)||(r.tipo=o),Ce(o)}),ne(11,_se,2,2,"mat-option",8),k()(),M(12,"mat-form-field")(13,"mat-label"),V(14,"T\xEDtulo"),k(),M(15,"input",9),Fi("ngModelChange",function(o){return xe(a),Pi(r.titulo,o)||(r.titulo=o),Ce(o)}),k()(),M(16,"div",10)(17,"mat-form-field",11)(18,"mat-label"),V(19,"Escolher data"),k(),M(20,"input",12),Fi("ngModelChange",function(o){return xe(a),Pi(r.eventTime,o)||(r.eventTime=o),Ce(o)}),k(),ae(21,"mat-datepicker-toggle",13)(22,"mat-datepicker",null,0),k(),M(24,"mat-form-field")(25,"mat-label"),V(26,"Escolher horas"),k(),M(27,"input",14),Fi("ngModelChange",function(o){return xe(a),Pi(r.eventTime,o)||(r.eventTime=o),Ce(o)}),k(),ae(28,"mat-timepicker-toggle",13)(29,"mat-timepicker",null,1),k()(),M(31,"mat-form-field",15)(32,"mat-label"),V(33,"Descri\xE7\xE3o"),k(),M(34,"textarea",9),Fi("ngModelChange",function(o){return xe(a),Pi(r.descricao,o)||(r.descricao=o),Ce(o)}),k()()()(),M(35,"mat-dialog-actions")(36,"div",16)(37,"button",17),X("click",function(){return xe(a),Ce(r.addEvent())}),V(38,"Adicionar"),k()()()}if(n&2){let a=ar(23),s=ar(30);T(10),Ni("ngModel",r.tipo),T(),W("ngForOf",r.eventTypes),T(4),Ni("ngModel",r.titulo),T(5),W("matDatepicker",a),Ni("ngModel",r.eventTime),T(),W("for",a),T(6),W("matTimepicker",s),Ni("ngModel",r.eventTime),T(),W("for",s),T(6),Ni("ngModel",r.descricao)}},dependencies:[Da,Pr,lb,la,br,lr,Ms,da,vr,lc,oh,es,HC,Bp,_b,OT,d3,LT,Ds,Ea,ca],styles:[".header[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center}.header-date[_ngcontent-%COMP%]{margin:0}.event-creator-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.horario-picker[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:left}.add-button[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:end}@media screen and (max-width: 599px){.horario-picker[_ngcontent-%COMP%]{justify-content:space-between}}"]})}}return t})();function xse(t,i){if(t&1&&(M(0,"mat-option",7),V(1),k()),t&2){let e=i.$implicit;S_("value",e.id),T(),$e(e.type)}}var m3=(()=>{class t{constructor(e,n,r){this.userService=e,this.dialogRef=n,this.data=r}ngOnInit(){this.userTypes=this.userService.getAllUserTypes()}finishRegister(){this.userService.finishRegistration(this.data.id,{type:this.type,ready:!0,role:this.role,name:this.data.name}).then(()=>{this.dialogRef.close()})}static{this.\u0275fac=function(n){return new(n||t)(J(vs),J(Yn),J(ws))}}static{this.\u0275cmp=Q({type:t,selectors:[["app-complete-register-dialog"]],standalone:!1,decls:22,vars:4,consts:[[1,"selects-container"],[3,"ngModelChange","ngModel"],["value","user"],["value","admin"],[3,"value",4,"ngFor","ngForOf"],[1,"add-button"],["mat-raised-button","",3,"click"],[3,"value"]],template:function(n,r){n&1&&(M(0,"mat-dialog-content")(1,"h2"),V(2,"Finalizar registo"),k(),M(3,"h3"),V(4),k(),M(5,"div",0)(6,"mat-form-field")(7,"mat-label"),V(8,"Nivel do utilizador"),k(),M(9,"mat-select",1),Fi("ngModelChange",function(s){return Pi(r.role,s)||(r.role=s),s}),M(10,"mat-option",2),V(11,"Utilizador"),k(),M(12,"mat-option",3),V(13,"Comiss\xE3o"),k()()(),M(14,"mat-form-field")(15,"mat-label"),V(16,"Pelouro"),k(),M(17,"mat-select",1),Fi("ngModelChange",function(s){return Pi(r.type,s)||(r.type=s),s}),ne(18,xse,2,2,"mat-option",4),k()()(),M(19,"div",5)(20,"button",6),X("click",function(){return r.finishRegister()}),V(21,"Ativar conta"),k()()()),n&2&&(T(4),Ut("Utilizador: ",r.data.name,""),T(5),Ni("ngModel",r.role),T(8),Ni("ngModel",r.type),T(),W("ngForOf",r.userTypes))},dependencies:[Da,la,br,da,vr,oh,es,Ea,ca],styles:[".selects-container[_ngcontent-%COMP%]{display:flex}.mat-mdc-form-field[_ngcontent-%COMP%]{margin-right:10px}.add-button[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:right}"]})}}return t})();var p3=(()=>{class t{constructor(e,n){this.dialogRef=e,this.data=n}fecharDialogo(){this.dialogRef.close()}finishAdding(){this.dialogRef.close(this.valorAdicionar)}static{this.\u0275fac=function(n){return new(n||t)(J(Yn),J(ws))}}static{this.\u0275cmp=Q({type:t,selectors:[["app-add-money-dialog"]],standalone:!1,decls:17,vars:3,consts:[[1,"header"],[1,"header-title"],["mat-icon-button","",2,"align-self","end",3,"click"],["fontIcon","close"],[1,"example-form"],[1,"example-full-width"],["matInput","","placeholder","Ex. 100\u20AC","name","valorAdicionar","type","number",3,"ngModelChange","ngModel"],[1,"add-button"],["mat-raised-button","","color","primary",3,"click"]],template:function(n,r){n&1&&(M(0,"mat-dialog-content")(1,"div",0)(2,"h1",1),V(3),k(),M(4,"button",2),X("click",function(){return r.fecharDialogo()}),ae(5,"mat-icon",3),k()(),M(6,"h2"),V(7),k(),M(8,"form",4)(9,"mat-form-field",5)(10,"mat-label"),V(11,"Quantia"),k(),M(12,"input",6),Fi("ngModelChange",function(s){return Pi(r.valorAdicionar,s)||(r.valorAdicionar=s),s}),k()()(),M(13,"mat-dialog-actions")(14,"div",7)(15,"button",8),X("click",function(){return r.finishAdding()}),V(16,"Adicionar"),k()()()()),n&2&&(T(3),$e(r.data.title),T(4),Ut(" Valor atual: ",r.data.value,"\u20AC"),T(5),Ni("ngModel",r.valorAdicionar))},dependencies:[Pr,lb,la,br,lr,Ms,da,vr,Ep,Ds,fT,Ea,Ap,ca,Ss],styles:[".add-button[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:end}.header[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center}.header-title[_ngcontent-%COMP%]{margin:0}"]})}}return t})();var f3=(()=>{class t{constructor(e){this.storageService=e}getAccountBalance(){return this.storageService.getData("balance")}setIncomeValue(e){return this.storageService.setData("balance/income",e)}setExpensesValue(e){return this.storageService.setData("balance/expenses",e)}setHandValue(e){return this.storageService.setData("balance/handTotal",e)}static{this.\u0275fac=function(n){return new(n||t)(Te(_d))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var wse=["mat-menu-item",""],Dse=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],Sse=["mat-icon, [matMenuItemIcon]","*"];function Mse(t,i){t&1&&(Ai(),M(0,"svg",2),ae(1,"polygon",3),k())}var Ise=["*"];function kse(t,i){if(t&1){let e=zt();M(0,"div",0),X("click",function(){xe(e);let r=ye();return Ce(r.closed.emit("click"))})("animationstart",function(r){xe(e);let a=ye();return Ce(a._onAnimationStart(r.animationName))})("animationend",function(r){xe(e);let a=ye();return Ce(a._onAnimationDone(r.animationName))})("animationcancel",function(r){xe(e);let a=ye();return Ce(a._onAnimationDone(r.animationName))}),M(1,"div",1),ke(2),k()()}if(t&2){let e=ye();jn(e._classList),me("mat-menu-panel-animations-disabled",e._animationsDisabled)("mat-menu-panel-exit-animation",e._panelAnimationState==="void")("mat-menu-panel-animating",e._isAnimating),W("id",e.panelId),Ee("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}var PT=new G("MAT_MENU_PANEL"),wb=(()=>{class t{_elementRef=x(ge);_document=x(Ue);_focusMonitor=x(gs);_parentMenu=x(PT,{optional:!0});_changeDetectorRef=x(st);role="menuitem";disabled=!1;disableRipple=!1;_hovered=new se;_focused=new se;_highlighted=!1;_triggersSubmenu=!1;constructor(){x(_i).load(Nr),this._parentMenu?.addItem?.(this)}focus(e,n){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,n):this._getHostElement().focus(n),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){let e=this._elementRef.nativeElement.cloneNode(!0),n=e.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<n.length;r++)n[r].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef.markForCheck()}_setTriggersSubmenu(e){this._triggersSubmenu=e,this._changeDetectorRef.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Q({type:t,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-focus-indicator"],hostVars:8,hostBindings:function(n,r){n&1&&X("click",function(s){return r._checkDisabled(s)})("mouseenter",function(){return r._handleMouseEnter()}),n&2&&(Ee("role",r.role)("tabindex",r._getTabIndex())("aria-disabled",r.disabled)("disabled",r.disabled||null),me("mat-mdc-menu-item-highlighted",r._highlighted)("mat-mdc-menu-item-submenu-trigger",r._triggersSubmenu))},inputs:{role:"role",disabled:[2,"disabled","disabled",re],disableRipple:[2,"disableRipple","disableRipple",re]},exportAs:["matMenuItem"],attrs:wse,ngContentSelectors:Sse,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(n,r){n&1&&(mt(Dse),ke(0),M(1,"span",0),ke(2,1),k(),ae(3,"div",1),ne(4,Mse,2,0,":svg:svg",2)),n&2&&(T(3),W("matRippleDisabled",r.disableRipple||r.disabled)("matRippleTrigger",r._getHostElement()),T(),kt(r._triggersSubmenu?4:-1))},dependencies:[nc],encapsulation:2,changeDetection:0})}return t})();var g3=new G("MatMenuContent"),y3=(()=>{class t{_template=x(bi);_appRef=x($s);_injector=x(Qe);_viewContainerRef=x(vi);_document=x(Ue);_changeDetectorRef=x(st);_portal;_outlet;_attached=new se;constructor(){}attach(e={}){this._portal||(this._portal=new Wn(this._template,this._viewContainerRef)),this.detach(),this._outlet||(this._outlet=new Xu(this._document.createElement("div"),null,this._appRef,this._injector));let n=this._template.elementRef.nativeElement;n.parentNode.insertBefore(this._outlet.outletElement,n),this._changeDetectorRef.markForCheck(),this._portal.attach(this._outlet,e),this._attached.next()}detach(){this._portal?.isAttached&&this._portal.detach()}ngOnDestroy(){this.detach(),this._outlet?.dispose()}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["ng-template","matMenuContent",""]],features:[Ye([{provide:g3,useExisting:t}])]})}return t})(),Ase=new G("mat-menu-default-options",{providedIn:"root",factory:Ese});function Ese(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}var NT="_mat-menu-enter",$C="_mat-menu-exit",jp=(()=>{class t{_elementRef=x(ge);_changeDetectorRef=x(st);_injector=x(Qe);_keyManager;_xPosition;_yPosition;_firstItemFocusRef;_exitFallbackTimeout;_animationsDisabled;_allItems;_directDescendantItems=new Vl;_classList={};_panelAnimationState="void";_animationDone=new se;_isAnimating=!1;parentMenu;direction;overlayPanelClass;backdropClass;ariaLabel;ariaLabelledby;ariaDescribedby;get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}templateRef;items;lazyContent;overlapTrigger;hasBackdrop;set panelClass(e){let n=this._previousPanelClass,r=f({},this._classList);n&&n.length&&n.split(" ").forEach(a=>{r[a]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(a=>{r[a]=!0}),this._elementRef.nativeElement.className=""),this._classList=r}_previousPanelClass;get classList(){return this.panelClass}set classList(e){this.panelClass=e}closed=new ie;close=this.closed;panelId=x(ei).getId("mat-menu-panel-");constructor(){let e=x(Ase);this.overlayPanelClass=e.overlayPanelClass||"",this._xPosition=e.xPosition,this._yPosition=e.yPosition,this.backdropClass=e.backdropClass,this.overlapTrigger=e.overlapTrigger,this.hasBackdrop=e.hasBackdrop,this._animationsDisabled=x(Kt,{optional:!0})==="NoopAnimations"}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new Kl(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(yi(this._directDescendantItems),Xi(e=>ri(...e.map(n=>n._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{let n=this._keyManager;if(this._panelAnimationState==="enter"&&n.activeItem?._hasFocus()){let r=e.toArray(),a=Math.max(0,Math.min(r.length-1,n.activeItemIndex||0));r[a]&&!r[a].disabled?n.setActiveItem(a):n.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusRef?.destroy(),clearTimeout(this._exitFallbackTimeout)}_hovered(){return this._directDescendantItems.changes.pipe(yi(this._directDescendantItems),Xi(n=>ri(...n.map(r=>r._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){let n=e.keyCode,r=this._keyManager;switch(n){case 27:mi(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&this.direction==="ltr"&&this.closed.emit("keydown");break;case 39:this.parentMenu&&this.direction==="rtl"&&this.closed.emit("keydown");break;default:(n===38||n===40)&&r.setFocusOrigin("keyboard"),r.onKeydown(e);return}}focusFirstItem(e="program"){this._firstItemFocusRef?.destroy(),this._firstItemFocusRef=dn(()=>{let n=this._resolvePanel();if(!n||!n.contains(document.activeElement)){let r=this._keyManager;r.setFocusOrigin(e).setFirstItemActive(),!r.activeItem&&n&&n.focus()}},{injector:this._injector})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){}setPositionClasses(e=this.xPosition,n=this.yPosition){this._classList=S(f({},this._classList),{"mat-menu-before":e==="before","mat-menu-after":e==="after","mat-menu-above":n==="above","mat-menu-below":n==="below"}),this._changeDetectorRef.markForCheck()}_onAnimationDone(e){let n=e===$C;(n||e===NT)&&(n&&(clearTimeout(this._exitFallbackTimeout),this._exitFallbackTimeout=void 0),this._animationDone.next(n?"void":"enter"),this._isAnimating=!1)}_onAnimationStart(e){(e===NT||e===$C)&&(this._isAnimating=!0)}_setIsOpen(e){if(this._panelAnimationState=e?"enter":"void",e){if(this._keyManager.activeItemIndex===0){let n=this._resolvePanel();n&&(n.scrollTop=0)}}else this._animationsDisabled||(this._exitFallbackTimeout=setTimeout(()=>this._onAnimationDone($C),200));this._animationsDisabled&&setTimeout(()=>{this._onAnimationDone(e?NT:$C)}),this._changeDetectorRef.markForCheck()}_updateDirectDescendants(){this._allItems.changes.pipe(yi(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(n=>n._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}_resolvePanel(){let e=null;return this._directDescendantItems.length&&(e=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),e}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Q({type:t,selectors:[["mat-menu"]],contentQueries:function(n,r,a){if(n&1&&(Et(a,g3,5),Et(a,wb,5),Et(a,wb,4)),n&2){let s;be(s=ve())&&(r.lazyContent=s.first),be(s=ve())&&(r._allItems=s),be(s=ve())&&(r.items=s)}},viewQuery:function(n,r){if(n&1&&Xe(bi,5),n&2){let a;be(a=ve())&&(r.templateRef=a.first)}},hostVars:3,hostBindings:function(n,r){n&2&&Ee("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[2,"overlapTrigger","overlapTrigger",re],hasBackdrop:[2,"hasBackdrop","hasBackdrop",e=>e==null?null:re(e)],panelClass:[0,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],features:[Ye([{provide:PT,useExisting:t}])],ngContentSelectors:Ise,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel",3,"click","animationstart","animationend","animationcancel","id"],[1,"mat-mdc-menu-content"]],template:function(n,r){n&1&&(mt(),ne(0,kse,3,12,"ng-template"))},styles:[`mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;outline:0}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mat-menu-item-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mat-menu-item-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-menu-item-label-text-tracking, var(--mat-sys-label-large-tracking));font-weight:var(--mat-menu-item-label-text-weight, var(--mat-sys-label-large-weight))}@keyframes _mat-menu-enter{from{opacity:0;transform:scale(0.8)}to{opacity:1;transform:none}}@keyframes _mat-menu-exit{from{opacity:1}to{opacity:0}}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;box-sizing:border-box;outline:0;animation:_mat-menu-enter 120ms cubic-bezier(0, 0, 0.2, 1);border-radius:var(--mat-menu-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mat-menu-container-color, var(--mat-sys-surface-container));box-shadow:var(--mat-menu-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12));will-change:transform,opacity}.mat-mdc-menu-panel.mat-menu-panel-exit-animation{animation:_mat-menu-exit 100ms 25ms linear forwards}.mat-mdc-menu-panel.mat-menu-panel-animations-disabled{animation:none}.mat-mdc-menu-panel.mat-menu-panel-animating{pointer-events:none}.mat-mdc-menu-panel.mat-menu-panel-animating:has(.mat-mdc-menu-content:empty){display:none}@media(forced-colors: active){.mat-mdc-menu-panel{outline:solid 1px}}.mat-mdc-menu-panel .mat-divider{color:var(--mat-menu-divider-color, var(--mat-sys-surface-variant));margin-bottom:var(--mat-menu-divider-bottom-spacing, 8px);margin-top:var(--mat-menu-divider-top-spacing, 8px)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px;padding-left:var(--mat-menu-item-leading-spacing, 12px);padding-right:var(--mat-menu-item-trailing-spacing, 12px);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-menu-item::-moz-focus-inner{border:0}[dir=rtl] .mat-mdc-menu-item{padding-left:var(--mat-menu-item-trailing-spacing, 12px);padding-right:var(--mat-menu-item-leading-spacing, 12px)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing, 12px);padding-right:var(--mat-menu-item-with-icon-trailing-spacing, 12px)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-trailing-spacing, 12px);padding-right:var(--mat-menu-item-with-icon-leading-spacing, 12px)}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item:focus{outline:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing, 12px);height:var(--mat-menu-item-icon-size, 24px);width:var(--mat-menu-item-icon-size, 24px)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing, 12px)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent))}@media(forced-colors: active){.mat-mdc-menu-item{margin-top:1px}}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size, 24px);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing, 12px)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing, 12px);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1);transform-origin:center}@media(forced-colors: active){.mat-mdc-menu-submenu-icon{fill:CanvasText}}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}
`],encapsulation:2,changeDetection:0})}return t})(),b3=new G("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{let t=x(Hi);return()=>t.scrollStrategies.reposition()}});function Tse(t){return()=>t.scrollStrategies.reposition()}var Rse={provide:b3,deps:[Hi],useFactory:Tse},Ose={passive:!0};var Cb=new WeakMap,v3=(()=>{class t{_overlay=x(Hi);_element=x(ge);_viewContainerRef=x(vi);_menuItemInstance=x(wb,{optional:!0,self:!0});_dir=x(Ei,{optional:!0});_focusMonitor=x(gs);_ngZone=x(we);_scrollStrategy=x(b3);_changeDetectorRef=x(st);_cleanupTouchstart;_portal;_overlayRef=null;_menuOpen=!1;_closingActionsSubscription=xt.EMPTY;_hoverSubscription=xt.EMPTY;_menuCloseSubscription=xt.EMPTY;_pendingRemoval;_parentMaterialMenu;_parentInnerPadding;_openedBy=void 0;get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._parentMaterialMenu,this._menuCloseSubscription=e.close.subscribe(n=>{this._destroyMenu(n),(n==="click"||n==="tab")&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(n)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}_menu;menuData;restoreFocus=!0;menuOpened=new ie;onMenuOpen=this.menuOpened;menuClosed=new ie;onMenuClose=this.menuClosed;constructor(){let e=x(PT,{optional:!0}),n=x(Qt);this._parentMaterialMenu=e instanceof jp?e:void 0,this._cleanupTouchstart=Ti(n,this._element.nativeElement,"touchstart",r=>{Eu(r)||(this._openedBy="touch")},Ose)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this.menu&&this._ownsMenu(this.menu)&&Cb.delete(this.menu),this._cleanupTouchstart(),this._pendingRemoval?.unsubscribe(),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe(),this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null)}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){let e=this.menu;if(this._menuOpen||!e)return;this._pendingRemoval?.unsubscribe();let n=Cb.get(e);Cb.set(e,this),n&&n!==this&&n.closeMenu();let r=this._createOverlay(e),a=r.getConfig(),s=a.positionStrategy;this._setPosition(e,s),a.hasBackdrop=e.hasBackdrop==null?!this.triggersSubmenu():e.hasBackdrop,r.hasAttached()||(r.attach(this._getPortal(e)),e.lazyContent?.attach(this.menuData)),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0),e instanceof jp&&(e._setIsOpen(!0),e._directDescendantItems.changes.pipe(di(e.close)).subscribe(()=>{s.withLockedPosition(!1).reapplyLastPosition(),s.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(e,n){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,n):this._element.nativeElement.focus(n)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){let n=this._overlayRef,r=this._menu;!n||!this.menuOpen||(this._closingActionsSubscription.unsubscribe(),this._pendingRemoval?.unsubscribe(),r instanceof jp&&this._ownsMenu(r)?(this._pendingRemoval=r._animationDone.pipe(Yi(1)).subscribe(()=>{n.detach(),r.lazyContent?.detach()}),r._setIsOpen(!1)):(n.detach(),r?.lazyContent?.detach()),r&&this._ownsMenu(r)&&Cb.delete(r),this.restoreFocus&&(e==="keydown"||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,this._setIsMenuOpen(!1))}_setIsMenuOpen(e){e!==this._menuOpen&&(this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e),this._changeDetectorRef.markForCheck())}_createOverlay(e){if(!this._overlayRef){let n=this._getOverlayConfig(e);this._subscribeToPositions(e,n.positionStrategy),this._overlayRef=this._overlay.create(n),this._overlayRef.keydownEvents().subscribe(r=>{this.menu instanceof jp&&this.menu._handleKeydown(r)})}return this._overlayRef}_getOverlayConfig(e){return new mo({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir||"ltr"})}_subscribeToPositions(e,n){e.setPositionClasses&&n.positionChanges.subscribe(r=>{this._ngZone.run(()=>{let a=r.connectionPair.overlayX==="start"?"after":"before",s=r.connectionPair.overlayY==="top"?"below":"above";e.setPositionClasses(a,s)})})}_setPosition(e,n){let[r,a]=e.xPosition==="before"?["end","start"]:["start","end"],[s,o]=e.yPosition==="above"?["bottom","top"]:["top","bottom"],[l,c]=[s,o],[d,u]=[r,a],h=0;if(this.triggersSubmenu()){if(u=r=e.xPosition==="before"?"start":"end",a=d=r==="end"?"start":"end",this._parentMaterialMenu){if(this._parentInnerPadding==null){let m=this._parentMaterialMenu.items.first;this._parentInnerPadding=m?m._getHostElement().offsetTop:0}h=s==="bottom"?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(l=s==="top"?"bottom":"top",c=o==="top"?"bottom":"top");n.withPositions([{originX:r,originY:l,overlayX:d,overlayY:s,offsetY:h},{originX:a,originY:l,overlayX:u,overlayY:s,offsetY:h},{originX:r,originY:c,overlayX:d,overlayY:o,offsetY:-h},{originX:a,originY:c,overlayX:u,overlayY:o,offsetY:-h}])}_menuClosingActions(){let e=this._overlayRef.backdropClick(),n=this._overlayRef.detachments(),r=this._parentMaterialMenu?this._parentMaterialMenu.closed:Ie(),a=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(It(s=>this._menuOpen&&s!==this._menuItemInstance)):Ie();return ri(e,r,a,n)}_handleMousedown(e){Au(e)||(this._openedBy=e.button===0?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){let n=e.keyCode;(n===13||n===32)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(n===39&&this.dir==="ltr"||n===37&&this.dir==="rtl")&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){this.triggersSubmenu()&&this._parentMaterialMenu&&(this._hoverSubscription=this._parentMaterialMenu._hovered().subscribe(e=>{e===this._menuItemInstance&&!e.disabled&&(this._openedBy="mouse",this.openMenu())}))}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new Wn(e.templateRef,this._viewContainerRef)),this._portal}_ownsMenu(e){return Cb.get(e)===this}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(n,r){n&1&&X("click",function(s){return r._handleClick(s)})("mousedown",function(s){return r._handleMousedown(s)})("keydown",function(s){return r._handleKeydown(s)}),n&2&&Ee("aria-haspopup",r.menu?"menu":null)("aria-expanded",r.menuOpen)("aria-controls",r.menuOpen?r.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[0,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[0,"matMenuTriggerFor","menu"],menuData:[0,"matMenuTriggerData","menuData"],restoreFocus:[0,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"]})}return t})(),_3=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Se({type:t});static \u0275inj=De({providers:[Rse],imports:[Md,nt,po,Jo,nt]})}return t})(),x3={transformMenu:{type:7,name:"transformMenu",definitions:[{type:0,name:"void",styles:{type:6,styles:{opacity:0,transform:"scale(0.8)"},offset:null}},{type:1,expr:"void => enter",animation:{type:4,styles:{type:6,styles:{opacity:1,transform:"scale(1)"},offset:null},timings:"120ms cubic-bezier(0, 0, 0.2, 1)"},options:null},{type:1,expr:"* => void",animation:{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"100ms 25ms linear"},options:null}],options:{}},fadeInItems:{type:7,name:"fadeInItems",definitions:[{type:0,name:"showing",styles:{type:6,styles:{opacity:1},offset:null}},{type:1,expr:"void => *",animation:[{type:6,styles:{opacity:0},offset:null},{type:4,styles:null,timings:"400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"}],options:null}],options:{}}},TNe=x3.fadeInItems,RNe=x3.transformMenu;var C3=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Se({type:t});static \u0275inj=De({imports:[nt,nt]})}return t})();var Nse=["*"],Pse=`.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item{display:flex;position:relative;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer;padding-left:16px;padding-right:16px;background-color:var(--mdc-list-list-item-container-color, transparent);border-radius:var(--mdc-list-list-item-container-shape, var(--mat-sys-corner-none))}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item:focus{outline:0}.mdc-list-item.mdc-list-item--disabled{cursor:auto}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height, 48px)}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height, 64px)}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height, 88px)}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--selected::before,.mdc-list-item.mdc-list-item--selected:focus::before,.mdc-list-item:not(.mdc-list-item--selected):focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;content:"";pointer-events:none}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color, var(--mat-sys-on-surface-variant));width:var(--mdc-list-list-item-leading-icon-size, 24px);height:var(--mdc-list-list-item-leading-icon-size, 24px);margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size, 40px);height:var(--mdc-list-list-item-leading-avatar-size, 40px);margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item--with-leading-avatar .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font, var(--mat-sys-label-small-font));line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height, var(--mat-sys-label-small-line-height));font-size:var(--mdc-list-list-item-trailing-supporting-text-size, var(--mat-sys-label-small-size));font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight, var(--mat-sys-label-small-weight));letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking, var(--mat-sys-label-small-tracking))}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color, var(--mat-sys-on-surface-variant));width:var(--mdc-list-list-item-trailing-icon-size, 24px);height:var(--mdc-list-list-item-trailing-icon-size, 24px)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color, var(--mat-sys-on-surface-variant))}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color, var(--mat-sys-primary))}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;color:var(--mdc-list-list-item-label-text-color, var(--mat-sys-on-surface));font-family:var(--mdc-list-list-item-label-text-font, var(--mat-sys-body-large-font));line-height:var(--mdc-list-list-item-label-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mdc-list-list-item-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mdc-list-list-item-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mdc-list-list-item-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;color:var(--mdc-list-list-item-supporting-text-color, var(--mat-sys-on-surface-variant));font-family:var(--mdc-list-list-item-supporting-text-font, var(--mat-sys-body-medium-font));line-height:var(--mdc-list-list-item-supporting-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mdc-list-list-item-supporting-text-size, var(--mat-sys-body-medium-size));font-weight:var(--mdc-list-list-item-supporting-text-weight, var(--mat-sys-body-medium-weight));letter-spacing:var(--mdc-list-list-item-supporting-text-tracking, var(--mat-sys-body-medium-tracking))}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:16px}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:16px;padding-right:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-trailing-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:0;padding-right:0}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-webkit-user-select:none;user-select:none;margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;line-height:normal;align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-left:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-right:0}.mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-group__subheader{margin:.75rem 16px}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity, 0.3)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity, 0.38)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity, 0.38)}.mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing,[dir=rtl] .mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing{padding-left:0;padding-right:0}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-disabled-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity, 0.3)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape, var(--mat-sys-corner-full));background-color:var(--mdc-list-list-item-leading-avatar-color, var(--mat-sys-primary-container))}.mat-mdc-list-item-icon{font-size:var(--mdc-list-list-item-leading-icon-size, 24px)}@media(forced-colors: active){a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none;border-radius:inherit}.mat-mdc-list-item>.mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:start}mat-action-list button::-moz-focus-inner{border:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-inline-start:var(--mat-list-list-item-leading-icon-start-space, 16px);margin-inline-end:var(--mat-list-list-item-leading-icon-end-space, 16px)}.mat-mdc-nav-list .mat-mdc-list-item{border-radius:var(--mat-list-active-indicator-shape, var(--mat-sys-corner-full));--mat-focus-indicator-border-radius:var(--mat-list-active-indicator-shape, var(--mat-sys-corner-full))}.mat-mdc-nav-list .mat-mdc-list-item.mdc-list-item--activated{background-color:var(--mat-list-active-indicator-color, var(--mat-sys-secondary-container))}
`,Fse=["unscopedContent"],Vse=["text"],Bse=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],jse=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"];var zse=new G("ListOption"),Use=(()=>{class t{_elementRef=x(ge);constructor(){}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"]})}return t})(),Hse=(()=>{class t{_elementRef=x(ge);constructor(){}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"]})}return t})(),Gse=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"]})}return t})(),w3=(()=>{class t{_listOption=x(zse,{optional:!0});constructor(){}_isAlignedAtStart(){return!this._listOption||this._listOption?._getTogglePosition()==="after"}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,hostVars:4,hostBindings:function(n,r){n&2&&me("mdc-list-item__start",r._isAlignedAtStart())("mdc-list-item__end",!r._isAlignedAtStart())}})}return t})(),Wse=(()=>{class t extends w3{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Dt(t)))(r||t)}})();static \u0275dir=Y({type:t,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],features:[Ve]})}return t})(),$se=(()=>{class t extends w3{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Dt(t)))(r||t)}})();static \u0275dir=Y({type:t,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],features:[Ve]})}return t})(),Yse=new G("MAT_LIST_CONFIG"),FT=(()=>{class t{_isNonInteractive=!0;get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Ka(e)}_disableRipple=!1;get disabled(){return this._disabled}set disabled(e){this._disabled=Ka(e)}_disabled=!1;_defaultOptions=x(Yse,{optional:!0});static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,hostVars:1,hostBindings:function(n,r){n&2&&Ee("aria-disabled",r.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"}})}return t})(),Kse=(()=>{class t{_elementRef=x(ge);_ngZone=x(we);_listBase=x(FT,{optional:!0});_platform=x(Pt);_hostElement;_isButtonElement;_noopAnimations;_avatars;_icons;set lines(e){this._explicitLines=Xo(e,null),this._updateItemLines(!1)}_explicitLines=null;get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(e){this._disableRipple=Ka(e)}_disableRipple=!1;get disabled(){return this._disabled||!!this._listBase?.disabled}set disabled(e){this._disabled=Ka(e)}_disabled=!1;_subscriptions=new xt;_rippleRenderer=null;_hasUnscopedTextContent=!1;rippleConfig;get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(){x(_i).load(Nr);let e=x(_p,{optional:!0}),n=x(Kt,{optional:!0});this.rippleConfig=e||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement=this._hostElement.nodeName.toLowerCase()==="button",this._noopAnimations=n==="NoopAnimations",this._listBase&&!this._listBase._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),this._rippleRenderer!==null&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!!(this._avatars.length||this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new Ju(this,this._ngZone,this._hostElement,this._platform,x(Qe)),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add(ri(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(e){if(!this._lines||!this._titles||!this._unscopedContent)return;e&&this._checkDomForUnscopedTextContent();let n=this._explicitLines??this._inferLinesFromContent(),r=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",n<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",n<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",n===2),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",n===3),this._hasUnscopedTextContent){let a=this._titles.length===0&&n===1;r.classList.toggle("mdc-list-item__primary-text",a),r.classList.toggle("mdc-list-item__secondary-text",!a)}else r.classList.remove("mdc-list-item__primary-text"),r.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let e=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(e+=1),e}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(e=>e.nodeType!==e.COMMENT_NODE).some(e=>!!(e.textContent&&e.textContent.trim()))}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,contentQueries:function(n,r,a){if(n&1&&(Et(a,Wse,4),Et(a,$se,4)),n&2){let s;be(s=ve())&&(r._avatars=s),be(s=ve())&&(r._icons=s)}},hostVars:4,hostBindings:function(n,r){n&2&&(Ee("aria-disabled",r.disabled)("disabled",r._isButtonElement&&r.disabled||null),me("mdc-list-item--disabled",r.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"}})}return t})();var D3=(()=>{class t extends Kse{_lines;_titles;_meta;_unscopedContent;_itemText;get activated(){return this._activated}set activated(e){this._activated=Ka(e)}_activated=!1;_getAriaCurrent(){return this._hostElement.nodeName==="A"&&this._activated?"page":null}_hasBothLeadingAndTrailing(){return this._meta.length!==0&&(this._avatars.length!==0||this._icons.length!==0)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Dt(t)))(r||t)}})();static \u0275cmp=Q({type:t,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(n,r,a){if(n&1&&(Et(a,Hse,5),Et(a,Use,5),Et(a,Gse,5)),n&2){let s;be(s=ve())&&(r._lines=s),be(s=ve())&&(r._titles=s),be(s=ve())&&(r._meta=s)}},viewQuery:function(n,r){if(n&1&&(Xe(Fse,5),Xe(Vse,5)),n&2){let a;be(a=ve())&&(r._unscopedContent=a.first),be(a=ve())&&(r._itemText=a.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:13,hostBindings:function(n,r){n&2&&(Ee("aria-current",r._getAriaCurrent()),me("mdc-list-item--activated",r.activated)("mdc-list-item--with-leading-avatar",r._avatars.length!==0)("mdc-list-item--with-leading-icon",r._icons.length!==0)("mdc-list-item--with-trailing-meta",r._meta.length!==0)("mat-mdc-list-item-both-leading-and-trailing",r._hasBothLeadingAndTrailing())("_mat-animation-noopable",r._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],features:[Ve],ngContentSelectors:jse,decls:10,vars:0,consts:[["unscopedContent",""],[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],[1,"mat-focus-indicator"]],template:function(n,r){if(n&1){let a=zt();mt(Bse),ke(0),M(1,"span",1),ke(2,1),ke(3,2),M(4,"span",2,0),X("cdkObserveContent",function(){return xe(a),Ce(r._updateItemLines(!0))}),ke(6,3),k()(),ke(7,4),ke(8,5),ae(9,"div",3)}},dependencies:[j0],encapsulation:2,changeDetection:0})}return t})();var S3=(()=>{class t extends FT{_isNonInteractive=!1;static \u0275fac=(()=>{let e;return function(r){return(e||(e=Dt(t)))(r||t)}})();static \u0275cmp=Q({type:t,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-mdc-nav-list","mat-mdc-list-base","mdc-list"],exportAs:["matNavList"],features:[Ye([{provide:FT,useExisting:t}]),Ve],ngContentSelectors:Nse,decls:1,vars:0,template:function(n,r){n&1&&(mt(),ke(0))},styles:[Pse],encapsulation:2,changeDetection:0})}return t})();var M3=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Se({type:t});static \u0275inj=De({imports:[Em,nt,Md,GC,C3]})}return t})();var Zse=t=>({elem:t}),Qse=t=>({"background-color":t});function Xse(t,i){if(t&1&&(M(0,"mat-option",37),V(1),k()),t&2){let e=i.$implicit;W("value",e.id),T(),Ut(" ",e.mes," ")}}function Jse(t,i){t&1&&(M(0,"th",38),V(1,"Tipo de utilizador"),k())}function eoe(t,i){if(t&1&&(M(0,"td",39),V(1),k()),t&2){let e=i.$implicit;T(),$e(e.type)}}function toe(t,i){t&1&&(M(0,"th",38),V(1,"Nome"),k())}function ioe(t,i){if(t&1&&(M(0,"td",39),V(1),k()),t&2){let e=i.$implicit;T(),$e(e.name)}}function noe(t,i){t&1&&(M(0,"th",38),V(1,"Estado do pagamento"),k())}function roe(t,i){if(t&1&&(M(0,"td",39),V(1),k()),t&2){let e=i.$implicit;T(),$e(e.paymentStatus?"\u2705":"\u274C")}}function aoe(t,i){t&1&&(M(0,"th",38),V(1,"Data de pagamento"),k())}function soe(t,i){if(t&1&&(M(0,"td",39),V(1),ta(2,"date"),k()),t&2){let e=i.$implicit;T(),$e(e.paymentDate?ia(2,1,e.paymentDate,"longDate"):"-")}}function ooe(t,i){t&1&&(M(0,"th",38),V(1,"Multa"),k())}function loe(t,i){if(t&1&&(M(0,"td",39),V(1),k()),t&2){let e=i.$implicit;T(),$e(e.fine||e.fine===0?e.fine+"\u20AC":"-")}}function coe(t,i){t&1&&ae(0,"th",38)}function doe(t,i){if(t&1){let e=zt();M(0,"button",42),X("click",function(){let r=xe(e).elem,a=ye(2);return Ce(a.seeAccount(r))}),M(1,"mat-icon"),V(2,"account_circle"),k(),M(3,"span"),V(4,"Ver conta"),k()(),M(5,"button",42),X("click",function(){let r=xe(e).elem,a=ye(2);return Ce(a.addPayment(r))}),M(6,"mat-icon"),V(7,"check_circle"),k(),M(8,"span"),V(9,"Adicionar pagamento"),k()(),M(10,"button",42),X("click",function(){let r=xe(e).elem,a=ye(2);return Ce(a.deletePayment(r))}),M(11,"mat-icon"),V(12,"delete"),k(),M(13,"span"),V(14,"Remover pagamento"),k()()}}function uoe(t,i){if(t&1&&(M(0,"td",39)(1,"button",40)(2,"mat-icon"),V(3,"more_vert"),k()(),M(4,"mat-menu",null,1),ne(6,doe,15,0,"ng-template",41),k()()),t&2){let e=i.$implicit,n=ar(5);T(),W("matMenuTriggerFor",n)("matMenuTriggerData",Kc(2,Zse,e))}}function hoe(t,i){t&1&&ae(0,"tr",43)}function moe(t,i){t&1&&ae(0,"tr",44)}function poe(t,i){if(t&1){let e=zt();M(0,"mat-accordion")(1,"mat-expansion-panel")(2,"mat-expansion-panel-header")(3,"mat-panel-title"),ae(4,"div",45),V(5),k(),M(6,"mat-panel-description",46)(7,"mat-icon"),V(8,"access_time"),k(),V(9),ta(10,"date"),k()(),M(11,"div",47),V(12),k(),M(13,"div",48)(14,"button",49),X("click",function(){let r=xe(e).$implicit,a=ye();return Ce(a.deleteEvent(r))}),V(15,"Eliminar Evento"),k()()()()}if(t&2){let e=i.$implicit,n=ye();T(4),W("ngStyle",Kc(7,Qse,n.getColorForEvent(e))),T(),Ut(" ",e.titulo," "),T(4),Ut(" ",ia(10,4,e.data,"shortTime")," "),T(3),Ut(" ",e.descricao," ")}}function foe(t,i){if(t&1){let e=zt();M(0,"a",52),X("click",function(){let r=xe(e).$implicit,a=ye(2);return Ce(a.finishRegisterUser(r))}),V(1),k()}if(t&2){let e=i.$implicit;T(),$e(e.name)}}function goe(t,i){if(t&1&&(M(0,"mat-tab",50)(1,"h2"),V(2,"Utilizadores por Ativar"),k(),M(3,"mat-nav-list"),ne(4,foe,2,1,"a",51),k()()),t&2){let e=ye();T(4),W("ngForOf",e.usersToActivate)}}var I3=(()=>{class t{constructor(e,n,r,a,s,o,l,c){this.userService=e,this.calendarioService=n,this.quotasService=r,this.matDialog=a,this.dialogService=s,this.breakPointObserver=o,this.accountService=l,this.ref=c,this.meses=[],this.selectedMonth="set2025",this.monthCodes=["set2025","out2025","nov2025","dez2025","jan2026","feb2026","mar2026","abr2026","mai2026","jun2026","jul2026"],this.eventList=[],this.displayedColumns=["type","name","paymentStatus","paymentDate","fine","opt"]}ngOnInit(){this.breakPointObserver.observe([$l.Small,$l.Handset]).subscribe(e=>{e.matches?this.displayedColumns=["name","paymentStatus","fine","opt"]:this.displayedColumns=["type","name","paymentStatus","paymentDate","fine","opt"]}),this.getAccountBalance(),this.calendarioService.getEvents().subscribe(e=>{this.eventList=e}),this.getInactiveUserList(),this.gerarMeses(),this.getAllUsers()}gerarMeses(){for(var e=new Date(2025,8,1),n=2026,r=6,a=0,s=new Date(n,r+1,1),o=new Date(e.getFullYear(),e.getMonth(),1);o<s;o.setMonth(o.getMonth()+1)){var l=o.toLocaleDateString("pt-PT",{month:"long",year:"numeric"}),c=l.charAt(0).toUpperCase()+l.slice(1);this.meses.push({id:this.monthCodes[a],mes:c}),a++}console.log(this.meses)}getMonthForId(e){for(var n of this.meses)if(n.id===e)return n;return null}getAccountBalance(){this.accountService.getAccountBalance().subscribe(e=>{this.accountInfo={income:e.income,expenses:e.expenses,handTotal:e.handTotal,accountTotal:e.income-e.expenses,totalValue:e.income-e.expenses+e.handTotal},this.ref.detectChanges()})}getAllUsers(){this.userService.getAllUsers().subscribe(e=>{this.users=e,this.getAllUsersQuotas()})}hasUserPayedQuota(e,n){for(var r in e.pagamentos)if(r===n)return e.pagamentos[r].data;return null}getAllUsersQuotas(){this.quotasService.getQuotasForMonth(this.selectedMonth).subscribe(e=>{var n=[];for(var r of this.users){var a=this.hasUserPayedQuota(e,r.id),s=a?new Date(a):null,o={id:r.id,type:this.userService.getUserTypeByNumber(r.type).tipo,name:r.name,paymentStatus:!!a,paymentDate:s,fine:s?this.quotasService.calculateFineForDate(s,this.selectedMonth):null};n.push(o)}n.sort((l,c)=>l.name.localeCompare(c.name)),n.sort((l,c)=>l.paymentStatus&&!c.paymentStatus?1:!l.paymentStatus&&c.paymentStatus?-1:0),n.sort((l,c)=>this.userService.getNumberByUserType(l.type)-this.userService.getNumberByUserType(c.type)),this.usersPayments=n,this.dataSource=new il(this.usersPayments),this.valor=e.valor,this.ref.detectChanges()})}monthChanged(){this.getAllUsers()}seeAccount(e){this.matDialog.open(ez,S(f({},this.dialogService.getGenericDialogConfig()),{data:{id:e.id,name:e.name,type:e.type}}))}addPayment(e){this.matDialog.open(e3,S(f({},this.dialogService.getGenericDialogConfig()),{data:{id:e.id,name:e.name,month:this.getMonthForId(this.selectedMonth),valor:this.valor}}))}deletePayment(e){var n=confirm("Queres apagar o pagamento do utilizador "+e.name);n&&this.quotasService.deleteQuotaPayment(this.selectedMonth,e.id)}applyFilter(e){let n=e.target.value;this.dataSource.filter=n.trim().toLowerCase()}openEventCreator(){this.matDialog.open(h3,f({},this.dialogService.getGenericDialogConfig()))}getColorForEvent(e){return this.calendarioService.getEventType(e.tipo).color}getInactiveUserList(){this.userService.getAllInactiveUsers().subscribe(e=>{this.usersToActivate=e})}finishRegisterUser(e){this.matDialog.open(m3,S(f({},this.dialogService.getGenericDialogConfig()),{data:{id:e.id,name:e.name}}))}deleteEvent(e){var n=confirm("Queres apagar o evento "+e.titulo);n&&this.calendarioService.deleteEvent(e)}changeValue(e){var n,r;switch(e){case 0:n="Entradas",r=this.accountInfo.income;break;case 1:n="Sa\xEDdas",r=this.accountInfo.expenses;break;case 2:n="Valor em M\xE3o",r=this.accountInfo.handTotal;break;case 3:n="Tranferir valor em m\xE3o para conta",r=this.accountInfo.handTotal;break}console.log(this.accountInfo);var a=this.matDialog.open(p3,S(f({},this.dialogService.getGenericDialogConfig()),{data:{value:r,title:n}}));a.afterClosed().subscribe(s=>{if(s)switch(e){case 0:this.accountService.setIncomeValue(r+s);break;case 1:this.accountService.setExpensesValue(r+s);break;case 2:this.accountService.setHandValue(r+s);break;case 3:this.accountService.setHandValue(this.accountInfo.handTotal-s),this.accountService.setIncomeValue(this.accountInfo.income+s);break}})}static{this.\u0275fac=function(n){return new(n||t)(J(vs),J(wd),J(xd),J(fo),J(Dd),J(eo),J(f3),J(st))}}static{this.\u0275cmp=Q({type:t,selectors:[["app-admin"]],standalone:!1,decls:87,vars:27,consts:[["input",""],["menu","matMenu"],[1,"tabs-container"],["label","Dashboard"],[1,"grid-container"],[1,"dashboard-grid"],[1,"total-container","grid-element"],[1,"element-title"],[1,"element-value"],[1,"lucros-container","grid-element"],["mat-mini-fab","","color","primary",1,"add-value-button",3,"click"],[1,"despesas-container","grid-element"],[1,"mao-container","grid-element"],[1,"add-value-button"],["mat-mini-fab","","color","primary",1,"transfer-value-button",3,"click"],[1,"conta-container","grid-element"],["label","Quotas"],[1,"select-month"],["name","month",3,"ngModelChange","selectionChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["matInput","","placeholder","Nome",3,"change"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","type"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","paymentStatus"],["matColumnDef","paymentDate"],["matColumnDef","fine"],["matColumnDef","opt"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["label","Eventos"],[1,"add-event-button-container"],["mat-flat-button","","color","primary",1,"add-event-button",3,"click"],[4,"ngFor","ngForOf"],["label","Utilizadores",4,"ngIf"],[3,"value"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","aria-label","Example icon button with a vertical three dot icon",3,"matMenuTriggerFor","matMenuTriggerData"],["matMenuContent",""],["mat-menu-item","",3,"click"],["mat-header-row",""],["mat-row",""],[1,"has-event",3,"ngStyle"],[1,"mat-panel-description"],[1,"event-container"],[1,"delete-event-button"],["mat-raised-button","",3,"click"],["label","Utilizadores"],["mat-list-item","","class","user-button",3,"click",4,"ngFor","ngForOf"],["mat-list-item","",1,"user-button",3,"click"]],template:function(n,r){if(n&1){let a=zt();M(0,"div",2)(1,"mat-tab-group")(2,"mat-tab",3)(3,"div",4)(4,"div",5)(5,"div",6)(6,"h3",7),V(7,"Valor Total:"),k(),M(8,"h2",8),V(9),ta(10,"number"),k()(),M(11,"div",9)(12,"h3",7),V(13,"Entradas:"),k(),M(14,"h2",8),V(15),ta(16,"number"),k(),M(17,"button",10),X("click",function(){return xe(a),Ce(r.changeValue(0))}),M(18,"mat-icon"),V(19,"add"),k()()(),M(20,"div",11)(21,"h3",7),V(22,"Sa\xEDdas:"),k(),M(23,"h2",8),V(24),ta(25,"number"),k(),M(26,"button",10),X("click",function(){return xe(a),Ce(r.changeValue(1))}),M(27,"mat-icon"),V(28,"add"),k()()(),M(29,"div",12)(30,"h3",7),V(31,"Valor em m\xE3o:"),k(),M(32,"h2",8),V(33),ta(34,"number"),k(),M(35,"div",13)(36,"button",14),X("click",function(){return xe(a),Ce(r.changeValue(3))}),M(37,"mat-icon"),V(38,"compare_arrows"),k()(),M(39,"button",10),X("click",function(){return xe(a),Ce(r.changeValue(2))}),M(40,"mat-icon"),V(41,"add"),k()()()(),M(42,"div",15)(43,"h3",7),V(44,"valor conta:"),k(),M(45,"h2",8),V(46),ta(47,"number"),k()()()()(),M(48,"mat-tab",16)(49,"div",17)(50,"mat-form-field")(51,"mat-label"),V(52,"Seleciona um m\xEAs"),k(),M(53,"mat-select",18),Fi("ngModelChange",function(o){return xe(a),Pi(r.selectedMonth,o)||(r.selectedMonth=o),Ce(o)}),X("selectionChange",function(){return xe(a),Ce(r.monthChanged())}),ne(54,Xse,2,2,"mat-option",19),k()()(),M(55,"mat-form-field")(56,"mat-label"),V(57,"Procurar"),k(),M(58,"input",20,0),X("change",function(o){return xe(a),Ce(r.applyFilter(o))}),k()(),M(60,"table",21),vn(61,22),ne(62,Jse,2,0,"th",23)(63,eoe,2,1,"td",24),_n(),vn(64,25),ne(65,toe,2,0,"th",23)(66,ioe,2,1,"td",24),_n(),vn(67,26),ne(68,noe,2,0,"th",23)(69,roe,2,1,"td",24),_n(),vn(70,27),ne(71,aoe,2,0,"th",23)(72,soe,3,4,"td",24),_n(),vn(73,28),ne(74,ooe,2,0,"th",23)(75,loe,2,1,"td",24),_n(),vn(76,29),ne(77,coe,1,0,"th",23)(78,uoe,7,4,"td",24),_n(),ne(79,hoe,1,0,"tr",30)(80,moe,1,0,"tr",31),k()(),M(81,"mat-tab",32)(82,"div",33)(83,"button",34),X("click",function(){return xe(a),Ce(r.openEventCreator())}),V(84," Adicionar Evento "),k()(),ne(85,poe,16,9,"mat-accordion",35),k(),ne(86,goe,5,1,"mat-tab",36),k()()}n&2&&(T(9),Ut("",ia(10,12,r.accountInfo==null?null:r.accountInfo.totalValue,"1.2-2"),"\u20AC"),T(6),Ut("",ia(16,15,r.accountInfo==null?null:r.accountInfo.income,"1.2-2"),"\u20AC"),T(9),Ut("",ia(25,18,r.accountInfo==null?null:r.accountInfo.expenses,"1.2-2"),"\u20AC"),T(9),Ut("",ia(34,21,r.accountInfo==null?null:r.accountInfo.handTotal,"1.2-2"),"\u20AC"),T(13),Ut("",ia(47,24,r.accountInfo==null?null:r.accountInfo.accountTotal,"1.2-2"),"\u20AC"),T(7),Ni("ngModel",r.selectedMonth),T(),W("ngForOf",r.meses),T(6),W("dataSource",r.dataSource),T(19),W("matHeaderRowDef",r.displayedColumns),T(),W("matRowDefColumns",r.displayedColumns),T(5),W("ngForOf",r.eventList),T(),W("ngIf",r.usersToActivate&&r.usersToActivate.length>0))},dependencies:[Da,Qs,Hl,Mp,nh,rh,Sp,bC,Pr,br,lr,wC,Ms,da,vr,oh,es,Ea,ca,eh,xp,Rm,Lm,Vm,Nm,Om,Bm,Pm,Fm,jm,zm,jp,wb,y3,v3,Cp,S3,D3,oM,Gl],styles:[".tabs-container[_ngcontent-%COMP%]{max-width:1200px;height:fit-content;box-shadow:0 2px 4px #0000001a;background-color:#fff;border-radius:5px;margin-top:20px;margin-left:auto;margin-right:auto;grid-column:2;padding:10px;overflow:hidden}.select-month[_ngcontent-%COMP%]{margin-top:20PX}[_nghost-%COMP%]     .mat-mdc-tab-body-content{overflow:hidden}.add-button[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:end}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{text-align:center}.mat-mdc-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}.add-event-button-container[_ngcontent-%COMP%]{margin-top:20px;margin-right:20px;padding-bottom:20px;display:flex;flex-wrap:wrap}.has-event[_ngcontent-%COMP%]{width:7px;height:30px;border-radius:50px;margin-right:15px}.mat-panel-description[_ngcontent-%COMP%]{justify-content:flex-end}.mat-expansion-panel.mat-expanded[_ngcontent-%COMP%]   .mat-expansion-panel-header[_ngcontent-%COMP%]{border-bottom:1px solid rgba(0,0,0,.4);margin-bottom:auto}.mat-expansion-panel-header-title[_ngcontent-%COMP%]{flex-grow:4}.grid-container[_ngcontent-%COMP%]{display:flex;justify-content:center}.dashboard-grid[_ngcontent-%COMP%]{align-self:center;display:grid;grid-template-columns:.333fr .333fr .333fr;grid-template-rows:.333fr .333fr .333fr;width:70%;margin:20px 0;grid-gap:5px}.total-container[_ngcontent-%COMP%]{grid-row:1;grid-column:1 / 4}.lucros-container[_ngcontent-%COMP%]{grid-row:3;grid-column:1}.despesas-container[_ngcontent-%COMP%]{grid-row:3;grid-column:2}.mao-container[_ngcontent-%COMP%]{grid-row:2 / 4;grid-column:3}.conta-container[_ngcontent-%COMP%]{grid-row:2;grid-column:1 / 3}.grid-element[_ngcontent-%COMP%]{border:2px solid black;border-radius:10px;width:100%;box-sizing:border-box;padding:5px 7px;position:relative;background-color:#e6e6e9;display:flex;flex-direction:column}.element-title[_ngcontent-%COMP%]{font-weight:500;font-size:large}.element-value[_ngcontent-%COMP%]{font-weight:800;font-size:x-large}.add-value-button[_ngcontent-%COMP%]{align-self:flex-end;margin-top:auto}.transfer-value-button[_ngcontent-%COMP%]{margin-right:5px}.user-button[_ngcontent-%COMP%]{border:1px solid #000;border-radius:5px;box-shadow:0 1px 5px #0000004d;background-color:#0000000a}.delete-event-button[_ngcontent-%COMP%]{margin-top:10px}@media screen and (max-width: 599px){.tabs-container[_ngcontent-%COMP%]{box-sizing:border-box;margin:20px 15px;width:calc(100% - 30px)}.add-event-button-container[_ngcontent-%COMP%]{margin:20px;flex-wrap:wrap;width:calc(100% - 40px)}.add-event-button[_ngcontent-%COMP%]{width:-webkit-fill-available}.dashboard-grid[_ngcontent-%COMP%]{width:100%}}@media screen and (min-width: 600px) and (max-width: 1400px){.tabs-container[_ngcontent-%COMP%]{margin-left:20px;margin-right:10px;margin-bottom:20px;padding:15px;max-width:100vw}}"]})}}return t})();var k3=(()=>{class t{constructor(e,n,r){this.dialogRef=e,this.authService=n,this.userService=r,this.hide=bn(!0)}clickEvent(e){this.hide.set(!this.hide()),e.stopPropagation()}signUp(){if(!this.nome||this.nome===""){alert("Obrigat\xF3rio preencher o nome");return}else if(!this.email||this.email===""){alert("Obrigat\xF3rio preencher o email");return}else if(!this.password||this.password===""){alert("Obrigat\xF3rio definir uma password");return}else this.password.length<6&&alert("A password precisa de ter pelo menos 6 caracteres");this.authService.registerUser(this.email,this.password).pipe(za((e,n)=>{throw e.code==="auth/email-already-in-use"&&(alert("Email j\xE1 registado!"),this.dialogRef.close()),e})).subscribe(e=>{var n=this.nome,r=n.indexOf(" "),a=r<0?n:n.substring(0,n.indexOf(" ")),s=n.substring(n.length-n.split("").reverse().join("").indexOf(" "));this.authService.updateUserProfile(n),this.userService.registerUser(e.user.uid,a+" "+s).then(()=>{this.authService.logOut().then(()=>{alert("O utlizador foi resgistado. Espera que a comiss\xE3o te adicione"),this.dialogRef.close()})})})}static{this.\u0275fac=function(n){return new(n||t)(J(Yn),J(_s),J(vs))}}static{this.\u0275cmp=Q({type:t,selectors:[["app-register-dialog"]],standalone:!1,decls:27,vars:6,consts:[[1,"login-form"],["appearance","fill"],["matInput","","name","name","placeholder","Nome","required","","type","text",3,"ngModelChange","ngModel"],["matSuffix",""],["matInput","","name","email","placeholder","exmplo@email.com","required","","type","email",3,"ngModelChange","ngModel"],["matInput","","name","password","required","",3,"ngModelChange","type","ngModel"],["mat-icon-button","","matSuffix","",3,"click"],["mat-raised-button","","color","primary",1,"login-button",3,"click"]],template:function(n,r){n&1&&(M(0,"mat-dialog-content")(1,"h1"),V(2,"Registo"),k(),M(3,"form",0)(4,"mat-form-field",1)(5,"mat-label"),V(6,"Nome"),k(),M(7,"input",2),Fi("ngModelChange",function(s){return Pi(r.nome,s)||(r.nome=s),s}),k(),M(8,"mat-icon",3),V(9,"account_circle"),k()(),M(10,"mat-form-field",1)(11,"mat-label"),V(12,"Email"),k(),M(13,"input",4),Fi("ngModelChange",function(s){return Pi(r.email,s)||(r.email=s),s}),k(),M(14,"mat-icon",3),V(15,"email"),k()(),M(16,"mat-form-field",1)(17,"mat-label"),V(18,"Senha"),k(),M(19,"input",5),Fi("ngModelChange",function(s){return Pi(r.password,s)||(r.password=s),s}),k(),M(20,"button",6),X("click",function(s){return r.clickEvent(s)}),M(21,"mat-icon"),V(22),k()(),M(23,"mat-icon",3),V(24,"lock"),k()(),M(25,"button",7),X("click",function(){return r.signUp()}),V(26,"Registar"),k()()()),n&2&&(T(7),Ni("ngModel",r.nome),T(6),Ni("ngModel",r.email),T(6),W("type",r.hide()?"password":"text"),Ni("ngModel",r.password),T(),Ee("aria-pressed",r.hide()),T(2),$e(r.hide()?"visibility_off":"visibility"))},dependencies:[Pr,la,br,lr,Ms,da,vr,lc,Ep,Ds,Ea,Ap,gb,ca,Ss],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%;margin-top:20px}h1[_ngcontent-%COMP%]{font-weight:550}.highlight-bioquimica[_ngcontent-%COMP%]{color:#0095d7}.login-card[_ngcontent-%COMP%]{width:100%;max-width:400px;padding:20px;box-shadow:0 4px 8px #0000001a}mat-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:15px}.login-button[_ngcontent-%COMP%]{width:100%;margin-top:15px}"]})}}return t})();var yoe=["*"];var boe=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],voe=["[mat-card-avatar], [matCardAvatar]",`mat-card-title, mat-card-subtitle,
      [mat-card-title], [mat-card-subtitle],
      [matCardTitle], [matCardSubtitle]`,"*"],_oe=new G("MAT_CARD_CONFIG"),A3=(()=>{class t{appearance;constructor(){let e=x(_oe,{optional:!0});this.appearance=e?.appearance||"raised"}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Q({type:t,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(n,r){n&2&&me("mat-mdc-card-outlined",r.appearance==="outlined")("mdc-card--outlined",r.appearance==="outlined")},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:yoe,decls:1,vars:0,template:function(n,r){n&1&&(mt(),ke(0))},styles:[`.mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mdc-elevated-card-container-color, var(--mat-sys-surface-container-low));border-color:var(--mdc-elevated-card-container-color, var(--mat-sys-surface-container-low));border-radius:var(--mdc-elevated-card-container-shape, var(--mat-sys-corner-medium));box-shadow:var(--mdc-elevated-card-container-elevation, var(--mat-sys-level1))}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:"";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mdc-elevated-card-container-shape, var(--mat-sys-corner-medium))}.mat-mdc-card-outlined{background-color:var(--mdc-outlined-card-container-color, var(--mat-sys-surface));border-radius:var(--mdc-outlined-card-container-shape, var(--mat-sys-corner-medium));border-width:var(--mdc-outlined-card-outline-width, 1px);border-color:var(--mdc-outlined-card-outline-color, var(--mat-sys-outline-variant));box-shadow:var(--mdc-outlined-card-container-elevation, var(--mat-sys-level0))}.mat-mdc-card-outlined::after{border:none}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font, var(--mat-sys-title-large-font));line-height:var(--mat-card-title-text-line-height, var(--mat-sys-title-large-line-height));font-size:var(--mat-card-title-text-size, var(--mat-sys-title-large-size));letter-spacing:var(--mat-card-title-text-tracking, var(--mat-sys-title-large-tracking));font-weight:var(--mat-card-title-text-weight, var(--mat-sys-title-large-weight))}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color, var(--mat-sys-on-surface));font-family:var(--mat-card-subtitle-text-font, var(--mat-sys-title-medium-font));line-height:var(--mat-card-subtitle-text-line-height, var(--mat-sys-title-medium-line-height));font-size:var(--mat-card-subtitle-text-size, var(--mat-sys-title-medium-size));letter-spacing:var(--mat-card-subtitle-text-tracking, var(--mat-sys-title-medium-tracking));font-weight:var(--mat-card-subtitle-text-weight, var(--mat-sys-title-medium-weight))}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}
`],encapsulation:2,changeDetection:0})}return t})(),E3=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]})}return t})();var T3=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]})}return t})();var R3=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Q({type:t,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:voe,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(n,r){n&1&&(mt(boe),ke(0),M(1,"div",0),ke(2,1),k(),ke(3,2))},encapsulation:2,changeDetection:0})}return t})();var O3=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Se({type:t});static \u0275inj=De({imports:[nt,nt]})}return t})();var L3=(()=>{class t{constructor(e,n,r,a,s,o){this.dialogService=e,this.matDialog=n,this.authService=r,this.userService=a,this.router=s,this.activatedRoute=o}ngOnInit(){this.finishLogin()}openRegisterDialog(){this.matDialog.open(k3,f({},this.dialogService.getGenericDialogConfig()))}loginWithEmailAndPassword(){if(!this.email||this.email===""){alert("Obrigat\xF3rio preencher o email");return}else if(!this.password||this.password===""){alert("Obrigat\xF3rio colocar password");return}this.authService.login(this.email,this.password).pipe(za((e,n)=>{throw e.code==="auth/invalid-credential"&&alert("Credenciais inv\xE1lidas"),e})).subscribe(e=>{this.userService.getUserInfo(e.user.uid).subscribe(n=>{n?n.ready?this.finishLogin():alert("Esta conta ainda n\xE3o est\xE1 ativa! Aguarda que a comiss\xE3o a ative."):alert("Erro interno. Fala com a comiss\xE3o. C\xF3digo de erro: 02x410")})})}loginGoogle(){this.authService.logInGoogle().then(e=>{this.userService.getUserInfo(e.user.uid).subscribe(n=>{if(n)n.ready?this.finishLogin():this.authService.logOut().then(()=>{alert("Esta conta ainda n\xE3o est\xE1 ativa! Aguarda que a comiss\xE3o a ative.")});else{var r=e.user.displayName,a=r.substring(0,r.indexOf(" ")),s=r.substring(r.length-r.split("").reverse().join("").indexOf(" "));this.userService.registerUser(e.user.uid,a+" "+s).then(()=>{this.authService.logOut().then(()=>{alert("Conta registada. Aguarda que a comiss\xE3o ative a conta!")})})}})})}finishLogin(){this.authService.user$.subscribe(e=>{e&&this.activatedRoute.queryParams.subscribe(n=>{var r=n.returnUrl;r?this.router.navigateByUrl(r):this.router.navigateByUrl("/quotas")})})}static{this.\u0275fac=function(n){return new(n||t)(J(Dd),J(fo),J(_s),J(vs),J(na),J(Js))}}static{this.\u0275cmp=Q({type:t,selectors:[["app-login"]],standalone:!1,decls:37,vars:2,consts:[[1,"login-container"],[1,"login-card"],[1,"highlight-bioquimica"],[1,"login-form"],["appearance","fill"],["matInput","","placeholder","nome@carro2027.bioq","required","","type","email","name","email",3,"ngModelChange","ngModel"],["matSuffix",""],["matInput","","type","password","required","","name","password",3,"ngModelChange","ngModel"],[2,"cursor","pointer",3,"click"],["mat-raised-button","","color","primary",1,"login-button",3,"click"],["mat-raised-button","",1,"login-google",3,"click"],["xmlns","http://www.w3.org/2000/svg","height","17","width","17","preserveAspectRatio","xMidYMid","viewBox","0 0 256 262","id","google"],["fill","#4285F4","d","M255.878 133.451c0-10.734-.871-18.567-2.756-26.69H130.55v48.448h71.947c-1.45 12.04-9.283 30.172-26.69 42.356l-.244 1.622 38.755 30.023 2.685.268c24.659-22.774 38.875-56.282 38.875-96.027"],["fill","#34A853","d","M130.55 261.1c35.248 0 64.839-11.605 86.453-31.622l-41.196-31.913c-11.024 7.688-25.82 13.055-45.257 13.055-34.523 0-63.824-22.773-74.269-54.25l-1.531.13-40.298 31.187-.527 1.465C35.393 231.798 79.49 261.1 130.55 261.1"],["fill","#FBBC05","d","M56.281 156.37c-2.756-8.123-4.351-16.827-4.351-25.82 0-8.994 1.595-17.697 4.206-25.82l-.073-1.73L15.26 71.312l-1.335.635C5.077 89.644 0 109.517 0 130.55s5.077 40.905 13.925 58.602l42.356-32.782"],["fill","#EB4335","d","M130.55 50.479c24.514 0 41.05 10.589 50.479 19.438l36.844-35.974C195.245 12.91 165.798 0 130.55 0 79.49 0 35.393 29.301 13.925 71.947l42.211 32.783c10.59-31.477 39.891-54.251 74.414-54.251"],[1,"login-text"]],template:function(n,r){n&1&&(M(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title")(4,"h1"),V(5,"Carro "),M(6,"span",2),V(7,"Bioqu\xEDmica"),k(),V(8," 2027 "),k()(),M(9,"mat-card-title"),V(10,"Login"),k()(),M(11,"mat-card-content")(12,"form",3)(13,"mat-form-field",4)(14,"mat-label"),V(15,"Email"),k(),M(16,"input",5),Fi("ngModelChange",function(s){return Pi(r.email,s)||(r.email=s),s}),k(),M(17,"mat-icon",6),V(18,"email"),k()(),M(19,"mat-form-field",4)(20,"mat-label"),V(21,"Senha"),k(),M(22,"input",7),Fi("ngModelChange",function(s){return Pi(r.password,s)||(r.password=s),s}),k(),M(23,"mat-icon",6),V(24,"lock"),k()(),M(25,"p",8),X("click",function(){return r.openRegisterDialog()}),V(26,"Registar novo utilizador"),k(),M(27,"button",9),X("click",function(){return r.loginWithEmailAndPassword()}),V(28,"Entrar"),k()(),M(29,"button",10),X("click",function(){return r.loginGoogle()}),Ai(),M(30,"svg",11),ae(31,"path",12)(32,"path",13)(33,"path",14)(34,"path",15),k(),Er(),M(35,"a",16),V(36,"Login com Google"),k()()()()()),n&2&&(T(16),Ni("ngModel",r.email),T(6),Ni("ngModel",r.password))},dependencies:[Pr,br,Ms,da,vr,lc,Ep,Ds,Ea,Ap,gb,ca,Ss,A3,T3,R3,E3],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%;margin-top:20px}h1[_ngcontent-%COMP%]{font-weight:550}.highlight-bioquimica[_ngcontent-%COMP%]{color:#0095d7}.login-card[_ngcontent-%COMP%]{width:100%;max-width:400px;padding:20px;box-shadow:0 4px 8px #0000001a}mat-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:15px}.login-button[_ngcontent-%COMP%]{width:100%;margin-top:15px}.login-google[_ngcontent-%COMP%]{margin:10px 10px 10px 0;width:100%}  .mdc-button__label{display:flex;align-items:center}.login-text[_ngcontent-%COMP%]{margin-left:5px}@media screen and (max-width: 599px){.login-container[_ngcontent-%COMP%]{margin-left:20px;margin-right:20px;margin-bottom:20px;padding:15px}}@media screen and (min-width: 600px) and (max-width: 1400px){.login-container[_ngcontent-%COMP%]{margin-left:20px;margin-right:10px;margin-bottom:20px;padding:15px;max-width:100vw}}"]})}}return t})();var N3=(()=>{class t{constructor(e,n){this.router=e,this.authService=n}canActivate(e,n){return Promise.all([this.authService.auth.authStateReady()]).then(()=>this.authService.getUserData().then(r=>r&&r?.ready?!0:(this.router.navigate(["login"],{queryParams:{returnUrl:n.url}}),!1)))}static{this.\u0275fac=function(n){return new(n||t)(Te(na),Te(_s))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var P3=(()=>{class t{constructor(e){this.authService=e}canActivate(e,n){return this.authService.getUserData().then(r=>r?.role==="admin"?!0:(alert("Funcionalidade apenas disponivel para administradores."),!1))}static{this.\u0275fac=function(n){return new(n||t)(Te(_s))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Coe=[{path:"",canActivate:[N3],children:[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"quotas",component:sj},{path:"calendario",component:Zj},{path:"perfil",component:Qj},{path:"regras",component:Xj},{path:"admin",component:I3,canActivate:[P3]}]},{path:"login",component:L3}],F3=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=Se({type:t})}static{this.\u0275inj=De({imports:[D0.forRoot(Coe),D0]})}}return t})();var V3=t=>({display:t}),woe=()=>["/quotas"],Doe=()=>["/calendario"],Soe=()=>["/regras"],Moe=()=>["/admin"];function Ioe(t,i){if(t&1){let e=zt();M(0,"li",12),X("click",function(){xe(e);let r=ye();return Ce(r.opened=!1)}),M(1,"a",13),Ai(),M(2,"svg",31),ae(3,"path",32)(4,"path",33),k(),Er(),M(5,"span",5),V(6,"Comiss\xE3o"),k()()()}t&2&&(T(),W("routerLink",Tr(1,Moe)))}function koe(t,i){if(t&1&&(M(0,"h5",34),V(1),k()),t&2){let e=ye();T(),$e(e.nome)}}function Aoe(t,i){if(t&1&&(M(0,"h3",34),V(1,"Sess\xE3o iniciada como: "),ae(2,"br"),V(3),k()),t&2){let e=ye();T(3),$e(e.nome)}}var B3=(()=>{class t{constructor(e,n){this.authService=e,this.router=n,this.title="carro27",this.opened=!1,this.showNavbar=!1,this.admin=!1}ngOnInit(){this.checkAuthentication()}logOut(){this.authService.logOut().then(()=>{this.router.navigateByUrl("/"),this.opened&&this.triggerNavbar(),this.checkAuthentication()})}checkAuthentication(){this.authService.auth.authStateReady().then(()=>{this.authService.user$.subscribe(e=>{e?(this.authService.getUserData().then(n=>{n?.role==="admin"&&(this.admin=!0),this.nome=n?.name}),this.showNavbar=!0):this.showNavbar=!1})})}triggerNavbar(){this.opened=!this.opened}openAtas(){alert("Em desenvolvimento")}static{this.\u0275fac=function(n){return new(n||t)(J(_s),J(na))}}static{this.\u0275cmp=Q({type:t,selectors:[["app-root"]],standalone:!1,decls:54,vars:19,consts:[[1,"navbar-background",3,"ngStyle"],[1,"navbar",3,"ngStyle"],[1,"navbar-nav"],[1,"logo",3,"click"],[1,"nav-link"],[1,"link-text"],[1,"logo-text"],["aria-hidden","true","focusable","false","data-prefix","fad","data-icon","angle-double-right","role","img","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 448 512",1,"svg-inline--fa","fa-angle-double-right","fa-w-14","fa-5x"],[1,"fa-group"],["fill","currentColor","d","M224 273L88.37 409a23.78 23.78 0 0 1-33.8 0L32 386.36a23.94 23.94 0 0 1 0-33.89l96.13-96.37L32 159.73a23.94 23.94 0 0 1 0-33.89l22.44-22.79a23.78 23.78 0 0 1 33.8 0L223.88 239a23.94 23.94 0 0 1 .1 34z",1,"fa-secondary"],["fill","currentColor","d","M415.89 273L280.34 409a23.77 23.77 0 0 1-33.79 0L224 386.26a23.94 23.94 0 0 1 0-33.89L320.11 256l-96-96.47a23.94 23.94 0 0 1 0-33.89l22.52-22.59a23.77 23.77 0 0 1 33.79 0L416 239a24 24 0 0 1-.11 34z",1,"fa-primary"],[1,"nav-item-container"],[1,"nav-item",3,"click"],[1,"nav-link",3,"routerLink"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 320 512"],["fill","currentColor","d","M48.1 240c-.1 2.7-.1 5.3-.1 8l0 16c0 2.7 0 5.3 .1 8L32 272c-17.7 0-32 14.3-32 32s14.3 32 32 32l28.3 0C89.9 419.9 170 480 264 480l24 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-24 0c-57.9 0-108.2-32.4-133.9-80L256 336c17.7 0 32-14.3 32-32s-14.3-32-32-32l-143.8 0c-.1-2.6-.2-5.3-.2-8l0-16c0-2.7 .1-5.4 .2-8L256 240c17.7 0 32-14.3 32-32s-14.3-32-32-32l-125.9 0c25.7-47.6 76-80 133.9-80l24 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-24 0C170 32 89.9 92.1 60.3 176L32 176c-17.7 0-32 14.3-32 32s14.3 32 32 32l16.1 0z",1,"fa-primary"],["fill","currentColor","d","M48.1 240c-.1 2.7-.1 5.3-.1 8l0 16c0 2.7 0 5.3 .1 8L32 272c-17.7 0-32 14.3-32 32s14.3 32 32 32l28.3 0C89.9 419.9 170 480 264 480l24 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-24 0c-57.9 0-108.2-32.4-133.9-80L256 336c17.7 0 32-14.3 32-32s-14.3-32-32-32l-143.8 0c-.1-2.6-.2-5.3-.2-8l0-16c0-2.7 .1-5.4 .2-8L256 240c17.7 0 32-14.3 32-32s-14.3-32-32-32l-125.9 0c25.7-47.6 76-80 133.9-80l24 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-24 0C170 32 89.9 92.1 60.3 176L32 176c-17.7 0-32 14.3-32 32s14.3 32 32 32l16.1 0z",1,"fa-secondary"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 448 512"],["fill","currentColor","d","M128 0c17.7 0 32 14.3 32 32l0 32 128 0 0-32c0-17.7 14.3-32 32-32s32 14.3 32 32l0 32 48 0c26.5 0 48 21.5 48 48l0 48L0 160l0-48C0 85.5 21.5 64 48 64l48 0 0-32c0-17.7 14.3-32 32-32zM0 192l448 0 0 272c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 192zm64 80l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm128 0l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zM64 400l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zm112 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16z",1,"fa-primary"],["fill","currentColor","d","M128 0c17.7 0 32 14.3 32 32l0 32 128 0 0-32c0-17.7 14.3-32 32-32s32 14.3 32 32l0 32 48 0c26.5 0 48 21.5 48 48l0 48L0 160l0-48C0 85.5 21.5 64 48 64l48 0 0-32c0-17.7 14.3-32 32-32zM0 192l448 0 0 272c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 192zm64 80l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm128 0l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zM64 400l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zm112 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16z",1,"fa-secondary"],["fill","currentColor","d","M364.2 83.8c-24.4-24.4-64-24.4-88.4 0l-184 184c-42.1 42.1-42.1 110.3 0 152.4s110.3 42.1 152.4 0l152-152c10.9-10.9 28.7-10.9 39.6 0s10.9 28.7 0 39.6l-152 152c-64 64-167.6 64-231.6 0s-64-167.6 0-231.6l184-184c46.3-46.3 121.3-46.3 167.6 0s46.3 121.3 0 167.6l-176 176c-28.6 28.6-75 28.6-103.6 0s-28.6-75 0-103.6l144-144c10.9-10.9 28.7-10.9 39.6 0s10.9 28.7 0 39.6l-144 144c-6.7 6.7-6.7 17.7 0 24.4s17.7 6.7 24.4 0l176-176c24.4-24.4 24.4-64 0-88.4z",1,"fa-primary"],["fill","currentColor","d","M364.2 83.8c-24.4-24.4-64-24.4-88.4 0l-184 184c-42.1 42.1-42.1 110.3 0 152.4s110.3 42.1 152.4 0l152-152c10.9-10.9 28.7-10.9 39.6 0s10.9 28.7 0 39.6l-152 152c-64 64-167.6 64-231.6 0s-64-167.6 0-231.6l184-184c46.3-46.3 121.3-46.3 167.6 0s46.3 121.3 0 167.6l-176 176c-28.6 28.6-75 28.6-103.6 0s-28.6-75 0-103.6l144-144c10.9-10.9 28.7-10.9 39.6 0s10.9 28.7 0 39.6l-144 144c-6.7 6.7-6.7 17.7 0 24.4s17.7 6.7 24.4 0l176-176c24.4-24.4 24.4-64 0-88.4z",1,"fa-secondary"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 512 512"],["fill","currentColor","d","M318.6 9.4c-12.5-12.5-32.8-12.5-45.3 0l-120 120c-12.5 12.5-12.5 32.8 0 45.3l16 16c12.5 12.5 32.8 12.5 45.3 0l4-4L325.4 293.4l-4 4c-12.5 12.5-12.5 32.8 0 45.3l16 16c12.5 12.5 32.8 12.5 45.3 0l120-120c12.5-12.5 12.5-32.8 0-45.3l-16-16c-12.5-12.5-32.8-12.5-45.3 0l-4 4L330.6 74.6l4-4c12.5-12.5 12.5-32.8 0-45.3l-16-16zm-152 288c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l48 48c12.5 12.5 32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-1.4-1.4L272 285.3 226.7 240 168 298.7l-1.4-1.4z",1,"fa-primary"],["fill","currentColor","d","M318.6 9.4c-12.5-12.5-32.8-12.5-45.3 0l-120 120c-12.5 12.5-12.5 32.8 0 45.3l16 16c12.5 12.5 32.8 12.5 45.3 0l4-4L325.4 293.4l-4 4c-12.5 12.5-12.5 32.8 0 45.3l16 16c12.5 12.5 32.8 12.5 45.3 0l120-120c12.5-12.5 12.5-32.8 0-45.3l-16-16c-12.5-12.5-32.8-12.5-45.3 0l-4 4L330.6 74.6l4-4c12.5-12.5 12.5-32.8 0-45.3l-16-16zm-152 288c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l48 48c12.5 12.5 32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-1.4-1.4L272 285.3 226.7 240 168 298.7l-1.4-1.4z",1,"fa-secondary"],["class","nav-item",3,"click",4,"ngIf"],["id","user-name",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 640 640"],["fill","currentColor","d","M224 160C241.7 160 256 145.7 256 128C256 110.3 241.7 96 224 96L160 96C107 96 64 139 64 192L64 448C64 501 107 544 160 544L224 544C241.7 544 256 529.7 256 512C256 494.3 241.7 480 224 480L160 480C142.3 480 128 465.7 128 448L128 192C128 174.3 142.3 160 160 160L224 160zM566.6 342.6C579.1 330.1 579.1 309.8 566.6 297.3L438.6 169.3C426.1 156.8 405.8 156.8 393.3 169.3C380.8 181.8 380.8 202.1 393.3 214.6L466.7 288L256 288C238.3 288 224 302.3 224 320C224 337.7 238.3 352 256 352L466.7 352L393.3 425.4C380.8 437.9 380.8 458.2 393.3 470.7C405.8 483.2 426.1 483.2 438.6 470.7L566.6 342.7z",1,"fa-primary"],["fill","currentColor","d","M224 160C241.7 160 256 145.7 256 128C256 110.3 241.7 96 224 96L160 96C107 96 64 139 64 192L64 448C64 501 107 544 160 544L224 544C241.7 544 256 529.7 256 512C256 494.3 241.7 480 224 480L160 480C142.3 480 128 465.7 128 448L128 192C128 174.3 142.3 160 160 160L224 160zM566.6 342.6C579.1 330.1 579.1 309.8 566.6 297.3L438.6 169.3C426.1 156.8 405.8 156.8 393.3 169.3C380.8 181.8 380.8 202.1 393.3 214.6L466.7 288L256 288C238.3 288 224 302.3 224 320C224 337.7 238.3 352 256 352L466.7 352L393.3 425.4C380.8 437.9 380.8 458.2 393.3 470.7C405.8 483.2 426.1 483.2 438.6 470.7L566.6 342.7z",1,"fa-secondary"],[1,"super-container"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 640 640",2,"scale","1.5"],["fill","currentColor","d","M320 312C253.7 312 200 258.3 200 192C200 125.7 253.7 72 320 72C386.3 72 440 125.7 440 192C440 258.3 386.3 312 320 312zM289.5 368L350.5 368C360.2 368 368 375.8 368 385.5C368 389.7 366.5 393.7 363.8 396.9L336.4 428.9L367.4 544L368 544L402.6 405.5C404.8 396.8 413.7 391.5 422.1 394.7C484 418.3 528 478.3 528 548.5C528 563.6 515.7 575.9 500.6 575.9L139.4 576C124.3 576 112 563.7 112 548.6C112 478.4 156 418.4 217.9 394.8C226.3 391.6 235.2 396.9 237.4 405.6L272 544.1L272.6 544.1L303.6 429L276.2 397C273.5 393.8 272 389.8 272 385.6C272 375.9 279.8 368.1 289.5 368.1z",1,"fa-primary"],["fill","currentColor","d","M320 312C253.7 312 200 258.3 200 192C200 125.7 253.7 72 320 72C386.3 72 440 125.7 440 192C440 258.3 386.3 312 320 312zM289.5 368L350.5 368C360.2 368 368 375.8 368 385.5C368 389.7 366.5 393.7 363.8 396.9L336.4 428.9L367.4 544L368 544L402.6 405.5C404.8 396.8 413.7 391.5 422.1 394.7C484 418.3 528 478.3 528 548.5C528 563.6 515.7 575.9 500.6 575.9L139.4 576C124.3 576 112 563.7 112 548.6C112 478.4 156 418.4 217.9 394.8C226.3 391.6 235.2 396.9 237.4 405.6L272 544.1L272.6 544.1L303.6 429L276.2 397C273.5 393.8 272 389.8 272 385.6C272 375.9 279.8 368.1 289.5 368.1z",1,"fa-secondary"],["id","user-name"]],template:function(n,r){n&1&&(ae(0,"div",0),M(1,"nav",1)(2,"ul",2)(3,"li",3),X("click",function(){return r.triggerNavbar()}),M(4,"a",4)(5,"span",5)(6,"pre",6),V(7,"Carro 27"),k()(),Ai(),M(8,"svg",7)(9,"g",8),ae(10,"path",9)(11,"path",10),k()()()(),Er(),M(12,"div",11)(13,"li",12),X("click",function(){return r.opened=!1}),M(14,"a",13),Ai(),M(15,"svg",14),ae(16,"path",15)(17,"path",16),k(),Er(),M(18,"span",5),V(19,"Quotas"),k()()(),M(20,"li",12),X("click",function(){return r.opened=!1}),M(21,"a",13),Ai(),M(22,"svg",17),ae(23,"path",18)(24,"path",19),k(),Er(),M(25,"span",5),V(26,"Calend\xE1rio"),k()()(),M(27,"li",12),X("click",function(){return r.openAtas()}),M(28,"a",4),Ai(),M(29,"svg",17),ae(30,"path",20)(31,"path",21),k(),Er(),M(32,"span",5),V(33,"Atas"),k()()(),M(34,"li",12),X("click",function(){return r.opened=!1}),M(35,"a",13),Ai(),M(36,"svg",22),ae(37,"path",23)(38,"path",24),k(),Er(),M(39,"span",5),V(40,"Regras"),k()()(),ne(41,Ioe,7,2,"li",25),M(42,"li",4),ne(43,koe,2,1,"h5",26)(44,Aoe,4,1,"h3",26),k(),M(45,"li",12),X("click",function(){return r.logOut()}),M(46,"a",4),Ai(),M(47,"svg",27),ae(48,"path",28)(49,"path",29),k(),Er(),M(50,"span",5),V(51,"LogOut"),k()()()()()(),M(52,"div",30),ae(53,"router-outlet"),k()),n&2&&(W("ngStyle",Kc(12,V3,r.showNavbar?"block":"none")),T(),me("navbar-opened",r.opened),W("ngStyle",Kc(14,V3,r.showNavbar?"block":"none")),T(3),me("navlink-opened",r.opened),T(10),W("routerLink",Tr(16,woe)),T(7),W("routerLink",Tr(17,Doe)),T(14),W("routerLink",Tr(18,Soe)),T(6),W("ngIf",r.admin),T(2),W("ngIf",!r.opened),T(),W("ngIf",r.opened))},dependencies:[Qs,Hl,Yg,w0],styles:[".super-container[_ngcontent-%COMP%]{position:absolute;top:0;left:80px;width:calc(100vw - 90px)}.navbar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:80px;height:100%;background-color:var(--nav-bar-primary);transition:width .2s ease;overflow:hidden;z-index:4;margin-top:0}.navbar[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0;background:transparent}.navbar-nav[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;align-items:center;height:100%}.nav-item[_ngcontent-%COMP%]{width:100%;cursor:pointer}.nav-item[_ngcontent-%COMP%]:last-child{margin-top:auto}#user-name[_ngcontent-%COMP%]{text-align:center;margin:auto;padding:0 5px;font-weight:600}.nav-link[_ngcontent-%COMP%]{display:flex;align-items:center;height:80px;color:var(--text-primary);text-decoration:none;filter:grayscale(100%) opacity(.7);transition:var(--transition-speed);font-family:nav-bar}.navlink-opened[_ngcontent-%COMP%]{filter:grayscale(0%) opacity(1);background-color:var(--nav-bar-hover);color:var(--text-secondary)}.navlink-opened[_ngcontent-%COMP%] + .main-image-text[_ngcontent-%COMP%]{margin-left:160px}.link-text[_ngcontent-%COMP%]{display:none;margin-left:1.7rem;font-family:nav-bar;font-size:27px;margin-right:.5rem}.logo-text[_ngcontent-%COMP%]{font-size:28px}.nav-link[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{min-width:2rem;margin:0 1.5rem;width:2rem}.navbar-opened[_ngcontent-%COMP%]{width:256px;background-color:var(--nav-bar-primary);z-index:2}.navbar-opened[_ngcontent-%COMP%]   .link-text[_ngcontent-%COMP%]{display:block}.logo[_ngcontent-%COMP%]{font-weight:700;text-transform:uppercase;margin-bottom:1rem;text-align:center;color:var(--text-secondary);background:var(--nav-bar-hover);letter-spacing:.3ch;width:100%}.logo[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transform:rotate(0);transition:transform var(--transition-speed)}.navbar-opened[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transform:rotate(-180deg)}.fa-primary[_ngcontent-%COMP%]{color:#94d8fffb}.fa-secondary[_ngcontent-%COMP%]{color:#38b6ff}.fa-primary[_ngcontent-%COMP%], .fa-secondary[_ngcontent-%COMP%]{transition:var(--transition-speed)}  .mdc-text-field--outlined.mdc-text-field:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,   .mdc-text-field--outlined.mdc-text-field:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,   .mdc-text-field--outlined.mdc-text-field:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--text-color)!important}  .mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__input,   .mdc-text-field:not(.mdc-text-field-disabled) .mdc-floating-label{color:var(--text-color)!important}  .mat-mdc-select-value-text{color:var(--text-color)}@media screen and (max-width: 550px),(max-width: 920px) and (orientation: landscape){.super-container[_ngcontent-%COMP%]{position:absolute;top:80px;left:0;width:100vw}.navbar[_ngcontent-%COMP%]{height:80px;width:256px;z-index:11}.navbar-opened[_ngcontent-%COMP%]{height:100%;width:256px;z-index:11}.navbar-background[_ngcontent-%COMP%]{width:100%;height:80px;background-color:var(--nav-bar-hover);position:fixed;top:0;left:0;z-index:10}.logo[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{flex-direction:row-reverse;margin-right:auto}.logo[_ngcontent-%COMP%]   .navlink-opened[_ngcontent-%COMP%]{flex-direction:row-reverse}.link-text[_ngcontent-%COMP%]{display:inline}.nav-item-container[_ngcontent-%COMP%]{overflow:scroll}.nav-item[_ngcontent-%COMP%]{flex-direction:row}}"]})}}return t})();var Eoe="@",Toe=(()=>{class t{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=null;injector=x(Qe);loadingSchedulerFn=x(Roe,{optional:!0});_engine;constructor(e,n,r,a,s){this.doc=e,this.delegate=n,this.zone=r,this.animationType=a,this.moduleImpl=s}ngOnDestroy(){this._engine?.flush()}loadImpl(){let e=()=>this.moduleImpl??import("./chunk-UZZDG6JF.js").then(r=>r),n;return this.loadingSchedulerFn?n=this.loadingSchedulerFn(e):n=e(),n.catch(r=>{throw new gt(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:a})=>{this._engine=r(this.animationType,this.doc);let s=new a(this.delegate,this._engine,this.zone);return this.delegate=s,s})}createRenderer(e,n){let r=this.delegate.createRenderer(e,n);if(r.\u0275type===0)return r;typeof r.throwOnSyntheticProps=="boolean"&&(r.throwOnSyntheticProps=!1);let a=new VT(r);return n?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(s=>{let o=s.createRenderer(e,n);a.use(o),this.scheduler??=this.injector.get(HL,null,{optional:!0}),this.scheduler?.notify(10)}).catch(s=>{a.use(r)}),a}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}componentReplaced(e){this._engine?.flush(),this.delegate.componentReplaced?.(e)}static \u0275fac=function(n){cm()};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})(),VT=class{delegate;replay=[];\u0275type=1;constructor(i){this.delegate=i}use(i){if(this.delegate=i,this.replay!==null){for(let e of this.replay)e(i);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(i,e){return this.delegate.createElement(i,e)}createComment(i){return this.delegate.createComment(i)}createText(i){return this.delegate.createText(i)}get destroyNode(){return this.delegate.destroyNode}appendChild(i,e){this.delegate.appendChild(i,e)}insertBefore(i,e,n,r){this.delegate.insertBefore(i,e,n,r)}removeChild(i,e,n){this.delegate.removeChild(i,e,n)}selectRootElement(i,e){return this.delegate.selectRootElement(i,e)}parentNode(i){return this.delegate.parentNode(i)}nextSibling(i){return this.delegate.nextSibling(i)}setAttribute(i,e,n,r){this.delegate.setAttribute(i,e,n,r)}removeAttribute(i,e,n){this.delegate.removeAttribute(i,e,n)}addClass(i,e){this.delegate.addClass(i,e)}removeClass(i,e){this.delegate.removeClass(i,e)}setStyle(i,e,n,r){this.delegate.setStyle(i,e,n,r)}removeStyle(i,e,n){this.delegate.removeStyle(i,e,n)}setProperty(i,e,n){this.shouldReplay(e)&&this.replay.push(r=>r.setProperty(i,e,n)),this.delegate.setProperty(i,e,n)}setValue(i,e){this.delegate.setValue(i,e)}listen(i,e,n,r){return this.shouldReplay(e)&&this.replay.push(a=>a.listen(i,e,n,r)),this.delegate.listen(i,e,n,r)}shouldReplay(i){return this.replay!==null&&i.startsWith(Eoe)}},Roe=new G("");function j3(t="animations"){return fu("NgAsyncAnimations"),ms([{provide:pr,useFactory:(i,e,n)=>new Toe(i,e,n,t),deps:[Ue,Tg,we]},{provide:Kt,useValue:t==="noop"?"NoopAnimations":"BrowserAnimations"}])}function Ooe(t){let i=t,e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length,r=parseInt(t.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return e===Math.floor(e)&&e>=0&&e<=1?1:r===0&&e!==0&&e%1e6===0&&n===0||!(r>=0&&r<=5)?4:5}var z3=["pt-PT",[["a.m.","p.m."],void 0,["da manh\xE3","da tarde"]],[["a.m.","p.m."],void 0,["manh\xE3","tarde"]],[["D","S","T","Q","Q","S","S"],["domingo","segunda","ter\xE7a","quarta","quinta","sexta","s\xE1bado"],["domingo","segunda-feira","ter\xE7a-feira","quarta-feira","quinta-feira","sexta-feira","s\xE1bado"],["dom.","seg.","ter.","qua.","qui.","sex.","s\xE1b."]],void 0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["jan.","fev.","mar.","abr.","mai.","jun.","jul.","ago.","set.","out.","nov.","dez."],["janeiro","fevereiro","mar\xE7o","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]],void 0,[["a.C.","d.C."],void 0,["antes de Cristo","depois de Cristo"]],0,[6,0],["dd/MM/yy","dd/MM/y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",void 0,"{1} '\xE0s' {0}",void 0],[",","\xA0",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","#,##0.00\xA0\xA4","#E0"],"EUR","\u20AC","euro",{AUD:["AU$","$"],BYN:[void 0,"\u0440."],JPY:["JP\xA5","\xA5"],PHP:[void 0,"\u20B1"],PTE:["\u200B"],RON:[void 0,"L"],THB:["\u0E3F"],TWD:["NT$"],USD:["US$","$"]},"ltr",Ooe];var U3={apiKey:"AIzaSyBAagiRld7BvSmCA76J3rpvugCr2DBXaWM",authDomain:"carro27-97f28.firebaseapp.com",projectId:"carro27-97f28",storageBucket:"carro27-97f28.firebasestorage.app",messagingSenderId:"1061087888253",appId:"1:1061087888253:web:d81bd762b515cdd9c90214",measurementId:"G-3RJN65LJW2",databaseURL:"https://carro27-97f28-default-rtdb.europe-west1.firebasedatabase.app/"};var Loe=["mat-internal-form-field",""],Noe=["*"],H3=(()=>{class t{labelPosition;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Q({type:t,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(n,r){n&2&&me("mdc-form-field--align-end",r.labelPosition==="before")},inputs:{labelPosition:"labelPosition"},attrs:Loe,ngContentSelectors:Noe,decls:1,vars:0,template:function(n,r){n&1&&(mt(),ke(0))},styles:[`.mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}
`],encapsulation:2,changeDetection:0})}return t})();var Poe=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/,Foe=/^(\d?\d)[:.](\d?\d)(?:[:.](\d?\d))?\s*(AM|PM)?$/i;function BT(t,i){let e=Array(t);for(let n=0;n<t;n++)e[n]=i(n);return e}var Voe=(()=>{class t extends Kn{useUtcForDisplay=!1;_matDateLocale=x(yT,{optional:!0});constructor(){super();let e=x(yT,{optional:!0});e!==void 0&&(this._matDateLocale=e),super.setLocale(this._matDateLocale)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){let n=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return BT(12,r=>this._format(n,new Date(2017,r,1)))}getDateNames(){let e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return BT(31,n=>this._format(e,new Date(2017,0,n+1)))}getDayOfWeekNames(e){let n=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return BT(7,r=>this._format(n,new Date(2017,0,r+1)))}getYearName(e){let n=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(n,e)}getFirstDayOfWeek(){if(typeof Intl<"u"&&Intl.Locale){let e=new Intl.Locale(this.locale),n=(e.getWeekInfo?.()||e.weekInfo)?.firstDay??0;return n===7?0:n}return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,n,r){let a=this._createDateWithOverflow(e,n,r);return a.getMonth()!=n,a}today(){return new Date}parse(e,n){return typeof e=="number"?new Date(e):e?new Date(Date.parse(e)):null}format(e,n){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");let r=new Intl.DateTimeFormat(this.locale,S(f({},n),{timeZone:"utc"}));return this._format(r,e)}addCalendarYears(e,n){return this.addCalendarMonths(e,n*12)}addCalendarMonths(e,n){let r=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+n,this.getDate(e));return this.getMonth(r)!=((this.getMonth(e)+n)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(e,n){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+n)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if(typeof e=="string"){if(!e)return null;if(Poe.test(e)){let n=new Date(e);if(this.isValid(n))return n}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}setTime(e,n,r,a){let s=this.clone(e);return s.setHours(n,r,a,0),s}getHours(e){return e.getHours()}getMinutes(e){return e.getMinutes()}getSeconds(e){return e.getSeconds()}parseTime(e,n){if(typeof e!="string")return e instanceof Date?new Date(e.getTime()):null;let r=e.trim();if(r.length===0)return null;let a=this._parseTimeString(r);if(a===null){let s=r.replace(/[^0-9:(AM|PM)]/gi,"").trim();s.length>0&&(a=this._parseTimeString(s))}return a||this.invalid()}addSeconds(e,n){return new Date(e.getTime()+n*1e3)}_createDateWithOverflow(e,n,r){let a=new Date;return a.setFullYear(e,n,r),a.setHours(0,0,0,0),a}_2digit(e){return("00"+e).slice(-2)}_format(e,n){let r=new Date;return r.setUTCFullYear(n.getFullYear(),n.getMonth(),n.getDate()),r.setUTCHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),e.format(r)}_parseTimeString(e){let n=e.toUpperCase().match(Foe);if(n){let r=parseInt(n[1]),a=parseInt(n[2]),s=n[3]==null?void 0:parseInt(n[3]),o=n[4];if(r===12?r=o==="AM"?0:r:o==="PM"&&(r+=12),jT(r,0,23)&&jT(a,0,59)&&(s==null||jT(s,0,59)))return this.setTime(this.today(),r,a,s||0)}return null}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})();function jT(t,i,e){return!isNaN(t)&&t>=i&&t<=e}var Boe={parse:{dateInput:null,timeInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},timeInput:{hour:"numeric",minute:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"},timeOptionLabel:{hour:"numeric",minute:"numeric"}}};function G3(t=Boe){return[{provide:Kn,useClass:Voe},{provide:go,useValue:t}]}var joe=["input"],zoe=["label"],Uoe=["*"],Hoe=new G("mat-checkbox-default-options",{providedIn:"root",factory:$3});function $3(){return{color:"accent",clickAction:"check-indeterminate",disabledInteractive:!1}}var Fr=function(t){return t[t.Init=0]="Init",t[t.Checked=1]="Checked",t[t.Unchecked=2]="Unchecked",t[t.Indeterminate=3]="Indeterminate",t}(Fr||{}),Goe={provide:oc,useExisting:va(()=>Y3),multi:!0},zT=class{source;checked},W3=$3(),Y3=(()=>{class t{_elementRef=x(ge);_changeDetectorRef=x(st);_ngZone=x(we);_animationMode=x(Kt,{optional:!0});_options=x(Hoe,{optional:!0});focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(e){let n=new zT;return n.source=this,n.checked=e,n}_getAnimationTargetElement(){return this._inputElement?.nativeElement}_animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"};ariaLabel="";ariaLabelledby=null;ariaDescribedby;ariaExpanded;ariaControls;ariaOwns;_uniqueId;id;get inputId(){return`${this.id||this._uniqueId}-input`}required;labelPosition="after";name=null;change=new ie;indeterminateChange=new ie;value;disableRipple;_inputElement;_labelElement;tabIndex;color;disabledInteractive;_onTouched=()=>{};_currentAnimationClass="";_currentCheckState=Fr.Init;_controlValueAccessorChangeFn=()=>{};_validatorChangeFn=()=>{};constructor(){x(_i).load(Nr);let e=x(new ea("tabindex"),{optional:!0});this._options=this._options||W3,this.color=this._options.color||W3.color,this.tabIndex=e==null?0:parseInt(e)||0,this.id=this._uniqueId=x(ei).getId("mat-mdc-checkbox-"),this.disabledInteractive=this._options?.disabledInteractive??!1}ngOnChanges(e){e.required&&this._validatorChangeFn()}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(e){e!=this.checked&&(this._checked=e,this._changeDetectorRef.markForCheck())}_checked=!1;get disabled(){return this._disabled}set disabled(e){e!==this.disabled&&(this._disabled=e,this._changeDetectorRef.markForCheck())}_disabled=!1;get indeterminate(){return this._indeterminate}set indeterminate(e){let n=e!=this._indeterminate;this._indeterminate=e,n&&(this._indeterminate?this._transitionCheckState(Fr.Indeterminate):this._transitionCheckState(this.checked?Fr.Checked:Fr.Unchecked),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_indeterminate=!1;_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}validate(e){return this.required&&e.value!==!0?{required:!0}:null}registerOnValidatorChange(e){this._validatorChangeFn=e}_transitionCheckState(e){let n=this._currentCheckState,r=this._getAnimationTargetElement();if(!(n===e||!r)&&(this._currentAnimationClass&&r.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(n,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){r.classList.add(this._currentAnimationClass);let a=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{r.classList.remove(a)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){let e=this._options?.clickAction;!this.disabled&&e!=="noop"?(this.indeterminate&&e!=="check"&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?Fr.Checked:Fr.Unchecked),this._emitChangeEvent()):(this.disabled&&this.disabledInteractive||!this.disabled&&e==="noop")&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate)}_onInteractionEvent(e){e.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(e,n){if(this._animationMode==="NoopAnimations")return"";switch(e){case Fr.Init:if(n===Fr.Checked)return this._animationClasses.uncheckedToChecked;if(n==Fr.Indeterminate)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case Fr.Unchecked:return n===Fr.Checked?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case Fr.Checked:return n===Fr.Unchecked?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case Fr.Indeterminate:return n===Fr.Checked?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(e){let n=this._inputElement;n&&(n.nativeElement.indeterminate=e)}_onInputClick(){this._handleInputClick()}_onTouchTargetClick(){this._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(e){e.target&&this._labelElement.nativeElement.contains(e.target)&&e.stopPropagation()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Q({type:t,selectors:[["mat-checkbox"]],viewQuery:function(n,r){if(n&1&&(Xe(joe,5),Xe(zoe,5)),n&2){let a;be(a=ve())&&(r._inputElement=a.first),be(a=ve())&&(r._labelElement=a.first)}},hostAttrs:[1,"mat-mdc-checkbox"],hostVars:16,hostBindings:function(n,r){n&2&&(xa("id",r.id),Ee("tabindex",null)("aria-label",null)("aria-labelledby",null),jn(r.color?"mat-"+r.color:"mat-accent"),me("_mat-animation-noopable",r._animationMode==="NoopAnimations")("mdc-checkbox--disabled",r.disabled)("mat-mdc-checkbox-disabled",r.disabled)("mat-mdc-checkbox-checked",r.checked)("mat-mdc-checkbox-disabled-interactive",r.disabledInteractive))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],ariaExpanded:[2,"aria-expanded","ariaExpanded",re],ariaControls:[0,"aria-controls","ariaControls"],ariaOwns:[0,"aria-owns","ariaOwns"],id:"id",required:[2,"required","required",re],labelPosition:"labelPosition",name:"name",value:"value",disableRipple:[2,"disableRipple","disableRipple",re],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?void 0:Ga(e)],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",re],checked:[2,"checked","checked",re],disabled:[2,"disabled","disabled",re],indeterminate:[2,"indeterminate","indeterminate",re]},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[Ye([Goe,{provide:yl,useExisting:t,multi:!0}]),_t],ngContentSelectors:Uoe,decls:15,vars:23,consts:[["checkbox",""],["input",""],["label",""],["mat-internal-form-field","",3,"click","labelPosition"],[1,"mdc-checkbox"],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"blur","click","change","checked","indeterminate","disabled","id","required","tabIndex"],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"]],template:function(n,r){if(n&1){let a=zt();mt(),M(0,"div",3),X("click",function(o){return xe(a),Ce(r._preventBubblingFromLabel(o))}),M(1,"div",4,0)(3,"div",5),X("click",function(){return xe(a),Ce(r._onTouchTargetClick())}),k(),M(4,"input",6,1),X("blur",function(){return xe(a),Ce(r._onBlur())})("click",function(){return xe(a),Ce(r._onInputClick())})("change",function(o){return xe(a),Ce(r._onInteractionEvent(o))}),k(),ae(6,"div",7),M(7,"div",8),Ai(),M(8,"svg",9),ae(9,"path",10),k(),Er(),ae(10,"div",11),k(),ae(11,"div",12),k(),M(12,"label",13,2),ke(14),k()()}if(n&2){let a=ar(2);W("labelPosition",r.labelPosition),T(4),me("mdc-checkbox--selected",r.checked),W("checked",r.checked)("indeterminate",r.indeterminate)("disabled",r.disabled&&!r.disabledInteractive)("id",r.inputId)("required",r.required)("tabIndex",r.disabled&&!r.disabledInteractive?-1:r.tabIndex),Ee("aria-label",r.ariaLabel||null)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby)("aria-checked",r.indeterminate?"mixed":null)("aria-controls",r.ariaControls)("aria-disabled",r.disabled&&r.disabledInteractive?!0:null)("aria-expanded",r.ariaExpanded)("aria-owns",r.ariaOwns)("name",r.name)("value",r.value),T(7),W("matRippleTrigger",a)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),T(),W("for",r.inputId)}},dependencies:[nc,H3],styles:[`.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom;padding:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);margin:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox:hover>.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox:hover>.mat-mdc-checkbox-ripple>.mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus+.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox:active>.mdc-checkbox__native-control+.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:active>.mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked+.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity));background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked+.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity));background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:active>.mdc-checkbox__native-control:checked+.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox:active>.mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control+.mdc-checkbox__ripple{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox .mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1;width:var(--mdc-checkbox-state-layer-size, 40px);height:var(--mdc-checkbox-state-layer-size, 40px);top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox--disabled{cursor:default;pointer-events:none}@media(forced-colors: active){.mdc-checkbox--disabled{opacity:.5}}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1);-webkit-print-color-adjust:exact;color-adjust:exact;border-color:var(--mdc-checkbox-unselected-icon-color, var(--mat-sys-on-surface-variant));top:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2)}.mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color, var(--mat-sys-primary));background-color:var(--mdc-checkbox-selected-icon-color, var(--mat-sys-primary))}.mdc-checkbox--disabled .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-checkbox__native-control:disabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:disabled:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:rgba(0,0,0,0)}.mdc-checkbox:hover>.mdc-checkbox__native-control:not(:checked)~.mdc-checkbox__background,.mdc-checkbox:hover>.mdc-checkbox__native-control:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mat-sys-on-surface));background-color:rgba(0,0,0,0)}.mdc-checkbox:hover>.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox:hover>.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-sys-primary));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-sys-primary))}.mdc-checkbox__native-control:focus:focus:not(:checked)~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mat-sys-on-surface))}.mdc-checkbox__native-control:focus:focus:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-sys-primary));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-sys-primary))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox:hover>.mdc-checkbox__native-control~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:rgba(0,0,0,0)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms cubic-bezier(0.4, 0, 0.6, 1);color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-sys-on-primary))}@media(forced-colors: active){.mdc-checkbox__checkmark{color:CanvasText}}.mdc-checkbox--disabled .mdc-checkbox__checkmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-sys-surface))}@media(forced-colors: active){.mdc-checkbox--disabled .mdc-checkbox__checkmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:CanvasText}}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);border-color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-sys-on-primary))}@media(forced-colors: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled .mdc-checkbox__mixedmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-sys-surface))}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background>.mdc-checkbox__checkmark>.mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background>.mdc-checkbox__checkmark>.mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control:checked~.mdc-checkbox__background>.mdc-checkbox__checkmark{transition:opacity 180ms cubic-bezier(0, 0, 0.2, 1),transform 180ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background>.mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background>.mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background>.mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mat-mdc-checkbox-touch-target,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__native-control,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__ripple,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mat-mdc-checkbox-ripple::before,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__background,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__background>.mdc-checkbox__checkmark,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__background>.mdc-checkbox__checkmark>.mdc-checkbox__checkmark-path,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__background>.mdc-checkbox__mixedmark{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox .mat-internal-form-field{color:var(--mat-checkbox-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-checkbox-label-text-font, var(--mat-sys-body-medium-font));line-height:var(--mat-checkbox-label-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-checkbox-label-text-size, var(--mat-sys-body-medium-size));letter-spacing:var(--mat-checkbox-label-text-tracking, var(--mat-sys-body-medium-tracking));font-weight:var(--mat-checkbox-label-text-weight, var(--mat-sys-body-medium-weight))}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive{pointer-events:auto}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive input{cursor:default}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default;color:var(--mat-checkbox-disabled-label-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-checkbox label:empty{display:none}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox .mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox .mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-checkbox-touch-target-display, block)}.mat-mdc-checkbox .mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-focus-indicator::before{content:""}
`],encapsulation:2,changeDetection:0})}return t})();var K3=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Se({type:t});static \u0275inj=De({imports:[Y3,nt,nt]})}return t})();var Woe=Object.defineProperty,X3=(t,i)=>{for(var e in i)Woe(t,e,{get:i[e],enumerable:!0})},j={};X3(j,{error:()=>J3,errorOnce:()=>Koe,log:()=>$oe,logGroup:()=>Zoe,reset:()=>qoe,table:()=>Yoe,warn:()=>HT,warnOnce:()=>Db});var UT=new Set;function $oe(...t){console.log(...t)}function HT(t,...i){console.warn(`AG Charts - ${t}`,...i)}function J3(t,...i){typeof t=="object"?console.error("AG Charts error",t,...i):console.error(`AG Charts - ${t}`,...i)}function Yoe(...t){console.table(...t)}function eU(t,i,e){let n;t instanceof Error?n=t.message:typeof t=="string"?n=t:typeof t=="object"?n=JSON.stringify(t):n=String(t);let r=`${i}: ${n}`;UT.has(r)||(e(t),UT.add(r))}function Db(t,...i){eU(t,"Logger.warn",e=>HT(e,...i))}function Koe(t,...i){eU(t,"Logger.error",e=>J3(e,...i))}function qoe(){UT.clear()}function Zoe(t,i){console.groupCollapsed(t);try{return i()}finally{console.groupEnd()}}var cr={};X3(cr,{detectChartDefinition:()=>tle,getAxisModule:()=>ile,getPresetModule:()=>nle,getSeriesModule:()=>rle,hasModule:()=>Joe,listModulesByType:()=>ele,register:()=>tU,registerMany:()=>Qoe,reset:()=>Xoe});var Ib=(t=>(t.Axis="axis",t.Chart="chart",t.Preset="preset",t.Plugin="plugin",t.Series="series",t))(Ib||{}),bl=new Map;function tU(t,i){let{def:e,version:n}=bl.get(t.name)??{};if(!e){bl.set(t.name,{def:t,version:i});return}if(!e.enterprise&&t.enterprise&&i===n){bl.set(t.name,{def:t,version:i});return}if(n===i){HT([`AG Charts - Module '${t.name}' already registered,',
                'ignoring (version: ${n}).`,"Check your code for duplicate loading of charts NPM modules."].join(" "));return}throw new Error([`AG Charts - Module '${t.name}' already registered with different version:`,`${n} vs ${i}`,"","Check your package.json for conflicting dependencies - depending on your package manager","one of these commands may help:","- npm ls ag-charts-community","- yarn why ag-charts-community"].join(`
`))}function Qoe(t,i){for(let e of t)tU(e,i)}function Xoe(){bl.clear()}function Joe(t){return bl.has(t)}function*ele(t){for(let i of bl.values())kb(t,i.def)&&(yield i.def)}function tle(t){for(let i of bl.values())if(kb("chart",i.def)&&i.def.detect(t))return i.def;throw new Error("AG Charts - Unknown chart type; Check options are correctly structured and series types are specified")}function ile(t){let i=bl.get(t);if(kb("axis",i?.def))return i?.def}function nle(t){let i=bl.get(t);if(kb("preset",i?.def))return i?.def}function rle(t){let i=bl.get(t);if(kb("series",i?.def))return i?.def}function kb(t,i){return i?.type===t}var Vr=class{constructor(){this.events=new Map}on(t,i){return this.events.has(t)||this.events.set(t,new Set),this.events.get(t)?.add(i),()=>this.off(t,i)}off(t,i){let e=this.events.get(t);e&&(e.delete(i),e.size===0&&this.events.delete(t))}emit(t,i){this.events.get(t)?.forEach(e=>e(i))}clear(t){t?this.events.delete(t):this.events.clear()}},vl={};typeof window<"u"?vl.window=window:typeof global<"u"&&(vl.window=global.window);typeof document<"u"?vl.document=document:typeof global<"u"&&(vl.document=global.document);function Br(t){return t?vl.document?.[t]:vl.document}function Je(t){return t?vl.window?.[t]:vl.window}function iU(t){vl.document=t}function nU(t){vl.window=t}function Ne(t,i,e){let n=Br().createElement(t);if(typeof i=="object"&&(e=i,i=void 0),i)for(let r of i.split(" "))n.classList.add(r);return e&&Object.assign(n.style,e),n}function qt(t){return Br().createElementNS("http://www.w3.org/2000/svg",t)}function rU(t,i){let e=Br("body"),n=Ne("a",{display:"none"});n.href=t,n.download=i,e.appendChild(n),n.click(),setTimeout(()=>e.removeChild(n))}function Gt(t,i,e,n){return t.addEventListener(i,e,n),()=>t.removeEventListener(i,e,n)}var YC;function ale(t){if(YC==null){let i=Je("Option");YC=new i().style}return YC.color=t,YC.color||null}function lh(t){return t!=null}function qe(t){return Array.isArray(t)}function sle(t){return typeof t=="boolean"}function uc(t){return t instanceof Date}function XC(t){return uc(t)&&!isNaN(Number(t))}function aU(t){return t instanceof RegExp}function yo(t){return typeof t=="function"}function $t(t){return typeof t=="object"&&t!==null&&!qe(t)}function ch(t){return qe(t)||yt(t)}function yt(t){return typeof t=="object"&&t!==null&&t.constructor?.name==="Object"}function JC(t){if(typeof t!="object"||t===null)return!1;for(let i in t)return!1;return!0}function Gi(t){return typeof t=="string"}function dh(t){return typeof t=="number"}function Tt(t){return Number.isFinite(t)}function sU(t){return typeof window<"u"&&t instanceof HTMLElement}function Up(t){return typeof t=="symbol"}function ole(t){return Gi(t)&&(t==="none"||ale(t)!=null)}function GT(t,i,e){let{leading:n=!0,trailing:r=!0}=e??{},a,s,o=!1;function l(){r&&s?(a=setTimeout(l,i),t(...s)):o=!1,s=null}function c(...d){o?s=d:(o=!0,a=setTimeout(l,i),n?t(...d):s=d)}return Object.assign(c,{cancel(){clearTimeout(a),o=!1,s=null}})}function oU(t,i,e=""){try{return t(...i)}catch(n){let r=e?` \`${e}\``:"";Db(`Uncaught exception in user callback${r}`,n)}}function Hp(t,i="and",e=String,n=1/0){if(t.length===0)return"";if(t.length===1)return e(t[0]);t=t.map(e);let r=t.pop();if(t.length>=n){let a=t.length-(n-1);return`${t.slice(0,n-1).join(", ")}, and ${a} more ${i} ${r}`}return`${t.join(", ")} ${i} ${r}`}function WT(t,i=1/0){if(typeof t=="number"){if(isNaN(t))return"NaN";if(t===1/0)return"Infinity";if(t===-1/0)return"-Infinity"}let e=JSON.stringify(t)??typeof t;return e.length>i?`${e.slice(0,i)}... (+${e.length-i} characters)`:e}function lU(t){let i=1;for(let e=0;e<t.length;e++)t.charCodeAt(e)===10&&i++;return i}function lle(t,i){if(t===i)return 0;let[e,n]=t.length<i.length?[t,i]:[i,t],r=e.length,a=n.length,s=new Array(r+1).fill(0).map((l,c)=>c),o=new Array(r+1);for(let l=1;l<=a;l++){o[0]=l;for(let c=1;c<=r;c++){let d=n[l-1]===e[c-1]?0:1;o[c]=Math.min(s[c]+1,o[c-1]+1,s[c-1]+d)}[s,o]=[o,s]}return s[r]}function cU(t){return t.replace(cle,(i,e)=>(e>0?"-":"")+i.toLowerCase())}var cle=/[A-Z]+(?![a-z])|[A-Z]/g;function Ab(t){return qe(t)?t.map(i=>i.text).join(""):t??""}var is=Symbol("description"),dU=Symbol("required"),ZC=Symbol("marked"),uU=Symbol("undocumented"),Sb=Symbol("union"),dle=[["placement","position"],["padding","spacing","gap"],["color","fill","stroke"],["whisker","wick"],["nodeClick","seriesNodeClick"],["nodeDoubleClick","seriesNodeDoubleClick"],["src","url"]].reduce((t,i)=>{for(let e of i)t.set(e.toLowerCase(),new Set(i.filter(n=>n!==e)));return t},new Map),ew=(t=>(t.Invalid="invalid",t.Required="required",t.Unknown="unknown",t))(ew||{});function Mb(t,i){return Tt(i)?`${t}[${i}]`:t?`${t}.${i}`:i}var dc=class{constructor(t,i,e,n,r){this.type=t,this.description=i,this.value=e,this.path=n,this.key=r}setUnionType(t,i){if(this.path.startsWith(i)){let e=this.path.slice(i.length);this.altPath=`${i}[type=${t}]${e}`}}getPrefix(){let{altPath:t=this.path,key:i}=this;return!t&&!i?"Value":`Option \`${i?Mb(t,i):t}\``}toString(){let{description:t="unknown",type:i,value:e}=this;return i==="required"&&e==null?`${this.getPrefix()} is required and has not been provided; expecting ${t}, ignoring.`:`${this.getPrefix()} cannot be set to \`${WT(e,50)}\`; expecting ${t}, ignoring.`}},tw=class extends dc{constructor(t,i,e,n){super("unknown",void 0,i,e,n),this.suggestions=t,this.key=n}getPrefix(){return`Unknown option \`${Mb(this.altPath??this.path,this.key)}\``}getPostfix(){let t=Hp(ule(this.key,this.suggestions),"or",i=>`\`${i}\``);return t?`; Did you mean ${t}? Ignoring.`:", ignoring."}toString(){return`${this.getPrefix()}${this.getPostfix()}`}};function mn(t,i,e=""){if(!$t(t))return{cleared:null,invalid:[new dc("required","an object",t,e)]};let n={},r=[],a=new Set(Object.keys(t)),s=[];if(Sb in i){let l=Object.keys(i),c=i[Sb];if(t.type!=null&&l.includes(t.type)||t.type==null&&c!=null){let o=t,{type:d=c}=o,u=ci(o,["type"]),h=mn(u,i[d],e);Object.assign(n,{type:d},h.cleared);for(let m of h.invalid)m.setUnionType(d,e);r.push(...h.invalid)}else{let d=Hp(l,"or",u=>`'${u}'`);r.push(new dc("required",`a keyword such as ${d}`,t.type,e,"type"))}return{cleared:n,invalid:r}}for(let l of Object.keys(i)){let c=i[l],d=c[dU],u=t[l];if(a.delete(l),typeof u>"u"&&(c[uU]||s.push(l),!d))continue;let h=Mb(e,l);if(yo(c)){let p=c(u,{options:t,path:h});if(typeof p=="object"){if(r.push(...p.invalid),p.valid){n[l]=p.cleared;continue}else if(ph(p.invalid,h))continue}else if(p){n[l]=u;continue}r.push(new dc(d?"required":"invalid",c[is],u,e,l))}else{let m=mn(u,c,h);m.cleared!=null&&(n[l]=m.cleared),r.push(...m.invalid)}}for(let l of a){let c=t[l];typeof c>"u"||r.push(new tw(s,c,e,l))}return{cleared:n,invalid:r}}function ule(t,i,e=2){let n=[],r=t.toLowerCase(),a=dle.get(r);for(let s of i){let o=s.toLowerCase();(a?.has(s)||o.includes(r)||lle(r,o)<=e)&&n.push(s)}return n}function Rt(t,i){if(yo(t)){let n=function(r,a){return t(r,a)};var e=n;return n[is]=i,n}else return S(f({},t),{[is]:i})}function le(t){return Object.assign(yo(t)?(i,e)=>t(i,e):ji(t),{[dU]:!0,[is]:t[is]})}function je(t){return Object.assign(yo(t)?(i,e)=>t(i,e):ji(t),{[uU]:!0,[is]:t[is]})}var ji=(t,i="an object")=>Rt((e,n)=>{let r=mn(e,t,n.path);return{valid:!ph(r.invalid,n.path),cleared:r.cleared,invalid:r.invalid}},i),uh=(t,i,e)=>S(f({},t),{[is]:i,[Sb]:e}),si=(...t)=>Rt((i,e)=>{let n=[];for(let r of t){let a=r(i,e);if(typeof a=="object"){if(n.push(...a.invalid),!a.valid)return{valid:!1,cleared:i,invalid:n};i=a.cleared}else if(!a)return!1}return{valid:!0,cleared:i,invalid:n}},t.map(i=>i[is]).filter(Boolean).join(" and ")),We=(...t)=>Rt((i,e)=>{for(let n of t){let r=n(i,e);if(typeof r=="object"?r.valid:r)return r}return!1},t.map(i=>i[is]).filter(Boolean).join(" or ")),QC=t=>Tt(t)||XC(t),hle=t=>uc(t)||(Tt(t)||Gi(t))&&XC(new Date(t)),ha=Rt(qe,"an array"),R=Rt(sle,"a boolean"),Bt=Rt(yo,"a function"),oe=Rt(ole,"a color string"),As=Rt(hle,"a date"),Be=Rt(lh,"a defined value"),z=Rt(Tt,"a number"),hh=Rt($t,"an object"),B=Rt(Gi,"a string"),iw=Rt(t=>typeof HTMLElement>"u"||t instanceof HTMLElement,"an html element"),bo=(t,i=1/0)=>{let e;return i===1/0?e=`an array of at least ${t} items`:t===i?e=`an array of exactly ${t} items`:t===0?e=`an array of no more than ${i} items`:e=`an array of at least ${t} and no more than ${i} items`,Rt(n=>qe(n)&&n.length>=t&&n.length<=i,e)},hU=(t,i=1/0)=>{let e;return i===1/0?e=`a string of at least ${t} characters`:t===i?e=`an string of exactly ${t} characters`:t===0?e=`an string of no more than ${i} characters`:e=`an string of at least ${t} and no more than ${i} characters`,Rt(n=>Gi(n)&&n.length>=t&&n.length<=i,e)},mU=(t,i=!0)=>Rt(e=>Tt(e)&&(e>t||i&&e===t),`a number greater than ${i?"or equal to ":""}${t}`),mle=(t,i)=>Rt(e=>Tt(e)&&e>=t&&e<=i,`a number between ${t} and ${i} inclusive`),O=mU(0),mh=mU(0,!1),Me=mle(0,1),ma=t=>Rt((i,{options:e})=>!QC(i)||!QC(e[t])||i<e[t],`the value to be less than \`${t}\``),pa=t=>Rt((i,{options:e})=>!QC(i)||!QC(e[t])||i>e[t],`the value to be greater than \`${t}\``);function K(...t){$t(t[0])&&(t=Object.values(t[0]));let i=Hp(t,"or",e=>`'${e}'`);return Rt(e=>t.includes(e),`a keyword such as ${i}`)}var Ot=t=>Rt(i=>t===i,`the value ${JSON.stringify(t)}`);var Le=(t,i,e=!0)=>Rt((n,r)=>{if(!qe(n))return!1;let a=e,s=[],o=[],l=c=>a=e?a&&c:a||c;if(n.length===0)return{valid:!0,cleared:s,invalid:o};for(let c=0;c<n.length;c++){let d=n[c],u=t(d,{options:d,path:`${r.path}[${c}]`});typeof u=="object"?(a=l(u.valid),o.push(...u.invalid),u.cleared!=null&&s.push(u.cleared)):(a=l(u),u&&s.push(d))}return{valid:a,cleared:a||!e?s:null,invalid:o}},i??`${t[is]} array`),zi=(t,i="an object array")=>Rt((e,n)=>{if(!qe(e))return!1;let r=[],a=[];for(let s=0;s<e.length;s++){let o=`${n.path}[${s}]`,l=mn(e[s],t,o);ph(l.invalid,o)||r.push(l.cleared),a.push(...l.invalid)}return{valid:!0,cleared:r,invalid:a}},i),hc=(t,i)=>Rt((e,n)=>yo(e)?ZC in e?!0:{valid:!0,cleared:Object.assign((...a)=>{let s=oU(e,a);if(s==null)return;let o=t(s,{options:s,path:""});if(typeof o=="object"){if(o.invalid.forEach(pU(n,i??t[is])),o.valid)return o.cleared}else{if(o)return s;Db(`Callback \`${n.path}\` returned an invalid value \`${WT(s,50)}\`; expecting ${i??t[is]}, ignoring.`)}},{[ZC]:!0}),invalid:[]}:!1,"a function"),oi=(t,i="an object")=>Rt((e,n)=>yo(e)?ZC in e?!0:{valid:!0,cleared:Object.assign((...a)=>{let s=oU(e,a,n.path);if(s==null)return;let o=mn(s,t);return o.invalid.forEach(pU(n,i)),o.cleared},{[ZC]:!0}),invalid:[]}:!1,"a function");function ph(t,i){return t.some(e=>e.type==="required"&&e.path===i)}function pU(t,i){return e=>{if(e instanceof tw)return Db(`Callback \`${t.path}\` returned an unknown property \`${Mb(e.path,e.key)}\`${e.getPostfix()}`);let n=WT(e.value,50);Db(e.key?`Callback \`${t.path}\` returned an invalid property \`${Mb(e.path,e.key)}\`: \`${n}\`; expecting ${e.description}, ignoring.`:`Callback \`${t.path}\` returned an invalid value \`${n}\`; expecting ${i??e.description}, ignoring.`)}}var Gp=t=>{if(!$t(t))return!1;let i=Object.keys(t);return i.length===1&&i[0].startsWith("$")},ple=ji({color:oe,stop:Me},""),$T=Rt(t=>{let i=-1/0;for(let e of t)if(e?.stop!=null){if(e.stop<i)return!1;i=e.stop}return!0},"color stops to be defined in ascending order"),YT=si(bo(2),Le(ple),$T),KT=K("axis","item","series"),nw=ji({type:le(Ot("gradient")),colorStops:le(YT),rotation:z,gradient:je(K("linear","radial","conic")),bounds:je(KT),reverse:je(R)},"a gradient object with color stops"),Z={stroke:oe,strokeWidth:O,strokeOpacity:Me},fle=ji({type:le(Ot("gradient")),gradient:le(K("linear","radial","conic")),bounds:le(KT),colorStops:le(We(YT,si(bo(2),Le(oe)))),rotation:le(z),reverse:le(R)}),gle=ji({type:le(Ot("pattern")),pattern:le(K("vertical-lines","horizontal-lines","forward-slanted-lines","backward-slanted-lines","circles","squares","triangles","diamonds","stars","hearts","crosses")),path:hU(2),width:le(O),height:le(O),fill:le(oe),fillOpacity:le(Me),backgroundFill:le(oe),backgroundFillOpacity:le(Me),padding:le(O),rotation:le(z),scale:le(O),stroke:le(oe),strokeWidth:le(O),strokeOpacity:le(Me)}),yle=ji({type:le(Ot("image")),url:B,width:O,height:O,rotation:le(z),backgroundFill:le(oe),backgroundFillOpacity:Me,fit:le(K("stretch","contain","cover")),repeat:le(K("repeat","repeat-x","repeat-y","no-repeat"))}),ble=uh({gradient:{colorStops:YT,rotation:z,gradient:je(K("linear","radial","conic")),bounds:je(KT),reverse:je(R)},pattern:S(f({pattern:K("vertical-lines","horizontal-lines","forward-slanted-lines","backward-slanted-lines","circles","squares","triangles","diamonds","stars","hearts","crosses"),path:hU(2),width:O,height:O,rotation:z,scale:O,fill:oe,fillOpacity:Me,backgroundFill:oe,backgroundFillOpacity:Me},Z),{padding:je(O)}),image:{url:le(B),backgroundFill:oe,backgroundFillOpacity:Me,width:O,height:O,fit:K("stretch","contain","cover","none"),repeat:K("repeat","repeat-x","repeat-y","no-repeat"),rotation:z}},"a color object"),jr=We(oe,ji(ble,"a color object")),ce={fill:jr,fillOpacity:Me};ce.fillGradientDefaults=je(fle);ce.fillPatternDefaults=je(gle);ce.fillImageDefaults=je(yle);var fe={lineDash:Le(O),lineDashOffset:z},Es=S(f(f(f({},ce),Z),fe),{opacity:Me,cornerRadius:O}),mc=S(f(f({},Z),fe),{opacity:Me}),ti=S(f(f(f({},ce),Z),fe),{opacity:Me});function rw(t){return{enabled:R,range:K("tooltip","node"),highlightedItem:t,unhighlightedItem:t}}function pi(t,i){return{enabled:R,range:K("tooltip","node"),highlightedItem:t,unhighlightedItem:t,highlightedSeries:i,unhighlightedSeries:i,bringToFront:R}}var q3=ji({googleFont:B},"google font"),aw=We(B,Gp,q3,Le(We(B,q3))),Lt={color:oe,fontFamily:aw,fontSize:O,fontStyle:K("normal","italic","oblique"),fontWeight:We(O,K("normal","bold","bolder","lighter"))},vle=ji({top:z,right:z,bottom:z,left:z},"padding object"),Eb=We(z,vle),Tb={enabled:R,stroke:oe,strokeWidth:O,strokeOpacity:Me},zr=f({border:f({},Tb),cornerRadius:z,padding:Eb},ce);function fU(t,i,e=1/0){let n=i,r=e,a=t%180*(Math.PI/180),s=Math.abs(Math.sin(a)),o=Math.abs(Math.cos(a));if(s===0)return{width:n,height:r};if(o===0)return{width:r,height:n};if(!isFinite(r)){let c=o/s,d=n/(o+c*s);return{width:d,height:c*d}}let l=o*o-s*s;if(l===0){let c=Math.min(n,r)/Math.SQRT2;return{width:c,height:c}}return{width:Math.abs((n*o-r*s)/l),height:Math.abs((r*o-n*s)/l)}}function fh(t){return typeof t>"u"?[]:Array.isArray(t)?t:[t]}function gU(t){return Array.from(new Set(t))}function Wp(t,i){return t.reduce((e,n)=>{let r=i(n);return e[r]??(e[r]=[]),e[r].push(n),e},{})}function Ta(t,i){if(t==null||i==null||t.length!==i.length)return!1;for(let e=0;e<t.length;e++)if(Array.isArray(t[e])&&Array.isArray(i[e])){if(!Ta(t[e],i[e]))return!1}else if(t[e]!==i[e])return!1;return!0}function vo(t,i,e=0){if(t.length===0)return[];let n=[];for(let r=0;r<i;r++)n.push(t.at((r+e)%t.length));return n}function yU(t,i){let e=new Map;return i.forEach((n,r)=>{e.set(n,r)}),t.sort((n,r)=>{let a=e.get(n)??1/0,s=e.get(r)??1/0;return a-s})}function bU(t,i){let e=0;for(;e<t.length&&i(t[e]);)e+=1;let n=e;n!==0&&t.splice(0,n)}function vU(t,i){let e=t.length-1;for(;e>=0&&i(t[e]);)e-=1;let n=t.length-1-e;n!==0&&t.splice(t.length-n,n)}var qT=class{constructor(){this.queue=[]}await(t=50){return new Promise(i=>{let e=()=>{clearTimeout(r),i(!0)},r=setTimeout(()=>{let a=this.queue.indexOf(e);a<0||(this.queue.splice(a,1),i(!1))},t);this.queue.push(e)})}notify(){this.queue.splice(0).forEach(t=>t())}};function ZT(t=0){return new Promise(i=>{setTimeout(i,t)})}function*Ed(...t){for(let i of t)yield*sm(i)}function _U(t){return t!=null&&typeof t=="object"&&Symbol.iterator in t?t:[t]}function $p(t){for(let i of t)return i;throw new Error("AG Charts - no first() value found")}function*dr(t){let i=[void 0,void 0];for(let e of Object.keys(t))i[0]=e,i[1]=t[e],yield i}function Ad(t){return t==="true"}function _le(t){return Number(t)}function ts(t){return t}var xle={role:ts,"aria-checked":Ad,"aria-controls":ts,"aria-describedby":ts,"aria-disabled":Ad,"aria-expanded":Ad,"aria-haspopup":ts,"aria-hidden":Ad,"aria-label":ts,"aria-labelledby":ts,"aria-live":ts,"aria-orientation":ts,"aria-selected":Ad,"data-focus-override":Ad,"data-focus-visible-override":Ad,"data-preventdefault":Ad,class:ts,for:ts,id:ts,tabindex:_le,title:ts,placeholder:ts};function et(t,i,e){e==null||e===""||e===""?t?.removeAttribute(i):t?.setAttribute(i,e.toString())}function Td(t,i){if(i!=null)for(let[e,n]of dr(i))e!=="class"&&et(t,e,n)}function _l(t,i,e){if(!(t instanceof HTMLElement))return;let n=t.getAttribute(i);return n===null?e:xle[i]?.(n)??void 0}function Ra(t,i,e){t!=null&&(e==null?t.style.removeProperty(i):t.style.setProperty(i,e.toString()))}function xU(t,i){for(let[e,n]of dr(i))Ra(t,e,n)}function sw(t,i,e,n,r){return i<t.x+t.width&&i+n>t.x&&e<t.y+t.height&&e+r>t.y}function Yp(t,i,e,n=0,r=0){return i>=t.x&&i+n<=t.x+t.width&&e>=t.y&&e+r<=t.y+t.height}function Kp(t,i){return t.x===i.x&&t.y===i.y&&t.width===i.width&&t.height===i.height}function _o(t,i,e){if(t>i)return;let n;for(;i>=t;){let r=Math.floor((i+t)/2);e(r)?(n=r,t=r+1):i=r-1}return n}function pc(t,i,e){if(t>i)return;let n;for(;i>=t;){let r=Math.floor((i+t)/2);e(r)?(n=r,i=r-1):t=r+1}return n}var CU=class{constructor(t){this.getter=t}get(){let t=this.result?.deref();return t||(t=this.getter(),this.result=new WeakRef(t),t)}clear(){this.result=void 0}},pt=class{constructor(){this.callbacks=new Set}flush(){for(let t of this.callbacks)t();this.callbacks.clear()}merge(t){for(let i of t.callbacks)this.callbacks.add(i)}register(...t){for(let i of t)i&&this.callbacks.add(i)}};function wU(t,i){let e=Math.max(t.length,i.length),n=new Set,r=new Set;for(let a=0;a<e;a++){let s=t[a],o=i[a];s!==o&&(r.has(o)?r.delete(o):o&&n.add(o),n.has(s)?n.delete(s):s&&r.add(s))}return{changed:n.size>0||r.size>0,added:n,removed:r}}function Ae(t,i,e){return Math.min(e,Math.max(t,i))}function DU(t,i,e=1e-10){return t>=i[0]-e&&t<=i[1]+e}function ua(t,i,e=1e-10){return t===i||Math.abs(t-i)<e}function qp(t){return Math.sign(t)===-1||Object.is(t,-0)}function SU(t){return t%1===0}function QT(t,i=2){let e=10**i;return Math.round(t*e)/e}function MU(t,i){return Math.floor(t%i+(t<0?Math.abs(i):0))}function Zp(t){if(Math.floor(t)===t)return 0;let i=String(t),e=0;if(t<1e-6||t>=1e21){let r;[i,r]=i.split("e"),r!=null&&(e=Number(r))}let n=i.split(".")[1]?.length??0;return Math.max(n-e,0)}function IU(t){return Array.isArray(t)&&t.length>=2&&t.every(Tt)}function qC(t){return Array.isArray(t)&&t.length>=2&&t.every(IU)}function Cle(t){let i=t[0],e=t[t.length-1];return ua(i[0],e[0],.001)&&ua(i[1],e[1],.001)}function Z3(t){return Array.isArray(t)&&t.every(qC)&&t.every(Cle)}function kU(t){if(t===null)return!0;if(!$t(t)||t.type==null)return!1;let{type:i,coordinates:e}=t;switch(i){case"GeometryCollection":return Array.isArray(t.geometries)&&t.geometries.every(kU);case"MultiPolygon":return Array.isArray(e)&&e.every(Z3);case"Polygon":return Z3(e);case"MultiLineString":return Array.isArray(e)&&e.every(qC);case"LineString":return qC(e);case"MultiPoint":return qC(e);case"Point":return IU(e);default:return!1}}function wle(t){return $t(t)&&t.type==="Feature"&&kU(t.geometry)}function Dle(t){return $t(t)&&t.type==="FeatureCollection"&&Array.isArray(t.features)&&t.features.every(wle)}var AU=Rt(Dle,"a GeoJSON object"),EU=class{constructor(t,i){this._vertexCount=0,this.pendingProcessingEdgesFrom=[],this.pendingProcessingEdgesTo=[],this.cachedNeighboursEdge=t,this.processedEdge=i}clear(){this._vertexCount=0,this.pendingProcessingEdgesFrom=[],this.pendingProcessingEdgesTo=[]}addVertex(t){let i=new Sle(t);return this._vertexCount++,i}addEdge(t,i,e){e===this.cachedNeighboursEdge?t.updateCachedNeighbours().set(i.value,i):e===this.processedEdge&&(this.pendingProcessingEdgesFrom.push(t),this.pendingProcessingEdgesTo.push(i));let{edges:n}=t,r=n.get(e);r?r.indexOf(i)===-1&&r.push(i):n.set(e,[i])}removeVertex(t){this._vertexCount--;let i=t.edges;if(i){for(let[e,n]of i)this._vertexCount-=n.length;t.clear()}}removeEdge(t,i){for(let[e,n]of t.edges){let r=n.indexOf(i);n.splice(r,1),n.length===0&&t.edges.delete(e)}}removeEdges(t,i){t.edges.delete(i)}getVertexValue(t){return t.value}*neighbours(t){for(let[i,e]of t.edges)for(let n of e)yield n}*neighboursAndEdges(t){for(let[i,e]of t.edges)for(let n of e)yield[n,i]}neighboursWithEdgeValue(t,i){return t.edges.get(i)}findNeighbour(t,i){return t.edges.get(i)?.[0]}findNeighbourValue(t,i){let e=this.findNeighbour(t,i);if(e)return this.getVertexValue(e)}findNeighbourWithValue(t,i,e){let n=e==null?this.neighbours(t):this.neighboursWithEdgeValue(t,e);if(n){for(let r of n)if(this.getVertexValue(r)===i)return r}}findVertexAlongEdge(t,i,e){if(e===this.cachedNeighboursEdge){let r;for(let a of i)if(r=(r??t).readCachedNeighbours()?.get(a),!r)return;return r}if(i.length===0)return;let n=t;for(let r of i){let a=n?this.neighboursWithEdgeValue(n,e):void 0;if(!a)return;n=a.find(s=>s.value===r)}return n}adjacent(t,i){for(let[e,n]of t.edges)if(n.includes(i))return!0;return!1}},Sle=class{constructor(t){this.value=t,this.edges=new Map}readCachedNeighbours(){return this._cachedNeighbours}updateCachedNeighbours(){return this._cachedNeighbours??(this._cachedNeighbours=new Map),this._cachedNeighbours}clear(){this.edges.clear(),this._cachedNeighbours?.clear()}},Q3=new Map,C2e=Symbol("ElementID"),Mle=1;function pn(t){let i=t.constructor,e=Object.hasOwn(i,"className")?i.className:i.name;if(!e)throw new Error(`The ${i} is missing the 'className' property.`);let n=(Q3.get(e)??0)+1;return Q3.set(e,n),`${e}-${n}`}function gh(){return`ag-charts-${Mle++}`}function ow(){return crypto.randomUUID?.()??Ile()}function Ile(){let t=new Uint8Array(16);crypto.getRandomValues(t),t[6]=t[6]&15|64,t[8]=t[8]&63|128;let i="";for(let e=0;e<t.length;e++)(e===4||e===6||e===8||e===10)&&(i+="-"),i+=t[e].toString(16).padStart(2,"0");return i}var TU=(t,i,e)=>{let n=t,r=n;for(let a of i)if(n==null||e(n.value,a)>0)n={value:a,next:n},r=n;else{for(r=r;r.next!=null&&e(r.next.value,a)<=0;)r=r.next;r.next={value:a,next:r.next}}return n},RU=/^(?:(.)?([<>=^]))?([+\-( ])?([$€£¥₣₹#])?(0)?(\d+)?(,)?(?:\.(\d+))?(~)?([%a-z])?$/i,OU=/^((?:[^#]|#[^{])*)#{([^}]+)}(.*)$/;function LU(t){if(!Gi(t))return!1;let i=OU.exec(t);return RU.test(i?i[2]:t)}function Rb(t){let i,e,n=OU.exec(t);n&&([,i,t,e]=n);let r=RU.exec(t);if(!r){j.warnOnce(`The number formatter is invalid: ${t}`);return}let[,a,s,o,l,c,d,u,h,m,p]=r;return{fill:a,align:s,sign:o,symbol:l,zero:c,width:parseInt(d),comma:u,precision:parseInt(h),trim:!!m,type:p,prefix:i,suffix:e}}function lw(t){let i=typeof t=="string"?Rb(t):t;if(i==null)return;let{fill:e,align:n,sign:r="-",symbol:a,zero:s,width:o,comma:l,type:c,prefix:d="",suffix:u="",precision:h}=i,{trim:m}=i,p=h==null||isNaN(h),g;if(!c)g=ks.g,m=!0;else if(c in ks&&c in zp)g=p?zp[c]:ks[c];else if(c in ks)g=ks[c];else if(c in zp)g=zp[c];else throw new Error(`The number formatter type is invalid: ${c}`);let b=c?6:12,v;return p||(v=h),(_,w)=>{let D=g(_,v??w??b);return m&&(D=Ele(D)),l&&(D=Tle(D,l)),D=Ole(_,D,r),a&&a!=="#"&&(D=`${a}${D}`),a==="#"&&c==="x"&&(D=`0x${D}`),c==="s"&&(D=`${D}${Rle(_)}`),(c==="%"||c==="p")&&(D=`${D}%`),o!=null&&!isNaN(o)&&(D=Lle(D,o,e??s,n)),D=`${d}${D}${u}`,D}}var zp={b:t=>KC(t).toString(2),c:t=>String.fromCharCode(t),d:t=>Math.round(Math.abs(t)).toFixed(0),o:t=>KC(t).toString(8),x:t=>KC(t).toString(16),X:t=>zp.x(t).toUpperCase(),n:t=>zp.d(t),"%":t=>`${KC(t*100).toFixed(0)}`},ks={e:(t,i)=>Math.abs(t).toExponential(i),E:(t,i)=>ks.e(t,i).toUpperCase(),f:(t,i)=>Math.abs(t).toFixed(i),F:(t,i)=>ks.f(t,i).toUpperCase(),g:(t,i)=>{if(t===0)return"0";let e=Math.abs(t),n=Math.floor(Math.log10(e));return n>=-4&&n<i?e.toFixed(i-1-n):e.toExponential(i-1)},G:(t,i)=>ks.g(t,i).toUpperCase(),n:(t,i)=>ks.g(t,i),p:(t,i)=>ks.r(t*100,i),r:(t,i)=>{if(t===0)return"0";let e=Math.abs(t),r=Math.floor(Math.log10(e))-(i-1);if(r<=0)return e.toFixed(-r);let a=10**r;return(Math.round(e/a)*a).toFixed()},s:(t,i)=>{let e=FU(t);return ks.r(t/10**e,i)},"%":(t,i)=>ks.f(t*100,i)},NU=-24,PU=24,kle={[NU]:"y",[-21]:"z",[-18]:"a",[-15]:"f",[-12]:"p",[-9]:"n",[-6]:"\xB5",[-3]:"m",0:"",3:"k",6:"M",9:"G",12:"T",15:"P",18:"E",21:"Z",[PU]:"Y"},Ale="\u2212";function KC(t){return Math.floor(Math.abs(t))}function Ele(t){if(!t.endsWith("0")||t.indexOf(".")===-1)return t;let i=t.length-1;for(;i>0;)if(t[i]=="0")i-=1;else if(t[i]=="."){i-=1;break}else break;return t.substring(0,i+1)}function Tle(t,i){let e=t.indexOf(".");e<0&&(e=t.length);let n=t.substring(0,e).split(""),r=t.substring(e);for(let a=n.length-3;a>0;a-=3)n.splice(a,0,i);return`${n.join("")}${r}`}function Rle(t){return kle[FU(t)]}function FU(t){return Ae(NU,t?Math.floor(Math.log10(Math.abs(t))/3)*3:0,PU)}function Ole(t,i,e=""){if(e==="(")return t>=0?i:`(${i})`;let n=e==="+"?"+":"";return`${t>=0?n:Ale}${i}`}function Lle(t,i,e=" ",n=">"){let r=t;if(n===">"||!n)r=r.padStart(i,e);else if(n==="<")r=r.padEnd(i,e);else if(n==="^"){let a=Math.max(0,i-r.length),s=Math.ceil(a/2),o=Math.floor(a/2);r=r.padStart(s+r.length,e),r=r.padEnd(o+r.length,e)}return r}var T5=Object.defineProperty,Nle=Object.getOwnPropertyDescriptor,Rl=(t,i)=>{for(var e in i)T5(t,e,{get:i[e],enumerable:!0})},y=(t,i,e,n)=>{for(var r=n>1?void 0:n?Nle(i,e):i,a=t.length-1,s;a>=0;a--)(s=t[a])&&(r=(n?s(i,e,r):s(r))||r);return n&&r&&T5(i,e,r),r},gD=class{constructor(){this.cleanup=new pt}destroy(){this.cleanup.flush()}},Ple=class{constructor(){this.modules=[],this.dependencies=new Map,this.modulesByOptionKey=new Map}register(...t){for(let i of t){this.registerDependencies(i);let e=this.modules.find(n=>i.type===n.type&&("optionsKey"in i&&"optionsKey"in n?i.optionsKey===n.optionsKey:!0)&&i.identifier===n.identifier);if(e){if(i.packageType==="enterprise"&&e.packageType==="community"){let n=this.modules.indexOf(e);this.modules.splice(n,1,i),"optionsKey"in i&&this.modulesByOptionKey.set(i.optionsKey,i)}}else this.modules.push(i),"optionsKey"in i&&this.modulesByOptionKey.set(i.optionsKey,i)}}hasEnterpriseModules(){return this.modules.some(t=>t.packageType==="enterprise")}*byType(...t){let i=new Set,e=this.modules.filter(a=>t.includes(a.type)),n=a=>{let s=this.dependencies.get(a);return s?.flatMap(n).concat(s)??[]},r=[];for(let a of e){let s="optionsKey"in a?a.optionsKey:a.contextKey;if(!i.has(s)){for(let o of n(s)){if(i.has(o))continue;let l=this.modulesByOptionKey.get(o);if(!l){r.push(o);continue}t.includes(l.type)&&(yield l,i.add(o))}yield a,i.add(s)}}if(r.length>0)throw new Error(`Could not resolve module dependencies: ${r}`)}registerDependencies(t){if(t.dependencies==null||t.dependencies.length===0)return;let i="optionsKey"in t?t.optionsKey:t.contextKey;this.dependencies.set(i,t.dependencies)}},kl=new Ple,yD=Symbol("interpolate"),Uw=t=>t[yD]!=null;function bD(t,i,e,n=1/0){let r={nearest:void 0,distanceSquared:n};for(let a of e){let s=a.distanceSquared(t,i);if(s===0)return{nearest:a,distanceSquared:0};s<r.distanceSquared&&(r.nearest=a,r.distanceSquared=s)}return r}function Fle(t,i,e,n=1/0){let{x:r=t,y:a=i}=e.transformPoint?.(t,i)??{},s={nearest:void 0,distanceSquared:n};for(let o of e.children){let{nearest:l,distanceSquared:c}=o.nearestSquared(r,a,s.distanceSquared);if(c===0)return{nearest:l,distanceSquared:c};c<s.distanceSquared&&(s.nearest=l,s.distanceSquared=c)}return s}var tv=class rf{constructor(i,e,n,r){this.x=i,this.y=e,this.width=n,this.height=r}static fromDOMRect({x:i,y:e,width:n,height:r}){return new rf(i,e,n,r)}static merge(i){let e=1/0,n=1/0,r=-1/0,a=-1/0;for(let s of i)s.x<e&&(e=s.x),s.y<n&&(n=s.y),s.x+s.width>r&&(r=s.x+s.width),s.y+s.height>a&&(a=s.y+s.height);return new rf(e,n,r-e,a-n)}static nearestBox(i,e,n){return bD(i,e,n)}toDOMRect(){return{x:this.x,y:this.y,width:this.width,height:this.height,top:this.y,left:this.x,right:this.x+this.width,bottom:this.y+this.height,toJSON(){return{}}}}clone(){let{x:i,y:e,width:n,height:r}=this;return new rf(i,e,n,r)}equals(i){return Kp(this,i)}containsPoint(i,e){return Yp(this,i,e)}intersection(i){if(!this.collidesBBox(i))return;let e=Ae(i.x,this.x,i.x+i.width),n=Ae(i.y,this.y,i.y+i.height),r=Ae(i.x,this.x+this.width,i.x+i.width),a=Ae(i.y,this.y+this.height,i.y+i.height);return new rf(e,n,r-e,a-n)}collidesBBox(i){return this.x<i.x+i.width&&this.x+this.width>i.x&&this.y<i.y+i.height&&this.y+this.height>i.y}computeCenter(){return{x:this.x+this.width/2,y:this.y+this.height/2}}isFinite(){return Number.isFinite(this.x)&&Number.isFinite(this.y)&&Number.isFinite(this.width)&&Number.isFinite(this.height)}distanceSquared(i,e){if(this.containsPoint(i,e))return 0;let n=i-Ae(this.x,i,this.x+this.width),r=e-Ae(this.y,e,this.y+this.height);return n*n+r*r}shrink(i,e){if(typeof i=="number")this.applyMargin(i,e);else for(let n of Object.keys(i)){let r=i[n];typeof r=="number"&&this.applyMargin(r,n)}return this.width<0&&(this.width=0),this.height<0&&(this.height=0),this}grow(i,e){if(typeof i=="number")this.applyMargin(-i,e);else for(let n of Object.keys(i)){let r=i[n];typeof r=="number"&&this.applyMargin(-r,n)}return this}applyMargin(i,e){switch(e){case"top":this.y+=i;case"bottom":this.height-=i;break;case"left":this.x+=i;case"right":this.width-=i;break;case"vertical":this.y+=i,this.height-=i*2;break;case"horizontal":this.x+=i,this.width-=i*2;break;case void 0:this.x+=i,this.y+=i,this.width-=i*2,this.height-=i*2;break}}translate(i,e){return this.x+=i,this.y+=e,this}[yD](i,e){return new rf(this.x*(1-e)+i.x*e,this.y*(1-e)+i.y*e,this.width*(1-e)+i.width*e,this.height*(1-e)+i.height*e)}};tv.zero=Object.freeze(new tv(0,0,0,0));tv.NaN=Object.freeze(new tv(NaN,NaN,NaN,NaN));var _e=tv,Vle=2e3,VU=Date.now(),Ble=()=>{let t=Date.now()-VU;if(t>Vle){let i=(Math.floor(t/100)/10).toFixed(1);j.log(`**** ${i}s since last log message ****`)}VU=Date.now()},bt={create(...t){return Object.assign((...e)=>{bt.check(...t)&&(typeof e[0]=="function"&&(e=fh(e[0]())),Ble(),j.log(...e))},{check:()=>bt.check(...t),group:(e,n)=>bt.check(...t)?j.logGroup(e,n):n()})},check(...t){return t.length===0&&t.push(!0),fh(Je("agChartsDebug")).some(e=>t.includes(e))},inDevelopmentMode(t){if(bt.check("dev"))return t()}};function R5({context:t,pixelRatio:i,width:e,height:n}){t.save();try{t.resetTransform(),t.clearRect(0,0,Math.ceil(e*i),Math.ceil(n*i))}finally{t.restore()}}function O5(t){if(bt.check("canvas")){let i=t.save.bind(t),e=t.restore.bind(t),n=0;Object.assign(t,{save(){i(),n++},restore(){if(n===0)throw new Error("AG Charts - Unable to restore() past depth 0");e(),n--},verifyDepthZero(){if(n!==0)throw new Error(`AG Charts - Save/restore depth is non-zero: ${n}`)}})}}function BU(t,i,e){return[Math.floor(t*e),Math.floor(i*e)]}var ER=class{constructor(t){let{width:i,height:e,pixelRatio:n,willReadFrequently:r=!1}=t;this.width=i,this.height=e,this.pixelRatio=n;let[a,s]=BU(i,e,n);this.canvas=new OffscreenCanvas(a,s),this.context=this.canvas.getContext("2d",{willReadFrequently:r}),this.context.setTransform(n,0,0,n,0,0),O5(this.context)}drawImage(t,i=0,e=0){return t.drawImage(this.canvas,i,e)}transferToImageBitmap(){return this.canvas.transferToImageBitmap()}resize(t,i,e){if(!(t>0&&i>0))return;let{canvas:n,context:r}=this;if(t!==this.width||i!==this.height||e!==this.pixelRatio){let[a,s]=BU(t,i,e);n.width=a,n.height=s}r.setTransform(e,0,0,e,0,0),this.width=t,this.height=i,this.pixelRatio=e}clear(){R5(this)}destroy(){this.canvas.width=0,this.canvas.height=0,this.context.clearRect(0,0,0,0),this.canvas=null,this.context=null,Object.freeze(this)}},z1=Symbol("BREAK"),Yb="__decorator_config",cw="__decorator_accessors";function jle(t,i){TR(t,i).optional=!0}function TR(t,i){if(Object.getOwnPropertyDescriptor(t,Yb)==null&&Object.defineProperty(t,Yb,{value:{}}),Object.getOwnPropertyDescriptor(t,cw)==null){let d=Object.getPrototypeOf(t)?.[cw]?.slice()??[];Object.defineProperty(t,cw,{value:d})}let e=t[Yb],n=i.toString();if(e[n]!=null)return e[n];e[n]={setters:[],getters:[],observers:[]};let r=Object.getOwnPropertyDescriptor(t,i),a=r?.get,s=r?.set;if(a==null||s==null){let c=t[cw],d=c.indexOf(i);d===-1&&(d=c.push(i)-1),a??(a=function(){let u=this.__accessors;return u==null&&(u=c.slice().fill(void 0),Object.defineProperty(this,"__accessors",{value:u})),u[d]}),s??(s=function(u){let h=this.__accessors;h==null&&(h=c.slice().fill(void 0),Object.defineProperty(this,"__accessors",{value:h})),h[d]=u})}return Object.defineProperty(t,i,{set:function(c){let{setters:d,observers:u}=e[n],h;d.some(m=>m.length>2)&&(h=a.call(this));for(let m of d)if(c=m(this,i,c,h),c===z1)return;s.call(this,c);for(let m of u)m(this,c,h)},get:function(){let c=a.call(this);for(let d of e[n].getters)if(c=d(this,i,c),c===z1)return;return c},enumerable:!0,configurable:!1}),e[n]}function Bh(t,i,e){return(n,r)=>{let a=TR(n,r);a.setters.push(t),i&&a.getters.unshift(i),e&&Object.assign(a,e)}}function L5(t){return(i,e)=>{TR(i,e).observers.push(t)}}function vD(t){return typeof t<"u"&&Yb in t}function Ud(t){let i=new Set;for(;vD(t);)i.add(t?.[Yb]),t=Object.getPrototypeOf(t);return Array.from(i).flatMap(e=>Object.keys(e))}function N5(t){return Ud(t).reduce((i,e)=>(i[String(e)]=t[e]??null,i),{})}function Ln(t,i){return Array.isArray(t)?!Array.isArray(i)||t.length!==i.length?!1:t.every((e,n)=>Ln(e,i[n])):yt(t)?yt(i)?RR(t,i,Ln):!1:t===i}function RR(t,i,e){if(Object.is(t,i))return!0;for(let n of Object.keys(i))if(!(n in t))return!1;for(let n of Object.keys(t))if(!(n in i)||!e(t[n],i[n]))return!1;return!0}function Xt(...t){let i={};for(let e of t){if(!$t(e))continue;let n=vD(e)?Ud(e):Object.keys(e);for(let r of n)yt(i[r])&&yt(e[r])?i[r]=Xt(i[r],e[r]):i[r]??(i[r]=e[r])}return i}function iv(...t){let i={};for(let e of t){if(!$t(e))continue;let n=vD(e)?Ud(e):Object.keys(e);for(let r of n)yt(i[r])&&yt(e[r])?i[r]=iv(i[r],e[r]):r in i||(i[r]??(i[r]=e[r]))}return i}function P5(t,...i){return i&&qe(t)?t.map(e=>Xt(e,...i)):t}function F5(t,i){let e={};for(let[n,r]of dr(t))e[n]=i(r,n,t);return e}function de(t,i){let e=f({},t);for(let n of i)delete e[n];return e}function U1(t,i){if(t==null)return;let e={};for(let n of i)Object.hasOwn(t,n)&&(e[n]=t[n]);return e}function OR(t,i){return(qe(i)?i:i.split(".")).reduce((n,r)=>n[r],t)}var LR=new Set(["__proto__","constructor","prototype"]);function NR(t,i,e){let n=qe(i)?i.slice():i.split("."),r=n.pop();if(n.some(s=>LR.has(s)))return;let a=n.reduce((s,o)=>s[o],t);return a[r]=e,a[r]}function H1(t,i,e){if(e===void 0)return i;for(let n of t){let r=e[n];r!==void 0&&(i[n]=r)}return i}function Cc(t){return t==null||typeof t!="object"||!yt(t)||(Object.freeze(t),Object.getOwnPropertyNames(t).forEach(i=>{let e=t[i];e!==null&&(typeof e=="object"||typeof e=="function")&&!Object.isFrozen(e)&&Cc(e)})),t}function V5(t,i){return yt(t)&&i in t}function zle(t,i){return V5(t,i)&&typeof t[i]=="string"}var Ff=(t,i)=>t===i;function ee(t){return function(i,e){let n=`__${e}`;i[e]||Ule(i,e,n,t)}}function B5(t){return ee(t)}function cs(t){return ee(t)}function PR(t){let i=t??{};return i.equals=Ta,ee(t)}function Ule(t,i,e,n){let{changeCb:r,convertor:a,checkDirtyOnAssignment:s=!1}=n??{},o={changeCb:r,checkDirtyOnAssignment:s,convertor:a},l=Wle(e,Gle(Hle($le(e,o),o),o),o);Object.defineProperty(t,i,{set:l,get:function(){return this[e]},enumerable:!0,configurable:!0})}function Hle(t,i){let{convertor:e}=i;return e?function(n){t.call(this,e(n))}:t}var j5=Symbol("no-change");function Gle(t,i){let{changeCb:e}=i;return e?function(n){let r=t.call(this,n);return r!==j5&&e.call(this,this),r}:t}function Wle(t,i,e){let{checkDirtyOnAssignment:n}=e;return n?function(r){let a=i.call(this,r);return r?._dirty===!0&&this.markDirty(t),a}:i}function $le(t,i){let{equals:e=Ff}=i;return function(n){let r=this[t];return e(n,r)?j5:(this[t]=n,this.onChangeDetection(t),n)}}var XT=(t,i)=>Math.sign(t-i);function z5(t,i){if(typeof t=="number"&&typeof i=="number")return XT(t,i);let e=typeof t=="number"?[t]:t,n=typeof i=="number"?[i]:i,r=Math.min(e.length,n.length);for(let a=0;a<r;a+=1){let s=XT(e[a],n[a]);if(s!==0)return s}return XT(e.length,n.length)}var U5=(t=>(t[t.All=0]="All",t[t.None=1]="None",t))(U5||{}),Yle=5,FR=(()=>{let t=class G1{constructor(e){this.serialNumber=G1._nextSerialNumber++,this.childNodeCounts={groups:0,nonGroups:0,thisComplexity:0,complexity:0},this.id=pn(this),this.name=void 0,this.transitionOut=void 0,this.pointerEvents=0,this._datum=void 0,this._previousDatum=void 0,this.scene=void 0,this._debugDirtyProperties=void 0,this.parentNode=void 0,this.cachedBBox=void 0,this.isContainerNode=!1,this.visible=!0,this.zIndex=0,this.batchLevel=0,this.batchDirty=!1,this.name=e?.name,this.tag=e?.tag??NaN,this.zIndex=e?.zIndex??0,this.scene=e?.scene,(e?.debugDirty??G1._debugEnabled)&&(this._debugDirtyProperties=new Map([["__first__",[]]]))}static toSVG(e,n,r){let a=e?.toSVG();if(a==null||!a.elements.length&&!a.defs?.length)return;let s=qt("svg");if(s.setAttribute("width",String(n)),s.setAttribute("height",String(r)),s.setAttribute("viewBox",`0 0 ${n} ${r}`),s.setAttribute("overflow","visible"),a.defs?.length){let o=qt("defs");o.append(...a.defs),s.append(o)}return s.append(...a.elements),s.outerHTML}static*extractBBoxes(e,n){for(let r of e)if(!n||r.visible&&!r.transitionOut){let a=r.getBBox();a&&(yield a)}}get datum(){return this._datum}set datum(e){this._datum!==e&&(this._previousDatum=this._datum,this._datum=e)}get previousDatum(){return this._previousDatum}get layerManager(){return this.scene?.layersManager}get imageLoader(){return this.scene?.imageLoader}closestDatum(){for(let{datum:e}of this.traverseUp(!0))if(e!=null)return e}preRender(e,n=1){if(this.childNodeCounts.groups=0,this.childNodeCounts.nonGroups=1,this.childNodeCounts.complexity=n,this.childNodeCounts.thisComplexity=n,this.batchLevel>0||this.batchDirty)throw new Error("AG Charts - illegal rendering state; batched update in progress");return this.childNodeCounts}isolatedRender(e){e.ctx.save();try{this.render(e)}catch(n){let r=n.errorCount??1;if(r>=Yle)throw n.errorCount=r,n;j.warnOnce("Error during rendering",n,n.stack)}finally{e.ctx.restore()}}render(e){let{stats:n}=e;if(this.debugDirtyProperties(),e.debugNodeSearch){let r=this.name??this.id;e.debugNodeSearch.some(a=>typeof a=="string"?a===r:a.test(r))&&(e.debugNodes[this.name??this.id]=this)}n&&(n.nodesRendered++,n.opsPerformed+=this.childNodeCounts.thisComplexity)}setScene(e){this.scene=e}*traverseUp(e){let n=this;for(e&&(yield n);n=n.parentNode;)yield n}isRoot(){return!this.parentNode}removeChild(e){throw new Error(`AG Charts - internal error, unknown child node ${e.name??e.id} in $${this.name??this.id}`)}remove(){this.parentNode?.removeChild(this)}destroy(){this.parentNode?.removeChild(this)}batchedUpdate(e){this.batchLevel++,e(),this.batchLevel--,this.batchLevel===0&&this.batchDirty&&(this.markDirty(),this.batchDirty=!1)}setProperties(e){return this.batchLevel++,Object.assign(this,e),this.batchLevel--,this.batchLevel===0&&this.batchDirty&&(this.markDirty(),this.batchDirty=!1),this}containsPoint(e,n){return!1}pickNode(e,n){if(this.containsPoint(e,n))return this}pickNodes(e,n,r=[]){return this.containsPoint(e,n)&&r.push(this),r}getBBox(){return this.cachedBBox??(this.cachedBBox=Object.freeze(this.computeBBox())),this.cachedBBox}computeBBox(){}onChangeDetection(e){this.markDirty(e)}markDirtyChildrenOrder(){this.cachedBBox=void 0}markDirty(e){if(this.batchLevel>0){this.batchDirty=!0;return}e!=null&&this._debugDirtyProperties&&this.markDebugProperties(e),this.cachedBBox=void 0,this.parentNode?.markDirty()}markDebugProperties(e){let n=this._debugDirtyProperties?.get(e)??[],r=new Error().stack?.split(`
`).filter(a=>a!=="Error"&&!a.includes(".markDebugProperties")&&!a.includes(".markDirty")&&!a.includes("Object.assign ")&&!a.includes(`${this.constructor.name}.`))??"unknown";n.push(r[0].replace(" at ","").trim()),this._debugDirtyProperties?.set(e,n)}debugDirtyProperties(){this._debugDirtyProperties!=null&&(this._debugDirtyProperties.has("__first__")||this._debugDirtyProperties.forEach((e,n)=>{e.length>1&&(console.groupCollapsed(`Property changed multiple times before render: ${this.constructor.name}.${n} (${e.length}x)`),e.forEach(r=>console.log(r)),console.groupEnd())}),this._debugDirtyProperties.clear())}onZIndexChange(){this.parentNode?.markDirtyChildrenOrder()}toSVG(){}};return t._nextSerialNumber=0,t._debugEnabled=!1,t})();y([ee()],FR.prototype,"visible",2);y([cs({equals:Ln,changeCb:t=>t.onZIndexChange()})],FR.prototype,"zIndex",2);var Ic=FR,Ps=Math.PI*2,Ob=Math.PI/2;function Dn(t){return t%=Ps,t+=Ps,t%=Ps,t}function Kle(t){return t%=Ps,t+=Ps,t!==Ps&&(t%=Ps),t}function Hw(t){return t%=Ps,t<-Math.PI?t+=Ps:t>=Math.PI&&(t-=Ps),t}function Th(t,i,e){let n=Dn(t),r=Dn(i),a=Dn(e);return r<a?r<=n&&n<=a:r>a?r<=n||n<=a:i!==e}function Ar(t){return t/180*Math.PI}function qle(t){return t/Math.PI*180}function _D(t,i){return t=Dn(t),i=Dn(i),i-t+(t>i?Ps:0)}function H5(t){let i=Dn(t);return i<=Ob?i/Ob:i<=Math.PI?(Math.PI-i)/Ob:i<=1.5*Math.PI?(i-Math.PI)/Ob:(Ps-i)/Ob}function W1(t,i,e){let n=H5(e);return t*n+i*Math.abs(1-n)}function kc(t){return t?Dn(Ar(t)):0}var yh=(t,i,e)=>t*(1-e)+i*e,JT=t=>{let i=t<0?-1:1,e=Math.abs(t);return e<=.04045?t/12.92:i*((e+.055)/1.055)**2.4},e1=t=>{let i=t<0?-1:1,e=Math.abs(t);return e>.0031308?i*(1.055*e**(1/2.4)-.055):12.92*t},Zle=(()=>{let t=class ni{constructor(e,n,r,a=1){this.r=Ae(0,e||0,1),this.g=Ae(0,n||0,1),this.b=Ae(0,r||0,1),this.a=Ae(0,a||0,1)}static validColorString(e){return e.indexOf("#")>=0?!!ni.parseHex(e):e.indexOf("rgb")>=0?!!ni.stringToRgba(e):ni.nameToHex.has(e.toLowerCase())}static fromString(e){if(e.indexOf("#")>=0)return ni.fromHexString(e);let n=ni.nameToHex.get(e.toLowerCase());if(n)return ni.fromHexString(n);if(e.indexOf("rgb")>=0)return ni.fromRgbaString(e);throw new Error(`Invalid color string: '${e}'`)}static parseHex(e){e=e.replace(/ /g,"").slice(1);let n;switch(e.length){case 6:case 8:n=[];for(let r=0;r<e.length;r+=2)n.push(parseInt(`${e[r]}${e[r+1]}`,16));break;case 3:case 4:n=e.split("").map(r=>parseInt(r,16)).map(r=>r+r*16);break}if(n?.length>=3&&n.every(r=>r>=0))return n.length===3&&n.push(255),n}static fromHexString(e){let n=ni.parseHex(e);if(n){let[r,a,s,o]=n;return new ni(r/255,a/255,s/255,o/255)}throw new Error(`Malformed hexadecimal color string: '${e}'`)}static stringToRgba(e){let n=-1,r=-1;for(let l=0;l<e.length;l++){let c=e[l];if(n===-1&&c==="(")n=l;else if(c===")"){r=l;break}}if(n===-1||r===-1)return;let s=e.substring(n+1,r).split(","),o=[];for(let l=0;l<s.length;l++){let c=s[l],d=parseFloat(c);if(!Number.isFinite(d))return;c.indexOf("%")>=0?(d=Ae(0,d,100),d/=100):l===3?d=Ae(0,d,1):(d=Ae(0,d,255),d/=255),o.push(d)}return o}static fromRgbaString(e){let n=ni.stringToRgba(e);if(n){if(n.length===3)return new ni(n[0],n[1],n[2]);if(n.length===4)return new ni(n[0],n[1],n[2],n[3])}throw new Error(`Malformed rgb/rgba color string: '${e}'`)}static fromArray(e){if(e.length===4)return new ni(e[0],e[1],e[2],e[3]);if(e.length===3)return new ni(e[0],e[1],e[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")}static fromHSB(e,n,r,a=1){let s=ni.HSBtoRGB(e,n,r);return new ni(s[0],s[1],s[2],a)}static fromHSL(e,n,r,a=1){let s=ni.HSLtoRGB(e,n,r);return new ni(s[0],s[1],s[2],a)}static fromOKLCH(e,n,r,a=1){let s=ni.OKLCHtoRGB(e,n,r);return new ni(s[0],s[1],s[2],a)}static padHex(e){return e.length===1?"0"+e:e}toHexString(){let e="#"+ni.padHex(Math.round(this.r*255).toString(16))+ni.padHex(Math.round(this.g*255).toString(16))+ni.padHex(Math.round(this.b*255).toString(16));return this.a<1&&(e+=ni.padHex(Math.round(this.a*255).toString(16))),e}toRgbaString(e=3){let n=[Math.round(this.r*255),Math.round(this.g*255),Math.round(this.b*255)],r=Math.pow(10,e);return this.a!==1?(n.push(Math.round(this.a*r)/r),`rgba(${n.join(", ")})`):`rgb(${n.join(", ")})`}toString(){return this.a===1?this.toHexString():this.toRgbaString()}toHSB(){return ni.RGBtoHSB(this.r,this.g,this.b)}static RGBtoOKLCH(e,n,r){let a=JT(e),s=JT(n),o=JT(r),l=Math.cbrt(.4122214708*a+.5363325363*s+.0514459929*o),c=Math.cbrt(.2119034982*a+.6806995451*s+.1073969566*o),d=Math.cbrt(.0883024619*a+.2817188376*s+.6299787005*o),u=.2104542553*l+.793617785*c-.0040720468*d,h=1.9779984951*l-2.428592205*c+.4505937099*d,m=.0259040371*l+.7827717662*c-.808675766*d,p=Math.atan2(m,h)*180/Math.PI,g=u,b=Math.hypot(h,m),v=p>=0?p:p+360;return[g,b,v]}static OKLCHtoRGB(e,n,r){let a=e,s=n*Math.cos(r*Math.PI/180),o=n*Math.sin(r*Math.PI/180),l=(a+.3963377774*s+.2158037573*o)**3,c=(a-.1055613458*s-.0638541728*o)**3,d=(a-.0894841775*s-1.291485548*o)**3,u=4.0767416621*l-3.3077115913*c+.2309699292*d,h=-1.2684380046*l+2.6097574011*c-.3413193965*d,m=-.0041960863*l-.7034186147*c+1.707614701*d,p=e1(u),g=e1(h),b=e1(m);return[p,g,b]}static RGBtoHSL(e,n,r){let a=Math.min(e,n,r),s=Math.max(e,n,r),o=(s+a)/2,l,c;if(s===a)l=0,c=0;else{let d=s-a;c=o>.5?d/(2-s-a):d/(s+a),s===e?l=(n-r)/d+(n<r?6:0):s===n?l=(r-e)/d+2:l=(e-n)/d+4,l*=60}return[l,c,o]}static HSLtoRGB(e,n,r){if(e=(e%360+360)%360,n===0)return[r,r,r];let a=r<.5?r*(1+n):r+n-r*n,s=2*r-a;function o(u){return u<0&&(u+=1),u>1&&(u-=1),u<.16666666666666666?s+(a-s)*6*u:u<.5?a:u<.6666666666666666?s+(a-s)*(.6666666666666666-u)*6:s}let l=o(e/360+1/3),c=o(e/360),d=o(e/360-1/3);return[l,c,d]}static RGBtoHSB(e,n,r){let a=Math.min(e,n,r),s=Math.max(e,n,r),o=s===0?0:(s-a)/s,l=0;if(a!==s){let c=s-a,d=(s-e)/c,u=(s-n)/c,h=(s-r)/c;e===s?l=h-u:n===s?l=2+d-h:l=4+u-d,l/=6,l<0&&(l=l+1)}return[l*360,o,s]}static HSBtoRGB(e,n,r){e=(e%360+360)%360/360;let a=0,s=0,o=0;if(n===0)a=s=o=r;else{let l=(e-Math.floor(e))*6,c=l-Math.floor(l),d=r*(1-n),u=r*(1-n*c),h=r*(1-n*(1-c));switch(l>>0){case 0:a=r,s=h,o=d;break;case 1:a=u,s=r,o=d;break;case 2:a=d,s=r,o=h;break;case 3:a=d,s=u,o=r;break;case 4:a=h,s=d,o=r;break;case 5:a=r,s=d,o=u;break}}return[a,s,o]}static mix(e,n,r){return new ni(yh(e.r,n.r,r),yh(e.g,n.g,r),yh(e.b,n.b,r),yh(e.a,n.a,r))}static lighten(e,n){let r=ni.RGBtoOKLCH(e.r,e.g,e.b);return ni.fromOKLCH(Ae(0,r[0]+n,1),r[1],r[2])}static darken(e,n){let r=ni.RGBtoOKLCH(e.r,e.g,e.b);return ni.fromOKLCH(Ae(0,r[0]-n,1),r[1],r[2])}static interpolate(e,n){let r=1/(e.length-1),a=e.map(s=>ni.RGBtoOKLCH(s.r,s.g,s.b));return Array.from({length:n},(s,o)=>{let l=o/(n-1),c=e.length<=2?0:Math.min(Math.floor(l*(e.length-1)),e.length-2),d=(l-c*r)/r,u=a[c],h=a[c+1];return ni.fromOKLCH(yh(u[0],h[0],d),yh(u[1],h[1],d),yh(u[2],h[2],d))})}};return t.nameToHex=new Map([["aliceblue","#F0F8FF"],["antiquewhite","#FAEBD7"],["aqua","#00FFFF"],["aquamarine","#7FFFD4"],["azure","#F0FFFF"],["beige","#F5F5DC"],["bisque","#FFE4C4"],["black","#000000"],["blanchedalmond","#FFEBCD"],["blue","#0000FF"],["blueviolet","#8A2BE2"],["brown","#A52A2A"],["burlywood","#DEB887"],["cadetblue","#5F9EA0"],["chartreuse","#7FFF00"],["chocolate","#D2691E"],["coral","#FF7F50"],["cornflowerblue","#6495ED"],["cornsilk","#FFF8DC"],["crimson","#DC143C"],["cyan","#00FFFF"],["darkblue","#00008B"],["darkcyan","#008B8B"],["darkgoldenrod","#B8860B"],["darkgray","#A9A9A9"],["darkgreen","#006400"],["darkgrey","#A9A9A9"],["darkkhaki","#BDB76B"],["darkmagenta","#8B008B"],["darkolivegreen","#556B2F"],["darkorange","#FF8C00"],["darkorchid","#9932CC"],["darkred","#8B0000"],["darksalmon","#E9967A"],["darkseagreen","#8FBC8F"],["darkslateblue","#483D8B"],["darkslategray","#2F4F4F"],["darkslategrey","#2F4F4F"],["darkturquoise","#00CED1"],["darkviolet","#9400D3"],["deeppink","#FF1493"],["deepskyblue","#00BFFF"],["dimgray","#696969"],["dimgrey","#696969"],["dodgerblue","#1E90FF"],["firebrick","#B22222"],["floralwhite","#FFFAF0"],["forestgreen","#228B22"],["fuchsia","#FF00FF"],["gainsboro","#DCDCDC"],["ghostwhite","#F8F8FF"],["gold","#FFD700"],["goldenrod","#DAA520"],["gray","#808080"],["green","#008000"],["greenyellow","#ADFF2F"],["grey","#808080"],["honeydew","#F0FFF0"],["hotpink","#FF69B4"],["indianred","#CD5C5C"],["indigo","#4B0082"],["ivory","#FFFFF0"],["khaki","#F0E68C"],["lavender","#E6E6FA"],["lavenderblush","#FFF0F5"],["lawngreen","#7CFC00"],["lemonchiffon","#FFFACD"],["lightblue","#ADD8E6"],["lightcoral","#F08080"],["lightcyan","#E0FFFF"],["lightgoldenrodyellow","#FAFAD2"],["lightgray","#D3D3D3"],["lightgreen","#90EE90"],["lightgrey","#D3D3D3"],["lightpink","#FFB6C1"],["lightsalmon","#FFA07A"],["lightseagreen","#20B2AA"],["lightskyblue","#87CEFA"],["lightslategray","#778899"],["lightslategrey","#778899"],["lightsteelblue","#B0C4DE"],["lightyellow","#FFFFE0"],["lime","#00FF00"],["limegreen","#32CD32"],["linen","#FAF0E6"],["magenta","#FF00FF"],["maroon","#800000"],["mediumaquamarine","#66CDAA"],["mediumblue","#0000CD"],["mediumorchid","#BA55D3"],["mediumpurple","#9370DB"],["mediumseagreen","#3CB371"],["mediumslateblue","#7B68EE"],["mediumspringgreen","#00FA9A"],["mediumturquoise","#48D1CC"],["mediumvioletred","#C71585"],["midnightblue","#191970"],["mintcream","#F5FFFA"],["mistyrose","#FFE4E1"],["moccasin","#FFE4B5"],["navajowhite","#FFDEAD"],["navy","#000080"],["oldlace","#FDF5E6"],["olive","#808000"],["olivedrab","#6B8E23"],["orange","#FFA500"],["orangered","#FF4500"],["orchid","#DA70D6"],["palegoldenrod","#EEE8AA"],["palegreen","#98FB98"],["paleturquoise","#AFEEEE"],["palevioletred","#DB7093"],["papayawhip","#FFEFD5"],["peachpuff","#FFDAB9"],["peru","#CD853F"],["pink","#FFC0CB"],["plum","#DDA0DD"],["powderblue","#B0E0E6"],["purple","#800080"],["rebeccapurple","#663399"],["red","#FF0000"],["rosybrown","#BC8F8F"],["royalblue","#4169E1"],["saddlebrown","#8B4513"],["salmon","#FA8072"],["sandybrown","#F4A460"],["seagreen","#2E8B57"],["seashell","#FFF5EE"],["sienna","#A0522D"],["silver","#C0C0C0"],["skyblue","#87CEEB"],["slateblue","#6A5ACD"],["slategray","#708090"],["slategrey","#708090"],["snow","#FFFAFA"],["springgreen","#00FF7F"],["steelblue","#4682B4"],["tan","#D2B48C"],["teal","#008080"],["thistle","#D8BFD8"],["tomato","#FF6347"],["transparent","#00000000"],["turquoise","#40E0D0"],["violet","#EE82EE"],["wheat","#F5DEB3"],["white","#FFFFFF"],["whitesmoke","#F5F5F5"],["yellow","#FFFF00"],["yellowgreen","#9ACD32"]]),t})(),wi=Zle,G5=(t=>(t[t.Leading=0]="Leading",t[t.Trailing=1]="Trailing",t[t.Interpolate=2]="Interpolate",t))(G5||{}),xD=class{ticks(t,i,e){}niceDomain(t,i=this.domain){return i}get bandwidth(){}get step(){}get inset(){}},Sv=(t,i)=>{let e=Symbol(String(i));t[e]=void 0,Object.defineProperty(t,i,{get(){return this[e]},set(n){this[e]!==n&&(this[e]=n,this.invalid=!0)},enumerable:!0,configurable:!1})},jU=t=>{let i=wi.fromString(t),[e,n,r]=wi.RGBtoOKLCH(i.r,i.g,i.b);return{l:e,c:n,h:r,a:i.a}},t1=1e-6,zU=t=>t.c<t1||t.l<t1||t.l>1-t1,Qle=(t,i,e)=>{e=Ae(0,e,1);let n;if(zU(t))n=i.h;else if(zU(i))n=t.h;else{let o=t.h,l=i.h,c=i.h-t.h;c>180?l-=360:c<-180&&(l+=360),n=o*(1-e)+l*e}let r=t.c*(1-e)+i.c*e,a=t.l*(1-e)+i.l*e,s=t.a*(1-e)+i.a*e;return wi.fromOKLCH(a,r,n,s)},Vf=class extends xD{constructor(){super(...arguments),this.type="color",this.defaultTickCount=0,this.invalid=!0,this.domain=[0,1],this.range=["red","blue"],this.parsedRange=this.range.map(jU)}update(){let{domain:t,range:i}=this;t.length<2&&(j.warnOnce("`colorDomain` should have at least 2 values."),t.length===0?t.push(0,1):t.length===1&&t.push(t[0]+1));for(let e=1;e<t.length;e++){let n=t[e-1],r=t[e];if(n>r){j.warnOnce("`colorDomain` values should be supplied in ascending order."),t.sort((a,s)=>a-s);break}}if(i.length<t.length)for(let e=i.length;e<t.length;e++)i.push(i.length>0?i[0]:"black");this.parsedRange=this.range.map(jU)}normalizeDomains(...t){return{domain:t.flat(),animatable:!0}}toDomain(){}convert(t){this.refresh();let{domain:i,range:e,parsedRange:n}=this,r=i[0],a=i.at(-1),s=e[0],o=e[e.length-1];if(t<=r)return s;if(t>=a)return o;let l,c;if(i.length===2){let h=(t-r)/(a-r),m=1/(e.length-1);l=e.length<=2?0:Math.min(Math.floor(h*(e.length-1)),e.length-2),c=(h-l*m)/m}else{for(l=0;l<i.length-2&&!(t<i[l+1]);l++);let h=i[l],m=i[l+1];c=(t-h)/(m-h)}let d=n[l],u=n[l+1];return Qle(d,u,c).toRgbaString()}invert(){}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&j.warnOnce("Expected update to not invalidate scale"))}};y([Sv],Vf.prototype,"domain",2);y([Sv],Vf.prototype,"range",2);var CD=class{constructor(t,i=[],e){this.colorSpace=t,this.stops=i,this.bbox=e,this._cache=void 0}createGradient(t,i,e){let n=this.bbox??i;if(!n.isFinite())return;if(this._cache!=null&&this._cache.ctx===t&&this._cache.bbox.equals(n))return this._cache.gradient;let{stops:r,colorSpace:a}=this;if(r.length===0)return;if(r.length===1)return r[0].color;let s=this.createCanvasGradient(t,n,e);if(s==null)return;let o=a==="oklch",l=.05,c=r[0];s.addColorStop(c.stop,c.color);for(let d=1;d<r.length;d+=1){let u=r[d];if(o){let h=new Vf;h.domain=[c.stop,u.stop],h.range=[c.color,u.color];for(let m=c.stop+l;m<u.stop;m+=l)s.addColorStop(m,h.convert(m))}s.addColorStop(u.stop,u.color),c=u}return"createPattern"in s&&(s=s.createPattern()),this._cache={ctx:t,bbox:n,gradient:s},s}toSvg(t){let i=this.bbox??t,e=this.createSvgGradient(i);return this.stops.forEach(({stop:n,color:r})=>{let a=qt("stop");a.setAttribute("offset",`${n}`),a.setAttribute("stop-color",`${r}`),e.appendChild(a)}),e}},W5=class extends CD{constructor(t,i,e=0,n){super(t,i,n),this.angle=e}createCanvasGradient(t,i,e){let{angle:r}=this,a=kc(r+-90),s=e?.centerX??i.x+i.width*.5,o=e?.centerY??i.y+i.height*.5;return t.createConicGradient(a,s,o)}createSvgGradient(t){return qt("linearGradient")}},$5=class extends CD{constructor(t,i,e=0,n){super(t,i,n),this.angle=e}getGradientPoints(t){let{angle:e}=this,n=kc(e+90),r=Math.cos(n),a=Math.sin(n),s=t.width,o=t.height,l=t.x+s*.5,c=t.y+o*.5,d=Math.sqrt(o*o+s*s)/2,u=Math.atan2(o,s),h;n<Math.PI/2?h=n:n<Math.PI?h=Math.PI-n:n<1.5*Math.PI?h=n-Math.PI:h=2*Math.PI-n;let m=d*Math.abs(Math.cos(h-u));return{x0:l+r*m,y0:c+a*m,x1:l-r*m,y1:c-a*m}}createCanvasGradient(t,i){let{x0:e,y0:n,x1:r,y1:a}=this.getGradientPoints(i);if(!(isNaN(e)||isNaN(n)||isNaN(r)||isNaN(a)))return t.createLinearGradient(e,n,r,a)}createSvgGradient(t){let{x0:i,y0:e,x1:n,y1:r}=this.getGradientPoints(t),a=qt("linearGradient");return a.setAttribute("x1",String(i)),a.setAttribute("y1",String(e)),a.setAttribute("x2",String(n)),a.setAttribute("y2",String(r)),a.setAttribute("gradientUnits","userSpaceOnUse"),a}},Xle=class extends CD{constructor(t,i,e){super(t,i,e)}createCanvasGradient(t,i,e){let n=e?.centerX??i.x+i.width*.5,r=e?.centerY??i.y+i.height*.5,a=e?.innerRadius??0,s=e?.outerRadius??Math.hypot(i.width*.5,i.height*.5)/Math.SQRT2;return t.createRadialGradient(n,r,a,n,r,s)}createSvgGradient(t){let i=t.x+t.width*.5,e=t.y+t.height*.5,n=qt("radialGradient");return n.setAttribute("cx",String(i)),n.setAttribute("cy",String(e)),n.setAttribute("r",String(Math.hypot(t.width*.5,t.height*.5)/Math.SQRT2)),n.setAttribute("gradientUnits","userSpaceOnUse"),n}},C=jle,tt=class{handleUnknownProperties(t,i){}set(t){let{className:i=this.constructor.name}=this.constructor;if(t==null)return this.clear(),this;if(typeof t!="object")return j.warn(`unable to set ${i} - expecting a properties object`),this;let e=new Set(Object.keys(t));for(let n of Ud(this))if(e.has(n)){let r=t[n],a=this;if(Lh(a[n]))if(a[n]instanceof Mv){let s=a[n].reset(r);s==null?j.warn(`unable to set [${String(n)}] - expecting a properties array`):a[n]=s}else a[n].set(r);else yt(r)?a[n]=iv(r,a[n]??{}):a[n]=r;e.delete(n)}this.handleUnknownProperties(e,t);for(let n of e)j.warn(`unable to set [${String(n)}] in ${i} - property is unknown`);return this}clear(){for(let t of Ud(this)){let i=this[t];Lh(i)?i.clear():this[t]=void 0}return this}toJson(){return Ud(this).reduce((t,i)=>{let e=this[i];return t[String(i)]=Lh(e)?e.toJson():e,t},{})}},Mv=class Y5 extends Array{constructor(i,...e){super(e.length);let r=(a=>!!a?.prototype?.constructor?.name)(i)?a=>new i().set(a):i;Object.defineProperty(this,"itemFactory",{value:r,enumerable:!1,configurable:!1}),this.set(e)}set(i){if(qe(i)){this.length=i.length;for(let e=0;e<i.length;e++)this[e]=this.itemFactory(i[e])}return this}reset(i){if(Array.isArray(i))return new Y5(this.itemFactory,...i)}toJson(){return this.map(i=>i?.toJson?.()??i)}};function Lh(t){return t instanceof tt||t instanceof Mv}var VR=class extends tt{constructor(){super(...arguments),this.color="black"}};y([C],VR.prototype,"stop",2);y([C],VR.prototype,"color",2);function Jle(t){let i;for(let e of t)if(e?.stop!=null){if(i!=null&&e.stop<i)return!1;i=e.stop}return!0}function K5(t){return t.flatMap((i,e)=>{let{stop:n}=i,r=t.at(e+1)?.color;return r!=null?[i,{stop:n,color:r}]:[i]})}function ece(t,i){let e=i==="discrete"?1:0,n=t.map((r,a,{length:s})=>({stop:(a+e)/(s-1+e),color:r}));return i==="discrete"?K5(n):n}function q5(t,i,e,n="continuous"){let r=t.map(p=>typeof p=="string"?{color:p}:p);if(r.length===0)return ece(i,n);if(!Jle(r))return j.warnOnce("[fills] must have the stops defined in ascending order"),[];let a=Math.min(...e),s=Math.max(...e),o=n==="discrete",l=new Float64Array(r.length),c=0,d=-1;for(let p=0;p<r.length;p+=1){let g=r[p];if(p>=d){d=r.length-1;for(let v=p+1;v<r.length;v+=1)if(r[v]?.stop!=null){d=v;break}}let b=g?.stop;if(b==null){let v=r[c]?.stop,_=r[d]?.stop,w=v??a,D=_??s,I=o&&v==null?1:0;b=w+(D-w)*(p-c+I)/(d-c+I)}else c=p;l[p]=Math.max(0,Math.min(1,(b-a)/(s-a)))}let u=r.find(p=>p.color!=null)?.color,h,m=r.map((p,g)=>{let b=p?.color,v=l[g];return b!=null?u=b:u!=null?b=u:(h==null&&(h=new Vf,h.domain=[0,1],h.range=i),b=h.convert(v)),{stop:v,color:b}});return n==="discrete"?K5(m):m}var tce=class{constructor(t,i){this.imageLoader=t,this._cache=void 0,this.url=i.url,this.backgroundFill=i.backgroundFill??"black",this.backgroundFillOpacity=i.backgroundFillOpacity??1,this.repeat=i.repeat??"no-repeat",this.width=i.width,this.height=i.height,this.fit=i.fit??"stretch",this.rotation=i.rotation??0}createCanvasImage(t,i,e,n){if(!i)return null;let[r,a]=this.getSize(i.width,i.height,e,n);return r<1||a<1?(j.warnOnce("Image fill is too small to render, ignoring."),null):t.createPattern(i,this.repeat)}getSize(t,i,e,n){let{fit:r}=this,a=t,s=i,o=1,l=e/n,c=t/i;return r==="stretch"||t===0||i===0?(a=e,s=n):r==="contain"?o=c>l?e/t:n/i:r==="cover"&&(o=c>l?n/i:e/t),[Math.max(1,a*o),Math.max(1,s*o)]}setImageTransform(t,i){if(typeof t=="string")return;let{url:e,rotation:n,width:r,height:a}=this,s=this.imageLoader?.loadImage(e);if(!s)return;let o=kc(n),l=Math.cos(o),c=Math.sin(o),[d,u]=this.getSize(s.width,s.height,r??i.width,a??i.height),h=d/s.width,m=u/s.height,p=i.x+i.width/2,g=i.y+i.height/2,b=l*d-c*u,v=c*d+l*u,_=b/2,w=v/2;t?.setTransform(new DOMMatrix([l*h,c*m,-c*h,l*m,p-_,g-w]))}createPattern(t,i,e,n){let r=this.width??i,a=this.height??e,s=this._cache;if(s!=null&&s.ctx===t&&s.width===r&&s.height===a)return s.pattern;let o=this.imageLoader?.loadImage(this.url,n),l=this.createCanvasImage(t,o,r,a);if(l!=null)return this._cache={ctx:t,pattern:l,width:r,height:a},l}toSvg(t,i){let{url:e,rotation:n,backgroundFill:r,backgroundFillOpacity:a}=this,{x:s,y:o,width:l,height:c}=t,d=qt("pattern");d.setAttribute("viewBox",`0 0 ${l} ${c}`),d.setAttribute("x",String(s)),d.setAttribute("y",String(o)),d.setAttribute("width",String(l)),d.setAttribute("height",String(c)),d.setAttribute("patternUnits","userSpaceOnUse");let u=qt("rect");u.setAttribute("x","0"),u.setAttribute("y","0"),u.setAttribute("width",String(l)),u.setAttribute("height",String(c)),u.setAttribute("fill",r),u.setAttribute("fill-opacity",String(a)),d.appendChild(u);let h=qt("image");return h.setAttribute("href",e),h.setAttribute("x","0"),h.setAttribute("y","0"),h.setAttribute("width",String(l)),h.setAttribute("height",String(c)),h.setAttribute("preserveAspectRatio","none"),h.setAttribute("transform",`scale(${1/i}) rotate(${n}, ${l/2}, ${c/2})`),d.appendChild(h),d}};function UU(t,i,e,n){let r=t-e,a=i-n;return r*r+a*a}function Gw(t,i,e,n,r,a,s){if(e===r&&n===a)return Math.min(s,UU(t,i,e,n));let o=r-e,l=a-n,c=Math.max(0,Math.min(1,((t-e)*o+(i-n)*l)/(o*o+l*l))),d=e+c*o,u=n+c*l;return Math.min(s,UU(t,i,d,u))}var ice=/^[\t\n\f\r ]*([achlmqstvz])[\t\n\f\r ]*/i,Ri=/^[+-]?((\d*\.\d+)|(\d+\.)|(\d+))(e[+-]?\d+)?/i,nce=/[\t\n\f\r ]*,?[\t\n\f\r ]*/,HU=/^[01]/,rce={z:[],h:[Ri],v:[Ri],m:[Ri,Ri],l:[Ri,Ri],t:[Ri,Ri],s:[Ri,Ri,Ri,Ri],q:[Ri,Ri,Ri,Ri],c:[Ri,Ri,Ri,Ri,Ri,Ri],a:[Ri,Ri,Ri,HU,HU,Ri,Ri]};function ace(t){if(!t)return;let i=[],e=0,n;for(;e<t.length;){let r=ice.exec(t.slice(e)),a;if(r==null){if(!n){j.warnOnce(`Invalid SVG path, error at index ${e}: Missing command.`);return}a=n}else a=r[1],e+=r[0].length;let s=sce(a,t,e);if(!s)return;e=s[0],n=a,i.push(s[1])}return i}function sce(t,i,e){let n=rce[t.toLocaleLowerCase()],r={command:t,params:[]};for(let a of n){let s=i.slice(e),o=a.exec(s);if(o!=null){r.params.push(parseFloat(o[0])),e+=o[0].length;let l=nce.exec(s.slice(o[0].length));l!=null&&(e+=l[0].length)}else{if(r.params.length===1)return[e,r];j.warnOnce(`Invalid SVG path, error at index ${e}: No path segment parameters for command [${t}]`);return}}return[e,r]}function oce(t,i){let e=-i/t;return t!==0&&e>=0&&e<=1?[e]:[]}function lce(t,i,e,n=1e-6){if(Math.abs(t)<n)return oce(i,e);let r=i*i-4*t*e,a=[];if(Math.abs(r)<n){let s=-i/(2*t);s>=0&&s<=1&&a.push(s)}else if(r>0){let s=Math.sqrt(r),o=(-i-s)/(2*t),l=(-i+s)/(2*t);o>=0&&o<=1&&a.push(o),l>=0&&l<=1&&a.push(l)}return a}function cce(t,i,e,n,r=1e-6){if(Math.abs(t)<r)return lce(i,e,n,r);let a=i/t,s=e/t,o=n/t,l=(3*s-a*a)/9,c=(9*a*s-27*o-2*a*a*a)/54,d=l*l*l+c*c,u=1/3,h=[];if(d>=0){let m=Math.sqrt(d),p=Math.sign(c+m)*Math.pow(Math.abs(c+m),u),g=Math.sign(c-m)*Math.pow(Math.abs(c-m),u),b=Math.abs(Math.sqrt(3)*(p-g)/2),v=-u*a+(p+g);if(v>=0&&v<=1&&h.push(v),Math.abs(b)<r){let _=-u*a-(p+g)/2;_>=0&&_<=1&&h.push(_)}}else{let m=Math.acos(c/Math.sqrt(-l*l*l)),p=u*a,g=2*Math.sqrt(-l),b=g*Math.cos(u*m)-p,v=g*Math.cos(u*(m+2*Math.PI))-p,_=g*Math.cos(u*(m+4*Math.PI))-p;b>=0&&b<=1&&h.push(b),v>=0&&v<=1&&h.push(v),_>=0&&_<=1&&h.push(_)}return h}function Kb(t,i,e,n,r,a,s,o){let l=(e-t)*(o-a)-(n-i)*(s-r);if(l===0)return 0;let c=((s-r)*(i-a)-(t-r)*(o-a))/l,d=((e-t)*(i-a)-(n-i)*(t-r))/l;return c>=0&&c<=1&&d>=0&&d<=1?1:0}function dce(t,i,e,n,r,a,s,o,l,c,d,u){let h=0,m=c-u,p=d-l,g=l*(u-c)-c*(d-l),b=GU(t,e,r,s),v=GU(i,n,a,o),_=m*b[0]+p*v[0],w=m*b[1]+p*v[1],D=m*b[2]+p*v[2],I=m*b[3]+p*v[3]+g,E=cce(_,w,D,I);for(let A of E){let N=A*A,F=A*N,P=b[0]*F+b[1]*N+b[2]*A+b[3],U=v[0]*F+v[1]*N+v[2]*A+v[3],H;l===d?H=(U-c)/(u-c):H=(P-l)/(d-l),H>=0&&H<=1&&h++}return h}function GU(t,i,e,n){return[-t+3*i-3*e+n,3*t-6*i+3*e,-3*t+3*i,t]}function Df(t,i,e,n,r){return(1-r)**3*t+3*(1-r)**2*r*i+3*(1-r)*r**2*e+r**3*n}function Ww(t,i,e,n,r){if(r<=Math.min(t,n))return t<n?0:1;if(r>=Math.max(t,n))return t<n?1:0;let a=0,s=1,o=NaN;for(let l=0;l<12;l+=1)o=(a+s)/2,Df(t,i,e,n,o)<r?a=o:s=o;return o}function nv(t,i,e,n,r,a,s,o,l){let c=(1-l)*t+l*e,d=(1-l)*i+l*n,u=(1-l)*e+l*r,h=(1-l)*n+l*a,m=(1-l)*r+l*s,p=(1-l)*a+l*o,g=(1-l)*c+l*u,b=(1-l)*d+l*h,v=(1-l)*u+l*m,_=(1-l)*h+l*p,w=(1-l)*g+l*v,D=(1-l)*b+l*_;return[[{x:t,y:i},{x:c,y:d},{x:g,y:b},{x:w,y:D}],[{x:w,y:D},{x:v,y:_},{x:m,y:p},{x:s,y:o}]]}function WU(t,i,e,n){let r=-t+3*i-3*e+n,a=2*(t-2*i+e),s=-t+i;if(r===0){if(a!==0){let l=-s/a;if(l>0&&l<1)return[l]}return[]}let o=a*a-4*r*s;if(o>=0){let l=Math.sqrt(o),c=(-a+l)/(2*r),d=(-a-l)/(2*r);return[c,d].filter(u=>u>0&&u<1)}return[]}function Z5(t,i,e,n,r,a,s,o){let l=WU(t,e,r,s),c=WU(i,n,a,o);return[...l,...c]}function i1(t,i,e){let n=Df(t[0].x,t[1].x,t[2].x,t[3].x,.5),r=Df(t[0].y,t[1].y,t[2].y,t[3].y,.5),a=Math.hypot(n-i,r-e),s=Math.min(Math.hypot(t[0].x-i,t[0].y-e),Math.hypot(t[1].x-i,t[1].y-e),Math.hypot(t[2].x-i,t[2].y-e),Math.hypot(t[3].x-i,t[3].y-e));return{points:t,distance:a,minDistance:s}}function Q5(t,i,e,n,r,a,s,o,l,c,d=1){let h={value:i1([{x:t,y:i},{x:e,y:n},{x:r,y:a},{x:s,y:o}],l,c),next:null},m;for(;h!=null;){let{points:p,distance:g,minDistance:b}=h.value;if(h=h.next,(m==null||g<m.distance)&&(m={distance:g,minDistance:b}),m!=null&&m.distance-b<=d)continue;let[v,_]=nv(p[0].x,p[0].y,p[1].x,p[1].y,p[2].x,p[2].y,p[3].x,p[3].y,.5),w=[i1(v,l,c),i1(_,l,c)].sort($U);h=TU(h,w,$U)}return m?.distance??1/0}var $U=(t,i)=>i.minDistance-t.minDistance,Sf=class{constructor(){this.path2d=new Path2D,this.previousCommands=[],this.previousParams=[],this.previousClosedPath=!1,this.commands=[],this.params=[],this.cx=NaN,this.cy=NaN,this.sx=NaN,this.sy=NaN,this.openedPath=!1,this.closedPath=!1}isEmpty(){return this.commands.length===0}isDirty(){return this.closedPath!==this.previousClosedPath||this.previousCommands.length!==this.commands.length||this.previousParams.length!==this.params.length||this.previousCommands.toString()!==this.commands.toString()||this.previousParams.toString()!==this.params.toString()}getPath2D(){return this.path2d}moveTo(t,i){this.openedPath=!0,this.sx=t,this.sy=i,this.cx=t,this.cy=i,this.path2d.moveTo(t,i),this.commands.push(0),this.params.push(t,i)}lineTo(t,i){this.openedPath?(this.cx=t,this.cy=i,this.path2d.lineTo(t,i),this.commands.push(1),this.params.push(t,i)):this.moveTo(t,i)}cubicCurveTo(t,i,e,n,r,a){this.openedPath||this.moveTo(t,i),this.path2d.bezierCurveTo(t,i,e,n,r,a),this.commands.push(2),this.params.push(t,i,e,n,r,a)}closePath(){this.openedPath&&(this.cx=this.sx,this.cy=this.sy,this.sx=NaN,this.sy=NaN,this.path2d.closePath(),this.commands.push(3),this.openedPath=!1,this.closedPath=!0)}rect(t,i,e,n){this.moveTo(t,i),this.lineTo(t+e,i),this.lineTo(t+e,i+n),this.lineTo(t,i+n),this.closePath()}roundRect(t,i,e,n,r){r=Math.min(r,e/2,n/2),this.moveTo(t,i+r),this.arc(t+r,i+r,r,Math.PI,1.5*Math.PI),this.lineTo(t+r,i),this.lineTo(t+e-r,i),this.arc(t+e-r,i+r,r,1.5*Math.PI,2*Math.PI),this.lineTo(t+e,i+r),this.lineTo(t+e,i+n-r),this.arc(t+e-r,i+n-r,r,0,Math.PI/2),this.lineTo(t+e-r,i+n),this.lineTo(t+r,i+n),this.arc(t+ +r,i+n-r,r,Math.PI/2,Math.PI),this.lineTo(t,i+n-r),this.closePath()}ellipse(t,i,e,n,r,a,s,o=!1){let l=e,c=n/e,d=Math.cos(r),u=Math.sin(r),h=-c*u,m=c*d,p=l*Math.cos(a),g=l*Math.sin(a),b=t+d*p+h*g,v=i+u*p+m*g,_=(b-this.cx)**2+(v-this.cy)**2;this.openedPath?_>1e-6&&this.lineTo(b,v):this.moveTo(b,v);let w=o?-Dn(a-s):Dn(s-a);Math.abs(Math.abs(s-a)-2*Math.PI)<1e-6&&w<2*Math.PI&&(w+=2*Math.PI*(o?-1:1));let D=Math.max(Math.ceil(Math.abs(w)/(Math.PI/2)),1),I=w/D,E=4/3*Math.tan(I/4);for(let A=0;A<D;A+=1){let N=a+I*(A+0),F=a+I*(A+1),P=l*Math.sin(N),U=l*Math.cos(N),H=l*Math.sin(F),q=l*Math.cos(F),ue=U-E*P,te=P+E*U,Oe=q+E*H,ot=H-E*q,Ct=q,Yt=H;this.cubicCurveTo(t+d*ue+h*te,i+u*ue+m*te,t+d*Oe+h*ot,i+u*Oe+m*ot,t+d*Ct+h*Yt,i+u*Ct+m*Yt)}}arc(t,i,e,n,r,a){this.ellipse(t,i,e,e,0,n,r,a)}appendSvg(t){let i=ace(t);if(i==null)return!1;let e=0,n=0,r,a,s=0,o=0;for(let{command:l,params:c}of i){r??(r=c[0]),a??(a=c[1]);let d=l===l.toLowerCase(),u=d?r:0,h=d?a:0;switch(l.toLowerCase()){case"m":this.moveTo(u+c[0],h+c[1]),r=u+c[0],a=h+c[1],e=r,n=a;break;case"c":this.cubicCurveTo(u+c[0],h+c[1],u+c[2],h+c[3],u+c[4],h+c[5]),s=u+c[2],o=h+c[3],r=u+c[4],a=h+c[5];break;case"s":this.cubicCurveTo(r+r-s,a+a-o,u+c[0],h+c[1],u+c[2],h+c[3]),s=u+c[0],o=h+c[1],r=u+c[2],a=h+c[3];break;case"q":this.cubicCurveTo((u+2*c[0])/3,(h+2*c[1])/3,(2*c[0]+c[2])/3,(2*c[1]+c[3])/3,c[2],c[3]),s=c[0],o=c[1],r=c[2],a=c[3];break;case"t":this.cubicCurveTo((r+2*(r+r-s))/3,(a+2*(a+a-o))/3,(2*(r+r-s)+c[0])/3,(2*(a+a-o)+c[1])/3,c[0],c[1]),s=r+r-s,o=a+a-o,r=c[0],a=c[1];break;case"a":this.svgEllipse(r,a,c[0],c[1],c[2]*Math.PI/180,c[3],c[4],u+c[5],h+c[6]),r=u+c[5],a=h+c[6];break;case"h":this.lineTo(u+c[0],a),r=u+c[0];break;case"l":this.lineTo(u+c[0],h+c[1]),r=u+c[0],a=h+c[1];break;case"v":this.lineTo(r,h+c[0]),a=h+c[0];break;case"z":this.closePath(),r=e,a=n;break;default:throw new Error(`Could not translate command '${l}' with '${c.join(" ")}'`)}}return!0}svgEllipse(t,i,e,n,r,a,s,o,l){e=Math.abs(e),n=Math.abs(n);let c=(t-o)/2,d=(i-l)/2,u=Math.sin(r),h=Math.cos(r),m=h*c+u*d,p=-u*c+h*d,g=m/e,b=p/n,v=g*g+b*b,_=(t+o)/2,w=(i+l)/2,D=0,I=0;v>=1?(v=Math.sqrt(v),e*=v,n*=v):(v=Math.sqrt(1/v-1),a===s&&(v=-v),D=v*e*b,I=-v*n*g,_+=h*D-u*I,w+=u*D+h*I);let E=Math.atan2((p-I)/n,(m-D)/e),A=Math.atan2((-p-I)/n,(-m-D)/e)-E,N=E+A,F=!!(1-s);this.ellipse(_,w,e,n,r,E,N,F)}clear(t){t&&(this.previousCommands=this.commands,this.previousParams=this.params,this.previousClosedPath=this.closedPath),this.path2d=new Path2D,this.openedPath=!1,this.closedPath=!1,this.commands=[],this.params=[]}isPointInPath(t,i){let e=this.commands,n=this.params,r=e.length,a=-1e4,s=-1e4,o=NaN,l=NaN,c=0,d=0,u=0;for(let h=0,m=0;h<r;h++)switch(e[h]){case 0:u+=Kb(o,l,c,d,a,s,t,i),c=n[m++],o=c,d=n[m++],l=d;break;case 1:u+=Kb(c,d,n[m++],n[m++],a,s,t,i),c=n[m-2],d=n[m-1];break;case 2:u+=dce(c,d,n[m++],n[m++],n[m++],n[m++],n[m++],n[m++],a,s,t,i),c=n[m-2],d=n[m-1];break;case 3:u+=Kb(o,l,c,d,a,s,t,i);break}return u%2===1}distanceSquared(t,i){let e=1/0,n=this.commands,r=this.params,a=n.length,s=NaN,o=NaN,l=0,c=0;for(let d=0,u=0;d<a;d++)switch(n[d]){case 0:l=s=r[u++],c=o=r[u++];break;case 1:{let _=l,w=c;l=r[u++],c=r[u++],e=Gw(t,i,_,w,l,c,e);break}case 2:let h=l,m=c,p=r[u++],g=r[u++],b=r[u++],v=r[u++];l=r[u++],c=r[u++],e=Q5(h,m,p,g,b,v,l,c,t,i)**2;break;case 3:e=Gw(t,i,l,c,s,o,e);break}return e}toSVG(t=(i,e)=>({x:i,y:e})){let i=[],{commands:e,params:n}=this,r=(s,o)=>{i.push(s);for(let l=0;l<o;l+=2){let{x:c,y:d}=t(n[a++],n[a++]);i.push(c,d)}},a=0;for(let s of e)switch(s){case 0:r("M",2);break;case 1:r("L",2);break;case 2:r("C",6);break;case 3:r("Z",0);break}return i.join(" ")}computeBBox(){let{commands:t,params:i}=this,[e,n,r,a]=[1/0,1/0,-1/0,-1/0],[s,o]=[NaN,NaN],[l,c]=[NaN,NaN],d=(h,m)=>{e=Math.min(m,e),n=Math.min(h,n),r=Math.max(h,r),a=Math.max(m,a),s=h,o=m},u=0;for(let h of t)switch(h){case 0:d(i[u++],i[u++]),l=s,c=o;break;case 1:d(i[u++],i[u++]);break;case 2:{let m=s,p=o,g=i[u++],b=i[u++],v=i[u++],_=i[u++],w=i[u++],D=i[u++];Z5(m,p,g,b,v,_,w,D).forEach(E=>{let A=Df(m,g,v,w,E),N=Df(p,b,_,D,E);d(A,N)}),d(w,D);break}case 3:d(l,c),l=NaN,c=NaN;break}return new _e(n,e,r-n,a-e)}};function Xn(t,i,e){let n=Math.round(i*t)/t;return e==null?n:e===0?0:e<1?Math.ceil(e*t)/t:Math.round((e+i)*t)/t-n}function YU(t,i){return Math.floor(i*t)/t}function n1(t,i,e){let{width:n,height:r,padding:a,strokeWidth:s}=i,o=n/2,l=r/2,c=Math.max(1,n-a-s/2),d=Math.max(1,r-a-s/2),u=!1;for(let[h,m]of e){let p=o+(h-.5)*c,g=l+(m-.5)*d;u?t.lineTo(p,g):t.moveTo(p,g),u=!0}t.closePath()}var KU={circles(t,{width:i,strokeWidth:e,padding:n}){let r=i/2,a=Math.max(1,r-n-e/2);t.arc(r,r,a,0,Math.PI*2)},squares(t,{width:i,height:e,pixelRatio:n,padding:r,strokeWidth:a}){let s=r+a/2;t.moveTo(Xn(n,s),Xn(n,s)),t.lineTo(Xn(n,i-s),Xn(n,s)),t.lineTo(Xn(n,i-s),Xn(n,e-s)),t.lineTo(Xn(n,s),Xn(n,e-s)),t.closePath()},triangles(t,i){n1(t,i,[[.5,0],[1,1],[0,1]])},diamonds(t,i){n1(t,i,[[.5,0],[1,.5],[.5,1],[0,.5]])},stars(t,{width:i,height:e,padding:n}){let a=Math.max(1,(i-n)/2),s=a/2,o=Math.PI/2;for(let l=0;l<5*2;l++){let c=l%2===0?a:s,d=l*Math.PI/5-o,u=i/2+Math.cos(d)*c,h=e/2+Math.sin(d)*c;t.lineTo(u,h)}t.closePath()},hearts(t,{width:i,height:e,padding:n}){let r=Math.max(1,i/4-n/2),a=i/2,s=e/2+r/2;t.arc(a-r,s-r,r,Ar(130),Ar(330)),t.arc(a+r,s-r,r,Ar(220),Ar(50)),t.lineTo(a,s+r),t.closePath()},crosses(t,i){n1(t,i,[[.25,0],[.5,.25],[.75,0],[1,.25],[.75,.5],[1,.75],[.75,1],[.5,.75],[.25,1],[0,.75],[.25,.5],[0,.25]])},"vertical-lines"(t,{width:i,height:e,pixelRatio:n,strokeWidth:r}){let a=Xn(n,i/2)-r%2/2;t.moveTo(a,0),t.lineTo(a,e)},"horizontal-lines"(t,{width:i,height:e,pixelRatio:n,strokeWidth:r}){let a=Xn(n,e/2)-r%2/2;t.moveTo(0,a),t.lineTo(i,a)},"forward-slanted-lines"(t,{width:i,height:e,strokeWidth:n}){let r=Math.atan2(e,i),a=n*Math.cos(r),s=n*Math.sin(r);t.moveTo(-a,s),t.lineTo(a,-s),t.moveTo(-a,e+s),t.lineTo(i+a,-s),t.moveTo(i-a,e+s),t.lineTo(i+a,e-s)},"backward-slanted-lines"(t,{width:i,height:e,strokeWidth:n}){let r=Math.atan2(e,i),a=n*Math.cos(r),s=n*Math.sin(r);t.moveTo(i-a,-s),t.lineTo(i+a,s),t.moveTo(-a,-s),t.lineTo(i+a,e+s),t.moveTo(-a,e-s),t.lineTo(a,e+s)}},uce=class{constructor(t){this._cache=void 0,this.width=Math.max(t?.width??10,1),this.height=Math.max(t?.height??10,1),this.fill=t.fill??"none",this.fillOpacity=t.fillOpacity??1,this.backgroundFill=t.backgroundFill??"none",this.backgroundFillOpacity=t.backgroundFillOpacity??1,this.stroke=t.stroke??"black",this.strokeOpacity=t.strokeOpacity??1,this.strokeWidth=t.strokeWidth??1,this.padding=t.padding??1,this.pattern=t.pattern??"forward-slanted-lines",this.rotation=t.rotation??0,this.scale=t.scale??1,this.path=t.path}getPath(t){let{pattern:i,width:e,height:n,padding:r,strokeWidth:a,path:s}=this,o=new Sf,l=KU[i]!=null;return s&&l&&(l=!o.appendSvg(s)),l&&KU[i](o,{width:e,height:n,pixelRatio:t,strokeWidth:a,padding:r}),o}renderStroke(t,i){let{stroke:e,strokeWidth:n,strokeOpacity:r}=this;n&&(i.strokeStyle=e,i.lineWidth=n,i.globalAlpha=r,i.stroke(t))}renderFill(t,i){let{fill:e,fillOpacity:n}=this;e!=="none"&&(i.fillStyle=e,i.globalAlpha=n,i.fill(t))}createCanvasPattern(t,i){let{width:e,height:n,scale:r,backgroundFill:a,backgroundFillOpacity:s}=this;if(e*r<1||n*r<1)return j.warnOnce("Pattern fill is too small to render, ignoring."),null;let o=new ER({width:e,height:n,pixelRatio:i*r}),l=o.context;a!=="none"&&(l.fillStyle=a,l.globalAlpha=s,l.fillRect(0,0,e,n));let c=this.getPath(i).getPath2D();this.renderFill(c,l),this.renderStroke(c,l);let d=t.createPattern(o.canvas,"repeat");return this.setPatternTransform(d,i),o.destroy(),d}setPatternTransform(t,i,e=0,n=0){if(t==null)return;let r=kc(this.rotation),a=1/i,s=Math.cos(r)*a,o=Math.sin(r)*a;t.setTransform(new DOMMatrix([s,o,-o,s,e,n]))}createPattern(t,i){if(this._cache!=null&&this._cache.ctx===t&&this._cache.pixelRatio===i)return this._cache.pattern;let e=this.createCanvasPattern(t,i);if(e!=null)return this._cache={ctx:t,pattern:e,pixelRatio:i},e}toSvg(){let{width:t,height:i,fill:e,fillOpacity:n,backgroundFill:r,backgroundFillOpacity:a,stroke:s,strokeWidth:o,strokeOpacity:l,rotation:c,scale:d}=this,u=qt("pattern");u.setAttribute("viewBox",`0 0 ${t} ${i}`),u.setAttribute("width",String(t)),u.setAttribute("height",String(i)),u.setAttribute("patternUnits","userSpaceOnUse");let h=qt("rect");h.setAttribute("x","0"),h.setAttribute("y","0"),h.setAttribute("width",String(t)),h.setAttribute("height",String(i)),h.setAttribute("fill",r),h.setAttribute("fill-opacity",String(a)),u.appendChild(h);let m=qt("path");return m.setAttribute("fill",e),m.setAttribute("fill-opacity",String(n)),m.setAttribute("stroke-opacity",String(l)),m.setAttribute("stroke",s),m.setAttribute("stroke-width",String(o)),m.setAttribute("transform",`rotate(${c}) scale(${d})`),m.setAttribute("d",this.getPath(1).toSVG()),u.appendChild(m),u}};function To(t){return $t(t)&&t.type=="gradient"}function hce(t){return qe(t)&&t.every(i=>typeof i=="string")}function qd(t){return t!==null&&$t(t)&&t.type=="pattern"}function jh(t){return t!==null&&$t(t)&&t.type=="image"}function mce(t){return To(t)||qd(t)}function qU(t,i){let{fontStyle:e,fontWeight:n,fontSize:r,fontFamily:a}=i;e&&t.setAttribute("font-style",e),n&&t.setAttribute("font-weight",String(n)),r!=null&&t.setAttribute("font-size",String(r)),a&&t.setAttribute("font-family",a)}function pce(t,i){let{stroke:e,strokeWidth:n,strokeOpacity:r}=i;e&&t.setAttribute("stroke",e),n!=null&&t.setAttribute("stroke-width",String(n)),r!=null&&t.setAttribute("stroke-opacity",String(r))}function fce(t,i){let{lineDash:e,lineDashOffset:n}=i;if(e?.some(r=>r!==0)){let r=e.length%2===1?[...e,...e]:e;t.setAttribute("stroke-dasharray",r.join(" ")),n!=null&&t.setAttribute("stroke-dashoffset",String(n))}}var Sn=class extends Ic{constructor(){super(...arguments),this.fillOpacity=1,this.strokeOpacity=1,this.fill="black",this.strokeWidth=0,this.lineDashOffset=0,this.opacity=1}getGradient(t){if(To(t))return this.createGradient(t)}createGradient(t){let{colorSpace:i="rgb",gradient:e="linear",colorStops:n,rotation:r=0,reverse:a=!1}=t;if(n==null)return;let s=q5(n,["black"],[0,1]);switch(a&&(s=s.map(o=>({color:o.color,stop:1-o.stop})).reverse()),e){case"linear":return new $5(i,s,r);case"radial":return new Xle(i,s);case"conic":return new W5(i,s,r)}}getPattern(t){if(qd(t))return this.createPattern(t)}createPattern(t){return new uce(t)}getImage(t){if(jh(t))return this.createImage(t)}createImage(t){return new tce(this.imageLoader,t)}onFillChange(){typeof this.fill=="object"&&Ln(this._cachedFill??{},this.fill)||(this.fillGradient=this.getGradient(this.fill),this.fillPattern=this.getPattern(this.fill),this.fillImage=this.getImage(this.fill),this._cachedFill=this.fill)}onStrokeChange(){this.strokeGradient=this.getGradient(this.stroke)}align(t,i){return Xn(this.layerManager?.canvas?.pixelRatio??1,t,i)}markDirty(t){super.markDirty(t),this.cachedDefaultGradientFillBBox=void 0}fillStroke(t,i){this.renderFill(t,i),this.renderStroke(t,i)}renderFill(t,i){let{fill:e,fillOpacity:n,fillImage:r}=this;if(e!=null&&e!=="none"&&n>0){let{globalAlpha:a}=t;r&&(t.globalAlpha=r.backgroundFillOpacity,t.fillStyle=r.backgroundFill,this.executeFill(t,i),t.globalAlpha=a),this.applyFillAndAlpha(t),this.applyShadow(t),this.executeFill(t,i),t.globalAlpha=a,t.shadowColor="rgba(0, 0, 0, 0)"}}executeFill(t,i){i?t.fill(i):t.fill()}applyFillAndAlpha(t){let{fill:i,fillGradient:e,fillPattern:n,fillImage:r,fillOpacity:a=1,opacity:s=1}=this;if(t.globalAlpha*=s*a,e){let{fillBBox:o=this.getDefaultGradientFillBBox()??this.getBBox(),fillParams:l}=this;t.fillStyle=e.createGradient(t,o,l)??"black"}else if(n){let{x:o,y:l}=this.getBBox(),c=this.layerManager?.canvas?.pixelRatio??1,d=n.createPattern(t,c);n.setPatternTransform(d,c,o,l),d?t.fillStyle=d:(t.fillStyle=n.fill,t.globalAlpha*=n.fillOpacity)}else if(r){let o=this.getBBox(),l=r.createPattern(t,o.width,o.height,this);r.setImageTransform(l,o),t.fillStyle=l??"transparent"}else t.fillStyle=typeof i=="string"?i:"black"}applyStrokeAndAlpha(t){let{stroke:i,strokeOpacity:e=1,strokeGradient:n,opacity:r=1}=this;t.strokeStyle=n?.createGradient(t,this.getBBox())??(typeof i=="string"?i:void 0)??"black",t.globalAlpha*=r*e}applyShadow(t){let i=this.layerManager?.canvas.pixelRatio??1,e=this.fillShadow;e?.enabled&&(t.shadowColor=e.color,t.shadowOffsetX=e.xOffset*i,t.shadowOffsetY=e.yOffset*i,t.shadowBlur=e.blur*i)}renderStroke(t,i){let{stroke:e,strokeWidth:n,strokeOpacity:r,lineDash:a,lineDashOffset:s,lineCap:o,lineJoin:l,miterLimit:c}=this;if(e!=null&&e!=="none"&&n>0&&r>0){let{globalAlpha:d}=t;this.applyStrokeAndAlpha(t),t.lineWidth=n,a&&t.setLineDash(a),s&&(t.lineDashOffset=s),o&&(t.lineCap=o),l&&(t.lineJoin=l),c!=null&&(t.miterLimit=c),this.executeStroke(t,i),t.globalAlpha=d}}executeStroke(t,i){i?t.stroke(i):t.stroke()}getDefaultGradientFillBBox(){return this.cachedDefaultGradientFillBBox??(this.cachedDefaultGradientFillBBox=Object.freeze(this.computeDefaultGradientFillBBox())),this.cachedDefaultGradientFillBBox}computeDefaultGradientFillBBox(){}containsPoint(t,i){return this.isPointInPath(t,i)}applySvgFillAttributes(t,i){let{fill:e,fillOpacity:n}=this;if(typeof e=="string")t.setAttribute("fill",e);else if(To(e)&&this.fillGradient){i??(i=[]);let r=this.fillGradient.toSvg(this.fillBBox??this.getBBox()),a=ow();r.setAttribute("id",a),i.push(r),t.setAttribute("fill",`url(#${a})`)}else if(qd(e)&&this.fillPattern){i??(i=[]);let r=this.fillPattern.toSvg(),a=ow();r.setAttribute("id",a),i.push(r),t.setAttribute("fill",`url(#${a})`)}else if(jh(e)&&this.fillImage){i??(i=[]);let r=this.layerManager?.canvas?.pixelRatio??1,a=this.fillImage.toSvg(this.getBBox(),r),s=ow();a.setAttribute("id",s),i.push(a),t.setAttribute("fill",`url(#${s})`)}else t.setAttribute("fill","none");return t.setAttribute("fill-opacity",String(n)),i}applySvgStrokeAttributes(t){let{stroke:i,strokeOpacity:e,strokeWidth:n,lineDash:r,lineDashOffset:a}=this;pce(t,{stroke:Gi(i)?i:void 0,strokeOpacity:e,strokeWidth:n}),fce(t,{lineDash:r,lineDashOffset:a})}};y([ee()],Sn.prototype,"fillOpacity",2);y([ee()],Sn.prototype,"strokeOpacity",2);y([cs({equals:Ln,changeCb:t=>t.onFillChange()})],Sn.prototype,"fill",2);y([cs({equals:Ln,changeCb:t=>t.onStrokeChange()})],Sn.prototype,"stroke",2);y([ee()],Sn.prototype,"strokeWidth",2);y([PR()],Sn.prototype,"lineDash",2);y([ee()],Sn.prototype,"lineDashOffset",2);y([ee()],Sn.prototype,"lineCap",2);y([ee()],Sn.prototype,"lineJoin",2);y([ee()],Sn.prototype,"miterLimit",2);y([ee({convertor:t=>Ae(0,t??1,1)})],Sn.prototype,"opacity",2);y([cs({equals:Ff,checkDirtyOnAssignment:!0})],Sn.prototype,"fillShadow",2);y([cs({equals:Kp,changeCb:t=>t.onFillChange()})],Sn.prototype,"fillBBox",2);y([cs({equals:Ln,changeCb:t=>t.onFillChange()})],Sn.prototype,"fillParams",2);var X5=[1,0,0,1,0,0],Ac=class Sw{get e(){return[...this.elements]}constructor(i=X5){this.elements=[...i]}setElements(i){let e=this.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],this}get identity(){let i=this.elements;return ua(i[0],1)&&ua(i[1],0)&&ua(i[2],0)&&ua(i[3],1)&&ua(i[4],0)&&ua(i[5],0)}AxB(i,e,n){let r=i[0]*e[0]+i[2]*e[1],a=i[1]*e[0]+i[3]*e[1],s=i[0]*e[2]+i[2]*e[3],o=i[1]*e[2]+i[3]*e[3],l=i[0]*e[4]+i[2]*e[5]+i[4],c=i[1]*e[4]+i[3]*e[5]+i[5];n=n??i,n[0]=r,n[1]=a,n[2]=s,n[3]=o,n[4]=l,n[5]=c}multiplySelf(i){return this.AxB(this.elements,i.elements),this}multiply(i){let e=new Array(6);return i instanceof Sw?this.AxB(this.elements,i.elements,e):this.AxB(this.elements,[i.a,i.b,i.c,i.d,i.e,i.f],e),new Sw(e)}preMultiplySelf(i){return this.AxB(i.elements,this.elements,this.elements),this}inverse(){let i=this.elements,e=i[0],n=i[1],r=i[2],a=i[3],s=i[4],o=i[5],l=1/(e*a-n*r);return e*=l,n*=l,r*=l,a*=l,new Sw([a,-n,-r,e,r*o-a*s,n*s-e*o])}invertSelf(){let i=this.elements,e=i[0],n=i[1],r=i[2],a=i[3],s=i[4],o=i[5],l=1/(e*a-n*r);return e*=l,n*=l,r*=l,a*=l,i[0]=a,i[1]=-n,i[2]=-r,i[3]=e,i[4]=r*o-a*s,i[5]=n*s-e*o,this}transformPoint(i,e){let n=this.elements;return{x:i*n[0]+e*n[2]+n[4],y:i*n[1]+e*n[3]+n[5]}}transformBBox(i,e){let n=this.elements,r=n[0],a=n[1],s=n[2],o=n[3],l=i.width*.5,c=i.height*.5,d=i.x+l,u=i.y+c,h=Math.abs(l*r)+Math.abs(c*s),m=Math.abs(l*a)+Math.abs(c*o);return e??(e=new _e(0,0,0,0)),e.x=d*r+u*s+n[4]-h,e.y=d*a+u*o+n[5]-m,e.width=h+h,e.height=m+m,e}toContext(i){if(this.identity)return;let e=this.elements;i.transform(e[0],e[1],e[2],e[3],e[4],e[5])}static updateTransformMatrix(i,e,n,r,a,s,o){let l=e,c=n,d,u;l===1&&c===1?(d=0,u=0):(d=o?.scalingCenterX??0,u=o?.scalingCenterY??0);let h=r,m=Math.cos(h),p=Math.sin(h),g,b;h===0?(g=0,b=0):(g=o?.rotationCenterX??0,b=o?.rotationCenterY??0);let v=a,_=s,w=d*(1-l)-g,D=u*(1-c)-b;return i.setElements([m*l,p*l,-p*c,m*c,m*w-p*D+g+v,p*w+m*D+b+_]),i}};function Rd(t){return eG(t.constructor)}var J5=Symbol("isMatrixTransform");function eG(t){return t[J5]===!0}function BR(t){var i,e;let n=t;if(eG(t))return t;let r=Symbol("matrix_combined_transform");class a extends n{constructor(){super(...arguments),this[e]=new Ac,this._dirtyTransform=!0}onChangeDetection(o){super.onChangeDetection(o),this._dirtyTransform=!0,!(this.batchLevel>0)&&this.markDirty("transform")}updateMatrix(o){}computeTransformMatrix(){this._dirtyTransform&&(this[r].setElements(X5),this.updateMatrix(this[r]),this._dirtyTransform=!1)}toParent(o){return this.computeTransformMatrix(),this[r].identity?o.clone():this[r].transformBBox(o)}toParentPoint(o,l){return this.computeTransformMatrix(),this[r].identity?{x:o,y:l}:this[r].transformPoint(o,l)}fromParent(o){return this.computeTransformMatrix(),this[r].identity?o.clone():this[r].inverse().transformBBox(o)}fromParentPoint(o,l){return this.computeTransformMatrix(),this[r].identity?{x:o,y:l}:this[r].inverse().transformPoint(o,l)}computeBBox(){let o=super.computeBBox();return o&&this.toParent(o)}computeBBoxWithoutTransforms(){return super.computeBBox()}pickNode(o,l){return{x:o,y:l}=this.fromParentPoint(o,l),super.pickNode(o,l)}pickNodes(o,l,c){return{x:o,y:l}=this.fromParentPoint(o,l),super.pickNodes(o,l,c)}render(o){this.computeTransformMatrix();let{ctx:l}=o,c=this[r],d=!1;try{c.identity||(l.save(),d=!0,c.toContext(l)),super.render(o)}finally{d&&l.restore()}}toSVG(){this.computeTransformMatrix();let o=super.toSVG(),l=this[r];if(l.identity||o==null)return o;let c=qt("g");c.append(...o.elements);let[d,u,h,m,p,g]=l.e;return c.setAttribute("transform",`matrix(${d} ${u} ${h} ${m} ${p} ${g})`),{elements:[c],defs:o.defs}}}return i=J5,e=r,a[i]=!0,a}function Bf(t){var i;let e=t,n=Symbol("matrix_rotation");class r extends BR(e){constructor(){super(...arguments),this[i]=new Ac,this.rotationCenterX=0,this.rotationCenterY=0,this.rotation=0}updateMatrix(s){super.updateMatrix(s);let{rotation:o,rotationCenterX:l,rotationCenterY:c}=this;o!==0&&(Ac.updateTransformMatrix(this[n],1,1,o,0,0,{rotationCenterX:l,rotationCenterY:c}),s.multiplySelf(this[n]))}}return i=n,y([ee()],r.prototype,"rotationCenterX",2),y([ee()],r.prototype,"rotationCenterY",2),y([ee()],r.prototype,"rotation",2),r}function jR(t){var i;let e=t,n=Symbol("matrix_scale");class r extends BR(e){constructor(){super(...arguments),this[i]=new Ac,this.scalingX=1,this.scalingY=1,this.scalingCenterX=0,this.scalingCenterY=0}updateMatrix(s){super.updateMatrix(s);let{scalingX:o,scalingY:l,scalingCenterX:c,scalingCenterY:d}=this;o===1&&l===1||(Ac.updateTransformMatrix(this[n],o,l,0,0,0,{scalingCenterX:c,scalingCenterY:d}),s.multiplySelf(this[n]))}}return i=n,y([ee()],r.prototype,"scalingX",2),y([ee()],r.prototype,"scalingY",2),y([ee()],r.prototype,"scalingCenterX",2),y([ee()],r.prototype,"scalingCenterY",2),r}function jf(t){var i;let e=t,n=Symbol("matrix_translation");class r extends BR(e){constructor(){super(...arguments),this[i]=new Ac,this.translationX=0,this.translationY=0}updateMatrix(s){super.updateMatrix(s);let{translationX:o,translationY:l}=this;o===0&&l===0||(Ac.updateTransformMatrix(this[n],1,1,0,o,l),s.multiplySelf(this[n]))}}return i=n,y([ee()],r.prototype,"translationX",2),y([ee()],r.prototype,"translationY",2),r}var rn=class{static fromCanvas(t,i){let e=[];for(let n of t.traverseUp())Rd(n)&&e.unshift(n);for(let n of e)i=n.fromParent(i);return Rd(t)&&(i=t.fromParent(i)),i}static toCanvas(t,i){i==null?i=t.getBBox():Rd(t)&&(i=t.toParent(i));for(let e of t.traverseUp())Rd(e)&&(i=e.toParent(i));return i}static fromCanvasPoint(t,i,e){let n=[];for(let r of t.traverseUp())Rd(r)&&n.unshift(r);for(let r of n)({x:i,y:e}=r.fromParentPoint(i,e));return Rd(t)&&({x:i,y:e}=t.fromParentPoint(i,e)),{x:i,y:e}}static toCanvasPoint(t,i,e){Rd(t)&&({x:i,y:e}=t.toParentPoint(i,e));for(let n of t.traverseUp())Rd(n)&&({x:i,y:e}=n.toParentPoint(i,e));return{x:i,y:e}}},Lb,tG=(()=>{let t=class jb extends Ic{constructor(e){super(e),this.childNodes=new Set,this.dirty=!1,this.dirtyZIndex=!1,this.clipRect=void 0,this.opacity=1,this.renderToOffscreenCanvas=!1,this.optimizeForInfrequentRedraws=!1,this.layer=void 0,this.image=void 0,this._lastWidth=NaN,this._lastHeight=NaN,this._lastDevicePixelRatio=NaN,this.isContainerNode=!0,this.renderToOffscreenCanvas=e?.renderToOffscreenCanvas===!0}static is(e){return e instanceof jb}static computeChildrenBBox(e,n=!0){return _e.merge(Ic.extractBBoxes(e,n))}static compareChildren(e,n){return z5(e.zIndex,n.zIndex)||e.serialNumber-n.serialNumber}containsPoint(e,n){return!0}computeBBox(){return jb.computeChildrenBBox(this.children())}computeSafeClippingBBox(e){let n=this.computeBBox();if(n?.isFinite()!==!0)return;let r=0,a=4;for(let m of this.descendants())m instanceof Sn&&(r=Math.max(r,m.strokeWidth));let s=Math.max(1,r/2*a),{x:o,y:l}=rn.toCanvasPoint(this,0,0),c=YU(e,o+n.x-s)-o,d=YU(e,l+n.y-s)-l,u=Math.ceil(n.x+n.width-c+s),h=Math.ceil(n.y+n.height-d+s);return new _e(c,d,u,h)}prepareSharedCanvas(e,n,r){return Lb==null||Lb.pixelRatio!==r?Lb=new ER({width:e,height:n,pixelRatio:r}):Lb.resize(e,n,r),Lb}setScene(e){super.setScene(e),this.layer&&(this.scene?.layersManager.removeLayer(this.layer),this.layer=void 0);for(let n of this.children())n.setScene(e)}markDirty(e){this.dirty=!0,super.markDirty(e)}markDirtyChildrenOrder(){super.markDirtyChildrenOrder(),this.dirtyZIndex=!0,this.markDirty()}append(e){for(let n of _U(e))n.parentNode?.removeChild(n),this.childNodes.add(n),n.parentNode=this,n.setScene(this.scene);this.markDirtyChildrenOrder(),this.markDirty()}appendChild(e){return this.append(e),e}removeChild(e){if(!this.childNodes?.delete(e))throw new Error(`AG Charts - internal error, unknown child node ${e.name??e.id} in $${this.name??this.id}`);e.parentNode=void 0,e.setScene(),this.markDirtyChildrenOrder(),this.markDirty()}clear(){for(let e of this.children())delete e.parentNode,e.setScene();this.childNodes?.clear(),this.markDirty()}pickNode(e,n){if(!(!this.visible||this.pointerEvents===1||!this.containsPoint(e,n))){if(this.childNodes!=null&&this.childNodes.size!==0){let r=[...this.children()];for(let a=r.length-1;a>=0;a--){let o=r[a].pickNode(e,n);if(o!=null)return o}}else if(!this.isContainerNode)return this}}pickNodes(e,n,r=[]){if(!this.visible||this.pointerEvents===1||!this.containsPoint(e,n))return r;this.isContainerNode||r.push(this);for(let a of this.children())a.pickNodes(e,n,r);return r}isDirty(e){let{width:n,height:r,devicePixelRatio:a}=e,{dirty:s,layer:o}=this,l=o!=null&&(this._lastWidth!==n||this._lastHeight!==r),c=this._lastDevicePixelRatio!==a;return this._lastWidth=n,this._lastHeight=r,this._lastDevicePixelRatio=a,s||l||c}preRender(e){let n;if(this.dirty){n=super.preRender(e,0);for(let r of this.children()){let a=r.preRender(e);n.groups+=a.groups,n.nonGroups+=a.nonGroups,n.complexity+=a.complexity}n.groups+=1,n.nonGroups-=1}else n=this.childNodeCounts;return this.renderToOffscreenCanvas&&!this.optimizeForInfrequentRedraws&&n.nonGroups>0&&this.getVisibility()?this.layer??(this.layer=this.layerManager?.addLayer({name:this.name})):this.layer!=null&&(this.layerManager?.removeLayer(this.layer),this.layer=void 0),n}render(e){let{layer:n,renderToOffscreenCanvas:r}=this,a=f({},e),s=this.isDirty(e);if(this.dirty=!1,!r){this.renderInContext(a),super.render(a);return}let{ctx:o,stats:l,devicePixelRatio:c}=e,{image:d}=this;if(s){d?.bitmap.close(),d=void 0;let h=n?void 0:this.computeSafeClippingBBox(c),m=(p,...g)=>{let b=p.context;a.ctx=b,p.clear(),b.save();try{b.setTransform(...g),b.globalAlpha=1,this.renderInContext(a)}finally{b.restore(),b.verifyDepthZero?.()}};if(n)m(n,o.getTransform());else if(h){let{x:p,y:g,width:b,height:v}=h,_=this.prepareSharedCanvas(b,v,c);m(_,c,0,0,c,-p*c,-g*c),d={bitmap:_.transferToImageBitmap(),x:p,y:g,width:b,height:v}}this.image=d,l&&l.layersRendered++}else l&&l.layersSkipped++;let{globalAlpha:u}=o;if(o.globalAlpha=u*this.opacity,n){o.save();try{o.resetTransform(),n.drawImage(o)}finally{o.restore()}}else if(d){let{bitmap:h,x:m,y:p,width:g,height:b}=d;o.drawImage(h,0,0,g*c,b*c,m,p,g,b)}o.globalAlpha=u,super.render(a)}applyClip(e,n){let{x:r,y:a,width:s,height:o}=n;e.beginPath(),e.rect(r,a,s,o),e.clip()}renderInContext(e){let{ctx:n,stats:r}=e;this.dirtyZIndex&&(this.sortChildren(jb.compareChildren),this.dirtyZIndex=!1),n.save();try{n.globalAlpha*=this.opacity,this.clipRect!=null&&(this.applyClip(n,this.clipRect),e.clipBBox=rn.toCanvas(this,this.clipRect));for(let a of this.children()){if(!a.visible){r&&(r.nodesSkipped+=a.childNodeCounts.nonGroups+a.childNodeCounts.groups,r.opsSkipped+=a.childNodeCounts.complexity);continue}a.isolatedRender(e)}}finally{n.restore()}}sortChildren(e){if(!this.childNodes)return;let n=[...this.childNodes].sort(e);this.childNodes.clear();for(let r of n)this.childNodes.add(r)}*children(){yield*sm(this.childNodes)}*excludeChildren(e){for(let n of this.children())(e.instance&&!(n instanceof e.instance)||e.name&&n.name!==e.name)&&(yield n)}*descendants(){for(let e of this.children())yield e,e instanceof jb&&(yield*sm(e.descendants()))}setClipRect(e){this.clipRect=e?rn.fromCanvas(this,e):void 0}setClipRectCanvasSpace(e){this.clipRect=e}getVisibility(){for(let e of this.traverseUp(!0))if(!e.visible)return!1;return!0}toSVG(){if(!this.visible)return;let e=[],n=[];for(let r of this.children()){let a=r.toSVG();a!=null&&(n.push(...a.elements),a.defs!=null&&e.push(...a.defs))}return{elements:n,defs:e}}};return t.className="Group",t})();y([ee({convertor:t=>Ae(0,t,1)})],tG.prototype,"opacity",2);var ht=tG,gce=class extends jR(ht){},yce=class extends Bf(ht){},Wr=class extends jf(ht){},af=class extends Bf(jf(ht)){};function bce(t,i){return"context"in t}function ZU(t,i){return t!=null&&bce(t,i)&&i[0]!=null&&typeof i[0]=="object"&&i[0].context===void 0?(i[0].context=t.context,!0):!1}function Ro(t,i,...e){if(Array.isArray(t)){for(let n of t)if(ZU(n,e))break}else ZU(t,e);return i(...e)}var iG=class{constructor(){this.cache=new WeakMap}call(t,i,...e){let n,r=this.cache.get(i);try{n=JSON.stringify(e)}catch{return this.invoke(t,i,r,void 0,...e)}return r==null&&(r=new Map,this.cache.set(i,r)),r.has(n)?r.get(n):this.invoke(t,i,r,n,...e)}invoke(t,i,e,n,...r){try{let a=Ro(t,i,...r);return e&&n!=null&&e.set(n,a),a}catch(a){j.warnOnce("User callback errored, ignoring",a);return}}invalidateCache(){this.cache=new WeakMap}};function $w(t,i){if(!t)return;let{x:e,y:n,width:r,height:a}=_ce(i);dw(t.style,"width",r),dw(t.style,"height",a),dw(t.style,"left",e),dw(t.style,"top",n)}function nG(t){let i=parseFloat(t.style.width)||t.offsetWidth,e=parseFloat(t.style.height)||t.offsetHeight,n=parseFloat(t.style.left)||t.offsetLeft,r=parseFloat(t.style.top)||t.offsetTop;return{x:n,y:r,width:i,height:e}}function vce(t){if(t.focus({preventScroll:!0}),t.lastChild?.textContent==null)return;let i=Br().createRange();i.setStart(t.lastChild,t.lastChild.textContent.length),i.setEnd(t.lastChild,t.lastChild.textContent.length);let e=Je().getSelection();e?.removeAllRanges(),e?.addRange(i)}function rG(){let t=Je("navigator");if("scheduling"in t){let i=t.scheduling;if("isInputPending"in i)return i.isInputPending({includeContinuous:!0})}return!1}function wD(t){return`ag-charts-icon ag-charts-icon-${t}`}function _ce(t){let{x:i,y:e,width:n,height:r}=t;return(n==null||n>0)&&(r==null||r>0)?t:(i!=null&&n!=null&&n<0&&(n=-n,i=i-n),e!=null&&r!=null&&r<0&&(r=-r,e=e-r),{x:i,y:e,width:n,height:r})}function dw(t,i,e){e==null?t.removeProperty(i):t.setProperty(i,`${e}px`)}var $1="class-instance";function Ec(t,i,e){if(qe(i)){if(!qe(t)||t.length!==i.length||i.some((n,r)=>Ec(t[r],n,e)!=null))return i}else if(yt(i)){if(!yt(t))return i;let n={},r=new Set([...Object.keys(t),...Object.keys(i)]);for(let a of r)if(t[a]!==i[a])if(e?.has(a))n[a]=i[a];else if(typeof t[a]==typeof i[a]){let s=Ec(t[a],i[a],e);s!==null&&(n[a]=s)}else n[a]=i[a];return Object.keys(n).length?n:null}else if(t!==i)return i;return null}function aG(t,i){for(let e of Object.keys(t))if(t[e]!==i?.[e])return!1;return!0}function qi(t,i){return qe(t)?xce(t,i):yt(t)?Cce(t,i):t instanceof Map?new Map(qi(Array.from(t))):zR(t)}function xce(t,i){let e=[],n=i?.seen;for(let r of t){if(typeof r=="object"&&n?.includes(r)){j.warn("cycle detected in array",r);continue}n?.push(r),e.push(qi(r,i)),n?.pop()}return e}function Cce(t,i){let e={};for(let n of Object.keys(t))i?.assign?.has(n)?e[n]=t[n]:i?.shallow?.has(n)?e[n]=zR(t[n]):e[n]=qi(t[n],i);return e}function zR(t){return qe(t)?t.slice(0):yt(t)?f({},t):uc(t)?new Date(t):aU(t)?new RegExp(t.source,t.flags):t}function Hd(t,i,e,n,r,a){if(qe(t)){a=i(t,n,r,a);let s=0;for(let o of t)a=Hd(o,i,e,n?.[s],r,a),s++}else if(yt(t)){a=i(t,n,r,a);for(let s of Object.keys(t)){if(e?.has(s))continue;let o=t[s];a=Hd(o,i,e,n?.[s],r,a)}}return a}function qb(t,i,e={}){let{path:n,matcherPath:r=n?.replace(/(\[[0-9+]+])/i,"[]"),skip:a=[]}=e;if(t==null)throw new Error(`AG Charts - target is uninitialised: ${n??"<root>"}`);if(i==null)return t;if(Lh(t))return t.set(i);let s=t,o=r1(t);for(let l of Object.keys(i)){if(LR.has(l))continue;let c=`${r?r+".":""}${l}`;if(a.includes(c))continue;let d=i[l],u=`${n?n+".":""}${l}`,h=s.constructor,m=s[l];try{let p=r1(m),g=r1(d);if(o===$1&&!(l in t||l==="context")){if(d===void 0)continue;j.warn(`unable to set [${u}] in ${h?.name} - property is unknown`);continue}if(p!=null&&g!=null&&g!==p&&(p!==$1||g!=="object")){j.warn(`unable to set [${u}] in ${h?.name} - can't apply type of [${g}], allowed types are: [${p}]`);continue}if(Lh(m))d===void 0?m.clear():m.set(d);else if(g==="object"&&l!=="context"){if(!(l in s)){j.warn(`unable to set [${u}] in ${h?.name} - property is unknown`);continue}m==null?s[l]=d:qb(m,d,S(f({},e),{path:u,matcherPath:c}))}else s[l]=d}catch(p){j.warn(`unable to set [${u}] in [${h?.name}]; nested error is: ${p.message}`)}}return t}function r1(t){return t==null?null:sU(t)||uc(t)?"primitive":qe(t)?"array":$t(t)?yt(t)?"object":$1:yo(t)?"function":"primitive"}var wce=class{constructor(){this.available=!0,this.acquireQueue=[]}acquire(t){return new Promise(i=>{this.acquireQueue.push([t,i]),this.available&&this.dispatchNext().catch(e=>j.errorOnce(e))})}acquireImmediately(t){return L(this,null,function*(){return this.available?(yield this.acquire(t),!0):!1})}waitForClearAcquireQueue(){return L(this,null,function*(){return this.acquire(()=>Promise.resolve(void 0))})}dispatchNext(){return L(this,null,function*(){this.available=!1;let[t,i]=this.acquireQueue.shift()??[];for(;t;){try{yield t(),i?.()}catch(e){j.error("mutex callback error",e),i?.()}[t,i]=this.acquireQueue.shift()??[]}this.available=!0})}},sG=class{constructor(){this.eventListeners=new Map}addEventListener(t,i){if(typeof i!="function")throw new Error("AG Charts - listener must be a Function");let e=this.eventListeners.get(t);e?e.add(i):this.eventListeners.set(t,new Set([i]))}removeEventListener(t,i){let e=this.eventListeners.get(t);e!=null&&(e.delete(i),e.size===0&&this.eventListeners.delete(t))}hasEventListener(t){return this.eventListeners.has(t)}clearEventListeners(){this.eventListeners.clear()}fireEvent(t){this.eventListeners.get(t.type)?.forEach(i=>i(t))}},Gh=class extends tt{constructor(t=0,i=t,e=t,n=i){super(),this.top=t,this.right=i,this.bottom=e,this.left=n}};y([C],Gh.prototype,"top",2);y([C],Gh.prototype,"right",2);y([C],Gh.prototype,"bottom",2);y([C],Gh.prototype,"left",2);function tr(t,i){let e=qe(t)?t:t.split(".");if(e.length===1){let[n]=e;return Bh((r,a,s)=>r[n]=s,r=>r[n],i)}return Bh((n,r,a)=>NR(n,e,a),n=>OR(n,e),i)}function Dce(t){return Bh((i,e,n)=>i[t]=n)}function yn(t,i){return Bh((e,n,r)=>e[t][i??n]=r)}function Yr(t){let{newValue:i,oldValue:e,changeValue:n}=t;return Bh((r,a,s,o)=>(s!==o&&(o!==void 0&&e?.call(r,o),s!==void 0&&i?.call(r,s),n?.call(r,s,o)),s))}function eu(t){return L5(t)}function Sce(t){return oG((i,e)=>Je().requestAnimationFrame(i),t)}function Mce(t){return oG((i,e=0)=>{e===0?queueMicrotask(i):setTimeout(i,e)},t)}function oG(t,i){let e=0,n=!1,r,a,s=()=>n,o=()=>{n=!1,a?.(),a=void 0,r=void 0,e>0&&t(l)},l=()=>{let d=e;e=0,n=!0;let u=i({count:d});if(!u){o();return}u.then(o,o)};return{schedule(d){e===0&&!s()&&t(l,d),e++},await(){return L(this,null,function*(){if(s())for(r??(r=new Promise(d=>{a=d}));s();)yield r})}}}var UR=["blur","change","contextmenu","focus","keydown","keyup","click","dblclick","mouseenter","mousemove","mouseleave","wheel","touchstart","touchmove","touchend","touchcancel"];function Qp(t,i,e){let{offsetX:n,offsetY:r,clientX:a,clientY:s}=i,{currentX:o,currentY:l}=wc.calcCurrentXY(e,i);return{type:t,device:"mouse",offsetX:n,offsetY:r,clientX:a,clientY:s,currentX:o,currentY:l,sourceEvent:i}}function uw(t,i,e){return{type:t,sourceEvent:i}}var Ice={blur:t=>({type:"blur",sourceEvent:t}),change:t=>({type:"change",sourceEvent:t}),contextmenu:(t,i)=>Qp("contextmenu",t,i),focus:t=>({type:"focus",sourceEvent:t}),keydown:t=>({type:"keydown",sourceEvent:t}),keyup:t=>({type:"keyup",sourceEvent:t}),click:(t,i)=>Qp("click",t,i),dblclick:(t,i)=>Qp("dblclick",t,i),mouseenter:(t,i)=>Qp("mouseenter",t,i),mousemove:(t,i)=>Qp("mousemove",t,i),mouseleave:(t,i)=>Qp("mouseleave",t,i),wheel:t=>{let{offsetX:i,offsetY:e,clientX:n,clientY:r}=t,a=t.deltaMode===0?.01:1,s=t.deltaX*a,o=t.deltaY*a;return{type:"wheel",offsetX:i,offsetY:e,clientX:n,clientY:r,deltaX:s,deltaY:o,sourceEvent:t}},touchstart:(t,i)=>uw("touchstart",t,i),touchmove:(t,i)=>uw("touchmove",t,i),touchend:(t,i)=>uw("touchend",t,i),touchcancel:(t,i)=>uw("touchcancel",t,i)},wc=class{static alloc(t,i,e){return Ice[t](i,e)}static isHTMLEvent(t){return UR.includes(t)}static calcCurrentXY(t,i){let e=t.getBoundingClientRect();return{currentX:i.clientX-e.x,currentY:i.clientY-e.y}}},kce=class{constructor(){this.widgetListeners={},this.sourceListeners={}}initSourceHandler(t,i){this.sourceListeners??(this.sourceListeners={}),this.sourceListeners[t]=i}lazyGetWidgetListeners(t,i){var e;if(!(t in(this.sourceListeners??{}))){let n=a=>{let s=wc.alloc(t,a,i.getElement());this.dispatch(t,i,s)},r={};t.startsWith("touch")&&(r.passive=!1),this.initSourceHandler(t,n),i.getElement().addEventListener(t,n,r)}return this.widgetListeners??(this.widgetListeners={}),(e=this.widgetListeners)[t]??(e[t]=[]),this.widgetListeners[t]}add(t,i,e){this.lazyGetWidgetListeners(t,i).push(e)}remove(t,i,e){let n=this.lazyGetWidgetListeners(t,i),r=n.indexOf(e);r>-1&&n.splice(r,1)}destroy(t){if(this.widgetListeners=void 0,this.sourceListeners){for(let[i,e]of dr(this.sourceListeners))t.getElement().removeEventListener(i,e);this.sourceListeners=void 0}}dispatch(t,i,e){for(let n of this.widgetListeners?.[t]??[])n(e,i)}},Ace=class{constructor(t,i,e,n){this.glob=t,this.self=i,this.window=Je(),this.cleanup=new pt,this.mousegeneral=l=>{l.stopPropagation(),l.stopImmediatePropagation()},this.mousemove=l=>{l.stopPropagation(),l.stopImmediatePropagation(),this.glob.globalMouseDragCallbacks?.mousemove(l)},this.mouseup=l=>{l.button===0&&(l.stopPropagation(),l.stopImmediatePropagation(),this.glob.globalMouseDragCallbacks?.mouseup(l),this.destroy())};let{window:r,mousegeneral:a,mousemove:s,mouseup:o}=this;this.cleanup.register(Gt(r,"mousedown",a,{capture:!0}),Gt(r,"mouseenter",a,{capture:!0}),Gt(r,"mouseleave",a,{capture:!0}),Gt(r,"mouseout",a,{capture:!0}),Gt(r,"mouseover",a,{capture:!0}),Gt(r,"mousemove",s,{capture:!0}),Gt(r,"mouseup",o,{capture:!0})),i.mouseDragger=this,t.globalMouseDragCallbacks=e,t.globalMouseDragCallbacks.mousedown(n),n.stopPropagation(),n.stopImmediatePropagation()}destroy(){this.cleanup.flush(),this.glob.globalMouseDragCallbacks=void 0,this.self.mouseDragger=void 0}};function Ece(t,i,e,n){if(t.globalMouseDragCallbacks==null)return new Ace(t,i,e,n)}var Tce=500,Rce=100;function Oce(t,i){let e=t.clientX-i.clientX,n=t.clientY-i.clientY;return e*e+n*n}var Y1=!1,Lce=class{constructor(t,i,e,n,r){this.glob=t,this.self=i,this.initialTouch=n,this.target=r,this.cleanup=new pt,this.longTapInterrupted=!1,this.longtap=()=>{let{target:o,initialTouch:l}=this;if(!this.longTapInterrupted){let c=new pt;o.dispatchEvent(new TouchEvent("touchcancel",{touches:[l],bubbles:!0})),Y1=!0;let d=g=>g.preventDefault(),u=g=>{Y1=!1,g.preventDefault(),c.flush()};c.register(Gt(o,"touchmove",d,{passive:!1}),Gt(o,"touchend",u,{passive:!1}),Gt(o,"touchcancel",u,{passive:!1}));let{clientX:h,clientY:m}=l,p=new PointerEvent("contextmenu",{bubbles:!0,cancelable:!0,view:Je(),clientX:h,clientY:m,pointerType:"touch"});o.dispatchEvent(p)}},this.touchmove=o=>{let{glob:l,self:c,initialTouch:d}=this,u=this.findInitialFinger(o.targetTouches);u!=null&&(this.longTapInterrupted=this.longTapInterrupted||Oce(d,u)>Rce,c.dragTouchEnabled&&l.globalTouchDragCallbacks?.touchmove(o,u))},this.touchend=o=>{this.longTapInterrupted=!0;let l=this.findInitialFinger(o.changedTouches,o.touches);l!=null&&this.glob.globalTouchDragCallbacks?.touchend(o,l),this.destroy()},this.longtapTimer=setTimeout(this.longtap,Tce);let{touchmove:a,touchend:s}=this;this.cleanup.register(Gt(r,"touchmove",a,{passive:!1}),Gt(r,"touchstart",s,{passive:!1}),Gt(r,"touchend",s,{passive:!1}),Gt(r,"touchcancel",s,{passive:!1})),i.touchDragger=this,t.globalTouchDragCallbacks=e}destroy(){clearTimeout(this.longtapTimer),this.cleanup.flush(),this.glob.globalTouchDragCallbacks=void 0,this.self.touchDragger=void 0}findInitialFinger(...t){let i=t.map(e=>Array.from(e)).flat();return Array.from(i).find(e=>e.identifier===this.initialTouch.identifier)}};function Nce(t,i,e,n,r){if(!(t.globalTouchDragCallbacks!=null||Y1))return new Lce(t,i,e,n,r)}function a1(t,i,e,n){let{currentX:r,currentY:a}=wc.calcCurrentXY(t.getElement(),n),s=n.pageX-e.pageX,o=n.pageY-e.pageY;return{type:i,device:"mouse",offsetX:e.offsetX+s,offsetY:e.offsetY+o,clientX:n.clientX,clientY:n.clientY,currentX:r,currentY:a,originDeltaX:s,originDeltaY:o,sourceEvent:n}}function Pce(t,{pageX:i,pageY:e}){let{x:n,y:r}=t.getElement().getBoundingClientRect();return{offsetX:i-n,offsetY:e-r}}function s1(t,i,e,n,r){let{currentX:a,currentY:s}=wc.calcCurrentXY(t.getElement(),r),o=r.pageX-e.pageX,l=r.pageY-e.pageY;return{type:i,device:"touch",offsetX:e.offsetX+o,offsetY:e.offsetY+l,clientX:r.clientX,clientY:r.clientY,currentX:a,currentY:s,originDeltaX:o,originDeltaY:l,sourceEvent:n}}var QU={},XU=class{constructor(t){this.dispatchCallback=t,this.dragTouchEnabled=!0}destroy(){this.dragTriggerRemover?.(),this.dragTriggerRemover=void 0,this.listeners?.clear(),this.mouseDragger?.destroy(),this.touchDragger?.destroy()}getListenerSet(t){this.listeners??(this.listeners=new Map);let i=this.listeners.get(t);return i===void 0&&(i=new Set,this.listeners.set(t,i)),i}add(t,i,e){switch(this.getListenerSet(t).add(e),t){case"drag-start":case"drag-move":case"drag-end":{this.registerDragTrigger(i);break}}}remove(t,i,e){this.getListenerSet(t).delete(e)}registerDragTrigger(t){if(this.dragTriggerRemover==null){let i=t.getElement(),e=new pt;e.register(Gt(i,"mousedown",n=>this.triggerMouseDrag(t,n)),Gt(i,"touchstart",n=>this.triggerTouchDrag(t,n),{passive:!1})),this.dragTriggerRemover=()=>e.flush()}}triggerMouseDrag(t,i){i.button===0&&this.startMouseDrag(t,i)}startMouseDrag(t,i){let e={pageX:NaN,pageY:NaN,offsetX:NaN,offsetY:NaN};H1(["pageX","pageY","offsetX","offsetY"],e,i);let n={mousedown:r=>{let a=a1(t,"drag-start",e,r);this.dispatch("drag-start",t,a)},mousemove:r=>{let a=a1(t,"drag-move",e,r);this.dispatch("drag-move",t,a)},mouseup:r=>{let a=a1(t,"drag-end",e,r);this.dispatch("drag-end",t,a),this.endDrag(t,a)}};this.mouseDragger=Ece(QU,this,n,i)}endDrag(t,{sourceEvent:i,clientX:e,clientY:n}){let r=t.getElement(),a=r.getBoundingClientRect();Yp(a,e,n)||(r.dispatchEvent(new MouseEvent("mouseleave",i)),i.target?.dispatchEvent(new MouseEvent("mouseenter",i)))}triggerTouchDrag(t,i){let e=i.targetTouches[0];i.targetTouches.length===1&&e!=null&&this.startOneFingerTouch(t,i,e)}startOneFingerTouch(t,i,e){let n=f({pageX:NaN,pageY:NaN},Pce(t,e));H1(["pageX","pageY"],n,e);let r={touchmove:(o,l)=>{let c=s1(t,"drag-move",n,o,l);this.dispatch("drag-move",t,c)},touchend:(o,l)=>{let c=s1(t,"drag-end",n,o,l);this.dispatch("drag-end",t,c)}},a=t.getElement();this.touchDragger=Nce(QU,this,r,e,a);let s=s1(t,"drag-start",n,i,e);this.dispatch("drag-start",t,s)}dispatch(t,i,e){for(let n of this.getListenerSet(t))n(e,i);this.dispatchCallback(t,e)}},Fce=class{constructor(t){this.elem=t}setBounds(t){$w(this.elemContainer??this.elem,t)}getBounds(){return nG(this.elemContainer??this.elem)}static setElementContainer(t,i){let e=t.getBounds();$w(i,e),xU(t.elem,{width:"100%",height:"100%"}),t.elem.remove(),t.elemContainer=i,t.elemContainer.replaceChildren(t.elem)}},Ol=class extends Fce{constructor(){super(...arguments),this.index=NaN,this.children=[]}set id(t){et(this.elem,"id",t)}get id(){return _l(this.elem,"id")}getElement(){return this.elem}getBoundingClientRect(){return this.elem.getBoundingClientRect()}get clientWidth(){return this.elem.clientWidth}get clientHeight(){return this.elem.clientHeight}destroy(){this.destroyListener?.(),this.destroyListener=void 0,this.parent?.removeChild(this),this.children.forEach(t=>{t.parent=void 0,t.destroy()}),this.children.length=0,this.destructor(),this.remove(),this.internalListener?.destroy(),this.htmlListener?.destroy(this)}remove(){this.elem.remove(),this.elemContainer?.remove()}setHidden(t){Ra(this.elem,"display",t?"none":void 0)}isHidden(){return Je()?.getComputedStyle?.(this.elem).display==="none"}setCursor(t){Ra(this.elem,"cursor",t)}setTextContent(t){this.elem.textContent=t??null}setAriaDescribedBy(t){et(this.elem,"aria-describedby",t)}setAriaHidden(t){et(this.elem,"aria-hidden",t)}setAriaLabel(t){et(this.elem,"aria-label",t)}setAriaExpanded(t){et(this.elem,"aria-expanded",t)}setAriaControls(t){et(this.elem,"aria-controls",t)}setAriaHasPopup(t){et(this.elem,"aria-haspopup",t)}setInnerHTML(t){this.elem.innerHTML=t}setPointerEvents(t){Ra(this.elem,"pointer-events",t)}isDisabled(){return _l(this.elem,"aria-disabled",!1)}hasPopup(){let t=_l(this.elem,"aria-haspopup");return t!==void 0&&t!=="false"}parseFloat(t){return t===""?0:parseFloat(t)}cssLeft(){return this.parseFloat(this.elem.style.left)}cssTop(){return this.parseFloat(this.elem.style.top)}cssWidth(){return this.parseFloat(this.elem.style.width)}cssHeight(){return this.parseFloat(this.elem.style.height)}focus(t){this.elem.focus(t)}setFocusOverride(t){et(this.elem,"data-focus-override",t)}setPreventsDefault(t){et(this.elem,"data-preventdefault",t)}setTabIndex(t){et(this.elem,"tabindex",t)}addChild(t){this.addChildToDOM(t,this.getBefore(t)),this.children.push(t),t.index=this.children.length-1,t.parent=this,this.onChildAdded(t)}removeChild(t){let i=this.children.findIndex(e=>e===t);this.children.splice(i,1),this.removeChildFromDOM(t),this.onChildRemoved(t)}moveChild(t,i){t.domIndex!==i&&(t.domIndex=i,this.removeChildFromDOM(t),this.addChildToDOM(t,this.getBefore(t)))}addClass(...t){this.elem.classList.add(...t)}removeClass(...t){this.elem.classList.remove(...t)}toggleClass(t,i){this.elem.classList.toggle(t,i)}appendOrInsert(t,i){i?i.getElement().insertAdjacentElement("beforebegin",t):this.elem.appendChild(t)}addChildToDOM(t,i){this.appendOrInsert(t.getElement(),i)}removeChildFromDOM(t){this.elem.removeChild(t.getElement())}onChildAdded(t){}onChildRemoved(t){}getBefore({domIndex:t}){if(t!==void 0)return this.children.filter(i=>i.domIndex!==void 0&&i.domIndex>t).reduce((i,e)=>!i||e.domIndex<i.domIndex?e:i,void 0)}addListener(t,i){return wc.isHTMLEvent(t)?(this.htmlListener??(this.htmlListener=new kce),this.htmlListener.add(t,this,i)):(this.internalListener??(this.internalListener=new XU(this.onDispatch.bind(this))),this.internalListener.add(t,this,i)),()=>this.removeListener(t,i)}removeListener(t,i){wc.isHTMLEvent(t)?this.htmlListener?.remove(t,this,i):this.htmlListener!=null&&this.internalListener?.remove(t,this,i)}setDragTouchEnabled(t){this.internalListener??(this.internalListener=new XU(this.onDispatch.bind(this))),this.internalListener.dragTouchEnabled=t}onDispatch(t,i){if(!i.sourceEvent?.bubbles)return;let{parent:e}=this;for(;e!=null;){let{internalListener:n}=e;if(n!=null){let r=f(f({},i),wc.calcCurrentXY(e.getElement(),i));n.dispatch(t,e,r)}e=e.parent}}static addWindowEvent(t,i){let e=n=>{n.persisted||i()};return Gt(Je(),"pagehide",e)}};function Vce(t=0,i=0){return new OffscreenCanvas(t,i).getContext("2d")}var HR=class{constructor(t=5){this.maxCacheSize=t,this.store=new Map}get(t){if(!this.store.has(t))return;let i=this.store.get(t);return this.store.delete(t),this.store.set(t,i),i}has(t){return this.store.has(t)}set(t,i){if(this.store.set(t,i),this.store.size>this.maxCacheSize){let e=this.store.keys(),n=this.store.size-this.maxCacheSize;for(;n>0;){let r=e.next();r.done||this.store.delete(r.value),n--}}return i}clear(){this.store.clear()}},tu=class{static measureText(t,i){return this.getMeasurer(i).measureText(t)}static measureLines(t,i){return this.getMeasurer(i).measureLines(t)}static getMeasurer(t){let i=Oi.toFontString(t.font),e=`${i}-${t.textAlign??"start"}-${t.textBaseline??"top"}`;return this.instanceMap.get(e)??this.createFontMeasurer(i,t,e)}static clear(){this.instanceMap.clear()}static createFontMeasurer(t,i,e){let n=Vce();n.font=t,n.textAlign=i.textAlign??"start",n.textBaseline=i.textBaseline??"top";let r=new lG(n,i);return this.instanceMap.set(e,r),r}};tu.instanceMap=new HR(10);var lG=class{constructor(t,i){this.ctx=t,this.measureMap=new HR(100),i.textAlign&&(t.textAlign=i.textAlign),i.textBaseline&&(t.textBaseline=i.textBaseline),t.font=Oi.toFontString(i.font),this.textMeasurer=new GR(e=>this.cachedCtxMeasureText(e),i.textBaseline??"alphabetic")}textWidth(t,i){return this.textMeasurer.textWidth(t,i)}measureText(t){return this.textMeasurer.measureText(t)}measureLines(t){return this.textMeasurer.measureLines(t)}cachedCtxMeasureText(t){if(!this.measureMap.has(t)){let i=this.ctx.measureText(t);this.measureMap.set(t,{actualBoundingBoxAscent:i.actualBoundingBoxAscent,emHeightAscent:i.emHeightAscent,emHeightDescent:i.emHeightDescent,actualBoundingBoxDescent:i.actualBoundingBoxDescent,actualBoundingBoxLeft:i.actualBoundingBoxLeft,actualBoundingBoxRight:i.actualBoundingBoxRight,alphabeticBaseline:i.alphabeticBaseline,fontBoundingBoxAscent:i.fontBoundingBoxAscent,fontBoundingBoxDescent:i.fontBoundingBoxDescent,hangingBaseline:i.hangingBaseline,ideographicBaseline:i.ideographicBaseline,width:i.width})}return this.measureMap.get(t)}},Oi=(()=>{let t=class{static toFontString({fontSize:i=10,fontStyle:e,fontWeight:n,fontFamily:r}){let a="";return e&&e!=="normal"&&(a+=`${e} `),n&&n!=="normal"&&n!==400&&(a+=`${n} `),a+=`${i}px`,a+=` ${r}`,a.trim()}static getLineHeight(i){return Math.ceil(i*this.defaultLineHeight)}static getHorizontalModifier(i){switch(i){case"left":case"start":return 0;case"center":return .5;case"right":case"end":return 1;default:return 0}}static getVerticalModifier(i){switch(i){case"hanging":case"top":return 0;case"middle":return .5;case"alphabetic":case"bottom":case"ideographic":default:return 1}}};return t.EllipsisChar="\u2026",t.defaultLineHeight=1.15,t.lineSplitter=/\r?\n/g,t})(),GR=class{constructor(t,i="alphabetic"){this.measureTextFn=t,this.textBaseline=i,this.charMap=new Map}getMetrics(t){let i=this.measureTextFn(t);return i.fontBoundingBoxAscent??(i.fontBoundingBoxAscent=i.emHeightAscent),i.fontBoundingBoxDescent??(i.fontBoundingBoxDescent=i.emHeightDescent),{width:i.width,height:i.actualBoundingBoxAscent+i.actualBoundingBoxDescent,lineHeight:i.fontBoundingBoxAscent+i.fontBoundingBoxDescent}}getMultilineMetrics(t){let i=0,e=0,n=0,r=0,a=0,s=0,o=Oi.getVerticalModifier(this.textBaseline),l=[],c=0,d=t.length;for(let u of t){let h=this.measureTextFn(u);h.fontBoundingBoxAscent??(h.fontBoundingBoxAscent=h.emHeightAscent),h.fontBoundingBoxDescent??(h.fontBoundingBoxDescent=h.emHeightDescent),i<h.width&&(i=h.width),r<h.actualBoundingBoxLeft&&(r=h.actualBoundingBoxLeft),c===0?(e+=h.actualBoundingBoxAscent,n+=h.actualBoundingBoxAscent,s=h.alphabeticBaseline):a+=h.fontBoundingBoxAscent,c===d-1?e+=h.actualBoundingBoxDescent:a+=h.fontBoundingBoxDescent,l.push({text:u,width:h.width,height:h.actualBoundingBoxAscent+h.actualBoundingBoxDescent,lineHeight:h.fontBoundingBoxAscent+h.fontBoundingBoxDescent,offsetTop:h.actualBoundingBoxAscent,offsetLeft:h.actualBoundingBoxLeft}),c++}return e+=a,n+=a*o,{width:i,height:e,offsetTop:n,offsetLeft:r,alphabeticBaseline:s,lineMetrics:l}}textWidth(t,i){if(i){let e=0;for(let n=0;n<t.length;n++)e+=this.textWidth(t.charAt(n));return e}return t.length>1?this.measureTextFn(t).width:this.charMap.get(t)??this.charWidth(t)}measureText(t){return this.getMetrics(t)}measureLines(t){let i=typeof t=="string"?t.split(Oi.lineSplitter):t;return this.getMultilineMetrics(i)}charWidth(t){let{width:i}=this.measureTextFn(t);return this.charMap.set(t,i),i}};function Bce(t){for(let i of["B","KB","MB","GB"]){if(t<1536)return`${t.toFixed(1)}${i}`;t/=1024}return`${t.toFixed(1)}TB}`}function jce(){if(!("memory"in performance))return;let{totalJSHeapSize:t,usedJSHeapSize:i,jsHeapSizeLimit:e}=performance.memory,n=[];for(let r of[i,t,e])typeof r=="number"&&n.push(Bce(r));return`Heap ${n.join(" / ")}`}function JU(t,i,e,n,r={},a=_e.zero){if(!bt.check("scene:stats","scene:stats:verbose"))return;let{layersRendered:s=0,layersSkipped:o=0,nodesRendered:l=0,nodesSkipped:c=0,opsPerformed:d=0,opsSkipped:u=0}=n??{},h=performance.now(),F=i,{start:m}=F,p=ci(F,["start"]),g=Object.entries(p).map(([P,U])=>eH(P,U)).filter(P=>P!=null).join(" + "),b=Object.entries(r).map(([P,U])=>`${P}: ${JSON.stringify(U)}`).join(" ; "),v=bt.check("scene:stats:verbose"),_=jce(),w=[`${eH("\u23F1\uFE0F",m,h)} (${g})`,`${b}`,`Layers: ${v?o1(s,o):t.size}`,v?`Nodes: ${o1(l,c)}`:null,v?`Ops: ${o1(d,u)}`:null,v&&_?_:null].filter(Gi),D=new GR(P=>e.measureText(P)),I=new Map(w.map(P=>[P,D.measureLines(P)])),E=Math.max(...Array.from(I.values(),P=>P.width)),A=$ce(I.values(),P=>P.height),N=2+a.x;e.save();try{e.fillStyle="white",e.fillRect(N,0,E,A),e.fillStyle="black";let P=0;for(let[U,H]of I.entries())P+=H.height,e.fillText(U,N,P)}catch(P){j.warnOnce("Error during debug stats rendering",P)}finally{e.restore()}}function zce(t){let i=fh(Je("agChartsSceneDebug")),e=[];for(let n of i)n==="layout"?e.push("seriesRoot","legend","root",/.*Axis-\d+-axis.*/):e.push(n);t.debugNodeSearch=e}function Uce(t,i){t.save();try{for(let[e,n]of Object.entries(i)){let r=rn.toCanvas(n);if(!r){j.log(`Scene.render() - no bbox for debugged node [${e}].`);continue}t.globalAlpha=.8,t.strokeStyle="red",t.lineWidth=1,t.strokeRect(r.x,r.y,r.width,r.height),t.fillStyle="red",t.strokeStyle="white",t.font="16px sans-serif",t.textBaseline="top",t.textAlign="left",t.lineWidth=2,t.strokeText(e,r.x,r.y,r.width),t.fillText(e,r.x,r.y,r.width)}}catch(e){j.warnOnce("Error during debug rendering",e)}finally{t.restore()}}var Hce=new Set,Gce=new Set(["gradient","zIndex","clipRect","cachedBBox","childNodeCounts","path","__zIndex","name","__scalingCenterX","__scalingCenterY","__rotationCenterX","__rotationCenterY","_previousDatum","__fill","__lineDash","borderPath","borderClipPath","_clipPath"]);function Wce(t){let i=ci(t,[]);for(let e of Object.keys(i))Gce.has(e)||typeof i[e]!="number"&&typeof i[e]!="string"&&typeof i[e]!="boolean"&&(Hce.add(e),delete i[e]);return i}function Mw(t,i){if(!bt.check(!0,"scene"))return{};let e=0;return f({node:i==="json"?Wce(t):t,name:t.name??t.id,dirty:t instanceof ht?t.dirty:void 0},Array.from(t instanceof ht?t.children():[],n=>Mw(n,i)).reduce((n,r)=>{let{name:a}=r,{node:{visible:s,opacity:o,zIndex:l,translationX:c,translationY:d,rotation:u,scalingX:h,scalingY:m},node:p}=r;(!s||o<=0)&&(a=`(${a})`),ht.is(p)&&p.renderToOffscreenCanvas&&(a=`*${a}*`);let g=Array.isArray(l)?`(${l.join(", ")})`:l,b=[`${(e++).toString().padStart(3,"0")}|`,`${a??"<unknown>"}`,`z: ${g}`,c&&`x: ${c}`,d&&`y: ${d}`,u&&`r: ${u}`,h!=null&&h!==1&&`sx: ${h}`,m!=null&&m!==1&&`sy: ${m}`].filter(w=>!!w).join(" "),v=b,_=1;for(;n[v]!=null&&_<100;)v=`${b} (${_++})`;return n[v]=r,n},{}))}function cG(t){let i=t instanceof ht?t.dirty:void 0;if(!i)return{dirtyTree:{},paths:[]};let e=Array.from(t instanceof ht?t.children():[],a=>cG(a)).filter(a=>a.paths.length>0),n=ht.is(t)?t.name??t.id:t.id,r=e.length?e.flatMap(a=>a.paths).map(a=>`${n}.${a}`):[n];return{dirtyTree:f({name:n,node:t,dirty:i},e.map(a=>a.dirtyTree).filter(a=>a.dirty!=null).reduce((a,s)=>(a[s.name??"<unknown>"]=s,a),{})),paths:r}}function o1(t,i){let e=t+i;return`${t} / ${e} (${Math.round(100*t/e)}%)`}function eH(t,i,e){let n=e!=null?e-i:i;return`${t}: ${Math.round(n*100)/100}ms`}function $ce(t,i){let e=0;for(let n of t)e+=i(n);return e}var zb=(t,{x0:i,y0:e,x1:n,y1:r,cx:a,cy:s},o,l)=>{if(l&&t.moveTo(i,e),i!==n||e!==r){let c=Math.atan2(e-s,i-a),d=Math.atan2(r-s,n-a);t.arc(a,s,o,c,d)}else t.lineTo(i,e)},ya=(()=>{let t=class extends Sn{constructor(){super(...arguments),this.path=new Sf,this._clipX=NaN,this._clipY=NaN,this.clip=!1,this._dirtyPath=!0,this.lastPixelRatio=NaN}set clipX(i){this._clipX=i,this.dirtyPath=!0}set clipY(i){this._clipY=i,this.dirtyPath=!0}set dirtyPath(i){this._dirtyPath!==i&&(this._dirtyPath=i,i&&this.markDirty("path"))}get dirtyPath(){return this._dirtyPath}checkPathDirty(){this._dirtyPath||(this.dirtyPath=this.path.isDirty()||(this.fillShadow?.isDirty()??!1)||(this._clipPath?.isDirty()??!1))}resetPathDirty(){this.path.clear(!0),this._dirtyPath=!1}isPathDirty(){return this.path.isDirty()}onChangeDetection(i){this._dirtyPath||(this._dirtyPath=!0,super.onChangeDetection(i))}computeBBox(){return this.updatePathIfDirty(),this.path.computeBBox()}isPointInPath(i,e){return this.updatePathIfDirty(),this.path.closedPath&&this.path.isPointInPath(i,e)}distanceSquared(i,e){return this.distanceSquaredTransformedPoint(i,e)}svgPathData(i){return this.updatePathIfDirty(),this.path.toSVG(i)}distanceSquaredTransformedPoint(i,e){return this.updatePathIfDirty(),this.path.closedPath&&this.path.isPointInPath(i,e)?0:this.path.distanceSquared(i,e)}isDirtyPath(){return!1}updatePath(){}updatePathIfDirty(){(this.dirtyPath||this.isDirtyPath())&&(this.updatePath(),this.dirtyPath=!1)}preRender(i){return i.devicePixelRatio!==this.lastPixelRatio&&(this.dirtyPath=!0),this.lastPixelRatio=i.devicePixelRatio,this.updatePathIfDirty(),super.preRender(i,this.path.commands.length)}render(i){let{ctx:e}=i;if(this.clip&&!isNaN(this._clipX)&&!isNaN(this._clipY)){e.save();try{let n=this.strokeWidth/2;this._clipPath??(this._clipPath=new Sf),this._clipPath.clear(),this._clipPath.rect(-n,-n,this._clipX+n,this._clipY+n+n),e.clip(this._clipPath?.getPath2D()),this._clipX>0&&this._clipY>0&&this.drawPath(e)}finally{e.restore()}}else this._clipPath=void 0,this.drawPath(e);this.fillShadow?.markClean(),super.render(i)}drawPath(i){this.fillStroke(i,this.path.getPath2D())}toSVG(){if(!this.visible)return;let i=qt("path");i.setAttribute("d",this.svgPathData());let e=this.applySvgFillAttributes(i,[]);return this.applySvgStrokeAttributes(i),{elements:[i],defs:e}}};return t.className="Path",t})();y([ee()],ya.prototype,"clip",2);y([ee()],ya.prototype,"clipX",1);y([ee()],ya.prototype,"clipY",1);var tH=1e-6,hw=(t,i,e,n,r)=>{let a=!1,s=!1,o=n-Math.sqrt(Math.max(r**2-e**2,0)),l=0,c=0,d=e-Math.sqrt(Math.max(r**2-n**2,0));return o>t?(a=!0,o=t,l=e-Math.sqrt(Math.max(r**2-(n-t)**2))):o<tH&&(o=0),d>i?(s=!0,c=n-Math.sqrt(Math.max(r**2-(e-i)**2)),d=i):d<tH&&(d=0),{leading0:o,leading1:l,trailing0:c,trailing1:d,leadingClipped:a,trailingClipped:s}},Iw=(t,i,e,n,r,a,s)=>{let{topLeft:o,topRight:l,bottomRight:c,bottomLeft:d}=a,u=Math.max(o+d,l+c),h=Math.max(o+l,d+c);if(u<=0&&h<=0){s==null?t.rect(i,e,n,r):t.rect(s.x,s.y,s.width,s.height);return}else if(s==null&&o===l&&o===c&&o===d){t.roundRect(i,e,n,r,o);return}if(n<0&&(i+=n,n=Math.abs(n)),r<0&&(e+=r,r=Math.abs(r)),n<=0||r<=0)return;if(s==null)s=new _e(i,e,n,r);else{let A=Math.max(i,s.x),N=Math.min(i+n,s.x+s.width),F=Math.max(e,s.y),P=Math.min(e+r,s.y+s.height);s=new _e(A,F,N-A,P-F)}let m=Math.max(u/r,h/n,1);m>1&&(o/=m,l/=m,c/=m,d/=m);let p=!0,g=!0,b=!0,v=!0,_,w,D,I;if(p){let A=hw(s.height,s.width,Math.max(i+o-s.x,0),Math.max(e+o-s.y,0),o);A.leadingClipped&&(v=!1),A.trailingClipped&&(g=!1);let N=Math.max(s.x+A.leading1,s.x),F=Math.max(s.y+A.leading0,s.y),P=Math.max(s.x+A.trailing1,s.x),U=Math.max(s.y+A.trailing0,s.y),H=i+o,q=e+o;_={x0:N,y0:F,x1:P,y1:U,cx:H,cy:q}}if(g){let A=hw(s.width,s.height,Math.max(e+l-s.y,0),Math.max(s.x+s.width-(i+n-l),0),l);A.leadingClipped&&(p=!1),A.trailingClipped&&(b=!1);let N=Math.min(s.x+s.width-A.leading0,s.x+s.width),F=Math.max(s.y+A.leading1,s.y),P=Math.min(s.x+s.width-A.trailing0,s.x+s.width),U=Math.max(s.y+A.trailing1,s.y),H=i+n-l,q=e+l;w={x0:N,y0:F,x1:P,y1:U,cx:H,cy:q}}if(b){let A=hw(s.height,s.width,Math.max(s.x+s.width-(i+n-c),0),Math.max(s.y+s.height-(e+r-c),0),c);A.leadingClipped&&(g=!1),A.trailingClipped&&(v=!1);let N=Math.min(s.x+s.width-A.leading1,s.x+s.width),F=Math.min(s.y+s.height-A.leading0,s.y+s.height),P=Math.min(s.x+s.width-A.trailing1,s.x+s.width),U=Math.min(s.y+s.height-A.trailing0,s.y+s.height),H=i+n-c,q=e+r-c;D={x0:N,y0:F,x1:P,y1:U,cx:H,cy:q}}if(v){let A=hw(s.width,s.height,Math.max(s.y+s.height-(e+r-d),0),Math.max(i+d-s.x,0),d);A.leadingClipped&&(b=!1),A.trailingClipped&&(p=!1);let N=Math.max(s.x+A.leading0,s.x),F=Math.min(s.y+s.height-A.leading1,s.y+s.height),P=Math.max(s.x+A.trailing0,s.x),U=Math.min(s.y+s.height-A.trailing1,s.y+s.height),H=i+d,q=e+r-d;I={x0:N,y0:F,x1:P,y1:U,cx:H,cy:q}}let E=!1;p&&_!=null&&(zb(t,_,o,!E),E||(E=!0)),g&&w!=null&&(zb(t,w,l,!E),E||(E=!0)),b&&D!=null&&(zb(t,D,c,!E),E||(E=!0)),v&&I!=null&&zb(t,I,d,!E),t.closePath()},ir=(()=>{let t=class extends ya{constructor(){super(...arguments),this.borderPath=new Sf,this.x=0,this.y=0,this.width=10,this.height=10,this.topLeftCornerRadius=0,this.topRightCornerRadius=0,this.bottomRightCornerRadius=0,this.bottomLeftCornerRadius=0,this.clipBBox=void 0,this.crisp=!1,this.lastUpdatePathStrokeWidth=this.strokeWidth,this.effectiveStrokeWidth=this.strokeWidth,this.hittester=super.isPointInPath.bind(this),this.distanceCalculator=super.distanceSquaredTransformedPoint.bind(this),this.microPixelEffectOpacity=1}set cornerRadius(i){this.topLeftCornerRadius=i,this.topRightCornerRadius=i,this.bottomRightCornerRadius=i,this.bottomLeftCornerRadius=i}isDirtyPath(){return this.lastUpdatePathStrokeWidth!==this.strokeWidth||!!(this.path.isDirty()||this.borderPath.isDirty())}updatePath(){let{path:i,borderPath:e,crisp:n,topLeftCornerRadius:r,topRightCornerRadius:a,bottomRightCornerRadius:s,bottomLeftCornerRadius:o}=this,{x:l,y:c,width:d,height:u,strokeWidth:h,clipBBox:m}=this,g=1/(this.layerManager?.canvas.pixelRatio??1),b=1;if(i.clear(!0),e.clear(!0),d===0||u===0){this.effectiveStrokeWidth=0,this.lastUpdatePathStrokeWidth=0,this.microPixelEffectOpacity=0;return}if(n&&(d<=g&&(b*=d/g),u<=g&&(b*=u/g),d=this.align(l,d),u=this.align(c,u),l=this.align(l),c=this.align(c),m=m!=null?new _e(this.align(m.x),this.align(m.y),this.align(m.x,m.width),this.align(m.y,m.height)):void 0),h)if(d<g){let v=l+g/2;e.moveTo(v,c),e.lineTo(v,c+u),h=g,this.borderClipPath=void 0}else if(u<g){let v=c+g/2;e.moveTo(l,v),e.lineTo(l+d,v),h=g,this.borderClipPath=void 0}else if(h<d&&h<u){let v=h/2;l+=v,c+=v,d-=h,u-=h;let _=m?.clone().shrink(v),w={topLeft:r>0?r-h:0,topRight:a>0?a-h:0,bottomRight:s>0?s-h:0,bottomLeft:o>0?o-h:0};this.borderClipPath=void 0,d>0&&u>0&&(_==null||_?.width>0&&_?.height>0)&&(Iw(i,l,c,d,u,w,_),Iw(e,l,c,d,u,w,_))}else this.borderClipPath=this.borderClipPath??new Sf,this.borderClipPath.clear(!0),this.borderClipPath.rect(l,c,d,u),e.rect(l,c,d,u);else{let v={topLeft:r,topRight:a,bottomRight:s,bottomLeft:o};this.borderClipPath=void 0,Iw(i,l,c,d,u,v,m)}if([r,a,s,o].every(v=>v===0)){let v=this.getBBox();this.hittester=v.containsPoint.bind(v),this.distanceSquared=(_,w)=>this.getBBox().distanceSquared(_,w)}else this.hittester=super.isPointInPath,this.distanceCalculator=super.distanceSquaredTransformedPoint;this.effectiveStrokeWidth=h,this.lastUpdatePathStrokeWidth=h,this.microPixelEffectOpacity=b}computeBBox(){let{x:i,y:e,width:n,height:r,clipBBox:a}=this;return a?.clone()??new _e(i,e,n,r)}isPointInPath(i,e){return this.hittester(i,e)}get midPoint(){return{x:this.x+this.width/2,y:this.y+this.height/2}}distanceSquared(i,e){return this.distanceCalculator(i,e)}applyFillAndAlpha(i){super.applyFillAndAlpha(i),i.globalAlpha*=this.microPixelEffectOpacity}applyStrokeAndAlpha(i){super.applyStrokeAndAlpha(i),i.globalAlpha*=this.microPixelEffectOpacity}renderStroke(i){let{stroke:e,effectiveStrokeWidth:n}=this;if(e&&n){let{globalAlpha:r}=i,{lineDash:a,lineDashOffset:s,lineCap:o,lineJoin:l,borderPath:c,borderClipPath:d}=this;d&&i.clip(d.getPath2D()),this.applyStrokeAndAlpha(i),i.lineWidth=n,a&&i.setLineDash(a),s&&(i.lineDashOffset=s),o&&(i.lineCap=o),l&&(i.lineJoin=l),i.stroke(c.getPath2D()),i.globalAlpha=r}}};return t.className="Rect",t})();y([ee()],ir.prototype,"x",2);y([ee()],ir.prototype,"y",2);y([ee()],ir.prototype,"width",2);y([ee()],ir.prototype,"height",2);y([ee()],ir.prototype,"topLeftCornerRadius",2);y([ee()],ir.prototype,"topRightCornerRadius",2);y([ee()],ir.prototype,"bottomRightCornerRadius",2);y([ee()],ir.prototype,"bottomLeftCornerRadius",2);y([cs({equals:Kp})],ir.prototype,"clipBBox",2);y([ee()],ir.prototype,"crisp",2);var l1=!1,Va=class sf extends Sn{constructor(i){super(i),this.x=0,this.y=0,this.lines=[],this.text=void 0,this.fontSize=sf.defaultFontSize,this.fontFamily="sans-serif",this.textAlign="start",this.textBaseline="alphabetic",this.boxPadding=0,this.trimText=i?.trimText??!0}onTextChange(){if(this.richText?.clear(),this.textMap?.clear(),qe(this.text))this.lines=[],this.richText??(this.richText=new ht),this.richText.setScene(this.scene),this.richText.append(this.text.map(()=>new sf({trimText:!1})));else{let i=this.text?.split(`
`)??[];this.lines=this.trimText?i.map(e=>e.trim()):i}}static computeBBox(i,e,n,r,a=!0){let{font:s,font:{fontSize:o},textAlign:l,textBaseline:c,lineHeight:d=a?Oi.getLineHeight(o):void 0}=r,{width:u,alphabeticBaseline:h,offsetLeft:m,offsetTop:p,height:g}=tu.measureLines(i,a?{font:s,lineHeight:d,textAlign:"start",textBaseline:"top"}:r),b=d==null?g:d*i.length,v;d==null?v=p:c==="alphabetic"?v=(d-o)/2-h:v=Oi.getVerticalModifier(c)*b;let _=a?u*Oi.getHorizontalModifier(l):m;return new _e(e-_,n-v,u,b)}computeBBox(i=l1){if(this.generateTextMap(),this.textMap?.size){let c=_e.merge(this.textMap.values());return c.x=this.x,c.y=this.y,c}let{x:e,y:n,lines:r,textBaseline:a,textAlign:s,lineHeight:o}=this,l=sf.computeBBox(r,e,n,{font:this,textBaseline:a,textAlign:s,lineHeight:o},i);return this.boxing!=null&&l.grow(this.boxPadding),l}getBBox(i=!0){if(i){l1=!0;let e=this.computeBBox(!0);return l1=!1,e}return super.getBBox()}getPlainText(){return Ab(this.text)}getTextMeasureBBox(){return this.computeBBox()}isPointInPath(i,e){return this.getBBox()?.containsPoint(i,e)??!1}setScene(i){this.richText?.setScene(i),super.setScene(i)}generateTextMap(){if(!qe(this.text)||this.textMap?.size)return;this.textMap??(this.textMap=new Map);let i=0,e=0,n=0,r={fill:this.fill,fontSize:this.fontSize,fontFamily:this.fontFamily,fontStyle:this.fontStyle,fontWeight:this.fontWeight};for(let o of this.richText.children()){let s=this.text[i++],{color:l}=s,c=ci(s,["color"]);o.x=0,o.y=0,o.setProperties(Xt({fill:l},c,r));let d=o.getBBox();this.textMap.set(o,d),n=Math.max(n,d.y+d.height/2+(o.lineHeight??Oi.getLineHeight(o.fontSize))),e+=d.x+d.width}let a=this.x-e/2;for(let[o,l]of this.textMap)o.x+=a,o.y+=n,a+=l.width}render(i){let{ctx:e,stats:n}=i;if(!this.text||!this.layerManager)return n&&(n.nodesSkipped+=1),super.render(i);if(qe(this.text)){this.generateTextMap();let{width:r}=this.richText.getBBox(),a=0;switch(this.textAlign){case"left":case"start":a=r/2;break;case"right":case"end":a=r/-2}e.save(),e.translate(a,this.y),this.richText.render(i),e.restore()}else this.renderText(i);if(sf.debug.check()&&!this.textMap?.size){let r=this.getBBox(!0);e.strokeStyle="red",e.lineWidth=1,e.strokeRect(r.x,r.y,r.width,r.height)}super.render(i)}markDirty(i){return this.textMap?.clear(),super.markDirty(i)}renderText(i){let{fill:e,stroke:n,strokeWidth:r}=this;if(!e&&!(n&&r)||!this.layerManager)return super.render(i);let{ctx:a}=i,s=Oi.toFontString(this);a.font!==s&&(a.font=s);let{fontSize:o,lineHeight:l=Oi.getLineHeight(o),textAlign:c,textBaseline:d}=this;if(a.textAlign=c,a.textBaseline=d,this.boxing){let u={font:this,textBaseline:d,textAlign:c,lineHeight:l},h=sf.computeBBox(this.lines,this.x,this.y,u);if(h.width!==0&&h.height!==0){let{x:m,y:p,width:g,height:b}=h.grow(this.boxPadding);this.boxing.opacity=this.opacity,this.boxing.x=m,this.boxing.y=p,this.boxing.width=g,this.boxing.height=b,this.boxing.preRender(i),this.boxing.render(i)}}this.fillStroke(a)}executeFill(i){let{fontSize:e,lineHeight:n=Oi.getLineHeight(e),textBaseline:r,lines:a}=this,s=r==="alphabetic"?0:Oi.getVerticalModifier(r)*n*(1-a.length);this.renderLines(s,n,(o,l,c)=>i.fillText(o,l,c))}executeStroke(i){let{fontSize:e,lineHeight:n=Oi.getLineHeight(e),textBaseline:r,lines:a}=this,s=r==="alphabetic"?0:Oi.getVerticalModifier(r)*n*(1-a.length);this.renderLines(s,n,(o,l,c)=>i.strokeText(o,l,c))}renderLines(i,e,n){let{lines:r,x:a,y:s}=this;if(!(!Number.isFinite(a)||!Number.isFinite(s)||!Number.isFinite(i)||!Number.isFinite(e)))for(let o of r)n(o,a,s+i),i+=e}setFont(i){this.fontFamily=i.fontFamily,this.fontSize=i.fontSize,this.fontStyle=i.fontStyle,this.fontWeight=i.fontWeight}setAlign(i){this.textAlign=i.textAlign,this.textBaseline=i.textBaseline}setBoxing(i){let e=i.border?.enabled?i.border?.stroke:void 0;i.fill!=null||e!=null?(this.boxing??(this.boxing=new ir({scene:this.scene})),this.boxing.fill=i.fill,this.boxing.fillOpacity=i.fillOpacity??1,this.boxing.cornerRadius=i.cornerRadius??0,this.boxing.stroke=e,this.boxing.strokeWidth=i.border?.strokeWidth??0,this.boxing.strokeOpacity=i.border?.strokeOpacity??1,this.boxPadding=i.padding??0):this.boxing&&(this.boxing.destroy(),this.boxing=void 0)}getBoxingProperties(){let{fill:i,fillOpacity:e,cornerRadius:n,stroke:r,strokeWidth:a,strokeOpacity:s}=this.boxing??{};return{border:{enabled:r!=null,stroke:r,strokeWidth:a,strokeOpacity:s},cornerRadius:n,fill:i,fillOpacity:e,padding:this.boxPadding}}toSVG(){if(!this.visible||!this.text)return;let i=qt("text");if(Gi(this.text))this.applySvgFillAttributes(i),qU(i,this),i.setAttribute("text-anchor",{center:"middle",left:"start",right:"end",start:"start",end:"end"}[this.textAlign??"start"]),i.setAttribute("alignment-baseline",this.textBaseline),i.setAttribute("x",String(this.x)),i.setAttribute("y",String(this.y)),i.textContent=this.text;else for(let e of this.text){let n=qt("tspan");qU(n,{fontSize:e.fontSize??this.fontSize,fontFamily:e.fontFamily??this.fontFamily,fontWeight:e.fontWeight??this.fontWeight,fontStyle:e.fontStyle??this.fontStyle}),this.applySvgFillAttributes(n),n.textContent=e.text,i.append(n)}return{elements:[i]}}};Va.className="Text";Va.debug=bt.create(!0,"scene:text");Va.defaultFontSize=10;y([ee()],Va.prototype,"x",2);y([ee()],Va.prototype,"y",2);y([B5({changeCb:t=>t.onTextChange()})],Va.prototype,"text",2);y([ee()],Va.prototype,"fontStyle",2);y([ee()],Va.prototype,"fontWeight",2);y([ee()],Va.prototype,"fontSize",2);y([ee()],Va.prototype,"fontFamily",2);y([ee()],Va.prototype,"textAlign",2);y([ee()],Va.prototype,"textBaseline",2);y([ee()],Va.prototype,"lineHeight",2);var as=Va,dG=class extends Bf(as){},Mf=class extends Bf(jf(as)){},Iv=class{static wrapText(t,i){return this.wrapLines(t,i).join(`
`)}static wrapLines(t,i){let e=this.textWrap(t,i);return i.overflow==="hide"&&e.some(n=>n.endsWith(Oi.EllipsisChar))?[]:e}static appendEllipsis(t){return t.replace(/[.,]{1,5}$/,"")+Oi.EllipsisChar}static truncateLine(t,i,e,n){let r=i.textWidth(Oi.EllipsisChar),a=0,s=0;for(;s<t.length;s++){let o=i.textWidth(t.charAt(s));if(a+o>e)break;a+=o}if(t.length===s&&(!n||a+r<=e))return n?t+Oi.EllipsisChar:t;for(t=t.slice(0,s).trimEnd();t.length&&i.textWidth(t)+r>e;)t=t.slice(0,-1).trimEnd();return t+Oi.EllipsisChar}static textWrap(t,i){let e=t.split(Oi.lineSplitter),n=tu.getMeasurer(i);if(i.textWrap==="never")return e.map(o=>this.truncateLine(o.trimEnd(),n,i.maxWidth));let r=[],a=i.textWrap==="hyphenate",s=i.textWrap==null||i.textWrap==="on-space";for(let o of e){let l=o.trimEnd();if(l===""){r.push(l);continue}let c=0,d=0,u=0;for(;c<l.length;){let h=l.charAt(c);if(d+=n.textWidth(h),h===" "&&(u=c),d>i.maxWidth){if(c===0)break;let m=n.textWidth(l.slice(0,c+1));if(m<=i.maxWidth){d=m,c++;continue}if(u){let b=this.getWordAt(l,u+1),v=n.textWidth(b);if(v<=i.maxWidth){r.push(l.slice(0,u).trimEnd()),l=l.slice(u).trimStart(),c=0,d=0,u=0;continue}else s&&v>i.maxWidth&&r.push(l.slice(0,u).trimEnd(),this.truncateLine(l.slice(u).trimStart(),n,i.maxWidth,!0))}else s&&r.push(this.truncateLine(l,n,i.maxWidth,!0));if(s){l="";break}let p=a?"-":"",g=l.slice(0,c).trim();for(;g.length&&n.textWidth(g+p)>i.maxWidth;)g=g.slice(0,-1).trimEnd();if(r.push(g+p),!g.length){l="";break}l=l.slice(g.length).trimStart(),c=-1,d=0,u=0}c++}l&&r.push(l)}return this.avoidOrphans(r,n,i),this.clipLines(r,n,i)}static getWordAt(t,i){let e=t.indexOf(" ",i);return e===-1?t.slice(i):t.slice(i,e)}static clipLines(t,i,e){if(!e.maxHeight)return t;let{height:n,lineMetrics:r}=i.measureLines(t);if(n<=e.maxHeight)return t;for(let a=0,s=0;a<r.length;a++){let{lineHeight:o}=r[a];if(s+=o,s>e.maxHeight){if(e.overflow==="hide")return[];let l=t.slice(0,a||1),c=l.pop();return l.concat(this.truncateLine(c,i,e.maxWidth,!0))}}return t}static avoidOrphans(t,i,e){if(e.avoidOrphans===!1||t.length<2)return;let{length:n}=t,r=t[n-1],a=t[n-2];if(a.length<r.length)return;let s=a.lastIndexOf(" ");if(s===-1||s===a.indexOf(" ")||r.includes(" "))return;let o=a.slice(s+1);i.textWidth(r+o)<=e.maxWidth&&(t[n-2]=a.slice(0,s),t[n-1]=o+" "+r)}},uG={};Rl(uG,{BASE_FONT_SIZE:()=>_c,CARTESIAN_AXIS_TYPE:()=>mG,CARTESIAN_POSITION:()=>hG,FONT_SIZE:()=>WR,FONT_SIZE_RATIO:()=>ss,POLAR_AXIS_SHAPE:()=>fG,POLAR_AXIS_TYPE:()=>pG});var WR=(t=>(t[t.SMALLEST=8]="SMALLEST",t[t.SMALLER=10]="SMALLER",t[t.SMALL=12]="SMALL",t[t.MEDIUM=13]="MEDIUM",t[t.LARGE=14]="LARGE",t[t.LARGEST=17]="LARGEST",t))(WR||{}),_c=12,ss=(t=>(t[t.SMALLEST=8/_c]="SMALLEST",t[t.SMALLER=10/_c]="SMALLER",t[t.SMALL=12/_c]="SMALL",t[t.MEDIUM=13/_c]="MEDIUM",t[t.LARGE=14/_c]="LARGE",t[t.LARGEST=17/_c]="LARGEST",t))(ss||{}),hG=(t=>(t.TOP="top",t.TOP_RIGHT="top-right",t.TOP_LEFT="top-left",t.RIGHT="right",t.RIGHT_TOP="right-top",t.RIGHT_BOTTOM="right-bottom",t.BOTTOM="bottom",t.BOTTOM_RIGHT="bottom-right",t.BOTTOM_LEFT="bottom-left",t.LEFT="left",t.LEFT_TOP="left-top",t.LEFT_BOTTOM="left-bottom",t))(hG||{}),mG=(t=>(t.CATEGORY="category",t.GROUPED_CATEGORY="grouped-category",t.ORDINAL_TIME="ordinal-time",t.UNIT_TIME="unit-time",t.TIME="time",t.NUMBER="number",t.LOG="log",t))(mG||{}),pG=(t=>(t.ANGLE_CATEGORY="angle-category",t.ANGLE_NUMBER="angle-number",t.RADIUS_CATEGORY="radius-category",t.RADIUS_NUMBER="radius-number",t))(pG||{}),fG=(t=>(t.CIRCLE="circle",t.POLYGON="polygon",t))(fG||{}),an=(()=>{let t=class extends tt{constructor(){super(...arguments),this.id=pn(this),this.node=new dG({zIndex:1}).setProperties({textAlign:"center",pointerEvents:1}),this.enabled=!1,this.textAlign="center",this.fontSize=10,this.fontFamily="sans-serif",this.wrapping="always",this.padding=0,this.layoutStyle="block",this.truncated=!1}registerInteraction(i,e){return i.eventsHub.on("layout:complete",()=>this.updateA11yText(i,e))}computeTextWrap(i,e){let{text:n,padding:r,wrapping:a}=this;if(qe(n))return;let s=Math.min(this.maxWidth??1/0,i)-r*2,o=this.maxHeight??e-r*2;if(!isFinite(s)&&!isFinite(o)){this.node.text=n;return}let l=Iv.wrapText(n??"",{maxWidth:s,maxHeight:o,font:this,textWrap:a});this.node.text=l,this.truncated=l.includes(Oi.EllipsisChar)}updateA11yText(i,e){let{proxyInteractionService:n}=i;if(this.enabled&&this.text){let r=rn.toCanvas(this.node);if(r){let{id:a}=this;this.proxyText??(this.proxyText=n.createProxyElement({type:"text",domManagerId:a,where:e})),this.proxyText.textContent=Ab(this.text),this.proxyText.setBounds(r),this.proxyText.addListener("mousemove",s=>this.handleMouseMove(i,s)),this.proxyText.addListener("mouseleave",s=>this.handleMouseLeave(i,s))}}else this.proxyText?.destroy(),this.proxyText=void 0}handleMouseMove(i,e){if(e!=null&&this.enabled&&this.truncated){let{x:n,y:r}=rn.toCanvas(this.node),a=e.sourceEvent.offsetX+n,s=e.sourceEvent.offsetY+r;i.tooltipManager.updateTooltip(this.id,{canvasX:a,canvasY:s,showArrow:!1},[{type:"structured",title:Ab(this.text)}])}}handleMouseLeave(i,e){i.tooltipManager.removeTooltip(this.id)}};return t.SMALL_PADDING=10,t})();y([C,yn("node","visible")],an.prototype,"enabled",2);y([C,yn("node")],an.prototype,"text",2);y([C,yn("node")],an.prototype,"textAlign",2);y([C,yn("node")],an.prototype,"fontStyle",2);y([C,yn("node")],an.prototype,"fontWeight",2);y([C,yn("node")],an.prototype,"fontSize",2);y([C,yn("node")],an.prototype,"fontFamily",2);y([C,yn("node","fill")],an.prototype,"color",2);y([C],an.prototype,"spacing",2);y([C],an.prototype,"maxWidth",2);y([C],an.prototype,"maxHeight",2);y([C],an.prototype,"wrapping",2);y([C],an.prototype,"padding",2);y([C],an.prototype,"layoutStyle",2);var $R=(t=>(t.X="x",t.Y="y",t.Angle="angle",t.Radius="radius",t))($R||{});function Yce(t){switch(t){case"x":case"y":case"angle":case"radius":return!0;default:return!1}}var DD=class{constructor(){this.title=new an,this.subtitle=new an,this.footnote=new an}positionCaptions(t){let{title:i,subtitle:e,footnote:n}=this,r=t.layoutBox.height/10;i.enabled&&(this.positionCaption("top",i,t.layoutBox,r),this.shrinkLayoutByCaption("top",i,t.layoutBox)),e.enabled&&(this.positionCaption("top",e,t.layoutBox,r),this.shrinkLayoutByCaption("top",e,t.layoutBox)),n.enabled&&(this.positionCaption("bottom",n,t.layoutBox,r),this.shrinkLayoutByCaption("bottom",n,t.layoutBox))}positionAbsoluteCaptions(t){let{title:i,subtitle:e,footnote:n}=this,{rect:r}=t.series;for(let a of[i,e,n])if(a.layoutStyle==="overlay"){if(a.textAlign==="left")a.node.x=r.x+a.padding;else if(a.textAlign==="right"){let s=a.node.getBBox();a.node.x=r.x+r.width-s.width-a.padding}}}computeX(t,i){return t==="left"?i.x:t==="right"?i.x+i.width:i.x+i.width/2}positionCaption(t,i,e,n){let r=Math.max(Oi.getLineHeight(i.fontSize),n);i.node.x=this.computeX(i.textAlign,e)+i.padding,i.node.y=e.y+(t==="top"?0:e.height)+i.padding,i.node.textBaseline=t,i.computeTextWrap(e.width,r)}shrinkLayoutByCaption(t,i,e){if(i.layoutStyle==="block"){let n=i.node.getBBox(),{spacing:r=0}=i;t==="bottom"&&qe(i.text)&&(i.node.y-=n.height,n.y-=n.height),e.shrink(Math.ceil(t==="top"?n.y-e.y+n.height+r:e.y+e.height-n.y+r),t)}}};y([C],DD.prototype,"title",2);y([C],DD.prototype,"subtitle",2);y([C],DD.prototype,"footnote",2);var Kce=["candlestick","hollow-candlestick","ohlc","line","step-line","hlc","high-low"],qce=class{constructor(t){this.chartService=t,this.mementoOriginatorKey="chartType"}createMemento(){let t=this.chartService.publicApi?.getOptions()?.chartType;return t??(t="candlestick"),t}guardMemento(t){return t==null||Kce.includes(t)}restoreMemento(t,i,e){if(e==null)return;let n={chartType:e};this.chartService.publicApi?.updateDelta(n).catch(r=>j.error("error restoring state",r))}},If="12.1.2",iH=Symbol("previous-memento-not-found"),Zce=class{constructor(t){this.history=[],this.historyIndex=-1,this.originators=new Map,this.clearState=new Map,this.maxHistoryLength=100,this.debug=bt.create(!0,"history"),this.cleanup=new pt,this.cleanup.register(t.on("series:undo",this.undo.bind(this)),t.on("series:redo",this.redo.bind(this)))}destroy(){this.cleanup.flush()}addMementoOriginator(t){this.originators.set(t.mementoOriginatorKey,t),this.clearState.set(t.mementoOriginatorKey,t.createMemento()),this.debugEvent("History add originator:",t.mementoOriginatorKey)}clear(){this.debug("History clear:",Object.keys(this.originators)),this.history=[],this.historyIndex=-1;for(let[t,i]of this.originators.entries())this.clearState.set(t,i.createMemento())}record(t,...i){this.historyIndex<this.history.length-1&&(this.history=this.history.slice(0,this.historyIndex+1)),this.history.length>this.maxHistoryLength&&(this.history=this.history.slice(-this.maxHistoryLength));let e=new Map;for(let n of i){if(!this.originators.has(n.mementoOriginatorKey))throw new Error(`Originator [${n.mementoOriginatorKey}] has not been added to the HistoryManager.`);e.set(n.mementoOriginatorKey,n.createMemento())}this.history.push({label:t,mementos:e}),this.historyIndex=this.history.length-1,this.debugEvent(`History record: [${t}]`)}undo(){let t=this.history[this.historyIndex];if(t){for(let i of t.mementos.keys()){let e=this.findPreviousMemento(i);if(e===iH)throw new Error(`Could not find previous memento for [${i}].`);this.restoreMemento(i,e)}this.historyIndex-=1,this.debugEvent(`History undo: [${t.label}]`)}}redo(){let t=this.history[this.historyIndex+1];if(t){for(let[i,e]of t.mementos.entries())this.restoreMemento(i,e);this.historyIndex+=1,this.debugEvent(`History redo: [${t.label}]`)}}findPreviousMemento(t){for(let i=this.historyIndex-1;i>=0;i--)if(this.history[i].mementos.has(t))return this.history[i].mementos.get(t);return this.clearState.has(t)?this.clearState.get(t):iH}restoreMemento(t,i){this.originators.get(t)?.restoreMemento(If,If,i)}debugEvent(...t){this.debug(...t,this.history.map((i,e)=>e===this.historyIndex?`** ${i.label} **`:i.label))}},gG=class K1{constructor(i){this.version=i.split("-")[0]}save(...i){let e={version:this.version};for(let n of Object.values(i))e[n.mementoOriginatorKey]=this.encode(n,n.createMemento());return e}restore(i,...e){if(typeof i!="object"){j.warnOnce(`Could not restore data of type [${typeof i}], expecting an object, ignoring.`);return}if(i==null){j.warnOnce("Could not restore data of type [null], expecting an object, ignoring.");return}if(!("version"in i)||typeof i.version!="string"){j.warnOnce("Could not restore data, missing [version] string in object, ignoring.");return}for(let n of e){let r=this.decode(n,i[n.mementoOriginatorKey]),a=[];if(!n.guardMemento(r,a)){let s=a.length>0?`

${a.join(`

`)}

`:"";j.warnOnce(`Could not restore [${n.mementoOriginatorKey}] data, value was invalid, ignoring.${s}`,r);return}n.restoreMemento(this.version,i.version,r)}}encode(i,e){try{return JSON.parse(JSON.stringify(e,K1.encodeTypes))}catch(n){throw new Error(`Failed to encode [${i.mementoOriginatorKey}] value [${n}].`,{cause:n})}}decode(i,e){if(e==null)return e;try{return JSON.parse(JSON.stringify(e),K1.decodeTypes)}catch(n){throw new Error(`Failed to decode [${i.mementoOriginatorKey}] value [${n}].`,{cause:n})}}static encodeTypes(i,e){return uc(this[i])?{__type:"date",value:this[i].toISOString()}:e}static decodeTypes(i,e){return $t(this[i])&&"__type"in this[i]&&this[i].__type==="date"?new Date(this[i].value):e}},Qce=class{constructor(){this.caretaker=new gG(If),this.state=new Map}setState(t,i){Ln(this.state.get(t.mementoOriginatorKey),i)||this.setStateAndRestore(t,i)}setStateAndRestore(t,i){this.state.set(t.mementoOriginatorKey,i),this.restoreState(t)}restoreState(t){let{caretaker:i,state:e}=this;if(!e.has(t.mementoOriginatorKey))return;let n=e.get(t.mementoOriginatorKey);i.restore({version:i.version,[t.mementoOriginatorKey]:n},t)}},Xce=`.ag-charts-wrapper,.ag-charts-wrapper:after,.ag-charts-wrapper:before,.ag-charts-wrapper *,.ag-charts-wrapper *:after,.ag-charts-wrapper *:before{box-sizing:border-box}.ag-charts-wrapper{--align-items: center;--justify-content: center;position:relative;user-select:none;-webkit-user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.ag-charts-wrapper--safe-horizontal{--justify-content: flex-start}.ag-charts-wrapper--safe-vertical{--align-items: flex-start}.ag-charts-tab-guard{width:0%;height:0%;position:absolute;pointer-events:none}.ag-charts-canvas-center{width:100%;height:100%;position:absolute;touch-action:auto;pointer-events:auto;display:flex;align-items:var(--align-items);justify-content:var(--justify-content)}.ag-charts-canvas-container,.ag-charts-canvas{position:relative;user-select:none;-webkit-user-select:none}.ag-charts-canvas-container>*,.ag-charts-canvas>*{pointer-events:none}.ag-charts-canvas canvas{display:block}.ag-charts-series-area{outline:none;pointer-events:auto;position:absolute}.ag-charts-swapchain{top:0;left:0;outline:none;opacity:0;pointer-events:none;position:absolute;width:100%;height:100%}.ag-charts-swapchain:focus-visible{opacity:1}.ag-charts-canvas-proxy,.ag-charts-canvas-overlay{inset:0;pointer-events:none;position:absolute;user-select:none;-webkit-user-select:none}.ag-charts-canvas-overlay>*{position:absolute;pointer-events:auto}.ag-charts-theme-default,.ag-charts-theme-default-dark{--ag-charts-accent-color: #2196f3;--ag-charts-background-color: #fff;--ag-charts-border-color: #dddddd;--ag-charts-border-radius: 4px;--ag-charts-chart-background-color: #fff;--ag-charts-chart-padding: 20px;--ag-charts-focus-shadow: 0 0 0 3px #2196f3;--ag-charts-foreground-color: #181d1f;--ag-charts-font-family: Verdana, sans-serif;--ag-charts-font-size: 12px;--ag-charts-font-weight: 400;--ag-charts-popup-shadow: 0 0 16px rgba(0, 0, 0, .15);--ag-charts-subtle-text-color: #8c8c8c;--ag-charts-text-color: #181d1f;--ag-charts-chrome-background-color: #fafafa;--ag-charts-chrome-font-family: Verdana, sans-serif;--ag-charts-chrome-font-size: 12px;--ag-charts-chrome-font-weight: 400;--ag-charts-chrome-subtle-text-color: #8c8c8c;--ag-charts-chrome-text-color: #181d1f;--ag-charts-button-background-color: #fff;--ag-charts-button-border: 1px solid #dddddd;--ag-charts-button-font-weight: normal;--ag-charts-button-text-color: inherit;--ag-charts-input-background-color: #fff;--ag-charts-input-border: 1px solid #dddddd;--ag-charts-input-text-color: #181d1f;--ag-charts-menu-background-color: #fafafa;--ag-charts-menu-border: 1px solid #dddddd;--ag-charts-menu-text-color: #181d1f;--ag-charts-panel-background-color: #fafafa;--ag-charts-panel-text-color: #181d1f;--ag-charts-tooltip-background-color: #fafafa;--ag-charts-tooltip-border: 1px solid #dddddd;--ag-charts-tooltip-text-color: #181d1f;--ag-charts-tooltip-subtle-text-color: #8c8c8c;--ag-charts-crosshair-label-background-color: #fafafa;--ag-charts-crosshair-label-text-color: #181d1f;--ag-charts-spacing: 4px;--ag-charts-icon-size: 16px;--ag-charts-focus-color: color-mix(in srgb, var(--ag-charts-background-color), var(--ag-charts-accent-color) 12%);--ag-charts-input-border-radius: var(--ag-charts-border-radius);--ag-charts-input-focus-border-color: var(--ag-charts-accent-color);--ag-charts-input-focus-text-color: var(--ag-charts-accent-color);--ag-charts-input-disabled-background-color: color-mix( in srgb, var(--ag-charts-chrome-background-color), var(--ag-charts-foreground-color) 6% );--ag-charts-input-disabled-border-color: var(--ag-charts-border-color);--ag-charts-input-disabled-text-color: color-mix( in srgb, var(--ag-charts-chrome-background-color), var(--ag-charts-input-text-color) 50% );--ag-charts-input-placeholder-text-color: color-mix( in srgb, var(--ag-charts-input-background-color), var(--ag-charts-input-text-color) 60% );--ag-charts-button-border-radius: var(--ag-charts-border-radius);--ag-charts-button-focus-background-color: color-mix( in srgb, var(--ag-charts-button-background-color), var(--ag-charts-accent-color) 12% );--ag-charts-button-focus-border-color: var(--ag-charts-accent-color);--ag-charts-button-focus-text-color: var(--ag-charts-accent-color);--ag-charts-button-disabled-background-color: color-mix( in srgb, var(--ag-charts-chrome-background-color), var(--ag-charts-foreground-color) 6% );--ag-charts-button-disabled-border-color: var(--ag-charts-border-color);--ag-charts-button-disabled-text-color: color-mix( in srgb, var(--ag-charts-chrome-background-color), var(--ag-charts-chrome-text-color) 50% );--ag-charts-checkbox-background-color: color-mix( in srgb, var(--ag-charts-background-color), var(--ag-charts-foreground-color) 35% );--ag-charts-checkbox-checked-background-color: var(--ag-charts-accent-color);--ag-charts-tooltip-border-radius: var(--ag-charts-border-radius);--ag-charts-menu-border-radius: var(--ag-charts-border-radius);--ag-charts-chrome-font-size-small: var(--ag-charts-chrome-font-size);--ag-charts-chrome-font-size-medium: calc(var(--ag-charts-chrome-font-size) * (13 / 12));--ag-charts-chrome-font-size-large: calc(var(--ag-charts-chrome-font-size) * (14 / 12));--ag-charts-border: 1px solid var(--ag-charts-border-color);--ag-charts-focus-border: 1px solid var(--ag-charts-accent-color);--ag-charts-focus-border-shadow: 0 0 0 3px color-mix(in srgb, transparent, var(--ag-charts-accent-color) 20%);--ag-charts-layer-menu: 6;--ag-charts-layer-ui-overlay: 5;--ag-charts-layer-tooltip: 4;--ag-charts-layer-toolbar: 3;--ag-charts-layer-crosshair: 2;--ag-charts-layer-annotations: 1}.ag-charts-theme-default-dark{--ag-charts-focus-color: color-mix(in srgb, var(--ag-charts-background-color), var(--ag-charts-accent-color) 22%)}.ag-chart-canvas-wrapper .ag-charts-theme-default{--ag-charts-border-radius: var(--ag-border-radius, 4px);--ag-charts-border: var(--ag-borders-critical, solid 1px) var(--ag-charts-border-color);--ag-charts-focus-shadow: var(--ag-focus-shadow, 0 0 0 3px var(--ag-charts-accent-color));--ag-charts-focus-border-shadow: var( --ag-focus-shadow, 0 0 0 3px color-mix(in srgb, transparent, var(--ag-charts-accent-color) 20%) )}.ag-charts-icon{display:block;width:20px;height:20px;speak:none;speak:never;mask:var(--icon) center / contain no-repeat;background-color:currentColor;transition:background-color .25s ease-in-out}.ag-charts-icon-align-center{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNNyAxMGg2djFIN3pNNCA3aDEydjFINHptMSA2aDEwdjFINXoiLz48L3N2Zz4=)}.ag-charts-icon-align-left{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNNCAxMGg2djFINHptMC0zaDEydjFINHptMCA2aDEwdjFINHoiLz48L3N2Zz4=)}.ag-charts-icon-align-right{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMTAgMTBoNnYxaC02ek00IDdoMTJ2MUg0em0yIDZoMTB2MUg2eiIvPjwvc3ZnPg==)}.ag-charts-icon-arrow-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTE1LjI5MyA0LjVIMTIuNXYtMUgxN3Y0aC0xVjUuMjA3bC05LjY0NiA5LjY0Ny0uNzA4LS43MDh6IiBmaWxsPSIjMDAwIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03IDE2YTIuNSAyLjUgMCAxIDEtNSAwIDIuNSAyLjUgMCAwIDEgNSAwbS0yLjUgMS41YTEuNSAxLjUgMCAxIDAgMC0zIDEuNSAxLjUgMCAwIDAgMCAzIiBmaWxsPSIjMDAwIi8+PC9zdmc+)}.ag-charts-icon-arrow-down-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02IDhMMS41IDhMMTAgMThMMTguNSA4TDE0IDhMMTQgM0w2IDNMNiA4Wk03IDRMNyA5SDMuNjYyNDRMMTAgMTYuNDU2TDE2LjMzNzYgOUwxMyA5TDEzIDRMNyA0WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==)}.ag-charts-icon-arrow-up-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNCAxMkgxOC41TDEwIDJMMS41IDEySDZMNi4wMDAwMiAxN0gxNFYxMlpNMTMgMTZWMTFIMTYuMzM3NkwxMCAzLjU0NDA1TDMuNjYyNDQgMTFIN0w3LjAwMDAyIDE2SDEzWiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==)}.ag-charts-icon-callout-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMyA0LjVBMS41IDEuNSAwIDAgMSA0LjUgM2gxMUExLjUgMS41IDAgMCAxIDE3IDQuNXY4YTEuNSAxLjUgMCAwIDEtMS41IDEuNWgtNC41MTRhMjYgMjYgMCAwIDAtMi4wMTcgMS41NGwtLjMxNC4yNmMtLjU1LjQ1Ny0xLjExNS45MjYtMS43NiAxLjQtLjY2OS40OTEtMS41NjItLjAxMi0xLjU2Mi0uOFYxNEg0LjVBMS41IDEuNSAwIDAgMSAzIDEyLjV6TTQuNSA0YS41LjUgMCAwIDAtLjUuNXY4YS41LjUgMCAwIDAgLjUuNWgxLjgzM3YzLjM3MmEzNiAzNiAwIDAgMCAxLjY3OC0xLjMzOGwuMzItLjI2NWEyNiAyNiAwIDAgMSAyLjIyNS0xLjY4NWwuMTI2LS4wODRIMTUuNWEuNS41IDAgMCAwIC41LS41di04YS41LjUgMCAwIDAtLjUtLjV6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-candlestick-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNyAxdjNoMnYxMkg3djNINnYtM0g0VjRoMlYxek01IDVoM3YxMEg1ek0xMSAxNFY2aDJWMy4yNWgxVjZoMnY4aC0ydjIuNzVoLTFWMTR6bTEtN2gzdjZoLTN6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-close{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJtNSA1IDEwIDEwTTUgMTUgMTUgNSIgc3Ryb2tlPSIjMDAwIi8+PC9zdmc+)}.ag-charts-icon-comment-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNy41MTMgMy45OTVhNi41IDYuNSAwIDAgMSA2LjA5OCAxMS40MWMtLjU4OC4zOTMtMS4yMTcuNTM2LTEuODI5LjU4NWExMyAxMyAwIDAgMS0xLjI3LjAxN0EyNyAyNyAwIDAgMCAxMCAxNkg0LjVhLjUuNSAwIDAgMS0uNS0uNVYxMHEwLS4yNDctLjAwNy0uNTEzYy0uMDA4LS40MTYtLjAxNi0uODU3LjAxNy0xLjI2OS4wNS0uNjEyLjE5Mi0xLjI0LjU4NS0xLjgzYTYuNSA2LjUgMCAwIDEgMi45MTgtMi4zOTNtMy41Ni42MWE1LjUgNS41IDAgMCAwLTUuNjQ2IDIuMzRjLS4yNjYuMzk3LS4zNzkuODQyLS40MiAxLjM1NC0uMDMuMzYtLjAyMi43MTgtLjAxNSAxLjEwOFE1IDkuNjg5IDUgMTB2NWg1cS4zMTEuMDAxLjU5My4wMDhjLjM5LjAwNy43NDcuMDE1IDEuMTA4LS4wMTUuNTEyLS4wNDEuOTU3LS4xNTQgMS4zNTUtLjQyYTUuNSA1LjUgMCAwIDAtMS45ODMtOS45NjciIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-crosshair-add-line{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTEwIDUuNWEuNS41IDAgMCAxIC41LjV2My41aDMuODc1YS41LjUgMCAwIDEgMCAxSDEwLjV2NC4yNWEuNS41IDAgMSAxLTEgMFYxMC41SDUuNjI1YS41LjUgMCAxIDEgMC0xSDkuNVY2YS41LjUgMCAwIDEgLjUtLjUiLz48L3N2Zz4=)}.ag-charts-icon-date-range-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMiAyaDF2MTZIMnptMTUgMGgxdjE2aC0xeiIgZmlsbD0iIzE4MUQxRiIvPjxwYXRoIGQ9Ik0xMy4xNTcgMTFINXYtMWg3Ljc5M0wxMSA4LjIwN2wuNzA3LS43MDcgMy4xODIgMy4xODItMy4xODIgMy4xODItLjcwNy0uNzA3eiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-date-price-range-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMyAySDJ2MTZoMXptMy41MDcgNC44OUw4LjUgNC44OTVWMTBINXYxaDMuNXY3aDF2LTdoNS4wODhsLTEuOTU3IDEuOTU3LjcwNy43MDcgMy4xODItMy4xODJMMTMuMzM4IDcuM2wtLjcwNy43MDdMMTQuNjI0IDEwSDkuNVY0LjkzMmwxLjk1NyAxLjk1Ny43MDctLjcwN0w4Ljk4MiAzIDUuOCA2LjE4MnoiIGZpbGw9IiMxODFEMUYiLz48L3N2Zz4=)}.ag-charts-icon-delete{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZD0iTTguNDk2IDguOTk2QS41LjUgMCAwIDEgOSA5LjQ5MnY0YS41LjUgMCAxIDEtMSAuMDA4di00YS41LjUgMCAwIDEgLjQ5Ni0uNTA0TTEyIDkuNWEuNS41IDAgMCAwLTEgMHY0YS41LjUgMCAwIDAgMSAweiIvPjxwYXRoIGZpbGw9IiMxMzE3MjIiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTYgNVYzLjVBMi41IDIuNSAwIDAgMSA4LjUgMWgzQTIuNSAyLjUgMCAwIDEgMTQgMy41VjVoMi44MzNhLjUuNSAwIDAgMSAwIDFIMTV2MTAuMjVjMCAuNDE1LS4wNjYuODYzLS4zIDEuMjIxLS4yNTcuMzk0LS42NzIuNjEyLTEuMi42MTJoLTdjLS41MjggMC0uOTQzLS4yMTgtMS4yLS42MTItLjIzNC0uMzU4LS4zLS44MDYtLjMtMS4yMjFWNkgzLjMzM2EuNS41IDAgMCAxIDAtMXptMS0xLjVBMS41IDEuNSAwIDAgMSA4LjUgMmgzQTEuNSAxLjUgMCAwIDEgMTMgMy41VjVIN3pNNiAxNi4yNVY2aDh2MTAuMjVjMCAuMzM1LS4wNTkuNTU0LS4xMzguNjc1LS4wNTUuMDg1LS4xNC4xNTgtLjM2Mi4xNThoLTdjLS4yMjIgMC0uMzA3LS4wNzMtLjM2Mi0uMTU4LS4wOC0uMTIxLS4xMzgtLjM0LS4xMzgtLjY3NSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-disjoint-channel,.ag-charts-icon-disjoint-channel-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTkuMDI4IDE3LjQ2YTIuMjUgMi4yNSAwIDAgMC00LjA5Mi0xLjg1bC05LjUxMS0yLjM3OGEyLjI1IDIuMjUgMCAxIDAtLjIyNS45NzRsOS40NzUgMi4zNjlhMi4yNTEgMi4yNTEgMCAwIDAgNC4zNTMuODg2bS0xLjY2Mi0xLjk2NWExLjI1IDEuMjUgMCAxIDEtLjg4NSAyLjMzOCAxLjI1IDEuMjUgMCAwIDEgLjg4NS0yLjMzOE00LjM0MyAxMy42NjlhMS4yNSAxLjI1IDAgMSAwLTIuMzM4LS44ODUgMS4yNSAxLjI1IDAgMCAwIDIuMzM4Ljg4NU0zLjk3IDguNzY5YTIuMjUgMi4yNSAwIDAgMCAxLjQ1NS0yLjExbDkuNTExLTIuMzc4YTIuMjUgMi4yNSAwIDEgMC0uMjYtLjk2NUw1LjIgNS42ODVhMi4yNSAyLjI1IDAgMSAwLTEuMjMgMy4wODRtLjM3My0yLjU0N2ExLjI1IDEuMjUgMCAxIDEtMi4zMzguODg1IDEuMjUgMS4yNSAwIDAgMSAyLjMzOC0uODg1bTEzLjc1LTMuNDM4YTEuMjUgMS4yNSAwIDEgMS0yLjMzOC44ODUgMS4yNSAxLjI1IDAgMCAxIDIuMzM4LS44ODUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-drag-handle{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48Y2lyY2xlIGN4PSI1Ljc1IiBjeT0iNy43NSIgcj0iLjc1IiBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii41Ii8+PGNpcmNsZSBjeD0iOS43NSIgY3k9IjcuNzUiIHI9Ii43NSIgZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuNSIvPjxjaXJjbGUgY3g9IjEzLjc1IiBjeT0iNy43NSIgcj0iLjc1IiBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii41Ii8+PGNpcmNsZSBjeD0iMTMuNzUiIGN5PSIxMS43NSIgcj0iLjc1IiBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii41Ii8+PGNpcmNsZSBjeD0iOS43NSIgY3k9IjExLjc1IiByPSIuNzUiIGZpbGw9IiMwMDAiIGZpbGwtb3BhY2l0eT0iLjUiLz48Y2lyY2xlIGN4PSI1Ljc1IiBjeT0iMTEuNzUiIHI9Ii43NSIgZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuNSIvPjwvc3ZnPg==)}.ag-charts-icon-fibonacci-retracement-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMiA1aDEydjFIMnoiLz48Y2lyY2xlIGN4PSIxNS43NSIgY3k9IjUuNSIgcj0iMS43NSIgc3Ryb2tlPSIjMDAwIi8+PGNpcmNsZSBjeD0iNC4yNSIgY3k9IjE0LjUiIHI9IjEuNzUiIHN0cm9rZT0iIzAwMCIvPjxwYXRoIGZpbGw9IiMwMDAiIGQ9Ik0xOCAxNUg2di0xaDEyem0wLTQuNUgydi0xaDE2eiIvPjwvc3ZnPg==)}.ag-charts-icon-fibonacci-retracement-trend-based-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJtNC45OTYgMTIuNjc0IDMuMjkxLTUuNzQzLjg2OC40OTctMy4yOTEgNS43NDN6Ii8+PGNpcmNsZSBjeD0iOS43NSIgY3k9IjUuNSIgcj0iMS43NSIgc3Ryb2tlPSIjMDAwIi8+PGNpcmNsZSBjeD0iNC4zNTEiIGN5PSIxNC41IiByPSIxLjc1IiBzdHJva2U9IiMwMDAiLz48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMTggNmgtN1Y1aDd6bTAgNC41aC03di0xaDd6bTAgNC41SDZ2LTFoMTJ6Ii8+PC9zdmc+)}.ag-charts-icon-fill-color{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtOC4wNzEgNC4wNi0uOTI0LS45MjQuNzA3LS43MDcgNy4yODggNy4yODgtNC45NSA0Ljk1YTMuNSAzLjUgMCAwIDEtNC45NSAwbC0xLjQxNC0xLjQxNGEzLjUgMy41IDAgMCAxIDAtNC45NXptLjcwNy43MDhMNC41MzYgOS4wMWEyLjUgMi41IDAgMCAwIDAgMy41MzZMNS45NSAxMy45NmEyLjUgMi41IDAgMCAwIDMuNTM1IDBsNC4yNDMtNC4yNDN6bTYuOSA3LjIwMi0uMzQ1LjM2My0uMzQ0LS4zNjNhLjUuNSAwIDAgMSAuNjg4IDBtLS4zNDUgMS4wOGE4IDggMCAwIDAtLjI4LjMyMyA0LjMgNC4zIDAgMCAwLS40MDkuNTgyYy0uMTEzLjIwMS0uMTQ0LjMyNi0uMTQ0LjM3OGEuODMzLjgzMyAwIDAgMCAxLjY2NyAwYzAtLjA1Mi0uMDMxLS4xNzctLjE0NC0uMzc4YTQuMyA0LjMgMCAwIDAtLjQxLS41ODIgOCA4IDAgMCAwLS4yOC0uMzIybS0uMzQ0LTEuMDguMzQ0LjM2My4zNDQtLjM2My4wMDIuMDAyLjAwNC4wMDQuMDEzLjAxMmE2IDYgMCAwIDEgLjIwNi4yMDhjLjEzMS4xMzYuMzA4LjMyNy40ODUuNTQ1LjE3Ni4yMTUuMzYzLjQ2Ny41MDcuNzI0LjEzNy4yNDMuMjczLjU1My4yNzMuODY4YTEuODMzIDEuODMzIDAgMSAxLTMuNjY3IDBjMC0uMzE1LjEzNi0uNjI1LjI3My0uODY4LjE0NC0uMjU3LjMzLS41MDkuNTA3LS43MjRhOSA5IDAgMCAxIC42NDUtLjcwOGwuMDQ2LS4wNDUuMDEzLS4wMTIuMDA0LS4wMDR6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-hollow-candlestick-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1vcGFjaXR5PSIuMTUiIGQ9Ik01IDVoM3YxMEg1eiIvPjxwYXRoIGZpbGw9IiMxMzE3MjIiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTcgMXYzaDJ2MTJIN3YzSDZ2LTNINFY0aDJWMXpNNSA1aDN2MTBINXptNyAyaDN2NmgtM3ptLTEgN1Y2aDJWMy4yNWgxVjZoMnY4aC0ydjIuNzVoLTFWMTR6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-horizontal-line,.ag-charts-icon-horizontal-line-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNLjUgOS41aDcuMzA2YTIuMjUgMi4yNSAwIDAgMSA0LjM4OCAwSDE5LjV2MWgtNy4zMDZhMi4yNSAyLjI1IDAgMCAxLTQuMzg4IDBILjV6bTkuNSAxLjc1YTEuMjUgMS4yNSAwIDEgMCAwLTIuNSAxLjI1IDEuMjUgMCAwIDAgMCAyLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-line-color{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTQuMjQyIDIuNzIyYy0uNjEyIDAtMS4yLjI0My0xLjYzMi42NzVsLTEuMzQzIDEuMzQ0YS41LjUgMCAwIDAtLjExMi4xMTJMNC4wNSAxMS45NTljLS4yMDcuMjA3LS4zNi40Ni0uNDQ2Ljc0di4wMDFsLS42OSAyLjc2N3YuMDAyYS44Mi44MiAwIDAgMCAxLjAyMiAxLjAyMWguMDAybDIuNjM0LS44MjJjLjI4LS4wODUuNTM0LS4yMzcuNzQtLjQ0M2w3LjEwNy03LjEwOGEuNS41IDAgMCAwIC4xMTItLjExMmwxLjM0My0xLjM0M2EyLjMwOCAyLjMwOCAwIDAgMC0xLjYzMi0zLjk0TTE0LjEyMiA3bDEuMDQ0LTEuMDQ1YTEuMzA4IDEuMzA4IDAgMSAwLTEuODQ5LTEuODVMMTIuMjcxIDUuMTV6bS0yLjU1OC0xLjE0Mi02LjgwNyA2LjgwOWEuOC44IDAgMCAwLS4xOTYuMzI1bC0uNzUgMi40NjggMi40Ny0uNzQ5YS44LjggMCAwIDAgLjMyNS0uMTk0bDYuODA4LTYuODF6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-line-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtMTcuMzYyIDQuODczLTQuNTk0IDYuNjU0LTQuODUtMy4zMTctNC4yNTEgNi45NzctLjg1NC0uNTJMNy42MTIgNi43OWw0Ljg5OSAzLjM1IDQuMDI4LTUuODM2eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-line-style-dashed{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMiA5aDR2MUgyem0xMiAwaDR2MWgtNHpNOCA5aDR2MUg4eiIvPjwvc3ZnPg==)}.ag-charts-icon-line-style-dotted{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48Y2lyY2xlIGN4PSIyLjUiIGN5PSI5LjUiIHI9Ii41IiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iNC41IiBjeT0iOS41IiByPSIuNSIgZmlsbD0iIzAwMCIvPjxjaXJjbGUgY3g9IjYuNSIgY3k9IjkuNSIgcj0iLjUiIGZpbGw9IiMwMDAiLz48Y2lyY2xlIGN4PSI4LjUiIGN5PSI5LjUiIHI9Ii41IiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iMTAuNSIgY3k9IjkuNSIgcj0iLjUiIGZpbGw9IiMwMDAiLz48Y2lyY2xlIGN4PSIxMi41IiBjeT0iOS41IiByPSIuNSIgZmlsbD0iIzAwMCIvPjxjaXJjbGUgY3g9IjE0LjUiIGN5PSI5LjUiIHI9Ii41IiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iMTYuNSIgY3k9IjkuNSIgcj0iLjUiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-line-style-solid{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMiA5aDE2djFIMnoiLz48L3N2Zz4=)}.ag-charts-icon-line-with-markers-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtMTguMTk4IDQuODg4LTMuNTU2IDQuOTE4YTIuMjUgMi4yNSAwIDEgMS0zLjg2Ni43NWwtMS40MzItLjlhMi4yNCAyLjI0IDAgMCAxLTIuMDA5LjQzNWwtMy44MjggNi40MjgtLjg2LS41MTJMNi40NSA5LjYyM2EyLjI1IDIuMjUgMCAxIDEgMy41MS0uNzYxbDEuMzI5LjgzNWEyLjI0IDIuMjQgMCAwIDEgMi41NTctLjQ5N2wzLjU0Mi00Ljg5OHptLTQuOTYgNS4xNTNhMS4yNSAxLjI1IDAgMSAwLS42NCAyLjQxOSAxLjI1IDEuMjUgMCAwIDAgLjY0LTIuNDE5TTkuMSA4LjMyMXEuMDY2LS4xOTIuMDY3LS40MDRhMS4yNSAxLjI1IDAgMSAwLS4wNjcuNDA0IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-lock,.ag-charts-icon-locked{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTAuMjA3IDMuNzY0YTIuODk0IDIuODk0IDAgMCAwLTIuODk1IDIuODk0VjloNS43ODlWNi42NThhMi44OTQgMi44OTQgMCAwIDAtMi44OTUtMi44OTRNMTQuMSA5VjYuNjU4YTMuODk0IDMuODk0IDAgMSAwLTcuNzg5IDB2Mi4zNDlBMi41IDIuNSAwIDAgMCA0IDExLjV2M0EyLjUgMi41IDAgMCAwIDYuNSAxN2g4YTIuNSAyLjUgMCAwIDAgMi41LTIuNXYtM0EyLjUgMi41IDAgMCAwIDE0LjUgOXpNNi41IDEwQTEuNSAxLjUgMCAwIDAgNSAxMS41djNBMS41IDEuNSAwIDAgMCA2LjUgMTZoOGExLjUgMS41IDAgMCAwIDEuNS0xLjV2LTNhMS41IDEuNSAwIDAgMC0xLjUtMS41eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-measurer-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibTQuNDYxIDEyLjcxIDEuNTMyLTEuNTMxIDEuNDE0IDEuNDE0LjcwNy0uNzA3TDYuNyAxMC40NzJsMS41MzItMS41MzMgMiAyIC43MDctLjcwNy0yLTIgNi4wMS02LjAxIDIuODMgMi44MjhMNS4wNSAxNy43NzggMi4yMjIgMTQuOTVsMS41MzItMS41MzIgMS40MTQgMS40MTQuNzA3LS43MDd6TS44MDggMTQuOTVsLjcwNy0uNzA3TDE0LjI0MyAxLjUxNWwuNzA3LS43MDcuNzA3LjcwNyAyLjgyOCAyLjgyOC43MDcuNzA3LS43MDcuNzA3TDUuNzU3IDE4LjQ4NWwtLjcwNy43MDctLjcwNy0uNzA3LTIuODI4LTIuODI4em0xMS4wNzgtNi44MzVMMTAuNDcgNi43bC43MDctLjcwNyAxLjQxNSAxLjQxNHptLjgyNC0zLjY1NCAxIDEgLjcwOC0uNzA3LTEtMXoiIGZpbGw9IiMxODFEMUYiLz48L3N2Zz4=)}.ag-charts-icon-note-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMyA0LjVBMS41IDEuNSAwIDAgMSA0LjUgM2gxMUExLjUgMS41IDAgMCAxIDE3IDQuNXY4YTEuNSAxLjUgMCAwIDEtMS41IDEuNWgtMy4yMWwtMS40NjkgMi41N2ExIDEgMCAwIDEtMS42ODIuMDg1TDcuMjQzIDE0SDQuNUExLjUgMS41IDAgMCAxIDMgMTIuNXpNNC41IDRhLjUuNSAwIDAgMC0uNS41djhhLjUuNSAwIDAgMCAuNS41aDMuMjU3bDIuMTk2IDMuMDc0TDExLjcxIDEzaDMuNzlhLjUuNSAwIDAgMCAuNS0uNXYtOGEuNS41IDAgMCAwLS41LS41eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNi41IDYuNUEuNS41IDAgMCAxIDcgNmg2YS41LjUgMCAwIDEgMCAxSDdhLjUuNSAwIDAgMS0uNS0uNU02LjUgOS41QS41LjUgMCAwIDEgNyA5aDZhLjUuNSAwIDAgMSAwIDFIN2EuNS41IDAgMCAxLS41LS41IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-ohlc-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZD0iTTEzIDExaC0zdi0xaDNWM2gxdjJoNHYxaC00djExaC0xek02IDE3di0yaDN2LTFINlY0SDV2MUgydjFoM3YxMXoiLz48L3N2Zz4=)}.ag-charts-icon-pan-end{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0ibTYuNjQ2IDEzLjgxMy0uMzUzLjM1NC43MDcuNzA3LjM1NC0uMzU0ek0xMS4xNjYgMTBsLjM1NC4zNTQuMzU0LS4zNTQtLjM1NC0uMzU0ek03LjM1NSA1LjQ4IDcgNS4xMjZsLS43MDcuNzA3LjM1My4zNTR6bTAgOS4wNCA0LjE2Ni00LjE2Ni0uNzA3LS43MDgtNC4xNjcgNC4xNjd6bTQuMTY2LTQuODc0TDcuMzU0IDUuNDhsLS43MDguNzA3IDQuMTY3IDQuMTY3ek0xMy4wODMgNXYxMGgxVjV6Ii8+PC9zdmc+)}.ag-charts-icon-pan-left{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTIuNzkgNS44MzMgOC42MjUgMTBsNC4xNjYgNC4xNjctLjcwNy43MDdMNy4yMSAxMGw0Ljg3My00Ljg3NHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-pan-right{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNy4yMSAxNC4xNjcgMTEuMzc2IDEwIDcuMjEgNS44MzNsLjcwNy0uNzA3TDEyLjc5IDEwbC00Ljg3MyA0Ljg3NHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-pan-start{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTYgNXYxMGgxVjV6TTkuNjI0IDEwbDQuMTY2LTQuMTY3LS43MDctLjcwN0w4LjIxIDEwbDQuODc0IDQuODc0LjcwNy0uNzA3eiIvPjwvc3ZnPg==)}.ag-charts-icon-parallel-channel,.ag-charts-icon-parallel-channel-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTcuNzIgNS4zMzFBMi4yNSAyLjI1IDAgMSAwIDE0LjcwNSAzLjZsLTkuNDkgNC41NjJhMi4yNSAyLjI1IDAgMSAwIC4yMDkgMS4wMWw5LjY2Mi00LjY0NmEyLjI1IDIuMjUgMCAwIDAgMi42MzQuODA1bS4zNzMtMi41NDdhMS4yNSAxLjI1IDAgMSAxLTIuMzM4Ljg4NSAxLjI1IDEuMjUgMCAwIDEgMi4zMzgtLjg4NU00LjM0MyA4LjY3YTEuMjUgMS4yNSAwIDEgMS0yLjMzOC44ODUgMS4yNSAxLjI1IDAgMCAxIDIuMzM4LS44ODVNNS4zMDcgMTYuNzI4YTIuMjUgMi4yNSAwIDEgMS0uNTI1LS44NThsOS45MjMtNC43N2EyLjI1IDIuMjUgMCAxIDEgLjM4MS45MjZ6bS0uOTY0LjI3NGExLjI1IDEuMjUgMCAxIDEtMi4zMzguODg1IDEuMjUgMS4yNSAwIDAgMSAyLjMzOC0uODg1bTEzLjAyMy01LjEwNmExLjI1IDEuMjUgMCAxIDAtLjg4NS0yLjMzOSAxLjI1IDEuMjUgMCAwIDAgLjg4NSAyLjMzOSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-position-bottom{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii4yNSIgZD0iTTMgMTBoMTR2MUgzem0zLTNoOHYxSDZ6Ii8+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTYgMTNoOHYxSDZ6Ii8+PC9zdmc+)}.ag-charts-icon-position-center{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMyAxMGgxNHYxSDN6Ii8+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuMjUiIGQ9Ik02IDdoOHYxSDZ6bTAgNmg4djFINnoiLz48L3N2Zz4=)}.ag-charts-icon-position-top{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii4yNSIgZD0iTTMgMTBoMTR2MUgzeiIvPjxwYXRoIGZpbGw9IiMwMDAiIGQ9Ik02IDdoOHYxSDZ6Ii8+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuMjUiIGQ9Ik02IDEzaDh2MUg2eiIvPjwvc3ZnPg==)}.ag-charts-icon-price-label-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNC41IDNBMS41IDEuNSAwIDAgMCAzIDQuNVYxM2ExLjUgMS41IDAgMCAwIDEuNSAxLjVoLjgzM3YuMDU3Yy4yNDItLjI5OS41OTctLjUwMyAxLS41NDhWMTMuNUg0LjVBLjUuNSAwIDAgMSA0IDEzVjQuNWEuNS41IDAgMCAxIC41LS41aDExYS41LjUgMCAwIDEgLjUuNXY4YS41LjUgMCAwIDEtLjUuNWgtNC44MThsLS4xMjYuMDg0YTI2IDI2IDAgMCAwLTIuMjI1IDEuNjg1bC0uMzIuMjY1LS4wNjguMDU2YTEuNSAxLjUgMCAwIDEtMi42MDkgMS4zNTRjLjAzMy43NjMuOTA1IDEuMjM4IDEuNTYuNzU2LjY0Ni0uNDc0IDEuMjEtLjk0MyAxLjc2MS0xLjRsLjMxMy0uMjZBMjYgMjYgMCAwIDEgMTAuOTg2IDE0SDE1LjVhMS41IDEuNSAwIDAgMCAxLjUtMS41di04QTEuNSAxLjUgMCAwIDAgMTUuNSAzeiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNOC43MTYgMTQuODE1YTIuMjUgMi4yNSAwIDEgMS00LjIxIDEuNTkzIDIuMjUgMi4yNSAwIDAgMSA0LjIxLTEuNTkzbS0xLjY2MiAxLjk2NmExLjI1IDEuMjUgMCAxIDAtLjg4NS0yLjMzOSAxLjI1IDEuMjUgMCAwIDAgLjg4NSAyLjMzOSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-price-range-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNOS4wNDYgMTVWNS44NzdoLjk0MlYxNXoiIGZpbGw9IiMxODFEMUYiLz48cGF0aCBkPSJNOS4wNDYgMTVWNS44NzdoLjk0MlYxNXoiIGZpbGw9IiMxODFEMUYiLz48cGF0aCBkPSJNOS41IDYuMjI4IDcuMTY3IDguMzc2IDYuNSA3Ljc2MiA5LjUgNWwzIDIuNzYyLS42NjcuNjE0eiIgZmlsbD0iIzAwMCIvPjxwYXRoIGQ9Ik0yIDE4di0xaDE2djF6TTIgM1YyaDE2djF6IiBmaWxsPSIjMTgxRDFGIi8+PC9zdmc+)}.ag-charts-icon-reset{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTIuMDQgNC40NDVhNS44MSA1LjgxIDAgMCAwLTcuMjU3IDIuNDUzLjUuNSAwIDAgMS0uODY1LS41MDJBNi44MSA2LjgxIDAgMSAxIDMgOS44MTNhLjUuNSAwIDAgMSAxIDAgNS44MSA1LjgxIDAgMSAwIDguMDQtNS4zNjgiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjxwYXRoIGZpbGw9IiMwMDAiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTQuMjg5IDMuMDAyYS41LjUgMCAwIDEgLjUuNXYyLjY1NWgyLjY1NWEuNS41IDAgMCAxIDAgMUg0LjI5YS41LjUgMCAwIDEtLjUtLjVWMy41MDJhLjUuNSAwIDAgMSAuNS0uNSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-settings{--icon: url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgc3R5bGU9ImZpbGwtcnVsZTpldmVub2RkIj48cGF0aCBkPSJNMTAgMTNhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2bTAtMWEyIDIgMCAxIDEtLjAwMS0zLjk5OUEyIDIgMCAwIDEgMTAgMTIiLz48cGF0aCBkPSJNMi4zMSAxNC4zNDVjLS44MTctMS40OTEuMDI3LTIuNDk5LjQ3NC0yLjg2NS41MzEtLjQzNC45NjktLjM2NS45NzItMS40OC0uMDAzLTEuMTE1LS40NDEtMS4wNDYtLjk3Mi0xLjQ4MS0uNDU0LS4zNzEtMS4zMTctMS40MDUtLjQzNC0yLjkzNmwuMDA1LS4wMDljLjg4NC0xLjUyIDIuMjA3LTEuMjkgMi43NTUtMS4wODMuNjQxLjI0My44MDEuNjU2IDEuNzY4LjEwMS45NjQtLjU2LjY4Ni0uOTA0Ljc5Ni0xLjU4Mi4wOTQtLjU3OC41NTktMS44NDMgMi4zMjYtMS44NDNoLjAxYzEuNzU5LjAwNSAyLjIyMiAxLjI2NiAyLjMxNiAxLjg0My4xMS42NzgtLjE2OCAxLjAyMi43OTYgMS41ODIuOTY3LjU1NSAxLjEyNy4xNDIgMS43NjgtLjEwMS41NDktLjIwOCAxLjg3Ni0uNDM4IDIuNzYgMS4wOTJzLjAyIDIuNTY1LS40MzQgMi45MzZjLS41MzEuNDM1LS45NjkuMzY2LS45NzIgMS40ODEuMDAzIDEuMTE1LjQ0MSAxLjA0Ni45NzIgMS40OC40NTQuMzcyIDEuMzE3IDEuNDA2LjQzNCAyLjkzN2wtLjAwNS4wMDljLS44ODQgMS41Mi0yLjIwNyAxLjI5LTIuNzU1IDEuMDgzLS42NDEtLjI0My0uODAxLS42NTYtMS43NjgtLjEwMS0uOTY0LjU2LS42ODYuOTA0LS43OTYgMS41ODEtLjA5NC41NzktLjU1OSAxLjg0NC0yLjMyNiAxLjg0NGgtLjAxYy0xLjc1OS0uMDA1LTIuMjIyLTEuMjY2LTIuMzE2LTEuODQ0LS4xMS0uNjc3LjE2OC0xLjAyMS0uNzk2LTEuNTgxLS45NjctLjU1NS0xLjEyNy0uMTQyLTEuNzY4LjEwMS0uNTQ5LjIwOC0xLjg3Ni40MzgtMi43Ni0xLjA5MmwtLjAyLS4wMzZ6TTkuOTg0IDIuMTYySDEwYzEuMzU1IDAgMS4zNDIgMS4wMzkgMS4zNTMgMS40MjUuMDA4LjMxMi4wNCAxLjE2IDEuMjU5IDEuODcybC4wMTUuMDA4YzEuMjI1LjcgMS45NzYuMzA0IDIuMjUxLjE1NS4zMzctLjE4MyAxLjIyNi0uNzExIDEuOTAyLjQ0NWwuMDA4LjAxNGMuNjc4IDEuMTczLS4yMjkgMS42ODItLjU1OCAxLjg4NC0uMjY2LjE2My0uOTg0LjYxNS0uOTkxIDIuMDI3di4wMTZjLjAwNyAxLjQxMi43MjUgMS44NjQuOTkxIDIuMDI3LjMyOC4yMDEgMS4yMjkuNzA3LjU2NiAxLjg3bC0uMDA4LjAxNGMtLjY3NyAxLjE3NC0xLjU3MS42NDMtMS45MS40NTktLjI3NS0uMTQ5LTEuMDI2LS41NDUtMi4yNTEuMTU0bC0uMDE1LjAwOWMtMS4yMTkuNzEyLTEuMjUxIDEuNTYtMS4yNTkgMS44NzItLjAxMS4zODYuMDAyIDEuNDI1LTEuMzUzIDEuNDI1cy0xLjM0Mi0xLjAzOS0xLjM1My0xLjQyNWMtLjAwOC0uMzEyLS4wNC0xLjE2LTEuMjU5LTEuODcybC0uMDE1LS4wMDljLTEuMjI1LS42OTktMS45NzYtLjMwMy0yLjI1MS0uMTU0LS4zMzYuMTgzLTEuMjE5LjcwNi0xLjg5NC0uNDMybC0uMDE2LS4wMjdjLS42NzgtMS4xNzQuMjI5LTEuNjgyLjU1OC0xLjg4NC4yNjYtLjE2My45ODQtLjYxNS45OTEtMi4wMjd2LS4wMTZjLS4wMDctMS40MTItLjcyNS0xLjg2NC0uOTkxLTIuMDI3LS4zMjgtLjIwMS0xLjIyOS0uNzA3LS41NjYtMS44N2wuMDA4LS4wMTRjLjY3Ny0xLjE3NCAxLjU3MS0uNjQzIDEuOTEtLjQ1OS4yNzUuMTQ5IDEuMDI2LjU0NSAyLjI1MS0uMTU1bC4wMTUtLjAwOGMxLjIxOS0uNzEyIDEuMjUxLTEuNTYgMS4yNTktMS44NzIuMDEtLjM4NC0uMDAyLTEuNDE3IDEuMzM3LTEuNDI1Ii8+PC9zdmc+)}.ag-charts-icon-step-line-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzE4MUQxRiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNiA0aDV2OGgzVjhoNXYxaC00djRoLTVWNUg3djEwSDJ2LTFoNHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-text-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00IDRIMTZWN0gxNVY1SDEwLjVWMTVIMTRWMTZINlYxNUg5LjVWNUg1VjdINFY0WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==)}.ag-charts-icon-trend-line,.ag-charts-icon-trend-line-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNS4zMTQgMTAuOTM4YTIuMjUgMi4yNSAwIDEgMSAuMDEtMWg5LjM1MmEyLjI1IDIuMjUgMCAxIDEgLjAxIDF6bS0yLjE4OS43MjlhMS4yNSAxLjI1IDAgMSAwIDAtMi41IDEuMjUgMS4yNSAwIDAgMCAwIDIuNW0xMy43NSAwYTEuMjUgMS4yNSAwIDEgMCAwLTIuNSAxLjI1IDEuMjUgMCAwIDAgMCAyLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-unlock,.ag-charts-icon-unlocked{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTAuNjUxIDMuNWEyLjg5NCAyLjg5NCAwIDAgMC0yLjg5NCAyLjg5NFY5SDE0LjVhMi41IDIuNSAwIDAgMSAyLjUgMi41djNhMi41IDIuNSAwIDAgMS0yLjUgMi41aC04QTIuNSAyLjUgMCAwIDEgNCAxNC41di0zQTIuNSAyLjUgMCAwIDEgNi41IDloLjI1N1Y2LjM5NGEzLjg5NCAzLjg5NCAwIDEgMSA3Ljc4OSAwIC41LjUgMCAwIDEtMSAwQTIuODk0IDIuODk0IDAgMCAwIDEwLjY1IDMuNU02LjUgMTBBMS41IDEuNSAwIDAgMCA1IDExLjV2M0ExLjUgMS41IDAgMCAwIDYuNSAxNmg4YTEuNSAxLjUgMCAwIDAgMS41LTEuNXYtM2ExLjUgMS41IDAgMCAwLTEuNS0xLjV6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-vertical-line,.ag-charts-icon-vertical-line-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTAuNSA3LjgwNmEyLjI1IDIuMjUgMCAwIDEgMCA0LjM4OFYxOS41aC0xdi03LjMwNmEyLjI1IDIuMjUgMCAwIDEgMC00LjM4OFYuNWgxem0tLjUuOTQ0YTEuMjUgMS4yNSAwIDEgMSAwIDIuNSAxLjI1IDEuMjUgMCAwIDEgMC0yLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-zoom-in{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTEwIDUuNWEuNS41IDAgMCAxIC41LjV2My41aDMuODc1YS41LjUgMCAwIDEgMCAxSDEwLjV2NC4yNWEuNS41IDAgMSAxLTEgMFYxMC41SDUuNjI1YS41LjUgMCAxIDEgMC0xSDkuNVY2YS41LjUgMCAwIDEgLjUtLjUiLz48L3N2Zz4=)}.ag-charts-icon-zoom-out{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNS41IDEwYS41LjUgMCAwIDEgLjUtLjVoOGEuNS41IDAgMCAxIDAgMUg2YS41LjUgMCAwIDEtLjUtLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-high-low-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNyA0aDJ2MTJINFY0aDNNNSA1aDN2MTBINXpNMTEgMTRWNmg1djhoLTVtMS03aDN2NmgtM3oiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-hlc-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtMTguMTYzIDEuODM3LTUuMzM0IDExLjYyMUw2Ljk1NyA4LjEybC00LjE5OSA5LjYyMi0uOTE2LS40IDQuNzU2LTEwLjlMMTIuNDkgMTEuOCAxNy4yNTQgMS40MnoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjxwYXRoIGZpbGw9IiMwMDAiIGZpbGwtb3BhY2l0eT0iLjQiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTUuODI1IDIuNzA0LjU1IDEzLjc4NWwuOTAyLjQzIDQuNzI0LTkuOTE5IDYuMDM0IDUuMDI5IDMuMjU1LTguMTQtLjkyOC0uMzctMi43NDUgNi44NnptNy44NTIgMTQuNjM2IDUuNzgtMTMuMTM5LS45MTUtLjQwMi01LjIxOSAxMS44Ni02LjAwNS01LjUwNC0zLjI3OCA3LjY0OC45Mi4zOTQgMi43MjItNi4zNTJ6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-chevron-right{--icon: url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03LjQ3IDUuNDdhLjc1Ljc1IDAgMCAxIDEuMDYgMGw0IDRhLjc1Ljc1IDAgMCAxIDAgMS4wNmwtNCA0YS43NS43NSAwIDAgMS0xLjA2LTEuMDZMMTAuOTQgMTAgNy40NyA2LjUzYS43NS43NSAwIDAgMSAwLTEuMDYiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-zoom-in-alt{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXpvb20taW4iPjxjaXJjbGUgY3g9IjExIiBjeT0iMTEiIHI9IjgiLz48bGluZSB4MT0iMjEiIHgyPSIxNi42NSIgeTE9IjIxIiB5Mj0iMTYuNjUiLz48bGluZSB4MT0iMTEiIHgyPSIxMSIgeTE9IjgiIHkyPSIxNCIvPjxsaW5lIHgxPSI4IiB4Mj0iMTQiIHkxPSIxMSIgeTI9IjExIi8+PC9zdmc+)}.ag-charts-icon-zoom-out-alt{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXpvb20tb3V0Ij48Y2lyY2xlIGN4PSIxMSIgY3k9IjExIiByPSI4Ii8+PGxpbmUgeDE9IjIxIiB4Mj0iMTYuNjUiIHkxPSIyMSIgeTI9IjE2LjY1Ii8+PGxpbmUgeDE9IjgiIHgyPSIxNCIgeTE9IjExIiB5Mj0iMTEiLz48L3N2Zz4=)}.ag-charts-input{--input-layer-active: 1;--input-layer-focus: 2;--input-padding: calc(var(--ag-charts-spacing) * 2);--input-padding-large: calc(var(--ag-charts-spacing) * 2.5);color:var(--ag-charts-input-text-color);font-family:var(--ag-charts-chrome-font-family);font-size:var(--ag-charts-chrome-font-size-large);transition-duration:.25s;transition-property:none;transition-timing-function:ease-out}.ag-charts-input:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow);z-index:var(--input-layer-focus)}.ag-charts-button{background:var(--ag-charts-button-background-color);border:var(--ag-charts-button-border);border-radius:var(--ag-charts-button-border-radius);color:var(--ag-charts-button-text-color);cursor:pointer;padding:var(--input-padding);transition-property:background,border-color}.ag-charts-button:hover{background:var(--ag-charts-focus-color)}.ag-charts-button:has(.ag-charts-icon){padding:2px}.ag-charts-checkbox{--checkbox-transition-duration: .1s;appearance:none;background:var(--ag-charts-checkbox-background-color);border-radius:calc(var(--ag-charts-border-radius) * 9);cursor:pointer;height:18px;margin:0;transition-duration:var(--checkbox-transition-duration);transition-property:margin;width:29px}.ag-charts-checkbox:before{display:block;background:var(--ag-charts-input-background-color);border-radius:calc(var(--ag-charts-border-radius) * 7);content:" ";height:14px;margin:2px;transition-duration:var(--checkbox-transition-duration);transition-property:margin;transition-timing-function:var(--ag-charts-input-transition-easing);width:14px}.ag-charts-checkbox:checked{background:var(--ag-charts-checkbox-checked-background-color)}.ag-charts-checkbox:checked:before{margin-left:13px}.ag-charts-select{background:var(--ag-charts-input-background-color);border:var(--ag-charts-input-border);border-radius:var(--ag-charts-input-border-radius);padding:3px 2px 4px;font-size:inherit}.ag-charts-textarea{--textarea-line-height: 1.38;background:var(--ag-charts-input-background-color);border:var(--ag-charts-input-border);border-radius:var(--ag-charts-input-border-radius);line-height:var(--textarea-line-height);font-family:var(--ag-charts-chrome-font-family);font-size:var(--ag-charts-chrome-font-size-large);padding:var(--input-padding-large) var(--input-padding)}.ag-charts-textarea::placeholder{color:var(--ag-charts-input-placeholder-text-color)}.ag-charts-proxy-container{pointer-events:none;position:absolute}.ag-charts-proxy-legend-toolbar{pointer-events:auto}.ag-charts-proxy-legend-toolbar>div[role=listitem]{pointer-events:none}.ag-charts-proxy-elem{-webkit-appearance:none;appearance:none;background:none;border:none;color:#0000;overflow:hidden;pointer-events:auto;position:absolute}.ag-charts-proxy-elem::-moz-range-thumb,.ag-charts-proxy-elem::-moz-range-track{opacity:0}.ag-charts-proxy-elem::-webkit-slider-runnable-track,.ag-charts-proxy-elem::-webkit-slider-thumb{opacity:0}.ag-charts-proxy-elem:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow)}.ag-charts-focus-indicator{position:absolute;display:block;pointer-events:none;user-select:none;-webkit-user-select:none;width:100%;height:100%}.ag-charts-focus-indicator>div{position:absolute;outline:solid 1px var(--ag-charts-chrome-background-color);box-shadow:var(--ag-charts-focus-shadow)}.ag-charts-focus-indicator>svg{width:100%;height:100%;fill:none;overflow:visible}.ag-charts-focus-svg-outer-path{stroke:var(--ag-charts-chrome-background-color);stroke-width:4px}.ag-charts-focus-svg-inner-path{stroke:var(--ag-charts-accent-color);stroke-width:2px}.ag-charts-overlay{color:#181d1f;pointer-events:none}.ag-charts-overlay.ag-charts-dark-overlay{color:#fff}.ag-charts-overlay--loading{color:#8c8c8c}.ag-charts-overlay__loading-background{background:#fff;pointer-events:none}.ag-charts-overlay.ag-charts-dark-overlay .ag-charts-overlay__loading-background{background:#192232}.ag-charts-tooltip{--tooltip-arrow-size: 8px;--tooltip-row-spacing: 8px;--tooltip-column-spacing: 16px;position:fixed;inset:unset;margin:0;padding:0;overflow:visible;top:var(--top, 0px);left:var(--left, 0px);width:max-content;max-width:100%;font-family:var(--ag-charts-chrome-font-family);font-size:var(--ag-charts-chrome-font-size);font-weight:var(--ag-charts-chrome-font-weight);color:var(--ag-charts-tooltip-text-color);background:var(--ag-charts-tooltip-background-color);border:var(--ag-charts-tooltip-border);border-radius:var(--ag-charts-tooltip-border-radius);box-shadow:var(--ag-charts-popup-shadow)}.ag-charts-tooltip--compact .ag-charts-tooltip-content{--tooltip-row-spacing: 2px;--tooltip-column-spacing: 8px;padding:3px 6px}.ag-charts-tooltip--arrow-top:before,.ag-charts-tooltip--arrow-right:before,.ag-charts-tooltip--arrow-bottom:before,.ag-charts-tooltip--arrow-left:before{content:"";position:absolute;display:block;width:var(--tooltip-arrow-size);height:var(--tooltip-arrow-size);border:inherit;border-bottom-color:transparent;border-right-color:transparent;background:inherit;clip-path:polygon(0 0,100% 0,100% 1px,1px 100%,0 100%)}.ag-charts-tooltip--arrow-top:before{bottom:100%;left:50%;transform:translate(-50%) translateY(calc(var(--tooltip-arrow-size) * .5)) rotate(45deg)}.ag-charts-tooltip--arrow-bottom:before{top:100%;left:50%;transform:translate(-50%) translateY(calc(var(--tooltip-arrow-size) * -.5)) rotate(225deg)}.ag-charts-tooltip--arrow-left:before{right:100%;top:50%;transform:translateY(-50%) translate(calc(var(--tooltip-arrow-size) * .5)) rotate(315deg)}.ag-charts-tooltip--arrow-right:before{left:100%;top:50%;transform:translateY(-50%) translate(calc(var(--tooltip-arrow-size) * -.5)) rotate(135deg)}.ag-charts-tooltip--no-interaction{pointer-events:none;user-select:none;-webkit-user-select:none}.ag-charts-tooltip--wrap-always{overflow-wrap:break-word;word-break:break-word;hyphens:none}.ag-charts-tooltip--wrap-hyphenate{overflow-wrap:break-word;word-break:break-word;hyphens:auto}.ag-charts-tooltip--wrap-on-space{overflow-wrap:normal;word-break:normal}.ag-charts-tooltip--wrap-never{white-space:nowrap}.ag-charts-tooltip-heading,.ag-charts-tooltip-title,.ag-charts-tooltip-label,.ag-charts-tooltip-value{overflow:hidden;text-overflow:ellipsis}.ag-charts-tooltip-content{display:grid;grid:auto-flow minmax(1em,auto) / 1fr;padding:8px 12px;gap:var(--tooltip-row-spacing)}.ag-charts-tooltip-content:has(.ag-charts-tooltip-symbol){grid:auto-flow minmax(1em,auto) / auto 1fr}.ag-charts-tooltip-heading{grid-column:1 / -1}.ag-charts-tooltip-symbol{grid-column:1 / 2;place-self:center}.ag-charts-tooltip-symbol svg{display:block}.ag-charts-tooltip-title{grid-column:-2 / -1}.ag-charts-tooltip-row{grid-column:1 / -1;display:flex;gap:var(--tooltip-column-spacing);align-items:baseline;justify-content:space-between;overflow:hidden}.ag-charts-tooltip-row--inline{grid-column:-2 / -1}.ag-charts-tooltip-label{flex:1;min-width:0}.ag-charts-tooltip-value{min-width:0}.ag-charts-tooltip-footer{grid-column:1 / -1;color:var(--ag-charts-tooltip-subtle-text-color);text-align:center}.ag-charts-popover{position:absolute;border:var(--ag-charts-border);border-radius:var(--ag-charts-border-radius);background:var(--ag-charts-panel-background-color);color:var(--ag-charts-chrome-text-color);font-family:var(--ag-charts-chrome-font-family);font-size:var(--ag-charts-chrome-font-size);font-weight:var(--ag-charts-chrome-font-weight);box-shadow:var(--ag-charts-popup-shadow);z-index:var(--ag-charts-layer-ui-overlay)}.ag-charts-menu{--item-padding: 6px 12px;--icon-color: var(--ag-charts-menu-text-color);display:grid;grid:auto-flow auto / 1fr;column-gap:12px;font-size:var(--ag-charts-chrome-font-size)}.ag-charts-menu:has(.ag-charts-menu__icon,.ag-charts-menu__row--stroke-width-visible){grid:auto-flow auto / auto 1fr}.ag-charts-menu__row--stroke-width-visible:before{content:"";height:var(--strokeWidth);width:12px;background:var(--icon-color)}.ag-charts-menu__row--stroke-width-visible[aria-disabled=true]:before{filter:grayscale(1);opacity:.5}.ag-charts-menu__row{display:grid;grid-column:1 / -1;grid-template-columns:subgrid;align-items:center;padding:var(--item-padding)}.ag-charts-menu__row:not(.ag-charts-menu__row--active){cursor:pointer}.ag-charts-menu__row:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.ag-charts-menu__row:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.ag-charts-menu__row:focus{background:var(--ag-charts-focus-color)}.ag-charts-menu__row:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow);z-index:var(--ag-charts-layer-menu)}.ag-charts-menu__row--active{--icon-color: var(--ag-charts-accent-color);background:var(--ag-charts-focus-color);color:var(--ag-charts-accent-color)}.ag-charts-menu__label{grid-column:-1 / span 1}.ag-charts-toolbar{--toolbar-gap: calc(var(--ag-charts-spacing) * 2);--toolbar-size: 34px;--toolbar-button-padding: 6px;align-items:center;display:flex;flex-wrap:nowrap;position:absolute}.ag-charts-toolbar__button{align-items:center;background:var(--ag-charts-chrome-background-color);border:var(--ag-charts-button-border);color:var(--ag-charts-button-text-color);cursor:pointer;display:flex;font-family:var(--ag-charts-chrome-font-family);font-size:var(--ag-charts-chrome-font-size-medium);font-weight:var(--ag-charts-chrome-font-weight);justify-content:center;min-height:var(--toolbar-size);min-width:var(--toolbar-size);padding:var(--toolbar-button-padding);position:relative;transition:background-color .25s ease-in-out,border-color .25s ease-in-out,color .25s ease-in-out;white-space:nowrap}.ag-charts-toolbar__button:hover{background:var(--ag-charts-focus-color);z-index:1}.ag-charts-toolbar__button:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow);z-index:calc(var(--ag-charts-layer-ui-overlay) + 1)}.ag-charts-toolbar__button--active{background:var(--ag-charts-focus-color);border-color:var(--ag-charts-accent-color);color:var(--ag-charts-accent-color);z-index:2}.ag-charts-toolbar__button[aria-disabled=true]{background:var(--ag-charts-button-disabled-background-color);color:var(--ag-charts-button-disabled-text-color);cursor:default}.ag-charts-toolbar--horizontal{flex-direction:row;.ag-charts-toolbar__button{margin:0 0 0 -1px}.ag-charts-toolbar__button--first{border-bottom-left-radius:var(--ag-charts-border-radius);border-top-left-radius:var(--ag-charts-border-radius);margin:0}.ag-charts-toolbar__button--last{border-bottom-right-radius:var(--ag-charts-border-radius);border-top-right-radius:var(--ag-charts-border-radius)}}.ag-charts-toolbar--vertical{flex-direction:column;.ag-charts-toolbar__button{margin:-1px 0 0;max-width:100%}.ag-charts-toolbar__button--first{border-top-left-radius:var(--ag-charts-border-radius);border-top-right-radius:var(--ag-charts-border-radius);margin:0}.ag-charts-toolbar__button--last{border-bottom-left-radius:var(--ag-charts-border-radius);border-bottom-right-radius:var(--ag-charts-border-radius)}}.ag-charts-toolbar__icon+.ag-charts-toolbar__label{margin-left:var(--toolbar-gap)}.ag-charts-toolbar__icon,.ag-charts-toolbar__label{pointer-events:none}.ag-charts-floating-toolbar{border:none;display:flex;.ag-charts-toolbar{align-items:unset;position:unset}}.ag-charts-floating-toolbar__drag-handle{align-items:center;background:var(--ag-charts-chrome-background-color);border:var(--ag-charts-border);border-bottom-left-radius:var(--ag-charts-border-radius);border-top-left-radius:var(--ag-charts-border-radius);cursor:grab;display:flex;justify-content:center;min-width:24px;padding-left:0;padding-right:0}.ag-charts-floating-toolbar__drag-handle--dragging{cursor:grabbing}
`,YR=class{constructor(){this.cleanup=new pt,this.destroyed=!1}destroy(){this.cleanup.flush(),this.destroyed=!0}},Jce=class kw{constructor(i,e,n){this.element=i,this.topTabGuard=e,this.bottomTabGuard=n,this.cleanup=new pt,this.guardTabIndex=0,this.hasFocus=!1,this.initTabGuard(this.topTabGuard,!1),this.initTabGuard(this.bottomTabGuard,!0),this.element.addEventListener("focus",()=>this.onFocus(),{capture:!0}),this.element.addEventListener("blur",r=>this.onBlur(r),{capture:!0})}set tabIndex(i){this.guardTabIndex=i,this.guardTabIndex===0?this.setGuardIndices(void 0):this.hasFocus||this.setGuardIndices(this.guardTabIndex)}destroy(){this.cleanup.flush()}initTabGuard(i,e){this.cleanup.register(Gt(i,"focus",()=>this.onTab(i,e)))}setGuardIndices(i){let e=i;et(this.topTabGuard,"tabindex",e),et(this.bottomTabGuard,"tabindex",e)}onFocus(){this.hasFocus=!0,this.guardTabIndex!==0&&this.setGuardIndices(0)}onBlur({relatedTarget:i}){let{topTabGuard:e,bottomTabGuard:n}=this;this.hasFocus=!1,this.guardTabIndex!==0&&i!==e&&i!==n&&this.setGuardIndices(this.guardTabIndex)}onTab(i,e){if(this.guardTabIndex!==0){let n;i.tabIndex===0?(n=this.findExitTarget(!e),this.setGuardIndices(this.guardTabIndex)):n=this.findEnterTarget(e),n?.focus()}}static queryFocusable(i,e){let n=Je();return Array.from(i.querySelectorAll(e)).filter(r=>{if(r instanceof HTMLElement){let a=n.getComputedStyle(r);return a.display!=="none"&&a.visibility!=="none"}return!1})}findEnterTarget(i){let e=kw.queryFocusable(this.element,'[tabindex="0"]'),n=i?e.length-1:0;return e[n]}findExitTarget(i){let e=kw.queryFocusable(Br(),"[tabindex]").filter(a=>a.tabIndex>0).sort((a,s)=>a.tabIndex-s.tabIndex),{before:n,after:r}=kw.findBeforeAndAfter(e,this.guardTabIndex);return i?n:r}static findBeforeAndAfter(i,e){let n=0,r=i.length-1,a,s;for(;n<=r;){let o=Math.floor((n+r)/2),l=i[o].tabIndex;if(l===e){a=i[o-1]||void 0,s=i[o+1]||void 0;break}else l<e?(a=i[o],n=o+1):(s=i[o],r=o-1)}return{before:a,after:s}}};function SD(t,i,e=["Escape"]){return Gt(t,"keydown",n=>{MD(n,...e)&&i(n)})}function KR(t,i){let e=Gt(Je(),"mousedown",n=>{[0,2].includes(n.button)&&!yG(t,n)&&(i(),e())});return e}function qR(t,i){let e=Gt(Je(),"touchstart",n=>{Array.from(n.targetTouches).some(a=>!yG(t,a))&&(i(),e())});return e}function yG(t,i){return i.target instanceof Element&&i.target.shadowRoot!=null?!0:i.target instanceof Node&&t.contains(i.target)}function ZR(t,i,e){let n=r=>{for(let a of i)et(a,"data-focus-visible-override",r)};return n(e),Gt(t,"keydown",()=>n(!0),{once:!0})}function kv(t){return!(t.shiftKey||t.altKey||t.ctrlKey||t.metaKey)}function MD(t,...i){return kv(t)&&i.some(e=>t.key===e)}function nH(t,i,e){return Gt(t,"keydown",n=>{MD(n,e)&&i.focus()})}var vf={horizontal:{nextKey:"ArrowRight",prevKey:"ArrowLeft"},vertical:{nextKey:"ArrowDown",prevKey:"ArrowUp"}};function bG(t){let{orientation:i,buttons:e,wrapAround:n=!1,onEscape:r,onFocus:a,onBlur:s}=t,{nextKey:o,prevKey:l}=vf[i],c=m=>{m.target&&"tabIndex"in m.target&&(e.forEach(p=>p.tabIndex=-1),m.target.tabIndex=0)},[d,u]=n?[e.length,e.length]:[0,1/0],h=new pt;for(let m=0;m<e.length;m++){let p=e[(d+m-1)%u],g=e[m],b=e[(d+m+1)%u];h.register(Gt(g,"focus",c),a&&Gt(g,"focus",a),s&&Gt(g,"blur",s),r&&SD(g,r),p&&nH(g,p,l),b&&nH(g,b,o),Gt(g,"keydown",v=>{MD(v,o,l)&&v.preventDefault()})),g.tabIndex=m===0?0:-1}return h}var ede=class{constructor(t,i,e){this.lastFocus=i,this.closeCallback=e,this.cleanup=new pt,this.cleanup.register(KR(t,()=>this.close(!0)),qR(t,()=>this.close(!0)))}close(t){this.cleanup.flush(),this.closeCallback(),this.finishClosing(t)}finishClosing(t){this.cleanup.flush(),et(this.lastFocus,"aria-expanded",!1),t||this.lastFocus?.focus({preventScroll:!0}),this.lastFocus=void 0}};function vG(t){let{sourceEvent:i,orientation:e,menu:n,buttons:r,closeCallback:a,overrideFocusVisible:s}=t,{nextKey:o,prevKey:l}=vf[e],c=kD(i);et(c,"aria-expanded",!0);let d=new ede(n,c,a),u=()=>d.close(),{cleanup:h}=d;return n.role="menu",n.ariaOrientation=e,h.merge(bG({orientation:e,buttons:r,onEscape:u,wrapAround:!0})),n.tabIndex=-1,h.register(SD(n,u),Gt(n,"keydown",m=>{m.target===n&&(m.key===o||m.key===l)&&(m.preventDefault(),r[0]?.focus())})),r[0]?.focus({preventScroll:!0}),s!==void 0&&h.register(ZR(n,r,s)),d}function tde(t,i){return e=>{if(t.ariaDisabled==="true")return e.preventDefault();i(e)}}function ID(t){return"button"in t?t.button===0:kv(t)&&(t.code==="Space"||t.key==="Enter")}function kD(t){if(t?.target instanceof HTMLElement&&"tabindex"in t.target.attributes)return t.target}function _G(t){return Gt(t,"keydown",i=>{if(i.defaultPrevented)return;_l(i.target,"data-preventdefault",!0)&&MD(i,"ArrowRight","ArrowLeft","ArrowDown","ArrowUp")&&i.preventDefault()})}var ide=class{constructor(t){this.callback=t,this.devicePixelRatio=Je("devicePixelRatio")??1,this.devicePixelRatioMediaQuery=void 0,this.devicePixelRatioListener=i=>{i.matches||(this.devicePixelRatio=Je("devicePixelRatio")??1,this.unregisterDevicePixelRatioListener(),this.registerDevicePixelRatioListener(),this.callback(this.pixelRatio))}}get pixelRatio(){return this.devicePixelRatio}observe(){this.registerDevicePixelRatioListener()}disconnect(){this.unregisterDevicePixelRatioListener()}unregisterDevicePixelRatioListener(){this.devicePixelRatioMediaQuery?.removeEventListener("change",this.devicePixelRatioListener),this.devicePixelRatioMediaQuery=void 0}registerDevicePixelRatioListener(){let t=Je("matchMedia")?.(`(resolution: ${this.pixelRatio}dppx)`);t?.addEventListener("change",this.devicePixelRatioListener),this.devicePixelRatioMediaQuery=t}},xG=class{constructor(){this.elements=new Map,this.documentReady=!1,this.queuedObserveRequests=[],this.onLoad=()=>{this.documentReady=!0,this.queuedObserveRequests.forEach(([i,e])=>this.observe(i,e)),this.queuedObserveRequests=[],this.observeWindow()},typeof ResizeObserver<"u"&&(this.resizeObserver=new ResizeObserver(i=>{for(let{target:e,contentRect:{width:n,height:r}}of i){let a=this.elements.get(e);this.checkSize(a,e,n,r)}}));let t;this.pixelRatioObserver=new ide(()=>{clearTimeout(t),t=setTimeout(()=>this.checkPixelRatio(),0)}),this.documentReady=Br("readyState")==="complete",this.documentReady?this.observeWindow():Je()?.addEventListener("load",this.onLoad)}destroy(){Je()?.removeEventListener("load",this.onLoad),this.resizeObserver?.disconnect(),this.resizeObserver=void 0,this.pixelRatioObserver?.disconnect(),this.pixelRatioObserver=void 0}observeWindow(){this.pixelRatioObserver?.observe()}checkPixelRatio(){let t=this.pixelRatioObserver?.pixelRatio??1;for(let[i,e]of this.elements)if(e.size!=null&&e.size.pixelRatio!==t){let{width:n,height:r}=e.size;e.size={width:n,height:r,pixelRatio:t},e.cb(e.size,i)}}checkSize(t,i,e,n){if(t&&(e!==t.size?.width||n!==t.size?.height)){let r=this.pixelRatioObserver?.pixelRatio??1;t.size={width:e,height:n,pixelRatio:r},t.cb(t.size,i)}}observe(t,i){if(!this.documentReady){this.queuedObserveRequests.push([t,i]);return}this.elements.has(t)?this.removeFromQueue(t):this.resizeObserver?.observe(t);let e={cb:i};this.elements.set(t,e)}unobserve(t){this.resizeObserver?.unobserve(t),this.elements.delete(t),this.removeFromQueue(t),this.elements.size||this.destroy()}removeFromQueue(t){this.queuedObserveRequests=this.queuedObserveRequests.filter(([i])=>i!==t)}},kf=class extends Map{constructor(t,i){super(),this.defaultValue=t,this.defaultState=i}set(t,i){return this.delete(t),typeof i<"u"&&super.set(t,i),delete this.cachedState,delete this.cachedValue,this}stateId(){return this.cachedState??(this.cachedState=Array.from(this.keys()).pop()??this.defaultState),this.cachedState}stateValue(){return this.cachedValue??(this.cachedValue=Array.from(this.values()).pop()??this.defaultValue),this.cachedValue}},nde='<div role="presentation" class="ag-charts-wrapper ag-charts-styles" data-ag-charts><div role="presentation" class="ag-charts-canvas-center"><div role="presentation" class="ag-charts-canvas-container"><div role="presentation" class="ag-charts-canvas" aria-hidden="true"></div><div role="figure" class="ag-charts-canvas-proxy"><div role="presentation" class="ag-charts-series-area"></div></div><div role="presentation" class="ag-charts-canvas-overlay ag-charts-tooltip-container"></div></div></div></div>',rde=["styles","canvas","canvas-center","canvas-container","canvas-overlay","canvas-proxy","series-area","tooltip-container"],ade=new Set(["styles","canvas-container","canvas","tooltip-container"]),rH={safeHorizontal:"ag-charts-wrapper--safe-horizontal",safeVertical:"ag-charts-wrapper--safe-vertical"},sde=new Map([["styles",{childElementType:"style"}],["canvas",{childElementType:"canvas"}],["canvas-proxy",{childElementType:"div"}],["canvas-overlay",{childElementType:"div"}],["canvas-center",{childElementType:"div"}],["series-area",{childElementType:"div"}],["tooltip-container",{childElementType:"div"}]]);function ode(t,i){if(typeof IntersectionObserver>"u")return;let e=new IntersectionObserver(n=>{for(let r of n)r.target===t&&i(r.intersectionRatio)},{root:t});return e.observe(t),e}var CG={x:0,y:0,width:0,height:0,top:0,bottom:0,left:0,right:0,toJSON(){return CG}};function aH(t,i){let e=Ne("div");return e.className="ag-charts-tab-guard",t.insertAdjacentElement(i,e),e}var lde=(()=>{let t=class kh extends YR{constructor(e,n,r,a,s="normal"){super(),this.eventsHub=e,this.chart=n,this.styleContainer=a,this.mode=s,this.anchorName=`--${pn(this)}`,this.styles=new Map,this.pendingContainer=void 0,this.container=void 0,this.documentRoot=void 0,this.initiallyConnected=void 0,this.containerSize=void 0,this.sizeMonitor=new xG,this.cursorState=new kf("default"),this.minWidth=0,this.minHeight=0,this.element=this.initDOM(),this.rootElements=this.initRootElements(),this.rootElements.canvas.element.style.setProperty("anchor-name",this.anchorName);let o=!1;if(this.observer=ode(this.element,l=>{l===0&&!o&&this.eventsHub.emit("dom:hidden",null),o=l===0}),this.setSizeOptions(),this.updateContainerSize(),this.addStyles("ag-charts-community",Xce),this.setContainer(r),this.cleanup.register(_G(this.element)),this.mode==="normal"){let l=this.rootElements["canvas-center"].element;if(l==null)throw new Error("Error initializing tab guards");let c=aH(l,"beforebegin"),d=aH(l,"afterend");this.tabGuards=new Jce(l,c,d)}}initDOM(){if(this.mode==="normal"){let r=Ne("div");return r.innerHTML=nde,r.firstChild}let e=Ne("div");e.role="presentation",e.dataset.agCharts="",e.classList.add("ag-charts-wrapper");let n=Ne("div");return e.appendChild(n),n.role="presentation",n.classList.add("ag-charts-series-area"),e}initRootElements(){let{mode:e,element:n}=this,r={};for(let a of rde){let s=`ag-charts-${a}`,o;if(e==="normal"?o=n.classList.contains(s)?n:n.getElementsByClassName(s)[0]:ade.has(a)?o=n:o=n.getElementsByClassName(s)[0]??Ne("div"),o==null)throw new Error(`AG Charts - unable to find DOM element ${s}`);r[a]={element:o,children:new Map,listeners:[]}}return r}destroy(){super.destroy(),this.observer?.unobserve(this.element),this.container&&this.sizeMonitor.unobserve(this.container),this.pendingContainer=void 0,Object.values(this.rootElements).forEach(e=>{e.children.forEach(n=>n.remove()),e.element.remove()}),this.element.remove()}postRenderUpdate(){this.mode!=="minimal"&&(this.pendingContainer==null||this.pendingContainer===this.container||(kh.batchedUpdateContainer.length===0&&Je().setTimeout(this.applyBatchedUpdateContainer.bind(this),0),kh.batchedUpdateContainer.push(this)))}applyBatchedUpdateContainer(){for(let e of kh.batchedUpdateContainer)e.destroyed||e.updateContainer();kh.batchedUpdateContainer.splice(0)}setSizeOptions(e=300,n=300,r,a){let{style:s}=this.element;s.width=`${r??e}px`,s.height=`${a??n}px`,this.minWidth=r??e,this.minHeight=a??n,this.updateContainerClassName()}updateContainerSize(){let{style:e}=this.rootElements["canvas-center"].element;e.visibility=this.containerSize==null?"hidden":"",this.containerSize?(e.width=`${this.containerSize.width??0}px`,e.height=`${this.containerSize.height??0}px`):(e.width="",e.height=""),this.updateContainerClassName()}setTabGuardIndex(e){this.tabGuards&&(this.tabGuards.tabIndex=e)}setContainer(e){e!==this.container&&(this.pendingContainer=e,(this.mode==="minimal"||this.container==null)&&this.updateContainer())}updateContainer(){let{pendingContainer:e}=this;if(!(e==null||e===this.container)){if(this.container&&(this.container.removeChild(this.element),this.sizeMonitor.unobserve(this.container)),this.documentRoot!=null)for(let n of this.rootElements.styles.children.keys())this.removeChild("styles",n);this.container=e,this.pendingContainer=void 0,this.documentRoot=this.getShadowDocumentRoot(e),this.initiallyConnected=e.isConnected;for(let[n,r]of this.styles)this.addStyles(n,r);e.appendChild(this.element),this.sizeMonitor.observe(e,n=>{this.containerSize=n,this.updateContainerSize(),this.eventsHub.emit("dom:resize",null)}),this.eventsHub.emit("dom:container-change",null)}}setThemeClass(e){let n="ag-charts-theme-";this.element.classList.forEach(r=>{r.startsWith(n)&&r!==e&&this.element.classList.remove(r)}),this.element.classList.add(e)}setThemeParameters(e){for(let[n,r]of dr(e)){let a=`${r}`;n.endsWith("Size")||n.endsWith("Radius")?a=`${r}px`:n.endsWith("Border")&&typeof r=="boolean"&&(a=r?"var(--ag-charts-border)":"none"),this.element.style.setProperty(`--ag-charts-${cU(n)}`,a)}}updateCanvasLabel(e){et(this.rootElements["canvas-proxy"].element,"aria-label",e)}getEventElement(e,n){return["focus","blur","keydown","keyup"].includes(n)?this.rootElements["series-area"].element:e}addEventListener(e,n,r){let a=this.getEventElement(this.element,e);return Gt(a,e,n,r)}removeEventListener(e,n,r){this.getEventElement(this.element,e).removeEventListener(e,n,r)}getBoundingClientRect(){return this.rootElements.canvas.element.getBoundingClientRect()}getOverlayClientRect(){let e=Je(),n=new _e(0,0,e.innerWidth,e.innerHeight),r=this.getRawOverlayClientRect();return n.intersection(r)?.toDOMRect()??CG}getRawOverlayClientRect(){let e=this.element,n=this.element.getRootNode()?.fullscreenElement;for(;e!=null;){let s;if(n!=null&&e===n)s=!0;else{let l=e.computedStyleMap?.()?.get("overflow-y")?.toString();s=l==="auto"||l==="scroll"}if(s)return _e.fromDOMRect(e.getBoundingClientRect());e=e.parentElement}if(this.documentRoot!=null)return _e.fromDOMRect(this.documentRoot.getBoundingClientRect());let{innerWidth:r,innerHeight:a}=Je();return new _e(0,0,r,a)}getShadowDocumentRoot(e=this.container){let n=e?.ownerDocument?.body??Br("body");for(;e!=null;){if(e===n)return;if(e.parentNode instanceof DocumentFragment)return e;e=e.parentNode}}getParent(e){return this.rootElements[e].element}getChildBoundingClientRect(e){let{children:n}=this.rootElements[e],r=[];for(let a of n.values())r.push(_e.fromDOMRect(a.getBoundingClientRect()));return _e.merge(r)}isManagedChildDOMElement(e,n,r){let{children:a}=this.rootElements[n],s=a?.get(r);return s!=null&&e.contains(s)}contains(e,n){return n==null?this.element.contains(e):this.rootElements[n].element.contains(e)}addStyles(e,n){let r="data-ag-charts";if(this.styles.set(e,n),this.container==null)return;let a=l=>l.getAttribute(r)===e,s=l=>{let c=new Set(["TITLE","META"]),d=!0,u;for(let m of l.children){if(d&&c.has(m.tagName)){u=m;continue}if(d=!1,a(m))return;m.hasAttribute(r)&&(u=m)}let h=Ne("style");return this.chart.styleNonce!=null&&(h.nonce=this.chart.styleNonce),u==null?l.prepend(h):l.insertBefore(h,u.nextSibling),h},o;this.styleContainer?o=s(this.styleContainer):this.initiallyConnected===!1?o=this.addChild("styles",e):this.documentRoot==null&&!kh.headStyles.has(e)?(o=s(Br("head")),kh.headStyles.add(e)):this.documentRoot!=null&&(o=this.addChild("styles",e)),!(o==null||a(o))&&(o.setAttribute(r,e),o.innerHTML=n)}removeStyles(e){this.removeChild("styles",e)}updateCursor(e,n){this.cursorState.set(e,n),this.element.style.cursor=this.cursorState.stateValue()}getCursor(){return this.element.style.cursor}addChild(e,n,r,a){let{element:s,children:o,listeners:l}=this.rootElements[e];if(!o)throw new Error("AG Charts - unable to create DOM elements after destroy()");if(o.has(n))return o.get(n);let{childElementType:c="div"}=sde.get(e)??{};if(r&&r.tagName.toLowerCase()!==c.toLowerCase())throw new Error("AG Charts - mismatching DOM element type");let d=r??Ne(c);for(let[u,h,m]of l)d.addEventListener(u,h,m);if(o.set(n,d),c==="style"&&this.chart.styleNonce!=null&&(d.nonce=this.chart.styleNonce),a){let u=s.querySelector(a.query);if(u==null)throw new Error(`AG Charts - addChild query failed ${a.query}`);u.insertAdjacentElement(a.where,d)}else s?.appendChild(d);return d}removeChild(e,n){let{children:r}=this.rootElements[e];r&&(r.get(n)?.remove(),r.delete(n))}incrementDataCounter(e){let{dataset:n}=this.element;n[e]??(n[e]="0"),n[e]=String(Number(n[e])+1)}setDataBoolean(e,n){this.element.dataset[e]=String(n)}updateContainerClassName(){let{element:e,containerSize:n,minWidth:r,minHeight:a}=this;e.classList.toggle(rH.safeHorizontal,r>=(n?.width??1/0)),e.classList.toggle(rH.safeVertical,a>=(n?.height??1/0))}};return t.batchedUpdateContainer=[],t.headStyles=new Set,t})(),wG=lde,cde=class extends Ol{constructor(){super(Ne("div")),this.textElement=qt("text"),this.textElement.role="presentation",this.svgElement=qt("svg"),this.svgElement.appendChild(this.textElement),this.svgElement.style.width="100%",this.svgElement.style.opacity="0",this.svgElement.role="presentation",this.elem.appendChild(this.svgElement),this.elem.role="presentation"}set textContent(t){this.textElement.textContent=t;let e=this.textElement.getBBox?.();e&&this.svgElement.setAttribute("viewBox",`${e.x} ${e.y} ${e.width} ${e.height}`)}get textContent(){return this.textElement.textContent}destructor(){}},DG=class extends Ol{constructor(t,i){super(t),et(this.elem,"role",i),this.setEnabled(!0),this.addListener("keydown",({sourceEvent:e})=>{ID(e)&&(e.preventDefault(),this.htmlListener?.dispatch("click",this,{type:"click",device:"keyboard",sourceEvent:e}))})}destructor(){}setEnabled(t){et(this.elem,"aria-disabled",!t)}addListener(t,i){return super.addListener(t,(e,n)=>{(t==="click"||t==="dblclick")&&this.isDisabled()||i(e,n)})}},Av=class extends DG{constructor(){super(Ne("button"))}},dde=class extends Ol{constructor(){super(Ne("div")),et(this.elem,"role","group")}destructor(){}},QR=class extends Ol{constructor(t,i){super(Ne("div")),this.focusedChildIndex=0,this.onChildFocus=(e,n)=>{let r=this.children[this.focusedChildIndex];this.focusedChildIndex=n.index,r?.setTabIndex(-1),n.setTabIndex(0)},this.onChildKeyDown=(e,n)=>{let r=this.orientation,[a,s]=r==="both"?[vf.horizontal,vf.vertical]:[vf[r],void 0],o=-1;if(kv(e.sourceEvent)){let l=e.sourceEvent.key;l===a.nextKey||l===s?.nextKey?o=n.index+1:(l===a.prevKey||l===s?.prevKey)&&(o=n.index-1)}this.children[o]?.focus()},et(this.elem,"role",i),this.orientation=t}get orientation(){return _l(this.elem,"aria-orientation")??"both"}set orientation(t){et(this.elem,"aria-orientation",t!=="both"?t:void 0)}focus(){this.children[this.focusedChildIndex]?.focus()}clear(){this.focusedChildIndex=0;for(let t of this.children)this.removeChildListeners(t),t.parent=void 0;this.elem.textContent="",this.children.length=0}addChildListeners(t){t.addListener("focus",this.onChildFocus),t.addListener("keydown",this.onChildKeyDown)}removeChildListeners(t){t.removeListener("focus",this.onChildFocus),t.removeListener("keydown",this.onChildKeyDown)}onChildAdded(t){this.addChildListeners(t),t.setTabIndex(this.children.length===1?0:-1)}onChildRemoved(t){this.removeChildListeners(t);let{focusedChildIndex:i,children:e}=this,n=i===t.index;for(let r=0;r<e.length;r++){let a=e[r];a.index===i&&(this.focusedChildIndex=r),a.index=r}if(n){let r=e[i]??e[i-1];r?(this.focusedChildIndex=r.index,r.setTabIndex(0)):this.focusedChildIndex=0}}},ude=class extends QR{constructor(){super("both","list"),this.setHidden(!0)}destructor(){this.children.forEach(t=>t.getElement().parentElement.remove())}addChildToDOM(t,i){let e=Ne("div");et(e,"role","listitem"),Ra(e,"position","absolute"),Ol.setElementContainer(t,e),this.appendOrInsert(e,i),this.setHidden(!1)}removeChildFromDOM(t){t.getElement().parentElement.remove(),this.setHidden(this.children.length===0)}setHidden(t){this.children.length===0&&(t=!0),super.setHidden(t)}},Af=class extends Ol{constructor(t){super(t)}destructor(){}},hde=new Intl.NumberFormat("en-US",{style:"percent"});function Ef(t,i=2){return typeof t=="number"?MG(t,i):typeof t=="string"?t:String(t??"")}function SG(t){return hde.format(t)}var sH=new Map().set(2,new Intl.NumberFormat("en-US",{maximumFractionDigits:2,useGrouping:!1}));function MG(t,i){let e=sH.get(i);return e||(e=new Intl.NumberFormat("en-US",{maximumFractionDigits:i,useGrouping:!1}),sH.set(i,e)),e.format(t)}var mde=(()=>{let t=class Ub extends Ol{constructor(){super(Ne("input")),this._step=Ub.STEP_ONE,this.orientation="both"}get step(){return this._step}set step(e){this._step=e,this.getElement().step=e.attributeValue}get keyboardStep(){return this._keyboardStep?.step??this._step}set keyboardStep(e){if(e!==this._keyboardStep?.step&&(this._keyboardStep!==void 0&&(this.removeListener("keydown",this._keyboardStep.onKeyDown),this.removeListener("keyup",this._keyboardStep.onKeyUp),this.removeListener("blur",this._keyboardStep.onBlur),this._keyboardStep=void 0),e!==void 0)){let n=()=>this.getElement().step=e.attributeValue,r=()=>this.getElement().step=this._step.attributeValue;this._keyboardStep={step:e,onKeyDown:n,onKeyUp:r,onBlur:r},this.addListener("keydown",this._keyboardStep.onKeyDown),this.addListener("keyup",this._keyboardStep.onKeyUp),this.addListener("blur",this._keyboardStep.onBlur)}}get orientation(){return _l(this.elem,"aria-orientation")??"both"}set orientation(e){et(this.elem,"aria-orientation",e!=="both"?e:void 0),Ub.registerDefaultPreventers(this,e)}destructor(){}clampValueRatio(e,n){let r=this.getValueRatio(),a=Ae(e,r,n);return a!==r&&this.setValueRatio(a),a}setValueRatio(e,n){let{divider:r}=this.step,a=Math.round(e*1e4)/r,{ariaValueText:s=SG(a/r)}=n??{},o=this.getElement();o.value=`${a}`,o.ariaValueText=s}getValueRatio(){return this.getElement().valueAsNumber/this.step.divider}static registerDefaultPreventers(e,n){n==="both"?e.removeListener("keydown",Ub.onKeyDown):e.addListener("keydown",Ub.onKeyDown)}static onKeyDown(e,n){let r=[],{orientation:a}=n;a==="horizontal"?r=["ArrowUp","ArrowDown"]:a==="vertical"&&(r=["ArrowLeft","ArrowRight"]),r.includes(e.sourceEvent.code)&&e.sourceEvent.preventDefault()}};return t.STEP_ONE={attributeValue:"1",divider:1},t.STEP_HUNDRETH={attributeValue:"0.01",divider:100},t})(),XR=mde,pde=class extends Av{constructor(){super(),et(this.elem,"role","switch"),this.setChecked(!1)}setChecked(t){et(this.elem,"aria-checked",t)}},AD=class extends QR{constructor(t="horizontal"){super(t,"toolbar")}destructor(){}};function Xp(t,i){return i.params?.type===t}function fde(t){if(t==="button")return new Av;if(t==="slider")return new XR;if(t==="toolbar")return new AD;if(t==="group")return new dde;if(t==="list")return new ude;if(t==="region")return new Af(Ne("div"));if(t==="text")return new cde;if(t==="listswitch")return new pde;throw Error("AG Charts - error allocating meta")}function oH(t){let i={params:t,result:void 0};return i.result=fde(i.params.type),i}var IG=class{constructor(t,i,e){this.eventsHub=t,this.localeManager=i,this.domManager=e,this.cleanup=new pt}destroy(){this.cleanup.flush()}addLocalisation(t){t(),this.cleanup.register(this.eventsHub.on("locale:change",t))}createProxyContainer(t){let i=oH(t),{params:e,result:n}=i,r=n.getElement();return this.domManager.addChild("canvas-proxy",e.domManagerId,r),r.classList.add(...e.classList,"ag-charts-proxy-container"),r.role=e.type,Xp("toolbar",i)&&(i.result.orientation=i.params.orientation),this.addLocalisation(()=>{r.ariaLabel=this.localeManager.t(e.ariaLabel.id,e.ariaLabel.params)}),n}createProxyElement(t){let i=oH(t);if(Xp("button",i)){let{params:e,result:n}=i,r=n.getElement();if(this.initInteract(e,n),typeof e.textContent=="string")r.textContent=e.textContent;else{let{textContent:a}=e;this.addLocalisation(()=>{r.textContent=this.localeManager.t(a.id,a.params)})}this.setParent(i.params,i.result)}if(Xp("slider",i)){let{params:e,result:n}=i,r=n.getElement();this.initInteract(e,n),r.type="range",r.role="presentation",r.style.margin="0px",this.addLocalisation(()=>{r.ariaLabel=this.localeManager.t(e.ariaLabel.id,e.ariaLabel.params)}),this.setParent(i.params,i.result)}if(Xp("text",i)){let{params:e,result:n}=i;this.initElement(e,n),this.setParent(i.params,i.result)}if(Xp("listswitch",i)){let{params:e,result:n}=i;this.initInteract(e,n),n.setTextContent(e.textContent),n.setChecked(e.ariaChecked),n.setAriaDescribedBy(e.ariaDescribedBy),this.setParent(i.params,i.result)}if(Xp("region",i)){let{params:e,result:n}=i,r=n.getElement();this.initInteract(e,n),r.role="region",this.setParent(i.params,i.result)}return i.result}initElement(t,i){let e=i.getElement();return Ra(e,"cursor",t.cursor),e.classList.toggle("ag-charts-proxy-elem",!0),e}initInteract(t,i){let{tabIndex:e,domIndex:n}=t,r=this.initElement(t,i);e!==void 0&&(r.tabIndex=e),n!==void 0&&(i.domIndex=n)}setParent(t,i){if("parent"in t)t.parent?.addChild(i);else{let e={where:t.where,query:".ag-charts-series-area"};this.domManager.addChild("canvas-proxy",t.domManagerId,i.getElement(),e),i.destroyListener=()=>{this.domManager.removeChild("canvas-proxy",t.domManagerId)}}}},gde={ariaInitSeriesArea:"interactive chart",ariaAnnounceHoverDatum:"${datum}",ariaAnnounceChart:"chart, ${seriesCount}[number] series",ariaAnnounceStandaloneChart:"chart, ${caption}",ariaAnnounceHierarchyChart:"hierarchy chart, ${caption}",ariaAnnounceGaugeChart:"gauge chart, ${caption}",ariaAnnounceHierarchyDatum:"level ${level}[number], ${count}[number] children, ${description}",ariaAnnounceFlowProportionLink:"link ${index} of ${count}, from ${from} to ${to}, ${sizeName} ${size}",ariaAnnounceFlowProportionNode:"node ${index} of ${count}, ${description}",ariaDescriptionLegendItem:"Press Space or Enter to toggle visibility",ariaLabelAddHorizontalLine:"Add Horizontal Line",ariaLabelAnnotationsToolbar:"Annotations",ariaLabelAnnotationOptionsToolbar:"Annotation Options",ariaLabelAnnotationSettingsDialog:"Annotation Settings",ariaLabelColor:"Color",ariaLabelColorPicker:"Color picker",ariaLabelColorPickerAlpha:"Transparency",ariaLabelColorPickerHue:"Hue",ariaLabelColorPickerMultiColor:"Multi Color",ariaLabelColorPickerPalette:"Palette",ariaLabelFinancialCharts:"Financial Charts",ariaLabelLegend:"Legend",ariaLabelLegendPagination:"Legend Pagination",ariaLabelLegendPagePrevious:"Previous Legend Page",ariaLabelLegendPageNext:"Next Legend Page",ariaLabelLegendItem:"${label}, Legend item ${index}[number] of ${count}[number]",ariaLabelLegendItemUnknown:"Unknown legend item",ariaLabelNavigator:"Navigator",ariaLabelNavigatorRange:"Range",ariaLabelNavigatorMinimum:"Minimum",ariaLabelNavigatorMaximum:"Maximum",ariaLabelRangesToolbar:"Ranges",ariaLabelSettingsTabBar:"Settings",ariaLabelZoomToolbar:"Zoom",ariaRoleDescription2DSlider:"2D slider",ariaValueColorPalette:"s ${s}[percent0to2dp], v ${v}[percent0to2dp]",ariaValueColorPaletteFirstV:"v ${v}[percent0to2dp], s ${s}[percent0to2dp]",ariaValuePanRange:"${min}[percent0to2dp] to ${max}[percent0to2dp]",iconAltTextLineStyleSolid:"Solid",iconAltTextLineStyleDashed:"Long-dashed",iconAltTextLineStyleDotted:"Short-dashed",iconAltTextPositionTop:"Top",iconAltTextPositionCenter:"Center",iconAltTextPositionBottom:"Bottom",iconAltTextAlignLeft:"Left",iconAltTextAlignCenter:"Center",iconAltTextAlignRight:"Right",iconAltTextClose:"Close",overlayLoadingData:"Loading data...",overlayNoData:"No data to display",overlayNoVisibleSeries:"No visible series",overlayUnsupportedBrowser:"Incompatible browser version. Please upgrade your browser.",seriesHistogramTooltipFrequency:"Frequency",seriesHistogramTooltipSum:"${yName} (sum)",seriesHistogramTooltipCount:"${yName} (count)",seriesHistogramTooltipMean:"${yName} (mean)",toolbarSeriesTypeDropdown:"Chart Type",toolbarSeriesTypeOHLC:"OHLC",toolbarSeriesTypeHLC:"HLC",toolbarSeriesTypeHighLow:"High Low",toolbarSeriesTypeCandles:"Candles",toolbarSeriesTypeHollowCandles:"Hollow Candles",toolbarSeriesTypeLine:"Line",toolbarSeriesTypeLineWithMarkers:"Line with Markers",toolbarSeriesTypeStepLine:"Step Line",toolbarAnnotationsTrendLine:"Trend Line",toolbarAnnotationsFibonacciRetracement:"Fib Retracement",toolbarAnnotationsFibonacciRetracementTrendBased:"Fib Trend Based",toolbarAnnotationsHorizontalLine:"Horizontal Line",toolbarAnnotationsVerticalLine:"Vertical Line",toolbarAnnotationsParallelChannel:"Parallel Channel",toolbarAnnotationsDisjointChannel:"Disjoint Channel",toolbarAnnotationsClearAll:"Clear All",toolbarAnnotationsFillColor:"Fill Color",toolbarAnnotationsLineColor:"Line Color",toolbarAnnotationsLineStyle:"Line Style",toolbarAnnotationsLineStrokeWidth:"Line Stroke Width",toolbarAnnotationsSettings:"Settings",toolbarAnnotationsTextColor:"Text Color",toolbarAnnotationsTextSize:"Text Size",toolbarAnnotationsLock:"Lock",toolbarAnnotationsUnlock:"Unlock",toolbarAnnotationsDelete:"Delete",toolbarAnnotationsDragHandle:"Drag Toolbar",toolbarAnnotationsLineAnnotations:"Trend Lines",toolbarAnnotationsFibonacciAnnotations:"Fibonacci",toolbarAnnotationsTextAnnotations:"Text Annotations",toolbarAnnotationsShapeAnnotations:"Arrows",toolbarAnnotationsMeasurerAnnotations:"Measurers",toolbarAnnotationsCallout:"Callout",toolbarAnnotationsComment:"Comment",toolbarAnnotationsNote:"Note",toolbarAnnotationsText:"Text",toolbarAnnotationsArrow:"Arrow",toolbarAnnotationsArrowUp:"Arrow Up",toolbarAnnotationsArrowDown:"Arrow Down",toolbarAnnotationsDateRange:"Date Range",toolbarAnnotationsPriceRange:"Price Range",toolbarAnnotationsDatePriceRange:"Date and Price",toolbarAnnotationsQuickDatePriceRange:"Measure",toolbarRange1Month:"1M",toolbarRange1MonthAria:"1 month",toolbarRange3Months:"3M",toolbarRange3MonthsAria:"3 months",toolbarRange6Months:"6M",toolbarRange6MonthsAria:"6 months",toolbarRangeYearToDate:"YTD",toolbarRangeYearToDateAria:"Year to date",toolbarRange1Year:"1Y",toolbarRange1YearAria:"1 year",toolbarRangeAll:"All",toolbarRangeAllAria:"All",toolbarZoomZoomOut:"Zoom out",toolbarZoomZoomIn:"Zoom in",toolbarZoomPanLeft:"Pan left",toolbarZoomPanRight:"Pan right",toolbarZoomPanStart:"Pan to the start",toolbarZoomPanEnd:"Pan to the end",toolbarZoomReset:"Reset the zoom",contextMenuDownload:"Download",contextMenuToggleSeriesVisibility:"Toggle Visibility",contextMenuToggleOtherSeries:"Toggle Other Series",contextMenuZoomToCursor:"Zoom to here",contextMenuPanToCursor:"Pan to here",contextMenuResetZoom:"Reset zoom",dialogHeaderChannel:"Channel",dialogHeaderLine:"Line",dialogHeaderFibonacciRange:"Fib Retracement",dialogHeaderDateRange:"Date Range",dialogHeaderPriceRange:"Price Range",dialogHeaderDatePriceRange:"Date and Price",dialogHeaderText:"Text",dialogInputAlign:"Align",dialogInputColorPicker:"Color",dialogInputColorPickerAltText:"Text Color",dialogInputFillColorPicker:"Fill",dialogInputFillColorPickerAltText:"Fill Color",dialogInputExtendChannelStart:"Extend channel start",dialogInputExtendChannelEnd:"Extend channel end",dialogInputExtendLineStart:"Extend line start",dialogInputExtendLineEnd:"Extend line end",dialogInputExtendAbove:"Extend above",dialogInputExtendBelow:"Extend below",dialogInputExtendLeft:"Extend left",dialogInputExtendRight:"Extend right",dialogInputReverse:"Reverse",dialogInputShowFill:"Show Fill",dialogInputFontSize:"Size",dialogInputFontSizeAltText:"Font Size",dialogInputLineStyle:"Dash",dialogInputPosition:"Position",dialogInputStrokeWidth:"Weight",dialogInputStrokeWidthAltText:"Line Weight",dialogInputFibonacciBands:"Bands",dialogInputFibonacciBandsAltText:"Fibonacci Bands",inputTextareaPlaceholder:"Add Text",measurerDateRangeBars:"${value}[number] bars",measurerPriceRangeValue:"${value}[number]",measurerPriceRangePercent:"${value}[percent]",measurerVolume:"Vol ${value}",tooltipPaginationStatus:"${index}[number] of ${count}[number]"},yde=/\$\{(\w+)}(?:\[(\w+)])?/gi,c1={number:new Intl.NumberFormat("en-US"),percent:new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:2,maximumFractionDigits:2}),percent0to2dp:new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:0,maximumFractionDigits:2}),date:new Intl.DateTimeFormat("en-US",{dateStyle:"full"}),time:new Intl.DateTimeFormat("en-US",{timeStyle:"full"}),datetime:new Intl.DateTimeFormat("en-US",{dateStyle:"full",timeStyle:"full"})},bde=({defaultValue:t,variables:i})=>t?.replaceAll(yde,(e,n,r)=>{let a=i[n],s=r!=null?c1[r]:null;return r!=null&&s==null&&j.warnOnce(`Format style [${r}] is not supported`),s!=null?s.format(a):typeof a=="number"?c1.number.format(a):a instanceof Date?c1.datetime.format(a):String(a)}),vde=class{constructor(t){this.eventsHub=t,this.localeText=void 0,this.getLocaleText=void 0}setLocaleText(t){this.localeText!==t&&(this.localeText=t,this.eventsHub.emit("locale:change",null))}setLocaleTextFormatter(t){this.getLocaleText=t,this.getLocaleText!==t&&(this.getLocaleText=t,this.eventsHub.emit("locale:change",null))}t(t,i={}){let{localeText:e=gde,getLocaleText:n}=this,r=e[t];return n?.({key:t,defaultValue:r,variables:i})??bde({key:t,defaultValue:r,variables:i})??t}},JR=class{constructor(t){this.enabled=!0,this.width=600,this.height=300;let{width:i,height:e,canvasElement:n,willReadFrequently:r=!1}=t;this.pixelRatio=t.pixelRatio??Je("devicePixelRatio")??1,this.element=n??Ne("canvas"),this.element.style.display="block",this.element.style.width=(i??this.width)+"px",this.element.style.height=(e??this.height)+"px",this.element.width=Math.round((i??this.width)*this.pixelRatio),this.element.height=Math.round((e??this.height)*this.pixelRatio),this.context=this.element.getContext("2d",{willReadFrequently:r}),this.onEnabledChange(),this.resize(i??0,e??0,this.pixelRatio),O5(this.context)}drawImage(t,i=0,e=0){return t.drawImage(this.context.canvas,i,e)}toDataURL(t){return this.element.toDataURL(t)}resize(t,i,e){if(!(t>0&&i>0))return;let{element:n,context:r}=this;n.width=Math.round(t*e),n.height=Math.round(i*e),r.setTransform(e,0,0,e,0,0),n.style.width=t+"px",n.style.height=i+"px",this.width=t,this.height=i,this.pixelRatio=e}clear(){R5(this)}destroy(){this.element.remove(),this.element.width=0,this.element.height=0,this.context.clearRect(0,0,0,0),Object.freeze(this)}reset(){this.context.reset(),this.context.verifyDepthZero?.()}onEnabledChange(){this.element&&(this.element.style.display=this.enabled?"":"none")}};y([eu(t=>t.onEnabledChange())],JR.prototype,"enabled",2);var _de=class extends Vr{constructor(){super(...arguments),this.cache=new Map,this.imageLoadingCount=0}loadImage(t,i){let e=this.cache.get(t);if(e?.image)return e.image;if(e!=null&&i){e.nodes.add(i);return}if(!i)return;let n={image:void 0,nodes:new Set([i])},r=new Image;return this.imageLoadingCount++,r.onload=()=>{n.image=r;for(let a of n.nodes)a.markDirty();n.nodes.clear(),this.imageLoadingCount--,this.emit("image-loaded",{uri:t})},r.onerror=()=>{this.imageLoadingCount--,n.nodes.clear(),this.emit("image-error",{uri:t})},r.src=t,this.cache.set(t,n),n.image}waitingToLoad(){return this.imageLoadingCount>0}destroy(){this.cache.forEach(t=>{t.nodes.clear()}),this.cache.clear()}},xde=class{constructor(t){this.canvas=t,this.debug=bt.create(!0,"scene"),this.layersMap=new Map,this.nextLayerId=0}get size(){return this.layersMap.size}resize(t,i,e){this.canvas.resize(t,i,e),this.layersMap.forEach(({canvas:n})=>n.resize(t,i,e))}addLayer(t){let{width:i,height:e,pixelRatio:n}=this.canvas,{name:r}=t,a=new ER({width:i,height:e,pixelRatio:n});return this.layersMap.set(a,{id:this.nextLayerId++,name:r,canvas:a}),this.debug("Scene.addLayer() - layers",this.layersMap),a}removeLayer(t){this.layersMap.has(t)&&(this.layersMap.delete(t),t.destroy(),this.debug("Scene.removeLayer() -  layers",this.layersMap))}clear(){for(let t of this.layersMap.values())t.canvas.destroy();this.layersMap.clear()}},eO=(()=>{let t=class extends Vr{constructor(i){super(),this.debug=bt.create(!0,"scene"),this.id=pn(this),this.imageLoader=new _de,this.root=null,this.pendingSize=null,this.isDirty=!1,this.cleanup=new pt,this.updateDebugFlags(),this.canvas=new JR(i),this.layersManager=new xde(this.canvas),this.cleanup.register(this.imageLoader.on("image-loaded",()=>{this.emit("scene-changed",{})}),this.imageLoader.on("image-error",({uri:e})=>{j.warnOnce(`Unable to load image ${e}`)}))}waitingForUpdate(){return this.imageLoader?.waitingToLoad()??!1}get width(){return this.pendingSize?.[0]??this.canvas.width}get height(){return this.pendingSize?.[1]??this.canvas.height}get pixelRatio(){return this.pendingSize?.[2]??this.canvas.pixelRatio}setContainer(i){let{element:e}=this.canvas;return e.parentElement?.removeChild(e),i.appendChild(e),this}setRoot(i){return this.root===i?this:(this.isDirty=!0,this.root?.setScene(),this.root=i,i&&(i.visible=!0,i.setScene(this)),this)}updateDebugFlags(){bt.inDevelopmentMode(()=>Ic._debugEnabled=!0)}clearCanvas(){this.canvas.clear()}attachNode(i){return this.appendChild(i),()=>this.removeChild(i)}appendChild(i){return this.root?.appendChild(i),this}removeChild(i){return this.root?.removeChild(i),this}download(i,e){rU(this.canvas.toDataURL(e),i?.trim()??"image")}getDataURL(i){return this.canvas.toDataURL(i)}resize(i,e,n){return i=Math.round(i),e=Math.round(e),n??(n=this.pixelRatio),i>0&&e>0&&(i!==this.width||e!==this.height||n!==this.pixelRatio)?(this.pendingSize=[i,e,n],this.isDirty=!0,!0):!1}render(i){let{debugSplitTimes:e={start:performance.now()},extraDebugStats:n,seriesRect:r}=i??{},{canvas:a,canvas:{context:s}={},root:o,pendingSize:l,width:c,height:d,pixelRatio:u}=this;if(!s)return;let h=performance.now(),m=!1;if(l&&(m=!0,this.layersManager.resize(...l),this.pendingSize=null),o&&!o.visible){this.isDirty=!1;return}let p;if(o instanceof ht&&(p=o.dirty),o!=null&&p===!1&&!this.isDirty){this.debug.check()&&this.debug("Scene.render() - no-op",{tree:Mw(o,"console")}),JU(this.layersManager,e,s,void 0,n,r);return}let g={ctx:s,width:c,height:d,devicePixelRatio:u,debugNodes:{}};bt.check("scene:stats:verbose")&&(g.stats={layersRendered:0,layersSkipped:0,nodesRendered:0,nodesSkipped:0,opsPerformed:0,opsSkipped:0}),zce(g);let b=!1;if((p!==!1||m)&&(b=!0,a.clear()),o&&bt.check("scene:dirtyTree")){let{dirtyTree:v,paths:_}=cG(o);bt.create("scene:dirtyTree")("Scene.render() - dirtyTree",{dirtyTree:v,paths:_})}if(o&&b){if(o.visible&&o.preRender(g),this.debug.check()){let v=Mw(o,"console");this.debug("Scene.render() - before",{canvasCleared:b,tree:v})}if(o.visible)try{s.save(),o.render(g),s.restore()}catch(v){throw this.canvas.reset(),v}}e["\u270D\uFE0F"]=performance.now()-h,s.verifyDepthZero?.(),this.isDirty=!1,JU(this.layersManager,e,s,g.stats,n,r),Uce(s,g.debugNodes),o&&this.debug.check()&&this.debug("Scene.render() - after",{tree:Mw(o,"console"),canvasCleared:b})}toSVG(){let{root:i,width:e,height:n}=this;if(i!=null)return Ic.toSVG(i,e,n)}strip(){let{context:i,pixelRatio:e}=this.canvas;i.setTransform(e,0,0,e,0,0),this.layersManager.clear(),this.setRoot(null),this.isDirty=!1,this.clear()}destroy(){this.strip(),this.canvas.destroy(),this.imageLoader.destroy(),this.cleanup.flush(),Object.assign(this,{canvas:void 0})}};return t.className="Scene",t})(),Cde=class{constructor(t,i,e){this.eventsHub=t,this.annotationRoot=i,this.fireChartEvent=e,this.mementoOriginatorKey="annotations",this.annotations=[]}createMemento(){return this.annotations}guardMemento(t){return t==null||qe(t)}restoreMemento(t,i,e){this.annotations=this.cleanData(e??[]).map(n=>{let r=this.getAnnotationTypeStyles(n.type);return Xt(n,r)}),this.eventsHub.emit("annotations:restore",{annotations:this.annotations})}updateData(t){this.annotations=this.cleanData(t??[])}fireChangedEvent(){this.fireChartEvent({type:"annotations",annotations:qi([...this.annotations])})}attachNode(t){return this.annotationRoot.append(t),()=>(this.annotationRoot?.removeChild(t),this)}setAnnotationStyles(t){this.styles=t}getAnnotationTypeStyles(t){return this.styles?.[t]}cleanData(t){for(let i of t)"textAlign"in i&&delete i.textAlign;return t}},kG=(t=>(t[t.CHART_BACKGROUND=0]="CHART_BACKGROUND",t[t.AXIS_BAND_HIGHLIGHT=1]="AXIS_BAND_HIGHLIGHT",t[t.AXIS_GRID=2]="AXIS_GRID",t[t.AXIS=3]="AXIS",t[t.SERIES_AREA_CONTAINER=4]="SERIES_AREA_CONTAINER",t[t.ZOOM_SELECTION=5]="ZOOM_SELECTION",t[t.SERIES_CROSSLINE_RANGE=6]="SERIES_CROSSLINE_RANGE",t[t.SERIES_LAYER=7]="SERIES_LAYER",t[t.AXIS_FOREGROUND=8]="AXIS_FOREGROUND",t[t.SERIES_CROSSHAIR=9]="SERIES_CROSSHAIR",t[t.SERIES_CROSSLINE_LINE=10]="SERIES_CROSSLINE_LINE",t[t.SERIES_ANNOTATION=11]="SERIES_ANNOTATION",t[t.CHART_ANNOTATION=12]="CHART_ANNOTATION",t[t.CHART_ANNOTATION_FOCUSED=13]="CHART_ANNOTATION_FOCUSED",t[t.STATUS_BAR=14]="STATUS_BAR",t[t.SERIES_LABEL=15]="SERIES_LABEL",t[t.LEGEND=16]="LEGEND",t[t.NAVIGATOR=17]="NAVIGATOR",t[t.FOREGROUND=18]="FOREGROUND",t))(kG||{}),wde=class{constructor(t,i){this.eventsHub=t,this.sceneRoot=i,this.axes=new Map,this.axisGridGroup=new ht({name:"Axes-Grids",zIndex:2}),this.axisGroup=new ht({name:"Axes",zIndex:3}),this.axisLabelGroup=new ht({name:"Axes-Labels",zIndex:15}),this.axisCrosslineRangeGroup=new ht({name:"Axes-Crosslines-Range",zIndex:6}),this.axisCrosslineLineGroup=new ht({name:"Axes-Crosslines-Line",zIndex:10}),this.axisCrosslineLabelGroup=new ht({name:"Axes-Crosslines-Label",zIndex:15}),this.sceneRoot.appendChild(this.axisGroup),this.sceneRoot.appendChild(this.axisGridGroup),this.sceneRoot.appendChild(this.axisLabelGroup),this.sceneRoot.appendChild(this.axisCrosslineRangeGroup),this.sceneRoot.appendChild(this.axisCrosslineLineGroup),this.sceneRoot.appendChild(this.axisCrosslineLabelGroup)}updateAxes(t,i){let e={axisNode:this.axisGroup,gridNode:this.axisGridGroup,labelNode:this.axisLabelGroup,crossLineRangeNode:this.axisCrosslineRangeGroup,crossLineLineNode:this.axisCrosslineLineGroup,crossLineLabelNode:this.axisCrosslineLabelGroup};for(let n of t)i.includes(n)||(n.detachAxis(e),n.destroy());for(let n of i)t?.includes(n)||n.attachAxis(e);this.axes.clear();for(let n of i){let r=n.createAxisContext();this.axes.has(r.direction)?this.axes.get(r.direction)?.push(r):this.axes.set(r.direction,[r])}this.eventsHub.emit("axis:change",null)}getAxisContext(t){return this.axes.get(t)??[]}destroy(){this.axes.clear(),this.sceneRoot.removeChild(this.axisGroup),this.sceneRoot.removeChild(this.axisGridGroup)}},Zb=(t=>(t[t.FULL=0]="FULL",t[t.UPDATE_DATA=1]="UPDATE_DATA",t[t.PROCESS_DATA=2]="PROCESS_DATA",t[t.PROCESS_DOMAIN=3]="PROCESS_DOMAIN",t[t.PERFORM_LAYOUT=4]="PERFORM_LAYOUT",t[t.SERIES_UPDATE=5]="SERIES_UPDATE",t[t.PRE_SCENE_RENDER=6]="PRE_SCENE_RENDER",t[t.SCENE_RENDER=7]="SCENE_RENDER",t[t.NONE=8]="NONE",t))(Zb||{}),ED=class{constructor(t,i,e){this.eventsHub=t,this.caller=i,this.animationManager=e,this.dispatchOnlyLatest=!0,this.dispatchThrottle=0,this.requestThrottle=300,this.isLoadingInitialData=!1,this.isLoadingData=!1,this.freshRequests=[],this.requestCounter=0,this.pendingData=void 0,this.debug=bt.create(!0,"data-model","data-source"),this.throttledFetch=this.createThrottledFetch(this.requestThrottle),this.throttledDispatch=this.createThrottledDispatch(this.dispatchThrottle)}updateCallback(t){typeof t=="function"&&(this.debug("DataService - updated data source callback"),this.dataSourceCallback=t,this.isLoadingInitialData=!0,this.animationManager.skip(),this.eventsHub.emit("data:source-change",null))}clearCallback(){this.dataSourceCallback=void 0}load(t){let{pendingData:i}=this;if(i!=null&&i.params.windowStart?.valueOf()===t.windowStart?.valueOf()&&i.params.windowEnd?.valueOf()===t.windowEnd?.valueOf()){let e=this.requestCounter++;this.isLoadingInitialData=!1,this.dispatch(e,i.data);return}this.isLoadingData=!0,this.throttledFetch(t)}isLazy(){return this.dataSourceCallback!=null}isLoading(){return this.isLazy()&&(this.isLoadingInitialData||this.isLoadingData)}getData(){return L(this,null,function*(){let{latestRequest:t}=this;if(!t)return;let{params:i,fetchRequest:e}=t,n=yield e;return{params:i,data:n}})}restoreData(t){this.pendingData=t}createThrottledFetch(t){return GT(i=>this.fetch(i).catch(e=>j.error("callback failed",e)),t,{leading:!1,trailing:!0})}createThrottledDispatch(t){return GT((i,e)=>this.dispatch(i,e),t,{leading:!0,trailing:!0})}dispatch(t,i){this.debug(`DataService - dispatching 'data-load' | ${t}`),this.eventsHub.emit("data:load",{data:i})}fetch(t){return L(this,null,function*(){"context"in this.caller&&(t.context=this.caller.context);let i=Promise.resolve().then(()=>L(this,null,function*(){if(!this.dataSourceCallback)throw new Error("DataService - [dataSource.getData] callback not initialised");let e=performance.now(),n=this.requestCounter++;this.debug(`DataService - requesting | ${n}`);let r;try{r=yield this.dataSourceCallback(t),this.debug(`DataService - response | ${performance.now()-e}ms | ${n}`)}catch(s){this.debug(`DataService - request failed | ${n}`),j.errorOnce(`DataService - request failed | [${s}]`)}this.isLoadingInitialData=!1;let a=this.freshRequests.indexOf(i);return a===-1||this.dispatchOnlyLatest&&a!==this.freshRequests.length-1?(this.debug(`DataService - discarding stale request | ${n}`),r):(this.freshRequests=this.freshRequests.slice(a+1),this.freshRequests.length===0&&(this.isLoadingData=!1),Array.isArray(r)?this.throttledDispatch(n,r):this.eventsHub.emit("data:error",null),r)}));this.latestRequest={params:t,fetchRequest:i},this.freshRequests.push(i),yield i})}};y([Yr({newValue(t){this.throttledDispatch=this.createThrottledDispatch(t)}})],ED.prototype,"dispatchThrottle",2);y([Yr({newValue(t){this.throttledFetch=this.createThrottledFetch(t)}})],ED.prototype,"requestThrottle",2);var Dde=class{constructor(t,i){this.domManager=t,this.updateService=i,this.observers=[]}updateFonts(t){!t||t.size===0||(this.loadFonts(t),t.forEach(i=>{this.observeFontStatus(i)}))}destroy(){for(let t of this.observers)t.disconnect();this.observers=[]}loadFonts(t){let i=Array.from(t).map(a=>encodeURIComponent(a)),e=":wght@100;200;300;400;500;600;700;800;900",n=`${e}&family=`,r=`@import url('https://fonts.googleapis.com/css2?family=${i.join(n)}${e}&display=swap');
`;this.domManager.addStyles(`google-font-${i.join("-")}`,r)}observeFontStatus(t){let i=window.document.createElement("div");i.style.setProperty("position","absolute"),i.style.setProperty("top","0"),i.style.setProperty("margin","0"),i.style.setProperty("padding","0"),i.style.setProperty("overflow","hidden"),i.style.setProperty("visibility","hidden"),i.style.setProperty("width","auto"),i.style.setProperty("max-width","none"),i.style.setProperty("font-synthesis","none"),i.style.setProperty("font-family",t),i.style.setProperty("font-size","16px"),i.style.setProperty("white-space","nowrap"),i.textContent="UVWxyz",this.domManager.addChild("canvas-container",`font-check-${encodeURIComponent(t)}`,i);let e=new ResizeObserver(n=>{let r=n?.at(0)?.contentBoxSize.at(0)?.inlineSize;r!=null&&r>0&&(tu.clear(),this.updateService.update(4))});e.observe(i),this.observers.push(e)}};var Sde=void 0,Mde=void 0;Mde=Sde;var Ide=void 0,kde=void 0;kde=Ide;var Ade=void 0,Ede=void 0;Ede=Ade;var Tde=void 0,Rde=void 0;Rde=Tde;var AG=class{constructor(){this.registeredListeners=new Map}addListener(t,i){let e={symbol:Symbol(t),handler:i};return this.registeredListeners.has(t)?this.registeredListeners.get(t).push(e):this.registeredListeners.set(t,[e]),()=>this.removeListener(e.symbol)}removeListener(t){for(let[i,e]of this.registeredListeners.entries()){let n=e.findIndex(r=>r.symbol===t);if(n>=0){e.splice(n,1),e.length===0&&this.registeredListeners.delete(i);break}}}dispatch(t,...i){for(let e of this.getListenersByType(t))try{e.handler(...i)}catch(n){j.errorOnce(n)}}getListenersByType(t){return this.registeredListeners.get(t)??[]}destroy(){this.registeredListeners.clear()}},Nb=new WeakMap;function rv(t,i){let e=JSON.stringify(t,null,0);return Nb.has(i)||Nb.set(i,new Map),Nb.get(i)?.has(e)||Nb.get(i)?.set(e,i(t)),Nb.get(i)?.get(e)}var d1=class{constructor(){this.weak=new WeakMap,this.strong=new Map,this.set=!1,this.value=void 0}};function Ev(t,i){let e=new d1,n=(...r)=>{let a=e;for(let s of r){let o=typeof s=="object"||typeof s=="symbol"?a.weak:a.strong,l=o.get(s);l==null&&(l=new d1,o.set(s,l)),a=l}if(a.set)return i?.("hit",t,r),a.value;{let s=t(...r);return a.set=!0,a.value=s,i?.("miss",t,r),s}};return n.reset=()=>{e=new d1},n}function Ir(t,i){let e=new Map,n=(...s)=>s.map(o=>typeof o=="object"||typeof o=="symbol"?o:(e.has(o)||e.set(o,{v:o}),e.get(o))),r={},a=new WeakMap;return(...s)=>{let o=s.length===0?[r]:n(...s),l=a;for(let u of o.slice(0,-1))l.has(u)||l.set(u,new WeakMap),l=l.get(u);let c=o.at(-1),d=l.get(c);return d?i?.("hit",t,s):(d=t(...s),l.set(c,d),i?.("miss",t,s)),d}}var mw={periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]};function tO(t,i=new Date(t.getFullYear(),0,1)){let e=t.getTimezoneOffset()-i.getTimezoneOffset(),n=t.getTime()-i.getTime()+e*6e4,r=36e5*24;return Math.floor(n/r)}function lH(t,i){let n=new Date(t.getFullYear(),0,1).getDay(),r=(i-n+7)%7,a=new Date(t.getFullYear(),0,r+1);return a<=t?Math.floor(tO(t,a)/7)+1:0}var Ode=0,EG=1,cH=4;function TG(t,i=t.getFullYear()){let n=new Date(i,0,1).getDay(),r=(cH-n+7)%7,a=new Date(i,0,r-(cH-EG)+1);return a<=t?Math.floor(tO(t,a)/7)+1:TG(t,i-1)}function Lde(t){let i=t.getTimezoneOffset(),e=Math.abs(i);return`${i>0?"-":"+"}${Mr(Math.floor(e/60),2,"0")}${Mr(Math.floor(e%60),2,"0")}`}var Nde={a:t=>mw.shortDays[t.getDay()],A:t=>mw.days[t.getDay()],b:t=>mw.shortMonths[t.getMonth()],B:t=>mw.months[t.getMonth()],c:"%x, %X",d:(t,i)=>Mr(t.getDate(),2,i??"0"),e:"%_d",f:(t,i)=>Mr(t.getMilliseconds()*1e3,6,i??"0"),H:(t,i)=>Mr(t.getHours(),2,i??"0"),I:(t,i)=>{let e=t.getHours()%12;return e===0?"12":Mr(e,2,i??"0")},j:(t,i)=>Mr(tO(t)+1,3,i??"0"),m:(t,i)=>Mr(t.getMonth()+1,2,i??"0"),M:(t,i)=>Mr(t.getMinutes(),2,i??"0"),L:(t,i)=>Mr(t.getMilliseconds(),3,i??"0"),p:t=>t.getHours()<12?"AM":"PM",Q:t=>String(t.getTime()),s:t=>String(Math.floor(t.getTime()/1e3)),S:(t,i)=>Mr(t.getSeconds(),2,i??"0"),u:t=>{let i=t.getDay();return i<1&&(i+=7),String(i%7)},U:(t,i)=>Mr(lH(t,Ode),2,i??"0"),V:(t,i)=>Mr(TG(t),2,i??"0"),w:(t,i)=>Mr(t.getDay(),2,i??"0"),W:(t,i)=>Mr(lH(t,EG),2,i??"0"),x:"%-m/%-d/%Y",X:"%-I:%M:%S %p",y:(t,i)=>Mr(t.getFullYear()%100,2,i??"0"),Y:(t,i)=>Mr(t.getFullYear(),4,i??"0"),Z:t=>Lde(t),"%":()=>"%"},Pde={_:" ",0:"0","-":""};function Mr(t,i,e){let n=String(Math.floor(t));return n.length>=i?n:`${e.repeat(i-n.length)}${n}`}function zh(t){let i=[];for(;t.length>0;){let e=t.indexOf("%");if(e!==0){let o=e>0?t.substring(0,e):t;i.push(o)}if(e<0)break;let n=t[e+1],r=Pde[n];r!=null&&e++;let a=t[e+1],s=Nde[a];if(typeof s=="function")i.push([s,r]);else if(typeof s=="string"){let o=zh(s);i.push([o,r])}else i.push(`${r??""}${a}`);t=t.substring(e+2)}return e=>{let n=typeof e=="number"?new Date(e):e;return i.map(r=>typeof r=="string"?r:r[0](n,r[1])).join("")}}var wl={millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e",month:"%b",year:"%Y"},Fde={millisecond:"%Y %b %e %H:%M:%S.%L",second:"%Y %b %e %H:%M:%S",minute:"%Y %b %e %H:%M",hour:"%Y %b %e %H:%M",day:"%Y %b %e",month:"%Y %b",year:"%Y"},Ur={year:0,month:1,day:2,hour:3,minute:4,second:5,millisecond:6},Vde=/%[-_0]?L/,Bde=/%[-_0]?S/,jde=/%[-_0]?M/,zde=/%[-_0]?[HI]/,Ude=/^%[-_0]?[de]$/,Hde=/^%[-_0]?[Bbm]$/,Gde=/^%[-_0]?[Yy]$/;function RG(t,i,e){if(typeof t=="string")return t;t??(t=wl);let{millisecond:n=wl.millisecond,second:r=wl.second,minute:a=wl.minute,hour:s=wl.hour,day:o=wl.day,month:l=wl.month,year:c=wl.year}=t,d=Ur[i],u=Fde[i],h=e?Ur[e]:-1;if(h<Ur.year&&d>=Ur.year&&!Gde.test(c)||h<Ur.month&&d>=Ur.month&&!Hde.test(l)||h<Ur.day&&d>=Ur.day&&!Ude.test(o))return u;let m;switch(i){case"year":return c;case"month":return h<Ur.year?`${l} ${c}`:l;case"day":return h<Ur.year?`${l} ${o} ${c}`:`${l} ${o}`;case"hour":m=s;break;case"minute":m=a;break;case"second":m=r;break;case"millisecond":m=n;break;default:return u}if(d>=Ur.hour&&!zde.test(m)||d>=Ur.minute&&!jde.test(m)||d>=Ur.second&&!Bde.test(m)||d>=Ur.millisecond&&!Vde.test(m))return u;let p;return h<Ur.year?p=`${l} ${o} ${c}`:h<Ur.month&&(p=`${l} ${o}`),p?`${m} ${p}`:m}var Tf=class Aw extends AG{constructor(){super(...arguments),this.formats=new Map,this.dateFormatter=Ev((i,e,n,r,a)=>{let s=Aw.mergeSpecifiers(i,e)??wl;return Aw.getFormatter("date",s,n,r,{truncateDate:a})}),this.formatter=void 0}static mergeSpecifiers(...i){let e;for(let n of i)typeof n=="string"?e=n:yt(n)&&(e=yt(e)?f(f({},e),n):n);return e}static getFormatter(i,e,n,r="long",{truncateDate:a}={}){if(yt(e)){if(i!=="date"){j.warn("Date formatter configuration is not supported for non-date types.");return}n??(n="millisecond");let s=r==="component"?e?.[n]??wl[n]:RG(e,n,a);return zh(s)}switch(i){case"number":{let s=Rb(e);return s==null?void 0:lw(s)}case"date":return zh(e);case"category":return s=>e.replace("%s",String(s))}}setFormatter(i){this.formatter!==i&&(this.formatter=i,this.formats.clear(),this.dateFormatter.reset(),this.dispatch("format-changed"))}format(i,e,{specifier:n,truncateDate:r}={}){if(e.value==null)return;let{formatter:a}=this;if(a==null)return;if(typeof a=="function"){let c=i(a,e);return c!=null?String(c):void 0}let s=a[e.property];if(s==null)return;if(typeof s=="function"){let c=i(s,e);return c!=null?String(c):void 0}else if(e.type==="date"){let{unit:c,style:d}=e;return this.dateFormatter(s,n,c,d,r)?.(e.value)}let o=n??s;if(typeof o!="string")return;let l=this.formats.get(o);return l==null&&(l=Aw.getFormatter(e.type,o),this.formats.set(o,l)),l?.(e.value,e.type==="number"?e.fractionDigits:void 0)}defaultFormat(i,{specifier:e,truncateDate:n}={}){let{formatter:r}=this,a=typeof r=="function"?void 0:r?.[i.property];switch(i.type){case"date":{let{unit:s,style:o}=i,l=a!=null&&typeof a!="function"?a:void 0;return this.dateFormatter(l,e,s,o,n)?.(i.value)??String(i.value)}case"number":return Ef(i.value,i.fractionDigits);case"category":return Array.isArray(i.value)?i.value.join(" - "):typeof i.value=="string"?i.value:typeof i.value=="number"?Ef(i.value):String(i.value)}}};function Wde(t,i){return e=>Number(t)*(1-e)+Number(i)*e}function OG(t,i){if(typeof t=="string")try{t=wi.fromString(t)}catch{t=wi.fromArray([0,0,0])}if(typeof i=="string")try{i=wi.fromString(i)}catch{i=wi.fromArray([0,0,0])}return e=>wi.mix(t,i,e).toRgbaString()}var q1={};Rl(q1,{easeIn:()=>$de,easeInOut:()=>Yde,easeInOutQuad:()=>Zde,easeInQuad:()=>Kde,easeOut:()=>av,easeOutQuad:()=>qde,inverseEaseOut:()=>NG,linear:()=>LG});var LG=t=>t,$de=t=>1-Math.cos(t*Math.PI/2),av=t=>Math.sin(t*Math.PI/2),Yde=t=>-(Math.cos(t*Math.PI)-1)/2,Kde=t=>t*t,qde=t=>1-(1-t)**2,Zde=t=>t<.5?2*t*t:1-(-2*t+2)**2/2,NG=t=>2*Math.asin(t)/Math.PI,Yw=.2,of=["initial","remove","update","add","trailing","end","none"],sv={initial:{animationDuration:1,animationDelay:0},add:{animationDuration:.25,animationDelay:.75},remove:{animationDuration:.25,animationDelay:0},update:{animationDuration:.5,animationDelay:.25},trailing:{animationDuration:Yw,animationDelay:1,skipIfNoEarlierAnimations:!0},end:{animationDelay:1+Yw,animationDuration:0,skipIfNoEarlierAnimations:!0},none:{animationDuration:0,animationDelay:0}},PG=(t=>(t.Loop="loop",t.Reverse="reverse",t))(PG||{});function Qde(t){return t.every(i=>i instanceof Ic)}function TD(t){return Qde(t)?{nodes:t,selections:[]}:{nodes:[],selections:t}}function Z1(t,i){return t===i?!0:Array.isArray(t)&&Array.isArray(i)?t.length===i.length&&t.every((e,n)=>Z1(e,i[n])):Uw(t)&&Uw(i)?t.equals(i):yt(t)&&yt(i)?RR(t,i,Z1):!1}var FG=class{constructor(t){this.isComplete=!1,this.elapsed=0,this.iteration=0,this.isPlaying=!1,this.isReverse=!1,this.id=t.id,this.groupId=t.groupId,this.autoplay=t.autoplay??!0,this.ease=t.ease??LG,this.phase=t.phase;let i=t.duration??sv[this.phase].animationDuration;this.duration=i*t.defaultDuration,this.delay=(t.delay??0)*t.defaultDuration,this.onComplete=t.onComplete,this.onPlay=t.onPlay,this.onStop=t.onStop,this.onUpdate=t.onUpdate,this.interpolate=this.createInterpolator(t.from,t.to),this.from=t.from,t.skip===!0&&(this.onUpdate?.(t.to,!1,this),this.onStop?.(this),this.onComplete?.(this),this.isComplete=!0),t.collapsable!==!1&&(this.duration=this.checkCollapse(t,this.duration))}checkCollapse(t,i){return Z1(t.from,t.to)?0:i}play(t=!1){this.isPlaying||this.isComplete||(this.isPlaying=!0,this.onPlay?.(this),this.autoplay&&(this.autoplay=!1,t&&this.onUpdate?.(this.from,!0,this)))}stop(){this.isPlaying=!1,this.isComplete||(this.isComplete=!0,this.onStop?.(this))}update(t){if(this.isComplete)return t;!this.isPlaying&&this.autoplay&&this.play(!0);let i=this.elapsed;if(this.elapsed+=t,this.delay>this.elapsed)return 0;let e=this.interpolate(this.isReverse?1-this.delta:this.delta);this.onUpdate?.(e,!1,this);let n=this.delay+this.duration;return this.elapsed>=n?(this.stop(),this.isComplete=!0,this.onComplete?.(this),t-(n-i)):0}get delta(){return this.ease(Ae(0,(this.elapsed-this.delay)/this.duration,1))}createInterpolator(t,i){if(typeof i!="object"||Uw(i))return this.interpolateValue(t,i);let e=[];for(let n of Object.keys(i)){let r=this.interpolateValue(t[n],i[n]);r!=null&&e.push([n,r])}return n=>{let r={};for(let[a,s]of e)r[a]=s(n);return r}}interpolateValue(t,i){if(!(t==null||i==null)){if(Uw(t))return e=>t[yD](i,e);try{switch(typeof t){case"number":return Wde(t,i);case"string":return OG(t,i);case"boolean":if(t===i)return()=>t;break;case"object":return()=>t;default:throw new Error(`Unable to interpolate values: ${t}, ${i}`)}}catch{}throw new Error(`Unable to interpolate values: ${t}, ${i}`)}}},dH=class{constructor(t){this.maxAnimationTime=t,this.debug=bt.create(!0,"animation"),this.controllers=new Map,this.stoppedCbs=new Set,this.currentPhase=0,this.phases=new Map(of.map(i=>[i,[]])),this.skipAnimations=!1,this.animationTimeConsumed=0,this.isReady=!1}get size(){return this.controllers.size}get consumedTimeMs(){return this.animationTimeConsumed}isActive(){return this.controllers.size>0}getActiveControllers(){return this.phases.get(of[this.currentPhase])??[]}checkOverlappingId(t){t!=null&&this.controllers.has(t)&&(this.controllers.get(t).stop(),this.debug(`Skipping animation batch due to update of existing animation: ${t}`),this.skip())}addAnimation(t){if(t.isComplete)return;if(of.indexOf(t.phase)<this.currentPhase){this.debug("Skipping animation due to being for an earlier phase",t.id),t.stop();return}this.controllers.set(t.id,t),this.phases.get(t.phase)?.push(t)}removeAnimation(t){this.controllers.delete(t.id);let i=this.phases.get(t.phase),e=i?.indexOf(t);e!=null&&e>=0&&i?.splice(e,1)}progress(t){if(!this.isReady)return;let i=t===0?.01:t,e=()=>{let c=of[this.currentPhase];return{phaseControllers:[...this.getActiveControllers()],phase:c,phaseMeta:sv[c]}},{phase:n,phaseControllers:r,phaseMeta:a}=e(),s=()=>of[this.currentPhase]==null,o=()=>{for({phase:n,phaseControllers:r,phaseMeta:a}=e();!s()&&r.length===0;)this.currentPhase++,{phase:n,phaseControllers:r,phaseMeta:a}=e(),this.debug(`AnimationBatch - phase changing to ${n}`,{unusedTime:i},r)},l=this.controllers.size;this.debug(`AnimationBatch - ${t}ms; phase ${n} with ${r?.length} of ${l}`);do{let c=i,d=a.skipIfNoEarlierAnimations&&this.animationTimeConsumed===0,u=0;for(let h of r)d?h.stop():i=Math.min(h.update(c),i),h.isComplete&&(u++,this.removeAnimation(h));this.animationTimeConsumed+=c-i,this.debug(`AnimationBatch - updated ${r.length} controllers; ${u} completed`,r),this.debug(`AnimationBatch - animationTimeConsumed: ${this.animationTimeConsumed}`),o()}while(i>0&&!s());this.animationTimeConsumed>this.maxAnimationTime&&(this.debug("Animation batch exceeded max animation time, skipping",[...this.controllers]),this.stop())}ready(){if(this.isReady)return;this.isReady=!0,this.debug(`AnimationBatch - ready; skipped: ${this.skipAnimations}`,[...this.controllers]);let t=!0;for(let[,i]of this.controllers)if(i.duration>0&&sv[i.phase].skipIfNoEarlierAnimations!==!0){t=!1;break}if(!t)for(let[,i]of this.controllers)i.autoplay&&i.play(!0)}skip(t=!0){if(this.skipAnimations===!1&&t===!0){for(let i of this.controllers.values())i.stop();this.controllers.clear()}this.skipAnimations=t}play(){for(let t of this.controllers.values())t.play()}stop(){for(let t of this.controllers.values())try{t.stop(),this.removeAnimation(t)}catch(i){j.error("Error during animation stop",i)}this.dispatchStopped()}stopByAnimationId(t){if(t!=null&&this.controllers.has(t)){let i=this.controllers.get(t);i&&(i.stop(),this.removeAnimation(i))}}stopByAnimationGroupId(t){for(let i of this.controllers.values())i.groupId===t&&this.stopByAnimationId(i.id)}dispatchStopped(){this.stoppedCbs.forEach(t=>t()),this.stoppedCbs.clear()}isSkipped(){return this.skipAnimations}getRemainingTime(t){if(!this.isActive())return 0;let i=0;for(let[e,n]of this.phases)n.length!==0&&(t!=null&&t!==e||(i+=Math.max(...n.map(r=>r.isComplete?0:r.delay+r.duration-(r.elapsed??0)))));return i}destroy(){this.stop(),this.controllers.clear()}},VG=(t=>(t[t.Default=32]="Default",t[t.ZoomDrag=16]="ZoomDrag",t[t.Annotations=8]="Annotations",t[t.ContextMenu=4]="ContextMenu",t[t.Animation=2]="Animation",t[t.AnnotationsSelected=1]="AnnotationsSelected",t[t.Clickable=41]="Clickable",t[t.Focusable=34]="Focusable",t[t.Keyable=43]="Keyable",t[t.ContextMenuable=36]="ContextMenuable",t[t.AnnotationsMoveable=9]="AnnotationsMoveable",t[t.AnnotationsDraggable=57]="AnnotationsDraggable",t[t.ZoomDraggable=50]="ZoomDraggable",t[t.ZoomClickable=34]="ZoomClickable",t[t.ZoomWheelable=59]="ZoomWheelable",t[t.All=63]="All",t))(VG||{}),BG=class{constructor(){this.stateQueue=34}pushState(t){this.stateQueue|=t}popState(t){this.stateQueue&=~t}isState(t){return!!(this.stateQueue&-this.stateQueue&t)}};function uH(t){return t==null?!0:!isNaN(t)&&t>=0&&t<=2}var jG=class{constructor(t,i){this.interactionManager=t,this.chartUpdateMutex=i,this.defaultDuration=1e3,this.batch=new dH(this.defaultDuration*1.5),this.debug=bt.create(!0,"animation"),this.events=new Vr,this.rafAvailable=typeof requestAnimationFrame<"u",this.isPlaying=!0,this.requestId=null,this.skipAnimations=!0,this.currentAnonymousAnimationId=0}addListener(t,i){return this.events.on(t,i)}animate(t){let i=this.batch;try{i.checkOverlappingId(t.id)}catch(o){this.failsafeOnError(o);return}let{id:e}=t;e==null&&(e=`__${this.currentAnonymousAnimationId}`,this.currentAnonymousAnimationId+=1);let n=this.isSkipped()||t.phase==="none";n&&this.debug("AnimationManager - skipping animation");let{delay:r,duration:a}=t;if(!uH(r))throw new Error(`Animation delay of ${r} is unsupported (${e})`);if(!uH(a))throw new Error(`Animation duration of ${a} is unsupported (${e})`);let s=new FG(S(f({},t),{id:e,skip:n,autoplay:this.isPlaying?t.autoplay:!1,phase:t.phase,defaultDuration:this.defaultDuration}));if(!this.forceTimeJump(s,this.defaultDuration))return this.batch.addAnimation(s),s}play(){if(!this.isPlaying){this.isPlaying=!0,this.debug("AnimationManager.play()");try{this.batch.play()}catch(t){this.failsafeOnError(t)}this.requestAnimation()}}stop(){this.isPlaying=!1,this.cancelAnimation(),this.debug("AnimationManager.stop()"),this.batch.stop()}stopByAnimationId(t){try{this.batch.stopByAnimationId(t)}catch(i){this.failsafeOnError(i)}}stopByAnimationGroupId(t){try{this.batch.stopByAnimationGroupId(t)}catch(i){this.failsafeOnError(i)}}reset(){this.isPlaying?(this.stop(),this.play()):this.stop()}skip(t=!0){this.skipAnimations=t}isSkipped(){return!this.rafAvailable||this.skipAnimations||this.batch.isSkipped()}isActive(){return this.isPlaying&&this.batch.isActive()}getRemainingTime(t){return this.batch.getRemainingTime(t)}skipCurrentBatch(){this.debug.check()&&this.debug("AnimationManager - skipCurrentBatch()",{stack:new Error().stack}),this.batch.skip()}isSkippingFrames(){return!0}scheduleAnimationFrame(t){this.requestId=Je().requestAnimationFrame(i=>{t(i).catch(e=>j.error(e))})}forceTimeJump(t,i){return!1}requestAnimation(){if(!this.rafAvailable||!this.batch.isActive()||this.requestId!==null)return;let t,i=e=>L(this,null,function*(){yield this.debug.group("AnimationManager.onAnimationFrame()",()=>L(this,null,function*(){let n=()=>{let r=e-(t??e);t=e,this.debug("AnimationManager",{controllersCount:this.batch.size,deltaTime:r}),this.interactionManager.pushState(2);try{this.batch.progress(r)}catch(a){this.failsafeOnError(a)}this.events.emit("animation-frame",{type:"animation-frame",deltaMs:r})};this.isSkippingFrames()?yield this.chartUpdateMutex.acquireImmediately(n):yield this.chartUpdateMutex.acquire(n),this.batch.isActive()?this.scheduleAnimationFrame(i):(this.batch.stop(),this.events.emit("animation-stop",{type:"animation-stop",deltaMs:this.batch.consumedTimeMs}))}))});this.events.emit("animation-start",{type:"animation-start",deltaMs:0}),this.scheduleAnimationFrame(i)}cancelAnimation(){this.requestId!==null&&(cancelAnimationFrame(this.requestId),this.events.emit("animation-stop",{type:"animation-stop",deltaMs:this.batch.consumedTimeMs}),this.requestId=null,this.startBatch())}failsafeOnError(t,i=!0){j.error("Error during animation, skipping animations",t),i&&this.cancelAnimation()}startBatch(t){this.debug(`AnimationManager - startBatch() with skipAnimations=${t}.`),this.reset(),this.batch.destroy(),this.batch=new dH(this.defaultDuration*1.5),t===!0&&this.batch.skip()}endBatch(){this.batch.isActive()?(this.batch.ready(),this.requestAnimation()):(this.interactionManager.popState(2),this.batch.isSkipped()&&this.batch.skip(!1))}onBatchStop(t){this.batch.stoppedCbs.add(t)}destroy(){this.stop(),this.events.clear()}},Xde=class{constructor(){this.download={type:"action",showOn:"always",label:"contextMenuDownload",enabled:!0,action:void 0,items:void 0},this["zoom-to-cursor"]={type:"action",showOn:"series-area",label:"contextMenuZoomToCursor",enabled:!0,action:void 0,items:void 0},this["pan-to-cursor"]={type:"action",showOn:"series-area",label:"contextMenuPanToCursor",enabled:!0,action:void 0,items:void 0},this["reset-zoom"]={type:"action",showOn:"series-area",label:"contextMenuResetZoom",enabled:!0,action:void 0,items:void 0},this["toggle-series-visibility"]={type:"action",showOn:"legend-item",label:"contextMenuToggleSeriesVisibility",enabled:!0,action:void 0,items:void 0},this["toggle-other-series"]={type:"action",showOn:"legend-item",label:"contextMenuToggleOtherSeries",enabled:!0,action:void 0,items:void 0},this.separator={type:"separator",showOn:"always",label:"separator",enabled:!0,action:void 0,items:void 0}}},Jde=class{constructor(){this.defaults=["download","zoom-to-cursor","pan-to-cursor","reset-zoom","toggle-series-visibility","toggle-other-series"]}},zG=class{constructor(){this.items=new Xde,this.lists=new Jde}},UG=class{constructor(t){this.eventsHub=t,this.builtins=new zG,this.hiddenActions=new Set,this.setVisible("zoom-to-cursor",!1),this.setVisible("pan-to-cursor",!1),this.setVisible("reset-zoom",!1)}static check(t,i){return i.showOn==t}static checkCallback(t,i,e){return t===i}dispatchContext(t,i,e,n){let{widgetEvent:r}=i;if(r.sourceEvent.defaultPrevented)return;let a=n?.x??i.canvasX,s=n?.y??i.canvasY,o={showOn:t,x:a,y:s,context:e,widgetEvent:r};this.eventsHub.emit("context-menu:setup",o),this.eventsHub.emit("context-menu:complete",o)}isVisible(t){return!this.hiddenActions.has(t)}setVisible(t,i){i?this.hiddenActions.delete(t):this.hiddenActions.add(t)}},HG=class{constructor(t){this.eventsHub=t,this.highlightStates=new kf}updateHighlight(t,i){let e=this.getActiveHighlight();this.highlightStates.set(t,i);let n=this.getActiveHighlight();this.isEqual(n,e)||this.eventsHub.emit("highlight:change",{callerId:t,currentHighlight:n,previousHighlight:e})}getActiveHighlight(){return this.highlightStates.stateValue()}isEqual(t,i){return t===i||t!=null&&i!=null&&t?.series===i?.series&&t?.itemId===i?.itemId&&t?.datum===i?.datum}};function hH(t,i){if(t==null||i.length===0)return[!1,!1];let e=t.valueOf(),n=i[0],r=i[i.length-1];if(typeof n=="string")return[e===n,e===r];let a=n.valueOf(),s=r.valueOf();return a>s&&([a,s]=[s,a]),[e===a,e===s]}function Gd(t,i,e,n,r,a){let[s,o]=hH(i,a),[l,c]=hH(t,r);return{xKey:e,yKey:n,xValue:t,yValue:i,first:l,last:c,min:s,max:o}}function GG(t,i,[e,n],r){let a=pc(0,i-1,o=>{let l=t===1?o:i-o,c=r(l)?.[1]??NaN;return!Number.isFinite(c)||c>e})??0,s=_o(0,i-1,o=>{let l=t===1?o:i-o,c=r(l)?.[0]??NaN;return!Number.isFinite(c)||c<n})??i-1;return t===-1&&([a,s]=[i-s,i-a]),a=Math.max(a,0),s=Math.min(s+1,i),[a,s]}function iO(t,i,e){if(e){let{x:r,y:a,width:s,height:o}=e;return{canvasX:r+s/2,canvasY:a+o/2}}let n=i.yBar?.upperPoint??i.midPoint??t.datumMidPoint?.(i);if(n){let{x:r,y:a}=rn.toCanvasPoint(t.contentGroup,n.x,n.y);return{canvasX:Math.round(r),canvasY:Math.round(a)}}}function WG(t,i,e,n,r){let a=-1,s=0,o=0,l=!1;for(;s<n&&a<=i-t;){a+=1;let c=e+o;if(l||(o*=-1),o>=0&&(o+=1),l&&o<0&&(o-=1),c<t||c>i){l=!0;continue}r(c)&&(s+=1)}return s}var Kw=class{constructor(t,i,e,n){this.domManager=e,this.tooltip=n,this.stateTracker=new kf,this.suppressState=new kf(!1),this.appliedState=null,this.cleanup=new pt,this.cleanup.register(n.setup(i,e),t.on("dom:hidden",()=>this.tooltip.hide()))}destroy(){this.cleanup.flush()}updateTooltip(t,i,e,n){e??(e=this.stateTracker.get(t)?.content),this.stateTracker.set(t,{meta:i,content:e,pagination:n}),this.applyStates()}removeTooltip(t){this.stateTracker.delete(t),this.applyStates()}suppressTooltip(t){this.suppressState.set(t,!0)}unsuppressTooltip(t){this.suppressState.delete(t)}applyStates(){let t=this.stateTracker.stateId(),i=t?this.stateTracker.get(t):void 0;if(this.suppressState.stateValue()||i?.meta==null||i?.content==null){this.appliedState=null,this.tooltip.hide();return}let e=this.domManager.getBoundingClientRect(),n=this.tooltip.bounds==="extended"?this.domManager.getOverlayClientRect():e;if(Ln(this.appliedState?.content,i?.content)&&Ln(this.appliedState?.pagination,i?.pagination)){let r=this.tooltip.isVisible();this.tooltip.show(n,e,i?.meta,null,void 0,r)}else this.tooltip.show(n,e,i?.meta,i?.content,i?.pagination);this.appliedState=i}static makeTooltipMeta(t,i,e,n){let{canvasX:r,canvasY:a}=t,s=i.properties.tooltip,{placement:o,anchorTo:l,xOffset:c,yOffset:d}=s.position,u=iO(i,e,n);return{canvasX:r,canvasY:a,nodeCanvasX:u?.canvasX??r,nodeCanvasY:u?.canvasY??a,enableInteraction:s.interaction?.enabled??!1,showArrow:s.showArrow,position:{placement:o,anchorTo:l,xOffset:c,yOffset:d}}}},mH=3,eue=505,pH=30;function u1(t,i){let{device:e,offsetX:n,offsetY:r,clientX:a,clientY:s,currentX:o,currentY:l,sourceEvent:c}=i;return{type:t,device:e,offsetX:n,offsetY:r,clientX:a,clientY:s,currentX:o,currentY:l,sourceEvent:c}}function fH(t,i){let e=t*t+i*i,n=mH*mH;return e>=n}function tue(t,i){let e=t.clientX-i.clientX,n=t.clientY-i.clientY,r=e*e+n*n,a=pH*pH;return r<a}var $G=class{constructor(t){this.cleanup=new pt,this.events=new Vr,this.isDragging=!1,this.touch={distanceTravelledX:0,distanceTravelledY:0,clientX:0,clientY:0},this.cleanup.register(t.addListener("touchstart",this.onTouchStart.bind(this)),t.addListener("touchmove",this.onTouchMove.bind(this)),t.addListener("touchend",this.onTouchEnd.bind(this)),t.addListener("mousemove",this.onMouseMove.bind(this)),t.addListener("dblclick",this.onDblClick.bind(this)),t.addListener("drag-start",this.onDragStart.bind(this)),t.addListener("drag-move",this.onDragMove.bind(this)),t.addListener("drag-end",this.onDragEnd.bind(this)))}destroy(){this.cleanup.flush()}onTouchStart(t){let{clientX:i,clientY:e}=t.sourceEvent.targetTouches[0]??{clientX:1/0,clientY:1/0};this.touch.distanceTravelledX=0,this.touch.distanceTravelledY=0,this.touch.clientX=i,this.touch.clientY=e}onTouchMove(t){let{clientX:i,clientY:e}=t.sourceEvent.targetTouches[0]??{clientX:1/0,clientY:1/0};this.touch.distanceTravelledX+=Math.abs(this.touch.clientX-i),this.touch.distanceTravelledY+=Math.abs(this.touch.clientY-e),this.touch.clientX=i,this.touch.clientY=e}onTouchEnd(t){t.sourceEvent.preventDefault()}onMouseMove(t){this.events.emit("mousemove",t)}onDblClick(t){this.events.emit("dblclick",t)}onDragStart(t){this.dragStartEvent=t}onDragMove(t){this.dragStartEvent!=null&&fH(t.originDeltaX,t.originDeltaY)&&(this.events.emit("drag-start",this.dragStartEvent),this.events.emit("drag-move",S(f({},this.dragStartEvent),{type:"drag-move"})),this.dragStartEvent=void 0,this.isDragging=!0),this.isDragging&&this.events.emit("drag-move",t)}onDragEnd(t){if(this.isDragging){this.events.emit("drag-end",t),this.isDragging=!1;return}if(t.device==="mouse"){let i=u1("click",t);this.events.emit("click",i)}else if(t.sourceEvent.type==="touchend"){if(fH(this.touch.distanceTravelledX,this.touch.distanceTravelledY))return;let i=u1("click",t);this.events.emit("click",i);let e=Date.now();if(this.lastClick!==void 0&&e-this.lastClick.time<=eue&&tue(this.lastClick,t)){let n=u1("dblclick",t);this.events.emit("dblclick",n),this.lastClick=void 0}else this.lastClick={time:e,clientX:t.clientX,clientY:t.clientY}}}},h1=class extends Af{constructor(t){super(t)}addChildToDOM(){}removeChildFromDOM(){}},iue=class{constructor(t,i){this.seriesWidget=new h1(t.getParent("series-area")),this.chartWidget=new h1(t.getParent("canvas-proxy")),this.containerWidget=new h1(t.getParent("canvas-container")),this.containerWidget.addChild(this.chartWidget),this.chartWidget.addChild(this.seriesWidget),i.withDragInterpretation&&(this.seriesDragInterpreter=new $G(this.seriesWidget))}destroy(){this.seriesDragInterpreter?.destroy(),this.seriesWidget.destroy(),this.chartWidget.destroy(),this.containerWidget.destroy()}};function ov(t,i){let[e,n]=er(i);return Ae(e,t,n)}function er(t){if(t.length===0)return[];let i=[1/0,-1/0];for(let e of t)e<i[0]&&(i[0]=e),e>i[1]&&(i[1]=e);return i}function Rf(t){let[i,e]=er(t);return e-i}function nue(t){return t=t|0,t<=0?1:t===1?2:1<<32-Math.clz32(t-1)}function Q1(t){return t=t|0,t<=0?0:t===1?1:1<<31-Math.clz32(t)}var rue=(()=>{let t=class X1 extends xD{constructor(e=[],n=[]){super(),this.domain=e,this.range=n,this.defaultTickCount=X1.defaultTickCount,this.defaultClamp=!1}static is(e){return e instanceof X1}normalizeDomains(...e){return nO(...e)}calcBandwidth(e=1,n=1){let{domain:r}=this,a=this.getPixelRange();if(r.length===0)return a;let o=Math.abs(r[1].valueOf()-r[0].valueOf())/e+1;if(n!==0){let l=Math.floor(a);o=Math.min(o,l)}return a/Math.max(1,o)}convert(e,n){let{domain:r}=this;if(!r||r.length<2||e==null)return NaN;let{range:a}=this,s=n?.clamp??this.defaultClamp,o=r[0].valueOf(),l=r[1].valueOf(),c=e.valueOf();if(this.transform&&(o=this.transform(o),l=this.transform(l),c=this.transform(c)),s){let[u,h]=er([o,l]);if(c<u)return a[0];if(c>h)return a[1]}if(o===l)return(a[0]+a[1])/2;if(c===o)return a[0];if(c===l)return a[1];let d=a[0];return d+(c-o)/(l-o)*(a[1]-d)}invert(e,n){let{domain:r}=this;if(r.length<2)return;let a=r[0].valueOf(),s=r[1].valueOf();this.transform&&(a=this.transform(a),s=this.transform(s));let{range:o}=this,[l,c]=o,d;return l===c?d=this.toDomain((a+s)/2):d=this.toDomain(a+(e-l)/(c-l)*(s-a)),this.transformInvert?this.transformInvert(d):d}getPixelRange(){let[e,n]=this.range;return Math.abs(n-e)}};return t.defaultTickCount=5,t})(),Di=rue;function nO(...t){let i,e=1/0,n,r=-1/0;for(let a of t)for(let s of a){let o=s.valueOf();o<e&&(e=o,i=s),o>r&&(r=o,n=s)}return i!=null&&n!=null?{domain:[i,n],animatable:!0}:{domain:[],animatable:!1}}var rO=class YG extends xD{constructor(){super(...arguments),this.invalid=!0,this.range=[0,1],this.round=!1,this._bandwidth=1,this._step=1,this._inset=1,this._rawBandwidth=1,this._paddingInner=0,this._paddingOuter=0}static is(i){return i instanceof YG}get bandwidth(){return this.refresh(),this._bandwidth}get step(){return this.refresh(),this._step}get inset(){return this.refresh(),this._inset}get rawBandwidth(){return this.refresh(),this._rawBandwidth}set padding(i){i=Ae(0,i,1),this._paddingInner=i,this._paddingOuter=i}get padding(){return this._paddingInner}set paddingInner(i){this.invalid=!0,this._paddingInner=Ae(0,i,1)}get paddingInner(){return this._paddingInner}set paddingOuter(i){this.invalid=!0,this._paddingOuter=Ae(0,i,1)}get paddingOuter(){return this._paddingOuter}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&j.warnOnce("Expected update to not invalidate scale"))}convert(i,e){this.refresh();let n=this.findIndex(i,e?.alignment);return n==null||n<0||n>=this.bands.length?NaN:this.ordinalRange(n)}invertNearestIndex(i){this.refresh();let e=this.bands.length;if(e===0)return-1;let n=0,r=e-1,a=1/0,s=0;for(;n<=r;){let o=(r+n)/2|0,l=this.ordinalRange(o),c=Math.abs(l-i);if(c===0)return o;c<a&&(a=c,s=o),l<i?n=o+1:r=o-1}return s}update(){let[i,e]=this.range,{_paddingInner:n}=this,{_paddingOuter:r,round:a,bands:s}=this,o=s.length;if(o===0)return;let l=e-i,c;o===1?(n=0,c=l*(1-r*2)):c=l/Math.max(1,o-n+r*2);let d=a?Math.floor(c):c,u=i+(l-d*(o-n))/2,h=d*(1-n);a&&(u=Math.round(u),h=Math.round(h)),this._step=d,this._inset=u,this._bandwidth=h,this._rawBandwidth=c*(1-n)}ordinalRange(i){let{_inset:e,_step:n,range:r}=this,a=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return Ae(a,e+n*i,s)}};y([Sv],rO.prototype,"range",2);y([Sv],rO.prototype,"round",2);var Oc=rO,Eo=class KG extends Oc{static is(i){return i instanceof KG}toDomain(i){return new Date(i)}convert(i,e){i instanceof Date||(i=new Date(i));let{domain:n,bands:r}=this;if(n.length<=0)return NaN;let a=this.ordinalRange(0),s=this.ordinalRange(r.length-1);if(r.length===0)return a;if(e?.clamp===!0){let{range:_}=this;if(i<r[0])return _[0];if(i>r[r.length-1])return _[1]}let o=e?.alignment??0,l=n[0].valueOf()>n[n.length-1].valueOf();if(o!==2){let _=super.convert(i,e);return l?s-(_-a):_}let c=i.valueOf(),d=this.findIndex(i)??0,u;l?(d=Math.min(Math.max(d,1),r.length-1),u=-1):(d=Math.min(Math.max(d,0),r.length-2),u=1);let h=r[d].valueOf(),m=r[d+u].valueOf(),p=this.ordinalRange(d),g=this.ordinalRange(d+u),v=(c-h)/(m-h)*(g-p)+p;return l?s-(v-a):v}invert(i,e=!1){this.refresh();let{domain:n,bands:r}=this;if(n.length<=0)return;let a=n[0].valueOf()>n[n.length-1].valueOf(),s;return e?s=this.invertNearestIndex(i-this.bandwidth/2):s=pc(0,r.length-1,l=>this.ordinalRange(l)>=i)??r.length-1,r[a?r.length-1-s:s]}findIndex(i,e=0){let{bands:n}=this,r=i.valueOf();return e===1?pc(0,n.length-1,a=>n[a].valueOf()>=r):_o(0,n.length-1,a=>n[a].valueOf()<=r)}},lv={bottomCenter:cue,center:lue,clone:mue,collides:pue,end:sue,from:fue,height:uue,round:hue,start:aue,topCenter:oue,origin:gue,width:due};function aue(t){return{x:t.x1,y:t.y1}}function sue(t){return{x:t.x2,y:t.y2}}function oue(t){return{x:(t.x1+t.x2)/2,y:Math.min(t.y1,t.y2)}}function lue(t){return{x:(t.x1+t.x2)/2,y:(t.y1+t.y2)/2}}function cue(t){return{x:(t.x1+t.x2)/2,y:Math.max(t.y1,t.y2)}}function due(t){return Math.abs(t.x2-t.x1)}function uue(t){return Math.abs(t.y2-t.y1)}function hue(t){return{x1:Math.round(t.x1),y1:Math.round(t.y1),x2:Math.round(t.x2),y2:Math.round(t.y2)}}function mue(t){return{x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2}}function pue(t,i){let e=J1(t),n=J1(i);return e.x1<=n.x2&&e.x2>=n.x1&&e.y1<=n.y2&&e.y2>=n.y1}function J1(t){return{x1:Math.min(t.x1,t.x2),x2:Math.max(t.x1,t.x2),y1:Math.min(t.y1,t.y2),y2:Math.max(t.y1,t.y2)}}function fue(t,i,e,n){if(typeof t=="number")return{x1:t,y1:i,x2:e,y2:n};if("width"in t)return J1({x1:t.x,y1:t.y,x2:t.x+t.width,y2:t.y+t.height});throw new Error(`Values can not be converted into a vector4: [${JSON.stringify(t)}] [${i}] [${e}] [${n}]`)}function gue(){return{x1:0,y1:0,x2:0,y2:0}}function pw(t,i,e,n,r){return i+(n-i)*((r-t)/(e-t))}function gH(t,i,e,n,r){return t+(r-i)*((e-t)/(n-i))}function yH(t,i,e){return[gH(t,e.min,i,e.max,0),gH(t,e.min,i,e.max,1)]}function yue(t,i,e){let[n,r]=yH(t.x1,t.x2,i),[a,s]=yH(t.y1,t.y2,e);return{x1:n,x2:r,y1:a,y2:s}}function bH(t,i,e,n,r,a){if(e<=r&&a<=n)return e;let s=r-e,o=a-n,l=Math.abs(s)<Math.abs(o)?s:o;return Ae(t,e+l,i)}function bue(t,i,e){let{x:n={min:0,max:1},y:r={min:0,max:1}}=i,a=lv.from(e),s=lv.from(t),o=yue(s,n,r),l=bH(o.x1,o.x2,s.x1,s.x2,a.x1,a.x2),c=bH(o.y1,o.y2,s.y1,s.y2,a.y1,a.y2),d={x:{min:pw(s.x1,n.min,s.x2,n.max,l),max:pw(s.x1,n.min,s.x2,n.max,l+t.width)},y:{min:pw(s.y1,r.min,s.y2,r.max,c),max:pw(s.y1,r.min,s.y2,r.max,c+t.height)}},u=d.x.max-d.x.min,h=d.y.max-d.y.min;return d.x.min=Ae(0,d.x.min,1-u),d.x.max=d.x.min+u,d.y.min=Ae(0,d.y.min,1-h),d.y.max=d.y.min+h,d}function qG(t,i){let e=t?.valueOf(),n=i?.valueOf();return typeof e!="number"||typeof n!="number"?[void 0,void 0]:e<n?[0,1]:[1,0]}var vue=class{constructor(){this.enabled=!1,this.padding=0,this.manuallyAdjusted=!1}},vH=t=>Rt((i,{options:e})=>!Di.is(t?.scale)&&!Eo.is(t?.scale)||i==null||e.end==null?!0:i<e.end,"to be less than end"),ZG=class extends YR{constructor(t,i){super(),this.eventsHub=t,this.fireChartEvent=i,this.mementoOriginatorKey="zoom",this.axisZoomManagers=new Map,this.state=new kf(void 0,"initial"),this.axes=[],this.didLayoutAxes=!1,this.autoScaleYAxis=new vue,this.lastRestoredState=void 0,this.independentAxes=!1,this.navigatorModule=!1,this.zoomModule=!1,this.pendingMemento=void 0,this.boundFireOnceChartEvent=this.fireOnceChartEvent.bind(this),this.cleanup.register(t.on("layout:complete",()=>{this.didLayoutAxes=!0;let{pendingMemento:e}=this;e&&this.restoreMemento(e.version,e.mementoVersion,e.memento),this.autoScaleYZoom("zoom-manager")}))}createMemento(){return this.getMementoRanges()}guardMemento(t,i){if(t==null)return!0;if(!$t(t))return!1;let e=this.getPrimaryAxis("x"),n=this.getPrimaryAxis("y"),r={rangeX:{start:vH(e),end:Be},rangeY:{start:vH(n),end:Be},ratioX:{start:Be,end:Be},ratioY:{start:Be,end:Be},autoScaledAxes:Be},{invalid:a}=mn(t,r);return a.length>0?(i.push(...a.map(String)),!1):!0}restoreMemento(t,i,e){let{independentAxes:n}=this;if(!this.axes||!this.didLayoutAxes){this.pendingMemento={version:t,mementoVersion:i,memento:e};return}this.pendingMemento=void 0;let r=this.getDefinedZoom();if(e?.rangeX?r.x=this.rangeToRatio(e.rangeX,"x")??{min:0,max:1}:e?.ratioX?r.x={min:e.ratioX.start??0,max:e.ratioX.end??1}:r.x={min:0,max:1},!this.navigatorModule||this.zoomModule){let o=e?.autoScaledAxes?.includes("y");if(e?.rangeY)o??(o=!1),r.y=this.rangeToRatio(e.rangeY,"y")??{min:0,max:1};else if(e?.ratioY)o??(o=!1),r.y={min:e.ratioY.start??0,max:e.ratioY.end??1};else{o??(o=!0);let l=o?this.getAutoScaleYZoom(r.x):void 0;r.y=l??{min:0,max:1}}r.autoScaleYAxis=o}if(this.lastRestoredState=r,n!==!0){this.updateZoom("zoom-manager",r);return}let a=this.getPrimaryAxis("x"),s=this.getPrimaryAxis("y");for(let o of[a,s])o&&this.updateAxisZoom("zoom-manager",o.id,r[o.direction])}updateAxes(t){this.axes=t;let i=new Map(t.map(e=>[e.id,this.axisZoomManagers.get(e.id)]));this.axisZoomManagers.clear();for(let e of t)this.axisZoomManagers.set(e.id,i.get(e.id)??new _ue(e));this.state.size>0&&t.length>0&&this.updateZoom(this.state.stateId(),this.state.stateValue())}setIndependentAxes(t=!0){this.independentAxes=t}setAutoScaleYAxis(t,i){this.autoScaleYAxis.enabled=t,this.autoScaleYAxis.padding=i,t&&this.autoScaleYZoom("toggle-auto-scale")}setNavigatorEnabled(t=!0){this.navigatorModule=t}setZoomModuleEnabled(t=!0){this.zoomModule=t}isNavigatorEnabled(){return this.navigatorModule}isZoomEnabled(){return this.zoomModule}updateZoom(t,i){if(i?.x&&(i.x.min<0||i.x.max>1)&&(j.warnOnce(`Attempted to update x-axis zoom to an invalid ratio of [{ min: ${i.x.min}, max: ${i.x.max} }], expecting a ratio of 0 to 1, ignoring.`),i.x=void 0),i?.y&&(i.y.min<0||i.y.max>1)&&(j.warnOnce(`Attempted to update y-axis zoom to an invalid ratio of [{ min: ${i.y.min}, max: ${i.y.max} }], expecting a ratio of 0 to 1, ignoring.`),i.y=void 0),this.axisZoomManagers.size===0){let n=this.state.stateId();(n==="initial"||n===t)&&this.state.set(t,i);return}this.state.set(t,i);let e=i?.autoScaleYAxis;e!=null&&(this.autoScaleYAxis.manuallyAdjusted=!e),this.axisZoomManagers.forEach(n=>{n.updateZoom(t,i?.[n.getDirection()])}),this.applyChanges(t)}updateAxisZoom(t,i,e){this.axisZoomManagers.get(i)?.updateZoom(t,e),this.applyChanges(t)}resetZoom(t){this.autoScaleYAxis.manuallyAdjusted=!1;let i=this.getRestoredZoom();this.updateZoom(t,{x:{min:i?.x?.min??0,max:i?.x?.max??1},y:{min:i?.y?.min??0,max:i?.y?.max??1},autoScaleYAxis:i?.autoScaleYAxis??!0})}resetAxisZoom(t,i){let n=this.axisZoomManagers.get(i)?.getDirection();if(n==null)return;let r=this.getRestoredZoom();if(n==="y"){let a=r?.autoScaleYAxis??!0;this.autoScaleYAxis.manuallyAdjusted=!a}for(let a of this.axes)a.direction===n&&this.updateAxisZoom(t,a.id,r?.[n]??{min:0,max:1})}setAxisManuallyAdjusted(t,i){this.axisZoomManagers.get(i)?.getDirection()==="y"&&(this.autoScaleYAxis.manuallyAdjusted=!0)}updatePrimaryAxisZoom(t,i,e){let n=this.getPrimaryAxis(i);n&&this.updateAxisZoom(t,n.id,e)}panToBBox(t,i,e){if(!this.isZoomEnabled()&&!this.isNavigatorEnabled())return!1;let n=this.getZoom();if(n===void 0||!n.x&&!n.y)return!1;if(!(i.width>0&&i.height>0&&Math.abs(e.width)<=Math.abs(i.width)&&Math.abs(e.height)<=Math.abs(i.height)))return j.warnOnce("cannot pan to target BBox - chart too small?"),!1;let a=bue(i,n,e);return this.independentAxes?(this.updatePrimaryAxisZoom(t,"x",a.x),this.updatePrimaryAxisZoom(t,"y",a.y)):this.updateZoom(t,a),!0}fireZoomPanStartEvent(t){this.eventsHub.emit("zoom:pan-start",{callerId:t})}extendToEnd(t,i,e){return this.extendWith(t,i,n=>Number(n)-e)}extendWith(t,i,e){let n=this.getPrimaryAxis(i);if(!n)return;let r=this.getDomainExtents(n);if(!r)return;let[,a]=r,s=e(a),o=this.rangeToRatio({start:s,end:a},i);o&&this.updateZoom(t,{[i]:o})}updateWith(t,i,e){let n=this.getPrimaryAxis(i);if(!n)return;let r=this.getDomainExtents(n);if(!r)return;let[a,s]=r;[a,s]=e(a,s);let o=this.rangeToRatio({start:a,end:s},i);o&&this.updateZoom(t,{[i]:o})}getZoom(){let t,i;if(this.axisZoomManagers.forEach(e=>{e.getDirection()==="x"?t??(t=e.getZoom()):e.getDirection()==="y"&&(i??(i=e.getZoom()))}),t||i)return{x:t,y:i}}getAxisZoom(t){return this.axisZoomManagers.get(t)?.getZoom()??{min:0,max:1}}getAxisZooms(){let t={};for(let[i,e]of this.axisZoomManagers.entries())t[i]={direction:e.getDirection(),zoom:e.getZoom()};return t}getRestoredZoom(){return this.lastRestoredState}getPrimaryAxisId(t){return this.getPrimaryAxis(t)?.id}isVisibleItemsCountAtLeast(t,i){let{autoScaleYAxis:e}=this,n=this.getPrimaryAxis("x"),r=this.getPrimaryAxis("y"),a;if(this.independentAxes){let c=new Set(n?.boundSeries??[]),d=new Set(r?.boundSeries??[]);a=new Set;for(let u of c)d.has(u)&&a.add(u)}else a=new Set([...n?.boundSeries??[],...r?.boundSeries??[]]);let s=[t.x.min,t.x.max],o=e.enabled&&!e.manuallyAdjusted?void 0:[t.y.min,t.y.max],l=0;for(let c of a){let d=i-(l??0),u=c.getVisibleItems(s,o,d);if(l+=u,l>=i)return!0}return a.size===0}getMementoRanges(){let t=this.getDefinedZoom(),i;return this.autoScaleYAxis.enabled&&(i=this.autoScaleYAxis.manuallyAdjusted?[]:["y"]),{rangeX:this.getRangeDirection(t.x,"x"),rangeY:this.getRangeDirection(t.y,"y"),ratioX:{start:t.x.min,end:t.x.max},ratioY:{start:t.y.min,end:t.y.max},autoScaledAxes:i}}getAutoScaleYZoom(t){if(!this.isZoomEnabled())return;let{independentAxes:i,autoScaleYAxis:e}=this;if(!e.enabled||e.manuallyAdjusted)return;let{padding:n}=e;return t?.min===0&&t?.max===1?{min:0,max:1}:i?this.primaryAxisZoom("y",t,{padding:n}):this.combinedAxisZoom("y",t,{padding:n})}autoScaleYZoom(t,i=!0){let{independentAxes:e}=this,n=this.getZoom();if(n?.x==null)return;let r=this.getAutoScaleYZoom(n.x);if(!(r==null||Ln(n.y,r))){if(e){let a=this.getPrimaryAxis("y");(a==null?void 0:this.axisZoomManagers.get(a.id))?.updateZoom("zoom-manager",r)}else for(let a of this.axisZoomManagers.values())a.getDirection()==="y"&&a.updateZoom("zoom-manager",r);i&&this.applyChanges(t)}}applyChanges(t){if(this.autoScaleYZoom(t,!1),!Array.from(this.axisZoomManagers.values(),n=>n.applyChanges()).includes(!0))return;let e={};for(let[n,r]of this.axisZoomManagers.entries())e[n]=r.getZoom();this.eventsHub.emit("zoom:change",S(f({},this.getZoom()),{axes:e,callerId:t})),this.eventsHub.on("layout:complete",this.boundFireOnceChartEvent)}fireOnceChartEvent(){this.fireChartEvent(f({type:"zoom"},this.getMementoRanges())),this.eventsHub.off("layout:complete",this.boundFireOnceChartEvent)}getRangeDirection(t,i){let e=this.getPrimaryAxis(i);if(!e||!Di.is(e.scale)&&!Eo.is(e.scale))return;let n=this.getDomainPixelExtents(e);if(!n)return;let[r,a]=n,s,o;return r<=a?(s=e.scale.invert(0),o=e.scale.invert(r+(a-r)*t.max)):(s=e.scale.invert(r-(r-a)*t.min),o=e.scale.invert(0)),{start:s,end:o}}rangeToRatio(t,i){let e=this.getPrimaryAxis(i);if(!e)return;let n=this.getDomainPixelExtents(e);if(!n)return;let[r,a]=n,{scale:s}=e,{start:o,end:l}=t,[c=0,d=1]=qG(o,l),u=t.start==null?r:s.convert(t.start,{alignment:c}),h=t.end==null?a:s.convert(t.end,{alignment:d})+(s.bandwidth??0);if(!Tt(u)||!Tt(h))return;let[m,p]=[Math.min(r,a),Math.max(r,a)];if(u<m||u>p){j.warnOnce(`Invalid range start [${t.start}], expecting a value between [${s.invert(r)}] and [${s.invert?.(a)}], ignoring.`);return}if(h<m||h>p){j.warnOnce(`Invalid range end [${t.end}], expecting a value between [${s.invert(r)}] and [${s.invert?.(a)}], ignoring.`);return}u=Math.min(p,Math.max(m,u)),h=Math.min(p,Math.max(m,h));let g=a-r,b=Math.abs((u-r)/g),v=Math.abs((h-r)/g);return{min:b,max:v}}getPrimaryAxis(t){return this.axes?.find(i=>i.direction===t)}getDomainExtents(t){let{domain:i}=t.scale,e=i.at(0),n=i.at(-1);if(!(e==null||n==null))return[e,n]}getDomainPixelExtents(t){let[i,e]=t.scale.range;if(!(!Tt(i)||!Tt(e)))return[i,e]}getDefinedZoom(){let t=this.getZoom();return{x:{min:t?.x?.min??0,max:t?.x?.max??1},y:{min:t?.y?.min??0,max:t?.y?.max??1}}}zoomBounds(t,i,e,n){let r=t.scale,a=r.range;r.range=[0,1];let s=i.scale,o=s.range;s.range=[0,1];let l=1,c=!1,d=0,u=!1;for(let p of i.boundSeries){if(!p.visible)continue;let{connectsToYAxis:g}=p,b=p.getRange("y",[e.min,e.max]);for(let v of b){let _=s.convert(v);Number.isFinite(_)&&(_<l&&(l=_,c=!g||v<0),_>d&&(d=_,u=!g||v>0))}}if(Tt(i.min)&&(l=0),Tt(i.max)&&(d=1),r.range=a,s.range=o,l>=d)return;let h=(c?n:0)+(u?n:0),m=Math.min((d-l)*(1+h),1);if(!(m<=0)){if(c&&u){let p=(d+l)/2;l=p-m/2,d=p+m/2}else!c&&u?d=l+m:c&&!u&&(l=d-m);return l<0?(d+=-l,l=0):d>1&&(l-=d-1,d=1),{min:l,max:d}}}primaryAxisZoom(t,i,{padding:e=0}={}){let n=t==="x"?"y":"x",r=this.getPrimaryAxis(n),a=this.getPrimaryAxis(t);if(!(r==null||a==null))return this.zoomBounds(r,a,i,e)}combinedAxisZoom(t,i,{padding:e=0}={}){let n=t==="x"?"y":"x",r=new Map;for(let l of this.axes)if(l.direction===n)for(let c of l.boundSeries)r.set(c,l);let a=1,s=0;for(let l of this.axes)if(l.direction===t)for(let c of l.boundSeries){let d=r.get(c);if(d==null)continue;let u=this.zoomBounds(d,l,i,e);if(u==null)return;a=Math.min(a,u.min),s=Math.max(s,u.max)}let o=1e-6;if(a<o&&(a=0),s>1-o&&(s=1),!(a>s))return{min:a,max:s}}},_ue=class{constructor(t){this.axis=t;let[i=0,e=1]=t.visibleRange;this.state=new kf({min:i,max:e}),this.currentZoom=this.state.stateValue()}getDirection(){return this.axis.direction}updateZoom(t,i){this.state.set(t,i)}getZoom(){return qi(this.state.stateValue())}hasChanges(){let t=this.currentZoom,i=this.state.stateValue();return t.min!==i.min||t.max!==i.max}applyChanges(){let t=this.hasChanges();return this.currentZoom=this.state.stateValue(),t}},aO=(t=>(t[t.Caption=0]="Caption",t[t.Legend=1]="Legend",t[t.ToolbarLeft=2]="ToolbarLeft",t[t.ToolbarBottom=3]="ToolbarBottom",t[t.Navigator=4]="Navigator",t[t.Overlay=5]="Overlay",t))(aO||{}),QG=class{constructor(t){this.eventsHub=t,this.elements=new Map}registerElement(t,i){return this.elements.has(t)?this.elements.get(t).add(i):this.elements.set(t,new Set([i])),()=>this.elements.get(t)?.delete(i)}createContext(t,i){let e=new xue(t,i);for(let n of Object.values(aO))typeof n=="number"&&this.elements.get(n)?.forEach(r=>r(e));return e}emitLayoutComplete(t,i){let{width:e,height:n}=t;this.eventsHub.emit("layout:complete",{axes:i.axes??[],chart:{width:e,height:n},clipSeries:i.clipSeries??!1,series:i.series})}},xue=class{constructor(t,i){this.width=t,this.height=i,this.layoutBox=new _e(0,0,t,i)}};function Cue({point:t,anchor:i},e,n,r,a){if(t.size===0)return!1;let s=t.x,o=t.y;i!=null&&(s-=(i.x-.5)*t.size,o-=(i.y-.5)*t.size);let l=s;s<e?l=e:s>e+r&&(l=e+r);let c=o;o<n?c=n:o>n+a&&(c=n+a);let d=s-l,u=o-c;return Math.sqrt(d*d+u*u)<=t.size*.5}function wue(t){return t!=null&&typeof t.point=="object"&&typeof t.label=="object"}var Due={top:{x:0,y:-1},bottom:{x:0,y:1},left:{x:-1,y:0},right:{x:1,y:0},"top-left":{x:-1,y:-1},"top-right":{x:1,y:-1},"bottom-left":{x:-1,y:1},"bottom-right":{x:1,y:1}};function Sue(t,i,e=5){let n=new Map,r=[],a=new Map([...t.entries()].map(([o,l])=>[o,l.toSorted((c,d)=>d.point.size-c.point.size)])),s=[...a.values()].flat();for(let[o,l]of a.entries()){let c=[];if(l[0]?.label){for(let d=0,u=l.length;d<u;d++){let h=l[d],{point:m,label:p,anchor:g}=h,{text:b,width:v,height:_}=p,w=m.size*.5,D=0,I=0;if(w>0&&h.placement!=null){let H=Due[h.placement];D=(v*.5+w+e)*H.x,I=(_*.5+w+e)*H.y}let E=m.x-v*.5+D-((g?.x??.5)-.5)*m.size,A=m.y-_*.5+I-((g?.y??.5)-.5)*m.size;if(!Yp(i,E,A,v,_)||s.some(H=>Cue(H,E,A,v,_))||r.some(H=>sw(H,E,A,v,_)))continue;let U={index:d,text:b,x:E,y:A,width:v,height:_,datum:h};c.push(U),r.push(U)}n.set(o,c)}}return n}var Mue=class{constructor(){this.labelData=new Map}updateLabels(t,i,e=_e.zero){let n={x:-i.left,y:-i.top,width:e.width+i.left+i.right,height:e.height+i.top+i.bottom},r=new Set(t.map(s=>s.id));for(let s of this.labelData.keys())r.has(s)||this.labelData.delete(s);for(let s of t){let o=s.getLabelData();o.every(wue)&&this.labelData.set(s.id,o)}let a=Sue(this.labelData,n,5);for(let s of t)s.updatePlacedLabelData?.(a.get(s.id)??[])}},Iue=class{constructor(t){this.eventsHub=t,this.mementoOriginatorKey="legend",this.legendDataMap=new Map}createMemento(){return this.getData().filter(({hideInLegend:t,isFixed:i})=>!t&&!i).map(({enabled:t,seriesId:i,itemId:e,legendItemName:n})=>({visible:t,seriesId:i,itemId:e,legendItemName:n}))}guardMemento(t){return t==null||qe(t)}restoreMemento(t,i,e){e?.forEach(n=>{let{seriesId:r,data:a}=this.getRestoredData(n)??{};!r||!a||this.updateData(r,a)}),this.update()}getRestoredData(t){let{seriesId:i,itemId:e,legendItemName:n,visible:r}=t;if(i){let s=(this.legendDataMap.get(i)??[]).map(o=>{let l=o.seriesId===i&&(!e||o.itemId===e);return l&&o.isFixed&&this.warnFixed(o.seriesId,o.itemId),!o.isFixed&&l?S(f({},o),{enabled:r}):o});return{seriesId:i,data:s}}if(!(e==null&&n==null))for(let a of this.getData()){if(e!=null&&a.itemId!==e||n!=null&&a.legendItemName!==n)continue;if(a.isFixed){this.warnFixed(a.seriesId,e);return}let s=(this.legendDataMap.get(a.seriesId)??[]).map(o=>o.itemId===e||o.legendItemName===n?S(f({},o),{enabled:r}):o);return{seriesId:a.seriesId,data:s}}}warnFixed(t,i){j.warnOnce(`The legend item with seriesId [${t}] and itemId [${i}] is not configurable, this series item cannot be toggled through the legend.`)}update(t){this.eventsHub.emit("legend:change",{legendData:t??this.getData()})}updateData(t,i=[]){this.legendDataMap.set(t,i)}clearData(){this.legendDataMap.clear()}toggleItem(t,i,e,n){if(n){this.getData().forEach(o=>{let l=(this.legendDataMap.get(o.seriesId)??[]).map(c=>c.legendItemName===n?S(f({},c),{enabled:t}):c);this.updateData(o.seriesId,l)});return}let r=this.getData(i),a=r.length===1,s=r.map(o=>e==null&&a||o.itemId===e?S(f({},o),{enabled:t}):o);this.updateData(i,s)}getData(t){return t?this.legendDataMap.get(t)??[]:[...this.legendDataMap].reduce((i,[e,n])=>i.concat(n),[])}getDatum({seriesId:t,itemId:i}={}){return this.getData(t).find(e=>e.itemId===i)}getSeriesEnabled(t){let i=this.getData(t);if(i.length>0)return i.some(e=>e.enabled)}getItemEnabled({seriesId:t,itemId:i}={}){return this.getDatum({seriesId:t,itemId:i})?.enabled??!0}},kue=class{constructor(){this.groups=new Map}registerSeries({internalId:t,seriesGrouping:i,visible:e,type:n}){if(!i)return;let r=this.groups.get(n);r==null&&(r=new Map,this.groups.set(n,r)),r.set(t,{grouping:i,visible:e})}updateSeries({internalId:t,seriesGrouping:i,visible:e,type:n}){if(!i)return;let r=this.groups.get(n)?.get(t);r&&(r.grouping=i,r.visible=e)}deregisterSeries({internalId:t,type:i}){let e=this.groups.get(i);e!=null&&(e.delete(t),e.size===0&&this.groups.delete(i))}getVisiblePeerGroupIndex({type:t,seriesGrouping:i,visible:e}){if(!i)return{visibleGroupCount:e?1:0,visibleSameStackCount:e?1:0,index:0};let n=new Set,r=new Set,a=this.groups.get(t);for(let o of a?.values()??[])o.visible&&(n.add(o.grouping.groupIndex),o.grouping.groupIndex===i.groupIndex&&r.add(o.grouping.stackIndex));let s=Array.from(n);return s.sort((o,l)=>o-l),{visibleGroupCount:s.length,visibleSameStackCount:r.size,index:s.indexOf(i.groupIndex)}}},XG=class{constructor(t){this.updateCallback=t,this.events=new Vr}addListener(t,i){return this.events.on(t,i)}destroy(){this.events.clear()}update(t=0,i){this.updateCallback(t,i)}dispatchUpdateComplete(t){this.events.emit("update-complete",{type:"update-complete",apiUpdate:t})}dispatchPreDomUpdate(){this.events.emit("pre-dom-update",{type:"pre-dom-update"})}dispatchPreSceneRender(){this.events.emit("pre-scene-render",{type:"pre-scene-render"})}dispatchProcessData({series:t}){this.events.emit("process-data",{type:"process-data",series:t})}},Aue=class{constructor(t,i){this.eventsHub=new Vr,this.callbackCache=new iG,this.highlightManager=new HG(this.eventsHub),this.formatManager=new Tf,this.layoutManager=new QG(this.eventsHub),this.localeManager=new vde(this.eventsHub),this.seriesStateManager=new kue,this.stateManager=new Qce,this.seriesLabelLayoutManager=new Mue,this.cleanup=new pt,this.contextModules=[];let{scene:e,root:n,syncManager:r,container:a,fireEvent:s,updateCallback:o,updateMutex:l,styleContainer:c,chartType:d,domMode:u,withDragInterpretation:h}=i;this.chartService=t,this.syncManager=r,this.domManager=new wG(this.eventsHub,this.chartService,a,c,u),this.widgets=new iue(this.domManager,{withDragInterpretation:h});let m=this.domManager.addChild("canvas","scene-canvas",e?.canvas.element);this.scene=e??new eO({canvasElement:m}),this.scene.setRoot(n),this.cleanup.register(this.scene.on("scene-changed",()=>{this.updateService.update(7)})),this.axisManager=new wde(this.eventsHub,n),this.legendManager=new Iue(this.eventsHub),this.annotationManager=new Cde(this.eventsHub,t.annotationRoot,s),this.chartTypeOriginator=new qce(t),this.interactionManager=new BG,this.contextMenuRegistry=new UG(this.eventsHub),this.updateService=new XG(o),this.proxyInteractionService=new IG(this.eventsHub,this.localeManager,this.domManager),this.fontManager=new Dde(this.domManager,this.updateService),this.historyManager=new Zce(this.eventsHub),this.animationManager=new jG(this.interactionManager,l),this.dataService=new ED(this.eventsHub,t,this.animationManager),this.tooltipManager=new Kw(this.eventsHub,this.localeManager,this.domManager,t.tooltip),this.zoomManager=new ZG(this.eventsHub,s);for(let p of kl.byType("context")){if(!p.chartTypes.includes(d))continue;let g=p.moduleFactory(this);this.contextModules.push(g),this[p.contextKey]=g}}destroy(){this.animationManager.destroy(),this.axisManager.destroy(),this.callbackCache.invalidateCache(),this.domManager.destroy(),this.fontManager.destroy(),this.proxyInteractionService.destroy(),this.tooltipManager.destroy(),this.zoomManager.destroy(),this.widgets.destroy(),this.contextModules.forEach(t=>t.destroy()),this.cleanup.flush()}},JG=class extends tt{constructor(){super(...arguments),this.range="tooltip"}};y([C],JG.prototype,"range",2);function Eue(t,i){if(t.size!==i.size)return!1;for(let e of t)if(!i.has(e))return!1;return!0}function Tue(t,i){if(t==null||i==null)return t===i;if(t.size!==i.size)return!1;for(let[e,n]of t){let r=i.get(e);if(r==null||!Eue(n,r))return!1}return!0}function Rue(t,i){if(t.length!==i.length)return!1;for(let r=0;r<t.length;r+=1){let e=t[r],{type:a,idsMap:s,scopes:o,data:l}=e,c=ci(e,["type","idsMap","scopes","data"]),n=i[r],{type:d,idsMap:u,scopes:h,data:m}=n,p=ci(n,["type","idsMap","scopes","data"]);if(a!==d||o&&h&&!Ta(o,h)||l&&m&&l!==m||!Ln(c,p)||!Tue(s,u))return!1}return!0}function Oue(t,i){let s=t,{props:e}=s,n=ci(s,["props"]),o=i,{props:r}=o,a=ci(o,["props"]);return Ln(n,a)&&Rue(e,r)}function Lue(t,i,e,n){return i===t.data&&Ta(e,t.ids)&&Oue(n,t.opts)}var _H=class eW{constructor(){this.domain=new Set}static is(i){return i instanceof eW}extend(i){this.domain.add(i)}getDomain(){return Array.from(this.domain)}},Ld=class tW{constructor(){this.domain=[1/0,-1/0]}static is(i){return i instanceof tW}static extendDomain(i,e=[1/0,-1/0]){for(let n of i)typeof n=="number"&&(e[0]>n&&(e[0]=n),e[1]<n&&(e[1]=n));return e}extend(i){this.domain[0]>i&&(this.domain[0]=i),this.domain[1]<i&&(this.domain[1]=i)}getDomain(){return[...this.domain]}},Jp=0,ef=1,xl=2,Nue=class{constructor(t){let i=t.reduce((a,s)=>Math.max(a,s.length),0),n=1<<32-Math.clz32(i);i===n/2&&(n=n>>>1),this.maxLevelSize=n;let r=new Float64Array((n*2-1)*2).fill(NaN);for(let a of t)for(let s=0;s<a.length;s+=1){let o=Number(a[s]),l=n+s-1,c=(l*xl|0)+Jp,d=(l*xl|0)+ef,u=r[c],h=r[d];(!Number.isFinite(u)||o<u)&&(r[c]=o),(!Number.isFinite(h)||o>h)&&(r[d]=o)}for(let a=n/2|0;a>=1;a=a/2|0){let s=a-1|0,o=s+a|0;for(let l=0;l<a;l+=1){let c=s+l,d=o+l*2,u=d+1,h=r[(d*xl|0)+Jp],m=r[(u*xl|0)+Jp];r[(c*xl|0)+Jp]=!Number.isFinite(m)||h<m?h:m;let p=r[(d*xl|0)+ef],g=r[(u*xl|0)+ef];r[(c*xl|0)+ef]=!Number.isFinite(g)||p>g?p:g}}this.buffer=r}computeRangeInto(t,i,e,n,r,a,s){let o=r+a-1;if(o<i||r>=e)return s;if(r>=i&&o<e){let l=t[(n*xl|0)+Jp],c=t[(n*xl|0)+ef];Number.isFinite(l)&&(s[0]=Math.min(s[0],l)),Number.isFinite(c)&&(s[1]=Math.max(s[1],c))}else a>1&&(n=n*2|0,a=a/2|0,this.computeRangeInto(t,i,e,n+1|0,r,a,s),this.computeRangeInto(t,i,e,n+2|0,r+a,a,s));return s}rangeBetween(t,i){if(t>i)return[NaN,NaN];let{maxLevelSize:e,buffer:n}=this,r=[1/0,-1/0];return this.computeRangeInto(n,t,i,0,0,e,r),r}get range(){let{buffer:t}=this;return[t[Jp],t[ef]]}};function Pue(t){if(t.length<=1)return 1;let i=0,e=t[0];for(let n=1;n<t.length;n++){let r=t[n];if(r==null)continue;if(typeof r.valueOf()!="number")return;let s=Math.sign(r-e);if(s!==0){if(i!==0&&i!==s)return;i=s}e=r}return i===0?1:i}var xH=Symbol("key-sort-orders"),CH=Symbol("column-sort-orders"),wH=Symbol("domain-ranges");function Fue(t){return t.map(i=>$t(i)?JSON.stringify(i):i).join("-")}function ls(t){let i=t?.map(Number);return i?.every(Number.isFinite)?i:[]}function iW(t,i){return i?.get(t.id)??0}function Vue(t){return"scopes"in t&&Array.isArray(t.scopes)}function m1(t,i){let e=[];for(let n=0;n<t;n+=1)e[n]=i;return e}function qw(t,i,e){let n=[];for(let r of t){let a=r.get(i)?.[e];if(a==null)return;n.push(a)}return n}function nW(t){let i=[],e=0,n,r=/((?:(?:^|\.)\s*\w+|\[\s*(?:'(?:[^']|(?<!\\)\\')*'|"(?:[^"]|(?<!\\)\\")*"|-?\d+)\s*\])\s*)/g;for(;n=r.exec(t);){if(n.index!==e)return;e=n.index+n[0].length;let a=n[1].trim();if(a.startsWith("."))i.push(a.slice(1).trim());else if(a.startsWith("[")){let s=a.slice(1,-1).trim();s.startsWith("'")?i.push(s.slice(1,-1).replace(/(?<!\\)\\'/g,"'")):s.startsWith('"')?i.push(s.slice(1,-1).replace(/(?<!\\)\\"/g,'"')):i.push(s)}else i.push(a)}if(e===t.length)return i}function Bue(t){return i=>{let e=i;for(let n of t)e=e[n];return e}}var rW=class{constructor(t,i="standalone",e=!1){this.opts=t,this.mode=i,this.suppressFieldDotNotation=e,this.debug=bt.create(!0,"data-model"),this.scopeCache=new Map,this.keys=[],this.values=[],this.aggregates=[],this.groupProcessors=[],this.propertyProcessors=[],this.reducers=[],this.processors=[],this.markScopeDatumInvalid=function(o,l,c,d){for(let u of o)d.has(u)||d.set(u,m1(l.length,!1)),d.get(u)[c]=!0};let n=!0;for(let o of t.props){if(o.type==="key"&&!n)throw new Error("AG Charts - internal config error: keys must come before values.");o.type==="value"&&n&&(n=!1)}let r=({matchGroupIds:o=[]})=>{for(let l of o)if(this.values.every(c=>c.groupId!==l))throw new Error(`AG Charts - internal config error: matchGroupIds properties must match defined groups (${l}).`)},a=new Set,s=new Set;for(let o of t.props){let l=o.type==="key"?a:s;switch(Vue(o)&&o.scopes?.forEach(c=>l.add(c)),o.type){case"key":this.keys.push(S(f({},o),{index:this.keys.length,missing:new Map}));break;case"value":if(o.property==null)throw new Error(`AG Charts - internal config error: no properties specified for value definitions: ${JSON.stringify(o)}`);this.values.push(S(f({},o),{index:this.values.length,missing:new Map}));break;case"aggregate":r(o),this.aggregates.push(S(f({},o),{index:this.aggregates.length}));break;case"group-value-processor":r(o),this.groupProcessors.push(S(f({},o),{index:this.groupProcessors.length}));break;case"property-value-processor":this.propertyProcessors.push(S(f({},o),{index:this.propertyProcessors.length}));break;case"reducer":this.reducers.push(S(f({},o),{index:this.reducers.length}));break;case"processor":this.processors.push(S(f({},o),{index:this.processors.length}));break}}if(this.opts.groupByKeys||this.opts.groupByFn!=null){let o=new Set(s.values());if(a.forEach(l=>o.delete(l)),o.size>0)throw new Error(`AG Charts - scopes missing key for grouping, illegal configuration: ${[...o.values()]}`)}}resolveProcessedDataDefById(t,i){let e=this.scopeCache.get(t.id)?.get(i);if(!e)throw new Error(`AG Charts - didn't find property definition for [${i}, ${t.id}]`);return{index:e.index,def:e}}resolveProcessedDataIndexById(t,i){return this.resolveProcessedDataDefById(t,i).index}resolveKeysById(t,i,e){let n=this.resolveProcessedDataIndexById(t,i),r=e.keys[n];if(r==null)throw new Error(`AG Charts - didn't find keys for [${i}, ${t.id}]`);return r.get(t.id)}hasColumnById(t,i){return this.scopeCache.get(t.id)?.get(i)!=null}resolveColumnById(t,i,e){let n=this.resolveProcessedDataIndexById(t,i),r=e.columns?.[n];if(r==null)throw new Error(`AG Charts - didn't find column for [${i}, ${t.id}]`);return r}*forEachDatum(t,i,e){let n=i.columnScopes.findIndex(r=>r.has(t.id));for(let r of e.datumIndices[n]??[])yield i.columns[n][r]}*forEachGroupDatum(t,i){let e=i.columnScopes.findIndex(a=>a.has(t.id)),n={groupIndex:0,columnIndex:e},r=[];for(let a of i.groups){n.group=a;for(let s of a.datumIndices[e]??r)n.datumIndex=s,yield n;n.groupIndex++}}*forEachGroupDatumTuple(t,i){let n={columnIndex:i.columnScopes.findIndex(r=>r.has(t.id)),datumIndexes:[void 0,void 0,void 0]};for(let r of this.forEachGroupDatum(t,i))n.group=n.nextGroup,n.groupIndex=n.nextGroupIndex,n.nextGroup=r.group,n.nextGroupIndex=r.groupIndex,n.datumIndexes[0]=n.datumIndexes[1],n.datumIndexes[1]=n.datumIndexes[2],n.datumIndexes[2]=r.datumIndex,n.group!=null&&n.datumIndexes[1]!=null&&(yield n);n.group=n.nextGroup,n.groupIndex=n.nextGroupIndex,n.nextGroup=void 0,n.nextGroupIndex=void 0,n.datumIndexes[0]=n.datumIndexes[1],n.datumIndexes[1]=n.datumIndexes[2],n.datumIndexes[2]=void 0,n.group!=null&&n.datumIndexes[1]!=null&&(yield n)}getDomain(t,i,e,n){return this.getDomainsByType(e??"value",n)?.[this.resolveProcessedDataIndexById(t,i)]??[]}getDomainBetweenRange(t,i,[e,n],r){let a=i.map(c=>this.resolveProcessedDataIndexById(t,c)),s=a.join(":"),o=r[wH],l=o.get(s);if(l==null){let c=a.map(d=>r.columns[d]);l=new Nue(c),o.set(s,l)}return l.rangeBetween(e,n)}getSortOrder(t,i,e){let n=e.get(i);return n==null&&(n={sortOrder:Pue(t)},e.set(i,n)),n.sortOrder}getKeySortOrder(t,i,e){let n=this.resolveProcessedDataIndexById(t,i),r=e.keys[n]?.get(t.id);return r?this.getSortOrder(r,n,e[xH]):void 0}getColumnSortOrder(t,i,e){let n=this.resolveProcessedDataIndexById(t,i);return this.getSortOrder(e.columns[n],n,e[CH])}getDomainsByType(t,i){switch(t){case"key":return i.domain.keys;case"value":return i.domain.values;case"aggregate":return i.domain.aggValues;case"group-value-processor":return i.domain.groups;default:return null}}processData(t){let{opts:{groupByKeys:i,groupByFn:e},aggregates:n,groupProcessors:r,reducers:a,processors:s,propertyProcessors:o}=this,l=performance.now();if(i&&this.keys.length===0)return;let c=this.extractData(t);i?c=this.groupData(c):e&&(c=this.groupData(c,e(c))),r.length>0&&c.type==="grouped"&&this.postProcessGroups(c),n.length>0&&c.type==="ungrouped"?this.aggregateUngroupedData(c):n.length>0&&c.type==="grouped"&&this.aggregateGroupedData(c),o.length>0&&this.postProcessProperties(c),a.length>0&&this.reduceData(c),s.length>0&&this.postProcessData(c),this.warnDataMissingProperties(t);let d=performance.now();return c.time=d-l,this.debug.check()&&jue(c),this.processScopeCache(),c}warnDataMissingProperties(t){if(t.size!==0)for(let i of Ed(this.keys,this.values))for(let[e,n]of i.missing){if(n<(t.get(e)?.length??1/0))continue;let r=e==null?"":` for ${e}`;j.warnOnce(`the key '${i.property}' was not found in any data element${r}.`)}}processScopeCache(){this.scopeCache.clear();for(let t of Ed(this.keys,this.values,this.aggregates))if(t.idsMap)for(let[i,e]of t.idsMap)for(let n of e)if(!this.scopeCache.has(i))this.scopeCache.set(i,new Map([[n,t]]));else{if(this.scopeCache.get(i)?.has(n))throw new Error("duplicate definition ids on the same scope are not allowed.");this.scopeCache.get(i).set(n,t)}}valueGroupIdxLookup({matchGroupIds:t}){let i=[];for(let[e,n]of this.values.entries())(!t||n.groupId&&t.includes(n.groupId))&&i.push(e);return i}valueIdxLookup(t,i){let e=t==null||t.length===0,n=typeof i=="string"?i:i.id,r=s=>{if(s.idsMap){for(let[o,l]of s.idsMap)if(t?.includes(o)&&l.has(n))return!0}return!1},a=this.values.reduce((s,o,l)=>((o.scopes==null||e&&!o.scopes.length||o.scopes.some(d=>t?.includes(d)))&&(o.property===n||o.id===n||r(o))&&s.push(l),s),[]);if(a.length===0)throw new Error(`AG Charts - configuration error, unknown property ${JSON.stringify(i)} in scope(s) ${JSON.stringify(t)}`);return a}extractData(t){let{dataDomain:i,processValue:e,allScopesHaveSameDefs:n}=this.initDataDomainProcessor(),{keys:r,values:a}=this,{invalidData:s,invalidKeys:o,invalidKeyCount:l,allKeyMappings:c}=this.extractKeys(r,t,e),{columns:d,columnScopes:u,partialValidDataCount:h,maxDataLength:m}=this.extractValues(s,a,t,o,e),p=g=>{let b=i.get(g),v=b.getDomain();return Ld.is(b)&&v[0]>v[1]?[]:v};return{type:"ungrouped",input:{count:m},scopes:new Set(t.keys()),dataSources:t,aggregation:void 0,keys:[...c.values()],columns:d,columnScopes:u,invalidKeys:o,invalidKeyCount:l,invalidData:s,domain:{keys:r.map(p),values:a.map(p)},defs:{allScopesHaveSameDefs:n,keys:r,values:a},partialValidDataCount:h,time:0,[wH]:new Map,[xH]:new Map,[CH]:new Map}}extractKeys(t,i,e){let n=new Map,r=new Map,a=new Map,s=new Map,o,l,c=(d,u)=>{let h=l.get(d);o.set(u,o.get(h)),n.has(h)&&(n.set(u,n.get(h)),r.set(u,r.get(h)))};for(let d of t){let{invalidValue:u,scopes:h}=d;o=new Map,l=new Map,s.set(d,o);for(let m of h??[]){let p=i.get(m)??[];if(l.has(p)){c(p,m);continue}let g=[];o.set(m,g),l.set(p,m);let b,v,_=0;for(let w=0;w<p.length;w++){if(p[w]==null||typeof p[w]!="object")continue;let D=e(d,p[w],w,m);if(D.valid){g.push(D.value);continue}g.push(u),b??(b=m1(p.length,!1)),v??(v=m1(p.length,!1)),_+=1,b[w]=!0,v[w]=!0}b&&v&&(n.set(m,b),r.set(m,v),a.set(m,_))}}return{invalidData:r,invalidKeys:n,invalidKeyCount:a,allKeyMappings:s}}extractValues(t,i,e,n,r){let a=0,s=[],o=[],l=0;for(let c of i){let{invalidValue:d}=c;if(new Set(c.scopes.map(v=>e.get(v))).size>1)throw new Error(`AG Charts - more than one data source for: ${JSON.stringify(c)}`);let h=new Set(c.scopes),m=$p(c.scopes),p=e.get(m),g=new Array,b=n.get(m);for(let v=0;v<p.length;v++){if(p[v]==null||typeof p[v]!="object")continue;let _=p[v],w=b!=null?b[v]:!1,D=r(c,_,v,c.scopes),I=D.value;(w||!D.valid)&&this.markScopeDatumInvalid(c.scopes,p,v,t),w?I=d:D.valid||(a+=1,I=d),g[v]=I}s.push(g),o.push(h),l=Math.max(l,g.length)}return{columns:s,columnScopes:o,partialValidDataCount:a,maxDataLength:l}}groupData(t,i){var e;let{keys:n,columns:r,columnScopes:a,invalidKeys:s,invalidData:o}=t,l=t.scopes,c=[],d=[],u=new Set,h=l.size!==1||i!=null?new Map:void 0;for(let m of l){let p=r.map((D,I)=>I).filter(D=>!u.has(D)&&a[D].has(m));if(p.length===0)continue;for(let D of p)u.add(D);let g=new Set;for(let D of p)for(let I of a[D])g.add(I);let b=n.map(D=>D.get(m)).filter(D=>D!=null),v=r[$p(p)],_=o?.get(m),w=s?.get(m);for(let D=0;D<v.length;D++){if(w?.[D]===!0)continue;let I=b.map(F=>F[D]);if(I==null||I.length===0)throw new Error("AG Charts - no keys found for scope: "+m);let E=i?.(I)??I,A=h!=null?Fue(E):void 0,N=h?.get(A);if(N==null&&(N={keys:E,datumIndices:[],aggregation:[],validScopes:l},h?.set(A,N),c.push(N.keys),d.push(N)),_?.[D]===!0){N.validScopes===l&&(N.validScopes=new Set(l.values()));for(let F of g)N.validScopes.delete(F)}for(let F of p)(e=N.datumIndices)[F]??(e[F]=[]),N.datumIndices[F].push(D)}}return S(f({},t),{type:"grouped",domain:S(f({},t.domain),{groups:c}),groups:d})}aggregateUngroupedData(t){let i=this.aggregates.map(()=>[1/0,-1/0]);t.domain.aggValues=i;let{keys:e,columns:n,dataSources:r}=t,a=$p(r.keys()),s=r.get(a);t.aggregation=s?.map((o,l)=>{let c=[];for(let[d,u]of this.aggregates.entries()){let h=this.valueGroupIdxLookup(u),m=u.groupAggregateFunction?.()??[1/0,-1/0],p=h.map(_=>n[_][l]),g=qw(e,a,l),b=g!=null?u.aggregateFunction(p,g):void 0;b&&(m=u.groupAggregateFunction?.(b,m)??Ld.extendDomain(b,m));let v=u.finalFunction?.(m)??m;c[d]=v,Ld.extendDomain(v,i[d])}return c})}aggregateGroupedData(t){let i=this.aggregates.map(()=>[1/0,-1/0]);t.domain.aggValues=i;let{columns:e}=t;for(let[n,r]of this.aggregates.entries()){let a=this.valueGroupIdxLookup(r);for(let s of t.groups){s.aggregation??(s.aggregation=[]);let o=s.keys,l=r.groupAggregateFunction?.()??[1/0,-1/0],c=Math.max(...a.map(u=>s.datumIndices[u]?.length??0));for(let u=0;u<c;u++){let h=a.map(p=>e[p][s.datumIndices[p]?.[u]]),m=r.aggregateFunction(h,o);m&&(l=r.groupAggregateFunction?.(m,l)??Ld.extendDomain(m,l))}let d=r.finalFunction?.(l)??l;s.aggregation[n]=d,Ld.extendDomain(d,i[n])}}}postProcessGroups(t){let{groupProcessors:i}=this,{columnScopes:e,columns:n,invalidData:r}=t;for(let a of i){let s=this.valueGroupIdxLookup(a),o=a.adjust()();for(let l of t.groups)o(n,s,l);for(let l of s){let d=this.values[l].valueType==="category",u=n[l],h=$p(e[l]),m=r?.get(h),p=d?new _H:new Ld;for(let g=0;g<u.length;g+=1)m?.[g]!==!0&&p.extend(u[g]);t.domain.values[l]=p.getDomain()}}}postProcessProperties(t){for(let{adjust:i,property:e,scopes:n}of this.propertyProcessors)for(let r of this.valueIdxLookup(n,e))i()(t,r)}reduceData(t){t.reduced??(t.reduced={});let{dataSources:i,keys:e}=t;for(let n of this.reducers){let r=n.reducer(),a=n.initialValue;if(t.type==="grouped")for(let s of t.groups)a=r(a,s.keys);else{let s=$p(i.keys()),o=e.map(d=>d.get(s)).filter(d=>d!=null),l=o.map(()=>{}),c=i.get(s);for(let d=0;d<c.length;d+=1){for(let u=0;u<l.length;u++)l[u]=o[u]?.[d];a=r(a,l)}}t.reduced[n.property]=a}}postProcessData(t){t.reduced??(t.reduced={});for(let i of this.processors)t.reduced[i.property]=i.calculate(t,t.reduced[i.property])}initDataDomainProcessor(){let{keys:t,values:i}=this,e=new Set;for(let d of i)if(d.scopes)for(let u of d.scopes)e.add(u);let n=new Map,r=new Map,a=!0,s=()=>{for(let d of Ed(t,i))d.valueType==="category"?n.set(d,new _H):(n.set(d,new Ld),a&&(a=(d.scopes?.length??0)===e.size))};s();let o=this.buildAccessors(Ed(t,i)),l={value:void 0,missing:!1,valid:!1};return{dataDomain:n,processValue:(d,u,h,m)=>{let p,g;if(o.has(d.property)){try{g=o.get(d.property)(u)}catch{}p=g!=null}else p=d.property in u,g=p?u[d.property]:d.missingValue;d.forceValue!=null&&(g=p&&qp(g)?-1*d.forceValue:d.forceValue,p=!0),l.missing=!p;let b="missingValue"in d;if(!p&&!b)if(typeof m=="string"){let v=d.missing.get(m)??0;d.missing.set(m,v+1)}else for(let v of m){let _=d.missing.get(v)??0;d.missing.set(v,_+1)}if(n.has(d)||s(),p&&d.validation?.(g,u,h)===!1)if(l.valid=!1,"invalidValue"in d)g=d.invalidValue;else return this.mode!=="integrated"&&j.warnOnce(`invalid value of type [${typeof g}] for [${d.scopes} / ${d.id}] ignored:`,`[${g}]`),l.value=void 0,l;else l.valid=!0;if(d.processor){let v=r.get(d);v==null&&(v=d.processor(),r.set(d,v)),g=v(g,h)}return n.get(d)?.extend(g),l.value=g,l},initDataDomain:s,scopes:e,allScopesHaveSameDefs:a}}buildAccessors(t){let i=new Map;if(this.suppressFieldDotNotation)return i;for(let e of t){if(!(e.property.includes(".")||e.property.includes("[")))continue;let r=nW(e.property);if(r==null){j.warnOnce("Invalid property path [%s]",e.property);continue}let a=Bue(r);i.set(e.property,a)}return i}};function jue(t){let i=(e,n)=>{n.length>0&&(j.log(`DataModel.processData() - ${e}`),j.table(n))};j.log("DataModel.processData() - processedData",t),i("Key Domains",t.domain.keys),i("Group Domains",t.domain.groups??[]),i("Value Domains",t.domain.values),i("Aggregate Domains",t.domain.aggValues??[])}var zue=(()=>{let t=class Cl{constructor(e,n){this.mode=e,this.suppressFieldDotNotation=n,this.debug=bt.create(!0,"data-model"),this.requested=[],this.status="setup"}request(e,n,r){return L(this,null,function*(){if(this.status!=="setup")throw new Error("AG Charts - data request after data setup phase.");return new Promise((a,s)=>{this.requested.push({id:e,opts:r,data:n,resolve:a,reject:s})})})}execute(e){if(this.status!=="setup")throw new Error("AG Charts - data request after data setup phase.");this.status="executed",this.debug("DataController.execute() - requested",this.requested);let n=this.validateRequests(this.requested);this.debug("DataController.execute() - validated",n);let r=this.mergeRequested(n);this.debug("DataController.execute() - merged",r),this.debug.check()&&(Je().processedData=[]);let a=[];for(let{data:s,ids:o,opts:l,resolves:c,rejects:d}of r){let u=e?.find(p=>Lue(p,s,o,l)),h,m;if(u==null)try{h=new rW(l,this.mode,this.suppressFieldDotNotation);let p=new Map(n.map(g=>[g.id,g.data]));m=h.processData(p)}catch(p){d.forEach(g=>g(p));continue}else({dataModel:h,processedData:m}=u);a.push({opts:l,data:s,ids:o,dataModel:h,processedData:m}),this.debug.check()&&Je("processedData").push(m),m?.partialValidDataCount===0?c.forEach(p=>p({dataModel:h,processedData:m})):m?this.splitResult(h,m,o,c):d.forEach(p=>p(new Error("AG Charts - no processed data generated")))}return a}validateRequests(e){let n=[];for(let[r,a]of e.entries())r>0&&a.data.length!==e[0].data.length&&a.opts.groupByData===!1&&a.opts.groupByKeys===!1?a.reject(new Error("all series[].data arrays must be of the same length and have matching keys.")):n.push(a);return n}mergeRequested(e){let n=[];for(let r of e){let a=n.find(Cl.groupMatch(r));a?a.push(r):n.push([r])}return n.map(Cl.mergeRequests)}splitResult(e,n,r,a){for(let s=0;s<r.length;s++){let o=a[s];o({dataModel:e,processedData:n})}}static groupMatch({data:e,opts:n}){function r(d){return d.filter(u=>u.type==="key").map(u=>u.property).join(";")}let{groupByData:a,groupByKeys:s=!1,groupByFn:o,props:l}=n,c=r(l);return([d])=>(a===!1||d.data===e)&&(d.opts.groupByKeys??!1)===s&&d.opts.groupByFn===o&&r(d.opts.props)===c}static mergeRequests(e){let n={ids:[],rejects:[],resolves:[],data:e[0].data,opts:S(f({},e[0].opts),{props:[]})},r=new Map,a=new Map,s=0;for(let c of e){let{id:d,data:u,resolve:h,reject:m,opts:o}=c,l=o,{props:p}=l,g=ci(l,["props"]);n.ids.push(d),n.rejects.push(m),n.resolves.push(h),n.data??(n.data=u),n.opts??(n.opts=S(f({},g),{props:[]}));for(let b of p){let v=S(f({},b),{scopes:[d],data:u});Cl.createIdsMap(d,v);let _;Cl.crossScopeMergableTypes.has(v.type)?_=-1:a.has(u)?_=a.get(u):(_=s++,a.set(u,_));let w=`${v.type}-${_}-${v.groupId}`,D=r.get(w),I=D?.find(E=>Cl.deepEqual(E,v));if(D==null){n.opts.props.push(v),r.set(w,[v]);continue}else if(I==null){n.opts.props.push(v),D.push(v);continue}v.scopes!=null&&(I.scopes??(I.scopes=[]),I.scopes.push(...v.scopes)),(I.type==="key"||I.type==="value")&&v.idsMap?.size&&(I.idsMap??(I.idsMap=new Map),Cl.mergeIdsMap(v.idsMap,I.idsMap))}}return n}static mergeIdsMap(e,n){for(let[r,a]of e){let s=n.get(r);if(s==null)n.set(r,new Set(a));else for(let o of a)s.add(o)}}static createIdsMap(e,n){n.id!=null&&(n.idsMap??(n.idsMap=new Map),n.idsMap.has(e)?n.idsMap.get(e).add(n.id):n.idsMap.set(e,new Set([n.id])))}static deepEqual(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;let r,a;if(Array.isArray(e)){if(a=e.length,a!==n.length)return!1;for(r=a-1;r>=0;r--)if(!Cl.deepEqual(e[r],n[r]))return!1;return!0}let s=Object.keys(e);if(a=s.length,a!==Object.keys(n).length)return!1;for(r=a-1;r>=0;r--){let o=s[r];if(!Cl.skipKeys.has(o)&&(!Object.hasOwn(n,o)||!Cl.deepEqual(e[o],n[o])))return!1}return!0}return!1}};return t.crossScopeMergableTypes=new Set(["key","group-value-processor"]),t.skipKeys=new Set(["id","idsMap","type","scopes","data"]),t})(),aW=zue,Uue=class{constructor(){this.axesMap=new Map,this.themeTemplates=new Map}register(t,i){this.axesMap.set(t,i.moduleFactory),i.themeTemplate&&this.setThemeTemplate(t,i.themeTemplate)}create(t,i){let e=this.axesMap.get(t);if(e)return e(i);throw new Error(`AG Charts - unknown axis type: ${t}`)}has(t){return this.axesMap.has(t)}keys(){return this.axesMap.keys()}setThemeTemplate(t,i){return this.themeTemplates.set(t,i),this}getThemeTemplate(t){return this.themeTemplates.get(t)}},Nh=new Uue,Tv=[{type:"root",optionsKey:"animation",chartTypes:["cartesian","polar","topology","standalone"]},{type:"root",optionsKey:"annotations",chartTypes:["cartesian"]},{type:"root",optionsKey:"background",chartTypes:["cartesian","polar","topology","standalone"],optionsInnerKey:"image"},{type:"root",optionsKey:"foreground",chartTypes:["cartesian","polar","topology","standalone"],optionsInnerKey:"image"},{type:"root",optionsKey:"chartToolbar",chartTypes:["cartesian"]},{type:"root",optionsKey:"contextMenu",chartTypes:["cartesian","polar","topology","standalone"]},{type:"root",optionsKey:"statusBar",chartTypes:["cartesian"],identifier:"status-bar"},{type:"root",optionsKey:"dataSource",chartTypes:["cartesian","polar","topology","standalone"]},{type:"root",optionsKey:"sync",chartTypes:["cartesian"]},{type:"root",optionsKey:"zoom",chartTypes:["cartesian","topology"]},{type:"root",optionsKey:"ranges",chartTypes:["cartesian"]},{type:"legend",optionsKey:"gradientLegend",chartTypes:["cartesian","polar","topology","standalone"],identifier:"gradient"},{type:"root",optionsKey:"navigator",chartTypes:["cartesian"]},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"angle-category"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"angle-number"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"radius-category"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"radius-number"},{type:"axis",optionsKey:"axes[]",chartTypes:["cartesian"],identifier:"ordinal-time"},{type:"axis-option",optionsKey:"crosshair",chartTypes:["cartesian"]},{type:"axis-option",optionsKey:"bandHighlight",chartTypes:["cartesian"]},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"box-plot"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"candlestick"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"cone-funnel"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"funnel"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"ohlc"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"heatmap"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"range-area"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"range-bar"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"waterfall"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"nightingale"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radar-area"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radar-line"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radial-bar"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radial-column"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-shape"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-line"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-marker"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-shape-background"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-line-background"},{type:"series",optionsKey:"series[]",chartTypes:["standalone"],identifier:"pyramid"},{type:"series",optionsKey:"series[]",chartTypes:["standalone"],identifier:"linear-gauge"},{type:"series",optionsKey:"series[]",chartTypes:["standalone"],identifier:"radial-gauge"},{type:"series",optionsKey:"series[]",chartTypes:["standalone"],identifier:"sunburst"},{type:"series",optionsKey:"series[]",chartTypes:["standalone"],identifier:"treemap"},{type:"series",optionsKey:"series[]",chartTypes:["standalone"],identifier:"chord"},{type:"series",optionsKey:"series[]",chartTypes:["standalone"],identifier:"sankey"},{type:"series-option",optionsKey:"errorBar",chartTypes:["cartesian"],identifier:"error-bars"},{type:"context",contextKey:"sharedToolbar",chartTypes:["cartesian"]}];function RD(t){return Tv.find(i=>i.type==="series"&&i.identifier===t)?.chartTypes}function Hue(t){return RD(t)?.find(e=>e==="cartesian")==="cartesian"}function Gue(t){return RD(t)?.find(e=>e==="polar")==="polar"}function Wue(t){return RD(t)?.find(e=>e==="topology")==="topology"}function $ue(t){return RD(t)?.find(e=>e==="standalone")==="standalone"}function Yue(t){return t.packageType==="enterprise"}function Kue(t){if(!Yue(t))throw new Error("AG Charts - internal configuration error, only enterprise modules need verification.");let i=Tv.find(e=>e.type===t.type&&("optionsKey"in e&&"optionsKey"in t?e.optionsKey===t.optionsKey:!0)&&("contextKey"in e&&"contextKey"in t?e.contextKey===t.contextKey:!0)&&e.identifier===t.identifier&&t.chartTypes.every(n=>e.chartTypes.includes(n)));return i&&(i.useCount??(i.useCount=0),i.useCount++),i!=null}function que(){return Tv.filter(({useCount:t})=>t==null||t===0)}var Zue=class{constructor(){this.legendMap=new Map,this.themeTemplates=new Map}register(t,{optionsKey:i,moduleFactory:e,themeTemplate:n}){this.legendMap.set(t,{optionsKey:i,moduleFactory:e}),this.themeTemplates.set(i,n)}create(t,i){let e=this.legendMap.get(t)?.moduleFactory;if(e)return e(i);throw new Error(`AG Charts - unknown legend type: ${t}`)}getThemeTemplates(){return Object.fromEntries(this.themeTemplates)}getKeys(){return Array.from(this.legendMap.entries()).reduce((t,[i,e])=>(t[i]=e.optionsKey,t),{})}},sO=new Zue,sW=class extends Map{get(t){return super.get(t)??"unknown"}isCartesian(t){return this.get(t)==="cartesian"}isPolar(t){return this.get(t)==="polar"}isTopology(t){return this.get(t)==="topology"}isStandalone(t){return this.get(t)==="standalone"}get seriesTypes(){return Array.from(this.keys())}get cartesianTypes(){return this.seriesTypes.filter(t=>this.isCartesian(t))}get polarTypes(){return this.seriesTypes.filter(t=>this.isPolar(t))}get topologyTypes(){return this.seriesTypes.filter(t=>this.isTopology(t))}get standaloneTypes(){return this.seriesTypes.filter(t=>this.isStandalone(t))}},Que=class extends Map{set(t,i){return super.set(t,Xt(i,this.get(t)))}},Jn=new sW,Xue=new sW,eR=new Que,Jue=class{constructor(){this.seriesMap=new Map,this.themeTemplates=new Map}register(t,{chartTypes:[i],moduleFactory:e,defaultAxes:n,themeTemplate:r,solo:a,stackable:s,groupable:o,stackedByDefault:l,hidden:c}){this.setThemeTemplate(t,r),this.seriesMap.set(t,{moduleFactory:e,defaultAxes:n,solo:a,stackable:s,groupable:o,stackedByDefault:l}),Jn.set(t,i),c||Xue.set(t,i)}create(t,i){let e=this.seriesMap.get(t)?.moduleFactory;if(e)return e(i);throw new Error(`AG Charts - unknown series type: ${t}`)}cloneDefaultAxes(t){let i=this.seriesMap.get(t)?.defaultAxes;return i==null?null:{axes:qi(i)}}setThemeTemplate(t,i){let e=this.themeTemplates.get(t);this.themeTemplates.set(t,Xt(i,e))}getThemeTemplate(t){return this.themeTemplates.get(t)}isSolo(t){return this.seriesMap.get(t)?.solo??!1}isGroupable(t){return this.seriesMap.get(t)?.groupable??!1}isStackable(t){return this.seriesMap.get(t)?.stackable??!1}isStackedByDefault(t){return this.seriesMap.get(t)?.stackedByDefault??!1}},Io=new Jue,oO=class gc{constructor(i){this.chart=i}subscribe(i=gc.DEFAULT_GROUP){let e=this.get(i);return e||(e={members:new Set},gc.chartsGroups.set(i,e)),e.members.add(this.chart),this}unsubscribe(i=gc.DEFAULT_GROUP){let e=this.get(i);return e?.members.delete(this.chart),delete e?.domains?.x?.sources?.[this.chart.id],delete e?.domains?.y?.sources?.[this.chart.id],this}getChart(){return this.chart}getGroupState(i=gc.DEFAULT_GROUP){return this.get(i)}getGroupMembers(i=gc.DEFAULT_GROUP){let e=this.get(i);return e?Array.from(e.members):[]}getGroupSiblings(i=gc.DEFAULT_GROUP){return this.getGroupMembers(i).filter(e=>e!==this.chart)}getGroupSyncMode(i=gc.DEFAULT_GROUP){return this.getGroupMembers(i).some(e=>e.series.length>1)?"multi-series":"single-series"}get(i){return gc.chartsGroups.get(i)}};oO.chartsGroups=new Map;oO.DEFAULT_GROUP=Symbol("sync-group-default");var ehe=oO,lO=class extends tt{constructor(){super(...arguments),this.enabled=!1}};y([C],lO.prototype,"enabled",2);y([C],lO.prototype,"tabIndex",2);var oW={};Rl(oW,{NODE_UPDATE_STATE_TO_PHASE_MAPPING:()=>Ao,fromToMotion:()=>Tn,staticFromToMotion:()=>Lc});var Ao={added:"add",updated:"update",removed:"remove",unknown:"initial","no-op":"none"};function Tn(t,i,e,n,r,a,s){let{fromFn:o,toFn:l,applyFn:c=(p,g)=>p.setProperties(g)}=r,{nodes:d,selections:u}=TD(n),h=(p,g)=>{let b,v=0,_=0;for(let I of g){let E=p[v]===I,A={last:_>=g.length-1,lastLive:v>=p.length-1,prev:g[_-1],prevFromProps:b,prevLive:p[v-1],next:g[_+1],nextLive:p[v+(E?1:0)]},N=`${t}_${i}_${I.id}`;e.stopByAnimationId(N);let F="unknown";E?a&&s&&(F=the(I,I.datum,a,s)):F="removed",I.transitionOut=F==="removed";let w=o(I,I.datum,F,A),{phase:P,start:U,finish:H,delay:q,duration:ue}=w,te=ci(w,["phase","start","finish","delay","duration"]),D=l(I,I.datum,F,A),{phase:Oe,start:ot,finish:Ct,delay:Yt,duration:Zt}=D,vt=ci(D,["phase","start","finish","delay","duration"]),He=H==null;e.animate({id:N,groupId:t,phase:P??Oe??"update",duration:ue??Zt,delay:q??Yt,from:te,to:vt,ease:av,collapsable:He,onPlay:()=>{let Ge=f(f(f({},U),ot),te);c(I,Ge,"start")},onUpdate(Ge){c(I,Ge,"update")},onStop:()=>{let Ge=f(f(f(f(f(f({},U),ot),te),vt),H),Ct);c(I,Ge,"end")}}),E&&v++,_++,b=te}},m=0;for(let p of u){let g=p.nodes(),b=g.filter(v=>!p.isGarbage(v));h(b,g),e.animate({id:`${t}_${i}_selection_${m}`,groupId:t,phase:"end",from:0,to:1,ease:av,onStop(){p.cleanup()}}),m++}h(d,d)}function Lc(t,i,e,n,r,a,s){let{nodes:o,selections:l}=TD(n),{start:c,finish:d,phase:u}=s;e.animate({id:`${t}_${i}`,groupId:t,phase:u??"update",from:r,to:a,ease:av,onPlay:()=>{if(c){for(let h of o)h.setProperties(c);for(let h of l)for(let m of h.nodes())m.setProperties(c)}},onUpdate(h){for(let m of o)m.setProperties(h);for(let m of l)for(let p of m.nodes())p.setProperties(h)},onStop:()=>{for(let h of o)h.setProperties(f(f({},a),d));for(let h of l){for(let m of h.nodes())m.setProperties(f(f({},a),d));h.cleanup()}}})}function the(t,i,e,n){let r=e(t,i);return n.added.has(r)?"added":n.removed.has(r)?"removed":t.previousDatum==null&&t.datum!=null?"added":t.previousDatum!=null&&t.datum==null?"removed":"updated"}var lW={};Rl(lW,{resetMotion:()=>kr});function kr(t,i){let{nodes:e,selections:n}=TD(t);for(let r of n){for(let a of r.nodes()){let s=i(a,a.datum);a.setProperties(s)}r.cleanup()}for(let r of e){let a=i(r,r.datum);r.setProperties(a)}}var $r=class Ah{constructor(i,e,n=!0){this.parentNode=i,this.autoCleanup=n,this.garbageBin=new Set,this._nodesMap=new Map,this._nodes=[],this.data=[],this.debug=bt.create(!0,"scene","scene:selections"),this.nodeFactory=Object.prototype.isPrototypeOf.call(Ic,e)?()=>new e:e}static select(i,e,n=!0){return new Ah(i,e,n)}static selectAll(i,e){let n=[],r=a=>{if(e(a)&&n.push(a),a instanceof ht)for(let s of a.children())r(s)};return r(i),n}static selectByClass(i,...e){return Ah.selectAll(i,n=>e.some(r=>n instanceof r))}static selectByTag(i,e){return Ah.selectAll(i,n=>n.tag===e)}createNode(i,e,n){let r=this.nodeFactory(i);return r.datum=i,e?.(r),n==null?this._nodes.push(r):this._nodes.splice(n,0,r),this.parentNode.appendChild(r),r}update(i,e,n){if(this.garbageBin.size>0&&this.debug("Selection - update() called with pending garbage",i),n){let r=new Map,a=new Map;for(let s=0;s<i.length;s++){let o=i[s],l=n(o);if(r.has(l)){let c=(a.get(l)??0)+1;a.set(l,c),l=`${l}:${c}`}r.set(l,s)}for(let[s,o]of this._nodesMap.entries()){let l=r.get(o);l==null?this.garbageBin.add(s):(s.datum=i[l],this.garbageBin.delete(s),r.delete(o))}for(let[s,o]of r.entries()){let l=i[o];this._nodesMap.set(this.createNode(l,e,o),s)}}else{let r=Math.max(i.length,this.data.length);for(let a=0;a<r;a++)a>=i.length?this.garbageBin.add(this._nodes[a]):a>=this._nodes.length?this.createNode(i[a],e):(this._nodes[a].datum=i[a],this.garbageBin.delete(this._nodes[a]))}return this.data=i.slice(),this.autoCleanup&&this.cleanup(),this}cleanup(){return this.garbageBin.size===0?this:(this._nodes=this._nodes.filter(i=>this.garbageBin.has(i)?(this._nodesMap.delete(i),this.garbageBin.delete(i),i.destroy(),!1):!0),this)}clear(){return this.update([]),this}isGarbage(i){return this.garbageBin.has(i)}each(i){for(let e of this._nodes.entries())i(e[1],e[1].datum,e[0]);return this}*[Symbol.iterator](){for(let i=0;i<this._nodes.length;i++){let e=this._nodes[i];yield{node:e,datum:e.datum,index:i}}}select(i){return Ah.selectAll(this.parentNode,i)}selectByClass(i){return Ah.selectByClass(this.parentNode,i)}selectByTag(i){return Ah.selectByTag(this.parentNode,i)}nodes(){return this._nodes}at(i){return this._nodes.at(i)}get length(){return this._nodes.length}},Fs=(()=>{let t=class extends Sn{constructor(i={}){super(i),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.fill=void 0,this.strokeWidth=1}set x(i){this.x1=i,this.x2=i}set y(i){this.y1=i,this.y2=i}get midPoint(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}}computeBBox(){return new _e(Math.min(this.x1,this.x2),Math.min(this.y1,this.y2),Math.abs(this.x2-this.x1),Math.abs(this.y2-this.y1))}isPointInPath(i,e){return this.x1===this.x2||this.y1===this.y2?this.getBBox().clone().grow(this.strokeWidth/2).containsPoint(i,e):!1}distanceSquared(i,e){let{x1:n,y1:r,x2:a,y2:s}=this;return Gw(i,e,n,r,a,s,1/0)}render(i){let{ctx:e,devicePixelRatio:n}=i,{x1:r,y1:a,x2:s,y2:o}=this;if(r===s){let{strokeWidth:l}=this,c=Math.round(r*n)/n+Math.trunc(l*n)%2/(n*2);r=c,s=c}else if(a===o){let{strokeWidth:l}=this,c=Math.round(a*n)/n+Math.trunc(l*n)%2/(n*2);a=c,o=c}e.beginPath(),e.moveTo(r,a),e.lineTo(s,o),this.fillStroke(e),this.fillShadow?.markClean(),super.render(i)}toSVG(){if(!this.visible)return;let i=qt("line");return i.setAttribute("x1",String(this.x1)),i.setAttribute("y1",String(this.y1)),i.setAttribute("x2",String(this.x2)),i.setAttribute("y2",String(this.y2)),this.applySvgStrokeAttributes(i),{elements:[i]}}};return t.className="Line",t})();y([ee()],Fs.prototype,"x1",2);y([ee()],Fs.prototype,"y1",2);y([ee()],Fs.prototype,"x2",2);y([ee()],Fs.prototype,"y2",2);var p1="color: green",f1="color: grey";function ihe(){return L5(()=>{})}function tR(t,i){let e=Ud(i);if(e.length===0)return;let n=N5(t);for(let r of e)r in n&&(i[r]=n[r])}var cW=class{transitionRoot(t,i){this.parent?this.parent.transitionRoot(t,i):this.transition(t,i)}},nhe=(()=>{let t=class Na extends cW{constructor(e,n,r){super(),this.defaultState=e,this.states=n,this.enterEach=r,this.debug=bt.create(!0,"animation"),this.state=e,this.debug(`%c${this.constructor.name} | init -> ${e}`,p1)}transition(e,n){if(!this.transitionChild(e,n)||this.state===Na.child||this.state===Na.parent)return;let a=this.state,s=this.states[this.state],o=s[e],l=`%c${this.constructor.name} | ${this.state} -> ${e} ->`;if(Array.isArray(o))o=o.find(u=>{if(!u.guard)return!0;let h=u.guard(n);return h||this.debug(`${l} (guarded)`,u.target,f1),h});else if(typeof o=="object"&&!(o instanceof Na)&&o.guard&&!o.guard(n)){this.debug(`${l} (guarded)`,o.target,f1);return}if(!o){this.debug(`${l} ${this.state}`,f1);return}let c=this.getDestinationState(o),d=c===this.state?void 0:s.onExit;this.debug(`${l} ${c}`,p1),this.state=c,typeof o=="function"?o(n):typeof o=="object"&&!(o instanceof Na)&&o.action?.(n),d?.(),this.enterEach?.(a,c),c!==a&&c!==Na.child&&c!==Na.parent&&this.states[c].onEnter?.(a,n)}transitionAsync(e,n){setTimeout(()=>{this.transition(e,n)},0)}is(e){return this.state===Na.child&&this.childState?this.childState.is(e):this.state===e}resetHierarchy(){this.debug(`%c${this.constructor.name} | ${this.state} -> [resetHierarchy] -> ${this.defaultState}`,"color: green"),this.state=this.defaultState}transitionChild(e,n){return this.state!==Na.child||!this.childState||(tR(this,this.childState),this.childState.transition(e,n),!this.childState.is(Na.parent))?!0:(this.debug(`%c${this.constructor.name} | ${this.state} -> ${e} -> ${this.defaultState}`,p1),this.state=this.defaultState,this.states[this.state].onEnter?.(),this.childState.resetHierarchy(),!1)}getDestinationState(e){let n=this.state;return typeof e=="string"?n=e:e instanceof Na?(this.childState=e,this.childState.parent=this,n=Na.child):typeof e=="object"&&(e.target instanceof Na?(this.childState=e.target,this.childState.parent=this,n=Na.child):e.target!=null&&(n=e.target)),n}};return t.child="__child",t.parent="__parent",t})(),Rv=nhe,rhe=class extends cW{constructor(...t){super(),this.stateMachines=t;for(let i of t)i.parent=this}transition(t,i){for(let e of this.stateMachines)tR(this,e),e.transition(t,i)}transitionAsync(t,i){for(let e of this.stateMachines)tR(this,e),e.transitionAsync(t,i)}},_f=1e3,Vd=_f*60,Ph=Vd*60,Uh=Ph*24,dW=Uh*7,cO=Uh*30,cv=Uh*365,tf=new Date().getTimezoneOffset()*Vd,Ov={millisecond:{milliseconds:1,hierarchy:"day",encode(t){return t.getTime()},decode(t){return new Date(t)}},second:{milliseconds:_f,hierarchy:"day",encode(t,i){let e=i?0:tf;return Math.floor((t.getTime()-e)/_f)},decode(t,i){let e=i?0:tf;return new Date(e+t*_f)}},minute:{milliseconds:Vd,hierarchy:"day",encode(t,i){let e=i?0:tf;return Math.floor((t.getTime()-e)/Vd)},decode(t,i){let e=i?0:tf;return new Date(e+t*Vd)}},hour:{milliseconds:Ph,hierarchy:"day",encode(t,i){let e=i?0:tf;return Math.floor((t.getTime()-e)/Ph)},decode(t,i){let e=i?0:tf;return new Date(e+t*Ph)}},day:{milliseconds:Uh,hierarchy:"month",encode(t,i){let e=i?0:t.getTimezoneOffset()*Vd;return Math.floor((t.getTime()-e)/Uh)},decode(t,i){let e;return i?(e=new Date(0),e.setUTCDate(e.getUTCDate()+t),e.setUTCHours(0,0,0,0)):(e=new Date(1970,0,1),e.setDate(e.getDate()+t)),e}},month:{milliseconds:cO,hierarchy:"year",encode(t,i){return i?t.getUTCFullYear()*12+t.getUTCMonth():t.getFullYear()*12+t.getMonth()},decode(t,i){if(i){let e=Math.floor(t/12),n=t-e*12;return new Date(Date.UTC(e,n,1))}else{let e=Math.floor(t/12),n=t-e*12;return new Date(e,n,1)}}},year:{milliseconds:cv,hierarchy:void 0,encode(t,i){return i?t.getUTCFullYear():t.getFullYear()},decode(t,i){let e;return i?(e=new Date,e.setUTCFullYear(t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)):e=new Date(t,0,1,0,0,0,0),e}}};function Lv(t){return typeof t=="string"?{unit:t,step:1,epoch:void 0,utc:!1}:{unit:t.unit,step:t.step??1,epoch:t.epoch,utc:t.utc??!1}}function Nv(t,i,e,n){if(e==null)return 0;let r=Ov[t];return Math.floor(r.encode(new Date(e),n))%i}function Of(t,i,e,n,r){let a=Ov[i];return Math.floor((a.encode(new Date(t),n)-r)/e)}function Pv(t,i,e,n,r){return Ov[i].decode(t*e+r,n)}function Zw(t,i,e,n,r){let a=new Date(t),s=Of(a,i,e,n,r);return Pv(s,i,e,n,r)}function Qw(t,i,e,n,r){let a=new Date(Number(t)-1),s=Of(a,i,e,n,r);return Pv(s+1,i,e,n,r)}function Os(t,i){let{unit:e,step:n,epoch:r,utc:a}=Lv(t),s=Nv(e,n,r,a);return Zw(i,e,n,a,s)}function uW(t,i){let{unit:e,step:n,epoch:r,utc:a}=Lv(t),s=Nv(e,n,r,a);return Qw(i,e,n,a,s)}function hW(t,i){let{unit:e,step:n,epoch:r,utc:a}=Lv(t),s=Nv(e,n,r,a);return Pv(Of(Qw(i,e,n,a,s),e,n,a,s)-1,e,n,a,s)}function mW(t,i){let{unit:e,step:n,epoch:r,utc:a}=Lv(t),s=Nv(e,n,r,a);return Pv(Of(Zw(i,e,n,a,s),e,n,a,s)+1,e,n,a,s)}function dO(t,i,e){if(t.valueOf()>i.valueOf()&&([t,i]=[i,t],e!=null&&(e=[1-e[1],1-e[0]])),e!=null){let n=i.valueOf()-t.valueOf(),r=t.valueOf();t=new Date(r+e[0]*n),i=new Date(r+e[1]*n)}return[new Date(t),new Date(i)]}function Xw(t,i,e,{extend:n=!1,visibleRange:r=[0,1],limit:a,defaultAlignment:s="start"}={}){let o=Lv(t),{unit:l,step:c,utc:d}=o,u;o.epoch!=null?u=o.epoch:s==="interval"?u=void 0:i.valueOf()>e.valueOf()?u=e:u=i;let h=Nv(o.unit,o.step,u,o.utc),[m,p]=dO(i,e,r);m=n?Zw(m,l,c,d,h):Qw(m,l,c,d,h),p=n?Qw(p,l,c,d,h):Zw(p,l,c,d,h);let g=Of(m,l,c,d,h),b=Of(p,l,c,d,h);return a!=null&&b-g>a&&(b=g+a),{range:[g,b],unit:l,step:c,utc:d,offset:h}}function uO(t,i,e,n){let{range:[r,a]}=Xw(t,i,e,n);return Math.abs(a-r)}function js(t,i,e,n){let{range:[r,a],unit:s,step:o,utc:l,offset:c}=Xw(t,i,e,n),d=[];for(let u=r;u<=a;u+=1){let h=Pv(u,s,o,l,c);d.push(h)}return d}function OD(t,i,e,{extend:n,visibleRange:r,limit:a,defaultAlignment:s}={}){let{range:[o]}=Xw(t,i,e,{extend:n,visibleRange:r,limit:a,defaultAlignment:s}),{range:[l]}=Xw(t,i,e,{extend:n,limit:a,defaultAlignment:s});return o-l}function Al(t){return typeof t=="string"?t:t.unit}function Zd(t){return typeof t=="string"?1:t.step??1}function dv(t){return typeof t=="string"?void 0:t.epoch}function uv(t){return Ov[Al(t)].hierarchy}function ga(t){return Zd(t)*Ov[Al(t)].milliseconds}var Wh=class{constructor(){this.enabled=!0}};y([C],Wh.prototype,"enabled",2);y([C],Wh.prototype,"stroke",2);y([C],Wh.prototype,"strokeWidth",2);y([C],Wh.prototype,"strokeOpacity",2);var sn=class extends tt{constructor(){super(...arguments),this.enabled=!0,this.border=new Wh,this._cachedFormatter=void 0}formatValue(t,i,e,n){let{formatter:r,format:a}=this,s;if(r!=null&&(s??(s=t(r,n))),a!=null){let o=this._cachedFormatter;(o==null||o.type!==i||o.format!==a)&&(o={type:i,format:a,formatter:Tf.getFormatter(i,a)},this._cachedFormatter=o),s??(s=o.formatter?.(e))}return s!=null?String(s):void 0}};y([C],sn.prototype,"enabled",2);y([C],sn.prototype,"border",2);y([C],sn.prototype,"color",2);y([C],sn.prototype,"cornerRadius",2);y([C],sn.prototype,"fill",2);y([C],sn.prototype,"fillOpacity",2);y([C],sn.prototype,"fontStyle",2);y([C],sn.prototype,"fontWeight",2);y([C],sn.prototype,"fontSize",2);y([C],sn.prototype,"fontFamily",2);y([C],sn.prototype,"formatter",2);y([C],sn.prototype,"format",2);y([C],sn.prototype,"padding",2);y([C],sn.prototype,"itemStyler",2);function Lf(t){let{enabled:i=!1,stroke:e}=t?.border??{},r=t?.fill!=null||i&&e!=null?t?.padding:null;if(r==null)return{bottom:0,left:0,right:0,top:0};if(typeof r=="number")return{bottom:r,left:r,right:r,top:r};{let{bottom:a=0,left:s=0,right:o=0,top:l=0}=r;return{bottom:a,left:s,right:o,top:l}}}function ahe(t,i,e=0,n=0){let r=kc(t),a=!r&&n>=0&&n<=Math.PI?-1:1,s=!r&&e>=0&&e<=Math.PI?-1:1,o=0;return i?o=a*Math.PI/2:s===-1&&(o=Math.PI),{configuredRotation:r,defaultRotation:o,parallelFlipFlag:a,regularFlipFlag:s}}function she(t,i){return t??(i?0:10)}function ohe(t,i,e,n){return t&&!i?e*n===-1?"top":"bottom":"middle"}function lhe(t,i,e,n,r){let a=i>0&&i<=Math.PI,s=e>0&&e<=Math.PI,o=a||s?-1:1;if(t)if(i||e){if(n*o===-1)return"end"}else return"center";else if(n*r===-1)return"end";return"start"}function iR(t,i){if(t!=null){if(typeof t=="string")return t;if(yt(t)&&i!=null)return t[Al(i)]}}function che(t,i,e,n,r){let a=iR(t.format,n)??(typeof t.format=="string"?t.format:void 0);if(a==null)return{width:0,height:0};let s=zh(a),o=n?uv(n):void 0,l=iR(i?.format,o),c=l?zh(l):s,d=new Date(e[0]),u=new Date(e[e.length-1]),h=o?js(o,new Date(e[0]),new Date(e[e.length-1]),{extend:!0}):void 0,m=0,p=0;if(s!=null){let g=Lf(t),b=g.left+g.right,v=g.top+g.bottom,_,w;h!=null&&h.length>1?(_=h[0],w=h[1]):(_=d,w=u);let D=js(n,_,w,{limit:50});for(let I of D){let E=s(I),{width:A,height:N}=r.measureLines(E);m=Math.max(m,A+b),p=Math.max(p,N+v)}}if(c!=null&&h!=null){let g=Lf(i),b=g.left+g.right,v=g.top+g.bottom;for(let _ of h){let w=c(_),{width:D,height:I}=r.measureLines(w);m=Math.max(m,D+b),p=Math.max(p,I+v)}}return{width:Math.ceil(m),height:Math.ceil(p)}}function dhe(t,i,e,n,r){let a=Lf(r),s=a.left+a.right,o=a.top+a.bottom,l=[];for(let{tickLabel:c,translation:d}of t){if(!c)continue;let{x:u,y:h}=e.transformBBox(new _e(i,d,0,0)),m=n.measureLines(c),p=m.width+s,g=m.height+o;l.push({point:{x:u,y:h},label:{text:c,width:p,height:g}})}return l}function uhe({width:t,height:i,spacing:e},n,r){let a=[];for(let s of[0,e]){let{x:o,y:l}=r.transformBBox(new _e(n,s,0,0));a.push({point:{x:o,y:l},label:{text:void 0,width:t,height:i}})}return a}var hO=class{constructor(){this.moduleMap=new Map}*modules(){for(let t of this.moduleMap.values())yield t.moduleInstance}addModule(t,i){if(this.moduleMap.has(t.optionsKey))throw new Error(`AG Charts - module already initialised: ${t.optionsKey}`);this.moduleMap.set(t.optionsKey,{module:t,moduleInstance:i(t)})}removeModule(t){let i=Gi(t)?t:t.optionsKey;this.moduleMap.get(i)?.moduleInstance.destroy(),this.moduleMap.delete(i)}getModule(t){return this.moduleMap.get(Gi(t)?t:t.optionsKey)?.moduleInstance}isEnabled(t){return this.moduleMap.has(Gi(t)?t:t.optionsKey)}mapModules(t){return Array.from(this.moduleMap.values(),(i,e)=>t(i.moduleInstance,e))}destroy(){for(let t of this.moduleMap.keys())this.moduleMap.get(t)?.moduleInstance.destroy();this.moduleMap.clear()}},Nc=(()=>{let t=class extends Sn{constructor(i={}){super(i),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.startLine=!1,this.endLine=!1,this.horizontal=!1,this.strokeWidth=1}computeBBox(){return new _e(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)}isPointInPath(i,e){return!1}render(i){let{ctx:e}=i,{x1:n,y1:r,x2:a,y2:s}=this;n=this.align(n),r=this.align(r),a=this.align(a),s=this.align(s);let{fill:o,horizontal:l}=this,{globalAlpha:c}=e;o!=null&&(this.applyFillAndAlpha(e),e.beginPath(),e.moveTo(n,r),e.lineTo(a,r),e.lineTo(a,s),e.lineTo(n,s),e.closePath(),e.fill(),e.globalAlpha=c);let{stroke:d,strokeWidth:u,startLine:h,endLine:m}=this;if(!!((h||m)&&d&&u)){let{lineDash:g,lineDashOffset:b,lineCap:v,lineJoin:_}=this;this.applyStrokeAndAlpha(e),e.lineWidth=u,g&&e.setLineDash([...g]),b&&(e.lineDashOffset=b),v&&(e.lineCap=v),_&&(e.lineJoin=_),e.beginPath(),h&&(e.moveTo(n,r),l?e.lineTo(n,s):e.lineTo(a,r)),m&&(e.moveTo(a,s),l?e.lineTo(a,r):e.lineTo(n,s)),e.stroke(),e.globalAlpha=c}this.fillShadow?.markClean(),super.render(i)}};return t.className="Range",t})();y([ee()],Nc.prototype,"x1",2);y([ee()],Nc.prototype,"y1",2);y([ee()],Nc.prototype,"x2",2);y([ee()],Nc.prototype,"y2",2);y([ee()],Nc.prototype,"startLine",2);y([ee()],Nc.prototype,"endLine",2);y([ee()],Nc.prototype,"horizontal",2);function hhe(t){return t!=null&&Object.hasOwn(t,"toString")&&Gi(t.toString())}function mhe(t){return t!=null&&Object.hasOwn(t,"valueOf")&&Tt(t.valueOf())}function LD(t){return Tt(t)||XC(t)||mhe(t)}function phe(t,i){return t!=null&&(!i||LD(t))}function nR(t){return hhe(t)&&Object.hasOwn(t,"id")?t.id:t}function pW(t){switch(t.type){case"line":return t.value;case"range":return t.range}}function fW(t,i){let e=pW(t);if(e==null)return!1;let n=Di.is(i)||Eo.is(i),r=a=>phe(a,n)&&!isNaN(i.convert(a,{clamp:!0}));if(t.type==="range"){let[a,s]=e;return r(a)&&r(s)}else return r(e)}var fhe={top:{rangeH:0,rangeV:-1,labelH:0,labelV:1},"inside-top":{rangeH:0,rangeV:-1,labelH:0,labelV:1},"top-left":{rangeH:-1,rangeV:-1,labelH:-1,labelV:1},"inside-top-left":{rangeH:-1,rangeV:-1,labelH:-1,labelV:1},left:{rangeH:-1,rangeV:0,labelH:1,labelV:0},"inside-left":{rangeH:-1,rangeV:0,labelH:-1,labelV:0},"bottom-left":{rangeH:-1,rangeV:1,labelH:-1,labelV:-1},"inside-bottom-left":{rangeH:-1,rangeV:1,labelH:-1,labelV:-1},bottom:{rangeH:0,rangeV:1,labelH:0,labelV:-1},"inside-bottom":{rangeH:0,rangeV:1,labelH:0,labelV:-1},"bottom-right":{rangeH:1,rangeV:1,labelH:1,labelV:-1},"inside-bottom-right":{rangeH:1,rangeV:1,labelH:1,labelV:-1},right:{rangeH:1,rangeV:0,labelH:-1,labelV:0},"inside-right":{rangeH:1,rangeV:0,labelH:1,labelV:0},"top-right":{rangeH:1,rangeV:-1,labelH:1,labelV:1},"inside-top-right":{rangeH:1,rangeV:-1,labelH:1,labelV:1},inside:{rangeH:0,rangeV:0,labelH:0,labelV:0}},ghe={top:{rangeH:0,rangeV:-1,labelH:0,labelV:1},"inside-top":{rangeH:0,rangeV:-1,labelH:0,labelV:-1},"top-left":{rangeH:-1,rangeV:-1,labelH:1,labelV:-1},"inside-top-left":{rangeH:-1,rangeV:-1,labelH:1,labelV:-1},left:{rangeH:-1,rangeV:0,labelH:1,labelV:0},"inside-left":{rangeH:-1,rangeV:0,labelH:1,labelV:0},"bottom-left":{rangeH:-1,rangeV:1,labelH:1,labelV:1},"inside-bottom-left":{rangeH:-1,rangeV:1,labelH:1,labelV:1},bottom:{rangeH:0,rangeV:1,labelH:0,labelV:-1},"inside-bottom":{rangeH:0,rangeV:1,labelH:0,labelV:1},"bottom-right":{rangeH:1,rangeV:1,labelH:-1,labelV:1},"inside-bottom-right":{rangeH:1,rangeV:1,labelH:-1,labelV:1},right:{rangeH:1,rangeV:0,labelH:-1,labelV:0},"inside-right":{rangeH:1,rangeV:0,labelH:-1,labelV:0},"top-right":{rangeH:1,rangeV:-1,labelH:-1,labelV:-1},"inside-top-right":{rangeH:-1,rangeV:-1,labelH:-1,labelV:-1},inside:{rangeH:0,rangeV:0,labelH:0,labelV:0}},yhe={top:{rangeH:0,rangeV:-1,labelH:0,labelV:1},"inside-top":{rangeH:0,rangeV:-1,labelH:0,labelV:-1},"top-left":{rangeH:-1,rangeV:-1,labelH:-1,labelV:1},"inside-top-left":{rangeH:-1,rangeV:-1,labelH:-1,labelV:-1},left:{rangeH:-1,rangeV:0,labelH:1,labelV:0},"inside-left":{rangeH:-1,rangeV:0,labelH:-1,labelV:0},"bottom-left":{rangeH:-1,rangeV:1,labelH:-1,labelV:-1},"inside-bottom-left":{rangeH:-1,rangeV:1,labelH:-1,labelV:1},bottom:{rangeH:0,rangeV:1,labelH:0,labelV:-1},"inside-bottom":{rangeH:0,rangeV:1,labelH:0,labelV:1},"bottom-right":{rangeH:1,rangeV:1,labelH:1,labelV:-1},"inside-bottom-right":{rangeH:1,rangeV:1,labelH:1,labelV:1},right:{rangeH:1,rangeV:0,labelH:-1,labelV:0},"inside-right":{rangeH:1,rangeV:0,labelH:1,labelV:0},"top-right":{rangeH:1,rangeV:-1,labelH:1,labelV:1},"inside-top-right":{rangeH:1,rangeV:-1,labelH:1,labelV:-1},inside:{rangeH:0,rangeV:0,labelH:0,labelV:0}},bhe={top:{rangeH:0,rangeV:-1,labelH:0,labelV:1},"inside-top":{rangeH:0,rangeV:-1,labelH:0,labelV:-1},"top-left":{rangeH:-1,rangeV:-1,labelH:1,labelV:-1},"inside-top-left":{rangeH:-1,rangeV:-1,labelH:-1,labelV:-1},left:{rangeH:-1,rangeV:0,labelH:1,labelV:0},"inside-left":{rangeH:-1,rangeV:0,labelH:-1,labelV:0},"bottom-left":{rangeH:-1,rangeV:1,labelH:1,labelV:1},"inside-bottom-left":{rangeH:-1,rangeV:1,labelH:-1,labelV:1},bottom:{rangeH:0,rangeV:1,labelH:0,labelV:-1},"inside-bottom":{rangeH:0,rangeV:1,labelH:0,labelV:1},"bottom-right":{rangeH:1,rangeV:1,labelH:-1,labelV:1},"inside-bottom-right":{rangeH:1,rangeV:1,labelH:1,labelV:1},right:{rangeH:1,rangeV:0,labelH:-1,labelV:0},"inside-right":{rangeH:1,rangeV:0,labelH:1,labelV:0},"top-right":{rangeH:1,rangeV:-1,labelH:-1,labelV:-1},"inside-top-right":{rangeH:1,rangeV:-1,labelH:1,labelV:-1},inside:{rangeH:0,rangeV:0,labelH:0,labelV:0}},Us=class extends tt{constructor(){super(...arguments),this.fontSize=14,this.fontFamily="Verdana, sans-serif",this.padding=5,this.color="rgba(87, 87, 87, 1)"}};y([C],Us.prototype,"enabled",2);y([C],Us.prototype,"text",2);y([C],Us.prototype,"fontStyle",2);y([C],Us.prototype,"fontWeight",2);y([C],Us.prototype,"fontSize",2);y([C],Us.prototype,"fontFamily",2);y([C],Us.prototype,"padding",2);y([C],Us.prototype,"color",2);y([C],Us.prototype,"position",2);y([C],Us.prototype,"rotation",2);y([C],Us.prototype,"parallel",2);var Ba=(()=>{let t=class extends tt{constructor(){super(),this.id=pn(this),this.defaultColorRange=[],this.fill="#c16068",this.label=new Us,this.scale=void 0,this.clippedRange=[-1/0,1/0],this.gridLength=0,this.position="top",this.rangeGroup=new ht({name:this.id}),this.lineGroup=new ht({name:this.id}),this.labelGroup=new ht({name:this.id}),this.crossLineRange=new Nc,this.crossLineLabel=new Mf,this.data=void 0,this.startLine=!1,this.endLine=!1,this._isRange=void 0,this.lineGroup.append(this.crossLineRange),this.labelGroup.append(this.crossLineLabel),this.crossLineRange.pointerEvents=1}get defaultLabelPosition(){return"top"}update(i){let{enabled:e,type:n,data:r,scale:a}=this;if(!a||!e||!i||!fW(this,a)||r==null){this.rangeGroup.visible=!1,this.lineGroup.visible=!1,this.labelGroup.visible=!1;return}this.rangeGroup.visible=i,this.lineGroup.visible=i,this.labelGroup.visible=i,this.updateNodes();let s=n==="range";s!==this._isRange&&(s?this.rangeGroup.appendChild(this.crossLineRange):this.lineGroup.appendChild(this.crossLineRange)),this._isRange=s}calculateLayout(i){if(this.data=void 0,!i)return;let{type:e,range:n,value:r,scale:a,clippedRange:s,strokeWidth:o=0}=this;if(!a)return;let l=a.bandwidth??0,c=a.step??0,d=a instanceof Oc?(c-l)/2:0,[u,h]=er(s);u-=l,h+=l;let m,p,g,b;if(e==="line"){let v=l/2;if(m=a.convert(r)+v,p=NaN,g=a.convert(r,{clamp:!0})+v,b=NaN,g>=h||g<=u)return}else if(n){let[v,_]=n,[w,D]=qG(v,_);if(m=a.convert(v,{alignment:w}),p=a.convert(_,{alignment:D}),g=a.convert(v,{clamp:!0,alignment:w}),b=a.convert(_,{clamp:!0,alignment:D}),g>b&&([g,b]=[b,g],[m,p]=[p,m]),g>=h||b<=u)return;Number.isFinite(m)&&(g-=d),Number.isFinite(p)&&(p+=l,b+=l+d)}else return;g=ov(g,s),b=ov(b,s),m-d>=g&&(m-=d),p+d<=b&&(p+=d),this.startLine=o>0&&m>=g&&m<=g+d,this.endLine=o>0&&p>=b-l-d&&p<=b,this.data=[g,b],this.label.enabled===!1||this.label.text}updateNodes(){let{position:i,data:[e,n]=[0,0],gridLength:r}=this,a=Number.isFinite(n)?n-e:0,s;switch(i){case"top":case"bottom":s=new _e(e,i==="top"?0:-r,a,r);break;case"left":case"right":s=new _e(i==="left"?0:-r,e,r,a)}this.updateRangeNode(s);let{label:o}=this;o.enabled!==!1&&o.text&&(this.updateLabel(),this.positionLabel(s))}updateRangeNode(i){let{type:e,position:n,crossLineRange:r,startLine:a,endLine:s,fill:o,fillOpacity:l,stroke:c,strokeWidth:d,strokeOpacity:u,lineDash:h}=this;r.x1=i.x,r.x2=i.x+i.width,r.y1=i.y,r.y2=i.y+i.height,r.horizontal=n==="top"||n==="bottom",r.startLine=a,r.endLine=s,r.fill=e==="range"?o:void 0,r.fillOpacity=l??1,r.stroke=c,r.strokeWidth=d??1,r.strokeOpacity=u??1,r.lineDash=h}updateLabel(){let{crossLineLabel:i,label:e}=this;e.text&&(i.fontStyle=e.fontStyle,i.fontWeight=e.fontWeight,i.fontSize=e.fontSize,i.fontFamily=e.fontFamily,i.fill=e.color,i.text=e.text)}get anchor(){let i=this.position==="left"||this.position==="right",e=this.type==="range",{position:n=this.defaultLabelPosition}=this.label;return e?(i?yhe:bhe)[n]:(i?fhe:ghe)[n]}positionLabel(i){let{crossLineLabel:e,label:n,anchor:r}=this;e.rotation=Ar(n.rotation??0),e.textBaseline="middle",e.textAlign="center";let a=e.getBBox();if(!a)return;let{width:s,height:o}=a,l=n.padding+s/2,c=n.padding+o/2,d=i.x+i.width*(r.rangeH+1)/2-l*r.labelH,u=i.y+i.height*(r.rangeV+1)/2-c*r.labelV;e.x=d,e.y=u,e.rotationCenterX=d,e.rotationCenterY=u}computeLabelSize(){let{label:i}=this;if(i.enabled===!1||!i.text)return;let e=new Mf;e.fontFamily=i.fontFamily,e.fontSize=i.fontSize,e.fontStyle=i.fontStyle,e.fontWeight=i.fontWeight,e.text=i.text,e.rotation=Ar(i.rotation??0),e.textBaseline="middle",e.textAlign="center";let n=e.getBBox();if(!n)return;let{width:r,height:a}=n;return{width:r,height:a}}calculatePadding(i){let{label:e,anchor:n}=this,r=this.computeLabelSize();if(!r)return;let{width:a,height:s}=r,o=e.padding+a,l=e.padding+s,c=this.position==="left"||this.position==="right";c&&(n.rangeH===-1&&n.labelH===1?i.left=Math.max(i.left??0,o):n.rangeH===1&&n.labelH===-1&&(i.right=Math.max(i.right??0,o))),c||(n.rangeV===-1&&n.labelV===1?i.top=Math.max(i.top??0,l):n.rangeV===1&&n.labelV===-1&&(i.bottom=Math.max(i.bottom??0,l)))}};return t.className="CrossLine",t})();y([C],Ba.prototype,"enabled",2);y([C],Ba.prototype,"type",2);y([C],Ba.prototype,"range",2);y([C],Ba.prototype,"value",2);y([C],Ba.prototype,"defaultColorRange",2);y([C],Ba.prototype,"fill",2);y([C],Ba.prototype,"fillOpacity",2);y([C],Ba.prototype,"stroke",2);y([C],Ba.prototype,"strokeWidth",2);y([C],Ba.prototype,"strokeOpacity",2);y([C],Ba.prototype,"lineDash",2);y([C],Ba.prototype,"label",2);var ND=class{constructor(){this.enabled=!0,this.width=1,this.style=[{fill:void 0,fillOpacity:1,stroke:void 0,strokeWidth:void 0,lineDash:[]}]}};y([C],ND.prototype,"enabled",2);y([C],ND.prototype,"width",2);y([C],ND.prototype,"style",2);var $h=class extends tt{};y([C],$h.prototype,"placement",2);y([C],$h.prototype,"step",2);y([C],$h.prototype,"values",2);y([C],$h.prototype,"minSpacing",2);y([C],$h.prototype,"maxSpacing",2);var Ui=class extends tt{constructor(){super(...arguments),this.enabled=!0,this.border=new Wh,this.wrapping="never",this.truncate=!1,this.spacing=5,this.color="#575757",this.avoidCollisions=!0,this.mirrored=!1,this.parallel=!1,this._formatters={"component:year":void 0,"component:month":void 0,"component:day":void 0,"component:none":void 0,"long:year":void 0,"long:month":void 0,"long:day":void 0,"long:none":void 0}}getSideFlag(){return this.mirrored?1:-1}formatValue(t,i,e,n={dateStyle:"long",truncateDate:void 0}){let{formatter:r,format:a}=this,{type:s,value:o,domain:l,boundSeries:c}=i,d=i.type==="number"?i.fractionDigits:void 0,u=i.type==="date"?i.unit:void 0,h;if(r!=null){let m=i.type==="date"?i.step:void 0;h=t(r,{value:o,index:e,domain:l,fractionDigits:d,unit:u,step:m,boundSeries:c})}if(a!=null&&h==null){let{specifier:m,dateStyle:p,truncateDate:g}=n,b=`${p}:${g??"none"}`,v=this._formatters[b],_=Tf.mergeSpecifiers(m,a);(v==null||v.type!==s||v.unit!==u||!Ln(v.mergedFormat,_))&&(v={type:s,mergedFormat:_,unit:u,formatter:Tf.getFormatter(s,_,u,p,n)},this._formatters[b]=v),h=v.formatter?.(o,d)}return h!=null?String(h):void 0}};y([C],Ui.prototype,"enabled",2);y([C],Ui.prototype,"border",2);y([C],Ui.prototype,"cornerRadius",2);y([C],Ui.prototype,"fill",2);y([C],Ui.prototype,"fillOpacity",2);y([C],Ui.prototype,"fontStyle",2);y([C],Ui.prototype,"fontWeight",2);y([C],Ui.prototype,"fontSize",2);y([C],Ui.prototype,"fontFamily",2);y([C],Ui.prototype,"wrapping",2);y([C],Ui.prototype,"truncate",2);y([C],Ui.prototype,"spacing",2);y([C],Ui.prototype,"minSpacing",2);y([C],Ui.prototype,"color",2);y([C],Ui.prototype,"rotation",2);y([C],Ui.prototype,"avoidCollisions",2);y([C],Ui.prototype,"mirrored",2);y([C],Ui.prototype,"padding",2);y([C],Ui.prototype,"parallel",2);y([C],Ui.prototype,"itemStyler",2);y([C],Ui.prototype,"formatter",2);y([C],Ui.prototype,"format",2);var PD=class{constructor(){this.enabled=!0,this.width=1,this.stroke=void 0}};y([C],PD.prototype,"enabled",2);y([C],PD.prototype,"width",2);y([C],PD.prototype,"stroke",2);var Yh=class extends tt{constructor(){super(...arguments),this.enabled=!0,this.width=1,this.size=6}};y([C],Yh.prototype,"enabled",2);y([C],Yh.prototype,"width",2);y([C],Yh.prototype,"size",2);y([C],Yh.prototype,"stroke",2);var Lo=class extends tt{constructor(){super(...arguments),this.caption=new an,this.enabled=!1,this.spacing=an.SMALL_PADDING,this.fontSize=10,this.fontFamily="sans-serif",this.wrapping="always"}};y([C],Lo.prototype,"enabled",2);y([C],Lo.prototype,"text",2);y([C],Lo.prototype,"spacing",2);y([C],Lo.prototype,"fontStyle",2);y([C],Lo.prototype,"fontWeight",2);y([C],Lo.prototype,"fontSize",2);y([C],Lo.prototype,"fontFamily",2);y([C],Lo.prototype,"color",2);y([C],Lo.prototype,"wrapping",2);y([C],Lo.prototype,"formatter",2);var gW=(t=>(t[t.TickAndDomain=0]="TickAndDomain",t[t.TicksOnly=1]="TicksOnly",t[t.Off=2]="Off",t))(gW||{});function yW(t){let[i,e]=er(t.range),n=Math.floor(i),r=Math.ceil(e);return{min:n,max:r,visible:n!==r}}var rR=Math.PI*2,vhe=rR/2;function _he(t,i){return Math.abs(i-t)<vhe?i:t>i?i+rR:i-rR}function bW(t){let{min:i,max:e}=t,n=l=>l<i||l>e;return{tick:{fromFn(l,c,d){let{x1:u,x2:h,y1:m,y2:p}=l,g=l.opacity;return(d==="added"||n(c.offset))&&({x1:u,x2:h,y1:m,y2:p}=c,g=0),{x1:u,x2:h,y1:m,y2:p,opacity:g,phase:Ao[d]}},toFn(l,c,d){let{x1:u,x2:h,y1:m,y2:p}=c,g=1;return d==="removed"&&(g=0),{x1:u,x2:h,y1:m,y2:p,opacity:g}},applyFn(l,c){l.setProperties(c),l.visible=!n(l.y)}},line:{fromFn(l,c){let{x1:d,x2:u,y1:h,y2:m}=l.previousDatum??c;return{x1:d,x2:u,y1:h,y2:m,phase:Ao.updated}},toFn(l,c){let{x1:d,x2:u,y1:h,y2:m}=c;return{x1:d,x2:u,y1:h,y2:m}}},label:{fromFn(l,c,d){let u=l.previousDatum??c,{x:h,y:m,rotationCenterX:p,rotationCenterY:g,rotation:b}=u,v=l.opacity;return d==="removed"||n(u.y)?b=c.rotation:(d==="added"||n(l.datum.y))&&({x:h,y:m,rotationCenterX:p,rotationCenterY:g,rotation:b}=c,v=0),{x:h,y:m,rotationCenterX:p,rotationCenterY:g,rotation:b,opacity:v,phase:Ao[d]}},toFn(l,c,d){let{x:u,y:h,rotationCenterX:m,rotationCenterY:p}=c,g=0,b=1;return d==="added"?g=c.rotation:d==="removed"?(b=0,g=c.rotation):g=_he(l.previousDatum?.rotation??c.rotation,c.rotation),{x:u,y:h,rotationCenterX:m,rotationCenterY:p,rotation:g,opacity:b,finish:{rotation:c.rotation}}}},group:{fromFn(l,c){let{translationX:d,translationY:u}=l;return{translationX:d,translationY:u,phase:Ao.updated}},toFn(l,c){let{translationX:d,translationY:u}=c;return{translationX:d,translationY:u}}}}}function vW(){return(t,i)=>({translationX:i.translationX,translationY:i.translationY})}function Jw(){return(t,i)=>({x:i.x,y:i.y,rotationCenterX:i.rotationCenterX,rotationCenterY:i.rotationCenterY,rotation:i.rotation})}function aR(){return(t,i)=>{let{x1:e,x2:n,y1:r,y2:a}=i;return{x1:e,x2:n,y1:r,y2:a}}}function _W(){return(t,i)=>{let{x1:e,x2:n,y1:r,y2:a}=i;return{x:e,y:r,width:n-e,height:a-r}}}var xW=(t=>(t[t.TickLines=0]="TickLines",t[t.AxisLine=1]="AxisLine",t[t.TickLabels=2]="TickLabels",t))(xW||{});function DH(t,i){return t.domain===i.domain&&t.rangeExtent===i.rangeExtent&&t.nice===i.nice&&t.gridLength===i.gridLength&&t.visibleRange[0]===i.visibleRange[0]&&t.visibleRange[1]===i.visibleRange[1]&&t.initialPrimaryTickCount?.unzoomed===i.initialPrimaryTickCount?.unzoomed&&t.initialPrimaryTickCount?.zoomed===i.initialPrimaryTickCount?.zoomed}var Kh=(()=>{let t=class CW{constructor(e,n){this.moduleCtx=e,this.scale=n,this.id=pn(this),this._crossLines=[],this.nice=!0,this.reverse=!1,this.keys=[],this.interval=new $h,this.dataDomain={domain:[],clipped:!1},this.title=new Lo,this.gridLength=0,this.gridPadding=0,this.seriesAreaPadding=0,this.layoutConstraints={stacked:!0,align:"start",width:100,unit:"percent"},this.boundSeries=[],this.includeInvisibleDomains=!1,this.interactionEnabled=!0,this.axisGroup=new ht({name:`${this.id}-axis`}),this.tickLineGroup=this.axisGroup.appendChild(new af({name:`${this.id}-Axis-tick-lines`,zIndex:0})),this.tickLabelGroup=this.axisGroup.appendChild(new af({name:`${this.id}-Axis-tick-labels`,zIndex:2})),this.labelGroup=new ht({name:`${this.id}-Labels`,zIndex:11}),this.gridGroup=new Wr({name:`${this.id}-Axis-grid`,zIndex:2}),this.gridFillGroup=this.gridGroup.appendChild(new ht({name:`${this.id}-gridFills`})),this.gridLineGroup=this.gridGroup.appendChild(new ht({name:`${this.id}-gridLines`})),this.crossLineRangeGroup=new af({name:`${this.id}-CrossLines-Range`,zIndex:6}),this.crossLineLineGroup=new af({name:`${this.id}-CrossLines-Line`,zIndex:10}),this.crossLineLabelGroup=new af({name:`${this.id}-CrossLines-Label`,zIndex:15}),this.tickLabelGroupSelection=$r.select(this.tickLabelGroup,Mf,!1),this.line=new PD,this.tick=new Yh,this.gridLine=new ND,this.label=this.createLabel(),this.defaultTickMinSpacing=CW.defaultTickMinSpacing,this.translation={x:0,y:0},this.layout={label:{fractionDigits:0,spacing:this.label.spacing,format:this.label.format}},this.axisContext=void 0,this.cleanup=new pt,this.isHovering=!1,this.range=[0,1],this.visibleRange=[0,1],this.animatable=!0,this.tickLayout=void 0,this.formatterBoundSeries=new CU(()=>{let{direction:r,boundSeries:a}=this;return Cc(a.flatMap(s=>s.getFormatterContext(r)))}),this.moduleMap=new hO,this.range=this.scale.range.slice(),this.crossLines.forEach(r=>this.initCrossLine(r)),this.cleanup.register(this.moduleCtx.widgets.containerWidget.addListener("mousemove",r=>this.onMouseMove(r)))}set crossLines(e){let{CrossLineConstructor:n}=this.constructor;this._crossLines.forEach(r=>this.detachCrossLine(r)),this._crossLines=e.map(r=>{let a=new n;return a.set(r),a}),this._crossLines.forEach(r=>{this.attachCrossLine(r),this.initCrossLine(r)})}get crossLines(){return this._crossLines}get type(){return this.constructor.type??""}get primaryLabel(){}get primaryTick(){}isCategoryLike(){return!1}resetAnimation(e){}onMouseMove(e){let r=this.tickLabelGroup.pickNode(e.currentX,e.currentY)?.datum,{textUntruncated:a=void 0}=r??{};a!=null?(this.moduleCtx.tooltipManager.updateTooltip(this.id,{canvasX:e.currentX,canvasY:e.currentY,showArrow:!1},[{type:"structured",title:a}]),this.isHovering=!0):this.isHovering&&(this.moduleCtx.tooltipManager.removeTooltip(this.id),this.isHovering=!1)}attachCrossLine(e){this.crossLineRangeGroup.appendChild(e.rangeGroup),this.crossLineLineGroup.appendChild(e.lineGroup),this.crossLineLabelGroup.appendChild(e.labelGroup)}detachCrossLine(e){this.crossLineRangeGroup.removeChild(e.rangeGroup),this.crossLineLineGroup.removeChild(e.lineGroup),this.crossLineLabelGroup.removeChild(e.labelGroup)}destroy(){this.moduleMap.destroy(),this.cleanup.flush()}setScaleRange(e){let{range:n,scale:r}=this,a=(n[1]-n[0])/(e[1]-e[0]),s=a*e[0],o=n[0]-s;r.range=[o,o+a]}updateScale(){let{range:[e,n]}=this;this.setScaleRange(this.visibleRange),this.crossLines.forEach(r=>{r.clippedRange=[e,n]})}setCrossLinesVisible(e){this.crossLineRangeGroup.visible=e,this.crossLineLineGroup.visible=e,this.crossLineLabelGroup.visible=e}attachAxis(e){e.gridNode.appendChild(this.gridGroup),e.axisNode.appendChild(this.axisGroup),e.labelNode.appendChild(this.labelGroup),e.crossLineRangeNode.appendChild(this.crossLineRangeGroup),e.crossLineLineNode.appendChild(this.crossLineLineGroup),e.crossLineLabelNode.appendChild(this.crossLineLabelGroup)}detachAxis(e){e.gridNode.removeChild(this.gridGroup),e.axisNode.removeChild(this.axisGroup),e.labelNode.removeChild(this.labelGroup),e.crossLineRangeNode.removeChild(this.crossLineRangeGroup),e.crossLineLineNode.removeChild(this.crossLineLineGroup),e.crossLineLabelNode.removeChild(this.crossLineLabelGroup)}attachLabel(e){this.labelGroup.append(e)}inRange(e,n=0){let[r,a]=er(this.range);return e>=r-n&&e<=a+n}getRangeOverflow(e){let{range:n,visibleRange:r}=this,a=(n[1]-n[0])/(r[1]-r[0]),[s,o]=er([n[0]-a*r[0],n[0]-a*r[0]+a]);return e<s?e-s:e>o?e-o:0}createDatumFormatter(e,n){}onGridLengthChange(e,n){n^e&&this.onGridVisibilityChange(),this.crossLines.forEach(r=>this.initCrossLine(r))}onGridVisibilityChange(){}createLabel(){return new Ui}update(){this.formatterBoundSeries.clear(),this.updatePosition(),this.updateSelections(),this.tickLineGroup.visible=this.tick.enabled,this.gridLineGroup.visible=this.gridLine.enabled,this.tickLabelGroup.visible=this.label.enabled,this.updateLabels(),this.updateCrossLines()}getLabelStyles(e,n,r=this.label){let a={border:r.border,color:r.color,cornerRadius:r.cornerRadius,fill:r.fill,fillOpacity:r.fillOpacity,fontFamily:r.fontFamily,fontSize:r.fontSize,fontStyle:r.fontStyle,fontWeight:r.fontWeight,padding:r.padding,spacing:r.spacing},s;r.itemStyler&&(s=this.cachedCallWithContext(r.itemStyler,f(f({},e),a)));let o=Xt(s,n,a);return{border:o.border,color:o.color,cornerRadius:o.cornerRadius,fill:o.fill,fillOpacity:o.fillOpacity,fontFamily:o.fontFamily,fontSize:o.fontSize,fontStyle:o.fontStyle,fontWeight:o.fontWeight,padding:o.padding,spacing:o.spacing}}getTickSize(e=this.tick){return e.enabled?e.size:0}processData(){this.invalidateLayoutCache();let{includeInvisibleDomains:e,boundSeries:n,direction:r}=this,s=(e?n:n.filter(o=>o.isEnabled())).map(o=>o.getDomain(r));this.setDomains(...s)}setDomains(...e){let n,r;e.length>0?{domain:n,animatable:r}=this.scale.normalizeDomains(...e):(n=[],r=!0),this.dataDomain=this.normaliseDataDomain(n),this.reverse&&this.dataDomain.domain.reverse(),this.animatable=r}calculateDomain(e){let{dataDomain:{domain:n},range:r,nice:a,scale:s,gridLength:o}=this,l=Rf(r),c=[0,1];this.updateScale();let{unzoomedTickLayoutCache:d}=this,u;if(d==null||!DH(d,{domain:n,rangeExtent:l,nice:a,gridLength:o,visibleRange:c,initialPrimaryTickCount:e})){let h=s.range;this.setScaleRange([0,1]);let m=a?0:2;u=this.calculateTickLayout(n,m,[0,1],e),s.range=h,this.unzoomedTickLayoutCache={domain:n,rangeExtent:l,nice:a,gridLength:o,visibleRange:c,initialPrimaryTickCount:e,tickLayout:u}}else u=d.tickLayout;return this.updateScale(),s.domain=u.niceDomain,{unzoomedTickLayout:u,domain:s.domain}}calculateLayout(e,n){this.chartLayout=n;let{visibleRange:r,nice:a}=this,s=r[0]===0&&r[1]===1,{unzoomedTickLayout:o,domain:l}=this.calculateDomain(e),c;if(s)c=o;else{let{range:g,gridLength:b}=this,v=Rf(g),_=a?1:2,{tickLayoutCache:w}=this;w==null||!DH(w,{domain:l,rangeExtent:v,nice:a,gridLength:b,visibleRange:r,initialPrimaryTickCount:e})?(c=this.calculateTickLayout(l,_,r,e),this.tickLayoutCache={domain:l,rangeExtent:v,nice:a,gridLength:b,visibleRange:r,initialPrimaryTickCount:e,tickLayout:c}):c=w.tickLayout}let{rawTickCount:d=0,fractionDigits:u,bbox:h}=c,m=o.rawTickCount??0,p=d!==0&&m!==0?{zoomed:d,unzoomed:m}:void 0;return this.tickLayout=c.layout,this.layout.label={fractionDigits:u,spacing:this.label.spacing,format:this.label.format},this.layoutCrossLines(),{primaryTickCount:p,bbox:h}}invalidateLayoutCache(){this.unzoomedTickLayoutCache=void 0,this.tickLayoutCache=void 0,this.tickLayout=void 0}updateCrossLines(){let e=this.hasDefinedDomain()||this.hasVisibleSeries();this.crossLines.forEach(n=>{n.update(e)})}updatePosition(){let{crossLineRangeGroup:e,crossLineLineGroup:n,crossLineLabelGroup:r,gridGroup:a,translation:s}=this,o=Math.floor(s.x),l=Math.floor(s.y);a.setProperties({translationX:o,translationY:l}),e.setProperties({translationX:o,translationY:l}),n.setProperties({translationX:o,translationY:l}),r.setProperties({translationX:o,translationY:l})}tickFormatter(e,n,r,a,s,o="long"){let{moduleCtx:l,label:c}=this,{formatManager:d}=l,u=r?this.primaryLabel:void 0,h=this.tickFormatParams(e,n,a,s),m=this.formatterBoundSeries.get(),p,g,b;if(h.type==="number")p=h.fractionDigits;else if(h.type==="date"){let{unit:E,step:A,epoch:N}=h;g={unit:E,step:A,epoch:N},b=h.truncateDate}let v=this.uncachedCallWithContext.bind(this),_={datum:void 0,seriesId:void 0,legendItemName:void 0,key:void 0,source:"axis-label",property:this.direction,domain:e,boundSeries:m},w=u??c,D=r?c.format:void 0,I={specifier:Tf.mergeSpecifiers(u?.format,c.format),truncateDate:b};return(E,A)=>{let N=this.datumFormatParams(E,_,p,g,o);return N.value=E,w.formatValue(v,N,A,{specifier:D,dateStyle:o,truncateDate:b})??d.format(v,N,I)??d.defaultFormat(N,I)}}formatDatum(e,n,r,a,s,o,l,c,d,u){if(n==null)return"";let{moduleCtx:h,direction:m,dataDomain:p}=this;c??(c=p.domain);let{formatManager:g}=h,b=this.formatterBoundSeries.get(),v;switch(r){case"crosshair":case"annotation-label":v=this.layout.label.fractionDigits+1;break;case"series-label":v=2;break;case"tooltip":v=3;break;case"legend-label":v=void 0;break}let _=this.datumFormatParams(n,{source:r,datum:o,seriesId:a,legendItemName:s,key:l,property:m,domain:c,boundSeries:b},v,void 0,"long"),{type:w,value:D}=_,I=this.createCallWithContext(e),E=d?.formatValue(I,w,D,u??_)??g.format(I,_)??this.label.formatValue(I,_,NaN)??g.defaultFormat(_);return String(E)}getBBox(){return this.axisGroup.getBBox()}initCrossLine(e){e.scale=this.scale,e.gridLength=this.gridLength}hasVisibleSeries(){return this.boundSeries.some(e=>e.isEnabled())}clipTickLines(e,n,r,a){this.tickLineGroup.setClipRect(new _e(e,n,r,a))}clipGrid(e,n,r,a){this.gridGroup.setClipRect(new _e(e,n,r,a))}getTitleFormatterParams(e){let{direction:n}=this,r=this.formatterBoundSeries.get();return{domain:e,direction:n,boundSeries:r,defaultValue:this.title?.text}}normaliseDataDomain(e){return{domain:[...e],clipped:!1}}getLayoutState(){return f({id:this.id,rect:this.getBBox(),gridPadding:this.gridPadding,seriesAreaPadding:this.seriesAreaPadding,tickSize:this.getTickSize(),direction:this.direction,domain:this.dataDomain.domain,scale:this.scale},this.layout)}getModuleMap(){return this.moduleMap}createModuleContext(){return this.axisContext??(this.axisContext=this.createAxisContext()),S(f({},this.moduleCtx),{parent:this.axisContext})}createAxisContext(){let{scale:e}=this;return{axisId:this.id,scale:this.scale,direction:this.direction,continuous:Di.is(e)||Eo.is(e),getCanvasBounds:()=>rn.toCanvas(this.axisGroup),seriesKeyProperties:()=>this.boundSeries.reduce((n,r)=>(r.getKeyProperties(this.direction).forEach(s=>n.add(s)),n),new Set),seriesIds:()=>this.boundSeries.map(n=>n.id),scaleInvert:n=>e.invert(n,!0),scaleInvertNearest:n=>e.invert(n,!0),formatScaleValue:(n,r,a)=>this.formatDatum(void 0,n,r,void 0,void 0,void 0,void 0,void 0,a),attachLabel:n=>this.attachLabel(n),inRange:(n,r)=>this.inRange(n,r),getRangeOverflow:n=>this.getRangeOverflow(n),pickBand:n=>this.pickBand(n)}}pickBand(e){if(!Oc.is(this.scale))return;let{scale:n,range:r}=this,a=n.invert(this.isVertical()?e.y:e.x,!0),s=n.bandwidth??0,l=((n.step??0)-s)/2,c=n.convert(a),d=c-l,u=c+s+l;return{id:this.id,value:a,band:[ov(d,r),ov(u,r)],position:c}}isVertical(){return this.direction==="y"}isReversed(){return this.reverse}cachedCallWithContext(e,...n){let{callbackCache:r,chartService:a}=this.moduleCtx;return r.call([this,a],e,...n)}uncachedCallWithContext(e,...n){let{chartService:r}=this.moduleCtx;return Ro([this,r],e,...n)}createCallWithContext(e){let{chartService:n}=this.moduleCtx;return(r,...a)=>Ro([e,this,n],r,...a)}};return t.defaultTickMinSpacing=50,t.CrossLineConstructor=Ba,t})();y([C],Kh.prototype,"nice",2);y([C],Kh.prototype,"reverse",2);y([C],Kh.prototype,"keys",2);y([C],Kh.prototype,"interval",2);y([C],Kh.prototype,"title",2);y([eu((t,i,e)=>t.onGridLengthChange(i,e))],Kh.prototype,"gridLength",2);var mO=Kh;function os(t){return t instanceof Date?t.getTime():t}function Fv(t){return t<_f?"millisecond":t<Vd?"second":t<Ph?"minute":t<Ph*23?"hour":t<28*Uh?"day":t<cv?"month":"year"}function pO(t){if(t.length===0)return"millisecond";if(t.length===1)return FD(t[0]);let i=1/0;for(let e=1;e<t.length;e++)i=Math.min(i,Math.abs(t[e].valueOf()-t[e-1].valueOf()));return Fv(i)}function FD(t){return Os("second",t)<t?"millisecond":Os("minute",t)<t?"second":Os("hour",t)<t?"minute":Os("day",t)<t?"hour":Os("month",t)<t?"day":Os("year",t)<t?"month":"year"}function fO(t){let[i,e]=t.length===0?[0,0]:er([t[0].valueOf(),t[t.length-1].valueOf()]),n=new Date(i).getFullYear(),r=new Date(e).getFullYear();if(n!==r)return;let a=new Date(i).getMonth(),s=new Date(e).getMonth();if(a!==s)return"year";let o=new Date(i).getDate(),l=new Date(e).getDate();return o!==l?"month":"day"}function wW(t,i,e){if(e==null||e[0]===0&&e[1]===1)return{ticks:t,count:t.length,firstTickIndex:0};let n=Ae(0,Math.floor(e[0]*t.length),t.length),r=Ae(0,Math.ceil(e[1]*t.length),t.length),a=i?t.length-r:n,s=i?t.length-n:r;return{ticks:t.slice(a,s),count:t.length,firstTickIndex:a}}var zf=class DW extends Oc{constructor(){super(...arguments),this.type="category",this.defaultTickCount=0,this.index=new Map,this.indexInitialized=!1,this._domain=[]}static is(i){return i instanceof DW}set domain(i){this._domain!==i&&(this.invalid=!0,this._domain=i,this.index.clear(),this.indexInitialized=!1)}get domain(){return this._domain}get bands(){return this._domain}normalizeDomains(...i){let e,n=new Set,r=!0;for(let a of i)n.has(a)||(n.add(a),e==null?e=SH(a):(r&&(r=xhe(a,e)),e=SH([...e,...a])));return e??(e=[]),{domain:e,animatable:r}}toDomain(i){}invert(i,e=!1){this.refresh();let n=e?this.bandwidth/2:0,r=this.invertNearestIndex(Math.max(0,i-n));return e||i===this.ordinalRange(r)?this.domain[r]:void 0}ticks(i,e=this.domain,n){let{bands:r}=this,{tickCount:a}=i;if(a===0){let g=r.length>1?1:0;return{ticks:[r[g]],count:void 0,firstTickIndex:g}}let s=a!=null&&a!==0?r.length/a|0:1;if(s=Q1(s),s<=1)return wW(e,!1,n);a=r.length/s|0;let o=s*a,l=Q1((r.length-o)/2|0),c=Ae(0,Math.floor((n?.[0]??0)*r.length),r.length),d=Ae(0,Math.ceil((n?.[1]??1)*r.length),r.length),u=Math.floor((c-l)/s)*s+l,h=Math.ceil((d-l)/s)*s+l,m=[];for(let g=u;g<h;g+=s)g>=0&&g<r.length&&m.push(r[g]);let p=m.length>0?this.findIndex(m[0]):void 0;return p!=null&&(p=Math.floor((p-l)/s)),{ticks:m,count:void 0,firstTickIndex:p}}findIndex(i){let{index:e,indexInitialized:n}=this;if(!n){let{domain:r}=this;for(let a=0;a<r.length;a++)e.set(os(r[a]),a);this.indexInitialized=!0}return e.get(os(i))}};function SH(t){let i,e=new Set;for(let n of t){let r=os(n),a=e.size;e.add(r),e.size!==a?i?.push(n):i??(i=t.slice(0,e.size))}return i??t}function xhe(t,i){let e=-1;for(let n of t){let r=i.indexOf(n);if(r===-1)e=1/0;else{if(r<=e)return!1;e=r}}return!0}function gO(t,i){return t.valueOf()-i.valueOf()}function Che(t){let i=NaN,e=[];for(let n of t){let r=n.valueOf();i!==r&&e.push(n),i=r}return e}function sR(t){let i=t.slice().sort(gO);return yO(i)==null?Che(i):i}function yO(t){if(t.length===0)return 1;let i=Number(t[t.length-1])>Number(t[0])?1:-1,e=-1/0*i;for(let n of t){let r=n.valueOf();if(Math.sign(r-e)!==i)return;e=r}return i}var Ji=(t,i)=>({duration:ga(t)*i,timeInterval:t,step:i}),oR=[Ji({unit:"second"},1),Ji({unit:"second"},5),Ji({unit:"second"},15),Ji({unit:"second"},30),Ji({unit:"minute"},1),Ji({unit:"minute"},5),Ji({unit:"minute"},15),Ji({unit:"minute"},30),Ji({unit:"hour"},1),Ji({unit:"hour"},3),Ji({unit:"hour"},6),Ji({unit:"hour"},12),Ji({unit:"day"},1),Ji({unit:"day"},2),Ji({unit:"day",step:7},1),Ji({unit:"day",step:7},2),Ji({unit:"day",step:7},3),Ji({unit:"month"},1),Ji({unit:"month"},2),Ji({unit:"month"},3),Ji({unit:"month"},4),Ji({unit:"month"},6),Ji({unit:"year"},1)],SW=[1,2,5,10];function MH(t,i){return Math.abs(Math.round(t)-t)<i}function MW(t,i,e){return Math.abs(i-t)>=e?Math.abs(i-t)/e+1:1}function Vv(t,i,e,n,r,a){if(t===i)return{ticks:[t],count:1,firstTickIndex:0};if(e<2)return{ticks:[t,i],count:2,firstTickIndex:0};let s=hv(t,i,e,n,r);if(!Number.isFinite(s))return{ticks:[],count:0,firstTickIndex:void 0};let o=t,l=i;if(MH(o/s,1e-12)||(o=Math.ceil(o/s)*s),MH(l/s,1e-12)||(l=Math.floor(l/s)*s),a!=null){let u=l-o,h=i-t,m=t+h*a[0],p=t+h*a[1];a=[(m-o)/u,(p-o)/u]}let{ticks:c}=BD(o,l,s,a),d=c.at(0);return{ticks:c,count:MW(o,l,s),firstTickIndex:d==null?void 0:Math.round((d-o)/s)}}var whe=Math.floor(2*dW/cO*10)/10;function IH({timeInterval:t,step:i}){let e=ga(t)*i,n=uv(t),r=n?ga(n):void 0;return e<=(r??1/0)*whe}function IW(t,{weekStart:i}){if(t.unit==="day"&&t.step===7)return i}function VD(t,i,e,n,r,{weekStart:a,primaryOnly:s=!1,targetInterval:o}){if(e<=0)return;let l=o??Math.abs(i-t)/Math.max(e,1),c=oR.findLast(m=>(!s||IH(m))&&l>m.duration),d=oR.find(m=>(!s||IH(m))&&l<=m.duration);if(c==null)return{unit:"millisecond",step:Math.max(hv(t,i,e,n,r),1)};if(d==null)return{unit:"year",step:o==null?hv(t/cv,i/cv,e,n,r):1};let{timeInterval:u,step:h}=l-c.duration<d.duration-l?c:d;return{unit:u.unit,step:Zd(u)*h,epoch:IW(u,{weekStart:a})}}function hv(t,i,e,n=0,r=1/0){if(t===i)return Ae(1,n,r);if(e<1)return NaN;let a=Math.abs(i-t),s=10**Math.floor(Math.log10(a/e)),o=NaN,l=1/0,c=!1;for(let d of SW){let u=Math.ceil(a/(d*s)),h=u>=n&&u<=r;if(c&&!h)continue;let m=Math.abs(u-e);(l>m||c!==h)&&(c||(c=h),l=m,o=d)}return o*s}function kH(t){for(let i=t.length-1;i>=0;i-=1)if(t[i]!=="0")return i+1;return 0}function kW(t,i){let e=Rb(i??",f");if(e==null)return;(e.precision==null||isNaN(e.precision))&&(!e.type||"eEFgGnprs".includes(e.type)?e.precision=Math.max(...t.map(r=>{if(!Number.isFinite(r))return 0;let[a,s]=r.toExponential((e.type?6:12)-1).split(/[.e]/g);return(a!=="1"&&a!=="-1"?1:0)+kH(s)+1})):"f%".includes(e.type)&&(e.precision=Math.max(...t.map(r=>{if(!Number.isFinite(r)||r===0)return 0;let a=Math.floor(Math.log10(Math.abs(r))),s=e.type?6:12,o=r.toExponential(s-1).split(/[.e]/g)[1],l=kH(o);return Math.max(0,l-a)}))));let n=lw(e);return r=>n(Number(r))}function BD(t,i,e,n){if(!Number.isFinite(e)||e<=0)return{ticks:[],count:0,firstTickIndex:void 0};if(t===i)return{ticks:[t],count:1,firstTickIndex:0};let r=10**Zp(e),a=Math.min(t,i),s=Math.max(t,i),o,l;if(n!=null&&(n[0]!==0||n[1]!==1)){let u=i-t,h=t+u*n[0],m=i-u*(1-n[1]);o=Math.min(h,m),l=Math.max(h,m)}else o=a,l=s;o=Math.floor(o*r)/r,l=Math.ceil(l*r)/r;let c=[];for(let u=0;;u+=1){let h=Math.round((a+e*u)*r)/r;if(h>s)break;h>=o&&h<=l&&c.push(h)}let d=c.at(0);return{ticks:c,count:MW(a,s,e),firstTickIndex:d==null?void 0:Math.round((d-a)/e)}}function Nf(t,i){return t>=i?(j.warnOnce("the configured interval results in more than 1 item per pixel, ignoring. Supply a larger interval or omit this configuration"),!0):!1}function AW(t,i){let e=Math.abs(i-t),n=10**Math.floor(Math.log10(e)),r=1/0,a=[t,i];for(let s of SW){let o=s*n,l=Math.floor(t/o)*o,c=Math.ceil(i/o)*o,d=1-e/Math.abs(c-l);r>d&&(r=d,a=[l,c])}return a}function EW(t,i,e,n,r,a){if(t<=0)return{minTickCount:0,maxTickCount:0,tickCount:0};a=Math.max(a,t/(r+1)),e??(e=a),n??(n=t),e>n&&(e===a?e=n:n=e),e=Math.max(e,1);let s=Math.max(1,Math.floor(t/(i*e))),o=Math.min(s,Math.ceil(t/(i*n))),l=Ae(o,Math.floor(r/i),s);return{minTickCount:o,maxTickCount:s,tickCount:l}}var jD=new Date(1970,0,4),bf=class TW extends Di{constructor(){super([],[0,1]),this.type="time"}static is(i){return i instanceof TW}toDomain(i){return new Date(i)}convert(i,e){return super.convert(i?.valueOf()??NaN,e)}invert(i){return new Date(super.invert(i))}niceDomain(i,e=this.domain){if(e.length<2)return[];let[n,r]=e,a=4,s=this.getPixelRange();for(let o=0;o<a;o++){let[l,c]=She(n,r,i,s);if(os(n)===os(l)&&os(r)===os(c))break;n=l,r=c}return[n,r]}ticks(i,e=this.domain,n=[0,1],{extend:r=!1}={}){let{nice:a,interval:s,tickCount:o=Di.defaultTickCount,minTickCount:l,maxTickCount:c}=i;if(e.length<2)return;let d=e.map(os),u=d[0],h=d[d.length-1];if(s!=null){let b=this.getPixelRange();return{ticks:bO({start:u,stop:h,interval:s,availableRange:b,visibleRange:n,extend:r})??Dhe({start:u,stop:h,tickCount:o,minTickCount:l,maxTickCount:c,visibleRange:n,extend:r}),count:void 0}}else{if(a&&o===2)return{ticks:e,count:void 0};if(a&&o===1)return{ticks:e.slice(0,1),count:void 0}}let m=VD(u,h,o,l,c,{weekStart:jD});if(m==null)return;let p=js(m,new Date(u),new Date(h),{visibleRange:n,extend:r}),g=OD(m,new Date(u),new Date(h),{visibleRange:n,extend:r});return{ticks:p,count:void 0,firstTickIndex:g,timeInterval:m}}};function Dhe({start:t,stop:i,tickCount:e,minTickCount:n,maxTickCount:r,visibleRange:a,extend:s}){let o=VD(t,i,e,n,r,{weekStart:jD});return o?js(o,new Date(t),new Date(i),{visibleRange:a,extend:s}):[]}function bO({start:t,stop:i,interval:e,availableRange:n,visibleRange:r,extend:a}){if(!e)return[];if(yt(e)||typeof e=="string"){let u=js(e,new Date(t),new Date(i),{visibleRange:r,extend:a});return Nf(u.length,n)?void 0:u}let s=Math.abs(e);if(Nf(Math.abs(i-t)/s,n))return;let o=oR.findLast(u=>s%u.duration===0);if(o){let{timeInterval:u,step:h,duration:m}=o,p=S(f({},u),{step:h*Zd(u)*Math.round(s/m),epoch:IW(u,{weekStart:jD})});return js(p,new Date(t),new Date(i),{visibleRange:r,extend:a})}let l=new Date(Math.min(t,i)),c=new Date(Math.max(t,i)),d=[];for(;l<=c;)d.push(l),l=new Date(l),l.setMilliseconds(l.getMilliseconds()+s);return d}function She(t,i,e,n){let{interval:r}=e,a=Math.min(os(t),os(i)),s=Math.max(os(t),os(i)),o;if(yt(r)||typeof r=="string")o=r;else{let u;typeof r=="number"&&(u=(s-a)/Math.max(r,1),Nf(u,n)&&(u=void 0)),u??(u=e.tickCount??Di.defaultTickCount),o=VD(a,s,u,e.minTickCount,e.maxTickCount,{weekStart:jD})}if(o==null)return[t,i];let l=js(o,new Date(a),new Date(s),{extend:!0});if(l==null||l.length<2)return[t,i];let c=l[0],d=l[l.length-1];return t<=i?[c,d]:[d,c]}var lf=class RW extends Eo{constructor(){super(...arguments),this.type="ordinal-time",this.defaultTickCount=Di.defaultTickCount,this._domain=[],this.isReversed=!1}static is(i){return i instanceof RW}set domain(i){i!==this._domain&&(this.invalid=!0,this._domain=i,this._bands=void 0,this.isReversed=AH(i))}get domain(){return this._domain}get bands(){return this._bands??(this._bands=this.isReversed?this.domain.slice().reverse():this.domain),this._bands}normalizeDomains(...i){let e=i.filter(n=>n.length>0);if(e.length===0)return{domain:[],animatable:!1};if(e.length===1){let n=e[0],r=yO(n);return r===-1?n=n.slice().reverse():r==null&&(n=sR(n.slice())),{domain:n,animatable:!0}}return{domain:sR(e.flat()),animatable:!0}}ticks(i,e,n=[0,1],{extend:r=!1,dropInitial:a=!1}={}){let{interval:s,maxTickCount:o,tickCount:l=o}=i,{bands:c}=this;if(!c.length)return;if(this.refresh(),s==null){let{ticks:_,tickOffset:w,tickEvery:D}=this.getDefaultTicks(e,l,n,r),I=_.length>0?this.findIndex(_[0]):void 0;return I=I!=null?Math.floor((I-w)/D):void 0,{ticks:_,count:void 0,firstTickIndex:I}}let d,u;e&&e.length>=2?(d=e[0].valueOf(),u=e[e.length-1].valueOf()):(d=c[0].valueOf(),u=c[c.length-1].valueOf());let[h,m]=this.range,p=Math.abs(m-h),g=bO({start:d,stop:u,interval:s,availableRange:p,visibleRange:n,extend:r})??this.getDefaultTicks(e,l,n,r).ticks,b=[],v=-1;for(let _ of g){let w=this.findIndex(_,1)??-1,D=w===v;v=w,!(a&&w===0)&&w!==-1&&!D&&b.push(c[w])}return{ticks:b,count:void 0,firstTickIndex:void 0}}stepTicks(i,e,n=[0,1],r=!0){let a=e?this.bandDomainIndices(e):void 0,s=this.ticksEvery(a,n,i,0,!1),o=s.at(-1),l=r&&i>1?a?.[1]:void 0,c=l!=null&&o!=null?this.findIndex(o):void 0;return c!=null&&l!=null&&l-c<i&&s.pop(),s}bandCount(i=[0,1]){let{domain:e}=this,n=Math.floor(i[0]*e.length);return Math.ceil(i[1]*e.length)-n}getDefaultTicks(i,e,n,r){let{bands:a}=this,s=Math.ceil(a.length/e),o=Math.floor(s/2),l=i?this.bandDomainIndices(i):void 0;return{ticks:this.ticksEvery(l,n,s,o,r),tickOffset:o,tickEvery:s}}bandDomainIndices(i){let e=AH(i),n=this.findIndex(i[e?i.length-1:0],1)??0,r=this.findIndex(i[e?0:i.length-1],1)??this.bands.length-1;return[n,r]}ticksEvery([i,e]=[0,this.bands.length],n,r,a,s){let{bands:o}=this,l=i,c=e-i+1,d=l+Math.floor(n[0]*c),u=l+Math.ceil(n[1]*c);s&&(d-=r,u+=r),d=Math.max(d,0),u=Math.min(u,o.length);let h;if(r<=1)h=o.slice(d,u);else{h=[];for(let m=d;m<u;m+=1)(m-l+a)%r===0&&h.push(o[m])}return h}};function AH(t){return t.length>0&&t[0]>t[t.length-1]}var OW=5e7,Fd=class LW extends Eo{constructor(){super(...arguments),this.type="unit-time",this.defaultTickCount=12,this._domain=[],this._bands=void 0}static is(i){return i instanceof LW}static supportsInterval(i,e){return EH(i,e)}set domain(i){i!==this._domain&&(this._domain=i,this._bands=void 0)}get domain(){return this._domain}get interval(){return this._interval}set interval(i){this._interval!==i&&(this._interval=i,this._bands=void 0)}get bands(){return this._bands??(this._bands=this.calculateBands(this._domain,[0,1]).bands),this._bands}normalizeDomains(...i){return nO(...i)}convert(i,e){i instanceof Date||(i=new Date(i));let{domain:n,interval:r}=this;if(n.length<2)return NaN;if(e?.clamp!==!0&&r!=null){let a=i.valueOf(),[s,o]=Ew(n,r),l=Math.min(s.valueOf(),o.valueOf()),c=Math.max(s.valueOf(),o.valueOf());if(a<l||a>=c+ga(r))return NaN}return super.convert(i,e)}calculateBands(i,e,n=!1){if(i===this.domain&&e[0]===0&&e[1]===1&&!n&&this._bands!=null)return{bands:this._bands,firstBandIndex:0};if(i.length<2)return{bands:[],firstBandIndex:void 0};let{interval:r}=this;if(r==null)return{bands:[],firstBandIndex:void 0};let a={visibleRange:e,extend:n};if(!EH(i,r,a))return{bands:[],firstBandIndex:void 0};let[s,o]=Ew(i,r);if(uO(r,s,o,a)>OW)return j.warnOnce("the configured unit results in too many bands, ignoring. Supply a larger unit."),{bands:[],firstBandIndex:void 0};let l=js(r,s,o,a),c=OD(r,s,o,a);return{bands:l,firstBandIndex:c}}ticks({interval:i},e=this.domain,n=[0,1],{extend:r=!1}={}){if(e.length<2)return;let{bands:a,firstBandIndex:s}=this.calculateBands(e,n,r),o=this.interval?ga(this.interval):1/0;if(i==null)return{ticks:a,count:void 0,firstTickIndex:s};let l=Math.min(e[0].valueOf(),e[1].valueOf()),c=Math.max(e[0].valueOf(),e[1].valueOf()),d,u,h;yt(i)||typeof i=="string"?(d=js(i,e[0],e[1],{extend:!0,visibleRange:n}),u=0,h=d.length-1):(d=a,u=_o(0,a.length-1,w=>a[w].valueOf()<=l)??0,h=_o(0,a.length-1,w=>a[w].valueOf()<=c)??a.length-1);let m=[],p;for(let w=u;w<=h;w++){let D=d[w].valueOf(),I=_o(0,a.length-1,A=>a[A].valueOf()<=D),E=I!=null&&I!=p?a[I]:void 0;p=I,E!=null&&D-E.getTime()<=o&&m.push(E)}let g,b;if(this.interval){let w=Ew([new Date(l),new Date(c)],this.interval);g=w[0].valueOf(),b=w[1].valueOf()}else g=l,b=c;let v=pc(0,m.length-1,w=>m[w].valueOf()>=g)??0,_=_o(0,m.length-1,w=>m[w].valueOf()<=b)??m.length-1;return r&&(v=Math.max(v-1,0),_=Math.min(_+1,m.length-1)),{ticks:m.slice(v,_+1),count:m.length,firstTickIndex:s}}};function EH(t,i,e){let[n,r]=Ew(t,i);return uO(i,n,r,e)<=OW}function Ew(t,i){let e=Os(i,t[0]),n=Os(i,t[1]);return[e,n]}function Mhe(t,i,e,n,r){let[a,s]=er(i.map(Number)),o=Math.floor(e.unzoomed);if(o<=1){let[v,_]=Ihe(a,s),w=5*Math.pow(2,-Math.ceil(Math.log2(r[1]-r[0]))),{ticks:D}=Vv(v,_,w,void 0,void 0,r),I=[t.toDomain(v),t.toDomain(_)];return n&&I.reverse(),{domain:I,ticks:D}}if(a===s){let v=Math.floor(Math.log10(a)),_=Math.pow(10,v),w=Math.min(_,1),D=o-1;a-=w*Math.floor(D/2),s=a+w*D}let l=a,c=s;l=khe(l,c,o);let d=Ehe(l,c,o),u=o-1;c=l+u*d;let h=Math.floor(l/d)*d,m=Math.floor(c/d)*d;h<=a&&m>=s&&(l=h,c=m);let p=[t.toDomain(l),t.toDomain(c)];n&&p.reverse();let g=d*((e.unzoomed-1)/(e.zoomed-1)),b=Ahe(l,g,Math.floor(e.zoomed));return{domain:p,ticks:b}}function Ihe(t,i){let e=t,n=i,r=0;do{[e,n]=AW(e,n);let{ticks:a}=Vv(e,n,5);if(a.length%2===1)return[e,n];e-=1,n+=1}while(r++<10);return[t,i]}function khe(t,i,e){t=Math.floor(t);let n=Math.abs(i-t)/(e-1),r=Math.floor(Math.log10(n)),a=Math.pow(10,r);return Math.floor(t/a)*a}function Ahe(t,i,e){let n=Zp(i),r=Math.pow(10,n),a=[];for(let s=0;s<e;s++){let o=t+i*s;a.push(Math.round(o*r)/r)}return a}function Ehe(t,i,e){let n=e-1,r=(i-t)/n;return The(r)}function The(t){let i=Math.floor(Math.log10(t)),e=Math.pow(10,i),n=t/e;return n>0&&n<=1?e:n>1&&n<=2?2*e:n>2&&n<=5?5*e:n>5&&n<=10?10*e:t}function vO(){let t=new Map;return i=>{let e=t.get(i);return e?(t.set(i,e+1),`${i}_${e}`):(t.set(i,1),i)}}var Rhe=18,Ohe=[1,2,3,4,6,8,9,10,12],Lhe=new Date(1970,0,4),NW=class{constructor(t){this.axis=t}estimateTickCount(t,i,e,n,r,a){let{scale:s,label:o}=this.axis,{defaultTickCount:l}=s,c=Rf(i),d=Rf(e);if(zf.is(s)){let u=t.length,h=Math.ceil(c/(d*o.fontSize));return h=Math.min(h,u),{minTickCount:0,maxTickCount:u,tickCount:h}}return EW(c,d,r,a,l,n)}generateTicks({range:t,domain:i,reverse:e,primaryTickCount:n,defaultTickMinSpacing:r,visibleRange:a,niceMode:s,parallelFlipRotation:o,regularFlipRotation:l,labelX:c,sideFlag:d,removeOverflowLabels:u,removeOverflowThreshold:h=0,sizeLimit:m}){let{label:p,primaryLabel:g,interval:{minSpacing:b,maxSpacing:v}}=this.axis,{parallel:_,fontFamily:w,fontSize:D,fontStyle:I,fontWeight:E}=p,A=n!==void 0,{defaultRotation:N,configuredRotation:F,parallelFlipFlag:P,regularFlipFlag:U}=ahe(p.rotation,_,l,o),{maxTickCount:H}=this.estimateTickCount(i,t,a,r,b,v),q=Number.isFinite(H)?H:10,ue=ohe(_,F,d,P),te={fontFamily:w,fontSize:D,fontStyle:I,fontWeight:E},Oe=tu.getMeasurer({font:te}),ot=p.enabled&&p.avoidCollisions,Ct=F+N,Yt=new Ac,Zt=Pe=>{let at=Ct+Pe;Ac.updateTransformMatrix(Yt,1,1,at,0,0)},vt=({ticks:Pe},at)=>(Zt(at),dhe(Pe,c,Yt,Oe,p)),He=(Pe,at)=>{let{niceDomain:lt,ticks:Si,timeInterval:cn}=Pe;if(cn==null)return[];Zt(at);let Zi=Phe(Si),{width:gi,height:Fn}=che(p,g,lt??i,cn,Oe);return uhe({width:gi,height:Fn,spacing:Zi},c,Yt)},Ge=(Pe,at)=>{if(!ot)return!1;let lt=F!==0||at!==0,Si=she(p.minSpacing,lt);return TH(He(Pe,at),Si)||TH(vt(Pe,at),Si)},Fe={tickDomain:[],niceDomain:i,ticks:[],rawTicks:[],rawTickCount:void 0,timeInterval:void 0,fractionDigits:0},jt=0,ft=0,dt=!0,it=!1;for(;!it&&dt&&jt<=q;){ft=0;for(let Pe of this.getTickStrategies({domain:i,range:t,reverse:e,niceMode:s,secondaryAxis:A,sizeLimit:m}))({tickData:Fe,index:jt,autoRotation:ft,terminate:it}=Pe({index:jt,tickData:Fe,terminate:it,primaryTickCount:n,defaultTickMinSpacing:r,visibleRange:a,labelsOverlap(){return Ge(Fe,ft)}}));dt=Ge(Fe,ft)}let Ke=lhe(_,F,ft,d,U),ze=F+ft;if(u&&Fe.ticks.length>2){let Pe=vt(Fe,ft),at=Fe.ticks.at(-1),lt=Pe.at(-1);at!=null&&lt!=null&&at.translation+lt.label.width/2>t[1]+h&&(at.tickLabel=void 0,a[0]===0&&a[1]===1&&(Fe.ticks[0].tickLabel=void 0))}return{tickData:Fe,rotation:ze,textBaseline:ue,textAlign:Ke}}getTickStrategies({domain:t,range:i,reverse:e,niceMode:n,secondaryAxis:r,sizeLimit:a}){let{label:s,interval:o}=this.axis,l=s.enabled&&s.avoidCollisions,c=s.autoRotate===!0&&s.rotation===void 0,d=[],u;o.values?u=2:r?u=1:u=0;let h=({index:m,tickData:p,primaryTickCount:g,defaultTickMinSpacing:b,visibleRange:v,terminate:_})=>this.createTickData(t,i,e,n,v,g,b,u,m,p,_,a);if(d.push(h),l&&c){let m=({index:p,tickData:g,labelsOverlap:b,terminate:v})=>({index:p,tickData:g,autoRotation:b()?kc(s.autoRotateAngle):0,terminate:v});d.push(m)}return d}createTickData(t,i,e,n,r,a,s,o,l,c,d,u){let{interval:h}=this.axis,{step:m,values:p,minSpacing:g,maxSpacing:b}=h,{maxTickCount:v,minTickCount:_,tickCount:w}=this.estimateTickCount(t,i,r,s,g,b),D=w-_,I=He=>Math.max(w-He,_),E=c.rawTicks,A=m==null&&p==null&&I(l)>_,N={domain:t,reverse:e,niceMode:n,visibleRange:r,primaryTickCount:a,tickGenerationType:o,minTickCount:_,maxTickCount:v,tickCount:0};N.tickCount=I(l);let F=this.getTicks(N);if(A&&RH(F.rawTicks,E)){let He=l,Ge=D;for(;He<=Ge;){l=(He+Ge)/2|0,N.tickCount=I(l);let Fe=this.getTicks(N);RH(Fe.rawTicks,E)?He=l+1:(F=Fe,Ge=l-1)}}let{tickDomain:P,niceDomain:U,rawTicks:H,rawTickCount:q,rawFirstTickIndex:ue,generatePrimaryTicks:te,primaryTicksIndices:Oe,alignment:ot,fractionDigits:Ct,timeInterval:Yt}=F,Zt=this.formatTicks({range:i,niceDomain:U,rawTicks:H,rawFirstTickIndex:ue,generatePrimaryTicks:te,primaryTicksIndices:Oe,alignment:ot,fractionDigits:Ct,timeInterval:Yt,sizeLimit:u}),vt={tickDomain:P,niceDomain:U,rawTicks:H,rawTickCount:q,timeInterval:Yt,fractionDigits:Ct,ticks:Zt};return l+=1,d||(d=m!=null||p!=null),{tickData:vt,index:l,autoRotation:0,terminate:d}}getTimeIntervalTicks(t,i,e,n,r,a){let s=uv(r);if(s==null)return;let{scale:o}=this.axis;if(!bf.is(o)&&!Eo.is(o))return;a&&(t=[1-t[1],1-t[0]]);let l=Math.min(o.domain[0].valueOf(),o.domain[o.domain.length-1].valueOf()),c=Math.max(o.domain[0].valueOf(),o.domain[o.domain.length-1].valueOf()),[d,u]=dO(new Date(l),new Date(c),t);d=Os(s,d),d.valueOf()>=l&&(d=hW(s,d)),u=uW(s,u),u.valueOf()<=c&&(u=mW(s,u));let h=js(s,d,u),m=ga(r),p=new Set,g=lf.is(o),b=[],v=S(f({},n),{interval:r}),_,w,D=0;if(lf.is(o)){let E=this.axis.minimumTimeGranularity,A=Al(r);_=E!=null&&ga(E)>=ga(A)?2:3,w=1;let N=i/e,F=o.bandCount(t)/(N*Rhe);D=Ohe.findLast(P=>F>=P)??1}else Fd.is(o)&&(o.interval==null||ga(o.interval)>=m)?_=1:(_=0,w=2);for(let E=0;E<h.length-1;E+=1){let A=h[E],N=h[E+1],F=E===0,P=E===h.length-2,U=N.valueOf()-A.valueOf(),H=[Math.max((l-A.valueOf())/U,0),Math.min((c-A.valueOf())/U,1)],q;switch(_){case 0:q=Nhe(v.interval,[A,N],H,!0).ticks;break;case 1:case 3:q=o.ticks(v,[A,N],H,{extend:!0,dropInitial:!0})?.ticks??[];break;case 2:q=o.stepTicks(D,[A,N],void 0,!P);break}if(bU(q,ot=>ot.valueOf()<A.valueOf()),P||vU(q,ot=>{switch(_){case 0:case 3:return ot.valueOf()+m>N.valueOf();case 1:case 2:return ot.valueOf()>=N.valueOf()}}),q.length===0)continue;let ue=q[0],te=gO(ue,A);(_===0?te===0:te<=m)&&(!g||!F)&&p.add(b.length),b.push(...q)}return(p.size===0||p.size===1&&p.has(0))&&(p=void 0),{ticks:b,tickCount:void 0,firstTickIndex:void 0,primaryTicksIndices:p,alignment:w}}getTicks({domain:t,reverse:i,niceMode:e,visibleRange:n,tickGenerationType:r,tickCount:a,minTickCount:s,maxTickCount:o,primaryTickCount:l}){let{axis:c}=this,{primaryLabel:d,scale:u,interval:h}=c,m={nice:e===0,interval:h.step,tickCount:a,minTickCount:s,maxTickCount:o},p=S(f({},m),{nice:e===0||e===1}),g;r===1&&l!=null&&Di.is(u)&&(g=Mhe(u,t,l,i,n));let b=e===0?g?.domain??u.niceDomain(m,t):t,v=b,_,w,D,I,E,A,N=d?.enabled===!0&&p.interval==null,F=u.domain;switch(u.domain=b,r){case 2:if(v=h.values,_=h.values,w=_.length,lf.is(u)?A=1:Fd.is(u)&&(A=2),Di.is(u)){let[U,H]=er(b.map(Number));_=_.filter(q=>Number(q)>=U&&Number(q)<=H).sort((q,ue)=>Number(q)-Number(ue))}break;case 1:if(g)_=g.ticks,w=g.ticks.length;else{let U=u.ticks(p,b,n);_=U?.ticks??[],w=U?.count}break;default:{if(b.length>0&&p.interval==null&&(Fd.is(u)||N&&(bf.is(u)||lf.is(u)))){let q=b,ue=Math.min(q[0].valueOf(),q[q.length-1].valueOf()),te=Math.max(q[0].valueOf(),q[q.length-1].valueOf());I=VD(ue,te,a,s,o,{weekStart:d==null?Lhe:void 0,primaryOnly:!0})}let U;lf.is(u)?U=c.minimumTimeGranularity:Fd.is(u)&&(U=u.interval),U!=null&&I!=null&&ga(U)>=ga(I)&&(I=U);let H=I?this.getTimeIntervalTicks(n,a,o,p,I,i):void 0;if(H)({ticks:_,tickCount:w,firstTickIndex:D,primaryTicksIndices:E,alignment:A}=H);else{let q=Fd.is(u)&&p.interval==null&&I!=null?S(f({},p),{interval:I}):p,ue=u.ticks(q,b,n);if(_=ue?.ticks??[],w=ue?.count,D=ue?.firstTickIndex,bf.is(u)||Eo.is(u)){let te=p,Oe=typeof te.interval=="number"?Fv(te.interval):te.interval;I??(I=Oe??ue?.timeInterval)}}}}let P=_.reduce((U,H)=>Math.max(U,typeof H=="number"?Zp(H):0),0);return N||(E=void 0),u.domain=F,{tickDomain:v,niceDomain:b,rawTicks:_,rawTickCount:w,rawFirstTickIndex:D,generatePrimaryTicks:N,primaryTicksIndices:E,alignment:A,fractionDigits:P,timeInterval:I}}formatTicks({niceDomain:t,range:i,rawTicks:e,rawFirstTickIndex:n=0,generatePrimaryTicks:r,primaryTicksIndices:a,alignment:s,fractionDigits:o,timeInterval:l,sizeLimit:c=1/0}){let{axis:d}=this,{label:u,scale:h}=d,m=h.domain;h.domain=t;let p=r?"component":"long",g=u.enabled?d.tickFormatter(t,e,!1,o,l,p):void 0,b=l!=null?uv(l):void 0,v=r?d.tickFormatter(t,e,!0,o,b,p):void 0,_=(h.bandwidth??0)/2,w=[],D=bf.is(h)||Eo.is(h),I=vO(),E=d.direction==="y",A=(Oc.is(h)?h.bandwidth:null)??1/0,N={font:u,maxWidth:E?c:A,maxHeight:E?A:c,overflow:u.truncate?"ellipsis":"hide",textWrap:u.wrapping};for(let F=0;F<e.length;F++){let P=e[F],U=h.convert(P,{alignment:s})+_;if(i.length>0&&!d.inRange(U,.001))continue;let H=a?.has(F)??!1,q=H?v?.(P,F):g?.(P,F),ue=q??String(P);u.avoidCollisions&&(q=Iv.wrapText(ue,N)||q);let te,Oe=D?P?.valueOf():void 0;Number.isFinite(Oe)?te=I(`v:${Oe}`):te=I(`l:${q}`),w.push({index:F+n,tick:P,tickId:te,tickLabel:q,textUntruncated:q!=null&&ue!==q?ue:void 0,translation:Math.floor(U),primary:H})}return h.domain=m,w}};function TH(t,i=0){let e=[];for(let n of t){let{x:r,y:a}=n.point,{width:s,height:o}=n.label;if(s+=i,o+=i,e.some(l=>sw(l,r,a,s,o)))return!0;e.push({x:r,y:a,width:s,height:o})}return!1}function Nhe(t,i,e,n){if(t==null)return{ticks:i,firstTickIndex:void 0};let r=i[0].valueOf(),a=i[1].valueOf();if(typeof t!="number"){let o=i[0],l=typeof t=="string"?{unit:t,epoch:o}:S(f({},t),{epoch:o}),c=js(l,i[0],i[1],{visibleRange:e,extend:n}),d=OD(l,i[0],i[1],{visibleRange:e,extend:n});return{ticks:c,firstTickIndex:d}}let s=[];for(let o=r;o<=a;o+=t)s.push(new Date(o));return{ticks:s,firstTickIndex:void 0}}function RH(t,i){if(t.length!==i.length)return!1;for(let e=0;e<t.length;e+=1)if(t[e]?.valueOf()!==i[e]?.valueOf())return!1;return!0}function Phe(t){if(t.length<2)return 1/0;let i=0,e=t[0].translation;for(let n=1;n<t.length;n++){let r=t[n].translation,a=Math.abs(r-e);i=Math.max(i,a),e=r}return i}var _O=class extends Ui{constructor(){super(...arguments),this.autoRotateAngle=335}};y([C],_O.prototype,"autoRotate",2);y([C],_O.prototype,"autoRotateAngle",2);var zD=class PW extends mO{constructor(i,e){super(i,e),this.maxThicknessRatio=.3,this.headingLabelGroup=this.axisGroup.appendChild(new Wr({name:`${this.id}-Axis-heading`})),this.lineNodeGroup=this.axisGroup.appendChild(new Wr({name:`${this.id}-Axis-line`})),this.lineNode=this.lineNodeGroup.appendChild(new Fs({zIndex:1})),this.tickLineGroupSelection=$r.select(this.tickLineGroup,Fs,!1),this.gridLineGroupSelection=$r.select(this.gridLineGroup,Fs,!1),this.gridFillGroupSelection=$r.select(this.gridFillGroup,ir,!1),this.tempText=new Mf({debugDirty:!1}),this.tempCaption=new an,this.tickGenerator=new NW(this),this.animationManager=i.animationManager,this.animationState=new Rv("empty",{empty:{update:{target:"ready",action:()=>this.resetSelectionNodes()},reset:"empty"},ready:{update:r=>this.animateReadyUpdate(r),resize:()=>this.resetSelectionNodes(),reset:"empty"}}),this.headingLabelGroup.appendChild(this.title.caption.node);let n;this.cleanup.register(i.eventsHub.on("layout:complete",r=>{let a=[r.chart.width,r.chart.height];n!=null&&!Ta(a,n)&&this.animationState.transition("resize"),n=a}),this.title.caption.registerInteraction(this.moduleCtx,"afterend"))}static is(i){return i instanceof PW}get horizontal(){return this.position==="top"||this.position==="bottom"}onGridVisibilityChange(){this.gridLineGroupSelection.clear(),this.gridFillGroupSelection.clear()}resetAnimation(i){i==="initial"&&this.animationState.transition("reset")}get direction(){return this.position==="top"||this.position==="bottom"?"x":"y"}createAxisContext(){return S(f({},super.createAxisContext()),{position:this.position})}createLabel(){return new _O}updateDirection(){switch(this.position){case"top":this.label.mirrored=!0,this.label.parallel=!0;break;case"right":this.label.mirrored=!0,this.label.parallel=!1;break;case"bottom":this.label.mirrored=!1,this.label.parallel=!0;break;case"left":this.label.mirrored=!1,this.label.parallel=!1;break}this.axisContext&&(this.axisContext.position=this.position,this.axisContext.direction=this.direction)}calculateLayout(i,e){return this.updateDirection(),super.calculateLayout(i,e)}layoutCrossLines(){let i=this.hasDefinedDomain()||this.hasVisibleSeries();this.crossLines.forEach(e=>{e.calculateLayout?.(i)})}calculateTickLayout(i,e,n,r){let a=this.label.getSideFlag(),s=this.horizontal?-.5*Math.PI:0,o=Dn(s),l=Dn(s-Math.PI/2),c=a*(this.getTickSize()+this.label.spacing+this.seriesAreaPadding);if(e===2&&this.label.enabled===!1&&this.tick.enabled===!1&&this.gridLine.enabled===!1){let{bbox:Zt,spacing:vt}=this.tickBBox(i,[],[]);return{ticks:[],rawTickCount:0,tickDomain:i,niceDomain:i,fractionDigits:0,timeInterval:void 0,bbox:Zt,layout:{ticks:[],tickLines:[],gridLines:[],gridFills:[],labels:[],spacing:vt}}}let{range:d,reverse:u,defaultTickMinSpacing:h}=this,m=this.label.avoidCollisions&&this.horizontal&&(Di.is(this.scale)||Eo.is(this.scale)),p=this.tickGenerator.generateTicks({domain:i,range:d,reverse:u,niceMode:e,visibleRange:n,primaryTickCount:r,defaultTickMinSpacing:h,parallelFlipRotation:o,regularFlipRotation:l,labelX:c,sideFlag:a,sizeLimit:this.chartLayout?.sizeLimit,removeOverflowLabels:m,removeOverflowThreshold:this.chartLayout?.padding.right}),{tickData:g}=p,{ticks:b,tickDomain:v,rawTicks:_,rawTickCount:w,fractionDigits:D,timeInterval:I,niceDomain:E}=g,A=b.map(Zt=>this.getTickLabelProps(Zt,p)),{position:N,gridPadding:F,gridLength:P}=this,U=N==="bottom"||N==="right"?-1:1,H=U*F,q=U*(P+F),ue=this.calculateGridLines(b,H,q),te=this.calculateGridFills(b,H,q),Oe=this.calculateTickLines(b,U),{bbox:ot,spacing:Ct}=this.tickBBox(v,b,A);return{ticks:_,rawTickCount:w,tickDomain:v,niceDomain:E,fractionDigits:D,timeInterval:I,bbox:ot,layout:{ticks:b,gridLines:ue,gridFills:te,tickLines:Oe,labels:A,spacing:Ct}}}calculateGridLines(i,e,n){return i.map((r,a)=>this.calculateGridLine(r,a,e,n,i))}calculateGridLine({index:i,tickId:e,translation:n},r,a,s,o){let{gridLine:l,horizontal:c}=this,[d,u,h,m]=c?[n,a,n,s]:[a,n,s,n],{style:p}=l,{stroke:g,strokeWidth:b=0,lineDash:v}=p[i%p.length]??{};return{tickId:e,offset:n,x1:d,y1:u,x2:h,y2:m,stroke:g,strokeWidth:b,lineDash:v}}calculateGridFills(i,e,n){let{horizontal:r,range:a,type:s}=this,o=[];if(i.length==0)return o;let l=0,c=!r&&s==="unit-time";if(c&&i[0].translation<a[0]||!c&&i[0].translation>a[0]){let u={tickId:`before:${i[0].tickId}`,translation:a[0]};o.push(this.calculateGridFill(u,-1,i[0].index,e,n,i)),l=1}return o.push(...i.map((u,h)=>this.calculateGridFill(u,h,u.index+l,e,n,i))),o}calculateGridFill({tickId:i,translation:e},n,r,a,s,o){let{gridLine:l,horizontal:c,range:d}=this,u=o[n+1],h=e,m=u?u.translation:d[1],[p,g,b,v]=c?[h,Math.max(a,s),m,Math.min(a,s)]:[Math.min(a,s),Math.min(h,m),Math.max(a,s),Math.max(h,m)],{fill:_,fillOpacity:w}=l.style[r%l.style.length]??{};return{tickId:i,x1:p,y1:g,x2:b,y2:v,fill:_,fillOpacity:w}}calculateTickLines(i,e){return i.map(n=>this.calculateTickLine(n,n.index,e,i))}calculateTickLine({primary:i,tickId:e,translation:n},r,a,s){let{horizontal:o,tick:l,primaryTick:c}=this,d=i&&c?.enabled?c:l,u=-a*this.getTickSize(d),[h,m,p,g]=o?[n,0,n,u]:[0,n,u,n],{stroke:b,width:v}=d;return{tickId:e,offset:n,x1:h,y1:m,x2:p,y2:g,stroke:b,strokeWidth:v,lineDash:void 0}}update(){this.updateDirection();let i=Array.from(this.tickLabelGroupSelection.nodes(),s=>s.datum.tickId);super.update(),this.tickLineGroup.visible=this.tick.enabled||(this.primaryTick?.enabled??!1),this.tickLabelGroup.visible=this.label.enabled||(this.primaryTick?.enabled??!1);let{tickLayout:e}=this;if(this.updateTitle(this.scale.domain,e?.spacing??0),this.animatable||this.moduleCtx.animationManager.skipCurrentBatch(),e){let{ticks:s}=e;if(this.animationManager.isSkipped())this.resetSelectionNodes();else{let o=s.map(c=>c.tickId),l=wU(i,o);this.animationState.transition("update",l)}}let{enabled:n,stroke:r,width:a}=this.line;this.lineNode.setProperties({stroke:r,strokeWidth:n?a:0}),this.updateTickLines(),this.updateGridLines(),this.updateGridFills()}getAxisTransform(){return{translationX:Math.floor(this.translation.x),translationY:Math.floor(this.translation.y)}}updatePosition(){super.updatePosition();let i=this.getAxisTransform();this.tickLineGroup.datum=i,this.tickLabelGroup.datum=i,this.lineNodeGroup.datum=i,this.headingLabelGroup.datum=i}getAxisLineCoordinates(){let{horizontal:i}=this,[e,n]=er(this.range);return i?{x1:e,x2:n,y1:0,y2:0}:{x1:0,x2:0,y1:e,y2:n}}getTickLineBBox(i){let{translation:e}=i,{position:n,primaryTick:r}=this,a=this.getTickSize();switch(r?.enabled&&(a=Math.max(a,this.getTickSize(r))),n){case"top":return new _e(e,-a,e,a);case"bottom":return new _e(e,0,e,a);case"left":return new _e(-a,e,a,e);case"right":return new _e(0,e,a,e)}}lineNodeBBox(){let{position:i,seriesAreaPadding:e}=this,{y1:n,y2:r}=this.getAxisLineCoordinates(),a=r-n;switch(i){case"top":return new _e(n,-e,a,e);case"bottom":return new _e(n,0,a,e);case"left":return new _e(-e,n,e,a);case"right":return new _e(0,n,e,a)}}titleBBox(i,e){let{tempCaption:n}=this;return n.node.setProperties(this.titleProps(n,i,e)),n.node.getBBox()}tickBBox(i,e,n){let{tick:r,primaryTick:a,label:s,primaryLabel:o,title:l,position:c,horizontal:d,seriesAreaPadding:u}=this,h=[];if(h.push(this.lineNodeBBox()),r.enabled||a?.enabled)for(let b of e)h.push(this.getTickLineBBox(b));let{tempText:m}=this;if(s.enabled)for(let b of n){if(!b.visible)continue;m.setProperties(b);let v=m.getBBox(!1);v&&h.push(v)}if(o?.enabled&&c==="bottom"&&(h.push(new _e(0,Oi.getLineHeight(s.fontSize)+2,1,this.getTickSize(r)+s.spacing+u)),o.format!=null)){let{format:v}=o,w=(yt(v)?Object.values(v):[v]).reduce((D,I)=>Math.max(D,lU(I)),0);h.push(new _e(0,this.getTickSize(a??r)+o.spacing+u,1,w*Oi.getLineHeight(o.fontSize)+2))}let p=0;if(l.enabled){let b=_e.merge(h);p=d?b.height:b.width,h.push(this.titleBBox(i,p))}return{bbox:_e.merge(h),spacing:p}}titleProps(i,e,n){let{title:r}=this;if(!r.enabled)return i.enabled=!1,{visible:!1,text:"",textBaseline:"bottom",x:0,y:0,rotationCenterX:0,rotationCenterY:0,rotation:0};i.enabled=!0,i.color=r.color,i.fontFamily=r.fontFamily,i.fontSize=r.fontSize,i.fontStyle=r.fontStyle,i.fontWeight=r.fontWeight,i.wrapping=r.wrapping;let a=(r.spacing??0)+n,{range:s}=this,o=(s[0]+s[1])/2,l,c,d,u;switch(this.position){case"top":l=o,c=-a,d=0,u="bottom";break;case"bottom":l=o,c=a,d=0,u="top";break;case"left":l=-a,c=o,d=-.5*Math.PI,u="bottom";break;case"right":l=a,c=o,d=.5*Math.PI,u="bottom";break}let{formatter:h=p=>p.defaultValue}=r,m=this.cachedCallWithContext(h,this.getTitleFormatterParams(e));return i.text=m,{visible:!0,text:m,textBaseline:u,x:l,y:c,rotationCenterX:l,rotationCenterY:c,rotation:d}}getLabelBorderOffset(i){let e=Lf(i);function n(r){return r}switch(this.position){case"top":return e.bottom;case"right":return e.left;case"bottom":return e.top;case"left":return e.right;default:this.position}}getTickLabelProps(i,e){let{horizontal:n,primaryLabel:r,primaryTick:a,seriesAreaPadding:s,scale:o}=this,{tickId:l,tickLabel:c="",translation:d,primary:u,textUntruncated:h}=i,m=u&&r?.enabled?r:this.label,p=u&&a?.enabled?a:this.tick,{rotation:g,textBaseline:b,textAlign:v}=e,{range:_}=o,w=this.label.getSideFlag(),D=-this.getLabelBorderOffset(m),I=w*(this.getTickSize(p)+m.spacing+s)+D,E=c!=="",A=n?d:I,N=n?-I:d;return S(f({},this.getLabelStyles({value:c},void 0,m)),{tickId:l,rotation:g,text:c,textAlign:v,textBaseline:b,textUntruncated:h,visible:E,x:A,y:N,rotationCenterX:A,rotationCenterY:N,range:_})}updateSelections(){if(!this.tickLayout)return;let i=this.getAxisLineCoordinates(),{tickLines:e,gridLines:n,gridFills:r,labels:a}=this.tickLayout,s=o=>o.tickId;this.lineNode.datum=i,this.gridLineGroupSelection.update(this.gridLine.enabled?n:[],void 0,s),this.gridFillGroupSelection.update(this.gridLine.enabled?r:[],void 0,s),this.tickLineGroupSelection.update(e,void 0,s),this.tickLabelGroupSelection.update(a,void 0,s)}updateGridLines(){this.gridLineGroupSelection.each((i,e)=>{i.stroke=e.stroke,i.strokeWidth=e.strokeWidth,i.lineDash=e.lineDash})}updateGridFills(){this.gridFillGroupSelection.each((i,e)=>{i.fill=e.fill,i.fillOpacity=e.fillOpacity??1})}updateTickLines(){this.tickLineGroupSelection.each((i,e)=>{i.stroke=e.stroke,i.strokeWidth=e.strokeWidth,i.lineDash=e.lineDash})}updateTitle(i,e){let{caption:n}=this.title,r=this.titleProps(n,i,e);n.node.visible=r.visible,n.node.text=r.text,n.node.textBaseline=r.textBaseline,n.node.datum=r}updateLabels(){this.label.enabled&&this.tickLabelGroupSelection.each((i,e)=>{i.fill=e.color,i.text=e.text,i.textBaseline=e.textBaseline,i.textAlign=e.textAlign??"center",i.pointerEvents=e.textUntruncated==null?1:0,i.setFont(e),i.setBoxing(e)})}animateReadyUpdate(i){let{animationManager:e}=this.moduleCtx,n=yW(this),r=bW(n);Tn(this.id,"axis-group",e,[this.lineNodeGroup,this.tickLabelGroup,this.tickLineGroup,this.headingLabelGroup],r.group),Tn(this.id,"line",e,[this.lineNode],r.line),Tn(this.id,"line-paths",e,[this.gridLineGroupSelection,this.tickLineGroupSelection],r.tick,(a,s)=>s.tickId,i),Tn(this.id,"tick-labels",e,[this.tickLabelGroupSelection],r.label,(a,s)=>s.tickId,i),Tn(this.id,"title",e,[this.title.caption.node],r.label,(a,s)=>s.tickId,i)}resetSelectionNodes(){kr([this.lineNodeGroup,this.tickLabelGroup,this.tickLineGroup,this.headingLabelGroup],vW()),kr([this.gridLineGroupSelection,this.tickLineGroupSelection],aR()),kr([this.gridFillGroupSelection],_W()),kr([this.tickLabelGroupSelection],Jw()),kr([this.title.caption.node],Jw()),kr([this.lineNode],aR())}};y([C],zD.prototype,"thickness",2);y([C],zD.prototype,"maxThicknessRatio",2);y([C],zD.prototype,"position",2);var Bv=zD,FW=["top","right","bottom","left"];function Fhe(t){return typeof t=="string"&&FW.includes(t)}function Vhe(t){let i=[],e=[],n=[...FW];for(let r of t)r instanceof Bv&&(Fhe(r.position)?e.push(r.position):i.push(r));for(let r of i){let a;do a=n.pop();while(a&&e.includes(a));if(a==null)break;r.position=a}}var Bhe=["direction","xKey","yKey","sizeKey","angleKey","radiusKey","normalizedTo"];function jhe(t,i,e){let n=(c,d,u)=>{let h=[c];for(let m of Bhe)m in d&&d[m]!=null&&h.push(`${m}=${d[m]}`);return u?.seriesGrouping&&h.push(`seriesGrouping.groupId=${u?.seriesGrouping.groupId}`),h.join(";")},r=new Map,a=0;for(let c of t){let d=n(c.type,c.properties,e?.[a]);r.has(d)||r.set(d,[]),r.get(d)?.push([c,a++])}let s=new Map;a=0;for(let c of i){let d=n(c.type,c,c);s.has(d)||s.set(d,[]),s.get(d)?.push([c,a++])}if(![...r.keys()].some(c=>s.has(c)))return{status:"no-overlap",oldKeys:r.keys(),newKeys:s.keys()};let l=[];for(let[c,d]of s.entries())for(let[u,h]of d){let m=r.get(c);if(m==null||m.length<1){l.push({opts:u,targetIdx:h,idx:h,status:"add"}),r.delete(c);continue}let[p,g]=m.shift(),b=e?.[g]??{},v=Ec(b,u??{}),{groupIndex:_,stackIndex:w}=v?.seriesGrouping??{};_!=null||w!=null?l.push({opts:u,series:p,diff:v,targetIdx:h,idx:g,status:"series-grouping"}):v?l.push({opts:u,series:p,diff:v,targetIdx:h,idx:g,status:"update"}):l.push({opts:u,series:p,targetIdx:h,idx:g,status:"no-op"}),m.length===0&&r.delete(c)}for(let c of r.values())for(let[d,u]of c)l.push({series:d,idx:u,targetIdx:-1,status:"remove"});return{status:"overlap",changes:l}}function UD(t){let{series:i}=t;return i?.[0]?.type??"line"}function VW(t){let i=UD(t);return Jn.isCartesian(i)||Hue(i)}function zhe(t){let i=UD(t);return Jn.isPolar(i)||Gue(i)}function BW(t){let i=UD(t);return Jn.isTopology(i)||Wue(i)}function jW(t){let i=UD(t);return Jn.isStandalone(i)||$ue(i)}var Uhe=class extends hO{applyOptions(t){for(let i of this.moduleMap.values())i.module.optionsKey in t&&Lh(i.moduleInstance)&&i.moduleInstance.set(t[i.module.optionsKey])}*legends(){for(let{module:t,moduleInstance:i}of this.moduleMap.values())t.type==="legend"&&(yield{legendType:t.identifier,legend:i})}},lR="ag-charts-overlay",OH="ag-charts-dark-overlay",Rh=class extends tt{constructor(t,i){super(),this.className=t,this.defaultMessageId=i,this.enabled=!0}getText(t){return qe(this.text)?this.text.map(i=>i.text).join(""):t.t(this.text??this.defaultMessageId)}getElement(t,i,e,n){if(this.content?.remove(),this.focusBox=n,this.renderer){let r={},a=Ro(t,this.renderer,r);if(a instanceof HTMLElement)this.content=a;else{let s=Ne("div");s.innerHTML=a;let{firstElementChild:o}=s;o instanceof HTMLElement&&s.childElementCount===1?this.content=o:this.content=s}}else{let r=Ne("div",{display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",height:"100%",margin:"8px",fontFamily:"var(--ag-charts-font-family)",fontSize:"var(--ag-charts-font-size)",fontWeight:"var(--ag-charts-font-weight)"});if(qe(this.text)){let a=Ne("div");for(let s of this.text){let o=Ne("span",{color:s.color,fontSize:`${s.fontSize}px`,fontFamily:s.fontFamily??"inherit",fontWeight:String(s.fontWeight),fontStyle:s.fontStyle});o.innerText=s.text,a.appendChild(o)}r.appendChild(a)}else r.innerText=this.getText(e);this.content=r,i?.animate({from:0,to:1,id:"overlay",phase:"add",groupId:"opacity",onUpdate(a){r.style.opacity=String(a)},onStop(){r.style.opacity="1"}})}return this.content}removeElement(t=()=>this.content?.remove(),i){if(this.content){if(i){let{content:e}=this;i.animate({from:1,to:0,phase:"remove",id:"overlay",groupId:"opacity",onUpdate(n){e.style.opacity=String(n)},onStop(){t?.()}})}else t?.();this.content=void 0,this.focusBox=void 0}}};y([C],Rh.prototype,"enabled",2);y([C],Rh.prototype,"text",2);y([C],Rh.prototype,"renderer",2);var Uf=class extends tt{constructor(){super(...arguments),this.darkTheme=!1,this.loading=new Rh("ag-charts-loading-overlay","overlayLoadingData"),this.noData=new Rh("ag-charts-no-data-overlay","overlayNoData"),this.noVisibleSeries=new Rh("ag-charts-no-visible-series","overlayNoVisibleSeries"),this.unsupportedBrowser=new Rh("ag-charts-unsupported-browser","overlayUnsupportedBrowser")}getFocusInfo(t){for(let i of[this.loading,this.noData,this.noVisibleSeries,this.unsupportedBrowser])if(i.focusBox!==void 0)return{text:i.getText(t),rect:i.focusBox}}destroy(){this.loading.removeElement(),this.noData.removeElement(),this.noVisibleSeries.removeElement(),this.unsupportedBrowser.removeElement()}};y([C],Uf.prototype,"darkTheme",2);y([C],Uf.prototype,"loading",2);y([C],Uf.prototype,"noData",2);y([C],Uf.prototype,"noVisibleSeries",2);y([C],Uf.prototype,"unsupportedBrowser",2);function Hhe(t,i){let{animationDuration:e}=sv.add,n=e*i,r=Ne("div",`${lR}--loading`,{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",height:"100%",boxSizing:"border-box",font:"13px Verdana, sans-serif",userSelect:"none",animation:`ag-charts-loading ${n}ms linear 50ms both`}),a=Ne("span",{width:"45px",height:"40px",backgroundImage:["linear-gradient(#0000 calc(1 * 100% / 6), #ccc 0 calc(3 * 100% / 6), #0000 0), ","linear-gradient(#0000 calc(2 * 100% / 6), #ccc 0 calc(4 * 100% / 6), #0000 0), ","linear-gradient(#0000 calc(3 * 100% / 6), #ccc 0 calc(5 * 100% / 6), #0000 0)"].join(""),backgroundSize:"10px 400%",backgroundRepeat:"no-repeat",animation:"ag-charts-loading-matrix 1s infinite linear"}),s=Ne("p",{marginTop:"1em"});s.innerText=t;let o=Ne("div",`${lR}__loading-background`,{position:"absolute",inset:"0",opacity:"0.5",zIndex:"-1"}),l=Ne("style");return l.innerText=["@keyframes ag-charts-loading { from { opacity: 0 } to { opacity: 1 } }","@keyframes ag-charts-loading-matrix {","0% { background-position: 0% 0%, 50% 0%, 100% 0%; }","100% { background-position: 0% 100%, 50% 100%, 100% 100%; }","}"].join(" "),r.replaceChildren(l,a,s,o),r}var zW=(t=>(t[t.None=0]="None",t[t.Item=1]="Item",t[t.Series=2]="Series",t[t.OtherSeries=3]="OtherSeries",t[t.OtherItem=4]="OtherItem",t))(zW||{}),Pc=class extends tt{};y([C],Pc.prototype,"fill",2);y([C],Pc.prototype,"fillOpacity",2);y([C],Pc.prototype,"stroke",2);y([C],Pc.prototype,"strokeWidth",2);y([C],Pc.prototype,"strokeOpacity",2);y([C],Pc.prototype,"lineDash",2);y([C],Pc.prototype,"lineDashOffset",2);var Fc=class extends tt{constructor(){super(...arguments),this.enabled=!0,this.range="tooltip",this.bringToFront=!1,this.highlightedItem={},this.unhighlightedItem={},this.highlightedSeries={},this.unhighlightedSeries={}}getItemHighlightStyle(t){switch(t){case 1:return this.highlightedItem;case 4:return this.unhighlightedItem;case 2:return this.highlightedSeries;case 3:return this.unhighlightedSeries}}getSeriesHighlightStyle(t){switch(t){case 1:case 4:case 2:return this.highlightedSeries;case 3:return this.unhighlightedSeries}}getStyle(t){return Xt(this.getItemHighlightStyle(t),this.getSeriesHighlightStyle(t))}};y([C],Fc.prototype,"enabled",2);y([C],Fc.prototype,"range",2);y([C],Fc.prototype,"bringToFront",2);y([C],Fc.prototype,"highlightedItem",2);y([C],Fc.prototype,"unhighlightedItem",2);y([C],Fc.prototype,"highlightedSeries",2);y([C],Fc.prototype,"unhighlightedSeries",2);var HD=class extends tt{};y([C],HD.prototype,"strokeWidth",2);y([C],HD.prototype,"dimOpacity",2);y([C],HD.prototype,"enabled",2);var UW=class extends tt{constructor(){super(...arguments),this.color="black"}};y([C],UW.prototype,"color",2);var Hs=class extends tt{constructor(){super(...arguments),this.type="gradient",this.colorStops=[],this.bounds="item",this.gradient="linear",this.rotation=0,this.reverse=!1}};y([C],Hs.prototype,"type",2);y([C],Hs.prototype,"colorStops",2);y([C],Hs.prototype,"bounds",2);y([C],Hs.prototype,"gradient",2);y([C],Hs.prototype,"rotation",2);y([C],Hs.prototype,"reverse",2);var Wi=class extends tt{constructor(){super(...arguments),this.type="pattern",this.colorStops=[],this.bounds="item",this.gradient="linear",this.rotation=0,this.scale=1,this.reverse=!1,this.pattern="forward-slanted-lines",this.width=26,this.height=26,this.padding=6,this.fill="black",this.fillOpacity=1,this.backgroundFill="white",this.backgroundFillOpacity=1,this.stroke="black",this.strokeOpacity=1,this.strokeWidth=0}};y([C],Wi.prototype,"type",2);y([C],Wi.prototype,"colorStops",2);y([C],Wi.prototype,"bounds",2);y([C],Wi.prototype,"gradient",2);y([C],Wi.prototype,"rotation",2);y([C],Wi.prototype,"scale",2);y([C],Wi.prototype,"reverse",2);y([C],Wi.prototype,"path",2);y([C],Wi.prototype,"pattern",2);y([C],Wi.prototype,"width",2);y([C],Wi.prototype,"height",2);y([C],Wi.prototype,"padding",2);y([C],Wi.prototype,"fill",2);y([C],Wi.prototype,"fillOpacity",2);y([C],Wi.prototype,"backgroundFill",2);y([C],Wi.prototype,"backgroundFillOpacity",2);y([C],Wi.prototype,"stroke",2);y([C],Wi.prototype,"strokeOpacity",2);y([C],Wi.prototype,"strokeWidth",2);var ja=class extends tt{constructor(){super(...arguments),this.type="image",this.url="",this.rotation=0,this.scale=1,this.backgroundFill="black",this.backgroundFillOpacity=1,this.repeat="no-repeat",this.fit="contain"}};y([C],ja.prototype,"type",2);y([C],ja.prototype,"url",2);y([C],ja.prototype,"rotation",2);y([C],ja.prototype,"scale",2);y([C],ja.prototype,"backgroundFill",2);y([C],ja.prototype,"backgroundFillOpacity",2);y([C],ja.prototype,"repeat",2);y([C],ja.prototype,"fit",2);var jv=class extends tt{constructor(t=!0){super(),this.deprecated=t,this.item=new Pc,this.series=new HD,this.text=new UW}set(t){return this.deprecated&&j.warnOnce("highlightStyle is deprecated, use highlight instead."),super.set(t)}};y([C],jv.prototype,"item",2);y([C],jv.prototype,"series",2);y([C],jv.prototype,"text",2);var Gs=class extends tt{constructor(){super(...arguments),this.visible=!0,this.focusPriority=1/0,this.showInLegend=!0,this.cursor="default",this.nodeClickRange="exact",this.highlight=new Fc,this.highlightStyle=new jv}handleUnknownProperties(t,i){"context"in i&&(this.context=i.context,t.delete("context"))}};y([C],Gs.prototype,"id",2);y([C],Gs.prototype,"visible",2);y([C],Gs.prototype,"focusPriority",2);y([C],Gs.prototype,"showInLegend",2);y([C],Gs.prototype,"cursor",2);y([C],Gs.prototype,"nodeClickRange",2);y([C],Gs.prototype,"highlight",2);y([C],Gs.prototype,"highlightStyle",2);var HW=(t=>(t[t.BACKGROUND=0]="BACKGROUND",t[t.ANY_CONTENT=1]="ANY_CONTENT",t))(HW||{}),GW=(t=>(t[t.FOREGROUND=0]="FOREGROUND",t[t.HIGHLIGHT=1]="HIGHLIGHT",t[t.LABEL=2]="LABEL",t))(GW||{});function xf(t,i,e,n){if(To(t))return{type:"gradient",gradient:t.gradient??i.gradient,colorStops:t.colorStops??i.colorStops,bounds:t.bounds??i.bounds,rotation:t.rotation??i.rotation,reverse:t.reverse??i.reverse};if(qd(t)){let r=t.pattern??e.pattern,a=t.strokeWidth;r==="backward-slanted-lines"||r==="forward-slanted-lines"||r==="horizontal-lines"||r==="vertical-lines"?a??(a=e.strokeWidth):a??(a=0);let s=t.width??t.height??e.width,o=t.height??t.width??e.height;return{type:"pattern",pattern:r,width:s,height:o,path:t.path,padding:t.padding??e.padding,fill:t.fill??e.fill,fillOpacity:t.fillOpacity??e.fillOpacity,backgroundFill:t.backgroundFill??e.backgroundFill,backgroundFillOpacity:t.backgroundFillOpacity??e.backgroundFillOpacity,stroke:t.stroke??e.stroke,strokeOpacity:t.strokeOpacity??e.strokeOpacity,strokeWidth:a,rotation:t.rotation??e.rotation,scale:t.scale??e.scale}}return jh(t)?{type:"image",url:t.url,width:t.width,height:t.height,backgroundFill:t.backgroundFill??n.backgroundFill,backgroundFillOpacity:t.backgroundFillOpacity??n.backgroundFillOpacity,rotation:t.rotation??n.rotation,repeat:t.repeat??n.repeat,fit:t.fit??n.fit}:t}function El(t,i,e,n){return!To(t?.fill)&&!qd(t?.fill)&&!jh(t?.fill)?t:S(f({},t),{fill:xf(t.fill,i,e,n)})}function WW(t,i,e,n){e==null||!To(i)||i.bounds==null||i.bounds==="item"?t.fillBBox=void 0:t.fillBBox=e[i.bounds],t.fillParams=n}function Dc(t,i,e,n){let r=i?.opacity??1;t.fill=i?.fill,WW(t,t.fill,e,n),t.fillOpacity=(i?.fillOpacity??1)*r,t.stroke=i?.stroke,t.strokeOpacity=(i?.strokeOpacity??1)*r,t.strokeWidth=i?.strokeWidth??0,t.lineDash=i?.lineDash,t.lineDashOffset=i?.lineDashOffset??0}var $W=(t=>(t[t.EXACT_SHAPE_MATCH=0]="EXACT_SHAPE_MATCH",t[t.NEAREST_NODE=1]="NEAREST_NODE",t[t.AXIS_ALIGNED=2]="AXIS_ALIGNED",t))($W||{}),Ghe=.25,Whe=.125,GD=class{constructor(t,i,e,n){this.type=t,this.event=i,this.defaultPrevented=!1,this.datum=e.datum,this.seriesId=n.id}preventDefault(){this.defaultPrevented=!0}},eD=class{constructor(t,i){this.series=t,this.seriesGrouping=i,this.type="groupingChanged"}};function LH(t){switch(t){case"x":return"x";case"y":return"y";case"angle":return"angle";case"radius":return"radius"}}function g1(t){switch(t){case"x":return"x";case"y":return"y";case"angle":return"angle";case"radius":return"radius"}}var WD=class extends sG{constructor(t){super(),this.cleanup=new pt,this.usesPlacedLabels=!1,this.hasChangesOnHighlight=!1,this.seriesGrouping=void 0,this.NodeEvent=GD,this.internalId=pn(this),this.contentGroup=new Wr({name:`${this.internalId}-content`,zIndex:1}),this.highlightGroup=new Wr({name:`${this.internalId}-highlight`,zIndex:1}),this.annotationGroup=new Wr({name:`${this.internalId}-annotation`}),this.labelGroup=new Wr({name:`${this.internalId}-series-labels`}),this.axes={},this.directions=["x","y"],this.nodeDataRefresh=!0,this.moduleMap=new hO,this.datumCallbackCache=new Map,this.connectsToYAxis=!1,this.declarationOrder=-1,this._broughtToFront=!1,this.events=new Vr,this._pickNodeCache=new HR,this.fireEventWrapper=o=>super.fireEvent(o);let{moduleCtx:i,pickModes:e,propertyKeys:n={},propertyNames:r={},canHaveAxes:a=!1,usesPlacedLabels:s=!1}=t;this.ctx=i,this.propertyKeys=n,this.propertyNames=r,this.canHaveAxes=a,this.usesPlacedLabels=s,this.pickModes=e,this.cleanup.register(this.ctx?.eventsHub.on("highlight:change",o=>this.onChangeHighlight(o)))}get pickModeAxis(){return"main"}get id(){return this.properties?.id??this.internalId}get type(){return this.constructor.type??""}get focusable(){return!0}get data(){return this._data??this._chartData}set visible(t){this.properties.visible=t,this.ctx.legendManager.toggleItem(t,this.id),this.ctx.legendManager.update(),this.visibleMaybeChanged()}get visible(){return this.ctx.legendManager.getSeriesEnabled(this.id)??this.properties.visible}get hasData(){return this.data!=null&&this.data.length>0}get tooltipEnabled(){return this.properties.tooltip?.enabled}onDataChange(){this.nodeDataRefresh=!0,this._pickNodeCache.clear()}setOptionsData(t){this._data=t,this.onDataChange()}setChartData(t){this._chartData=t,this.data===t&&this.onDataChange()}onSeriesGroupingChange(t,i){let{internalId:e,type:n,visible:r}=this;t&&this.ctx.seriesStateManager.deregisterSeries(this),i&&this.ctx.seriesStateManager.registerSeries({internalId:e,type:n,visible:r,seriesGrouping:i}),this.fireEvent(new eD(this,i))}getBandScalePadding(){return{inner:1,outer:0}}attachSeries(t,i,e){t.appendChild(this.contentGroup),i.appendChild(this.highlightGroup),i.appendChild(this.labelGroup),e?.appendChild(this.annotationGroup)}detachSeries(t,i,e){t?.removeChild(this.contentGroup),i.removeChild(this.highlightGroup),i.removeChild(this.labelGroup),e?.removeChild(this.annotationGroup)}setSeriesIndex(t,i=!1){let e=this.bringToFront();return!i&&t===this.declarationOrder&&e===this._broughtToFront?!1:(this.declarationOrder=t,this._broughtToFront=e,this.setZIndex(e?Number.MAX_VALUE:t),this.fireEvent(new eD(this,this.seriesGrouping)),!0)}setZIndex(t){this.contentGroup.zIndex=[1,t,0],this.highlightGroup.zIndex=[1,t,1],this.labelGroup.zIndex=[1,t,2],this.annotationGroup.zIndex=t}renderToOffscreenCanvas(){return!1}addEventListener(t,i){return super.addEventListener(t,i)}removeEventListener(t,i){return super.removeEventListener(t,i)}hasEventListener(t){return super.hasEventListener(t)}addChartEventListeners(){}updatedDomains(){}destroy(){this.cleanup.flush(),this.resetDatumCallbackCache(),this.ctx.seriesStateManager.deregisterSeries(this)}getPropertyValues(t,i){let e=LH(t),n=e!=null?g1(this.resolveKeyDirection(e)):t,r=i?.[n],a=[];if(!r)return a;let s=(...o)=>{for(let l of o)Array.isArray(l)?s(...l):typeof l=="object"?s(...Object.values(l)):a.push(l)};return s(...r.map(o=>this.properties[o])),a}getKeys(t){return this.getPropertyValues(g1(t),this.propertyKeys)}getKeyProperties(t){return this.propertyKeys[this.resolveKeyDirection(t)]??[]}getNames(t){return this.getPropertyValues(g1(t),this.propertyNames)}getFormatterContext(t){let{id:i}=this,e=this.getPropertyValues(t,this.propertyKeys),n=this.getPropertyValues(t,this.propertyNames),r=[];for(let a=0;a<e.length;a++)r.push({seriesId:i,key:e[a],name:n[a]});return r}resolveKeyDirection(t){return t}getDomain(t){let i=this.getSeriesDomain(t),e=this.moduleMap.mapModules(n=>n.getDomain(t)).flat();return e.length!==0?i.concat(e):i}getRange(t,i){return this.getSeriesRange(t,i)}getVisibleItems(t,i,e){return 1/0}markNodeDataDirty(){this.nodeDataRefresh=!0,this._pickNodeCache.clear(),this.visibleMaybeChanged()}visibleMaybeChanged(){this.ctx.seriesStateManager.updateSeries(this)}getOpacity(){if(!this.properties.highlight)return 1;let{opacity:i=1}=this.getHighlightStyle();return i}getHighlightState(t,i,e,n){if(i)return 1;if(t?.series==null)return 0;if(this.isSeriesHighlighted(t,n)){let r=this.isItemHighlighted(t,e);return r==null||r?2:4}return 3}getHighlightStateString(t,i,e,n){switch(this.getHighlightState(t,i,e,n)){case 1:return"highlighted-item";case 4:return"unhighlighted-item";case 2:return"highlighted-series";case 3:return"unhighlighted-series";case 0:default:return"none"}}onChangeHighlight(t){let i=t.previousHighlight,e=t.currentHighlight,n=this.getHighlightState(e),r=this.getHighlightState(i);if(this.setSeriesIndex(this.declarationOrder),n===r){this.hasChangesOnHighlight=!1;return}let{highlightedSeries:a,unhighlightedItem:s,unhighlightedSeries:o}=this.properties.highlight,l=this.hasItemStylers();this.hasChangesOnHighlight=l||!JC(a)||!JC(s)||!JC(o)}bringToFront(){return this.properties.highlight.bringToFront&&this.isSeriesHighlighted(this.ctx.highlightManager.getActiveHighlight())}isSeriesHighlighted(t,i){return t?.series===this}isItemHighlighted(t,i){if(!(t?.datumIndex==null||i==null))return t.datumIndex===i}getHighlightStyle(t,i,e){let n=this.ctx.highlightManager?.getActiveHighlight(),r=this.getHighlightState(n,t,i,e);return this.properties.highlight.getStyle(r)}getModuleTooltipParams(){return this.moduleMap.mapModules(t=>t.getTooltipParams()).reduce((t,i)=>Object.assign(t,i),{})}pickNodes(t,i,e=!1){let{pickModes:n,pickModeAxis:r,visible:a,contentGroup:s}=this;if(!a||!s.visible||i==="highlight"&&!this.properties.highlight.enabled||i==="highlight-tooltip"&&!this.properties.highlight.enabled)return;let o=1/0;if(i==="tooltip"||i==="highlight-tooltip"){let{tooltip:h}=this.properties;o=typeof h.range=="number"?h.range:1/0,e||(e=h.range==="exact")}else if(i==="event"||i==="context-menu"){let{nodeClickRange:h}=this.properties;o=typeof h=="number"?h:1/0,e||(e=h==="exact")}let l=n.filter(h=>!e||h===0),{x:c,y:d}=t,u=JSON.stringify({x:c,y:d,maxDistance:o,selectedPickModes:l});if(this._pickNodeCache.has(u))return this._pickNodeCache.get(u);for(let h of l){let m;switch(h){case 0:{let p=this.pickNodesExactShape(t);m=p.length===0?void 0:{datums:p,distance:0};break}case 1:{let p=this.pickNodeClosestDatum(t),g=p?.distance===0?this.pickNodesExactShape(t):void 0;g!=null&&g.length!==0?m={datums:g,distance:0}:p?m={datums:[p.datum],distance:p.distance}:m=void 0;break}case 2:{let p=r!=null?this.pickNodeMainAxisFirst(t,r==="main-category"):void 0;m=p!=null?{datums:[p.datum],distance:p.distance}:void 0;break}}if(m&&m.distance<=o)return this._pickNodeCache.set(u,{pickMode:h,datums:m.datums,distance:m.distance})}return this._pickNodeCache.set(u,void 0)}pickNodesExactShape(t){let i=[];for(let e of this.contentGroup.pickNodes(t.x,t.y)){let n=e.closestDatum();n!=null&&n.missing!==!0&&i.push(n)}return i}pickNodeClosestDatum(t){throw new Error("AG Charts - Series.pickNodeClosestDatum() not implemented")}pickNodeNearestDistantObject(t,i){let e=bD(t.x,t.y,i),n=e.nearest?.closestDatum();if(n!=null&&n.missing!==!0)return{datum:n,distance:Math.sqrt(e.distanceSquared)}}pickNodeMainAxisFirst(t,i){throw new Error("AG Charts - Series.pickNodeMainAxisFirst() not implemented")}getLabelData(){return[]}updatePlacedLabelData(t){}fireEvent(t){Ro([this.properties,this.ctx.chartService],this.fireEventWrapper,t)}fireNodeClickEvent(t,i){let e=new this.NodeEvent("seriesNodeClick",t,i,this);return this.fireEvent(e),!e.defaultPrevented}fireNodeDoubleClickEvent(t,i){let e=new this.NodeEvent("seriesNodeDoubleClick",t,i,this);return this.fireEvent(e),!e.defaultPrevented}createNodeContextMenuActionEvent(t,i){return new this.NodeEvent("nodeContextMenuAction",t,i,this)}onLegendInitialState(t,i){let{visible:e=!0,itemId:n,legendItemName:r}=i??{};this.toggleSeriesItem(e,t,n,r)}onLegendItemClick(t){let{enabled:i,itemId:e,series:n,legendType:r}=t,a="legendItemName"in this.properties?this.properties.legendItemName:void 0,s="legendItemKey"in this.properties?this.properties.legendItemKey:void 0,o=a!=null&&a===t.legendItemName;(n.id===this.id||o||s!=null)&&this.toggleSeriesItem(i,r,e,a,t)}onLegendItemDoubleClick(t){let{enabled:i,itemId:e,series:n,numVisibleItems:r,legendType:a}=t,s="legendItemName"in this.properties?this.properties.legendItemName:void 0,o="legendItemKey"in this.properties?this.properties.legendItemKey:void 0,l=s!=null&&s===t.legendItemName;n.id===this.id||l||o!=null?this.toggleSeriesItem(!0,a,e,s,t):i&&r===1?this.toggleSeriesItem(!0,a,void 0,s):this.toggleSeriesItem(!1,a,void 0,s)}toggleSeriesItem(t,i,e,n,r){let a=this.id;(t||i!=="category")&&(this.visible=t),this.nodeDataRefresh=!0,this._pickNodeCache.clear();let s={type:"seriesVisibilityChange",seriesId:a,itemId:e,legendItemName:r?.legendItemName??n,visible:t};this.fireEvent(s),this.ctx.legendManager.toggleItem(t,a,e,n)}isEnabled(){return this.visible}getModuleMap(){return this.moduleMap}createModuleContext(){return S(f({},this.ctx),{series:this})}getAxisValueText(t,i,e,n,r,a){let{id:s,properties:o}=this;return t.formatDatum(o,e,i,s,a,n,r)}getLabelText(t,i,e,n,r,a,s){if(t==null)return"";let{axes:o,canHaveAxes:l,ctx:c,id:d,properties:u}=this,h="series-label",m="legendItemName"in u?u.legendItemName:void 0,p=f({seriesId:this.id},s),g=l?LH(n):void 0,b=g!=null?o[this.resolveKeyDirection(g)]:void 0;if(b!=null)return b.formatDatum(u,t,h,d,m,i,e,r,a,p);let{formatManager:v}=c,_=this.callWithContext.bind(this),w=I=>a.formatValue(_,I.type,I.value,p)??v.format(_,I)??String(t),D=this.getFormatterContext(n);switch(n){case"y":case"color":case"size":return w({type:"number",value:t,datum:i,seriesId:d,legendItemName:m,key:e,source:h,property:n,domain:r,boundSeries:D,fractionDigits:void 0});case"x":case"radius":case"angle":case"label":case"secondaryLabel":case"calloutLabel":case"sectorLabel":case"legendItem":return w({type:"category",value:t,datum:i,seriesId:d,legendItemName:m,key:e,source:h,property:n,domain:r,boundSeries:D})}}getMarkerStyle(t,{datumIndex:i,datum:e,point:n},r,a=!1,s={size:n?.size??t.size??0},o,l=!0){let{itemStyler:c,fillGradientDefaults:d,fillPatternDefaults:u,fillImageDefaults:h}=t,m=l?this.getHighlightStyle(a,i):void 0,p=Xt(m,s,t.getStyle(),o),g=El(p,d,u,h);if(c&&r){let b=this.ctx.highlightManager?.getActiveHighlight(),v=this.getHighlightStateString(b,a,i),_=this.cachedCallWithContext(c,S(f(f({seriesId:this.id},g),r),{highlighted:a,highlightState:v,datum:e}));g=El(Xt(_,g),d,u,h)}return g}applyMarkerStyle(t,i,e,n,{applyTranslation:r=!0,selected:a=!0}={}){let{shape:s,size:o=0}=t,l=this.visible&&o>0&&e&&!isNaN(e.x)&&!isNaN(e.y);if(Dc(i,t,n),r?i.setProperties({visible:l,shape:s,size:o,x:e?.x,y:e?.y,scalingCenterX:e?.x,scalingCenterY:e?.y}):i.setProperties({visible:l,shape:s,size:o}),a||(i.fillOpacity*=Ghe,i.strokeOpacity*=Whe),typeof s=="function"&&!i.dirtyPath){i.path.clear(!0),i.updatePath(),i.checkPathDirty();let c=i.getBBox();if(e!=null&&c.isFinite()){let d=c.computeCenter(),[u,h]=["x","y"].map(m=>(t.strokeWidth??0)+Math.abs(d[m]-e[m]));e.focusSize=Math.max(c.width+u,c.height+h)}}}get nodeDataDependencies(){return this._nodeDataDependencies??{seriesRectWidth:NaN,seriesRectHeight:NaN}}checkResize(t){let{width:i,height:e}=t??{width:NaN,height:NaN},n=t?{seriesRectWidth:i,seriesRectHeight:e}:void 0,r=Ec(this.nodeDataDependencies,n)!=null;return r&&(this._nodeDataDependencies=n,this.markNodeDataDirty()),r}pickFocus(t){}resetDatumCallbackCache(){this.datumCallbackCache.clear()}cachedDatumCallback(t,i){let{datumCallbackCache:e}=this,n=e.get(t);if(n!=null)return n;try{let r=i();return e.set(t,r),r}catch(r){j.error(String(r))}}cachedCallWithContext(t,...i){return this.ctx.callbackCache.call([this.properties,this.ctx.chartService],t,...i)}callWithContext(t,...i){return Ro([this.properties,this.ctx.chartService],t,...i)}formatTooltipWithContext(t,i,e){return t.formatTooltip([this.properties,this.ctx.chartService],i,e)}minTimeInterval(){}};y([Yr({changeValue:function(t,i){this.onSeriesGroupingChange(i,t)}})],WD.prototype,"seriesGrouping",2);var $he=class{constructor(t){this.swapChain=t,this.hasBeenActivated=!1,this.div=Ne("div"),this.svg=qt("svg"),this.outerPath=qt("path"),this.innerPath=qt("path"),this.svg.append(this.outerPath),this.svg.append(this.innerPath),this.outerPath.classList.add("ag-charts-focus-svg-outer-path"),this.innerPath.classList.add("ag-charts-focus-svg-inner-path"),this.element=Ne("div","ag-charts-focus-indicator"),this.element.ariaHidden="true",this.element.append(this.svg),this.swapChain.addListener("swap",i=>this.onSwap(i))}clear(){}update(t,i,e){if(i!=null)if(t instanceof ya){let n=(a,s)=>{let{x:o,y:l}=rn.toCanvasPoint(t,a,s);return o-=i.x??0,l-=i.y??0,{x:o,y:l}},r=t.svgPathData(n);this.outerPath.setAttribute("d",r),this.innerPath.setAttribute("d",r),this.show(this.svg)}else{let n;if(e){let r=Math.max(t.x-i.x,0),a=Math.max(t.y-i.y,0),s=Math.min(t.x+t.width-i.x,i.width),o=Math.min(t.y+t.height-i.y,i.height);n=new _e(r,a,s-r,o-a)}else n=new _e(t.x-i.x,t.y-i.y,t.width,t.height);$w(this.div,n),this.show(this.div)}}onSwap(t){t!==this.element.parentElement&&(this.element.remove(),t.appendChild(this.element),this.overrideFocusVisible(this.focusVisible))}show(t){this.hasBeenActivated=!0,this.element.innerHTML="",this.element.append(t)}overrideFocusVisible(t){this.focusVisible=t;let i={true:"1",false:"0",undefined:""};this.element.parentElement?.style.setProperty("opacity",i[`${t}`])}isFocusVisible(t=!1){if(!t&&!this.hasBeenActivated)return!1;let i=this.element.parentElement;return i!=null&&Je().getComputedStyle(i).opacity==="1"}},Yhe=class{constructor(t,i,e,n){this.label1=t,this.label2=i,this.hasFocus=!1,this.skipDispatch=!1,this.listeners={blur:[],focus:[],swap:[]},this.onBlur=r=>(Ra(r.target,"pointer-events",void 0),!this.skipDispatch&&this.dispatch("blur",r)),this.onFocus=r=>(Ra(r.target,"pointer-events","auto"),!this.skipDispatch&&this.dispatch("focus",r)),et(this.label1,"id",gh()),et(this.label2,"id",gh()),Ra(this.label1,"display","none"),Ra(this.label2,"display","none"),this.label1.textContent=n,this.label2.textContent=n,this.activeAnnouncer=this.createAnnouncer(e),this.inactiveAnnouncer=this.createAnnouncer(e),et(this.activeAnnouncer,"tabindex",0),this.label2.insertAdjacentElement("afterend",this.activeAnnouncer),this.label2.insertAdjacentElement("afterend",this.inactiveAnnouncer),this.swap(n)}createAnnouncer(t){let i=Ne("div");return i.role=t,i.className="ag-charts-swapchain",i.addEventListener("blur",this.onBlur),i.addEventListener("focus",this.onFocus),i}destroy(){for(let t of[this.activeAnnouncer,this.inactiveAnnouncer])t.removeEventListener("blur",this.onBlur),t.removeEventListener("focus",this.onFocus),t.remove()}focus(t){this.focusOptions=t,this.activeAnnouncer.focus(t),this.focusOptions=void 0}update(t){this.skipDispatch=!0,this.swap(t),this.hasFocus&&this.activeAnnouncer.focus(this.focusOptions),this.skipDispatch=!1}addListener(t,i){this.listeners[t].push(i),t==="swap"&&i(this.activeAnnouncer)}dispatch(t,i){t==="focus"?this.hasFocus=!0:t==="blur"&&(this.hasFocus=!1),this.listeners[t].forEach(e=>e(i))}swap(t){let i=this.activeAnnouncer.tabIndex;this.label2.textContent=t,[this.inactiveAnnouncer,this.activeAnnouncer]=[this.activeAnnouncer,this.inactiveAnnouncer],[this.label1,this.label2]=[this.label2,this.label1],Td(this.inactiveAnnouncer,{"aria-labelledby":this.label1.id,"aria-hidden":!0,tabindex:void 0}),Td(this.activeAnnouncer,{"aria-labelledby":this.label1.id,"aria-hidden":!1,tabindex:i}),this.dispatch("swap",this.activeAnnouncer)}},Khe={arrowdown:{bindings:[{code:"ArrowDown"}]},arrowleft:{bindings:[{code:"ArrowLeft"}]},arrowright:{bindings:[{code:"ArrowRight"}]},arrowup:{bindings:[{code:"ArrowUp"}]},delete:{bindings:[{key:"Backspace"},{key:"Delete"}],activatesFocusIndicator:!1},redo:{bindings:[{key:"y",ctrlOrMeta:!0},{key:"z",ctrlOrMeta:!0,shift:!0}],activatesFocusIndicator:!1},undo:{bindings:[{key:"z",ctrlOrMeta:!0}],activatesFocusIndicator:!1},submit:{bindings:[{key:"Enter"},{code:"Enter"},{code:"Space"}]},zoomin:{bindings:[{key:"+"},{code:"ZoomIn"},{code:"Add"}],activatesFocusIndicator:!1},zoomout:{bindings:[{key:"-"},{code:"ZoomOut"},{code:"Substract"}],activatesFocusIndicator:!1}};function qhe(t,i){for(let e of i)if("code"in e){if(e.code===t.code)return!0}else if(e.key===t.key&&(e.shift===void 0||e.shift===t.shiftKey)&&(e.ctrlOrMeta===void 0||e.ctrlOrMeta===t.ctrlKey||e.ctrlOrMeta===t.metaKey))return!0;return!1}function Zhe(t){for(let[i,{activatesFocusIndicator:e=!0,bindings:n}]of dr(Khe))if(qhe(t,n))return{name:i,activatesFocusIndicator:e}}function Qhe(t,i,e){let n=iO(t,e.datum,e.movedBounds);if(n!=null)return{x:n.canvasX,y:n.canvasY};let r=e.bounds;if(r!=null){if(r instanceof _e){let{x:a,y:s}=r.computeCenter();return{x:i.x+a,y:i.y+s}}return rn.toCanvas(r).computeCenter()}}function Xhe({bounds:t}){return t instanceof _e?t:t!=null?rn.toCanvas(t):_e.NaN}function Jhe(t,i,e){let{x:n,y:r}=Qhe(t,i,e)??{};if(n!==void 0&&r!==void 0)return{type:"keyboard",canvasX:n,canvasY:r}}function YW(t,i,e,n){let{top:r,right:a,bottom:s,left:o,width:l,height:c}=n;return o!=null?l!=null?a=e.width-o+l:a!=null&&(l=e.width-o-a):a!=null&&l!=null&&(o=e.width-a-l),r!=null?c!=null?s=e.height-r-c:s!=null&&(c=e.height-s-r):s!=null&&c!=null&&(r=e.height-s-c),l==null?c==null?(c=i,l=t):l=Math.ceil(t*c/i):c??(c=Math.ceil(i*l/t)),o==null&&(a==null?o=Math.floor((e.width-l)/2):o=e.width-a-l),r==null&&(s==null?r=Math.floor((e.height-c)/2):r=e.height-c-s),{x:o,y:r,width:l,height:c}}var NH=.1,PH=200,FH=12,eme=.5,tme=class{constructor(){this.events=new Vr,this.x1=NaN,this.y1=NaN,this.x=NaN,this.y=NaN,this.vx=0,this.vy=0,this.t0=NaN,this.animationFrameHandle=void 0}reset(){this.x=NaN,this.y=NaN,this.animationFrameHandle!=null&&(cancelAnimationFrame(this.animationFrameHandle),this.animationFrameHandle=void 0)}update(t,i){if(Number.isNaN(this.x)||Number.isNaN(this.y)){this.x=t,this.y=i,this.vx=0,this.vy=0,this.emitUpdate(),this.animationFrameHandle!=null&&(cancelAnimationFrame(this.animationFrameHandle),this.animationFrameHandle=void 0);return}this.x1=t,this.y1=i,this.t0=Date.now(),this.animationFrameHandle??(this.animationFrameHandle=requestAnimationFrame(this.onFrame.bind(this)))}onFrame(){this.animationFrameHandle=void 0;let{x1:t,y1:i,t0:e}=this,n=Date.now(),r=n-e;this.t0=n;let a=.001,s=Math.ceil(r/(a*1e3))|0,{x:o,y:l,vx:c,vy:d}=this;for(let u=0;u<s;u+=1){let h=o-t,m=l-i,p=-(PH*h+FH*c)/NH,g=-(PH*m+FH*d)/NH;c+=p*a,d+=g*a,o+=c*a,l+=d*a}Math.hypot(o-t,l-i)<eme?(this.x=this.x1,this.y=this.y1,this.vx=0,this.vy=0):(this.x=o,this.y=l,this.vx=c,this.vy=d,this.animationFrameHandle=requestAnimationFrame(this.onFrame.bind(this))),this.emitUpdate()}emitUpdate(){this.events.emit("update",{x:this.x,y:this.y})}},fw=null;function Qb(t){return t===""?"":(fw??(fw=Ne("div")),fw.textContent=String(t),fw.innerHTML.replace(/\n/g,"<br>"))}function Hb(t,i){let{path:e,size:n}=t,{x:r,y:a}=t;e.clear();let s=!1;for(let[o,l]of i){let c=r+(o-.5)*n,d=a+(l-.5)*n;s?e.lineTo(c,d):e.moveTo(c,d),s=!0}e.closePath()}var ime={circle({path:t,x:i,y:e,size:n}){let r=n/2;t.arc(i,e,r,0,Math.PI*2),t.closePath()},cross(t){Hb(t,[[.25,0],[.5,.25],[.75,0],[1,.25],[.75,.5],[1,.75],[.75,1],[.5,.75],[.25,1],[0,.75],[.25,.5],[0,.25]])},diamond(t){Hb(t,[[.5,0],[1,.5],[.5,1],[0,.5]])},heart({path:t,x:i,y:e,size:n}){let r=n/4;e=e+r/2,t.arc(i-r,e-r,r,Ar(130),Ar(330)),t.arc(i+r,e-r,r,Ar(220),Ar(50)),t.lineTo(i,e+r),t.closePath()},pin({path:t,x:i,y:e,size:n}){t.moveTo(i+(.15625-.5)*n,e+(.34375-.5)*n),t.cubicCurveTo(i+(.15625-.5)*n,e+(.151491-.5)*n,i+(.307741-.5)*n,e+(0-.5)*n,i+(.5-.5)*n,e+(0-.5)*n),t.cubicCurveTo(i+(.692259-.5)*n,e+(0-.5)*n,i+(.84375-.5)*n,e+(.151491-.5)*n,i+(.84375-.5)*n,e+(.34375-.5)*n),t.cubicCurveTo(i+(.84375-.5)*n,e+(.493824-.5)*n,i+(.784625-.5)*n,e+(.600181-.5)*n,i+(.716461-.5)*n,e+(.695393-.5)*n),t.cubicCurveTo(i+(.699009-.5)*n,e+(.719769-.5)*n,i+(.681271-.5)*n,e+(.743104-.5)*n,i+(.663785-.5)*n,e+(.766105-.5)*n),t.cubicCurveTo(i+(.611893-.5)*n,e+(.834367-.5)*n,i+(.562228-.5)*n,e+(.899699-.5)*n,i+(.528896-.5)*n,e+(.980648-.5)*n),t.cubicCurveTo(i+(.524075-.5)*n,e+(.992358-.5)*n,i+(.512663-.5)*n,e+(1-.5)*n,i+(.5-.5)*n,e+(1-.5)*n),t.cubicCurveTo(i+(.487337-.5)*n,e+(1-.5)*n,i+(.475925-.5)*n,e+(.992358-.5)*n,i+(.471104-.5)*n,e+(.980648-.5)*n),t.cubicCurveTo(i+(.487337-.5)*n,e+(1-.5)*n,i+(.475925-.5)*n,e+(.992358-.5)*n,i+(.471104-.5)*n,e+(.980648-.5)*n),t.cubicCurveTo(i+(.437772-.5)*n,e+(.899699-.5)*n,i+(.388107-.5)*n,e+(.834367-.5)*n,i+(.336215-.5)*n,e+(.766105-.5)*n),t.cubicCurveTo(i+(.318729-.5)*n,e+(.743104-.5)*n,i+(.300991-.5)*n,e+(.719769-.5)*n,i+(.283539-.5)*n,e+(.695393-.5)*n),t.cubicCurveTo(i+(.215375-.5)*n,e+(.600181-.5)*n,i+(.15625-.5)*n,e+(.493824-.5)*n,i+(.15625-.5)*n,e+(.34375-.5)*n),t.closePath()},plus(t){Hb(t,[[1/3,0],[2/3,0],[2/3,1/3],[1,1/3],[1,2/3],[2/3,2/3],[2/3,1],[1/3,1],[1/3,2/3],[0,2/3],[0,1/3],[1/3,1/3]])},square({path:t,x:i,y:e,size:n,pixelRatio:r}){let a=n/2;t.moveTo(Xn(r,i-a),Xn(r,e-a)),t.lineTo(Xn(r,i+a),Xn(r,e-a)),t.lineTo(Xn(r,i+a),Xn(r,e+a)),t.lineTo(Xn(r,i-a),Xn(r,e+a)),t.closePath()},star({path:t,x:i,y:e,size:n}){let a=n/2,s=a/2,o=Math.PI/2;for(let l=0;l<5*2;l++){let c=l%2===0?a:s,d=l*Math.PI/5-o,u=i+Math.cos(d)*c,h=e+Math.sin(d)*c;t.lineTo(u,h)}t.closePath()},triangle(t){Hb(t,[[.5,0],[1,.87],[0,.87]])}},zv=class extends ya{constructor(){super(...arguments),this.shape="square",this.x=0,this.y=0,this.size=12}isPointInPath(t,i){return this.distanceSquared(t,i)<=0}distanceSquared(t,i){let e=On.anchor(this.shape);return Math.max(Math.hypot(t-this.x+(e.x-.5)*this.size,i-this.y+(e.y-.5)*this.size)-this.size/2,0)}updatePath(){let{path:t,shape:i,x:e,y:n,size:r}=this,a=this.layerManager?.canvas?.pixelRatio??1,s=On.anchor(i),o={path:t,x:e-(s.x-.5)*r,y:n-(s.y-.5)*r,size:r,pixelRatio:a};t.clear(),typeof i=="string"?ime[i](o):typeof i=="function"&&i(o)}computeBBox(){let{x:t,y:i,size:e}=this,n=On.anchor(this.shape);return new _e(t-e*n.x,i-e*n.y,e,e)}executeFill(t,i){if(i)return super.executeFill(t,i)}executeStroke(t,i){if(i)return super.executeStroke(t,i)}};y([cs({equals:Ff})],zv.prototype,"shape",2);y([ee()],zv.prototype,"x",2);y([ee()],zv.prototype,"y",2);y([ee({convertor:Math.abs})],zv.prototype,"size",2);var On=class extends Bf(jR(jf(zv))){static anchor(t){return t==="pin"?{x:.5,y:1}:typeof t=="function"&&"anchor"in t?t.anchor:{x:.5,y:.5}}constructor(t){super(t),t?.shape!=null&&(this.shape=t.shape)}};function KW(t,i,e=i*(5/3)){let n=new ht,r=Math.min(t.marker.strokeWidth??1,2),a=Math.min(t.line?.strokeWidth??0,2),s=Math.max(t.marker.enabled===!1?0:i,t.line==null?0:e),o=Math.max(t.marker.enabled===!1?0:i,a);if(t.line!=null){let{stroke:l,strokeOpacity:c,lineDash:d}=t.line,u=new Fs;u.x1=0,u.y1=o/2,u.x2=s,u.y2=o/2,u.stroke=l,u.strokeOpacity=c,u.strokeWidth=a,u.lineDash=d,n.append(u)}if(t.marker.enabled!==!1){let{shape:l,fill:c,fillOpacity:d,stroke:u,strokeOpacity:h,lineDash:m,lineDashOffset:p}=t.marker,g=new On;g.shape=l??"square",g.size=i,g.fill=c,g.fillOpacity=d??1,g.stroke=u,g.strokeOpacity=h??1,g.strokeWidth=r,g.lineDash=m,g.lineDashOffset=p??0;let b=On.anchor(l),v=s/2+(b.x-.5)*i,_=o/2+(b.y-.5)*i,w=i/(i+r);g.x=v,g.y=_,g.scalingCenterX=v,g.scalingCenterY=_,g.scalingX=w,g.scalingY=w,n.append(g)}return ht.toSVG(n,s,o)}var hr="ag-charts-tooltip",qW="ag-charts-tooltip--dark";function ZW(t){let i=[],e=new Map;for(let n of t)if(n.type==="structured"){let{heading:r}=n,a=r!=null?e.get(r):void 0,s={type:"structured",heading:r,items:[n]};a==null?(e.set(r,s),i.push(s)):a.items.push(n)}else i.push(n);return i}function QW(t){let i=ZW(t),e=[];return i.forEach(n=>{if(n.type==="raw")return"";n.heading!=null&&e.push(n.heading),n.items.forEach(r=>{r.title!=null&&e.push(r.title),r.data?.forEach(a=>{e.push(a.label??a.fallbackLabel,a.value)})})}),e.join("; ")}function cR(t,i,e){let n="";t==null?n+=`<span class="${hr}-label">${Qb(i)}</span>`:(n+=`<span class="${hr}-label">${Qb(t)}</span>`,n+=" ",n+=`<span class="${hr}-value">${Qb(i)}</span>`);let r=[`${hr}-row`];return e&&r.push(`${hr}-row--inline`),n=`<div class="${r.join(" ")}">${n}</div>`,n}function nme(t){let i="";if(t.data?.length&&t.data.every(r=>r.value==null||r.value===""))return i;let e=t.title==null&&t.data?.length===1,n=t.symbol==null?void 0:KW(t.symbol,12);return n!=null&&(t.title!=null||t.data?.length)&&(i+=`<span class="${hr}-symbol">${n}</span>`),t.title!=null&&(i+=`<span class="${hr}-title">${Qb(t.title)}</span>`,i+=" "),t.data?.forEach(r=>{i+=cR(r.label??r.fallbackLabel,r.value,e),i+=" "}),i}function XW(t,i){if(t==null||i.length===1)return;let e=t?.t("tooltipPaginationStatus",{index:i.index+1,count:i.length});return`<div class="${hr}-footer">${e}</div>`}function VH(t,i,e,n){let r=i.items.length===1?i.items[0]:void 0,a,s,o;switch(e){case"compact":a=!0,s=r?.title;break;case"single":a=r!=null&&(i.heading==null||r.title==null)&&r.data?.length===1&&r.data[0].label==null&&r.data[0].value!=null,o=i.heading??r?.title;break;case"shared":a=!1}let l="";if(a&&r!=null?(s!=null&&(l+=cR(void 0,s,!1)),r.data?.forEach(d=>{l+=cR(d.label??o,d.value,!1),l+=" "})):(i.heading!=null&&(l+=`<span class="${hr}-heading">${Qb(i.heading)}</span>`,l+=" "),i.items.forEach(d=>{l+=nme(d)})),l.length===0)return;let c=e!=="compact"&&n!=null?XW(t,n):void 0;return c+null&&(l+=c),l=`<div class="${hr}-content">${l.trimEnd()}</div>`,l}function rme(t,i){let e=i==null?void 0:XW(t,i);return e==null?"":`<div class="${hr}-content">${e}</div>`}function JW(t,i,e,n){let r=ZW(i);if(r.length!==0){if(r.length===1&&r[0].type==="structured")return VH(t,r[0],e,n);{let a=r.map(s=>s.type==="structured"?VH(t,s,e):s.rawHtmlString);return n!=null&&a.push(rme(t,n)??""),a.join("")}}}var ame={left:-1,"top-left":-1,"bottom-left":-1,top:0,center:0,bottom:0,right:1,"top-right":1,"bottom-right":1},sme={"top-left":-1,top:-1,"top-right":-1,left:0,center:0,right:0,"bottom-left":1,bottom:1,"bottom-right":1},ome={left:3,"top-left":void 0,"bottom-left":void 0,top:2,center:void 0,bottom:1,right:0,"top-right":void 0,"bottom-right":void 0},BH={top:2,bottom:2,left:1,right:1,"top-right":3,"top-left":3,"bottom-right":3,"bottom-left":3,center:0},lme={pointer:"top",node:"top",chart:"top-left"},qh=class extends tt{constructor(){super(...arguments),this.xOffset=0,this.yOffset=0}};y([C],qh.prototype,"xOffset",2);y([C],qh.prototype,"yOffset",2);y([C],qh.prototype,"anchorTo",2);y([C],qh.prototype,"placement",2);var Ws=class extends tt{constructor(){super(),this.enabled=!0,this.mode="single",this.delay=0,this.range=void 0,this.wrapping="hyphenate",this.position=new qh,this.pagination=!1,this.darkTheme=!1,this.bounds="extended",this.cleanup=new pt,this.springAnimation=new tme,this.enableInteraction=!1,this.wrapTypes=["always","hyphenate","on-space","never"],this.sizeMonitor=new xG,this._elementSize=void 0,this._showTimeout=void 0,this.arrowPosition=void 0,this._visible=!1,this.positionParams=void 0,this.localeManager=void 0,this.cleanup.register(this.springAnimation.events.on("update",this.updateTooltipPosition.bind(this)))}get interactive(){return this.enableInteraction}setup(t,i){return"togglePopover"in Je().HTMLElement.prototype&&(this.element=i.addChild("tooltip-container",hr),this.element.setAttribute("popover","manual"),this.element.className=hr,this.element.style.positionAnchor=i.anchorName,this.sizeMonitor.observe(this.element,e=>{this._elementSize=e,this.updateTooltipPosition()})),this.localeManager=t,()=>{i.removeChild("tooltip-container",hr),this.cleanup.flush(),this.element&&this.sizeMonitor.unobserve(this.element)}}isVisible(){return this._visible}contains(t){return this.element?.contains(t)??!1}updateTooltipPosition(){let{element:t,_elementSize:i,positionParams:e}=this;if(t==null||i==null||e==null)return;let{canvasRect:n,relativeRect:r,meta:a}=e,{x:s,y:o}=this.springAnimation,l=a.position?.anchorTo??"pointer",c=a.position?.placement??lme[l];Array.isArray(c)||(c=[c]);let d=a.position?.xOffset??0,u=a.position?.yOffset??0,h=r.x,m=r.y,p=r.width-i.width-1+h,g=r.height-i.height+m,b=0,v,_,w=!1;do{v=c[b],b+=1;let N=this.getTooltipBounds({elementSize:i,placement:v,anchorTo:l,canvasX:s,canvasY:o,yOffset:u,xOffset:d,canvasRect:n});_=YW(i.width,i.height,r,N),w=!1,BH[v]&1&&(w||(w=_.x<h||_.x>p)),BH[v]&2&&(w||(w=_.y<m||_.y>g))}while(b<c.length&&w);let D=Ae(h,_.x,p),I=Ae(m,_.y,g);w||(w=D!==_.x||I!==_.y);let E=l!=="chart"&&!w&&!d&&!u,A=a.showArrow??this.showArrow??E;this.arrowPosition=A?ome[v]:void 0,this.updateClassModifiers(),t.style.translate=`${D}px ${I}px`}show(t,i,e,n,r,a=!1){let{element:s}=this;if(s!=null&&n!=null&&n.length!==0){let c=JW(this.localeManager,n,this.mode,this.pagination?r:void 0);if(c==null){this.toggle(!1);return}s.innerHTML=c}else if(s==null||s.innerHTML===""){this.toggle(!1);return}let o={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height};switch(this.positionParams={canvasRect:i,relativeRect:o,meta:e},e.position?.anchorTo??"pointer"){case"node":this.springAnimation.update(e.nodeCanvasX??e.canvasX,e.nodeCanvasY??e.canvasY);break;case"pointer":this.springAnimation.update(e.canvasX,e.canvasY);break;case"chart":this.springAnimation.reset()}e.enableInteraction?(this.enableInteraction=!0,s.style.pointerEvents="auto",s.removeAttribute("aria-hidden"),s.tabIndex=-1):(this.enableInteraction=!1,s.style.pointerEvents="none",s.setAttribute("aria-hidden","true"),s.removeAttribute("tabindex")),s.style.setProperty("--top",`${i.top}px`),s.style.setProperty("--left",`${i.left}px`),this.updateClassModifiers(),this.toggle(!0,a)}hide(){this.toggle(!1)}maybeEnterInteractiveTooltip({relatedTarget:t},i){let{interactive:e,interactiveLeave:n,enabled:r,element:a}=this;if(a==null)return!1;if(n)return!0;let s=e&&r&&this.isVisible()&&t instanceof Node&&this.contains(t);return s&&(this.interactiveLeave={callback:i,listener:o=>{(o.relatedTarget==null||o.relatedTarget instanceof Node&&!this.contains(o.relatedTarget))&&this.popInteractiveLeaveCallback()}},a.addEventListener("focusout",this.interactiveLeave.listener),a.addEventListener("mouseout",this.interactiveLeave.listener)),s}popInteractiveLeaveCallback(){let{interactiveLeave:t,element:i}=this;this.interactiveLeave=void 0,t&&(i&&(i.removeEventListener("focusout",t.listener),i.removeEventListener("mouseout",t.listener)),t.callback())}toggle(t,i=!1){let{delay:e}=this;t&&e>0&&!i?this._showTimeout??(this._showTimeout=setTimeout(()=>{this._showTimeout=void 0,this.toggleCallback(!0)},e)):(clearTimeout(this._showTimeout),this._showTimeout=void 0,this.toggleCallback(t))}toggleCallback(t){this.element?.isConnected&&this._visible!==t&&(this._visible=t,this.element.togglePopover(t),t?this.updateTooltipPosition():(this.springAnimation.reset(),this.popInteractiveLeaveCallback()))}updateClassModifiers(){if(!this.element?.isConnected)return;let{classList:t}=this.element,i=(e,n)=>t.toggle(`${hr}--${e}`,n);i("no-interaction",!this.enableInteraction),i("arrow-top",this.arrowPosition===1),i("arrow-right",this.arrowPosition===3),i("arrow-bottom",this.arrowPosition===2),i("arrow-left",this.arrowPosition===0),i("compact",this.mode==="compact"),t.toggle(qW,this.darkTheme);for(let e of this.wrapTypes)t.toggle(`${hr}--wrap-${e}`,e===this.wrapping)}getTooltipBounds(t){let{elementSize:i,anchorTo:e,placement:n,canvasX:r,canvasY:a,yOffset:s,xOffset:o,canvasRect:l}=t,{width:c,height:d}=i,u={width:c,height:d};if(e==="node"||e==="pointer"){let h=ame[n],m=sme[n];return u.top=a+s+d*(m-1)/2+8*m,u.left=r+o+c*(h-1)/2+8*h,u}switch(n){case"top":return u.top=s,u.left=l.width/2-c/2+o,u;case"right":return u.top=l.height/2-d/2+s,u.left=l.width-c/2+o,u;case"left":return u.top=l.height/2-d/2+s,u.left=o,u;case"bottom":return u.top=l.height-d+s,u.left=l.width/2-c/2+o,u;case"top-left":return u.top=s,u.left=o,u;case"top-right":return u.top=s,u.left=l.width-c+o,u;case"bottom-right":return u.top=l.height-d+s,u.left=l.width-c+o,u;case"bottom-left":return u.top=l.height-d+s,u.left=o,u}return u}};y([C],Ws.prototype,"enabled",2);y([C],Ws.prototype,"mode",2);y([C],Ws.prototype,"showArrow",2);y([C],Ws.prototype,"delay",2);y([C],Ws.prototype,"range",2);y([C],Ws.prototype,"wrapping",2);y([C],Ws.prototype,"position",2);y([C],Ws.prototype,"pagination",2);y([C],Ws.prototype,"darkTheme",2);y([C],Ws.prototype,"bounds",2);function dR(t,i){return t.series===i.series&&Ln(t.datumIndex,i.datumIndex)}var cme=class{constructor(){this.candidates=[]}get current(){return this.active}reset(){this.candidates.length=0,this.active=void 0}update(t,i){this.candidates=t;let e=i!=null?t.findIndex(n=>dR(n,i)):-1;return e===-1&&(e=0),this.active=t[e],{current:this.active,index:e,length:t.length}}next(){let{candidates:t,active:i}=this,e=i==null?-1:t.findIndex(r=>dR(r,i));if(e===-1)return;let n=e+1;return n>=t.length&&(n=0),this.active=t[n],{current:this.active,index:n,length:this.candidates.length}}},dme=class extends YR{constructor(t){super(),this.chart=t,this.id=pn(this),this.series=[],this.announceMode="when-changed",this.highlight={pendingHoverEvent:void 0,appliedHoverEvent:void 0,stashedHoverEvent:void 0},this.tooltip={lastHover:void 0},this.hoverDevice="pointer",this.previousInputDevice="keyboard",this.focus={sortedSeries:[],series:void 0,seriesIndex:0,datumIndex:0,datum:void 0},this.cachedTooltipContent=void 0,this.hoverScheduler=Sce(()=>{if(!(!this.tooltip.lastHover&&!this.highlight.pendingHoverEvent)){if(this.chart.getUpdateType()<=5){this.hoverScheduler.schedule();return}this.highlight.pendingHoverEvent&&this.handleHoverHighlight(!1),this.tooltip.lastHover&&this.handleHoverTooltip(this.tooltip.lastHover,!1)}}),this.tooltipCandidates=new cme;let i=t.ctx.localeManager.t("ariaInitSeriesArea"),e=t.ctx.domManager.addChild("series-area","series-area-aria-label1"),n=t.ctx.domManager.addChild("series-area","series-area-aria-label2");this.swapChain=new Yhe(e,n,"img",i),this.swapChain.addListener("blur",o=>this.onBlur(o)),this.swapChain.addListener("focus",()=>this.onFocus()),t.ctx.domManager.mode==="normal"&&(this.focusIndicator=new $he(this.swapChain),this.focusIndicator.overrideFocusVisible(t.mode==="integrated"?!1:void 0));let{seriesDragInterpreter:r,seriesWidget:a,containerWidget:s}=t.ctx.widgets;a.setTabIndex(-1),this.cleanup.register(()=>t.ctx.domManager.removeChild("series-area","series-area-aria-label1"),()=>t.ctx.domManager.removeChild("series-area","series-area-aria-label2"),a.addListener("focus",()=>this.swapChain.focus({preventScroll:!0})),a.addListener("mousemove",o=>this.onHover(o,a)),a.addListener("wheel",o=>this.onWheel(o)),a.addListener("mouseleave",o=>this.onLeave(o)),a.addListener("keydown",o=>this.onKeyDown(o)),a.addListener("contextmenu",(o,l)=>this.onContextMenu(o,l)),s.addListener("contextmenu",(o,l)=>this.onContextMenu(o,l)),s.addListener("click",(o,l)=>this.onClick(o,l)),s.addListener("dblclick",(o,l)=>this.onClick(o,l)),t.ctx.animationManager.addListener("animation-start",()=>this.clearAll()),t.ctx.eventsHub.on("dom:resize",()=>this.clearAll()),t.ctx.eventsHub.on("highlight:change",o=>this.changeHighlightDatum(o)),t.ctx.eventsHub.on("layout:complete",o=>this.layoutComplete(o)),t.ctx.updateService.addListener("pre-scene-render",()=>this.preSceneRender()),t.ctx.updateService.addListener("update-complete",()=>this.updateComplete()),t.ctx.eventsHub.on("zoom:change",()=>this.clearAll()),t.ctx.eventsHub.on("zoom:pan-start",()=>this.clearAll())),r&&this.cleanup.register(r.events.on("drag-move",o=>this.onDragMove(o,a)),r.events.on("click",o=>this.onClick(o,a)),r.events.on("dblclick",o=>this.onClick(o,a)))}get bbox(){return(this.seriesRect??_e.zero).clone()}isState(t){return this.chart.ctx.interactionManager.isState(t)}isIgnoredTouch(t){return!(t.device!=="touch"||t.type==="click"||this.chart.ctx.chartService.touch.dragAction==="hover"||this.chart.ctx.chartService.touch.dragAction==="drag"&&this.isState(9))}dataChanged(){var t;this.cachedTooltipContent=void 0,this.highlight.appliedHoverEvent&&((t=this.highlight).stashedHoverEvent??(t.stashedHoverEvent=this.highlight.appliedHoverEvent),this.clearHighlight()),this.chart.ctx.tooltipManager.removeTooltip(this.id),this.focusIndicator?.clear()}preSceneRender(){this.highlight.stashedHoverEvent!=null&&(this.highlight.pendingHoverEvent=this.highlight.stashedHoverEvent,this.highlight.stashedHoverEvent=void 0,this.handleHoverHighlight(!0)),this.tooltip.lastHover!=null&&this.handleHoverTooltip(this.tooltip.lastHover,!0)}updateComplete(){this.isState(34)&&this.focusIndicator?.isFocusVisible()&&(this.announceMode!=="always"&&(this.announceMode="never"),this.handleFocus(0,0))}update(t,i){this.chart.ctx.updateService.update(t,i)}seriesChanged(t){this.focus.sortedSeries=[...t].sort((i,e)=>{let n=i.properties.focusPriority??1/0,r=e.properties.focusPriority??1/0;return n===r&&([n,r]=[i.declarationOrder,e.declarationOrder]),n<r?-1:n>r?1:0}),this.series=t}layoutComplete(t){this.seriesRect=t.series.rect,this.hoverRect=t.series.rect,this.chart.ctx.widgets.seriesWidget.setBounds(t.series.rect),this.chart.ctx.domManager.mode==="normal"&&this.chart.ctx.widgets.chartWidget.setBounds(t.chart)}onContextMenu(t,i){let{sourceEvent:e}=t;if(e.currentTarget!=i.getElement())return;if(e.target==this.chart.ctx.widgets.containerWidget.getElement()){if(this.isState(36)){let{currentX:l,currentY:c}=t;this.chart.ctx.contextMenuRegistry.dispatchContext("always",{widgetEvent:t,canvasX:l,canvasY:c},void 0)}return}let n,r;if(this.focusIndicator?.isFocusVisible())n=this.chart.ctx.highlightManager.getActiveHighlight(),n&&this.seriesRect&&n.midPoint&&(r=rn.toCanvasPoint(n.series.contentGroup,n.midPoint.x,n.midPoint.y));else if(this.isState(36)){let l=this.pickNodes({x:t.currentX,y:t.currentY},"context-menu");l&&(this.chart.ctx.highlightManager.updateHighlight(this.id),n=l.matches[0].datum)}let a=n?.series;this.clearAll();let s=t.currentX+i.cssLeft(),o=t.currentY+i.cssTop();a&&n?this.chart.ctx.contextMenuRegistry.dispatchContext("series-node",{widgetEvent:t,canvasX:s,canvasY:o},{pickedSeries:a,pickedNode:n},r):this.chart.ctx.contextMenuRegistry.dispatchContext("series-area",{widgetEvent:t,canvasX:s,canvasY:o},void 0,r)}onLeave(t){!this.isState(41)||t.sourceEvent.relatedTarget?.className==="ag-charts-text-input__textarea"||this.maybeEnterInteractiveTooltip(t.sourceEvent)||(this.chart.ctx.domManager.updateCursor(this.id),this.hoverDevice!=="keyboard"&&this.clearAll())}onWheel(t){this.isState(41)&&(this.focusIndicator?.overrideFocusVisible(!1),this.previousInputDevice="pointer")}onDragMove(t,i){this.isState(41)&&(this.focusIndicator?.overrideFocusVisible(!1),this.onHoverLikeEvent(t,i))}onHover(t,i){this.isState(41)&&this.onHoverLikeEvent(t,i)}onHoverLikeEvent(t,i){if(!this.isIgnoredTouch(t)&&(t.device==="touch"&&this.chart.ctx.chartService.touch.dragAction==="hover"&&t.sourceEvent.preventDefault(),i===this.chart.ctx.widgets.seriesWidget&&((t.device==="touch"||ume(t,"drag-move"))&&(this.tooltip.lastHover=t),this.hoverDevice="pointer",this.previousInputDevice="pointer",this.highlight.pendingHoverEvent=t,this.hoverScheduler.schedule(),this.isState(32)))){let{currentX:e,currentY:n}=t,r=this.pickNodes({x:e,y:n},"event")?.matches,a=r?.[0];a?.series.hasEventListener("seriesNodeClick")||a?.series.hasEventListener("seriesNodeDoubleClick")||r!=null&&r.length>1&&this.chart.tooltip.pagination?this.chart.ctx.domManager.updateCursor(this.id,"pointer"):this.chart.ctx.domManager.updateCursor(this.id)}}onClick(t,i){if(t.device==="keyboard"||(i===this.chart.ctx.widgets.seriesWidget&&this.chart.ctx.animationManager.isActive()&&this.chart.ctx.animationManager.skipCurrentBatch(),t.device==="touch"&&i===this.chart.ctx.widgets.seriesWidget&&this.swapChain.focus({preventScroll:!0}),!this.isState(41)))return;if(i===this.chart.ctx.widgets.seriesWidget){if(!i.getElement().contains(t.sourceEvent.target))return}else if(t.sourceEvent.target!=i.getElement())return;if(this.focusIndicator?.overrideFocusVisible(!1),this.onHoverLikeEvent(t,i),!this.isState(32))return;if(i==this.chart.ctx.widgets.seriesWidget&&this.checkSeriesNodeClick(t)){this.update(5),t.sourceEvent.preventDefault();return}let e={type:t.type==="click"?"click":"doubleClick",event:t.sourceEvent};this.chart.fireEvent(e)}onFocus(){this.isState(34)&&(this.hoverDevice=this.focusIndicator?.isFocusVisible(!0)?"keyboard":"pointer",this.handleFocus(0,0))}onBlur(t){this.isState(34)&&(this.hoverDevice="pointer",this.maybeEnterInteractiveTooltip(t)||this.clearAll(),this.focusIndicator?.overrideFocusVisible(void 0))}onKeyDown(t){if(!this.isState(43))return;let i=Zhe(t.sourceEvent);switch(i?.activatesFocusIndicator===!1&&this.focusIndicator?.overrideFocusVisible(this.previousInputDevice==="keyboard"),i?.name){case"redo":return this.chart.ctx.eventsHub.emit("series:redo",null);case"undo":return this.chart.ctx.eventsHub.emit("series:undo",null);case"zoomin":return this.chart.ctx.eventsHub.emit("series:keynav-zoom",{delta:1,widgetEvent:t});case"zoomout":return this.chart.ctx.eventsHub.emit("series:keynav-zoom",{delta:-1,widgetEvent:t});case"arrowup":return this.onArrow(-1,0,t);case"arrowdown":return this.onArrow(1,0,t);case"arrowleft":return this.onArrow(0,-1,t);case"arrowright":return this.onArrow(0,1,t);case"submit":return this.onSubmit(t)}}onArrow(t,i,e){this.isState(34)&&(this.hoverDevice="keyboard",this.previousInputDevice="keyboard",this.focusIndicator?.overrideFocusVisible(!0),this.focus.seriesIndex+=t,this.focus.datumIndex+=i,this.handleFocus(t,i),e.sourceEvent.preventDefault(),this.chart.ctx.eventsHub.emit("series:focus-change",null))}onSubmit(t){if(!this.isState(34))return;let{series:i,datum:e}=this.focus,n=t.sourceEvent;i!=null&&e!=null?i.fireNodeClickEvent(n,e):this.chart.fireEvent({type:"click",event:n}),n.preventDefault()}checkSeriesNodeClick(t){var i;let e=this.pickNodes({x:t.currentX,y:t.currentY},"event");if(e==null||e.matches.length===0)return;let n=this.chart.tooltip.pagination?this.tooltipCandidates.update(e.matches,this.tooltipCandidates.current)?.current:void 0,{series:r,datum:a}=n??e.matches[0],s=n==null?e.distance:0;if(t.type==="click"){let l=r.fireNodeClickEvent(t.sourceEvent,a)&&this.chart.tooltip.pagination?this.tooltipCandidates.next():void 0;if(l!=null){t.sourceEvent.preventDefault();let{currentX:c,currentY:d}=t,u=c+(this.hoverRect?.x??0),h=d+(this.hoverRect?.y??0);(i=this.highlight).pendingHoverEvent??(i.pendingHoverEvent=this.highlight.appliedHoverEvent),this.handleHoverHighlight(!1),this.showTooltip(l.current,u,h,{index:l.index,length:l.length})}return!0}return t.type==="dblclick"?(t.preventZoomDblClick=s===0,r.fireNodeDoubleClickEvent(t.sourceEvent,a),!0):!1}handleFocus(t,i){let e=this.chart.overlays.getFocusInfo(this.chart.ctx.localeManager);e==null?this.handleSeriesFocus(t,i)===0?this.announceMode="when-changed":this.announceMode="always":(this.focusIndicator?.update(e.rect,this.seriesRect,!1),this.swapChain.update(e.text),this.announceMode="always")}handleSeriesFocus(t,i){if(this.chart.chartType==="standalone")return this.handleSoloSeriesFocus(t,i);let{focus:e}=this,n=e.sortedSeries.filter(l=>l.visible&&l.focusable);if(n.length===0)return 1;let r=e.datumIndex-i,a=e.seriesIndex-t;e.seriesIndex=Ae(0,e.seriesIndex,n.length-1),e.series=n[e.seriesIndex];let s=this.focus.datumIndex,o=this.focus.seriesIndex;return this.updatePickedFocus(s,i,r,o,t,a)}handleSoloSeriesFocus(t,i){this.focus.series=this.focus.sortedSeries[0];let e=this.focus.datumIndex,n=this.focus.seriesIndex,r=this.focus.datumIndex-i,a=this.focus.seriesIndex-t;return this.updatePickedFocus(e,i,r,n,t,a)}updatePickedFocus(t,i,e,n,r,a){let{focus:s,hoverRect:o,seriesRect:l}=this;if(s.series==null||o==null)return 1;let c=s?.series?.pickFocus({datumIndex:t,datumIndexDelta:i,otherIndex:n,otherIndexDelta:r,seriesRect:l});if(!c)return 2;let{datum:d}=c;if(s.datum=d,s.datumIndex=c.datumIndex,c.otherIndex!=null&&(s.seriesIndex=c.otherIndex),this.focusIndicator?.isFocusVisible()){this.chart.ctx.animationManager.reset();let h=Xhe(c),{x:m,y:p}=h.computeCenter();if(!o.containsPoint(m,p)&&this.chart.ctx.zoomManager.panToBBox(this.id,o,h))return 3;let{x1:g,x2:b,y1:v,y2:_}=lv.from(h),w=o.containsPoint(g,v),D=o.containsPoint(b,v),I=o.containsPoint(g,_),E=o.containsPoint(b,_);if(!(w||D||I||E)){let A=lv.from(o);c.movedBounds=h.clone(),g<A.x1&&b<A.x1?(c.movedBounds.x=A.x1-2,c.movedBounds.width=4):g>A.x2&&b>A.x2&&(c.movedBounds.x=A.x2-2,c.movedBounds.width=4),v<A.y1&&_<A.y1?(c.movedBounds.y=A.y1-2,c.movedBounds.height=4):v>A.y2&&_>A.y2&&(c.movedBounds.y=A.y2-2,c.movedBounds.height=4)}}this.focusIndicator?.update(c.movedBounds??c.bounds,this.seriesRect,c.clipFocusBox);let u=Jhe(s.series,o,c);if(u!=null&&this.hoverDevice==="keyboard"){this.tooltip.lastHover=void 0,this.highlight.appliedHoverEvent=void 0,this.highlight.pendingHoverEvent=void 0,this.highlight.stashedHoverEvent=void 0;let h=this.getTooltipContent(s.series,d.datumIndex,d,"aria-label"),m=Kw.makeTooltipMeta(u,s.series,d,c.movedBounds);this.chart.ctx.highlightManager.updateHighlight(this.id,d),this.isTooltipEnabled(s.series)&&this.chart.ctx.tooltipManager.updateTooltip(this.id,m,h),this.maybeAnnouncePickedFocus(i,e,r,a,c,h)}return 0}maybeAnnouncePickedFocus(t,i,e,n,r,a){let{focus:s}=this,o;this.announceMode==="when-changed"?t===0&&e===0||i!==r.datumIndex||n!==(r.otherIndex??s.seriesIndex)?o="always":o="never":o=this.announceMode,o==="always"&&this.swapChain.update(this.getDatumAriaText(r.datum,a))}getDatumAriaText(t,i){let e=i==null?"":QW(i);return this.chart.ctx.localeManager.t("ariaAnnounceHoverDatum",{datum:t.series.getDatumAriaText?.(t,e)??e})}clearHighlight(){this.highlight.pendingHoverEvent=void 0,this.highlight.appliedHoverEvent=void 0,this.chart.ctx.highlightManager.updateHighlight(this.id)}clearTooltip(){this.chart.ctx.tooltipManager.removeTooltip(this.id),this.tooltip.lastHover=void 0}clearAll(){this.clearHighlight(),this.clearTooltip(),this.focusIndicator?.clear()}handleHoverHighlight(t){this.highlight.appliedHoverEvent=this.highlight.pendingHoverEvent,this.highlight.pendingHoverEvent=void 0;let i=this.highlight.appliedHoverEvent;if(!i||!this.isState(41))return;let{currentX:e,currentY:n}=i,r=i.currentX+(this.hoverRect?.x??0),a=i.currentY+(this.hoverRect?.y??0);if(t?this.chart.ctx.animationManager.isActive():!this.hoverRect?.containsPoint(r,a)){this.clearHighlight();return}let{range:s}=this.chart.highlight,o=s==="tooltip"?"highlight-tooltip":"highlight",l=this.pickNodes({x:e,y:n},o);if(!l||l.matches.length===0){this.chart.ctx.highlightManager.updateHighlight(this.id);return}let{current:c}=this.tooltipCandidates,u=(c==null?void 0:l.matches.find(h=>dR(h,c)))?.datum??l.matches[0].datum;this.chart.ctx.highlightManager.updateHighlight(this.id,u),this.hoverDevice="pointer"}handleHoverTooltip(t,i){let{current:e}=this.tooltipCandidates;if(this.tooltipCandidates.reset(),!this.isState(41))return;let{currentX:n,currentY:r}=t,a=n+(this.hoverRect?.x??0),s=r+(this.hoverRect?.y??0),o=t.sourceEvent.target;if(i?this.chart.ctx.animationManager.isActive():!this.hoverRect?.containsPoint(a,s)){this.hoverDevice=="pointer"&&this.clearTooltip();return}if(o&&this.chart.tooltip.interactive&&this.chart.ctx.domManager.isManagedChildDOMElement(o,"canvas-overlay",hr))return;let l=this.pickNodes({x:t.currentX,y:t.currentY},"tooltip");if(!l||l.matches.length===0){this.hoverDevice=="pointer"&&this.clearTooltip();return}if(this.hoverDevice="pointer",l.distance===0){let{current:c,index:d,length:u}=this.tooltipCandidates.update(l.matches,this.chart.tooltip.pagination?e:void 0);this.showTooltip(c,a,s,{index:d,length:u})}else this.showTooltip(l.matches[0],a,s)}showTooltip({series:t,datum:i,datumIndex:e},n,r,a){let s=this.getTooltipContent(t,e,i,"tooltip");if(s!=null){let l=Kw.makeTooltipMeta({type:"pointermove",canvasX:n,canvasY:r},t,i,void 0);this.chart.ctx.tooltipManager.updateTooltip(this.id,l,s,a)}else this.chart.ctx.tooltipManager.removeTooltip(this.id)}maybeEnterInteractiveTooltip(t){return this.chart.tooltip.maybeEnterInteractiveTooltip(t,()=>{this.tooltip.lastHover=void 0,this.chart.ctx.tooltipManager.removeTooltip(this.id),this.chart.ctx.highlightManager.updateHighlight(this.id)})}changeHighlightDatum(t){let i=t.previousHighlight?.series,e=t.currentHighlight?.series;i?.properties.cursor&&t.previousHighlight?.datum&&this.chart.ctx.domManager.updateCursor(i.id),e?.properties.cursor&&e.properties.cursor!=="default"&&t.currentHighlight?.datum&&this.chart.ctx.domManager.updateCursor(e.id,e.properties.cursor),e==null||i==null?this.update(5):this.update(5,{seriesToUpdate:new Set([i,e].filter(Boolean))})}pickNodes(t,i,e){let n=[...this.series].reverse(),r;for(let a of n){if(!a.visible||!a.contentGroup.visible)continue;let s=a.pickNodes(t,i,e);if(s==null||s.datums.length===0)continue;let{datums:o,distance:l}=s;if(s.datums.length!==0){if(l===0){r?.distance!==0&&(r={matches:[],distance:0});for(let c of o){let{datumIndex:d}=c;r.matches.push({series:a,datum:c,datumIndex:d})}}else if(r==null||r.distance>l){let[c]=o,{datumIndex:d}=c;r={matches:[{series:a,datum:c,datumIndex:d}],distance:l}}}}return r}isTooltipEnabled(t){return t.tooltipEnabled??this.chart.tooltip.enabled}getTooltipContent(t,i,e,n){let r;if(n==="aria-label"||this.isTooltipEnabled(t)){let{cachedTooltipContent:a}=this;if(a!=null&&a.series===t&&a.datumIndex===i)r=a.content;else{let s=this.chart.getTooltipContent(t,i,e);this.cachedTooltipContent={series:t,datumIndex:i,content:s},r=s}}else this.cachedTooltipContent=void 0;return r}};function ume(t,i){return t.type!==i}var jH=30,hme=class{constructor(t){this.seriesRoot=t,this.groups=new Map,this.series=new Map,this.expectedSeriesCount=1,this.mode="normal"}setSeriesCount(t){this.expectedSeriesCount=t}getGroupIndex(t){let{internalId:i,seriesGrouping:e}=t;return e?.groupIndex??i}getGroupType(t,i){return i?"top":t.type}requestGroup(t){let{internalId:i,contentGroup:e}=t,n=t.bringToFront(),r=this.getGroupType(t,n),a=this.getGroupIndex(t),s=this.series.get(i);if(s!=null)throw new Error(`AG Charts - series already has an allocated layer: ${JSON.stringify(s)}`);this.series.size===0&&(this.mode=this.expectedSeriesCount>=jH?"aggressive-grouping":"normal");let o=this.groups.get(r);o==null&&(o=new Map,this.groups.set(r,o));let l=this.lookupIdx(a),c=o.get(l);return c==null&&(c={type:r,id:l,seriesIds:[],group:this.seriesRoot.appendChild(new ht({name:`${t.contentGroup.name??r}-managed-layer`,zIndex:t.contentGroup.zIndex,renderToOffscreenCanvas:!1}))},o.set(l,c)),this.series.set(i,{layerState:c,seriesConfig:t,bringToFront:n}),c.seriesIds.push(i),c.group.appendChild(e),c.group}changeGroup(t){let{internalId:i,contentGroup:e}=t,n=t.bringToFront(),r=this.getGroupType(t,n),a=this.series.get(i),s=a?this.getGroupType(a.seriesConfig,a.bringToFront):void 0,o=this.getGroupIndex(t),l=this.lookupIdx(o),c=this.groups.get(r)?.get(l);if(!(s===r&&c?.seriesIds.includes(i)===!0))return this.series.has(i)&&this._releaseGroup({internalId:i,contentGroup:e,type:s}),this.requestGroup(t)}releaseGroup(t){let{internalId:i,contentGroup:e}=t,n=this.getGroupType(t,t.bringToFront());this._releaseGroup({internalId:i,contentGroup:e,type:n})}_releaseGroup(t){let{internalId:i,contentGroup:e,type:n}=t;if(!this.series.has(i))throw new Error(`AG Charts - series doesn't have an allocated layer: ${i}`);let r=this.series.get(i)?.layerState;r&&(r.seriesIds=r.seriesIds.filter(a=>a!==i),r.group.removeChild(e)),r?.seriesIds.length===0?(this.seriesRoot.removeChild(r.group),this.groups.get(r.type)?.delete(r.id),this.groups.get(n)?.delete(i)):r!=null&&r.seriesIds.length>0&&(r.group.zIndex=this.getLowestSeriesZIndex(r.seriesIds)),this.series.delete(i)}updateLayerCompositing(){this.groups.forEach(t=>{t.forEach(i=>{let{group:e,seriesIds:n}=i,r;n.length===0?r=!1:n.length>1?r=!0:r=this.series.get(n[0])?.seriesConfig.renderToOffscreenCanvas()===!0,e.renderToOffscreenCanvas=r,e.zIndex=this.getLowestSeriesZIndex(n)})})}lookupIdx(t){return this.mode==="normal"?t:typeof t=="string"&&(t=Number(t.split("-").at(-1)),!Number.isFinite(t))?0:Math.floor(Ae(0,t/this.expectedSeriesCount,1)*jH)}destroy(){this.groups.forEach(t=>{t.forEach(i=>{this.seriesRoot.removeChild(i.group)})}),this.groups.clear(),this.series.clear()}getLowestSeriesZIndex(t){let i;for(let e of t){let r=this.series.get(e)?.seriesConfig.contentGroup.zIndex??1;if(i==null||r==null){i=r;continue}i=z5(i,r)<=0?i:r}return i??1}},e$=class extends tt{constructor(){super(...arguments),this.dragAction="drag"}};y([C],e$.prototype,"dragAction",2);var mme=class{constructor(t,i,e,n,r,a){this.chart=t,this.eventsHub=i,this.dataService=e,this.updateService=n,this.zoomManager=r,this.animationManager=a,this.dirtyZoom=!1,this.dirtyDataSource=!1,this.lastAxisZooms=new Map,this.cleanup=new pt,this.cleanup.register(this.eventsHub.on("data:source-change",()=>this.onDataSourceChange()),this.eventsHub.on("data:load",()=>this.onDataLoad()),this.eventsHub.on("data:error",()=>this.onDataError()),this.updateService.addListener("update-complete",s=>this.onUpdateComplete(s)),this.eventsHub.on("zoom:change",()=>this.onZoomChange()))}destroy(){this.cleanup.flush()}onDataLoad(){this.animationManager.skip(),this.updateService.update(1)}onDataError(){this.updateService.update(4)}onDataSourceChange(){this.dirtyDataSource=!0}onUpdateComplete(t){!t.apiUpdate&&!this.dirtyZoom&&!this.dirtyDataSource||this.updateWindow(t)}onZoomChange(){this.dirtyZoom=!0}updateWindow(t){if(!this.dataService.isLazy())return;let i=this.getValidAxis(),e,n=!0;if(i){let r=this.zoomManager.getAxisZoom(i.id);(r.min!==0||r.max!==1)&&(e=this.getAxisWindow(i,r)),n=this.shouldRefresh(t,i,r)}this.dirtyZoom=!1,this.dirtyDataSource=!1,n&&this.dataService.load({windowStart:e?.min,windowEnd:e?.max})}getValidAxis(){return this.chart.axes.find(t=>t.type==="time")}shouldRefresh(t,i,e){if(t.apiUpdate||this.dirtyDataSource)return!0;if(!this.dirtyZoom)return!1;let n=this.lastAxisZooms.get(i.id);return n&&e.min===n.min&&e.max===n.max?!1:(this.lastAxisZooms.set(i.id,e),!0)}getAxisWindow(t,i){let{domain:e}=t.scale;if(!i||e.length===0||isNaN(Number(e[0])))return;let n=Number(e[1])-Number(e[0]),r=new Date(Number(e[0])+n*i.min),a=new Date(Number(e[0])+n*i.max);return{min:r,max:a}}},pme=/^((?!chrome|android).)*safari/i,fme=/Version\/(\d+(\.\d+)?)/,gme=/Chrome/,yme=/Chrome\/(\d+)/,bme=/Edg/,vme=/OPR/;function _me(){let{userAgent:t}=Je("navigator");if(pme.test(t)){let i=fme.exec(t);if(i==null)return!1;let e=parseFloat(i[1]),n=Math.floor(e)>16;return n||j.warnOnce(`Unsupported Safari version: ${e}; ${t}`),!n}else if(gme.test(t)&&!bme.test(t)&&!vme.test(t)){let i=yme.exec(t);if(i==null)return!1;let e=parseInt(i[1],10),n=e>126;return n||j.warnOnce(`Unsupported Chrome version: ${e}; ${t}`),!n}return!1}var xme=new Set(["map-shape-background","map-line-background"]),Cme=class{constructor(t,i,e,n,r,a,s){this.chartLike=t,this.overlays=i,this.eventsHub=e,this.dataService=n,this.localeManager=r,this.animationManager=a,this.domManager=s,this.cleanup=new pt,this.overlayElem=this.domManager.addChild("canvas-overlay","overlay"),this.overlayElem.role="status",this.overlayElem.ariaAtomic="false",this.overlayElem.ariaLive="polite",this.overlayElem.classList.toggle(lR),this.cleanup.register(this.eventsHub.on("layout:complete",o=>this.onLayoutComplete(o)))}destroy(){this.cleanup.flush(),this.domManager.removeChild("canvas-overlay","overlay")}onLayoutComplete({series:{rect:t}}){let i=this.dataService.isLoading(),e=this.chartLike.series.some(c=>c.hasData),n=this.chartLike.series.some(c=>c.visible&&!xme.has(c.type));this.overlays.darkTheme?this.overlayElem.classList.add(OH):this.overlayElem.classList.remove(OH),this.overlayElem.style.left=`${t.x}px`,this.overlayElem.style.top=`${t.y}px`,this.overlayElem.style.width=`${t.width}px`,this.overlayElem.style.height=`${t.height}px`;let r=i,a=!i&&!e,s=e&&!n,o=this.overlays.unsupportedBrowser.enabled&&_me();r?this.showOverlay(this.overlays.loading,t):this.hideOverlay(this.overlays.loading),a?this.showOverlay(this.overlays.noData,t):this.hideOverlay(this.overlays.noData),s?this.showOverlay(this.overlays.noVisibleSeries,t):this.hideOverlay(this.overlays.noVisibleSeries),o?this.showOverlay(this.overlays.unsupportedBrowser,t):this.hideOverlay(this.overlays.unsupportedBrowser);let l=r||a||s||o;et(this.overlayElem,"aria-hidden",!l)}showOverlay(t,i){if(!t.enabled)return;let e=t.getElement(this.chartLike,this.animationManager,this.localeManager,i);this.overlayElem.appendChild(e)}hideOverlay(t){t.removeElement(()=>{this.overlayElem.innerText="\xA0"},this.animationManager)}},Ts=bt.create(!0,"opts"),gn=(()=>{let t=class t$ extends sG{constructor(e,n){var r;super(),this.id=pn(this),this.seriesRoot=new Wr({name:`${this.id}-series-root`,zIndex:7}),this.annotationRoot=new Wr({name:`${this.id}-annotation-root`,zIndex:11}),this.titleGroup=new ht({name:"titles",zIndex:15}),this.debug=bt.create(),this.extraDebugStats={},this.data=[],this._firstAutoSize=!0,this._autoSizeNotify=new qT,this.chartCaptions=new DD,this.padding=new Gh(20),this.keyboard=new lO,this.touch=new e$,this.mode="standalone",this.styleNonce=void 0,this.formatter=void 0,this.suppressFieldDotNotation=!1,this.loadGoogleFonts=!1,this.destroyed=!1,this.cleanup=new pt,this.chartAnimationPhase="initial",this.modulesManager=new Uhe,this.processors=[],this.queuedUserOptions=[],this.queuedChartOptions=[],this.firstApply=!0,this.syncStatus="init",this.fireEventWrapper=u=>super.fireEvent(u),this.apiUpdate=!1,this._pendingFactoryUpdatesCount=0,this._performUpdateSkipAnimations=!1,this._performUpdateNotify=new qT,this.performUpdateType=8,this.runningUpdateType=8,this.updateShortcutCount=0,this.seriesToUpdate=new Set,this.updateMutex=new wce,this.updateRequestors={},this.performUpdateTrigger=Mce(({count:u})=>{this.destroyed||this.updateMutex.acquire(()=>L(this,null,function*(){try{yield this.performUpdate(u)}catch(h){j.error("update error",h,h.stack)}})).catch(h=>j.errorOnce(h))}),this._performUpdateSplits={},this.axes=[],this.series=[],this._cachedData=void 0,this.onSeriesNodeClick=u=>{this.fireEvent(u)},this.onSeriesNodeDoubleClick=u=>{this.fireEvent(u)},this.onSeriesVisibilityChange=u=>{this.fireEvent(u)},this.seriesGroupingChanged=u=>{if(!(u instanceof eD))return;let{series:h,seriesGrouping:m}=u;if(h.contentGroup.isRoot())return;let p=this.seriesLayerManager.changeGroup({internalId:h.internalId,type:h.type,contentGroup:h.contentGroup,bringToFront:()=>h.bringToFront(),renderToOffscreenCanvas:()=>h.renderToOffscreenCanvas(),seriesGrouping:m});p!=null&&h.attachSeries(p,this.seriesRoot,this.annotationRoot)},this.chartOptions=e;let a=n?.scene,s=n?.container??e.processedOptions.container??void 0,o=n?.styleContainer??e.specialOverrides.styleContainer;a&&(this._firstAutoSize=!1,this._lastAutoSize=[a.width,a.height,a.pixelRatio]);let l=new ht({name:"root"});l.visible=!1,l.append(this.seriesRoot),l.append(this.annotationRoot),l.append(this.titleGroup),this.titleGroup.append(this.title.node),this.titleGroup.append(this.subtitle.node),this.titleGroup.append(this.footnote.node),this.tooltip=new Ws,this.seriesLayerManager=new hme(this.seriesRoot),this.mode=e.userOptions.mode??this.mode,this.styleNonce=e.processedOptions.styleNonce;let c=this.ctx=new Aue(this,{chartType:this.getChartType(),scene:a,root:l,container:s,styleContainer:o,domMode:e.optionMetadata.domMode,withDragInterpretation:e.optionMetadata.withDragInterpretation??!0,syncManager:new ehe(this),fireEvent:u=>this.fireEvent(u),updateCallback:(u,h)=>this.update(u,h),updateMutex:this.updateMutex});this.cleanup.register(c.eventsHub.on("dom:resize",()=>this.parentResize(c.domManager.containerSize))),this.overlays=new Uf,(r=this.overlays.loading).renderer??(r.renderer=()=>Hhe(this.overlays.loading.getText(c.localeManager),c.animationManager.defaultDuration)),this.processors=[new mme(this,c.eventsHub,c.dataService,c.updateService,c.zoomManager,c.animationManager),new Cme(this,this.overlays,c.eventsHub,c.dataService,c.localeManager,c.animationManager,c.domManager)],this.highlight=new JG,this.container=s;let d=this.getModuleContext();c.domManager.setDataBoolean("animating",!1),this.seriesAreaManager=new dme(this.initSeriesAreaDependencies()),this.cleanup.register(c.layoutManager.registerElement(0,u=>{u.layoutBox.shrink(this.padding.toJson()),this.chartCaptions.positionCaptions(u)}),c.eventsHub.on("layout:complete",u=>this.chartCaptions.positionAbsoluteCaptions(u)),c.eventsHub.on("data:load",u=>{this.data=u.data}),this.title.registerInteraction(d,"beforebegin"),this.subtitle.registerInteraction(d,"beforebegin"),this.footnote.registerInteraction(d,"afterend"),Ol.addWindowEvent("page-left",()=>this.destroy()),c.animationManager.addListener("animation-frame",()=>{this.update(7)}),c.animationManager.addListener("animation-start",()=>c.domManager.setDataBoolean("animating",!0)),c.animationManager.addListener("animation-stop",()=>c.domManager.setDataBoolean("animating",!1)),c.eventsHub.on("zoom:change",()=>{this.series.forEach(h=>h.animationState?.transition("updateData"));let u=this.chartAnimationPhase!=="initial";this.update(4,{forceNodeDataRefresh:!0,skipAnimations:u})})),this.parentResize(c.domManager.containerSize)}static getInstance(e){return t$.chartsInstances.get(e)}get canvasElement(){return this.ctx.scene.canvas.element}download(e,n){this.ctx.scene.download(e,n)}getCanvasDataURL(e){return this.ctx.scene.getDataURL(e)}toSVG(){return this.ctx.scene.toSVG()}get seriesAreaBoundingBox(){return this.seriesAreaManager.bbox}getOptions(){return this.queuedUserOptions.at(-1)??this.chartOptions.userOptions}getChartOptions(){return this.queuedChartOptions.at(-1)??this.chartOptions}overrideFocusVisible(e){this.seriesAreaManager.focusIndicator?.overrideFocusVisible(e)}fireEvent(e){Ro(this,this.fireEventWrapper,e)}initSeriesAreaDependencies(){let{ctx:e,tooltip:n,highlight:r,overlays:a,seriesRoot:s,mode:o}=this,l=this.getChartType();return{fireEvent:this.fireEvent.bind(this),getUpdateType:()=>this.performUpdateType,getTooltipContent:(h,m,p)=>this.getTooltipContent(h,m,p),chartType:l,ctx:e,tooltip:n,highlight:r,overlays:a,seriesRoot:s,mode:o}}getModuleContext(){return this.ctx}getTooltipContent(e,n,r){let a=e.properties.tooltip.enabled!==!1?e.getTooltipContent(n,r):void 0,s=a==null?[]:[a];if(this.tooltip.mode!=="shared"||this.series.length===1)return s;let o=e.getCategoryValue(n);return o==null?s:this.series.flatMap(l=>{if(l===e)return s;if(!l.isEnabled()||l.properties.tooltip.enabled===!1)return[];let c=l.datumIndexForCategoryValue(o),d=c==null?void 0:l.getTooltipContent(c,void 0);return d==null?[]:[d]})}getCaptionText(){return[this.title,this.subtitle,this.footnote].filter(e=>e.enabled&&e.text).map(e=>e.text).join(". ")}getAriaLabel(){return this.ctx.localeManager.t("ariaAnnounceChart",{seriesCount:this.series.length})}resetAnimations(){this.chartAnimationPhase="initial";for(let e of this.series)e.resetAnimation(this.chartAnimationPhase);for(let e of this.axes)e.resetAnimation(this.chartAnimationPhase);this.animationRect=void 0,this.ctx.animationManager.reset()}skipAnimations(){this.ctx.animationManager.skipCurrentBatch(),this._performUpdateSkipAnimations=!0}detachAndClear(){this.container=void 0,this.ctx.scene.clearCanvas()}destroy(e){if(this.destroyed)return;let n=e?.keepTransferableResources,r;return this.performUpdateType=8,this.cleanup.flush(),this.processors.forEach(a=>a.destroy()),this.overlays.destroy(),this.modulesManager.destroy(),n?(this.ctx.scene.strip(),r={container:this.container,scene:this.ctx.scene}):(this.ctx.scene.destroy(),this.container=void 0),this.destroySeries(this.series),this.seriesLayerManager.destroy(),this.axes.forEach(a=>a.destroy()),this.axes=[],this.animationRect=void 0,this.ctx.destroy(),this.destroyed=!0,Object.freeze(this),r}requestFactoryUpdate(e){this.destroyed||(this._pendingFactoryUpdatesCount++,this.updateMutex.acquire(()=>L(this,null,function*(){if(!this.destroyed)try{yield e(this)}finally{this.destroyed||this._pendingFactoryUpdatesCount--}})).catch(n=>j.errorOnce(n)))}clearCallbackCache(){this.ctx.callbackCache.invalidateCache();for(let e of this.series)e.resetDatumCallbackCache()}update(e=0,n){if(this.destroyed)return;let{forceNodeDataRefresh:r=!1,skipAnimations:a,seriesToUpdate:s=this.series,newAnimationBatch:o,apiUpdate:l=!1}=n??{};this.apiUpdate=l,this.ctx.widgets.seriesWidget.setDragTouchEnabled(this.touch.dragAction!=="none"),r&&this.series.forEach(c=>c.markNodeDataDirty());for(let c of s)this.seriesToUpdate.add(c);if(a&&(this.ctx.animationManager.skipCurrentBatch(),this._performUpdateSkipAnimations=!0),o&&this.ctx.animationManager.isActive()&&(this._performUpdateSkipAnimations=!0),this.debug.check()){let c=new Error().stack??"<unknown>";c=c.replace(/\([^)]*/g,""),this.updateRequestors[c]=e}e<this.performUpdateType&&(this.performUpdateType=e,this.ctx.domManager.setDataBoolean("updatePending",!0),this.performUpdateTrigger.schedule(n?.backOffMs))}performUpdate(e){return L(this,null,function*(){let{performUpdateType:n,extraDebugStats:r,_performUpdateSplits:a,ctx:s}=this,o=[...this.seriesToUpdate];this.clearCallbackCache(),this.performUpdateType=8,this.seriesToUpdate.clear(),this.runningUpdateType=n,this.updateShortcutCount===0&&n<7&&(s.animationManager.startBatch(this._performUpdateSkipAnimations),s.animationManager.onBatchStop(()=>this.chartAnimationPhase="ready")),this.ctx.scene.updateDebugFlags(),this.debug("Chart.performUpdate() - start",Zb[n]);let l=performance.now();a.start??(a.start=l);let c=u=>{a[u]??(a[u]=0),a[u]+=performance.now()-l,l=performance.now()};switch(n){case 0:if(this.checkUpdateShortcut(0))break;this.ctx.updateService.dispatchPreDomUpdate(),this.updateDOM();case 1:if(this.checkUpdateShortcut(1))break;yield this.updateData(),c("\u2B07\uFE0F");case 2:if(this.checkUpdateShortcut(2))break;yield this.processData(),this.seriesAreaManager.dataChanged(),c("\u{1F3ED}");case 3:if(this.checkUpdateShortcut(3))break;yield this.processDomains(),c("\u26F0\uFE0F");case 4:if(yield this.checkFirstAutoSize(),this.checkUpdateShortcut(4))break;yield this.processLayout(),c("\u2316");case 5:{if(this.checkUpdateShortcut(5))break;yield this.updateSeries(o),c("\u{1F914}"),this.updateAriaLabels(),this.seriesLayerManager.updateLayerCompositing()}case 6:if(this.checkUpdateShortcut(6))break;s.updateService.dispatchPreSceneRender(),c("\u2196");case 7:if(this.checkUpdateShortcut(7))break;s.animationManager.endBatch(),r.updateShortcutCount=this.updateShortcutCount,s.scene.render({debugSplitTimes:a,extraDebugStats:r,seriesRect:this.seriesRect}),this.extraDebugStats={};for(let u of Object.keys(a))delete a[u];this.ctx.domManager.incrementDataCounter("sceneRenders"),this.ctx.domManager.postRenderUpdate();case 8:this.updateShortcutCount=0,this.updateRequestors={},this._performUpdateSkipAnimations=!1,s.animationManager.endBatch()}this.destroyed||(s.updateService.dispatchUpdateComplete(this.apiUpdate),this.apiUpdate=!1,this.ctx.domManager.setDataBoolean("updatePending",!1),this.runningUpdateType=8,this.syncStatus="ready"),this._performUpdateNotify.notify();let d=performance.now();this.debug("Chart.performUpdate() - end",{chart:this,durationMs:Math.round((d-a.start)*100)/100,count:e,performUpdateType:Zb[n]})})}updateThemeClassName(){let e="ag-charts-theme-",n=[`${e}default`,`${e}default-dark`],r=n[0],a=!1,{theme:s}=this.chartOptions.processedOptions;for(;typeof s!="string"&&s!=null;)s=s.baseTheme;typeof s=="string"&&(r=s.replace("ag-",e),a=s.includes("-dark")),n.includes(r)||(r=a?n[1]:n[0]),this.ctx.domManager.setThemeClass(r)}updateDOM(){this.updateThemeClassName();let{enabled:e,tabIndex:n}=this.keyboard;this.ctx.domManager.setTabGuardIndex(e?n??0:-1),this.ctx.domManager.setThemeParameters(this.chartOptions.themeParameters)}updateAriaLabels(){this.ctx.domManager.updateCanvasLabel(this.getAriaLabel())}checkUpdateShortcut(e){return this.destroyed?!0:this.updateShortcutCount>3?(j.warn("exceeded the maximum number of simultaneous updates (4), discarding changes and rendering",this.updateRequestors),!1):this.performUpdateType<=e?(this.updateShortcutCount++,!0):!1}checkFirstAutoSize(){return L(this,null,function*(){this.width!=null&&this.height!=null||this._lastAutoSize||(yield this._autoSizeNotify.await(500))||this.debug("Chart.checkFirstAutoSize() - timeout for first size update.")})}onAxisChange(e,n){n==null&&e.length===0||this.ctx.axisManager.updateAxes(n??[],e)}onSeriesChange(e,n){let r=n?.filter(a=>!e.includes(a))??[];this.destroySeries(r),this.seriesLayerManager?.setSeriesCount(e.length);for(let a of e){if(n?.includes(a))continue;let s=this.seriesLayerManager.requestGroup(a);a.attachSeries(s,this.seriesRoot,this.annotationRoot);let o=this;a.chart={get mode(){return o.mode},get isMiniChart(){return!1},get seriesRect(){return o.seriesRect}},a.resetAnimation(this.chartAnimationPhase),this.addSeriesListeners(a),a.addChartEventListeners()}this.seriesAreaManager?.seriesChanged(e)}destroySeries(e){e?.forEach(n=>{n.removeEventListener("seriesNodeClick",this.onSeriesNodeClick),n.removeEventListener("seriesNodeDoubleClick",this.onSeriesNodeDoubleClick),n.removeEventListener("groupingChanged",this.seriesGroupingChanged),n.destroy(),this.seriesLayerManager.releaseGroup(n),n.detachSeries(void 0,this.seriesRoot,this.annotationRoot),n.chart=void 0})}addSeriesListeners(e){this.hasEventListener("seriesNodeClick")&&e.addEventListener("seriesNodeClick",this.onSeriesNodeClick),this.hasEventListener("seriesNodeDoubleClick")&&e.addEventListener("seriesNodeDoubleClick",this.onSeriesNodeDoubleClick),this.hasEventListener("seriesVisibilityChange")&&e.addEventListener("seriesVisibilityChange",this.onSeriesVisibilityChange),e.addEventListener("groupingChanged",this.seriesGroupingChanged)}assignSeriesToAxes(){for(let e of this.axes)e.boundSeries=this.series.filter(n=>n.axes[e.direction]===e)}assignAxesToSeries(){let e=Wp(this.axes,n=>n.direction);for(let n of this.series)for(let r of n.directions){let a=e[r];if(!a){j.warnOnce(`no available axis for direction [${r}]; check series and axes configuration.`);return}let s=n.getKeys(r),o=a.find(l=>!l.keys.length||s.some(c=>l.keys.includes(c)));if(!o){j.warnOnce(`no matching axis for direction [${r}] and keys [${s}]; check series and axes configuration.`);return}n.axes[r]=o}}parentResize(e){if(e==null||this.width!=null&&this.height!=null)return;let{width:n,height:r}=e,{pixelRatio:a}=e;if(n=Math.floor(n),r=Math.floor(r),n===0&&r===0)return;let[s=0,o=0,l=1]=this._lastAutoSize??[];s===n&&o===r&&l===a||(this._lastAutoSize=[n,r,a],this.resize("SizeMonitor",{}))}resize(e,n){let{scene:r,animationManager:a}=this.ctx,{inWidth:s,inHeight:o,inMinWidth:l,inMinHeight:c,inOverrideDevicePixelRatio:d}=n;this.ctx.domManager.setSizeOptions(l??this.minWidth,c??this.minHeight,s??this.width,o??this.height);let u=s??this.width??this._lastAutoSize?.[0],h=o??this.height??this._lastAutoSize?.[1],m=d??this.overrideDevicePixelRatio??this._lastAutoSize?.[2];if(this.debug(`Chart.resize() from ${e}`,{width:u,height:h,pixelRatio:m,stack:new Error().stack}),!(u==null||h==null||!Tt(u)||!Tt(h))&&r.resize(u,h,m)){a.reset();let p=!0;(this.width==null||this.height==null)&&this._firstAutoSize&&(p=!1,this._firstAutoSize=!1),this.update(4,{forceNodeDataRefresh:!0,skipAnimations:p}),this._autoSizeNotify.notify()}}updateData(){return L(this,null,function*(){this.series.forEach(n=>n.setChartData(this.data));let e=this.modulesManager.mapModules(n=>n.updateData?.(this.data));yield Promise.all(e)})}processData(){return L(this,null,function*(){this.series.some(a=>a.canHaveAxes)&&(this.assignAxesToSeries(),this.assignSeriesToAxes());let e=new aW(this.mode,this.suppressFieldDotNotation),n=this.series.map(a=>a.processData(e)),r=this.modulesManager.mapModules(a=>a.processData?.(e));this._cachedData=e.execute(this._cachedData),yield Promise.all([...n,...r]),this.updateLegends()})}processDomains(){return L(this,null,function*(){for(let e of this.axes)e.processData();for(let e of this.series)e.updatedDomains()})}updateLegends(e){for(let{legend:n,legendType:r}of this.modulesManager.legends())r==="category"?this.setCategoryLegendData(e):this.setLegendData(r,n)}setCategoryLegendData(e){var n;let{ctx:{legendManager:r,stateManager:a}}=this;e&&this.series.forEach(o=>{let l=e.find(c=>c.seriesId===o.id);o.onLegendInitialState("category",l)});let s=this.series.flatMap(o=>{let l=o.getLegendData("category");return r.updateData(o.id,l),l});if(e){a.setStateAndRestore(r,e);return}if(this.mode!=="integrated"){let o={},l=new Map(this.series.map(c=>[c.id,c.type]));for(let{seriesId:c,symbol:{marker:d},label:u}of s.filter(h=>!h.hideInLegend)){if(d.fill==null)continue;let h=l.get(c),m=o[h]??(o[h]={});m[n=u.text]??(m[n]=d.fill),m[u.text]!==d.fill&&j.warnOnce(`legend item '${u.text}' has multiple fill colors, this may cause unexpected behaviour.`)}}r.update()}setLegendData(e,n){n.data=this.series.filter(r=>r.properties.showInLegend).flatMap(r=>r.getLegendData(e))}processLayout(){return L(this,null,function*(){let e=this.animationRect,{width:n,height:r}=this.ctx.scene,a=this.ctx.layoutManager.createContext(n,r);yield this.performLayout(a),e&&!this.animationRect?.equals(e)&&this.ctx.animationManager.skipCurrentBatch(),this.debug("Chart.performUpdate() - seriesRect",this.seriesRect)})}updateSeries(e){return L(this,null,function*(){let{seriesRect:n}=this;yield Promise.all(e.map(r=>r.update({seriesRect:n}))),this.ctx.seriesLabelLayoutManager.updateLabels(this.series.filter(r=>r.visible&&r.usesPlacedLabels),this.padding,this.seriesRect)})}waitForUpdate(e,n){return L(this,null,function*(){let r=Je("agChartsDebugTimeout");r==null?(e??(e=1e5),n??(n=!1)):(e=r,n??(n=!0));let a=performance.now();for(;(this._pendingFactoryUpdatesCount>0||this.performUpdateType!==8||this.runningUpdateType!==8||this.ctx.scene.waitingForUpdate())&&!this.destroyed;){if(this._pendingFactoryUpdatesCount>0&&(yield this.updateMutex.waitForClearAcquireQueue()),(this.performUpdateType!==8||this.runningUpdateType!==8)&&(yield this._performUpdateNotify.await()),performance.now()-a>e){let s=`Chart.waitForUpdate() timeout of ${e} reached - first chart update taking too long.`;if(n)throw new Error(s);j.warnOnce(s)}rG()&&(yield ZT()),this.ctx.scene.waitingForUpdate()&&(yield ZT(50))}})}filterMiniChartSeries(e){return e?.filter(n=>n.showInMiniChart!==!1)}applyOptions(e){let r=this.firstApply?e.processedOptions:e.diffOptions(this.chartOptions);if(r==null||Object.keys(r).length===0){Ts("Chart.applyOptions() - no delta, forcing re-layout",r),this.update(4,{apiUpdate:!0,newAnimationBatch:!0});return}let a=this.firstApply?{}:this.chartOptions.processedOptions,s=e.processedOptions;Ts("Chart.applyOptions() - applying delta",r);let o=this.applyModules(s),l=["type","data","series","listeners","preset","theme","legend.listeners","navigator.miniChart.series","navigator.miniChart.label","locale.localeText","axes","topology","nodes","initialState","styleContainer","formatter"];r.listeners&&this.registerListeners(this,r.listeners),qb(this,r,{skip:l});let c=!1,d="no-op";r.series!=null&&(d=this.applySeries(this,r.series,a?.series),c=!0),d==="replaced"&&this.resetAnimations(),this.applyAxes(this,s,a,d,[])&&(c=!0),r.data&&(this.data=r.data),r.legend?.listeners&&this.modulesManager.isEnabled("legend")&&Object.assign(this.legend.listeners,r.legend.listeners),r.locale?.localeText&&(this.modulesManager.getModule("locale").localeText=r.locale?.localeText),this.chartOptions=e;let u=this.modulesManager.getModule("navigator"),h=this.modulesManager.getModule("zoom");!u?.enabled&&!h?.enabled&&this.ctx.zoomManager.updateZoom("chart");let m=u?.miniChart,p=s.navigator?.miniChart?.series??s.series;m?.enabled===!0&&p!=null?this.applyMiniChartOptions(m,p,s,a):m?.enabled===!1&&(m.series=[],m.axes=[]),this.ctx.annotationManager.setAnnotationStyles(e.annotationThemes),c||(c=this.shouldForceNodeDataRefresh(r,d));let b=c||o?0:4;if(this.maybeResetAnimations(d),this.shouldClearLegendData(s,a,d)&&this.ctx.legendManager.clearData(),this.applyInitialState(s),this.ctx.formatManager.setFormatter(s.formatter),Ts("Chart.applyOptions() - update type",Zb[b],{seriesStatus:d,forceNodeDataRefresh:c}),e.optionsProcessingTime!==void 0){this._performUpdateSplits["\u2699\uFE0F"]=e.optionsProcessingTime;let v=performance.now()-e.optionsProcessingTime;this._performUpdateSplits.start=v}this.update(b,{apiUpdate:!0,forceNodeDataRefresh:c,newAnimationBatch:!0}),this.firstApply=!1}applyInitialState(e){let{annotationManager:n,chartTypeOriginator:r,historyManager:a,stateManager:s,zoomManager:o}=this.ctx,{initialState:l}=e;if("annotations"in e&&e.annotations?.enabled&&l?.annotations!=null){let c=l.annotations.map(d=>{let u=n.getAnnotationTypeStyles(d.type);return Xt(d,u)});s.setState(n,c)}l?.chartType!=null&&s.setState(r,l.chartType),(e.navigator?.enabled||e.zoom?.enabled)&&l?.zoom!=null&&s.setState(o,l.zoom),l?.legend!=null&&this.updateLegends(l.legend),l!=null&&a.clear()}maybeResetAnimations(e){if(this.mode==="standalone")switch(e){case"series-grouping-change":case"replaced":this.resetAnimations();break;default:}}shouldForceNodeDataRefresh(e,n){let r=!!e.data||n==="data-change"||n==="replaced",a=sO.getKeys(),s=Object.values(a).some(l=>e[l]!=null),o=e.title!=null&&e.subtitle!=null||e.formatter!=null;return r||s||o}shouldClearLegendData(e,n,r){let a=r==="replaced"||r==="series-grouping-change"||r==="updated"&&(e.series?.length!==n.series?.length||!e.series?.every((o,l)=>o.type===n.series?.[l].type)),s=n.legend!=null&&e.legend==null;return a||s}applyMiniChartOptions(e,n,r,a){let s=a?.navigator?.miniChart?.series??a?.series,o=this.applySeries(e,this.filterMiniChartSeries(n),this.filterMiniChartSeries(s));this.applyAxes(e,r,a,o,["axes[].tick","axes[].thickness","axes[].title","axes[].crosshair","axes[].gridLine","axes[].label"]);let l=e.series;for(let u of l)u.properties.id=void 0;let c=e.axes,d=c.find(u=>u.direction==="x");for(let u of c)u.nice=!1,u.gridLine.enabled=!1,u.label.enabled=u===d,u.tick.enabled=!1,u.interactionEnabled=!1;if(d!=null){let u=r.navigator?.miniChart,h=u?.label,m=u?.label?.interval;if(d.line.enabled=!1,d.label.set(de(h,["interval","autoRotate","autoRotateAngle","itemStyler","minSpacing","rotation"])),d.type==="grouped-category"){d.label.enabled=!1,d.label.rotation=0;let{depthOptions:p}=d;if(p.length===0)p.set([{label:{enabled:!0}}]);else for(let g=1;g<p.length;g++)p[g].label.enabled=!1}else(d.type==="time"||d.type==="unit-time"||d.type==="ordinal-time")&&(d.parentLevel.enabled=!1);d.interval.step=m?.step,d.interval.values=m?.values,d.interval.minSpacing=m?.minSpacing,d.interval.maxSpacing=m?.maxSpacing}}applyModules(e){let{type:n}=this.constructor,r=!1;for(let a of kl.byType("root","legend")){let o=e[a.optionsKey]!=null&&a.chartTypes.includes(n);o!==this.modulesManager.isEnabled(a)&&(o?(this.modulesManager.addModule(a,l=>l.moduleFactory(this.getModuleContext())),a.type==="legend"&&this.modulesManager.getModule(a)?.attachLegend(this.ctx.scene),this[a.optionsKey]=this.modulesManager.getModule(a)):(this.modulesManager.removeModule(a),delete this[a.optionsKey]),r=!0)}return r}initSeriesDeclarationOrder(e){for(let n=0;n<e.length;n++)e[n].setSeriesIndex(n)}applySeries(e,n,r){if(!n)return"no-change";let a=jhe(e.series,n,r);if(a.status==="no-overlap"){Ts(`Chart.applySeries() - creating new series instances, status: ${a.status}`,a);let u=n.map(h=>this.createSeries(h));return this.initSeriesDeclarationOrder(u),e.series=u,"replaced"}Ts("Chart.applySeries() - matchResult",a);let s=[],o=!1,l=!1,c=!1,d=a.changes.toSorted((u,h)=>u.targetIdx-h.targetIdx);for(let u of d)switch(l||(l=u.status==="series-grouping"),o||(o=u.diff?.data!=null),c||(c=u.status!=="no-op"),u.status){case"add":{let h=this.createSeries(u.opts);s.push(h),Ts("Chart.applySeries() - created new series",h);break}case"remove":Ts(`Chart.applySeries() - removing series at previous idx ${u.idx}`,u.series);break;case"no-op":s.push(u.series),Ts(`Chart.applySeries() - no change to series at previous idx ${u.idx}`,u.series);break;case"series-grouping":case"update":default:{let{series:h,diff:m,idx:p}=u;Ts(`Chart.applySeries() - applying series diff previous idx ${p}`,m,h),this.applySeriesValues(h,m),h.markNodeDataDirty(),s.push(h)}}return this.initSeriesDeclarationOrder(s),Ts("Chart.applySeries() - final series instances",s),e.series=s,l?"series-grouping-change":o?"data-change":c?"updated":"no-op"}applyAxes(e,n,r,a,s=[]){if(!("axes"in n)||!n.axes)return!1;s=["axes[].type",...s];let o=n.axes;return!(a==="replaced")&&e.axes.length===o.length&&e.axes.every((d,u)=>d.type===o[u].type)&&VW(r)?(e.axes.forEach((d,u)=>{let h=r.axes?.[u]??{},m=Ec(h,o[u]);Ts(`Chart.applyAxes() - applying axis diff idx ${u}`,m);let p=`axes[${u}]`;qb(d,m,{path:p,skip:s})}),!0):(Ts(`Chart.applyAxes() - creating new axes instances; seriesStatus: ${a}`),e.axes=this.createAxis(o,s),!0)}createSeries(e){let n=Io.create(e.type,this.getModuleContext());return this.applySeriesOptionModules(n,e),this.applySeriesValues(n,e),n}applySeriesOptionModules(e,n){let r=e.createModuleContext(),a=e.getModuleMap();for(let s of kl.byType("series-option"))s.optionsKey in n&&s.seriesTypes.includes(e.type)&&a.addModule(s,o=>o.moduleFactory(r))}applySeriesValues(e,n){let r=e.getModuleMap(),u=n,{type:a,data:s,listeners:o,seriesGrouping:l,showInMiniChart:c}=u,d=ci(u,["type","data","listeners","seriesGrouping","showInMiniChart"]);for(let h of Tv)if(h.type==="series-option"&&h.optionsKey in d){let m=r.getModule(h.optionsKey);if(m){let p=d[h.optionsKey];delete d[h.optionsKey],m.properties.set(p)}}d.visible!=null&&(e.visible=d.visible),e.properties.set(d),"data"in n&&e.setOptionsData(s),o&&this.registerListeners(e,o),"seriesGrouping"in n&&(l==null?e.seriesGrouping=void 0:e.seriesGrouping=f(f({},e.seriesGrouping),l))}createAxis(e,n){let r=[],a=this.getModuleContext();for(let s=0;s<e.length;s++){let o=e[s],l=Nh.create(o.type,a);this.applyAxisModules(l,o),qb(l,o,{path:`axes[${s}]`,skip:n}),r.push(l)}return Vhe(r),r}applyAxisModules(e,n){let r=e.createModuleContext(),a=e.getModuleMap();for(let s of kl.byType("axis-option")){let o=n[s.optionsKey]!=null;o!==a.isEnabled(s)&&(o?(a.addModule(s,l=>l.moduleFactory(r)),e[s.optionsKey]=a.getModule(s)):(a.removeModule(s),delete e[s.optionsKey]))}}registerListeners(e,n){e.clearEventListeners();for(let[r,a]of dr(n))e.addEventListener(r,a)}};return t.chartsInstances=new WeakMap,t})();y([Yr({newValue(t){this.destroyed||(this.ctx.domManager.setContainer(t),gn.chartsInstances.set(t,this))},oldValue(t){gn.chartsInstances.delete(t)}})],gn.prototype,"container",2);y([Yr({newValue(t){this.resize("width option",{inWidth:t})}})],gn.prototype,"width",2);y([Yr({newValue(t){this.resize("height option",{inHeight:t})}})],gn.prototype,"height",2);y([Yr({newValue(t){this.resize("minWidth option",{inMinWidth:t})}})],gn.prototype,"minWidth",2);y([Yr({newValue(t){this.resize("minHeight option",{inMinHeight:t})}})],gn.prototype,"minHeight",2);y([Yr({newValue(t){this.resize("overrideDevicePixelRatio option",{inOverrideDevicePixelRatio:t})}})],gn.prototype,"overrideDevicePixelRatio",2);y([C],gn.prototype,"padding",2);y([C],gn.prototype,"keyboard",2);y([C],gn.prototype,"touch",2);y([C],gn.prototype,"mode",2);y([C],gn.prototype,"styleNonce",2);y([tr("chartCaptions.title")],gn.prototype,"title",2);y([tr("chartCaptions.subtitle")],gn.prototype,"subtitle",2);y([tr("chartCaptions.footnote")],gn.prototype,"footnote",2);y([C],gn.prototype,"formatter",2);y([C],gn.prototype,"suppressFieldDotNotation",2);y([C],gn.prototype,"loadGoogleFonts",2);y([Yr({changeValue(t,i){this.onAxisChange(t,i)}})],gn.prototype,"axes",2);y([Yr({changeValue(t,i){this.onSeriesChange(t,i)}})],gn.prototype,"series",2);var $D=gn;function zH(t,i){let e=[],n=t?.series?.[0]?.type,r=n==="linear-gauge"||n==="radial-gauge",a=n?Jn.get(n):"unknown";for(let s of Tv)if(!(a!=="unknown"&&!s.chartTypes.includes(a))){if(s.type==="root"||s.type==="legend"){let o=t[s.optionsKey];if(o==null)continue;s.optionsInnerKey?o[s.optionsInnerKey]&&(e.push(`${s.optionsKey}.${s.optionsInnerKey}`),delete o[s.optionsInnerKey]):(e.push(s.optionsKey),delete t[s.optionsKey])}else if(s.type==="axis"){if(!("axes"in t)||!qe(t.axes)||!t.axes?.some(o=>o.type===s.identifier))continue;e.push(`axis[type=${s.identifier}]`),t.axes=t.axes.filter(o=>o.type!==s.identifier)}else if(s.type==="axis-option"){if(!("axes"in t)||!qe(t.axes)||!t.axes?.some(o=>o[s.optionsKey]))continue;e.push(`axis.${s.optionsKey}`),t.axes.forEach(o=>{o[s.optionsKey]&&delete o[s.optionsKey]})}else if(s.type==="series"){if(s.community||!qe(t.series)||!t.series?.some(o=>o.type===s.identifier))continue;e.push(`series[type=${s.identifier}]`),t.series=t.series.filter(o=>o.type!==s.identifier)}else if(s.type==="series-option"){if(!qe(t.series)||!t.series?.some(o=>o[s.optionsKey]))continue;e.push(`series.${s.optionsKey}`),t.series.forEach(o=>{o[s.optionsKey]&&delete o[s.optionsKey]})}}if(e.length&&!i){r&&(e=["AgCharts.createGauge"]);let s="ag-charts-enterprise",o="https://www.ag-grid.com/charts/javascript/installation/";t.mode==="integrated"&&(s="ag-grid-charts-enterprise' or 'ag-grid-enterprise/charts-enterprise",o="https://www.ag-grid.com/javascript-data-grid/integrated-charts-installation/"),j.warnOnce([`unable to use these enterprise features as '${s}' has not been loaded:`,"",...e,"",`See: ${o}`].join(`
`))}}function wme(t){let i="mode"in t&&t.mode==="integrated";for(let e of kl.byType("root","legend")){let n=t[e.optionsKey],r=n!=null&&n.enabled===!1,a=!("removable"in e)||e.removable===!0||e.removable==="standalone-only"&&!i;r&&a&&delete t[e.optionsKey]}}function i$(t){return t?.up||t?.down||t?.neutral?"user-full":t?.fills||t?.strokes?"user-indexed":"inbuilt"}var wn={BLUE:"#5090dc",ORANGE:"#ffa03a",GREEN:"#459d55",CYAN:"#34bfe1",YELLOW:"#e1cc00",VIOLET:"#9669cb",GRAY:"#b5b5b5",MAGENTA:"#bd5aa7",BROWN:"#8a6224",RED:"#ef5452"},bc={BLUE:"#2b5c95",ORANGE:"#cc6f10",GREEN:"#1e652e",CYAN:"#18859e",YELLOW:"#a69400",VIOLET:"#603c88",GRAY:"#575757",MAGENTA:"#7d2f6d",BROWN:"#4f3508",RED:"#a82529"},xO={};Rl(xO,{DEFAULT_ANNOTATION_HANDLE_FILL:()=>Gv,DEFAULT_ANNOTATION_STATISTICS_COLOR:()=>Yv,DEFAULT_ANNOTATION_STATISTICS_DIVIDER_STROKE:()=>Kv,DEFAULT_ANNOTATION_STATISTICS_DOWN_FILL:()=>pv,DEFAULT_ANNOTATION_STATISTICS_DOWN_STROKE:()=>fv,DEFAULT_ANNOTATION_STATISTICS_FILL:()=>Wv,DEFAULT_ANNOTATION_STATISTICS_STROKE:()=>$v,DEFAULT_CAPTION_ALIGNMENT:()=>jd,DEFAULT_CAPTION_LAYOUT_STYLE:()=>Bd,DEFAULT_FIBONACCI_STROKES:()=>mv,DEFAULT_FINANCIAL_CHARTS_ANNOTATION_BACKGROUND_FILL:()=>Rn,DEFAULT_FINANCIAL_CHARTS_ANNOTATION_COLOR:()=>nn,DEFAULT_GRIDLINE_ENABLED:()=>ko,DEFAULT_POLAR_SERIES_STROKE:()=>JD,DEFAULT_SEPARATION_LINES_COLOUR:()=>Uv,DEFAULT_SHADOW_COLOUR:()=>iu,DEFAULT_SPARKLINE_CROSSHAIR_STROKE:()=>eS,DEFAULT_TEXTBOX_COLOR:()=>Qv,DEFAULT_TEXTBOX_FILL:()=>qv,DEFAULT_TEXTBOX_STROKE:()=>Zv,DEFAULT_TEXT_ANNOTATION_COLOR:()=>Hv,DEFAULT_TOOLBAR_POSITION:()=>Xv,IS_DARK_THEME:()=>Cf,PALETTE_ALT_DOWN_FILL:()=>SO,PALETTE_ALT_DOWN_STROKE:()=>wO,PALETTE_ALT_NEUTRAL_FILL:()=>MO,PALETTE_ALT_NEUTRAL_STROKE:()=>IO,PALETTE_ALT_UP_FILL:()=>DO,PALETTE_ALT_UP_STROKE:()=>CO,PALETTE_DOWN_FILL:()=>ZD,PALETTE_DOWN_STROKE:()=>KD,PALETTE_NEUTRAL_FILL:()=>XD,PALETTE_NEUTRAL_STROKE:()=>QD,PALETTE_UP_FILL:()=>qD,PALETTE_UP_STROKE:()=>YD});var Cf=Symbol("is-dark-theme"),Uv=Symbol("default-separation-lines-colour"),iu=Symbol("default-shadow-colour"),Bd=Symbol("default-caption-layout-style"),jd=Symbol("default-caption-alignment"),YD=Symbol("palette-up-stroke"),KD=Symbol("palette-down-stroke"),qD=Symbol("palette-up-fill"),ZD=Symbol("palette-down-fill"),QD=Symbol("palette-neutral-stroke"),XD=Symbol("palette-neutral-fill"),CO=Symbol("palette-alt-up-stroke"),wO=Symbol("palette-alt-down-stroke"),DO=Symbol("palette-alt-up-fill"),SO=Symbol("palette-alt-down-fill"),MO=Symbol("palette-gray-fill"),IO=Symbol("palette-gray-stroke"),JD=Symbol("default-polar-series-stroke"),eS=Symbol("default-sparkline-crosshair-stroke"),nn=Symbol("default-financial-charts-annotation-stroke"),mv=Symbol("default-hierarchy-strokes"),Hv=Symbol("default-text-annotation-color"),Rn=Symbol("default-financial-charts-annotation-background-fill"),Gv=Symbol("default-annotation-handle-fill"),Wv=Symbol("default-annotation-statistics-fill"),$v=Symbol("default-annotation-statistics-stroke"),Yv=Symbol("default-annotation-statistics-color"),Kv=Symbol("default-annotation-statistics-divider-stroke"),pv=Symbol("default-annotation-statistics-fill"),fv=Symbol("default-annotation-statistics-stroke"),qv=Symbol("default-textbox-fill"),Zv=Symbol("default-textbox-stroke"),Qv=Symbol("default-textbox-color"),Xv=Symbol("default-toolbar-position"),ko=Symbol("default-gridline-enabled"),n$=[{type:"number",position:{$if:[{$eq:[{$path:["/series/0/direction",void 0]},"horizontal"]},"bottom","left"]}},{type:"category",position:{$if:[{$eq:[{$path:["/series/0/direction",void 0]},"horizontal"]},"left","bottom"]}}],Dme={$if:[{$or:[{$isGradient:{$palette:"fill"}},{$isPattern:{$palette:"fill"}},{$isImage:{$value:"$1"}}]},{$palette:"fillFallback"},{$palette:"fill"}]},kO={$if:[{$or:[{$isGradient:{$palette:"fill"}},{$isPattern:{$palette:"fill"}},{$isImage:{$value:"$1"}}]},{$palette:"fillsFallback"},{$palette:"fills"}]},tS={$if:[{$isGradient:{$palette:"fill"}},{$palette:"fillFallback"},{$if:[{$isPattern:{$palette:"fill"}},{$path:["/stroke",{$palette:"fillFallback"},{$palette:"fill"}]},{$palette:"fill"}]}]},Sme={$if:[{$or:[{$isGradient:{$palette:"fill"}},{$isPattern:{$palette:"fill"}},{$isImage:{$value:"$1"}}]},[{$palette:"fillFallback"},{$palette:"fillFallback"}],{$palette:"range2"}]},Hf={type:"gradient",gradient:"linear",bounds:"item",colorStops:{$palette:"gradient"},rotation:0,reverse:!1},Mme=S(f({},Hf),{colorStops:[{$mix:[{$path:["/1",{$palette:"fill"},{$palette:"hierarchyColors"}]},"black",.15]},{$mix:[{$path:["/1",{$palette:"fill"},{$palette:"hierarchyColors"}]},"white",.15]}]}),Ime=t=>S(f({},Hf),{colorStops:{$if:[{$or:[{$isGradient:{$palette:`${t}.fill`}},{$isPattern:{$palette:`${t}.fill`}},{$isImage:{$palette:`${t}.fill`}}]},{$map:[{$path:["/color",void 0,{$value:"$1"}]},{$path:["/colorStops",void 0,{$palette:`${t}.fill`}]}]},[{$mix:[{$palette:`${t}.fill`},"black",.15]},{$mix:[{$palette:`${t}.fill`},"white",.15]}]]}}),iS={type:"gradient",gradient:"radial",bounds:"item",colorStops:{$palette:"gradient"},rotation:0,reverse:!1},Jv=S(f({},iS),{reverse:!0}),kme=S(f({},iS),{bounds:"series"}),Ame=S(f({},iS),{bounds:"series",reverse:!0}),Eme={type:"gradient",gradient:"conic",bounds:"series",colorStops:{$palette:"gradient"},rotation:0,reverse:!1},Tc={type:"pattern",pattern:"forward-slanted-lines",width:10,height:10,padding:2,fill:{$if:[{$or:[{$isGradient:{$palette:"fill"}},{$isImage:{$palette:"fill"}}]},{$palette:"fillFallback"},{$if:[{$isPattern:{$palette:"fill"}},{$path:["/fill",{$palette:"fillFallback"},{$palette:"fill"}]},{$palette:"fill"}]}]},fillOpacity:1,stroke:tS,strokeOpacity:1,strokeWidth:4,backgroundFill:"none",backgroundFillOpacity:1,rotation:0,scale:1},Tme=S(f({},Tc),{fill:{$path:["/1",{$palette:"fill"},{$palette:"hierarchyColors"}]},stroke:{$path:["/1",{$palette:"fill"},{$palette:"hierarchyColors"}]}}),Zh={type:"image",backgroundFill:{$palette:"fillFallback"},backgroundFillOpacity:1,repeat:"no-repeat",fit:"contain",rotation:0};function ds(t){return F5(t,i=>{let e=wi.fromString(i);return[wi.darken(e,.15).toString(),i,wi.lighten(e,.15).toString()]})}var AO={stroke:{$path:["../../highlightStyle/item/stroke","rgba(0, 0, 0, 0.4)"]},strokeWidth:{$path:["../../highlightStyle/item/strokeWidth",2]},strokeOpacity:{$path:["../../highlightStyle/item/strokeOpacity",void 0]},opacity:{$path:["../../highlightStyle/item/opacity",1]}},r$=S(f({},AO),{fill:{$path:["../../highlightStyle/item/fill","rgba(255,255,255, 0.33)"]},fillOpacity:{$path:["../../highlightStyle/item/fillOpacity",void 0]}}),Vs={padding:8,cornerRadius:4,fill:{$if:[{$and:[{$eq:[{$path:"./fill/type"},"image"]},{$isUserOption:["./fill/backgroundFill",!1,!0]}]},{backgroundFill:"transparent"},void 0]},border:{enabled:{$isUserOption:["../border",!0,!1]},strokeWidth:1,stroke:{$foregroundOpacity:.08}}};function nu(t=!0){return{enabled:!0,highlightedItem:t?r$:AO,unhighlightedItem:{strokeWidth:{$path:["../../highlightStyle/series/strokeWidth",void 0]}},highlightedSeries:{strokeWidth:{$path:["../../highlightStyle/series/strokeWidth",void 0]}},unhighlightedSeries:{opacity:{$path:["../../highlightStyle/series/dimOpacity",void 0]}}}}function a$(t=!0){return{enabled:!0,highlightedItem:t?r$:AO,unhighlightedItem:{strokeWidth:{$path:["../../highlightStyle/series/strokeWidth",void 0]},opacity:{$path:["../../highlightStyle/series/dimOpacity",void 0]}}}}var s$={border:{enabled:!1,stroke:{$foregroundBackgroundMix:.25},strokeOpacity:1,strokeWidth:1},cornerRadius:4,fillOpacity:1,padding:{$if:[{$eq:[{$path:"./border/enabled"},!0]},5,{$isUserOption:["./fill",5,0]}]}},y1="white",Rme={get cartesian(){return{seriesTypes:Jn.cartesianTypes,commonOptions:["zoom","navigator"]}},get polar(){return{seriesTypes:Jn.polarTypes,commonOptions:[]}},get topology(){return{seriesTypes:Jn.topologyTypes,commonOptions:[]}},get standalone(){return{seriesTypes:Jn.standaloneTypes,commonOptions:[]}}},Ome={"radial-gauge":!0,"linear-gauge":!0};function Lme(t){return Ome[t]===!0}var ns=class Gb{static getDefaultColors(){return{fills:wn,fillsFallback:Object.values(wn),strokes:bc,sequentialColors:ds(wn),divergingColors:[wn.ORANGE,wn.YELLOW,wn.GREEN],hierarchyColors:["#fff","#e0e5ea","#c1ccd5","#a3b4c1","#859cad"],secondSequentialColors:wi.interpolate([wi.fromHexString(wn.BLUE),wi.fromHexString("#cbdef5")],8).map(i=>i.toString()),secondDivergingColors:[wn.GREEN,wn.YELLOW,wn.RED],secondHierarchyColors:["#fff","#c5cbd1","#a4b1bd","#8498a9","#648096"],up:{fill:wn.GREEN,stroke:bc.GREEN},down:{fill:wn.RED,stroke:bc.RED},neutral:{fill:wn.GRAY,stroke:bc.GRAY},altUp:{fill:wn.BLUE,stroke:bc.BLUE},altDown:{fill:wn.ORANGE,stroke:bc.ORANGE},altNeutral:{fill:wn.GRAY,stroke:bc.GRAY}}}static getDefaultPublicParameters(){return{accentColor:"#2196f3",axisColor:{$foregroundBackgroundMix:.325},backgroundColor:y1,borderColor:{$foregroundOpacity:.15},borderRadius:4,chartBackgroundColor:{$ref:"backgroundColor"},chartPadding:20,focusShadow:"0 0 0 3px var(--ag-charts-accent-color)",foregroundColor:"#181d1f",fontFamily:"Verdana, sans-serif",fontSize:_c,fontWeight:400,gridLineColor:{$foregroundBackgroundMix:.1},popupShadow:"0 0 16px rgba(0, 0, 0, 0.15)",subtleTextColor:{$mix:[{$ref:"textColor"},{$ref:"chartBackgroundColor"},.38]},textColor:{$ref:"foregroundColor"},chromeBackgroundColor:{$foregroundBackgroundMix:.02},chromeFontFamily:{$ref:"fontFamily"},chromeFontSize:{$ref:"fontSize"},chromeFontWeight:{$ref:"fontWeight"},chromeTextColor:{$ref:"foregroundColor"},chromeSubtleTextColor:{$mix:[{$ref:"chromeTextColor"},{$ref:"backgroundColor"},.38]},buttonBackgroundColor:{$ref:"backgroundColor"},buttonBorder:!0,buttonFontWeight:400,buttonTextColor:{$ref:"textColor"},inputBackgroundColor:{$ref:"backgroundColor"},inputBorder:!0,inputTextColor:{$ref:"textColor"},menuBackgroundColor:{$ref:"chromeBackgroundColor"},menuBorder:!0,menuTextColor:{$ref:"chromeTextColor"},panelBackgroundColor:{$ref:"chromeBackgroundColor"},panelSubtleTextColor:{$ref:"chromeSubtleTextColor"},tooltipBackgroundColor:{$ref:"chromeBackgroundColor"},tooltipBorder:!0,tooltipTextColor:{$ref:"chromeTextColor"},tooltipSubtleTextColor:{$ref:"chromeSubtleTextColor"},crosshairLabelBackgroundColor:{$ref:"foregroundColor"},crosshairLabelTextColor:{$ref:"chartBackgroundColor"}}}static getAxisDefaults(i,{title:e,time:n}){return Xt(i,e&&{title:{enabled:!1,text:"Axis Title",spacing:25,fontWeight:{$ref:"fontWeight"},fontSize:{$rem:ss.MEDIUM},fontFamily:{$ref:"fontFamily"},color:{$ref:"textColor"}}},n&&{parentLevel:{enabled:!1,label:{enabled:{$path:"../../label/enabled"},border:{enabled:{$or:[{$isUserOption:["../border",!0,!1]},{$path:"../../../label/border/enabled"}]},strokeWidth:{$path:"../../../label/border/strokeWidth"},stroke:{$path:"../../../label/border/stroke"}},fill:{$path:"../../label/fill"},fontSize:{$path:"../../label/fontSize"},fontFamily:{$path:"../../label/fontFamily"},fontWeight:"bold",spacing:{$path:"../../label/spacing"},color:{$path:"../../label/color"},cornerRadius:{$path:"../../label/cornerRadius"},padding:{$path:"../../label/padding"},avoidCollisions:{$path:"../../label/avoidCollisions"}},tick:{enabled:{$path:"../../tick/enabled"},width:{$path:"../../tick/width"},size:{$path:"../../tick/size"},stroke:{$path:"../../tick/stroke"}}}},{label:{enabled:!0,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},spacing:11,color:{$ref:"textColor"},avoidCollisions:!0,cornerRadius:4,border:{enabled:{$isUserOption:["../border",!0,!1]},strokeWidth:1,stroke:{$foregroundOpacity:.08}},padding:{$if:[{$eq:[{$path:"./border/enabled"},!0]},{left:12,right:12,top:8,bottom:8},void 0]}},line:{enabled:!0,width:1,stroke:{$ref:"axisColor"}},tick:{enabled:!1,size:6,width:1,stroke:{$ref:"axisColor"}},gridLine:{enabled:!0,width:1,style:{$apply:[{fillOpacity:1,stroke:{$ref:"gridLineColor"},strokeWidth:{$path:"../../width"},lineDash:[]},[{fillOpacity:1,stroke:{$ref:"gridLineColor"},strokeWidth:{$path:"../../width"},lineDash:[]}]]}},crossLines:{$apply:[{enabled:!0,fill:{$ref:"foregroundColor"},stroke:{$ref:"foregroundColor"},fillOpacity:.08,strokeWidth:1,label:{fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},padding:5,color:{$ref:"textColor"}}},void 0,{$pathString:["/common/axes/$axisType/crossLines",{axisType:{$path:["/axes/$index/type"]}}]},{$pathString:["/$seriesType/axes/$axisType/crossLines",{seriesType:{$path:["/series/0/type","line"]},axisType:{$path:["/axes/$index/type"]}}]}]}})}getChartDefaults(){return{minHeight:300,minWidth:300,background:{visible:!0,fill:{$ref:"chartBackgroundColor"}},padding:{top:{$ref:"chartPadding"},right:{$ref:"chartPadding"},bottom:{$ref:"chartPadding"},left:{$ref:"chartPadding"}},seriesArea:{border:{enabled:!1,stroke:{$ref:"foregroundColor"},strokeOpacity:1,strokeWidth:1},cornerRadius:4,padding:{$if:[{$eq:[{$path:"./border/enabled"},!0]},5,0]}},keyboard:{enabled:!0},title:{enabled:!1,text:"Title",spacing:{$if:[{$path:"../subtitle/enabled"},10,20]},fontWeight:{$ref:"fontWeight"},fontSize:{$rem:ss.LARGEST},fontFamily:{$ref:"fontFamily"},color:{$ref:"textColor"},wrapping:"hyphenate",layoutStyle:Bd,textAlign:jd},subtitle:{enabled:!1,text:"Subtitle",spacing:20,fontWeight:{$ref:"fontWeight"},fontSize:{$rem:ss.MEDIUM},fontFamily:{$ref:"fontFamily"},color:{$ref:"subtleTextColor"},wrapping:"hyphenate",layoutStyle:Bd,textAlign:jd},footnote:{enabled:!1,text:"Footnote",spacing:20,fontSize:{$rem:ss.MEDIUM},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"subtleTextColor"},wrapping:"hyphenate",layoutStyle:Bd,textAlign:jd},legend:S(f({},s$),{enabled:{$and:[{$greaterThan:[{$size:[{$path:"/series"}]},1]},{$or:[{$isChartType:"cartesian"},{$isChartType:"standalone"},{$and:[{$isChartType:"polar"},{$not:{$isSeriesType:"pie"}},{$not:{$isSeriesType:"donut"}}]}]}]},position:"bottom",orientation:{$if:[{$or:[{$eq:[{$path:"./position"},"left"]},{$eq:[{$path:"./position"},"left-top"]},{$eq:[{$path:"./position"},"left-bottom"]},{$eq:[{$path:"./position"},"right"]},{$eq:[{$path:"./position"},"right-top"]},{$eq:[{$path:"./position"},"right-bottom"]},{$eq:[{$path:"./position/placement"},"left"]},{$eq:[{$path:"./position/placement"},"left-top"]},{$eq:[{$path:"./position/placement"},"left-bottom"]},{$eq:[{$path:"./position/placement"},"right"]},{$eq:[{$path:"./position/placement"},"right-top"]},{$eq:[{$path:"./position/placement"},"right-bottom"]}]},"vertical","horizontal"]},spacing:30,listeners:{},toggleSeries:!0,item:{paddingX:16,paddingY:8,marker:{size:15,padding:8},showSeriesStroke:!0,label:{color:{$ref:"textColor"},fontSize:{$rem:ss.SMALL},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"}}},reverseOrder:!1,pagination:{marker:{size:12},activeStyle:{fill:{$ref:"foregroundColor"}},inactiveStyle:{fill:{$ref:"subtleTextColor"}},highlightStyle:{fill:{$ref:"foregroundColor"}},label:{color:{$ref:"textColor"}}},fill:{$if:[{$path:["./position/floating",!1]},{$ref:"chartBackgroundColor"},"transparent"]}}),tooltip:{enabled:!0,darkTheme:Cf,delay:0,pagination:!1,mode:{$if:[{$and:[{$isChartType:"cartesian"},{$not:{$hasSeriesType:"bubble"}},{$not:{$hasSeriesType:"scatter"}},{$greaterThan:[{$size:[{$path:"/series"}]},1]},{$lessThan:[{$size:[{$path:"/series"}]},4]}]},"shared","single"]}},overlays:{darkTheme:Cf},listeners:{},series:{tooltip:{range:{$path:["/tooltip/range","exact"]},position:{anchorTo:{$path:["/tooltip/position/anchorTo","pointer"]},placement:{$path:["/tooltip/position/placement",void 0]},xOffset:{$path:["/tooltip/position/xOffset",0]},yOffset:{$path:["/tooltip/position/yOffset",0]}}}}}}constructor(i={}){let{overrides:e,palette:n,params:r}=qi(i),a=this.createChartConfigPerChartType(this.getDefaults()),s={};e&&this.processOverrides(s,e);let u=this.getDefaultColors(),{fills:o,strokes:l,sequentialColors:c}=u,d=ci(u,["fills","strokes","sequentialColors"]);this.palette=Cc(Xt(n,f({fills:Object.values(o),strokes:Object.values(l),sequentialColors:Object.values(c)},d))),this.paletteType=i$(n),this.params=Xt(r,this.getPublicParameters()),this.config=Cc(qi(a)),this.overrides=Cc(e),this.presets=Cc(s)}processOverrides(i,e){Jn.seriesTypes.forEach(n=>{let r=n,a=e[r];Lme(r)&&(i[r]=a,delete e[r])})}createChartConfigPerChartType(i){for(let[e,{seriesTypes:n}]of dr(Rme)){let r=eR.get(e);for(let a of n)i[a]??(i[a]=qi(r))}return i}getDefaults(){let i=(e,n)=>{let r={},a=f(f(f({axes:{}},sO.getThemeTemplates()),this.getChartDefaults()),eR.get(e));for(let s of n){r[s]=Xt(Io.getThemeTemplate(s),r[s]??qi(a));let{axes:o}=r[s];for(let l of Nh.keys())o[l]=Xt(o[l],Nh.getThemeTemplate(l),Gb.axisDefault[l]);(s==="map-shape-background"||s==="map-line-background")&&delete r[s].series.tooltip}return r};return Xt(i("cartesian",Jn.cartesianTypes),i("polar",Jn.polarTypes),i("topology",Jn.topologyTypes),i("standalone",Jn.standaloneTypes))}static applyTemplateTheme(i,e,n){if(qe(i))for(let r=0;r<i.length;r++){let a=i[r];typeof a=="symbol"&&n?.has(a)&&(i[r]=n.get(a))}else for(let r of Object.keys(i)){let a=i[r];typeof a=="symbol"&&n?.has(a)&&(i[r]=n.get(a))}}templateTheme(i,e=!0){let n=e?qi(i):i,r=this.getTemplateParameters();return Hd(n,Gb.applyTemplateTheme,void 0,void 0,r),n}getDefaultColors(){return Gb.getDefaultColors()}getPublicParameters(){return Gb.getDefaultPublicParameters()}getTemplateParameters(){let i=new Map;i.set(Cf,!1),i.set(Uv,"#d9d9d9"),i.set(iu,"#00000080"),i.set(eS,"#aaa"),i.set(Bd,"block"),i.set(jd,"center"),i.set(mv,["#797b86","#e24c4a","#f49d2d","#65ab58","#409682","#4db9d2","#5090dc","#3068f9","#e24c4a","#913aac","#d93e64"]),i.set(JD,y1),i.set(nn,wn.BLUE),i.set(Rn,wn.BLUE),i.set(Hv,wn.BLUE),i.set(Gv,y1),i.set(Wv,"#fafafa"),i.set($v,"#ddd"),i.set(Yv,"#000"),i.set(Kv,"#181d1f"),i.set(pv,"#e35c5c"),i.set(fv,"#e35c5c"),i.set(qv,"#fafafa"),i.set(Zv,"#ddd"),i.set(Qv,"#000"),i.set(Xv,"top"),i.set(ko,!1);let e=this.getDefaultColors();return i.set(YD,this.palette.up?.stroke??e.up.stroke),i.set(qD,this.palette.up?.fill??e.up.fill),i.set(KD,this.palette.down?.stroke??e.down.stroke),i.set(ZD,this.palette.down?.fill??e.down.fill),i.set(QD,this.palette.neutral?.stroke??e.neutral.stroke),i.set(XD,this.palette.neutral?.fill??e.neutral.fill),i.set(CO,this.palette.altUp?.stroke??e.up.stroke),i.set(DO,this.palette.altUp?.fill??e.up.fill),i.set(wO,this.palette.altDown?.stroke??e.down.stroke),i.set(SO,this.palette.altDown?.fill??e.down.fill),i.set(MO,this.palette.altNeutral?.fill??e.altNeutral.fill),i.set(IO,this.palette.altNeutral?.stroke??e.altNeutral.stroke),i}};ns.axisDefault={number:ns.getAxisDefaults({keys:[],line:{enabled:!1},crosshair:{enabled:!0}},{title:!0,time:!1}),log:ns.getAxisDefaults({keys:[],base:10,line:{enabled:!1},crosshair:{enabled:!0}},{title:!0,time:!1}),category:ns.getAxisDefaults({keys:[],groupPaddingInner:.1,label:{autoRotate:!0,wrapping:"on-space"},gridLine:{enabled:ko},crosshair:{enabled:!1}},{title:!0,time:!1}),"grouped-category":ns.getAxisDefaults({keys:[],tick:{enabled:!0,stroke:Uv},label:{spacing:10,rotation:270,wrapping:"on-space"},maxThicknessRatio:.5,paddingInner:.4,groupPaddingInner:.2,crosshair:{enabled:!1}},{title:!0,time:!1}),time:ns.getAxisDefaults({keys:[],gridLine:{enabled:ko},crosshair:{enabled:!0}},{title:!0,time:!0}),"unit-time":ns.getAxisDefaults({keys:[],groupPaddingInner:.1,label:{autoRotate:!1},gridLine:{enabled:ko},crosshair:{enabled:!0},parentLevel:{enabled:!0}},{title:!0,time:!0}),"ordinal-time":ns.getAxisDefaults({keys:[],groupPaddingInner:0,label:{autoRotate:!1},gridLine:{enabled:ko},crosshair:{enabled:!0}},{title:!0,time:!0}),"angle-category":ns.getAxisDefaults({label:{spacing:5},gridLine:{enabled:ko},shape:{$findFirstSiblingNotOperation:void 0}},{title:!1,time:!1}),"angle-number":ns.getAxisDefaults({label:{spacing:5},gridLine:{enabled:ko}},{title:!1,time:!1}),"radius-category":ns.getAxisDefaults({positionAngle:0,line:{enabled:!1}},{title:!0,time:!1}),"radius-number":ns.getAxisDefaults({positionAngle:0,line:{enabled:!1},shape:{$findFirstSiblingNotOperation:void 0}},{title:!0,time:!1})};var Oo=ns,b1="#192232",_r={BLUE:"#5090dc",ORANGE:"#ffa03a",GREEN:"#459d55",CYAN:"#34bfe1",YELLOW:"#e1cc00",VIOLET:"#9669cb",GRAY:"#b5b5b5",MAGENTA:"#bd5aa7",BROWN:"#8a6224",RED:"#ef5452"},bh={BLUE:"#74a8e6",ORANGE:"#ffbe70",GREEN:"#6cb176",CYAN:"#75d4ef",YELLOW:"#f6e559",VIOLET:"#aa86d8",GRAY:"#a1a1a1",MAGENTA:"#ce7ab9",BROWN:"#997b52",RED:"#ff7872"},Gf=class extends Oo{getDefaultColors(){return{fills:_r,fillsFallback:Object.values(_r),strokes:bh,sequentialColors:ds(_r),divergingColors:[_r.ORANGE,_r.YELLOW,_r.GREEN],hierarchyColors:["#192834","#253746","#324859","#3f596c","#4d6a80"],secondSequentialColors:["#5090dc","#4882c6","#4073b0","#38659a","#305684","#28486e","#203a58","#182b42"],secondDivergingColors:[_r.GREEN,_r.YELLOW,_r.RED],secondHierarchyColors:["#192834","#3b5164","#496275","#577287","#668399"],up:{fill:_r.GREEN,stroke:bh.GREEN},down:{fill:_r.RED,stroke:bh.RED},neutral:{fill:_r.GRAY,stroke:bh.GRAY},altUp:{fill:_r.BLUE,stroke:bh.BLUE},altDown:{fill:_r.ORANGE,stroke:bh.ORANGE},altNeutral:{fill:_r.GRAY,stroke:bh.GRAY}}}getPublicParameters(){return S(f({},super.getPublicParameters()),{axisColor:{$foregroundBackgroundMix:.737},backgroundColor:b1,borderColor:{$foregroundBackgroundMix:.216},chromeBackgroundColor:{$foregroundBackgroundMix:.07},foregroundColor:"#fff",gridLineColor:{$foregroundBackgroundMix:.257},popupShadow:"0 0 16px rgba(0, 0, 0, 0.33)",subtleTextColor:{$mix:[{$ref:"textColor"},{$ref:"chartBackgroundColor"},.57]},crosshairLabelBackgroundColor:{$foregroundBackgroundMix:.65}})}getTemplateParameters(){let t=super.getTemplateParameters();return t.set(Cf,!0),t.set(JD,b1),t.set(Uv,"#7f8389"),t.set(nn,_r.BLUE),t.set(Hv,"#fff"),t.set(Rn,_r.BLUE),t.set(Gv,b1),t.set(Wv,"#28313e"),t.set($v,"#4b525d"),t.set(Yv,"#fff"),t.set(Kv,"#fff"),t.set(qv,"#28313e"),t.set(Zv,"#4b525d"),t.set(Qv,"#fff"),t}constructor(t){super(t)}},Oa={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#A9A9A9"},vh={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#909090"},Nme=class extends Gf{getDefaultColors(){return S(f({},super.getDefaultColors()),{fills:f({},Oa),fillsFallback:Object.values(f({},Oa)),strokes:f({},vh),sequentialColors:ds(Oa),divergingColors:[Oa.GREEN,Oa.BLUE,Oa.RED],secondSequentialColors:["#5090dc","#4882c6","#4073b0","#38659a","#305684","#28486e","#203a58","#182b42"],up:{fill:Oa.GREEN,stroke:vh.GREEN},down:{fill:Oa.RED,stroke:vh.RED},neutral:{fill:Oa.BLUE,stroke:vh.BLUE},altUp:{fill:Oa.GREEN,stroke:vh.GREEN},altDown:{fill:Oa.RED,stroke:vh.RED},altNeutral:{fill:Oa.GRAY,stroke:vh.GRAY}})}getPublicParameters(){return S(f({},super.getPublicParameters()),{chartPadding:0,gridLineColor:{$foregroundBackgroundMix:.12}})}getTemplateParameters(){let t=super.getTemplateParameters();return t.set(nn,Oa.BLUE),t.set(Rn,Oa.BLUE),t.set(Bd,"overlay"),t.set(jd,"left"),t.set(Xv,"bottom"),t.set(ko,!0),t}},La={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#A9A9A9"},_h={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#909090"},Pme=class extends Oo{getDefaultColors(){return S(f({},super.getDefaultColors()),{fills:f({},La),fillsFallback:Object.values(f({},La)),strokes:f({},_h),sequentialColors:ds(La),divergingColors:[La.GREEN,La.BLUE,La.RED],up:{fill:La.GREEN,stroke:_h.GREEN},down:{fill:La.RED,stroke:_h.RED},neutral:{fill:La.BLUE,stroke:_h.BLUE},altUp:{fill:La.GREEN,stroke:_h.GREEN},altDown:{fill:La.RED,stroke:_h.RED},altNeutral:{fill:La.GRAY,stroke:_h.GRAY}})}getPublicParameters(){return S(f({},super.getPublicParameters()),{chartPadding:0,gridLineColor:{$foregroundBackgroundMix:.06}})}getTemplateParameters(){let t=super.getTemplateParameters();return t.set(nn,La.BLUE),t.set(Rn,La.BLUE),t.set(Bd,"overlay"),t.set(jd,"left"),t.set(Xv,"bottom"),t.set(ko,!0),t}},xr={BLUE:"#2196F3",ORANGE:"#FF9800",GREEN:"#4CAF50",CYAN:"#00BCD4",YELLOW:"#FFEB3B",VIOLET:"#7E57C2",GRAY:"#9E9E9E",MAGENTA:"#F06292",BROWN:"#795548",RED:"#F44336"},xh={BLUE:"#90CAF9",ORANGE:"#FFCC80",GREEN:"#A5D6A7",CYAN:"#80DEEA",YELLOW:"#FFF9C4",VIOLET:"#B39DDB",GRAY:"#E0E0E0",MAGENTA:"#F48FB1",BROWN:"#A1887F",RED:"#EF9A9A"},Fme=class extends Gf{getDefaultColors(){return S(f({},super.getDefaultColors()),{fills:xr,fillsFallback:Object.values(xr),strokes:xh,sequentialColors:ds(xr),divergingColors:[xr.ORANGE,xr.YELLOW,xr.GREEN],secondSequentialColors:["#2196f3","#208FEC","#1E88E5","#1C7FDC","#1976d2","#176EC9","#1565c0"],secondDivergingColors:[xr.GREEN,xr.YELLOW,xr.RED],up:{fill:xr.GREEN,stroke:xh.GREEN},down:{fill:xr.RED,stroke:xh.RED},neutral:{fill:xr.GRAY,stroke:xh.GRAY},altUp:{fill:xr.BLUE,stroke:xh.BLUE},altDown:{fill:xr.RED,stroke:xh.RED},altNeutral:{fill:xr.GRAY,stroke:xh.GRAY}})}getTemplateParameters(){let t=super.getTemplateParameters();return t.set(nn,xr.BLUE),t.set(Rn,xr.BLUE),t}},Cr={BLUE:"#2196F3",ORANGE:"#FF9800",GREEN:"#4CAF50",CYAN:"#00BCD4",YELLOW:"#FFEB3B",VIOLET:"#7E57C2",GRAY:"#9E9E9E",MAGENTA:"#F06292",BROWN:"#795548",RED:"#F44336"},Ch={BLUE:"#1565C0",ORANGE:"#E65100",GREEN:"#2E7D32",CYAN:"#00838F",YELLOW:"#F9A825",VIOLET:"#4527A0",GRAY:"#616161",MAGENTA:"#C2185B",BROWN:"#4E342E",RED:"#B71C1C"},Vme=class extends Oo{getDefaultColors(){return S(f({},super.getDefaultColors()),{fills:Cr,fillsFallback:Object.values(Cr),strokes:Ch,sequentialColors:ds(Cr),divergingColors:[Cr.ORANGE,Cr.YELLOW,Cr.GREEN],secondSequentialColors:["#2196f3","#329EF4","#42a5f5","#53ADF6","#64b5f6","#7AC0F8","#90caf9"],secondDivergingColors:[Cr.GREEN,Cr.YELLOW,Cr.RED],up:{fill:Cr.GREEN,stroke:Ch.GREEN},down:{fill:Cr.RED,stroke:Ch.RED},neutral:{fill:Cr.GRAY,stroke:Ch.GRAY},altUp:{fill:Cr.BLUE,stroke:Ch.BLUE},altDown:{fill:Cr.RED,stroke:Ch.RED},altNeutral:{fill:Cr.GRAY,stroke:Ch.GRAY}})}getTemplateParameters(){let t=super.getTemplateParameters();return t.set(nn,Cr.BLUE),t.set(Rn,Cr.BLUE),t}},en={BLUE:"#436ff4",PURPLE:"#9a7bff",MAGENTA:"#d165d2",PINK:"#f0598b",RED:"#f47348",ORANGE:"#f2a602",YELLOW:"#e9e201",GREEN:"#21b448",CYAN:"#00b9a2",MODERATE_BLUE:"#00aee4",GRAY:"#bbbbbb"},wh={BLUE:"#6698ff",PURPLE:"#c0a3ff",MAGENTA:"#fc8dfc",PINK:"#ff82b1",RED:"#ff9b70",ORANGE:"#ffcf4e",YELLOW:"#ffff58",GREEN:"#58dd70",CYAN:"#51e2c9",MODERATE_BLUE:"#4fd7ff",GRAY:"#eeeeee"},Bme=class extends Gf{getDefaultColors(){return{fills:en,fillsFallback:Object.values(en),strokes:wh,sequentialColors:ds(en),divergingColors:[en.BLUE,en.RED],hierarchyColors:[],secondSequentialColors:[en.BLUE,en.PURPLE,en.MAGENTA,en.PINK,en.RED,en.ORANGE,en.YELLOW,en.GREEN],secondDivergingColors:[en.BLUE,en.RED],secondHierarchyColors:[],up:{fill:en.GREEN,stroke:wh.GREEN},down:{fill:en.RED,stroke:wh.RED},neutral:{fill:en.GRAY,stroke:wh.GRAY},altUp:{fill:en.BLUE,stroke:wh.BLUE},altDown:{fill:en.RED,stroke:wh.RED},altNeutral:{fill:en.GRAY,stroke:wh.GRAY}}}getTemplateParameters(){let t=super.getTemplateParameters();return t.set(nn,en.BLUE),t.set(Rn,en.BLUE),t}},tn={BLUE:"#436ff4",PURPLE:"#9a7bff",MAGENTA:"#d165d2",PINK:"#f0598b",RED:"#f47348",ORANGE:"#f2a602",YELLOW:"#e9e201",GREEN:"#21b448",CYAN:"#00b9a2",MODERATE_BLUE:"#00aee4",GRAY:"#bbbbbb"},Dh={BLUE:"#2346c9",PURPLE:"#7653d4",MAGENTA:"#a73da9",PINK:"#c32d66",RED:"#c84b1c",ORANGE:"#c87f00",YELLOW:"#c1b900",GREEN:"#008c1c",CYAN:"#00927c",MODERATE_BLUE:"#0087bb",GRAY:"#888888"},jme=class extends Oo{getDefaultColors(){return S(f({},super.getDefaultColors()),{fills:tn,fillsFallback:Object.values(tn),strokes:Dh,sequentialColors:ds(tn),divergingColors:[tn.BLUE,tn.RED],hierarchyColors:[],secondSequentialColors:[tn.BLUE,tn.PURPLE,tn.MAGENTA,tn.PINK,tn.RED,tn.ORANGE,tn.YELLOW,tn.GREEN],secondDivergingColors:[tn.BLUE,tn.RED],secondHierarchyColors:[],up:{fill:tn.GREEN,stroke:Dh.GREEN},down:{fill:tn.RED,stroke:Dh.RED},neutral:{fill:tn.GRAY,stroke:Dh.GRAY},altUp:{fill:tn.BLUE,stroke:Dh.BLUE},altDown:{fill:tn.RED,stroke:Dh.RED},altNeutral:{fill:tn.GRAY,stroke:Dh.GRAY}})}getTemplateParameters(){let t=super.getTemplateParameters();return t.set(nn,tn.BLUE),t.set(Rn,tn.BLUE),t}},An={BLUE:"#4472C4",ORANGE:"#ED7D31",GRAY:"#A5A5A5",YELLOW:"#FFC000",MODERATE_BLUE:"#5B9BD5",GREEN:"#70AD47",DARK_GRAY:"#7B7B7B",DARK_BLUE:"#264478",VERY_DARK_GRAY:"#636363",DARK_YELLOW:"#997300"},Od={BLUE:"#6899ee",ORANGE:"#ffa55d",GRAY:"#cdcdcd",YELLOW:"#ffea53",MODERATE_BLUE:"#82c3ff",GREEN:"#96d56f",DARK_GRAY:"#a1a1a1",DARK_BLUE:"#47689f",VERY_DARK_GRAY:"#878787",DARK_YELLOW:"#c0993d"},zme=class extends Gf{getDefaultColors(){return S(f({},super.getDefaultColors()),{fills:S(f({},An),{RED:An.ORANGE}),fillsFallback:Object.values(S(f({},An),{RED:An.ORANGE})),strokes:S(f({},Od),{RED:Od.ORANGE}),sequentialColors:ds(S(f({},An),{RED:An.ORANGE})),divergingColors:[An.ORANGE,An.YELLOW,An.GREEN],secondSequentialColors:["#5090dc","#4882c6","#4073b0","#38659a","#305684","#28486e","#203a58","#182b42"],secondDivergingColors:[An.GREEN,An.YELLOW,An.ORANGE],up:{fill:An.GREEN,stroke:Od.GREEN},down:{fill:An.ORANGE,stroke:Od.ORANGE},neutral:{fill:An.GRAY,stroke:Od.GRAY},altUp:{fill:An.BLUE,stroke:Od.BLUE},altDown:{fill:An.ORANGE,stroke:Od.ORANGE},altNeutral:{fill:An.GRAY,stroke:Od.GRAY}})}getTemplateParameters(){let t=super.getTemplateParameters();return t.set(nn,An.BLUE),t.set(Rn,An.BLUE),t}},qn={BLUE:"#5281d5",ORANGE:"#ff8d44",GRAY:"#b5b5b5",YELLOW:"#ffd02f",MODERATE_BLUE:"#6aabe6",GREEN:"#7fbd57",DARK_GRAY:"#8a8a8a",DARK_BLUE:"#335287",VERY_DARK_GRAY:"#717171",DARK_YELLOW:"#a98220"},fc={BLUE:"#214d9b",ORANGE:"#c25600",GRAY:"#7f7f7f",YELLOW:"#d59800",MODERATE_BLUE:"#3575ac",GREEN:"#4b861a",DARK_GRAY:"#575757",DARK_BLUE:"#062253",VERY_DARK_GRAY:"#414141",DARK_YELLOW:"#734f00"},Ume=class extends Oo{getDefaultColors(){return S(f({},super.getDefaultColors()),{fills:S(f({},qn),{RED:qn.ORANGE}),fillsFallback:Object.values(S(f({},qn),{RED:qn.ORANGE})),strokes:S(f({},fc),{RED:fc.ORANGE}),sequentialColors:ds(S(f({},qn),{RED:qn.ORANGE})),divergingColors:[qn.ORANGE,qn.YELLOW,qn.GREEN],secondSequentialColors:["#5090dc","#629be0","#73a6e3","#85b1e7","#96bcea","#a8c8ee","#b9d3f1","#cbdef5"],secondDivergingColors:[qn.GREEN,qn.YELLOW,qn.ORANGE],secondHierarchyColors:[],up:{fill:qn.GREEN,stroke:fc.GREEN},down:{fill:qn.ORANGE,stroke:fc.ORANGE},neutral:{fill:fc.GRAY,stroke:fc.GRAY},altUp:{fill:qn.BLUE,stroke:fc.BLUE},altDown:{fill:qn.ORANGE,stroke:fc.ORANGE},altNeutral:{fill:qn.GRAY,stroke:fc.GRAY}})}getTemplateParameters(){let t=super.getTemplateParameters();return t.set(nn,qn.BLUE),t.set(Rn,qn.BLUE),t}},uR=["top","top-right","top-left","bottom","bottom-right","bottom-left","right","right-top","right-bottom","left","left-top","left-bottom"],Hme={floating:R,placement:K(...uR),xOffset:z,yOffset:z},UH=Rt((t,i)=>{let e;if(typeof t=="string")uR.includes(t)?e=!0:(e={valid:!1,invalid:[],cleared:null},e.invalid.push(new dc(ew.Invalid,`a legend placement string: ["${uR.join('", "')}"]`,t,i.path)));else{let{cleared:n,invalid:r}=mn(t,Hme);e={valid:r.length===0,cleared:n,invalid:r}}return e},"a legend position object or placement string"),tD=We(K("circle","cross","diamond","heart","plus","pin","square","star","triangle"),Bt),o$=K("never","always","hyphenate","on-space"),iD=K("top","right","bottom","left","top-right","bottom-right","bottom-left","top-left","center"),nS=We(O,K("exact","nearest")),EO=We(B,zi(f({text:le(B)},Lt),"text segments array")),HH=K("pointer","start","middle","end"),Tw=f({enabled:R,text:EO,textAlign:K("left","center","right"),wrapping:K("never","always","hyphenate","on-space"),spacing:O,maxWidth:O,maxHeight:O},Lt);Tw.padding=je(O);var gw={enabled:R,text:EO,renderer:hc(We(B,iw))},v1=["defaults","download","zoom-to-cursor","pan-to-cursor","reset-zoom","toggle-series-visibility","toggle-other-series","separator"],l$={type:K("action","separator"),showOn:K("always","series-area","series-node","legend-item"),label:le(B),enabled:R,action:Bt,items:(t,i)=>c$(t,i)};l$.iconUrl=je(B);var Gme=ji(l$),Wme=Rt((t,i)=>{let e;return typeof t=="string"?v1.includes(t)?e=!0:(e={valid:!1,invalid:[],cleared:null},e.invalid.push(new dc(ew.Invalid,`a context menu item string alias: ["${v1.join('", "')}"]`,t,i.path))):e=Gme(t,i),e},`a context menu item object or string alias: [${v1.join(", ")}]`),c$=Le(Wme,"a menu items array",!1),Oh={label:B,ariaLabel:B,tooltip:B,icon:K("align-center","align-left","align-right","arrow-drawing","arrow-down-drawing","arrow-up-drawing","callout-annotation","candlestick-series","close","comment-annotation","date-range-drawing","date-price-range-drawing","delete","disjoint-channel-drawing","drag-handle","fill-color","line-style-solid","line-style-dashed","line-style-dotted","high-low-series","hlc-series","hollow-candlestick-series","horizontal-line-drawing","line-color","line-series","line-with-markers-series","locked","measurer-drawing","note-annotation","ohlc-series","pan-end","pan-left","pan-right","pan-start","parallel-channel-drawing","position-bottom","position-center","position-top","price-label-annotation","price-range-drawing","reset","settings","step-line-series","text-annotation","trend-line-drawing","fibonacci-retracement-drawing","fibonacci-retracement-trend-based-drawing","unlocked","vertical-line-drawing","zoom-in","zoom-out")},xo=We(B,hc(B)),d$=ji({x:xo,y:xo,angle:xo,radius:xo,size:xo,color:xo,label:xo,secondaryLabel:xo,sectorLabel:xo,calloutLabel:xo,legendItem:xo}),No=Rt(LU,"a valid number format string"),rt={width:O,height:O,minWidth:O,minHeight:O,suppressFieldDotNotation:R,title:Tw,subtitle:Tw,footnote:Tw,padding:{top:O,right:O,bottom:O,left:O},seriesArea:{border:Tb,clip:R,cornerRadius:z,padding:Eb},legend:{enabled:R,position:UH,orientation:K("horizontal","vertical"),maxWidth:O,maxHeight:O,spacing:O,border:Tb,cornerRadius:z,padding:Eb,fill:jr,fillOpacity:Me,preventHidingAll:R,reverseOrder:R,toggleSeries:R,item:{marker:{size:O,shape:tD,padding:O,strokeWidth:O},line:{length:O,strokeWidth:O},label:f({maxLength:O,formatter:Bt},Lt),maxWidth:O,paddingX:O,paddingY:O,showSeriesStroke:R},pagination:{marker:{size:O,shape:tD,padding:O},activeStyle:f(f({},ce),Z),inactiveStyle:f(f({},ce),Z),highlightStyle:f(f({},ce),Z),label:Lt},listeners:{legendItemClick:Bt,legendItemDoubleClick:Bt}},gradientLegend:{enabled:R,position:UH,spacing:O,reverseOrder:R,border:Tb,cornerRadius:z,padding:Eb,fill:jr,fillOpacity:Me,gradient:{preferredLength:O,thickness:O},scale:{label:S(f({},Lt),{minSpacing:O,format:No,formatter:Bt}),padding:O,interval:{step:z,values:ha,minSpacing:si(O,ma("maxSpacing")),maxSpacing:si(O,pa("minSpacing"))}}},listeners:{seriesNodeClick:Bt,seriesNodeDoubleClick:Bt,seriesVisibilityChange:Bt,click:Bt,doubleClick:Bt,annotations:Bt,zoom:Bt},loadGoogleFonts:R,highlight:{range:K("tooltip","node")},overlays:{loading:gw,noData:gw,noVisibleSeries:gw,unsupportedBrowser:gw},tooltip:{enabled:R,showArrow:R,pagination:R,delay:O,range:nS,wrapping:o$,mode:K("single","shared","compact"),position:{anchorTo:K("pointer","node","chart"),placement:We(iD,Le(iD)),xOffset:z,yOffset:z}},animation:{enabled:R,duration:O},contextMenu:{enabled:R,items:c$},context:()=>!0,dataSource:{getData:Bt},keyboard:{enabled:R,tabIndex:z},touch:{dragAction:K("none","drag","hover")},ranges:{enabled:R,buttons:zi(S(f({},Oh),{value:We(z,si(Le(We(z,As)),bo(2,2)),Bt)}),"range button options array")},locale:{localeText:hh,getLocaleText:hc(B)},background:{visible:R,fill:oe,image:{url:le(B),top:z,right:z,bottom:z,left:z,width:O,height:O,opacity:Me}},styleNonce:B,sync:{enabled:R,groupId:B,axes:K("x","y","xy"),nodeInteraction:R,zoom:R},zoom:{enabled:R,enableAxisDragging:R,enableAxisScrolling:R,enableDoubleClickToReset:R,enablePanning:R,enableScrolling:R,enableSelecting:R,enableTwoFingerZoom:R,keepAspectRatio:R,anchorPointX:HH,anchorPointY:HH,axisDraggingMode:K("pan","zoom"),axes:K("x","y","xy"),deceleration:We(K("off","short","long"),Me),minVisibleItems:O,panKey:K("alt","ctrl","meta","shift"),scrollingStep:Me,autoScaling:{enabled:R,padding:Me},buttons:{enabled:R,buttons:zi(S(f({},Oh),{value:K("reset","zoom-in","zoom-out","pan-left","pan-right","pan-start","pan-end"),section:B}),"zoom button options array"),visible:K("always","zoomed","hover")}},formatter:We(hc(B),d$)};rt.dataSource.requestThrottle=je(O);rt.dataSource.updateThrottle=je(O);rt.dataSource.updateDuringInteraction=je(R);rt.zoom.enableIndependentAxes=je(R);rt.statusBar=je(Be);rt.foreground=je(f({visible:R,text:B,image:{url:B,top:z,right:z,bottom:z,left:z,width:O,height:O,opacity:Me}},ce));rt.overrideDevicePixelRatio=je(z);rt.sync.domainMode=je(K("direction","position","key"));var Wt={cursor:B,context:()=>!0,showInLegend:R,nodeClickRange:nS,listeners:{seriesNodeClick:Bt,seriesNodeDoubleClick:Bt},highlightStyle:{item:f(f({},ce),Z),series:{enabled:R,dimOpacity:Me,strokeWidth:O}},highlight:rw(ti)},Po=S(f({},Wt),{id:B,visible:R,context:()=>!0,data:ha});Po.seriesGrouping=je(Be);var Vc=f(f(f({enabled:R,shape:tD,size:O,itemStyler:oi(S(f(f(f({},ce),Z),fe),{shape:tD,size:O}))},ce),Z),fe),fi=f(f({enabled:R,formatter:Bt,format:No,itemStyler:je(oi(f(f({enabled:R},zr),Lt)))},zr),Lt),Qd=S(f({},fi),{lineHeight:O,minimumFontSize:O,wrapping:o$,overflowStrategy:K("ellipsis","hide")}),e_=f(f({visible:R,cap:f(f({visible:R,length:O,lengthRatio:Me},Z),fe)},Z),fe),rS=S(f({},e_),{xLowerKey:B,xUpperKey:B,yLowerKey:B,yUpperKey:B,xLowerName:B,xUpperName:B,yLowerName:B,yUpperName:B,itemStyler:oi(S(f(f({visible:R},Z),fe),{cap:f(f({visible:R,length:O,lengthRatio:Me},Z),fe)}))}),Jt={enabled:R,showArrow:R,range:nS,renderer:hc(We(B,ji({heading:B,title:B,data:zi({label:le(B),value:le(B)})},"tooltip renderer result object"))),position:{anchorTo:K("node","pointer","chart"),placement:We(iD,Le(iD)),xOffset:z,yOffset:z},interaction:{enabled:R}},Ll={enabled:R,xOffset:z,yOffset:z,blur:O,color:oe},aS=uh({linear:{},smooth:{tension:Me},step:{position:K("start","middle","end")}},"interpolation line options"),gv={fills:si(bo(2),Le(ji({color:oe,stop:z},"")),$T),fillMode:K("continuous","discrete")},sS=f(f(f({value:le(z),text:B,shape:We(K("circle","cross","diamond","heart","plus","pin","square","star","triangle","line"),Bt),placement:K("before","after","middle"),spacing:O,size:O,rotation:z},ce),Z),fe),oS=f(f(f({value:le(z),text:B,shape:We(K("circle","cross","diamond","heart","plus","pin","square","star","triangle","line"),Bt),placement:K("inside","outside","middle"),spacing:O,size:O,rotation:z,label:S(f({},fi),{spacing:O})},ce),Z),fe),nD=f({direction:K("horizontal","vertical"),cornerMode:K("container","item"),cornerRadius:O,thickness:O,segmentation:{enabled:R,spacing:O,interval:{values:Le(z),step:z,count:z}},bar:f(f(f(f({enabled:R,thickness:O,thicknessRatio:Me},gv),ce),Z),fe),label:S(f({},Qd),{text:B,spacing:O,avoidCollisions:R,placement:K("inside-start","outside-start","inside-end","outside-end","inside-center","bar-inside","bar-inside-end","bar-outside-end","bar-end")}),tooltip:Jt},de(Wt,["listeners"])),Xd=S(f(f({},nD),de(Po,["listeners"])),{type:le(Ot("linear-gauge")),value:le(z),scale:f(f(f(f({min:si(z,ma("max")),max:si(z,pa("min")),label:f({enabled:R,formatter:Bt,rotation:z,spacing:O,minSpacing:O,placement:K("before","after"),avoidCollisions:R,format:No},Lt),interval:{values:Le(z),step:z}},gv),ce),Z),fe),targets:zi(sS,"target options array")});Xd.margin=je(z);Xd.defaultColorRange=je(Le(oe));Xd.defaultTarget=je(S(f({},sS),{value:z,label:S(f({},fi),{spacing:z})}));Xd.defaultScale=je(Xd.scale);Xd.scale.defaultFill=je(oe);var rD=f({outerRadius:O,innerRadius:O,outerRadiusRatio:Me,innerRadiusRatio:Me,startAngle:z,endAngle:z,spacing:O,cornerMode:K("container","item"),cornerRadius:O,scale:f(f(f(f({min:si(z,ma("max")),max:si(z,pa("min")),label:f({enabled:R,formatter:Bt,rotation:z,spacing:O,minSpacing:O,avoidCollisions:R,format:No},Lt),interval:{values:Le(z),step:z}},gv),ce),Z),fe),segmentation:{enabled:R,spacing:O,interval:{values:Le(z),step:z,count:z}},bar:f(f(f(f({enabled:R},gv),ce),Z),fe),needle:f(f(f({enabled:R,spacing:O,radiusRatio:Me},ce),Z),fe),label:f({text:B,spacing:O},Qd),secondaryLabel:f({text:B},Qd),tooltip:Jt},Wt),t_=S(f(f({},rD),Po),{type:le(Ot("radial-gauge")),value:le(z),targets:zi(oS,"target options array")});t_.defaultColorRange=je(Le(oe));t_.defaultTarget=je(S(f({},oS),{value:z,label:S(f({},fi),{spacing:z})}));t_.scale.defaultFill=je(oe);var i_=K("millisecond","second","minute","hour","day","month","year"),u$={unit:le(i_),step:mh,epoch:As,utc:R};u$.every=Bt;var lS=ji(u$,"a time interval object"),Hh=f({enabled:R,text:B,padding:z},Lt),Sl=Rt(f(f({enabled:R,type:le(K("line","range")),range:si(Rt((t,{options:i})=>i.type==="range","crossLine type to be 'range'"),Le(Be),bo(2,2)),value:si(Rt((t,{options:i})=>i.type==="line","crossLine type to be 'line'"),Be),label:Hh,fill:oe,fillOpacity:Me},Z),fe),"cross-line options"),vc=S(f({},Sl),{label:S(f({},Hh),{position:K("top","left","right","bottom","top-left","top-right","bottom-left","bottom-right","inside","inside-left","inside-right","inside-top","inside-bottom","inside-top-left","inside-bottom-left","inside-top-right","inside-bottom-right"),rotation:z})}),Bc=f(f({enabled:R,rotation:z,avoidCollisions:R,minSpacing:O,spacing:O,formatter:Bt,itemStyler:je(oi(S(f(f({},Lt),zr),{spacing:z})))},Lt),zr),n_=f({autoRotate:R,autoRotateAngle:z,wrapping:K("never","always","hyphenate","on-space"),truncate:R},Bc),TO=f({format:No},n_),r_=f({format:We(B,hh)},n_),h$={enabled:R,width:O,size:O,stroke:oe},cS={enabled:R,label:r_,tick:h$},RO={values:Le(Be),minSpacing:O},Qh={reverse:R,gridLine:{enabled:R,width:O,style:zi({fill:oe,fillOpacity:O,stroke:We(oe,Gp),strokeWidth:O,lineDash:Le(O)},"a grid-line style object array")},interval:RO,label:Bc,line:{enabled:R,width:O,stroke:oe},tick:h$,context:()=>!0};Qh.layoutConstraints=je({stacked:le(R),align:le(K("start","end")),unit:le(K("percent","px")),width:le(O)});var jc=S(f({},Qh),{keys:Le(B),crossLines:zi(vc,"a cross-line options array"),position:K("top","right","bottom","left"),thickness:O,maxThicknessRatio:Me,title:f({enabled:R,text:B,spacing:O,formatter:Bt},Lt)});jc.title._enabledFromTheme=je(R);var a_=f(f(f({enabled:R},ce),Z),fe);function ru(t,i){let e={enabled:R,xOffset:z,yOffset:z,formatter:hc(B),renderer:hc(We(B,ji({text:B,color:oe,backgroundColor:oe,opacity:Me},"crosshair label renderer result object")))},n;return t&&(n=S(f({},e),{format:i?We(B,ji({millisecond:B,second:B,hour:B,day:B,month:B,year:B})):B})),f(f({enabled:R,snap:R,label:n??e},Z),fe)}function Wf(t,i){return{min:si(t,ma("max")),max:si(t,pa("min")),nice:R,interval:{step:i?We(mh,i_,lS):mh,values:Le(t),minSpacing:si(O,ma("maxSpacing")),maxSpacing:si(O,pa("minSpacing"))}}}var OO={step:We(mh,i_,lS),values:Le(We(z,As)),minSpacing:si(O,ma("maxSpacing")),maxSpacing:si(O,pa("minSpacing")),placement:K("on","between")},dS=(()=>{let t=class m$ extends Bv{constructor(e,n=new zf,r=!0){super(e,n),this.groupPaddingInner=.1,this.includeInvisibleDomains=r,this.nice=!1}static is(e){return e instanceof m$}isCategoryLike(){return!0}hasDefinedDomain(){return!1}normaliseDataDomain(e){return{domain:e,clipped:!1}}updateScale(){super.updateScale();let{paddingInner:e,paddingOuter:n}=this;if(!Tt(e)||!Tt(n)){let r=this.reduceBandScalePadding();e??(e=r.inner),n??(n=r.outer)}this.scale.paddingInner=e??0,this.scale.paddingOuter=n??0}calculateGridLines(e,n,r){let a=super.calculateGridLines(e,n,r);return this.interval.placement==="between"&&e.length>0&&a.push(super.calculateGridLine({index:e.at(-1).index+1,tickId:`after:${e.at(-1).tickId}`,translation:this.range[1]},e.length,n,r,e)),a}calculateGridLine({index:e,tickId:n,translation:r},a,s,o,l){let{gridLine:c,horizontal:d,interval:u,scale:h}=this;if(u.placement!=="between")return super.calculateGridLine({index:e,tickId:n,translation:r},a,s,o,l);let m=r<h.step?Math.floor(h.step/2):h.step/2,p=r-m,[g,b,v,_]=d?[p,Math.max(s,o),p,Math.min(s,o)]:[Math.min(s,o),p,Math.max(s,o),p],{style:w}=c,{stroke:D,strokeWidth:I=0,lineDash:E}=w[e%w.length]??{};return{tickId:n,offset:p,x1:g,y1:b,x2:v,y2:_,stroke:D,strokeWidth:I,lineDash:E}}calculateGridFills(e,n,r){let{horizontal:a,range:s,scale:o}=this;if(this.interval.placement!=="between")return super.calculateGridFills(e,n,r);let l=[];if(e.length==0)return l;let c=e[0],d=c.translation>s[0]+o.step/2,u=e[e.length-1],h=a&&u.translation<s[1]-o.step/2;if(d){let m={tickId:`before:${c.tickId}`,translation:c.translation-o.step};l.push(this.calculateGridFill(m,-1,c.index-1,n,r,e))}if(l.push(...e.map((m,p)=>this.calculateGridFill(m,p,m.index,n,r,e))),h){let m={tickId:`after:${u.tickId}`,translation:u.translation+o.step};l.push(this.calculateGridFill(m,e.length,u.index+1,n,r,e))}return l}calculateGridFill({tickId:e,translation:n},r,a,s,o,l){let{gridLine:c,horizontal:d,interval:u,scale:h}=this;if(u.placement!=="between")return super.calculateGridFill({tickId:e,translation:n},r,a,s,o,l);let m=n-h.step/2,p=n+h.step/2,[g,b,v,_]=d?[m,Math.max(s,o),p,Math.min(s,o)]:[Math.min(s,o),m,Math.max(s,o),p],{fill:w,fillOpacity:D}=c.style[a%c.style.length]??{};return{tickId:e,x1:g,y1:b,x2:v,y2:_,fill:w,fillOpacity:D}}calculateTickLines(e,n){let r=super.calculateTickLines(e,n);return this.interval.placement==="between"&&e.length>0&&r.push(super.calculateTickLine({primary:!1,tickId:`after:${e.at(-1)?.tickId}`,translation:this.range[1]},e.length,n,e)),r}calculateTickLine({primary:e,tickId:n,translation:r},a,s,o){let{horizontal:l,interval:c,primaryTick:d,scale:u,tick:h}=this;if(c.placement!=="between")return super.calculateTickLine({primary:e,tickId:n,translation:r},a,s,o);let m=e&&d?.enabled?d:h,p=-s*this.getTickSize(m),g=r<u.step?Math.floor(u.step/2):u.step/2,b=r-g,[v,_,w,D]=l?[b,0,b,p]:[0,b,p,b],{stroke:I,width:E}=m;return{tickId:n,offset:b,x1:v,y1:_,x2:w,y2:D,stroke:I,strokeWidth:E,lineDash:void 0}}reduceBandScalePadding(){return this.boundSeries.reduce((e,n)=>{let r=n.getBandScalePadding?.();return r&&(e.inner>r.inner&&(e.inner=r.inner),e.outer<r.outer&&(e.outer=r.outer)),e},{inner:1/0,outer:-1/0})}tickFormatParams(e,n,r,a){return{type:"category"}}datumFormatParams(e,n,r,a,s){let{datum:o,seriesId:l,legendItemName:c,key:d,source:u,property:h,domain:m,boundSeries:p}=n;return Array.isArray(e)&&e.some(g=>typeof g!="string")?e=e.map(String):!Array.isArray(e)&&typeof e!="string"&&typeof e!="number"&&!(e instanceof Date)&&(e=String(e)),{type:"category",value:e,datum:o,seriesId:l,legendItemName:c,key:d,source:u,property:h,domain:m,boundSeries:p}}};return t.className="CategoryAxis",t.type="category",t})();y([C],dS.prototype,"groupPaddingInner",2);y([C],dS.prototype,"paddingInner",2);y([C],dS.prototype,"paddingOuter",2);var $f=dS,GH=class p$ extends zf{static is(i){return i instanceof p$}normalizeDomains(...i){let{domain:e}=super.normalizeDomains(...i);return{domain:e,animatable:!1}}findIndex(i){return super.findIndex(i)??this.getMatchIndex(i)}getMatchIndex(i){let e=JSON.stringify(i),n=this._domain.find(r=>JSON.stringify(r)===e);if(n!=null)return super.findIndex(n)}};function au(t){if(t.length===0)return null;let i=1/0,e=-1/0;for(let r of t){let a=r instanceof Date?r.getTime():r;typeof a=="number"&&(a<i&&(i=a),a>e&&(e=a))}let n=[i,e];return n.every(isFinite)?n:null}function LO(t,i,e){let n=!1,r=au(t);if(r==null)return{extent:i!=null&&e!=null&&i<=e?[i,e]:[],clipped:!1};let[a,s]=r;return i!=null&&(n||(n=i>a),a=i),e!=null&&(n||(n=e<s),s=e),a>s?{extent:[],clipped:!1}:{extent:[a,s],clipped:n}}function uS(t,i=[0,0]){for(let e of t)typeof e=="number"&&(e<0&&(i[0]+=e),e>0&&(i[1]+=e));return i}function $me(t,i){return{id:t,matchGroupIds:[i],type:"aggregate",aggregateFunction:n=>uS(n)}}function f$(t,i){return{id:t,type:"aggregate",matchGroupIds:i?[i]:void 0,aggregateFunction:e=>uS(e),groupAggregateFunction:(e,n=[0,0])=>(n[0]+=e?.[0]??0,n[1]+=e?.[1]??0,n)}}function Yme(t,i){return{id:t,matchGroupIds:[i],type:"aggregate",aggregateFunction:n=>Ld.extendDomain(n)}}function hR(t){return{id:t,type:"aggregate",aggregateFunction:()=>[0,1],groupAggregateFunction:(i,e=[0,0])=>(e[0]+=i?.[0]??0,e[1]+=i?.[1]??0,e)}}function g$(t,i){return{id:t,matchGroupIds:i?[i]:void 0,type:"aggregate",aggregateFunction:n=>uS(n),groupAggregateFunction:(n,r=[0,0,-1])=>(r[0]+=n?.[0]??0,r[1]+=n?.[1]??0,r[2]++,r),finalFunction:(n=[0,0,0])=>{let r=n[0]+n[1];return r>=0?[0,r/n[2]]:[r/n[2],0]}}}function mR(t,i,e){let n={id:t,matchGroupIds:e?[e]:void 0,type:"aggregate",aggregateFunction:(r,a=[])=>{let s=a[1]-a[0];return i.aggregateFunction(r).map(o=>o/s)}};return i.groupAggregateFunction&&(n.groupAggregateFunction=i.groupAggregateFunction),n}function y$(t){return()=>{let i=0;return e=>Tt(e)?(i+=t?Math.max(0,e):e,i):e}}function b$(){return()=>{let t=0;return i=>{if(!Tt(i))return i;let e=t;return t+=i,e}}}var Kme=1e3;function Yf(t){return t.input.count<=Kme}function v$(t){return t!=null&&LD(t)}function qme(t){return t!=null}function _$(t){switch(t){case"number":case"log":case"time":case"unit-time":case"ordinal-time":case"color":return v$;default:return qme}}function x$(t){switch(t){case"number":case"log":case"time":case"color":return"range";default:return"category"}}function Wd(t,i,e={}){return f({property:t,type:"key",valueType:x$(i),validation:_$(i)},e)}function Li(t,i,e={}){return f({property:t,type:"value",valueType:x$(i),validation:_$(i)},e)}function C$(t,i={}){return f({property:t,type:"value",valueType:"range",missingValue:1,processor:()=>()=>1},i)}var Zme=function(t){return t};function w$(...t){let i=t.filter(e=>e!=null);return i.length===0?()=>Zme:i.length===1?i[0]:()=>{let e=i.map(n=>n());return(n,r)=>e.reduce((a,s)=>s(a,r),n)}}function D$(t,i={}){let s=i,{min:e=-1/0,max:n=1/0,processor:r}=s,a=ci(s,["min","max","processor"]);return f({type:"value",property:t,valueType:"range",validation:v$,processor:w$(r,()=>o=>Tt(o)?Ae(e,o,n):o)},a)}function pR(t,i,e={}){let o=e,{onlyPositive:n,processor:r}=o,a=ci(o,["onlyPositive","processor"]);return S(f({},Li(t,i,a)),{processor:w$(r,y$(n))})}function Qme(t,i,e={}){return S(f({},Li(t,i,e)),{processor:b$()})}function $d(t,i,e,n,r){return[Li(t,r,n),A$(n.groupId,i,e,n.separateNegative),...n.rangeId!=null?[Yme(n.rangeId,n.groupId)]:[]]}function S$(t,i,e){return[Li(t,i,e),E$(e.groupId)]}var M$={type:"reducer",property:"smallestKeyInterval",initialValue:1/0,reducer:()=>{let t=NaN;return(i=1/0,e)=>{let n=typeof e[0]=="number"?e[0]:Number(e[0]),r=Math.abs(n-t);return t=n,!isNaN(r)&&r>0&&r<i?r:i}}},I$={type:"reducer",property:"largestKeyInterval",initialValue:-1/0,reducer:()=>{let t=NaN;return(i=-1/0,e)=>{let n=typeof e[0]=="number"?e[0]:Number(e[0]),r=Math.abs(n-t);return t=n,!isNaN(r)&&r>0&&r>i?r:i}}},k$={type:"processor",property:"sortedGroupDomain",calculate:({domain:{groups:t}})=>t?.slice().sort((i,e)=>{for(let n=0;n<i.length;n++){let r=i[n]-e[n];if(r!==0)return r}return 0})};function Xme({normaliseTo:t}){let i=(e,n)=>{if(n===0)return null;let r=(e??0)*t/n;return r>=0?Math.min(t,r):Math.max(-t,r)};return()=>()=>(e,n,r)=>{let a=Jme(e,n,r);for(let s of n){let o=r.datumIndices[s];if(o!=null)for(let l of o){let c=e[s],d=c[l];if(d==null){c[l]=void 0;continue}c[l]=typeof d=="number"?i(d,a):d.map(u=>i(u,a))}}}}function Jme(t,i,e){let n=[0,0];for(let r of i){let a=t[r],s=e.datumIndices[r];if(s!=null)for(let o of s){let l=a[o];if(l==null)continue;let c=typeof l=="number"?l:Math.max(...l.map(u=>u??0)),d=c<0?0:1;d===0?n[d]=Math.min(n[d],c):n[d]=Math.max(n[d],c)}}return Math.max(Math.abs(n[0]),n[1])}function hS(t,i){return{type:"group-value-processor",matchGroupIds:t,adjust:rv({normaliseTo:i},Xme)}}function epe({normaliseTo:t,zeroDomain:i,rangeMin:e,rangeMax:n}){let r=t[1]-t[0],a=(s,o,l)=>{let c=t[0]+(s-o)/l*r;return l===0?i:c>=t[1]?t[1]:c<t[0]?t[0]:c};return()=>(s,o)=>{let[l,c]=s.domain.values[o];e!=null&&(l=e),n!=null&&(c=n);let d=c-l;s.domain.values[o]=[t[0],t[1]];let u=s.columns[o];for(let h=0;h<u.length;h+=1)u[h]=a(u[h],l,d)}}function Rw(t,i,e,n,r){return{type:"property-value-processor",property:t,adjust:rv({normaliseTo:i,rangeMin:n,rangeMax:r,zeroDomain:e},epe)}}var Xb=1,aD=2;function WH(t,i,e,n){let r=Xb|aD;if(i.valueType==="category")return e.length<t&&(r&=~Xb),r;let a=n[0]?.valueOf();for(let s=1;r!==0&&s<n.length;s++){let o=n[s]?.valueOf();(!Number.isFinite(o)||a>o)&&(r&=~aD),Number.isFinite(o)&&a===o&&(r&=~Xb),a=o}return r}function s_(t){return{type:"processor",property:"animationValidation",calculate(i){if(!Yf(i))return;let{keys:e,values:n}=i.defs,{input:r,domain:{keys:a,values:s},keys:o,columns:l,invalidKeyCount:c}=i,d=Xb|aD;if(r.count!==0){for(let u=0;d!==0&&u<e.length;u++)for(let h of e[u].scopes){let m=o[u].get(h),p=c?.get(h)??0,g=m.length-p;d&=WH(g,e[u],a[u],m)}for(let u=0;d!==0&&u<n.length;u++){let h=n[u];t?.includes(h.id)&&(d&=WH(0,h,s[u],l[u]))}}return{uniqueKeys:(d&Xb)!==0,orderedKeys:(d&aD)!==0}}}}function tpe({mode:t,separateNegative:i}){return()=>()=>(e,n,r)=>{let a=[0,0];for(let s of n){let o=r.datumIndices[s];if(o!=null)for(let l of o){let c=e[s],d=c[l],u=qp(d)&&i?0:1;Tt(d)&&(t==="normal"&&(a[u]+=d),c[l]=a[u],t==="trailing"&&(a[u]+=d))}}}}function ipe({mode:t,sum:i}){return()=>{let e=[],n=!0;return()=>(r,a,s)=>{let o=0;for(let l of a){let c=r[l],d=s.datumIndices[l];if(d!=null)for(let u of d){let h=c[u],m=n&&i==="current"?0:e[l];e[l]=h;let p=i==="current"?h:m;if(!Tt(h)||!Tt(m)){c[u]=o;continue}t==="normal"&&(o+=p),c[u]=o,t==="trailing"&&(o+=p)}}n=!1}}}function A$(t,i,e,n=!1){let r;if(i.startsWith("window")){let a=i.endsWith("-trailing")?"trailing":"normal";r=rv({mode:a,sum:e},ipe)}else r=rv({mode:i,separateNegative:n},tpe);return{type:"group-value-processor",matchGroupIds:[t],adjust:r}}function npe(){return()=>(t,i,e)=>{let n=new Float64Array(i.length),r=0;for(let a of i){let s=t[a],o=e.datumIndices[a];if(o!=null)for(let l of o){let c=s[l];n[r]=Number.isFinite(c)?c:NaN,r+=1,s[l]=n.subarray(0,r)}}}}function E$(t){return{type:"group-value-processor",matchGroupIds:[t],adjust:npe}}function $H(t){return t.id??t.property}function rpe(t,i,e){let n=new Map,r=i.defs.values;for(let o=0;o<r.length;o+=1){let l=r[o];if(l.scopes?.includes(t)===!1)continue;let c=$H(l);if(n.has(c))return;n.set(c,o)}let a=[],s=e.defs.values;for(let o=0;o<s.length;o+=1){let l=s[o];if(l.scopes?.includes(t)===!1)continue;let c=$H(l),d=n.get(c);if(d==null)return;n.delete(c),a.push({previousIndex:d,nextIndex:o})}if(n.size===0)return a}function _1(t,i,e,n,r){for(let{previousIndex:a,nextIndex:s}of e){let o=t[a],l=i[s],c=o[n],d=l[r];if(c!==d)return!1}return!0}function o_(t,i,e=!0){return{type:"processor",property:"diff",calculate(n,r){if(!Yf(n))return;let a=new Map,s=new Map,o=new Map,l=new Map,c=i.keys,d=n.keys,u=i.columns,h=n.columns,m=rpe(t,i,n);if(m==null)return r;let p=Math.max(i.input.count,n.input.count);for(let v=0;v<p;v++){let _=v<i.input.count,w=v<n.input.count,D=_?qw(c,t,v):void 0,I=D!=null?Sc(D):"",E=w?qw(d,t,v):void 0,A=E!=null?Sc(E):"";if(w&&_&&I===A){_1(u,h,m,v,v)||o.set(A,v);continue}let N=l.get(A);N!=null?((e||!_1(u,h,m,N,v))&&(o.set(A,v),a.set(A,v)),l.delete(A)):w&&s.set(A,v);let F=s.get(I);F!=null?((e||!_1(u,h,m,F,v))&&(o.set(I,v),a.set(I,v)),s.delete(I)):_&&(o.delete(I),l.set(I,v))}let b={changed:s.size>0||o.size>0||l.size>0,added:new Set(s.keys()),updated:new Set(o.keys()),removed:new Set(l.keys()),moved:new Set(a.keys())};return S(f({},r),{[t]:b})}}}function Sc(t,...i){let e;return qe(t)?e=t.map(r=>nR(r)).join("___"):e=nR(t),(typeof e=="string"||typeof e=="number"||typeof e=="boolean"||e instanceof Date)&&i.length>0&&(e+=`___${i.join("___")}`),e}var ape=class{constructor(){this.top=1/0,this.right=-1/0,this.bottom=-1/0,this.left=1/0}update(t,i){t>this.right&&(this.right=t),t<this.left&&(this.left=t),i>this.bottom&&(this.bottom=i),i<this.top&&(this.top=i)}},spe=class T${constructor(i="",e,n){this.label=i,this.parent=e,this.refId=n,this.position=0,this.subtreeLeft=NaN,this.subtreeRight=NaN,this.children=[],this.leafCount=0,this.prelim=0,this.mod=0,this.ancestor=this,this.change=0,this.shift=0,this.index=0,this.screen=0,this.depth=e?e.depth+1:0}insertTick(i,e){let n=this;for(let r=0;r<i.length;r++){let a=i[r],s=r!==i.length-1,{children:o}=n,l=o.find(c=>c.label===a);if(l&&s)n=l;else{let c=new T$(a,n,e);c.index=o.length,o.push(c),s&&(n=c)}}}getLeftSibling(){return this.index>0?this.parent?.children[this.index-1]:void 0}getLeftmostSibling(){return this.index>0?this.parent?.children[0]:void 0}nextLeft(){return this.children[0]}nextRight(){return this.children.at(-1)}getSiblings(){return this.parent?.children.filter((i,e)=>e!==this.index)??[]}};function ope(t){let i=t.reduce((n,r)=>n<r.length?r.length:n,0),e=new spe;for(let n=0;n<t.length;n++){let r=t[n];for(;r.length<i;)r.push("");e.insertTick(r,n)}return e}function lpe(t,i,e){let n=i.index-t.index,r=e/n;i.change-=r,i.shift+=e,t.change+=r,i.prelim+=e,i.mod+=e}function cpe(t,i,e){return i.getSiblings().indexOf(t.ancestor)>=0?t.ancestor:e}function dpe({children:t}){let i=0,e=0;for(let n=t.length-1;n>=0;n--){let r=t[n];r.prelim+=i,r.mod+=i,e+=r.change,i+=r.shift+e}}function upe(t,i){let e=t.getLeftSibling();if(e){let n=t,r=t,a=e,s=r.getLeftmostSibling(),o=r.mod,l=n.mod,c=a.mod,d=s.mod;for(;a.nextRight()&&r.nextLeft();){a=a.nextRight(),r=r.nextLeft(),s=s.nextLeft(),n=n.nextRight(),n.ancestor=t;let u=a.prelim+c-(r.prelim+o)+1;u>0&&(lpe(cpe(a,t,i),t,u),o+=u,l+=u),c+=a.mod,o+=r.mod,d+=s.mod,l+=n.mod}a.nextRight()&&!n.nextRight()?n.mod+=c-l:(r.nextLeft()&&!s.nextLeft()&&(s.mod+=o-d),i=t)}return i}function R$(t){let{children:i}=t;if(i.length){let[e]=i;for(let a of i)R$(a),e=upe(a,e);dpe(t);let n=(i[0].prelim+i.at(-1).prelim)/2,r=t.getLeftSibling();r?(t.prelim=r.prelim+1,t.mod=t.prelim-n):t.prelim=n}else{let e=t.getLeftSibling();t.prelim=e?e.prelim+1:0}}function O$(t,i,e){t.position=t.prelim+i,e.insertNode(t);for(let n of t.children)O$(n,i+t.mod,e)}function L$(t){let{children:i}=t,e=0;for(let n of i)L$(n),n.children.length?e+=n.leafCount:e++;t.leafCount=e,i.length?(t.subtreeLeft=i[0].subtreeLeft,t.subtreeRight=i[i.length-1].subtreeRight,t.position=(t.subtreeLeft+t.subtreeRight)/2):(t.subtreeLeft=t.position,t.subtreeRight=t.position)}function hpe(t){let i=new mpe,e=ope(t);return R$(e),O$(e,-e.prelim,i),L$(e),i}var mpe=class{constructor(){this.dimensions=new ape,this.nodes=[],this.depth=0}insertNode(t){this.depth<t.depth&&(this.depth=t.depth),this.dimensions.update(t.position,t.depth),this.nodes.push(t)}scaling(t,i){let e=1;if(t>0){let{left:n,right:r}=this.dimensions;r!==n&&(e=t/(r-n))}return i&&(e*=-1),e}},Kr=class extends tt{constructor(){super(...arguments),this.enabled=!0,this.border=new Wh}};y([C],Kr.prototype,"enabled",2);y([C],Kr.prototype,"avoidCollisions",2);y([C],Kr.prototype,"border",2);y([C],Kr.prototype,"color",2);y([C],Kr.prototype,"cornerRadius",2);y([C],Kr.prototype,"spacing",2);y([C],Kr.prototype,"rotation",2);y([C],Kr.prototype,"wrapping",2);y([C],Kr.prototype,"truncate",2);y([C],Kr.prototype,"fill",2);y([C],Kr.prototype,"fontStyle",2);y([C],Kr.prototype,"fontWeight",2);y([C],Kr.prototype,"fontSize",2);y([C],Kr.prototype,"fontFamily",2);y([C],Kr.prototype,"padding",2);var mS=class extends tt{constructor(){super(...arguments),this.enabled=!0}};y([C],mS.prototype,"enabled",2);y([C],mS.prototype,"width",2);y([C],mS.prototype,"stroke",2);var NO=class extends tt{constructor(){super(...arguments),this.label=new Kr,this.tick=new mS}};y([C],NO.prototype,"label",2);y([C],NO.prototype,"tick",2);var l_=(()=>{let t=class extends $f{constructor(i){super(i,new GH),this.tickScale=new GH,this.depthOptions=new Mv(NO),this.includeInvisibleDomains=!0,this.tickScale.paddingInner=1,this.tickScale.paddingOuter=0}resizeTickTree(){if(!this.tickTreeLayout)return;let{nodes:i}=this.tickTreeLayout,{range:e,step:n,inset:r,bandwidth:a}=this.scale,s=Math.abs(e[1]-e[0])-n,o=this.tickTreeLayout.scaling(s,e[0]>e[1]),l=r+a/2,c=0;for(let d of i){let u=d.position*o;c>u&&(c=u),d.screen=u+l}for(let d of i)d.screen-=c}getDepthOptionsMap(i){let e=[],{depthOptions:n,label:r}=this,a=this.horizontal?0:-90;for(let s=0;s<i;s++)e.push(n[s]?.label.enabled??r.enabled?{enabled:!0,spacing:n[s]?.label.spacing??r.spacing,wrapping:n[s]?.label.wrapping??r.wrapping,truncate:n[s]?.label.truncate??r.truncate,rotation:n[s]?.label.rotation??(s?a:r.rotation),avoidCollisions:n[s]?.label.avoidCollisions??r.avoidCollisions}:{enabled:!1,spacing:0,rotation:0,avoidCollisions:!1});return e}updateCategoryLabels(){this.computedLayout&&this.tickLabelGroupSelection.update(this.computedLayout.tickLabelLayout).each((i,e)=>{i.fill=e.color,i.text=e.text,i.textBaseline=e.textBaseline,i.textAlign=e.textAlign??"center",i.setFont(e),i.setBoxing(e)})}updateAxisLine(){this.computedLayout&&(this.lineNode.visible=this.line.enabled,this.lineNode.stroke=this.line.stroke,this.lineNode.strokeWidth=this.line.width)}computeLayout(){this.updateDirection(),this.updateScale();let{step:i}=this.scale,{title:e,label:n,range:r,depthOptions:a,horizontal:s,line:o}=this;if(this.lineNode.datum=s?{x1:r[0],x2:r[1],y1:0,y2:0}:{x1:0,x2:0,y1:r[0],y2:r[1]},this.lineNode.setProperties({stroke:o.stroke,strokeWidth:o.enabled?o.width:0}),this.resizeTickTree(),!this.tickTreeLayout?.depth)return{bbox:_e.zero,spacing:0,separatorLayout:[],tickLabelLayout:[]};let{depth:l,nodes:c}=this.tickTreeLayout,d=s?-n.getSideFlag():n.getSideFlag(),u=[],h=new Map,m=new Mf,p=this.getDepthOptionsMap(l),g=d*p[0].spacing,b=this.tickFormatter(this.scale.domain,this.scale.domain,!1),v=(P,U)=>{let H=l-P.depth;if(!p[H]?.enabled||!DU(P.screen,r))return!1;let q=b(P.label,U-1),ue=this.getLabelStyles({value:q,depth:H},a[H]?.label);if(n.avoidCollisions){let te=p[H].rotation,Oe=(P.leafCount||1)*i,ot=this.thickness;if(te!=null){let Ct=fU(te,Oe,ot);Oe=Ct.width,ot=Ct.height}q=Iv.wrapText(q,{font:ue,textWrap:p[H].wrapping,overflow:p[H].truncate?"ellipsis":"hide",maxWidth:Oe,maxHeight:ot})||q}return m.x=s?P.screen:g,m.y=s?g:P.screen,m.rotation=0,m.lineHeight=Oi.getLineHeight(ue.fontSize),m.fill=ue.color,m.text=q,m.textAlign="center",m.textBaseline=n.parallel?"top":"bottom",m.setFont(ue),m.setBoxing(ue),!0},_={};c.forEach((P,U)=>{let H=l-P.depth;if(_[H]??(_[H]=0),!v(P,U)||!m.getBBox())return;h.set(U,m.getBBox()),m.rotation=kc(p[H]?.rotation);let{width:ue,height:te}=m.getBBox(),Oe=s?te:ue;_[H]<Oe&&(_[H]=Oe)});let w=vO(),D=new Map,I=P=>{if(P===0)return 0;let U=_[0];for(let H=1;H<=P;H++)U+=p[H].spacing,H!==P&&(U+=_[H]);return U};c.forEach((P,U)=>{if(U===0)return;let H=v(P,U),q=!P.children.length,ue=l-P.depth;if(P.parent){let vt=q?P.position:P.position-(P.leafCount-1)/2;if(!D.has(vt)){let He=this.depthOptions[ue]?.tick,Ge=_[0];for(let Fe=0;Fe<=ue;Fe++)Ge+=p[Fe].spacing,Fe!==0&&(Ge+=_[Fe]);D.set(vt,{tickSize:Ge,tickStroke:He?.stroke,tickWidth:He?.enabled!==!1?He?.width:0})}}if(!H)return;let te=kc(p[ue].rotation),{width:Oe,height:ot}=h.get(U),Ct=I(ue);if(m.textAlign="center",m.textBaseline="middle",m.rotation=te,s?(m.y+=(Ct+W1(Oe/2,ot/2,te))*d,m.rotationCenterX=P.screen,m.rotationCenterY=m.y):(m.x+=Ct*d+W1((p[ue].spacing*d+Oe)/2,n.mirrored?Oe:0,te)-Oe/2,m.rotationCenterX=m.x,m.rotationCenterY=P.screen),p[ue].avoidCollisions){let{width:vt,height:He}=m.getBBox(),Ge=s?vt:He,Fe=q?i:P.leafCount*i;if(Ge>Fe){h.delete(U);return}}let Yt=m.getPlainText(),Zt=m.getBoxingProperties();u.push({text:Yt,visible:!0,tickId:w(Yt),range:this.scale.range,border:Zt.border,color:m.fill,cornerRadius:Zt.cornerRadius,fill:Zt.fill,fontFamily:m.fontFamily,fontSize:m.fontSize,fontStyle:m.fontStyle,fontWeight:m.fontWeight,padding:Zt.padding,rotation:m.rotation,rotationCenterX:m.rotationCenterX,rotationCenterY:m.rotationCenterY,textAlign:m.textAlign,textBaseline:m.textBaseline,x:m.x,y:m.y}),h.set(U,rn.toCanvas(m))});let E=[...D.values()];E.push(E[0]);let A=[this.lineNodeBBox(),_e.merge(h.values()),new _e(0,0,E[0].tickSize*d,0)],N=0;if(e.enabled){let P=_e.merge(A);N=s?P.height:P.width,A.push(this.titleBBox(this.scale.domain,N))}let F=_e.merge(A);return this.layoutCrossLines(),{bbox:F,spacing:N,separatorLayout:E,tickLabelLayout:u}}update(){if(!this.computedLayout)return;this.moduleCtx.animationManager.skipCurrentBatch();let{tickScale:i,tick:e,gridLine:n,gridLength:r}=this,{separatorLayout:a,spacing:s}=this.computedLayout,{position:o,horizontal:l,gridPadding:c}=this,d=o==="bottom"||o==="right"?-1:1,u=c,h=d*r-c,m=i.ticks({nice:!1,interval:void 0,tickCount:void 0,minTickCount:0,maxTickCount:1/0}).ticks.map((p,g)=>({index:g,tickId:Sc(p,g),translation:Math.round(i.convert(p))}));this.gridLineGroupSelection.update(n.enabled&&r?this.calculateGridLines(m,u,h):[]),this.gridFillGroupSelection.update(n.enabled&&r?this.calculateGridFills(m,u,h):[]),this.tickLineGroupSelection.update(e.enabled?m.map(({tickId:p,translation:g},b)=>{let{tickSize:v=this.getTickSize(),tickStroke:_=e.stroke,tickWidth:w=e.width}=a[b]??{},D=-d*v,[I,E,A,N]=l?[g,g,0,D]:[0,D,g,g];return{tickId:p,offset:g,x1:I,y1:A,x2:E,y2:N,stroke:_,strokeWidth:w,lineDash:void 0}}):[]),this.updatePosition(),this.updateCategoryLabels(),this.updateAxisLine(),this.updateGridLines(),this.updateGridFills(),this.updateTickLines(),this.updateTitle(this.scale.domain,s),this.updateCrossLines(),this.resetSelectionNodes()}calculateLayout(){let{separatorLayout:i,tickLabelLayout:e,spacing:n,bbox:r}=this.computeLayout();return this.computedLayout={separatorLayout:i,tickLabelLayout:e,spacing:n},{bbox:r,niceDomain:this.scale.domain}}onGridVisibilityChange(){super.onGridVisibilityChange(),this.tickLabelGroupSelection.clear()}updateScale(){super.updateScale(),this.tickScale.range=this.scale.range,this.scale.paddingOuter=this.scale.paddingInner/2}processData(){let{direction:i}=this,e=this.boundSeries.filter(a=>a.visible).flatMap(a=>a.getDomain(i));this.dataDomain={domain:au(e)??this.filterDuplicateArrays(e),clipped:!1},this.isReversed()&&this.dataDomain.domain.reverse();let n=this.dataDomain.domain.map(a=>fh($t(a)&&"value"in a?a.value:a));this.tickTreeLayout=hpe(n);let r=[];for(let a of this.tickTreeLayout.nodes)a.leafCount||a.refId==null||r.push(this.dataDomain.domain[a.refId]);this.scale.domain=yU(this.dataDomain.domain,r),this.tickScale.domain=n.concat([[""]])}filterDuplicateArrays(i){let e=new Set;return i.filter(n=>{let r=qe(n)?JSON.stringify(n):n;return e.has(r)?!1:(e.add(r),!0)})}};return t.className="GroupedCategoryAxis",t.type="grouped-category",t})();y([C],l_.prototype,"depthOptions",2);var ppe={2:(t,i)=>Math.log2(i),[Math.E]:(t,i)=>Math.log(i),10:(t,i)=>Math.log10(i)},fpe=(t,i)=>Math.log(i)/Math.log(t);function x1(t,i,e){let n=Math.min(...i),r=ppe[t]??fpe;return n>=0?r(t,e):-r(t,-e)}var gpe={[Math.E]:(t,i)=>Math.exp(i),10:(t,i)=>i>=0?10**i:1/10**-i},ype=(t,i)=>t**i;function C1(t,i,e){let n=Math.min(...i),r=gpe[t]??ype;return n>=0?r(t,e):-r(t,-e)}var PO=class N$ extends Di{constructor(i=[1,10],e=[0,1]){super(i,e),this.type="log",this.defaultClamp=!0,this.base=10,this.log=n=>x1(this.base,this.domain,n),this.pow=n=>C1(this.base,this.domain,n)}static is(i){return i instanceof N$}transform(i){let[e,n]=er(this.domain);return e>=0!=n>=0?NaN:e>=0?Math.log(i):-Math.log(-i)}transformInvert(i){let[e,n]=er(this.domain);return e>=0!=n>=0?NaN:e>=0?Math.exp(i):-Math.exp(-i)}toDomain(i){return i}niceDomain(i,e=this.domain){if(e.length<2)return[];let{base:n}=this,[r,a]=e,s=r>a?Math.ceil:Math.floor,o=r>a?Math.floor:Math.ceil,l=C1(n,e,s(x1(n,e,r))),c=C1(n,e,o(x1(n,e,a)));return[l,c]}ticks({interval:i,tickCount:e=Di.defaultTickCount},n=this.domain,r){if(!n||n.length<2||e<1)return;let a=this.base,[s,o]=n,l=Math.min(s,o),c=Math.max(s,o),d=this.log(l),u=this.log(c);if(i){let b=E=>E>=l&&E<=c,v=Math.min(Math.abs(i),Math.abs(u-d)),{ticks:_,count:w,firstTickIndex:D}=BD(d,u,v,r),I=_.map(this.pow).filter(b);if(!Nf(I.length,this.getPixelRange()))return{ticks:I,count:w,firstTickIndex:D}}if(!SU(a)||u-d>=e){let b=Math.min(u-d,e),{ticks:v,count:_,firstTickIndex:w}=Vv(d,u,b,void 0,void 0,r);return{ticks:v.map(this.pow),count:_,firstTickIndex:w}}let h=[],m=l>0;d=Math.floor(d)-1,u=Math.round(u)+1;let p=Rf(this.range)/e,g=1/0;for(let b=d;b<=u;b++){let v=this.convert(this.pow(b+1));for(let _=1;_<a;_++){let w=m?_:a-_+1,D=this.pow(b)*w,I=this.convert(D),E=Math.abs(g-I),A=Math.abs(I-v),N=E>=p&&A>=p;D>=l&&D<=c&&(_===1||N||h.length===0)&&(h.push(D),g=I)}}return wW(h,m,r)}},Fh=class fR extends Di{constructor(){super([0,1],[0,1]),this.type="number"}static is(i){return i instanceof fR}static getTickStep(i,e,n){let{interval:r,tickCount:a=Di.defaultTickCount,minTickCount:s,maxTickCount:o}=n;return r??hv(i,e,a,s,o)}toDomain(i){return i}ticks({interval:i,tickCount:e=Di.defaultTickCount,minTickCount:n,maxTickCount:r},a=this.domain,s){if(!a||a.length<2||e<1||!a.every(isFinite))return{ticks:[],count:0,firstTickIndex:0};let[o,l]=a;if(i){let c=Math.abs(i);if(!Nf((l-o)/c,this.getPixelRange()))return BD(o,l,c,s)}return Vv(o,l,e,n,r,s)}niceDomain(i,e=this.domain){if(e.length<2)return[];let{tickCount:n=Di.defaultTickCount}=i,[r,a]=e;if(n===1)[r,a]=AW(r,a);else if(n>1){let s=r>a?Math.ceil:Math.floor,o=r>a?Math.floor:Math.ceil,l=4;for(let c=0;c<l;c++){let d=r,u=a,h=fR.getTickStep(r,a,i),[m,p]=e;if(r=s(m/h)*h,a=o(p/h)*h,r===d&&a===u)break}}return[r,a]}},su=(()=>{let t=class extends Bv{constructor(i,e=new Fh){super(i,e)}hasDefinedDomain(){let{min:i,max:e}=this;return i!=null&&e!=null&&i<e}normaliseDataDomain(i){let{min:e,max:n}=this,{extent:r,clipped:a}=LO(i,e,n);return{domain:r,clipped:a}}createDatumFormatter(i,e){let{format:n}=this.label;return typeof n=="number"?kW(e,n):void 0}tickFormatParams(i,e,n){return{type:"number",fractionDigits:n}}datumFormatParams(i,e,n){let{datum:r,seriesId:a,legendItemName:s,key:o,source:l,property:c,domain:d,boundSeries:u}=e;return{type:"number",value:i,datum:r,seriesId:a,legendItemName:s,key:o,source:l,property:c,domain:d,boundSeries:u,fractionDigits:n}}};return t.className="NumberAxis",t.type="number",t})();y([C],su.prototype,"min",2);y([C],su.prototype,"max",2);var pS=(()=>{let t=class extends su{normaliseDataDomain(i){let{min:e,max:n}=this,{extent:r,clipped:a}=LO(i,e,n);return r[0]<0&&r[1]>0||i[0]<0&&i[1]>0?(j.warn("The log axis domain crosses zero, the chart data cannot be rendered. See log axis documentation for more information."),{domain:[],clipped:a}):r[0]===0||r[1]===0||i[0]===0||i[1]===0?(j.warn("The log axis domain contains a value of 0, the chart data cannot be rendered. See log axis documentation for more information."),{domain:[],clipped:a}):{domain:r,clipped:a}}set base(i){this.scale.base=i}get base(){return this.scale.base}constructor(i){super(i,new PO)}};return t.className="LogAxis",t.type="log",t})(),Kf=class extends tt{constructor(){super(...arguments),this.enabled=!1,this.label=new Ui,this.tick=new Yh}};y([C],Kf.prototype,"enabled",2);y([C],Kf.prototype,"label",2);y([C],Kf.prototype,"tick",2);var ou=(()=>{let t=class extends Bv{constructor(i){super(i,new bf),this.parentLevel=new Kf,this.min=void 0,this.max=void 0,this.minimumTimeGranularity=void 0}get _unit(){}set _unit(i){j.warnOnce("To use 'unit', use an axis with type 'unit-time' instead of 'time'.")}hasDefinedDomain(){let{min:i,max:e}=this;return i!=null&&e!=null&&i<e}isCategoryLike(){return!1}get primaryLabel(){return this.parentLevel.enabled?this.parentLevel.label:void 0}get primaryTick(){return this.parentLevel.enabled?this.parentLevel.tick:void 0}normaliseDataDomain(i){return FO(i,this.min,this.max)}processData(){super.processData();let{boundSeries:i,direction:e,min:n,max:r}=this;this.minimumTimeGranularity=P$(i,e,n,r)}tickFormatParams(i,e,n,r){r??(r=pO(e));let a=fO(i),s=Al(r),o=Zd(r),l=dv(r);return{type:"date",unit:s,step:o,epoch:l,truncateDate:a}}datumFormatParams(i,e,n,r,a){if(typeof i=="number"&&(i=new Date(i)),r==null){let{minimumTimeGranularity:v}=this,_=FD(i);v!=null&&ga(v)<ga(_)?r=v:r=_}let{datum:s,seriesId:o,legendItemName:l,key:c,source:d,property:u,domain:h,boundSeries:m}=e,p=Al(r),g=Zd(r),b=dv(r);return{type:"date",value:i,datum:s,seriesId:o,legendItemName:l,key:c,source:d,property:u,domain:h,boundSeries:m,unit:p,step:g,epoch:b,style:a}}};return t.className="TimeAxis",t.type="time",t})();y([C],ou.prototype,"parentLevel",2);y([C],ou.prototype,"min",2);y([C],ou.prototype,"max",2);y([C,yn("_unit")],ou.prototype,"unit",2);function P$(t,i,e,n){let r=t.reduce((a,s)=>Math.min(s.minTimeInterval()??1/0,a),1/0);return Number.isFinite(r)?Fv(r):F$(t,i,e,n)?.unit}function F$(t,i,e,n){let r=1/0,a=-1/0,s,o=0,l=[];for(let h of t){if(!h.visible)continue;let{domain:m}=FO(h.getDomain(i),void 0,void 0);if(m.length===0)continue;let p=m[0].valueOf(),g=m[m.length-1].valueOf();l.push(p,g),r=Math.min(r??1/0,p,g),a=Math.max(a??-1/0,p,g);let b=Math.abs(g-p);if(b===0)continue;let v=h.dataCount();if(o=Math.max(o,v),v<=1)continue;let _=b/(v-1);s=Math.min(s??1/0,_)}if(r=Math.min(r,e?.valueOf()??1/0,n?.valueOf()??1/0),a=Math.max(a,e?.valueOf()??-1/0,n?.valueOf()??-1/0),!Number.isFinite(r)||!Number.isFinite(a))return;s??(s=Math.abs(a-r)),s=Math.min(s,bpe(l));let c=Fv(s),d=s/ga(c);o<=2?d=Math.floor(d):d=Math.round(d),d=Math.max(d,1);let u=d===1?void 0:Os(c,r);return{unit:c,step:d,epoch:u}}function bpe(t){t.sort((e,n)=>e-n);let i=1/0;for(let e=1;e<t.length;e++){let n=t[e-1],r=t[e];r-n>0&&(i=Math.min(i,Math.abs(r-n)))}return i}function FO(t,i,e){let n=!1;typeof i=="number"&&(i=new Date(i)),typeof e=="number"&&(e=new Date(e));let r=au(t)?.map(o=>new Date(o));if(r==null)return{domain:i!=null&&e!=null&&i.valueOf()<=e.valueOf()?[i,e]:[],clipped:!1};let[a,s]=r;return i instanceof Date&&(n||(n=i>a),a=i),e instanceof Date&&(n||(n=e<s),s=e),a>s?{domain:[],clipped:!1}:{domain:[a,s],clipped:n}}var V$=class extends $f{calculateGridLine({index:t,tickId:i,translation:e},n,r,a,s){let{gridLine:o,horizontal:l,interval:c,range:d}=this;if(c.placement!=="between")return super.calculateGridLine({index:t,tickId:i,translation:e},n,r,a,s);let u=s[n-1],h=u?e-(e-u.translation)/2:d[0],[m,p,g,b]=l?[h,Math.max(r,a),h,Math.min(r,a)]:[Math.min(r,a),h,Math.max(r,a),h],{style:v}=o,{stroke:_,strokeWidth:w=0,lineDash:D}=v[t%v.length]??{};return{tickId:i,offset:h,x1:m,y1:p,x2:g,y2:b,stroke:_,strokeWidth:w,lineDash:D}}calculateGridFills(t,i,e){return this.interval.placement!=="between"?super.calculateGridFills(t,i,e):t.map((n,r)=>this.calculateGridFill(n,r,n.index,i,e,t))}calculateGridFill({tickId:t,translation:i},e,n,r,a,s){let{gridLine:o,horizontal:l,interval:c,range:d}=this;if(c.placement!=="between")return super.calculateGridFill({tickId:t,translation:i},e,n,r,a,s);let u=s[e-1],h=s[e+1],m=u?i-(i-u.translation)/2:d[0],p=h?i+(h.translation-i)/2:d[1],[g,b,v,_]=l?[m,Math.max(r,a),p,Math.min(r,a)]:[Math.min(r,a),m,Math.max(r,a),p],{fill:w,fillOpacity:D}=o.style[n%o.style.length]??{};return{tickId:t,x1:g,y1:b,x2:v,y2:_,fill:w,fillOpacity:D}}calculateTickLine({primary:t,tickId:i,translation:e},n,r,a){let{horizontal:s,interval:o,primaryTick:l,range:c,tick:d}=this;if(o.placement!=="between")return super.calculateTickLine({primary:t,tickId:i,translation:e},n,r,a);let u=t&&l?.enabled?l:d,h=-r*this.getTickSize(u),m=a[n-1],p=m?e-(e-m.translation)/2:c[0],[g,b,v,_]=s?[p,0,p,h]:[0,p,h,p],{stroke:w,width:D}=u;return{tickId:i,offset:p,x1:g,y1:b,x2:v,y2:_,stroke:w,strokeWidth:D,lineDash:void 0}}},qf=(()=>{let t=class extends V${constructor(i){super(i,new Fd,!1),this.parentLevel=new Kf,this.min=void 0,this.max=void 0,this.unit=void 0,this.defaultUnit=void 0}get primaryLabel(){return this.parentLevel.enabled?this.parentLevel.label:void 0}get primaryTick(){return this.parentLevel.enabled?this.parentLevel.tick:void 0}hasDefinedDomain(){let{min:i,max:e}=this;return i!=null&&e!=null&&i<e}isCategoryLike(){return!0}processData(){super.processData();let i,{domain:e}=this.dataDomain;if(e.length===2&&e[0].valueOf()===e[1].valueOf())i=FD(e[0]);else{let{boundSeries:n,direction:r,min:a,max:s}=this;i=F$(n,r,a,s)}Ln(this.defaultUnit,i)||(this.defaultUnit=i)}updateScale(){super.updateScale(),this.scale.interval=this.unit??this.defaultUnit}normaliseDataDomain(i){return FO(i,this.min,this.max)}createDatumFormatter(i,e){let n=this.scale.interval,{format:r}=this.label;if(r==null)return;let a=iR(n!=null?RG(r,Al(n)):r,n);if(a!=null)return zh(a)}tickFormatParams(i,e,n,r){r??(r=pO(e));let a=fO(i),s=Al(r),o=Zd(r),l=dv(r);return{type:"date",unit:s,step:o,epoch:l,truncateDate:a}}datumFormatParams(i,e,n,r,a){let s=this.unit??this.defaultUnit??"millisecond";i=Os(s,i),typeof i=="number"&&(i=new Date(i)),r??(r=s);let{datum:o,seriesId:l,legendItemName:c,key:d,source:u,property:h,domain:m,boundSeries:p}=e,g=Al(r),b=Zd(r),v=dv(r);return{type:"date",value:i,datum:o,seriesId:l,legendItemName:c,key:d,source:u,property:h,domain:m,boundSeries:p,unit:g,step:b,epoch:v,style:a}}};return t.className="UnitTimeAxis",t.type="unit-time",t})();y([C],qf.prototype,"parentLevel",2);y([C],qf.prototype,"min",2);y([C],qf.prototype,"max",2);y([C],qf.prototype,"unit",2);var cf=S(f(f({},jc),Wf(z)),{type:le(Ot("number")),label:TO,crosshair:ru(!0)}),df=S(f(f({},jc),Wf(z)),{type:le(Ot("log")),base:si(mh,Rt(t=>t!==1,"not equal to 1")),label:TO,crosshair:ru(!0)}),uf=S(f(f({},jc),Wf(We(z,As),!0)),{type:le(Ot("time")),label:r_,parentLevel:cS,crosshair:ru(!0,!0)}),hf=S(f({},jc),{type:le(Ot("category")),label:n_,paddingInner:Me,paddingOuter:Me,groupPaddingInner:Me,crosshair:ru(),bandHighlight:a_,interval:S(f({},RO),{placement:K("on","between")})}),mf=S(f({},jc),{type:le(Ot("grouped-category")),label:n_,crosshair:ru(),bandHighlight:a_,paddingInner:Me,groupPaddingInner:Me,depthOptions:zi({label:f(f({enabled:R,avoidCollisions:R,wrapping:K("never","always","hyphenate","on-space"),truncate:R,rotation:z,spacing:z},Lt),zr),tick:{enabled:R,stroke:oe,width:O}},"depth options objects array")}),pf=S(f({},jc),{type:le(Ot("unit-time")),unit:We(lS,i_),label:r_,parentLevel:cS,paddingInner:Me,paddingOuter:Me,groupPaddingInner:Me,crosshair:ru(!0,!0),bandHighlight:a_,min:si(We(z,As),ma("max")),max:si(We(z,As),pa("min")),interval:OO}),vpe={type:"axis",name:"number",chartType:"cartesian",options:cf,create:t=>new su(t)},_pe={type:"axis",name:"log",chartType:"cartesian",options:df,create:t=>new pS(t)},xpe={type:"axis",name:"time",chartType:"cartesian",options:uf,create:t=>new ou(t)},Cpe={type:"axis",name:"category",chartType:"cartesian",options:hf,create:t=>new $f(t)},wpe={type:"axis",name:"grouped-category",chartType:"cartesian",options:mf,create:t=>new l_(t)},Dpe={type:"axis",name:"unit-time",chartType:"cartesian",options:pf,create:t=>new qf(t)},ff=S(f({},jc),{type:le(Ot("ordinal-time")),paddingInner:Me,paddingOuter:Me,groupPaddingInner:Me,label:r_,parentLevel:cS,interval:OO,crosshair:ru(!0,!0),bandHighlight:a_}),B$=S(f(f({},Qh),Wf(z)),{type:le(Ot("angle-number")),crossLines:zi(Sl),startAngle:z,endAngle:z,label:S(f({},Bc),{orientation:K("fixed","parallel","perpendicular"),format:No})}),Spe={innerRadiusRatio:Me},j$=S(f(f({},Qh),Spe),{type:le(Ot("angle-category")),shape:K("polygon","circle"),crossLines:zi(Sl),startAngle:z,endAngle:z,paddingInner:Me,groupPaddingInner:Me,label:S(f({},Bc),{orientation:K("fixed","parallel","perpendicular")})}),z$=S(f(f({},Qh),Wf(z)),{type:le(Ot("radius-number")),shape:K("polygon","circle"),positionAngle:z,innerRadiusRatio:Me,crossLines:zi(S(f({},Sl),{label:S(f({},Hh),{positionAngle:z})}),"cross-line options"),title:f({enabled:R,text:B,spacing:O,formatter:Bt},Lt),label:S(f({},Bc),{format:No})}),U$=S(f({},Qh),{type:le(Ot("radius-category")),positionAngle:z,innerRadiusRatio:Me,paddingInner:Me,paddingOuter:Me,groupPaddingInner:Me,label:Bc,crossLines:zi(S(f({},Sl),{label:S(f({},Hh),{positionAngle:z})}),"cross-line options"),title:f({enabled:R,text:B,spacing:O,formatter:Bt},Lt)}),H$=pi(ti,ti),G$=S(f(f(f(f({showInMiniChart:R,connectMissingData:R,interpolation:aS,label:fi,marker:Vc,tooltip:Jt,shadow:Ll},Wt),ce),Z),fe),{highlight:H$}),W$=S(f(f({},G$),Po),{highlight:H$,type:le(Ot("area")),xKey:le(B),yKey:le(B),xName:B,yName:B,stacked:R,stackGroup:B,normalizedTo:z}),$$=pi(Es,Es),VO=f(f(f(S(f({direction:K("horizontal","vertical"),showInMiniChart:R,cornerRadius:O,itemStyler:oi(S(f(f(f({},ce),Z),fe),{cornerRadius:O})),crisp:R,label:S(f({},fi),{placement:K("inside-center","inside-start","inside-end","outside-start","outside-end"),spacing:O}),errorBar:e_,shadow:Ll,tooltip:Jt},Wt),{highlight:$$}),ce),Z),fe);VO.sparklineMode=je(R);var fS=S(f(f({},VO),Po),{highlight:$$,type:le(Ot("bar")),xKey:le(B),yKey:le(B),xName:B,yName:B,direction:K("horizontal","vertical"),grouped:R,stacked:R,stackGroup:B,normalizedTo:z,legendItemName:B,errorBar:rS});fS.pickOutsideVisibleMinorAxis=je(R);fS.focusPriority=je(z);var Y$=S(f(f({title:B,domain:Le(z),maxSize:O,showInMiniChart:R,label:f({placement:K("top","right","bottom","left")},fi),tooltip:Jt,maxRenderedItems:z},Wt),de(Vc,["enabled"])),{highlight:pi(ti,ti)}),Mpe=S(f(f({},Y$),Po),{type:le(Ot("bubble")),xKey:le(B),yKey:le(B),sizeKey:le(B),labelKey:B,xName:B,yName:B,sizeName:B,labelName:B,highlight:pi(ti,ti)}),K$=S(f(f(f(f({showInMiniChart:R,cornerRadius:O,label:fi,tooltip:Jt,shadow:Ll},Wt),ce),Z),fe),{highlight:pi(ti,ti)}),Ipe=S(f(f({},Po),K$),{type:le(Ot("histogram")),xKey:le(B),yKey:B,xName:B,yName:B,areaPlot:R,aggregation:K("count","sum","mean"),bins:Le(Le(z)),binCount:O}),q$=pi(ti,mc),BO=S(f(f(f({title:B,showInMiniChart:R,connectMissingData:R,interpolation:aS,label:fi,marker:Vc,tooltip:Jt,errorBar:e_},Wt),Z),fe),{highlight:q$});BO.sparklineMode=je(R);var gS=S(f(f({},BO),Po),{highlight:q$,type:le(Ot("line")),xKey:le(B),yKey:le(B),xName:B,yName:B,stacked:R,stackGroup:B,normalizedTo:z,legendItemName:B,errorBar:rS});gS.pickOutsideVisibleMinorAxis=je(R);gS.focusPriority=je(z);var Z$=S(f(f({title:B,showInMiniChart:R,label:f({placement:K("top","right","bottom","left")},fi),tooltip:Jt,errorBar:e_,maxRenderedItems:z},Wt),de(Vc,["enabled"])),{highlight:pi(ti,ti)}),kpe=S(f(f({},Z$),Po),{type:le(Ot("scatter")),xKey:le(B),yKey:le(B),labelKey:B,xName:B,yName:B,labelName:B,errorBar:rS,highlight:pi(ti,ti)}),Q$=pi(ti,ti),jO=f(f(f(S(f({},Wt),{radiusMin:O,radiusMax:O,rotation:z,outerRadiusOffset:z,outerRadiusRatio:Me,hideZeroValueSectorsInLegend:R,sectorSpacing:O,cornerRadius:O,itemStyler:oi(S(f(f(f({},ce),Z),fe),{cornerRadius:O})),title:f({enabled:R,text:B,showInLegend:R,spacing:O},Lt),calloutLabel:f(f({enabled:R,offset:z,minAngle:O,avoidCollisions:R,formatter:Bt,format:B,itemStyler:oi(f(f({enabled:R},zr),Lt))},zr),Lt),sectorLabel:f(f({enabled:R,positionOffset:z,positionRatio:Me,formatter:Bt,format:B,itemStyler:oi(f(f({enabled:R},zr),Lt))},zr),Lt),calloutLine:{colors:Le(oe),length:O,strokeWidth:O},fills:Le(jr),strokes:Le(oe),tooltip:Jt,shadow:Ll,highlight:Q$}),fe),de(ce,["fill"])),de(Z,["stroke"])),Xh=S(f(f({},jO),Po),{type:le(Ot("pie")),angleKey:le(B),radiusKey:B,calloutLabelKey:B,sectorLabelKey:B,legendItemKey:B,angleName:B,radiusName:B,calloutLabelName:B,sectorLabelName:B,highlight:Q$});Xh.defaultColorRange=je(Le(Le(oe)));Xh.defaultPatternFills=je(Le(oe));Xh.title._enabledFromTheme=je(R);Xh.calloutLabel._enabledFromTheme=je(R);Xh.sectorLabel._enabledFromTheme=je(R);var X$=S(f({},jO),{innerRadiusOffset:z,innerRadiusRatio:Me,innerCircle:{fill:B,fillOpacity:Me},innerLabels:f(f({spacing:O},Lt),zr)}),Ape=S(f(f({},X$),Xh),{type:le(Ot("donut")),innerLabels:zi(f(f({text:le(B),spacing:O},Lt),zr),"inner label options array")}),Zf=f({lineStyle:K("solid","dashed","dotted")},fe),Jh=f(f(f({},ce),Z),fe),c_=f({visible:R,locked:R,handle:Jh},Lt),yS=f({position:K("top","center","bottom"),alignment:K("left","center","right")},Lt),J$=f({position:K("top","inside","bottom"),alignment:K("left","center","right")},Lt),Epe=f(f(f(f({enabled:R,cornerRadius:O,formatter:Bt},Lt),ce),Z),fe),Tpe=f(f({visible:R},Zf),Z),e6=f(f(f({divider:Z},ce),Z),Lt),YH=f(f(f({handle:Jh,statistics:e6},Zf),ce),Z),sD=f(f({visible:R,locked:R,extendStart:R,extendEnd:R,handle:Jh,text:yS},Zf),Z),gR=f(f({visible:R,locked:R,axisLabel:Epe,handle:Jh,text:yS},Zf),Z),zO=f(f({visible:R,locked:R,extendStart:R,extendEnd:R,handle:Jh,text:J$,background:ce},Zf),Z),t6=f({},zO),i6=S(f({},zO),{middle:Tpe}),yR=f({label:Lt,showFill:R,isMultiColor:R,strokes:Le(oe),rangeStroke:oe,bands:K(4,6,10)},sD),n6=f(f(f({},ce),Z),c_),r6=f(f(f({},ce),Z),c_),a6=S(f(f(f({},ce),Z),c_),{background:f(f({},ce),Z)}),bR=f({visible:R,locked:R,handle:Jh},ce),Ow=f(f({visible:R,locked:R,extendStart:R,extendEnd:R,handle:Jh,text:yS,background:ce,statistics:e6},Zf),Z),s6={visible:R,up:YH,down:YH},Qf={enabled:R,axesButtons:{enabled:R,axes:K("x","y","xy")},toolbar:{enabled:R,padding:O,buttons:zi(S(f({},Oh),{value:K("line-menu","fibonacci-menu","text-menu","shape-menu","measurer-menu","line","horizontal-line","vertical-line","parallel-channel","disjoint-channel","fibonacci-retracement","fibonacci-retracement-trend-based","text","comment","callout","note","clear")}),"annotation toolbar buttons array")},optionsToolbar:{enabled:R,buttons:Le(We(ji(S(f({},Oh),{value:le(K("line-stroke-width","line-style-type","line-color","fill-color","text-color","text-size","delete","settings"))})),ji(S(f({},Oh),{value:le(K("lock")),checkedOverrides:Oh}))))}};Qf.data=je(ha);Qf.xKey=je(B);Qf.volumeKey=je(B);Qf.snap=je(R);var UO=S(f(f(f({},ce),Z),fe),{cornerRadius:O,whisker:f(f({},Z),fe),cap:{lengthRatio:Me}}),vR=S(f({},UO),{opacity:Me}),o6=S(f(f({direction:K("horizontal","vertical"),showInMiniChart:R,itemStyler:oi(S(f(f(f({},ce),Z),fe),{cornerRadius:O,whisker:f(f({},Z),fe),cap:{lengthRatio:Me}})),tooltip:Jt},Wt),UO),{highlight:pi(vR,vR)}),_R=f(f(f({cornerRadius:O,wick:f(f({},Z),fe)},ce),Z),fe),KH=S(f({},_R),{opacity:Me}),l6=S(f({item:{up:_R,down:_R},itemStyler:oi(S(f(f(f({},ce),Z),fe),{cornerRadius:O,wick:f(f({},Z),fe)})),showInMiniChart:R,tooltip:Jt},Wt),{highlight:pi(KH,KH)}),c6=f({fills:Le(jr),strokes:Le(oe),label:f({spacing:O,maxWidth:O},fi),link:f(f(f({tension:Me,itemStyler:oi(S(f(f(f({},ce),Z),fe),{tension:Me}))},ce),Z),fe),node:f(f(f({width:O,spacing:O,itemStyler:oi(f(f(f({},ce),Z),fe))},ce),Z),fe),tooltip:Jt},Wt),d6=S(f(f(f(f({direction:K("horizontal","vertical"),fills:Le(jr),strokes:Le(oe),label:f({spacing:O,placement:K("before","middle","after")},fi),stageLabel:f({placement:K("before","after"),format:No},Bc),tooltip:Jt},de(Wt,["showInLegend"])),de(ce,["fill"])),de(Z,["stroke"])),fe),{highlight:rw(mc)}),u6=f(f(f(f({direction:K("horizontal","vertical"),fills:Le(jr),strokes:Le(oe),itemStyler:oi(f(f(f({},ce),Z),fe)),spacingRatio:Me,crisp:R,dropOff:f(f(f({enabled:R},ce),Z),fe),stageLabel:f({placement:K("before","after"),format:No},Bc),label:fi,tooltip:Jt,shadow:Ll},de(Wt,["showInLegend"])),de(ce,["fill"])),de(Z,["stroke"])),fe),h6=f(f({title:B,textAlign:K("left","center","right"),verticalAlign:K("top","middle","bottom"),itemPadding:O,itemStyler:oi(f(f({},ce),Z)),showInMiniChart:R,label:Qd,tooltip:Jt},Wt),Z),m6=S(f({showInMiniChart:R,itemStyler:oi(f(f({},Z),fe)),item:{up:f(f({},Z),fe),down:f(f({},Z),fe)},tooltip:Jt},Wt),{highlight:pi(mc,mc)}),p6=S(f(f(f({maxStrokeWidth:O,itemStyler:oi(f(f({},Z),fe)),sizeDomain:Le(O),label:fi,tooltip:Jt},Wt),Z),fe),{highlightStyle:f(f({},Wt.highlightStyle),Z),highlight:pi(mc,mc)}),f6=f(f({},Z),fe),g6=S(f(f({colorRange:Le(oe),maxSize:O,sizeDomain:Le(O),label:f({placement:K("top","bottom","left","right")},fi),tooltip:Jt},Wt),de(Vc,["enabled"])),{highlightStyle:f(f(f({},Wt.highlightStyle),ce),Z),highlight:pi(ti,ti)}),y6=S(f(f(f(f({colorRange:Le(oe),padding:O,itemStyler:oi(f(f(f({},ce),Z),fe)),label:Qd,tooltip:Jt},Wt),ce),Z),fe),{highlightStyle:f(f(f({},Wt.highlightStyle),ce),Z),highlight:pi(ti,ti)}),b6=f(f(f(f({},Wt),ce),Z),fe),v6=S(f(f(f(f({cornerRadius:O,itemStyler:oi(S(f(f(f({},ce),Z),fe),{cornerRadius:O})),label:fi,tooltip:Jt},Wt),ce),Z),fe),{highlight:pi(Es,Es)}),_6=f(f(f(f({direction:K("horizontal","vertical"),aspectRatio:O,spacing:O,reverse:R,itemStyler:oi(f(f(f({},ce),Z),fe)),fills:Le(jr),strokes:Le(oe),label:fi,stageLabel:f({spacing:O,placement:K("before","after")},fi),tooltip:Jt,shadow:Ll},Wt),de(ce,["fill"])),de(Z,["stroke"])),fe),x6=S(f(f(f(f({connectMissingData:R,marker:Vc,label:fi,tooltip:Jt},Wt),ce),Z),fe),{highlight:pi(ti,ti)}),C6=S(f(f(f({connectMissingData:R,marker:Vc,label:fi,tooltip:Jt},Wt),Z),fe),{highlight:pi(ti,mc)}),w6=S(f(f(f(f({cornerRadius:O,itemStyler:oi(S(f(f(f({},ce),Z),fe),{cornerRadius:O})),label:fi,tooltip:Jt},Wt),ce),Z),fe),{highlight:pi(Es,Es)}),D6=S(f(f(f(f({cornerRadius:O,columnWidthRatio:Me,maxColumnWidthRatio:Me,itemStyler:oi(S(f(f(f({},ce),Z),fe),{cornerRadius:O})),label:fi,tooltip:Jt},Wt),ce),Z),fe),{highlight:pi(Es,Es)}),S6=S(f(f(f(f({showInMiniChart:R,connectMissingData:R,interpolation:aS,label:S(f({},fi),{placement:K("inside","outside"),spacing:O}),marker:Vc,tooltip:Jt,shadow:Ll},Wt),ce),Z),fe),{highlight:pi(ti,ti)}),M6=S(f(f(f(f({direction:K("horizontal","vertical"),grouped:R,showInMiniChart:R,cornerRadius:O,itemStyler:oi(S(f(f(f({},ce),Z),fe),{cornerRadius:O})),label:S(f({},fi),{placement:K("inside","outside"),spacing:O}),tooltip:Jt,shadow:Ll},Wt),ce),Z),fe),{highlight:pi(Es,Es)}),I6=f({fills:Le(jr),strokes:Le(oe),label:S(f({},fi),{spacing:O}),link:f(f(f({itemStyler:oi(f(f(f({},ce),Z),fe))},ce),Z),fe),node:f(f(f({width:O,spacing:O,alignment:K("left","center","right","justify"),itemStyler:oi(f(f(f({},ce),Z),fe))},ce),Z),fe),tooltip:Jt},Wt),k6=S(f(f(f({fills:Le(jr),strokes:Le(oe),colorRange:Le(oe),sectorSpacing:O,cornerRadius:O,padding:O,itemStyler:oi(f(f({},ce),Z)),label:f({spacing:O},Qd),secondaryLabel:Qd,tooltip:Jt},de(Wt,["highlight","showInLegend"])),de(ce,["fill"])),de(Z,["stroke"])),{highlightStyle:f(f({label:{color:oe},secondaryLabel:{color:oe}},ce),Z)}),A6=S(f({fills:Le(jr),strokes:Le(oe),colorRange:Le(oe),itemStyler:oi(f(f({},ce),Z)),group:f(f({gap:O,padding:O,cornerRadius:O,textAlign:K("left","center","right"),interactive:R,label:S(f({},fi),{spacing:O})},ce),Z),tile:f(f({gap:O,padding:O,cornerRadius:O,textAlign:K("left","center","right"),verticalAlign:K("top","middle","bottom"),label:S(f({},fi),{spacing:O,lineHeight:O,minimumFontSize:O,wrapping:K("never","always","hyphenate","on-space"),overflowStrategy:K("ellipsis","hide")}),secondaryLabel:S(f({},fi),{lineHeight:O,minimumFontSize:O,wrapping:K("never","always","hyphenate","on-space"),overflowStrategy:K("ellipsis","hide")})},ce),Z),tooltip:Jt},de(Wt,["highlight","showInLegend"])),{highlightStyle:{group:f(f({label:{color:oe}},ce),Z),tile:f(f({label:{color:oe},secondaryLabel:{color:oe}},ce),Z)}}),w1=f(f(f({name:B,cornerRadius:O,itemStyler:oi(S(f(f(f({},ce),Z),fe),{cornerRadius:O})),label:S(f({},fi),{placement:K("inside-start","inside-center","inside-end","outside-start","outside-end"),spacing:O}),tooltip:Jt,shadow:Ll},ce),Z),fe),E6=f({direction:K("horizontal","vertical"),showInMiniChart:R,item:{positive:w1,negative:w1,total:w1},line:f(f({enabled:R},Z),fe),tooltip:Jt},Wt),yw=ji({__type:le(Ot("date")),value:We(B,z)},"a serializable date object"),qH={width:O,height:O,grip:R,fill:oe,stroke:oe,strokeWidth:O,cornerRadius:O},ii={enabled:R,height:O,spacing:O,cornerRadius:z,mask:{fill:oe,fillOpacity:Me,stroke:oe,strokeWidth:O},minHandle:qH,maxHandle:qH,miniChart:{enabled:R,padding:{top:O,bottom:O},label:f({enabled:R,avoidCollisions:R,spacing:O,format:No,formatter:Bt,interval:{minSpacing:O,maxSpacing:O,values:ha,step:z}},Lt),series:Be}},Hr={number:S(f({},de(cf,["type","crossLines"])),{top:de(cf,["type","crossLines","position"]),right:de(cf,["type","crossLines","position"]),bottom:de(cf,["type","crossLines","position"]),left:de(cf,["type","crossLines","position"]),crossLines:de(vc,["type"])}),log:S(f({},de(df,["type","crossLines"])),{top:de(df,["type","crossLines","position"]),right:de(df,["type","crossLines","position"]),bottom:de(df,["type","crossLines","position"]),left:de(df,["type","crossLines","position"]),crossLines:de(vc,["type"])}),category:S(f({},de(hf,["type","crossLines"])),{top:de(hf,["type","crossLines","position"]),right:de(hf,["type","crossLines","position"]),bottom:de(hf,["type","crossLines","position"]),left:de(hf,["type","crossLines","position"]),crossLines:de(vc,["type"])}),time:S(f({},de(uf,["type","crossLines"])),{top:de(uf,["type","crossLines","position"]),right:de(uf,["type","crossLines","position"]),bottom:de(uf,["type","crossLines","position"]),left:de(uf,["type","crossLines","position"]),crossLines:de(vc,["type"])}),"unit-time":S(f({},de(pf,["type","crossLines"])),{top:de(pf,["type","crossLines","position"]),right:de(pf,["type","crossLines","position"]),bottom:de(pf,["type","crossLines","position"]),left:de(pf,["type","crossLines","position"]),crossLines:de(vc,["type"])}),"grouped-category":S(f({},de(mf,["type"])),{top:de(mf,["type","position"]),right:de(mf,["type","position"]),bottom:de(mf,["type","position"]),left:de(mf,["type","position"]),crossLines:de(vc,["type"])}),"ordinal-time":S(f({},de(ff,["type","crossLines"])),{top:de(ff,["type","crossLines","position"]),right:de(ff,["type","crossLines","position"]),bottom:de(ff,["type","crossLines","position"]),left:de(ff,["type","crossLines","position"]),crossLines:de(vc,["type"])})},nf={"angle-category":S(f({},de(j$,["type","crossLines"])),{crossLines:de(Sl,["type"])}),"angle-number":S(f({},de(B$,["type","crossLines"])),{crossLines:de(Sl,["type"])}),"radius-category":S(f({},de(U$,["type","crossLines"])),{crossLines:S(f({},de(Sl,["type"])),{label:S(f({},Hh),{positionAngle:z})})}),"radius-number":S(f({},de(z$,["type","crossLines"])),{crossLines:S(f({},de(Sl,["type"])),{label:S(f({},Hh),{positionAngle:z})})})},li={visible:R},Rpe={common:S(f({},rt),{navigator:ii,axes:f(f({},Hr),nf),annotations:S(f({},Qf),{line:sD,"horizontal-line":gR,"vertical-line":gR,"disjoint-channel":t6,"parallel-channel":i6,"fibonacci-retracement":yR,"fibonacci-retracement-trend-based":yR,callout:n6,comment:r6,note:a6,text:c_,arrow:sD,"arrow-up":bR,"arrow-down":bR,"date-range":Ow,"price-range":Ow,"date-price-range":Ow,"quick-date-price-range":s6}),chartToolbar:{enabled:R},initialState:{legend:zi({visible:R,seriesId:B,itemId:B,legendItemName:B},"legend state array"),zoom:{rangeX:{start:We(z,yw),end:We(z,yw)},rangeY:{start:We(z,yw),end:We(z,yw)},ratioX:{start:Me,end:Me},ratioY:{start:Me,end:Me},autoScaledAxes:Le(Ot("y"))}}}),line:f(S(f({},rt),{axes:Hr,series:BO,navigator:ii}),li),scatter:f(S(f({},rt),{axes:Hr,series:Z$,navigator:ii}),li),bubble:f(S(f({},rt),{axes:Hr,series:Y$,navigator:ii}),li),area:f(S(f({},rt),{axes:Hr,series:G$,navigator:ii}),li),bar:f(S(f({},rt),{axes:Hr,series:VO,navigator:ii}),li),"box-plot":f(S(f({},rt),{axes:Hr,series:o6,navigator:ii}),li),candlestick:f(S(f({},rt),{axes:Hr,series:l6,navigator:ii}),li),"cone-funnel":f(S(f({},rt),{axes:Hr,series:d6,navigator:ii}),li),funnel:f(S(f({},rt),{axes:Hr,series:u6,navigator:ii}),li),ohlc:f(S(f({},rt),{axes:Hr,series:m6,navigator:ii}),li),histogram:f(S(f({},rt),{axes:de(Hr,["category","grouped-category","unit-time","ordinal-time"]),series:K$,navigator:ii}),li),heatmap:f(S(f({},rt),{axes:Hr,series:h6,navigator:ii}),li),waterfall:f(S(f({},rt),{axes:Hr,series:E6,navigator:ii}),li),"range-bar":f(S(f({},rt),{axes:Hr,series:M6,navigator:ii}),li),"range-area":f(S(f({},rt),{axes:Hr,series:S6,navigator:ii}),li),donut:f(S(f({},rt),{series:X$,navigator:ii}),li),pie:f(S(f({},rt),{series:jO,navigator:ii}),li),"radar-line":f(S(f({},rt),{axes:nf,series:C6,navigator:ii}),li),"radar-area":f(S(f({},rt),{axes:nf,series:x6,navigator:ii}),li),"radial-bar":f(S(f({},rt),{axes:nf,series:w6,navigator:ii}),li),"radial-column":f(S(f({},rt),{axes:nf,series:D6,navigator:ii}),li),nightingale:f(S(f({},rt),{axes:nf,series:v6,navigator:ii}),li),sunburst:f(S(f({},rt),{series:k6,navigator:ii}),li),treemap:f(S(f({},rt),{series:A6,navigator:ii}),li),"map-shape":f(S(f({},rt),{series:y6,navigator:ii}),li),"map-line":f(S(f({},rt),{series:p6,navigator:ii}),li),"map-marker":f(S(f({},rt),{series:g6,navigator:ii}),li),"map-shape-background":f(S(f({},rt),{series:b6,navigator:ii}),li),"map-line-background":f(S(f({},rt),{series:f6,navigator:ii}),li),sankey:f(S(f({},rt),{series:I6,navigator:ii}),li),chord:f(S(f({},rt),{series:c6,navigator:ii}),li),pyramid:f(S(f({},rt),{series:_6,navigator:ii}),li),"radial-gauge":S(f(f({},rt),rD),{targets:de(oS,["value"]),tooltip:f(f({},rD.tooltip),rt.tooltip)}),"linear-gauge":S(f(f({},rt),nD),{targets:de(sS,["value"]),tooltip:f(f({},nD.tooltip),rt.tooltip)})};function bw(t,i){let e={};for(let n of Reflect.ownKeys(t))e[n]=i(t[n],n,t);return e}var Ope=bw(Rpe,function t(i,e){if(Up(e))return i;if(yo(i))return We(i,Gp,Up);if($t(i))return We(ji(Sb in i?bw(i,n=>$t(n)?bw(n,t):n):bw(i,t)),Gp,Up);throw new Error(`Invalid theme override value: ${String(i)}`)}),wr={BLUE:"#0083ff",ORANGE:"#ff6600",GREEN:"#00af00",CYAN:"#00ccff",YELLOW:"#f7c700",VIOLET:"#ac26ff",GRAY:"#a7a7b7",MAGENTA:"#e800c5",BROWN:"#b54300",RED:"#ff0000"},Sh={BLUE:"#67b7ff",ORANGE:"#ffc24d",GREEN:"#5cc86f",CYAN:"#54ebff",VIOLET:"#fff653",YELLOW:"#c18aff",GRAY:"#aeaeae",MAGENTA:"#f078d4",BROWN:"#ba8438",RED:"#ff726e"},Lpe=class extends Gf{getDefaultColors(){return{fills:wr,fillsFallback:Object.values(wr),strokes:Sh,sequentialColors:ds(wr),divergingColors:[wr.ORANGE,wr.YELLOW,wr.GREEN],hierarchyColors:[],secondSequentialColors:["#0083ff","#0076e6","#0069cc","#005cb3","#004f99","#004280","#003466","#00274c"],secondDivergingColors:[wr.GREEN,wr.YELLOW,wr.RED],secondHierarchyColors:[],up:{fill:wr.GREEN,stroke:Sh.GREEN},down:{fill:wr.RED,stroke:Sh.RED},neutral:{fill:wr.GRAY,stroke:Sh.GRAY},altUp:{fill:wr.BLUE,stroke:Sh.BLUE},altDown:{fill:wr.ORANGE,stroke:Sh.ORANGE},altNeutral:{fill:wr.GRAY,stroke:Sh.GRAY}}}getTemplateParameters(){let t=super.getTemplateParameters();return t.set(nn,wr.BLUE),t.set(Rn,wr.BLUE),t}},Dr={BLUE:"#0083ff",ORANGE:"#ff6600",GREEN:"#00af00",CYAN:"#00ccff",YELLOW:"#f7c700",VIOLET:"#ac26ff",GRAY:"#a7a7b7",MAGENTA:"#e800c5",BROWN:"#b54300",RED:"#ff0000"},Mh={BLUE:"#0f68c0",ORANGE:"#d47100",GREEN:"#007922",CYAN:"#009ac2",VIOLET:"#bca400",YELLOW:"#753cac",GRAY:"#646464",MAGENTA:"#9b2685",BROWN:"#6c3b00",RED:"#cb0021"},Npe=class extends Oo{getDefaultColors(){return S(f({},super.getDefaultColors()),{fills:Dr,fillsFallback:Object.values(Dr),strokes:Mh,sequentialColors:ds(Dr),divergingColors:[Dr.ORANGE,Dr.YELLOW,Dr.GREEN],hierarchyColors:[],secondSequentialColors:["#0083ff","#1a8fff","#339cff","#4da8ff","#66b5ff","#80c1ff","#99cdff","#b3daff"],secondDivergingColors:[Dr.GREEN,Dr.YELLOW,Dr.RED],secondHierarchyColors:[],up:{fill:Dr.GREEN,stroke:Mh.GREEN},down:{fill:Dr.RED,stroke:Mh.RED},neutral:{fill:Dr.GRAY,stroke:Mh.GRAY},altUp:{fill:Dr.BLUE,stroke:Mh.BLUE},altDown:{fill:Dr.ORANGE,stroke:Mh.ORANGE},altNeutral:{fill:Dr.GRAY,stroke:Mh.GRAY}})}getTemplateParameters(){let t=super.getTemplateParameters();return t.set(nn,Dr.BLUE),t.set(Rn,Dr.BLUE),t}},xR=Ir(()=>new Oo),Ppe=bt.create(!0,"perf"),wo=(t,i,e)=>{Ppe("[CACHE] ChartTheme",t,i.name,e)},HO={"ag-default-dark":Ir(()=>new Gf),"ag-sheets-dark":Ir(()=>new zme,wo),"ag-polychroma-dark":Ir(()=>new Bme,wo),"ag-vivid-dark":Ir(()=>new Lpe,wo),"ag-material-dark":Ir(()=>new Fme,wo),"ag-financial-dark":Ir(()=>new Nme,wo),"ag-default":xR,"ag-sheets":Ir(()=>new Ume,wo),"ag-polychroma":Ir(()=>new jme,wo),"ag-vivid":Ir(()=>new Npe,wo),"ag-material":Ir(()=>new Vme,wo),"ag-financial":Ir(()=>new Pme,wo)},oD=Ir(Fpe,wo);function Fpe(t){if(t instanceof Oo)return t;if(!zpe(t))return xR();if(t==null||typeof t=="string"){let r=HO[t??"ag-default"];if(r)return r();throw new Error(`Cannot find theme \`${t}\`.`)}let{cleared:i,invalid:e}=mn(Vpe(t),Bpe,"theme");for(let r of e)j.warnOnce(String(r));let n=i?.baseTheme?oD(i.baseTheme):xR();return i?new n.constructor(i):n}function Vpe(t){if(!$t(t)||!$t(t.baseTheme))return t;let i=t,e,n,r=[];for(;typeof i=="object";)e??(e=i.palette),n??(n=i.params),i.overrides&&r.push(i.overrides),i=i.baseTheme;return{baseTheme:i,overrides:Xt(...r),params:n,palette:e}}var Bpe={baseTheme:We(B,hh),overrides:Ope,params:{accentColor:oe,axisColor:oe,backgroundColor:oe,borderColor:oe,borderRadius:z,chartBackgroundColor:oe,chartPadding:z,focusShadow:B,foregroundColor:oe,fontFamily:aw,fontSize:z,fontWeight:We(B,z),gridLineColor:oe,popupShadow:B,subtleTextColor:oe,textColor:oe,chromeBackgroundColor:oe,chromeFontFamily:aw,chromeFontSize:z,chromeFontWeight:We(B,z),chromeSubtleTextColor:oe,chromeTextColor:oe,buttonBackgroundColor:oe,buttonBorder:R,buttonFontWeight:z,buttonTextColor:oe,inputBackgroundColor:oe,inputBorder:R,inputTextColor:oe,menuBackgroundColor:oe,menuBorder:R,menuTextColor:oe,panelBackgroundColor:oe,panelSubtleTextColor:oe,tooltipBackgroundColor:oe,tooltipBorder:R,tooltipTextColor:oe,tooltipSubtleTextColor:oe,crosshairLabelBackgroundColor:oe,crosshairLabelTextColor:oe},palette:{fills:Le(jr),strokes:Le(oe),up:{fill:We(oe,nw),stroke:oe},down:{fill:We(oe,nw),stroke:oe},neutral:{fill:We(oe,nw),stroke:oe}}},jpe=K("ag-default","ag-default-dark","ag-sheets","ag-sheets-dark","ag-polychroma","ag-polychroma-dark","ag-vivid","ag-vivid-dark","ag-material","ag-material-dark","ag-financial","ag-financial-dark");function zpe(t){let{invalid:i}=mn({theme:t},{theme:We(jpe,hh)});for(let e of i)j.warnOnce(String(e));return i.length===0}var Yd={isEnterprise:!1},Qn="path",Co="pathArray",Zn="default",Do="override",gf="user",Pb="operation",Fb="operationValue",GO="dependency",D1="autoEnable",ZH="autoEnableValue";function WO(t){return dh(t)&&t>=0&&t<=1}function Vb(t,i){let e=t;for(let n of i){if(!(typeof n=="string"&&e!=null&&(typeof e=="object"||Array.isArray(e))&&n in e))return!1;e=e[n]}return!0}function Mo(t,i){let e=t;for(let n of i){if(!(typeof n=="string"&&e!=null&&(typeof e=="object"||Array.isArray(e))&&n in e))return;e=e[n]}return e}function S1(t,i,e){let n=i.length;if(n===0)return;let r=t,a=n-1,s=i[a];for(let o=0;o<a;o++){let l=i[o],c=i[o+1],d=r[l];(d==null||!ch(d))&&(d=isNaN(Number(c))?{}:[],r[l]=d),r=d}r[s]=e}var Upe=/^\d+$/;function T6(t){for(let i=t.length-1;i>=0;i--){let e=t[i];if(Upe.test(e))return i}return-1}function yv(t){let i=T6(t);return Number(t[i])}function em(t,i,e){let n=i.split("/"),r=[...t];i.startsWith("/")&&(r=[],n.shift());let a=!1;for(let s of n){if(s==="..")r.pop(),a||r.pop();else if(s===".")r.pop();else if(s==="$index"){let o=yv(t);if(isNaN(o))return Tl;r.push(`${o}`)}else if(s==="$prevIndex"){let o=yv(t);if(isNaN(o)||Number(o)<=0)return Tl;r.push(`${Number(o)-1}`)}else if(s.startsWith("$")){let o=e?.[s.slice(1)];if(o==null)return Tl;r.push(o)}else s.length!==0&&r.push(s);a=s===".."}return r}var Tl=Symbol("unresolvable-path"),Jd=Symbol("resolved-to-branch");function wf(t,i){if(t==null||typeof t!="object"||Array.isArray(t)||(i??(i=Object.keys(t)),i.length===0))return;let e=i[0];if(O6.has(e))return{operation:e,values:Array.isArray(t[e])?t[e]:[t[e]]}}function Hpe(t,i,e){let n=wf(t.getVertexValue(e));switch(n?.operation){case"$path":{let[r]=n.values,a=t.getPathArray(i),s=em(a,r);return s===Tl?void 0:t.findVertexAtPath(s)}case"$value":return i}}var Gpe={$hasSeriesType:{dependencies:M1,resolve:Wpe},$isChartType:{dependencies:M1,resolve:Ype},$isSeriesType:{dependencies:M1,resolve:$pe}};function M1(t,i,e){let n=t.findVertexAtPath(["series","0","type"]);n&&t.addEdge(i,n,GO)}function Wpe(t,i,e){let[n]=e,r=t.resolveVertexValue(i,n),a=t.getResolvedPath(["series"]);if(!Array.isArray(a))return!1;for(let s of a)if(s.type===r)return!0;return!1}function $pe(t,i,e){let[n]=e,r=t.resolveVertexValue(i,n);return t.getResolvedPath(["series","0","type"])===r}function Ype(t,i,e){let[n]=e,r=t.resolveVertexValue(i,n),a=t.getResolvedPath(["series","0","type"]);if(typeof a!="string")return!1;switch(r){case"cartesian":return Jn.isCartesian(a);case"polar":return Jn.isPolar(a);case"standalone":return Jn.isStandalone(a)}return!1}var Kpe={$foregroundBackgroundMix:qpe,$foregroundOpacity:Zpe,$interpolate:Qpe,$isGradient:Xpe,$isImage:Jpe,$isPattern:efe,$mix:tfe};function qpe(t,i,e){let[n]=e,r=t.resolveVertexValue(i,n),a=t.getParamValue("foregroundColor"),s=t.getParamValue("backgroundColor");if(typeof a=="string"&&typeof s=="string"&&WO(r))return wi.mix(wi.fromString(a),wi.fromString(s),1-r).toString();bt.inDevelopmentMode(()=>j.warnOnce(`\`$foregroundBackgroundMix\` json operation failed on [${String(r)}}}] at [${t.getPathArray(i).join(".")}], expecting a number between 0 and 1.`))}function Zpe(t,i,e){let[n]=e,r=t.resolveVertexValue(i,n),a=t.getParamValue("foregroundColor");if(typeof a=="string"&&WO(r)){let s=wi.fromString(a);return new wi(s.r,s.g,s.b,r).toString()}bt.inDevelopmentMode(()=>j.warnOnce(`\`$foregroundOpacity\` json operation failed on [${String(r)}}}] at [${t.getPathArray(i).join(".")}], expecting a number between 0 and 1.`))}function Qpe(t,i,e){let[n,r]=e,a=t.resolveVertexValue(i,n),s=t.resolveVertexValue(i,r);if(!(!qe(a)||!dh(s)))return wi.interpolate(a.map(o=>wi.fromString(o)),s).map(o=>o.toString())}function Xpe(t,i,e){let[n]=e,r=t.resolveVertexValue(i,n);return To(r)}function Jpe(t,i,e){let[n]=e,r=t.resolveVertexValue(i,n);return jh(r)}function efe(t,i,e){let[n]=e,r=t.resolveVertexValue(i,n);return qd(r)}function tfe(t,i,e){let[n,r,a]=e,s=t.resolveVertexValue(i,n),o=t.resolveVertexValue(i,r),l=t.resolveVertexValue(i,a),c=t.getPathArray(i),d=`\`$mix\` json operation failed on [${String(s)}, ${String(o)}, ${String(l)}] at [${c.join(".")}], expecting`,u=`${d} two colors and a number between 0 and 1.`;if(typeof o!="string"||!WO(l)){bt.inDevelopmentMode(()=>j.warnOnce(u));return}if(typeof s=="string")try{return wi.mix(wi.fromString(s),wi.fromString(o),l).toString()}catch{bt.inDevelopmentMode(()=>j.warnOnce(u));return}if(!To(s)){bt.inDevelopmentMode(()=>j.warnOnce(u));return}let h=s.colorStops;try{h=h?.map(m=>{let p;return typeof m.color=="string"&&(p=wi.mix(wi.fromString(m.color),wi.fromString(o),l).toString()),S(f({},m),{color:p})})}catch{bt.inDevelopmentMode(()=>j.warnOnce(`${d} a gradient, a color and a number between 0 and 1.`));return}return S(f({},s),{colorStops:h})}var ife={$rem:nfe};function nfe(t,i,e){let[n]=e,r=t.getVertexValue(n),a=t.getParamValue("fontSize");if(typeof a=="number"&&typeof r=="number")return Math.round(r*a);bt.inDevelopmentMode(()=>j.warnOnce(`\`$rem\` json operation failed on [${String(r)}] at [${t.getPathArray(i).join(".")}], expecting a number.`))}var rfe={$and:afe,$eq:sfe,$greaterThan:ofe,$if:lfe,$lessThan:cfe,$not:dfe,$or:ufe,$switch:hfe};function afe(t,i,e){for(let n of e)if(!t.resolveVertexValue(i,n))return!1;return!0}function sfe(t,i,e){let n,r=!0;for(let a of e){let s=t.resolveVertexValue(i,a);if(r)n=s,r=!1;else if(s!==n)return!1}return!0}function ofe(t,i,e){let[n,r]=e;return t.resolveVertexValue(i,n)>t.resolveVertexValue(i,r)}function lfe(t,i,e){let[n,r,a]=e,o=t.resolveVertexValue(i,n)?r:a,l=t.neighboursWithEdgeValue(o,Qn);if(l)for(let c of l)t.addEdge(i,c,Qn);return t.resolveVertexValue(i,o)}function cfe(t,i,e){let[n,r]=e;return t.resolveVertexValue(i,n)<t.resolveVertexValue(i,r)}function dfe(t,i,e){for(let n of e)return!t.resolveVertexValue(i,n)}function ufe(t,i,e){for(let n of e)if(t.resolveVertexValue(i,n))return!0;return!1}function hfe(t,i,e){let[n,r,...a]=e,s=t.resolveVertexValue(i,n);for(let o of a){let l=t.getVertexValue(o);if(!Array.isArray(l))continue;let[c,d]=l;if(s===c||Array.isArray(c)&&c.includes(s))return d}return t.getVertexValue(r)}var mfe={$isUserOption:pfe,$isThemeOverride:ffe,$palette:gfe,$mapPalette:yfe,$path:{dependencies:XH,resolve:bfe},$pathString:{dependencies:XH,resolve:vfe},$ref:_fe};function pfe(t,i,e){let[n,r,a]=e,s=t.neighboursWithEdgeValue(n,Qn);if(s)for(let o of s){let l=t.findNeighbour(o,Zn);if(l&&QH(t,i,l))return t.resolveVertexValue(i,r)}else if(QH(t,i,n))return t.resolveVertexValue(i,r);return t.resolveVertexValue(i,a)}function QH(t,i,e){let n=t.resolveVertexValue(i,e);if(!Gi(n))throw new Error(`\`$isUserOption\` json operation failed on [${String(n)}], expecting a string.`);let r=t.getPathArray(i),a=em(r,n);return a===Tl?!1:t.hasUserOption(a)}function ffe(t,i,e){let[n,r,a]=e,s=t.resolveVertexValue(i,n);if(!Gi(s))throw new Error(`\`$isThemeOverride\` json operation failed on [${String(s)}], expecting a string.`);let o=t.getPathArray(i),l=em(o,s);if(l!==Tl)return t.hasThemeOverride(l)?t.resolveVertexValue(i,r):t.resolveVertexValue(i,a)}var R6=new Set(["fill","fillFallback","stroke","gradient","range2"]);function gfe(t,i,e){let[n]=e,r=t.resolveVertexValue(i,n);if(!Gi(r))return;if(R6.has(r)){let s=t.getPathArray(i),o=yv(s);if(isNaN(o))return;switch(r){case"fill":return vo(t.palette.fills,1,o)[0];case"fillFallback":return vo(t.palette.fillsFallback,1,o)[0];case"stroke":return vo(t.palette.strokes,1,o)[0];case"gradient":return vo(t.palette.sequentialColors,1,o)[0];case"range2":return vo(t.palette.fills,2,o)}return}if(r==="gradients")return t.palette.sequentialColors;let a=Mo(t.palette,r.split("."));return Array.isArray(a)?[...a]:typeof a=="object"?f({},a):a}function yfe(t,i,e){let[n]=e,r=t.resolveVertexValue(i,n);if(!Gi(r))return;if(R6.has(r)){let s=t.getPathArray(i),o=yv(s),l=0,c=["series","0","type"];for(let d=0;d<o;d++){c[1]=`${d}`;let u=t.getResolvedPath(c);(u==="map-shape-background"||u==="map-line-background")&&l++}if(o-=l,isNaN(o))return;switch(r){case"fill":return vo(t.palette.fills,1,o)[0];case"fillFallback":return vo(t.palette.fillsFallback,1,o)[0];case"stroke":return vo(t.palette.strokes,1,o)[0];case"gradient":return vo(t.palette.sequentialColors,1,o)[0];case"range2":return vo(t.palette.fills,2,o)}return}if(r==="gradients")return t.palette.sequentialColors;let a=Mo(t.palette,r.split("."));return Array.isArray(a)?[...a]:typeof a=="object"?f({},a):a}function XH(t,i,e){let[n]=e,r=t.getVertexValue(n);if(Gi(r)){let a=t.getPathArray(i),s=em(a,r);if(s===Tl)return;let o=t.findVertexAtPath(s);o&&t.addEdge(i,o,GO)}}function bfe(t,i,e){let n=e.length>1,r=e.length>2,[a,s,o]=e,l=t.resolveVertexValue(i,a),c=r?t.resolveVertexValue(i,o):null;if(!Gi(l))throw new Error(`\`$path\` json operation failed on [${String(l)}], expecting a string.`);let d=t.getPathArray(i),u=em(d,l);if(u===Tl)return;let h=c?Mo(c,u):t.getResolvedPath(u);if(h!=null)return h;if(n)return t.resolveVertexValue(i,s)}function vfe(t,i,e){let[n,r]=e,a=t.resolveVertexValue(i,n);if(!Gi(a))throw new Error(`\`$path\` json operation failed on [${String(a)}], expecting a string.`);let s;r&&(s=t.graftAndResolveOrphan(i,r));let o=t.getPathArray(i),l=em(o,a,s);if(l===Tl)throw new Error(`Unresolvable path [${a}] at [${o.join(".")}]`);return l}function _fe(t,i,e){let[n]=e,r=t.getVertexValue(n);return t.getParamValue(r)}var xfe={$apply:Cfe,$applyTheme:wfe,$findFirstSiblingNotOperation:Dfe,$map:Sfe,$merge:Mfe,$omit:Ife,$size:kfe,$shallow:Afe,$value:Efe};function Cfe(t,i,e){let[n,r,a,s]=e,o=t.getVertexValue(n);if(!yt(o))return;let l=r?t.getVertexValue(r):void 0,c=t.neighboursWithEdgeValue(i,Qn),d=a?t.resolveVertexValue(i,a):void 0,u=s?t.resolveVertexValue(i,s):void 0;if((!c||c.length===0)&&l!=null)if(wf(l)){let h=t.resolveVertexValue(i,r);yt(h)&&t.graftObject(i,h,[d,u])}else t.graftObject(i,l,[d,u]);if(!c)return Jd;for(let h of c){let m=t.neighboursWithEdgeValue(h,Qn);if(!m||m.length===0){let p=t.addVertex({});t.addEdge(h,p,Zn)}else t.graftObject(h,o,[d,u])}return Jd}function wfe(t,i,e){let[n,r,a]=e,s=t.getVertexValue(n);if(typeof s=="string"&&(s=[s]),!Array.isArray(s))return;let o=t.neighboursWithEdgeValue(i,Qn),l=a?t.getVertexValue(a):[],c=Array.isArray(l)?new Set(l):new Set;if(!o)return Jd;for(let d of o){let u=t.graftAndResolveOrphan(d,r);for(let h of s){let m=em([],h,u);m!==Tl&&t.graftConfig(d,m,c)}}return Jd}function Dfe(t,i,e){let[n]=e,r=t.getPathArray(i),a=T6(r);if(a<0)return t.resolveVertexValue(i,n);let s=r.slice(0,a),o=t.findVertexAtPath(s);if(!o)return t.resolveVertexValue(i,n);let l=t.neighboursWithEdgeValue(o,Qn);if(l)for(let c=0;c<l.length;c++){if(`${c}`===r[a])continue;let d=s.concat([`${c}`,...r.slice(a+1)]),u=t.findVertexAtPath(d);if(!u)continue;let h=t.findNeighbourValue(u,gf);if(h!=null)return h;let m=t.findNeighbourValue(u,Do);if(m!=null)return m}return t.resolveVertexValue(i,n)}function Sfe(t,i,e){let[n,r]=e,a=t.getVertexValue(n),s=t.resolveVertexValue(i,r);if(!Array.isArray(s))return;if(!wf(a))return s.map(()=>a);let o=0;for(let l of s)t.graftValue(i,`${o}`,a,l),o++;return Jd}function Mfe(t,i,e){for(let n of e){let r=t.resolveVertexValue(i,n);yt(r)&&t.graftObject(i,r)}return Jd}function Ife(t,i,e){let[n,r]=e,a=t.getVertexValue(n);if(!Array.isArray(a)){let o=Hpe(t,i,r);if(!o)return;a=t.resolveVertexValue(o,n)}let s=t.resolveVertexValue(i,r);if(!(!Array.isArray(a)||!yt(s)))return de(s,a)}function kfe(t,i,e){let[n]=e,r=t.resolveVertexValue(i,n);return ch(r)?Object.keys(r).length:0}function Afe(t,i,e){let n=[];for(let r of e)n.push(t.getVertexValue(r));return n}function Efe(t,i,e){let[n]=e,r=t.getVertexValue(n),a=t.getPathArray(i);if(r==="$index")return yv(a);if(r==="$1")return t.resolveValue$1(a)}var Tfe={$isEven:Rfe,$mul:Ofe,$round:Lfe};function Rfe(t,i,e){let[n]=e,r=t.resolveVertexValue(i,n);return isNaN(Number(r))?!1:Number(r)%2===0}function Ofe(t,i,e){let n;for(let r of e){let a=t.resolveVertexValue(i,r);n==null?n=Number(a):n*=Number(a)}return n}function Lfe(t,i,e){for(let n of e)return Math.round(Number(t.resolveVertexValue(i,n)))}var Wb=f(f(f(f(f(f(f({},Gpe),Kpe),ife),mfe),rfe),Tfe),xfe),O6=new Set(Object.keys(Wb));function Bb(t){return O6.has(t)}var Nfe=Ir(Pfe);function Pfe(t,i){return new L6(t.config,i,t.params,t.palette,t.overrides,t.getTemplateParameters())}var Ffe=(()=>{let t=class So extends EU{constructor(e={},n={},r=void 0,a=void 0,s={},o=new Map){super(Qn,Pb),this.config=e,this.userOptions=n,this.overrides=s,this.internalParams=o,this.resolvedParams={},this.resolvedAnnotations={},this.value$1={},this.cachedPathVertices=new Map,this.EMPTY_PATH_ARRAY_VERTEX=this.addVertex([]),this.root=this.addVertex("root"),this.params=this.addVertex("params"),this.annotations=this.addVertex("annotations"),this.config=e,this.overrides=s,this.internalParams=o,this.palette=a?qi(a):{},this.palette.type=$t(n?.theme)?i$(n.theme?.palette):"inbuilt";let c=n.series?.[0]?.type??"line",d=Io.cloneDefaultAxes(c);n.axes??(n.axes=d?.axes??[]),this.buildGraphFromObject(this.root,gf,de(n,["theme"])),this.buildGraphFromObject(this.root,Zn,de(e[c],So.COMPLEX_KEYS));let u=s?de(s[c],So.COMPLEX_KEYS):{};Object.keys(u).length>0&&this.buildGraphFromObject(this.root,Do,u);let h=s?de(s.common,So.COMPLEX_KEYS):{};Object.keys(h).length>0&&this.buildGraphFromObject(this.root,Do,Jn.isCartesian(c)?h:de(h,["zoom","navigator"])),r&&this.buildGraphFromObject(this.params,Zn,r);let m=this.findNeighbourWithValue(this.root,"axes",Qn),p=this.findNeighbourWithValue(this.root,"series",Qn);m&&this.buildGraphFromObject(m,Zn,{$applyTheme:[["/$seriesType/axes/$axisType/$position","/$seriesType/axes/$axisType"],{seriesType:{$path:["/series/0/type","line"]},axisType:{$path:["./type","category"]},position:{$path:["./position"]}},["top","right","bottom","left"]]}),p&&this.buildGraphFromObject(p,Zn,{$applyTheme:["/$seriesType/series",{seriesType:{$path:["./type","line"]}}]});let g=de(e[c]?.annotations??{},So.ANNOTATIONS_OPTIONS_KEYS);Object.keys(g).length>0&&this.buildGraphFromObject(this.annotations,Zn,g);let b=de(s?.common?.annotations??{},So.ANNOTATIONS_OPTIONS_KEYS);Object.keys(b).length>0&&this.buildGraphFromObject(this.annotations,Do,b);let v=U1(e[c]?.annotations??{},So.ANNOTATIONS_OPTIONS_KEYS);Object.keys(v).length>0&&this.buildGraphFromObject(this.root,Zn,{annotations:v});let _=U1(s?.common?.annotations??{},So.ANNOTATIONS_OPTIONS_KEYS);Object.keys(_).length>0&&this.buildGraphFromObject(this.root,Do,{annotations:_}),this.buildDependencyGraph()}clear(){super.clear(),this.cachedPathVertices.clear()}resolve(){return this.resolved={},this.resolvedParams={},this.resolvedAnnotations={},this.resolveVertex(this.params,this.resolvedParams),this.resolveVertex(this.annotations,this.resolvedAnnotations),this.resolveVertex(this.root),this.resolved}resolveParams(){return this.resolvedParams}resolveAnnotationThemes(){return this.resolvedAnnotations}findVertexAtPath(e){let n=e.join(".");if(this.cachedPathVertices.has(n))return this.cachedPathVertices.get(n);let r=this.findVertexAlongEdge(this.root,e,Qn);if(r)return this.cachedPathVertices.set(n,r),r}hasUserOption(e){return Vb(this.userOptions,e)}hasThemeOverride(e){if(e[0]==="axes"&&e.length>1){let n=this.getResolvedPath(["axes",e[1],"type"]);if(Vb(this.overrides,["common","axes",n,...e.slice(2)]))return!0;let r=this.getResolvedPath(["series","0","type"]);return Vb(this.overrides,[r,"axes",n,...e.slice(2)])}if(e[0]==="series"&&e.length>1){let n=this.getResolvedPath(["series",e[1],"type"]);return Vb(this.overrides,[n,"series",...e.slice(2)])}return Vb(this.overrides,e)}getParamValue(e){if(this.resolvedParams[e]!=null)return this.resolvedParams[e];let n=this.findVertexAlongEdge(this.params,[e],Qn);if(!n)return;let r=this.findNeighbour(n,Zn);if(!r)return;let a=this.resolveVertexValue(n,r);return this.resolvedParams[e]=a,a}getPathArray(e){return this.findNeighbourValue(e,Co)??[]}getResolvedPath(e){return Mo(this.resolved,e)}resolveVertexValue(e,n){this.resolveVertexDependencies(n);let r=this.findNeighbourValue(n,Pb);if(r&&Bb(r)){let s=this.neighboursWithEdgeValue(n,Fb),o=Wb[r],c=(typeof o=="function"?o:o.resolve)?.(this,e,s??[]);return c===Jd?void 0:c}let a=this.getVertexValue(n);if(Array.isArray(a)){let s={};this.resolveVertexChildren(n,s),a=Mo(s,this.getPathArray(e))}return this.resolveValueOrSymbol(a)}resolveValue$1(e){return Mo(this.value$1,e)}graftConfig(e,n,r){let a=Mo(this.config,n),s=this.findNeighbour(e,Co);if(yt(a)&&this.buildGraphFromObject(e,Zn,a,s,void 0,r),this.overrides){let o=Mo(this.overrides,n);yt(o)&&this.buildGraphFromObject(e,Do,o,s,void 0,r);let l=Mo(this.overrides,["common",...n.slice(1)]);yt(l)&&this.buildGraphFromObject(e,Do,l,s,void 0,r)}this.buildDependencyGraph()}graftObject(e,n,r){let a=this.findNeighbour(e,Co);if(this.buildGraphFromObject(e,Zn,n,a),this.overrides&&r)for(let s of r){if(s==null)continue;let o=Mo(this.overrides,s);o&&this.buildGraphFromObject(e,Do,o,a)}this.buildDependencyGraph()}graftValue(e,n,r,a){let s=[...this.getPathArray(e),n];S1(this.value$1,s,a);let o=this.findVertexAtPath(s)??this.addVertex(n);this.buildGraphFromValue(e,o,Zn,s,r),this.buildDependencyGraph()}graftAndResolveOrphan(e,n){let r={},a=this.addVertex(r),s=this.getPathArray(e);return this.graftAndResolveChildren(n,a,s,[]),this.resolveVertex(a,r),Mo(r,s)}buildGraphFromObject(e,n,r,a,s=So.SHALLOW_KEYS,o){let l=Object.keys(r),c=wf(r,l);if(c){let g=this.addVertex(r);this.addEdge(e,g,n),this.buildGraphFromOperation(g,n,c,a);return}if(l.length===0){this.addEdge(e,this.addVertex(Array.isArray(r)?[]:{}),n),this.buildGraphAutoEnable(e,n,r,void 0);return}let d=this.getVertexChildrenByKey(e),u=a?this.getVertexValue(a):[],h,m=[...u],p=u.length;for(let g of l){if(o?.has(g))continue;let b=d?.get(g)??this.addVertex(g);m[p]=g,s?.has(g)?this.buildShallowGraphFromValue(e,b,n,m,r[g]):this.buildGraphFromValue(e,b,n,m,r[g],s),g==="enabled"&&(h=b)}this.buildGraphAutoEnable(e,n,r,h)}buildGraphAutoEnable(e,n,r,a){if(n===Zn&&!a||n===gf&&a||n!==Zn&&n!==gf&&n!==Do)return;let s=this.findNeighbour(e,D1);s||(s=this.addVertex(D1),this.addEdge(e,s,D1)),a&&this.addEdge(a,s,ZH);let{enabled:o,_enabledFromTheme:l}=r;this.addEdge(s,this.addVertex({enabled:o,_enabledFromTheme:l,keys:Object.keys(r).length}),n)}getVertexChildrenByKey(e){let n=this.neighboursWithEdgeValue(e,Qn);if(!n)return;let r=new Map;for(let a of n)r.set(this.getVertexValue(a),a);return r}buildGraphFromValue(e,n,r,a,s,o){this.addEdge(e,n,Qn);let l=this.findNeighbour(n,Co);l||(l=this.addVertex([...a]),this.addEdge(n,l,Co));let c=wf(s);if(c){let d=this.addVertex(s);this.addEdge(n,d,r),this.addEdge(d,l,Co),this.buildGraphFromOperation(d,r,c,l)}else if(ch(s))this.buildGraphFromObject(n,r,s,l,o);else{let d=this.addVertex(s);this.addEdge(n,d,r)}}buildShallowGraphFromValue(e,n,r,a,s){this.addEdge(e,n,Qn);let o=this.findNeighbour(n,Co);o||(o=this.addVertex([...a]),this.addEdge(n,o,Co));let l=this.addVertex(s);this.addEdge(n,l,r)}buildGraphFromOperation(e,n,r,a){let s=this.addVertex(r.operation);this.addEdge(e,s,Pb);for(let o of r.values)this.buildGraphFromOperationValue(e,o,n,a)}buildGraphFromOperationValue(e,n,r,a=this.EMPTY_PATH_ARRAY_VERTEX){let s=this.addVertex(n);this.addEdge(e,a,Co),this.addEdge(e,s,Fb);let o=wf(n);o?this.buildGraphFromOperation(s,r,o,a):ch(n)&&this.buildGraphFromObject(s,r,n,a)}buildDependencyGraph(){for(let e=0;e<this.pendingProcessingEdgesFrom.length;e++){let n=this.pendingProcessingEdgesFrom[e],r=this.pendingProcessingEdgesTo[e],a=this.getVertexValue(r);if(!Bb(a))continue;let s=this.neighboursWithEdgeValue(n,Fb),o=Wb[a];(typeof o=="function"?void 0:o.dependencies)?.(this,n,s??[])}this.pendingProcessingEdgesFrom=[],this.pendingProcessingEdgesTo=[]}resolveVertex(e,n=this.resolved){let r=this.getPathArray(e);this.resolveVertexInEdgePriority(e,n,r),this.resolveVertexAutoEnable(e,n,r),this.resolveVertexChildren(e,n)}resolveVertexInEdgePriority(e,n,r){let a=this.neighboursWithEdgeValue(e,Qn),[s]=So.EDGE_PRIORITY;for(let o of So.EDGE_PRIORITY){let l=this.findNeighbour(e,o);if(l==null)continue;let c=this.resolveVertexValueInternal(e,l);if(!(c==null&&o!==s)&&!(a&&a.length>0&&Array.isArray(c)&&o!==s)){if(r.length===0){if(c==null)continue;this.resolved=c}else S1(n,r,c);break}}}resolveVertexValueInternal(e,n){this.resolveVertexDependencies(n);let r=this.findNeighbourValue(n,Pb);if(r&&Bb(r)){let a=this.neighboursWithEdgeValue(n,Fb),s=Wb[r],l=(typeof s=="function"?s:s.resolve)?.(this,e,a??[]);return l===Jd?void 0:l}return this.resolveValueOrSymbol(this.getVertexValue(n))}resolveVertexAutoEnable(e,n,r){let a=this.neighboursWithEdgeValue(e,ZH)?.[0];if(!a)return;let s=this.findNeighbourValue(a,Zn),o=this.findNeighbourValue(a,Do),l=this.findNeighbourValue(a,gf);l&&l.enabled==null&&!s?._enabledFromTheme&&!o?._enabledFromTheme&&S1(n,r,!0)}resolveVertexChildren(e,n){let r=this.neighboursWithEdgeValue(e,Qn);if(r)for(let a of r){let s=this.getVertexValue(a);r.length>1&&Bb(s)||s!=="_enabledFromTheme"&&this.resolveVertex(a,n)}}resolveVertexDependencies(e){let n=this.neighboursWithEdgeValue(e,GO);if(n)for(let r of n)this.resolveVertex(r)}graftAndResolveChildren(e,n,r,a){let s=this.neighboursWithEdgeValue(e,Qn);if(s)for(let o of s){let l=this.getVertexValue(o),c=[...r,l],d=[...a,l],u=this.addVertex(l),h=this.findNeighbourValue(o,Zn);this.addEdge(n,u,Qn);let m=this.addVertex(c);if(this.addEdge(u,m,Co),yt(h)){this.buildGraphFromObject(u,Zn,h,m);let p=this.findNeighbour(u,Zn);this.addEdge(p,this.addVertex(c),Co);let g=this.findNeighbourValue(p,Pb);if(Bb(g)){let b=this.neighboursWithEdgeValue(p,Fb),v=Wb[g];(typeof v=="function"?void 0:v.dependencies)?.(this,p,b??[])}}this.graftAndResolveChildren(o,u,c,d)}}resolveValueOrSymbol(e){return typeof e=="symbol"&&this.internalParams?.has(e)?this.internalParams.get(e):e}};return t.EDGE_PRIORITY=[gf,Do,Zn],t.SHALLOW_KEYS=new Set(["context","data","topology"]),t.COMPLEX_KEYS=["annotations","axes","series"],t.ANNOTATIONS_OPTIONS_KEYS=["axesButtons","data","enabled","optionsToolbar","snap","toolbar","xKey","volumeKey"],t})(),L6=Ffe,JH=t=>`'${t}'`,tm=class ur{constructor(i,e,n,r,a,s,o=!1,l){this.themeParameters={},this.optionMetadata=a??{},this.processedOverrides=n??{};let c=null;i instanceof ur?(c=i,this.specialOverrides=c.specialOverrides,s===void 0&&(s=Ec(c.userOptions,e,ur.JSON_DIFF_OPTS)),this.userOptions=qi(iv(s,c.userOptions),S(f({},ur.OPTIONS_CLONE_OPTS_SLOW),{seen:[]}))):(this.userOptions=qi(i??e,S(f({},ur.OPTIONS_CLONE_OPTS_SLOW),{seen:[]})),this.specialOverrides=this.specialOverridesDefaults(f({},r))),o&&this.removeLeftoverSymbols(this.userOptions);let d,u,h,m,p,g;if(!o&&s!==void 0&&ur.isFastPathDelta(s)&&c!=null?({activeTheme:d,processedOptions:u,fastDelta:h}=this.fastSetup(s,c),m=c.themeParameters,p=c.annotationThemes):(ur.perfDebug("ChartOptions.slowSetup()"),{activeTheme:d,processedOptions:u,themeParameters:m,annotationThemes:p,googleFonts:g}=this.slowSetup(n,s,o)),this.activeTheme=d,this.processedOptions=u,this.fastDelta=h??void 0,this.themeParameters=m,this.annotationThemes=p,this.googleFonts=g,l!==void 0&&typeof l=="number"&&!isNaN(l)){let b=performance.now();this.optionsProcessingTime=b-l}bt.inDevelopmentMode(()=>Cc(this))}static isFastPathDelta(i){for(let e of Object.keys(i??{}))if(!this.FAST_PATH_OPTIONS.has(e))return ur.perfDebug("ChartOptions.isFastPathDelta() - slow path required due to presence of: ",e),!1;return ur.perfDebug("ChartOptions.isFastPathDelta() - fast path possible."),!0}fastSetup(i,e){let{activeTheme:n,processedOptions:r}=e,{presetType:a}=this.optionMetadata;if(a!=null&&i?.data!=null){let o=cr.getPresetModule(a);if(o?.processData){let{series:l,data:c}=o.processData(i.data);i=Xt({series:l,data:c},i)}}this.fastSeriesSetup(i,r);let s=Xt(i,r);return ur.debug("ChartOptions.fastSetup() - processed options",s),{activeTheme:n,processedOptions:s,fastDelta:i}}fastSeriesSetup(i,e){i?.series&&(i.series?.every((n,r)=>aG(n,e.series?.[r]??{}))?delete i.series:i.series=i.series.map((n,r)=>iv(n,e.series?.[r]??{})))}slowSetup(i,e,n=!1){let r=qi(this.userOptions,ur.OPTIONS_CLONE_OPTS_FAST);e&&(r=Xt(e,r),n&&this.removeLeftoverSymbols(r));let{presetType:a}=this.optionMetadata;if(a!=null){let m=cr.getPresetModule(a);if(m){let{validate:p=mn}=m,g=r,b=r.type,v=b!=null?oD(r.theme).presets[b]:void 0,{cleared:_,invalid:w}=p(g,m.options,"");w.forEach(D=>j.warn(D)),ph(w,"")?r={}:(ur.debug(">>> AgCharts.createOrUpdate() - applying preset",_),r=m.create(_,v,()=>this.activeTheme))}}this.soloSeriesIntegrity(r),Yd.isEnterprise||zH(r);let s=oD(r.theme);if(a!=null&&s.templateTheme(r,!1),this.validateSeriesOptions(r),this.chartDef=cr.detectChartDefinition(r),!this.chartDef.placeholder){let{validate:m=mn}=this.chartDef,{cleared:p,invalid:g}=m(r,this.chartDef.options,"");g.forEach(b=>j.warn(b)),r=p}this.validateAxesOptions(r),this.removeDisabledOptions(r);let o=this.processFonts(s.params);o=this.processFonts(r,o),this.processSeriesOptions(r);let l=Nfe(s,r),c=l.resolve(),d=l.resolveParams(),u=l.resolveAnnotationThemes();l.clear();let h=Xt(i,c);return wme(h),Yd.isEnterprise||zH(h,!0),this.validateSeriesOptions(h),this.validateAxesOptions(h),this.validatePluginOptions(h),this.processMiniChartSeriesOptions(h),h.loadGoogleFonts||o.clear(),ur.debug(()=>["ChartOptions.slowSetup() - processed options",qi(h)]),{activeTheme:s,processedOptions:h,themeParameters:d,annotationThemes:u,googleFonts:o}}validatePluginOptions(i){for(let e of cr.listModulesByType(Ib.Plugin)){let n=e.name;if(n in i&&(!e.chartType||e.chartType===this.chartDef?.name)){let{cleared:r,invalid:a}=mn(i[n],e.options,e.name);a.forEach(s=>j.warn(s)),i[n]=r}}}validateSeriesOptions(i){let e=this.chartDef?.name,n=[],r=i.series?.length??0,a;for(let s=0;s<r;s++){let o=`series[${s}]`,l=i.series[s],c=cr.getSeriesModule(l.type);if(c==null){a??(a=Hp(Array.from(cr.listModulesByType(Ib.Series)).filter(m=>!e||m.chartType===e).map(m=>m.name),"or",JH)),j.warn(l.type==null?`Option \`${o}.type\` is required and has not been provided; expecting ${a}, ignoring.`:`Unknown type \`${l.type}\` at \`${o}.type\`; expecting ${a}, ignoring.`);continue}else if(e&&c.chartType!==e){j.warn(`Series type \`${c.name}\` at \`${o}.type\` is not supported by chart type \`${e}\`, ignoring.`);continue}let{validate:d=mn}=c,{cleared:u,invalid:h}=d(l,c.options,o);h.forEach(m=>j.warn(m)),ph(h,o)||n.push(u)}i.series=n}validateAxesOptions(i){if(!("axes"in i)||!i.axes)return;let e=this.chartDef?.name,n=[],r=i.axes.length??0,a;for(let s=0;s<r;s++){let o=`axes[${s}]`,l=i.axes[s],c=cr.getAxisModule(l.type);if(c==null){a??(a=Hp(Array.from(cr.listModulesByType(Ib.Axis)).filter(m=>m.chartType===e).map(m=>m.name),"or",JH)),j.warn(`Unknown type \`${l.type}\` at  \`${o}.type\`; expecting one of ${a}, ignoring all axes options.`),delete i.axes;break}else if(c.chartType!==e){j.warn(`Axis type \`${c.name}\` at  \`${o}.type\` is not supported by chart type \`${e}\`, ignoring.`);break}let{validate:d=mn}=c,{cleared:u,invalid:h}=d(l,c.options,o);h.forEach(m=>j.warn(m)),ph(h,o)||n.push(u)}i.axes=n}diffOptions(i){return this===i?{}:i==null?this.processedOptions:this.fastDelta??Ec(i.processedOptions,this.processedOptions,ur.JSON_DIFF_OPTS)}optionsType(i){return i.series?.[0]?.type??"line"}processSeriesOptions(i){let e=i.series?.map(n=>{n.type??(n.type="line");let a=!!cr.getSeriesModule(n.type)?.options.visible;return Xt(this.getSeriesGroupingOptions(n),n,a&&{visible:!0})});i.series=this.setSeriesGroupingOptions(e??[])}processMiniChartSeriesOptions(i){let e=i.navigator?.miniChart?.series;e!=null&&(i.navigator.miniChart.series=this.setSeriesGroupingOptions(e))}getSeriesGroupingOptions(i){let e=Io.isGroupable(i.type),n=Io.isStackable(i.type),r=Io.isStackedByDefault(i.type);i.grouped&&!e&&j.warnOnce(`unsupported grouping of series type "${i.type}".`),(i.stacked||i.stackGroup)&&!n&&j.warnOnce(`unsupported stacking of series type "${i.type}".`);let{grouped:a,stacked:s}=i;return s??(s=(r||i.stackGroup!=null)&&!(e&&a)),a??(a=!0),{stacked:n&&s,grouped:e&&a&&!(n&&s)}}setSeriesGroupingOptions(i){let e=this.getSeriesGrouping(i);ur.debug("ChartOptions.setSeriesGroupingOptions() - series grouping: ",e);let n={},r=e.reduce((a,s)=>{var o;return s.groupType==="default"||(a[o=s.seriesType]??(a[o]=0),a[s.seriesType]+=s.groupType==="stack"?1:s.series.length),a},{});return e.flatMap(a=>{var s;switch(n[s=a.seriesType]??(n[s]=0),a.groupType){case"stack":{let o=n[a.seriesType]++;return a.series.map((l,c)=>Object.assign(l,{seriesGrouping:{groupId:a.groupId,groupIndex:o,groupCount:r[a.seriesType],stackIndex:c,stackCount:a.series.length}}))}case"group":return a.series.map(o=>Object.assign(o,{seriesGrouping:{groupId:a.groupId,groupIndex:n[a.seriesType]++,groupCount:r[a.seriesType],stackIndex:0,stackCount:0}}))}return a.series}).map(l=>{var c=l,{stacked:a,grouped:s}=c,o=ci(c,["stacked","grouped"]);return o})}getSeriesGroupId(i){return[i.type,i.xKey,i.stacked?i.stackGroup??"stacked":"grouped"].filter(Boolean).join("-")}getSeriesGrouping(i){let e=new Map;return i.reduce((n,r)=>{let a=r.type;if(!r.stacked&&!r.grouped)n.push({groupType:"default",seriesType:a,series:[r],groupId:"__default__"});else{let s=this.getSeriesGroupId(r);if(!e.has(s)){let l={groupType:r.stacked?"stack":"group",seriesType:a,series:[],groupId:s};e.set(s,l),n.push(l)}e.get(s).series.push(r)}return n},[])}soloSeriesIntegrity(i){if(!qe(i.series))return;let e=i.series;if(e&&e.length>1&&e.some(n=>Io.isSolo(n.type))){let n=this.optionsType(i);if(Io.isSolo(n))j.warn(`series[0] of type '${n}' is incompatible with other series types. Only processing series[0]`),i.series=e.slice(0,1);else{let{solo:r,nonSolo:a}=Wp(e,o=>Io.isSolo(o.type)?"solo":"nonSolo"),s=gU(r.map(o=>o.type)).join(", ");j.warn(`Unable to mix these series types with the lead series type: ${s}`),i.series=a}}}static processFontOptions(i,e,n,r=new Set){if(typeof i=="object"&&"fontFamily"in i)if(Array.isArray(i.fontFamily)){let a=[];for(let s of i.fontFamily)typeof s=="object"&&"googleFont"in s?(a.push(s.googleFont),r?.add(s.googleFont)):a.push(s);i.fontFamily=a.join(", ")}else typeof i.fontFamily=="object"&&"googleFont"in i.fontFamily&&(i.fontFamily=i.fontFamily.googleFont,r?.add(i.fontFamily));return r}processFonts(i,e=new Set){return Hd(i,ur.processFontOptions,new Set(["data","theme"]),void 0,void 0,e)}static removeDisabledOptionJson(i){"enabled"in i&&i.enabled===!1&&Object.keys(i).forEach(e=>{e!=="enabled"&&delete i[e]})}removeDisabledOptions(i){Hd(i,ur.removeDisabledOptionJson,new Set(["data","theme","contextMenu"]))}static removeLeftoverSymbolsJson(i){if(!(!i||!$t(i)))for(let e of Object.keys(i)){let n=i[e];Up(n)&&delete i[e]}}removeLeftoverSymbols(i){Hd(i,ur.removeLeftoverSymbolsJson,new Set(["data"]))}specialOverridesDefaults(i){if(i.window==null?i.window=Je():nU(i.window),i.document==null?i.document=Br():iU(i.document),i.window==null)throw new Error("AG Charts - unable to resolve global window");if(i.document==null)throw new Error("AG Charts - unable to resolve global document");return i}};tm.OPTIONS_CLONE_OPTS_SLOW={shallow:new Set(["data","container"]),assign:new Set(["context","theme"])};tm.OPTIONS_CLONE_OPTS_FAST={shallow:new Set(["container"]),assign:new Set(["data","context","theme"])};tm.JSON_DIFF_OPTS=new Set(["data"]);tm.perfDebug=bt.create(!0,"perf");tm.FAST_PATH_OPTIONS=new Set(["data","width","height","container"]);tm.debug=bt.create(!0,"opts");var Jb=tm,e5=bt.create(!0,"opts"),Ih="AG Charts - Chart was destroyed, cannot perform request.",Lw=(()=>{let t=class{constructor(e,n,r){this.factoryApi=n,this.licenseManager=r,this.chart=e}update(e){return L(this,null,function*(){if(!this.chart)throw new Error(Ih);return e5.group("AgChartInstance.update()",()=>L(this,null,function*(){let n=bt.check("scene:stats","scene:stats:verbose")?performance.now():void 0;this.factoryApi.update(e,this,void 0,n),yield this.chart?.waitForUpdate()}))})}updateDelta(e){return L(this,null,function*(){if(!this.chart)throw new Error(Ih);return e5.group("AgChartInstance.updateDelta()",()=>L(this,null,function*(){let n=bt.check("scene:stats","scene:stats:verbose")?performance.now():void 0;this.factoryApi.updateUserDelta(this,e,n),yield this.chart?.waitForUpdate()}))})}getOptions(){if(!this.chart)throw new Error(Ih);let e=qi(this.chart.getOptions(),Jb.OPTIONS_CLONE_OPTS_FAST);for(let n of Object.keys(e))n.startsWith("_")&&delete e[n];return e}waitForUpdate(){if(!this.chart)throw new Error(Ih);return this.chart.waitForUpdate()}download(e){return L(this,null,function*(){if(!this.chart)throw new Error(Ih);let n=yield this.prepareResizedChart(this,this.chart,e);try{n.chart?.download(e?.fileName,e?.fileFormat)}finally{n.destroy()}})}__toSVG(e){return L(this,null,function*(){if(!this.chart)throw new Error(Ih);let n=yield this.prepareResizedChart(this,this.chart,f({width:600,height:300},e));try{return n?.chart?.toSVG()}finally{n?.destroy()}})}getImageDataURL(e){return L(this,null,function*(){if(!this.chart)throw new Error(Ih);let n=yield this.prepareResizedChart(this,this.chart,e);try{return n.chart.getCanvasDataURL(e?.fileFormat)}finally{n.destroy()}})}getState(){return this.factoryApi.caretaker.save(...this.getEnabledOriginators())}setState(e){return L(this,null,function*(){let{chart:n}=this;if(!n)return;let r=this.getEnabledOriginators();if(!r.includes(n.ctx.legendManager)){yield this.setStateOriginators(e,r);return}yield this.setStateOriginators(e,r.filter(a=>a!==n.ctx.zoomManager)),yield this.setStateOriginators(e,[n.ctx.zoomManager])})}resetAnimations(){this.chart?.resetAnimations()}skipAnimations(){this.chart?.skipAnimations()}destroy(){this.releaseChart?(this.releaseChart(),this.releaseChart=void 0):this.chart&&(this.chart.publicApi=void 0,this.chart.destroy()),this.chart=void 0}prepareResizedChart(a,s){return L(this,arguments,function*(e,n,r={}){let o=r.width??n.width??n.ctx.scene.canvas.width,l=r.height??n.height??n.ctx.scene.canvas.height,c=e.getState(),d=kl.hasEnterpriseModules(),u=S(f({},n.chartOptions.processedOverrides),{container:document.createElement("div"),width:o,height:l});r.width!=null&&r.height!=null&&(u.overrideDevicePixelRatio=1);let h=n.getOptions();d&&(u.animation={enabled:!1},this.licenseManager?.isDisplayWatermark()&&(u.foreground={text:this.licenseManager.getWatermarkMessage(),image:{url:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjU4IiBoZWlnaHQ9IjQwIiB2aWV3Qm94PSIwIDAgMjU4IDQwIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNMjUuNzc5IDI4LjY1N0gxMy4zNTlMMTEuMTczIDM0LjAxMkg1LjY3Mjk3TDE3LjE4MiA3LjA1OTk5SDIxLjk1M0wzMy40NjIgMzQuMDEySDI3Ljk2MkwyNS43NzYgMjguNjU3SDI1Ljc3OVpNMjQuMDY4IDI0LjM5N0wxOS41ODggMTMuNDM0TDE1LjEwNyAyNC4zOTdIMjQuMDY4Wk02Mi4wOTIgMTguODIzSDQ5LjgxN1YyMy4wODZINTYuNzc1QzU2LjU1NSAyNS4yMjIgNTUuNzU1IDI2LjkyNyA1NC4zNzIgMjguMjAyQzUyLjk4OSAyOS40NzYgNTEuMTY2IDMwLjExNSA0OC45MDkgMzAuMTE1QzQ3LjYyMiAzMC4xMTUgNDYuNDUgMjkuODg1IDQ1LjM5MyAyOS40MjNDNDQuMzU4MyAyOC45NzgxIDQzLjQzMjYgMjguMzEzOCA0Mi42OCAyNy40NzZDNDEuOTI3IDI2LjYzOSA0MS4zNDQgMjUuNjMxIDQwLjkzMSAyNC40NTNDNDAuNTE5IDIzLjI3NSA0MC4zMTEgMjEuOTcgNDAuMzExIDIwLjUzN0M0MC4zMTEgMTkuMTA1IDQwLjUxNiAxNy44IDQwLjkzMSAxNi42MjFDNDEuMzQ0IDE1LjQ0MyA0MS45MjcgMTQuNDM2IDQyLjY4IDEzLjU5OEM0My40Mzc2IDEyLjc1NzcgNDQuMzY5NiAxMi4wOTMyIDQ1LjQxMSAxMS42NTFDNDYuNDc4IDExLjE4OSA0Ny42NTYgMTAuOTYgNDguOTQ2IDEwLjk2QzUxLjYxMiAxMC45NiA1My42MzcgMTEuNjAyIDU1LjAyIDEyLjg4NUw1OC4zIDkuNjA0OTlDNTUuODE3IDcuNjY5OTkgNTIuNjc2IDYuNjk5OTkgNDguODcyIDYuNjk5OTlDNDYuNzYgNi42OTk5OSA0NC44NTMgNy4wMzQ5OSA0My4xNTQgNy43MDA5OUM0MS40NTUgOC4zNjc5OSAzOS45OTggOS4zMDM5OSAzOC43ODMgMTAuNTA0QzM3LjU2NyAxMS43MDcgMzYuNjM0IDEzLjE1OCAzNS45NzcgMTQuODU3QzM1LjMxOSAxNi41NTYgMzQuOTk0IDE4LjQ1MSAzNC45OTQgMjAuNTRDMzQuOTk0IDIyLjYzIDM1LjMyOSAyNC40OTQgMzUuOTk1IDI2LjIwNUMzNi42NjIgMjcuOTE2IDM3LjYwNSAyOS4zNzQgMzguODE3IDMwLjU3N0M0MC4wMzIgMzEuNzggNDEuNDg2IDMyLjcxMyA0My4xODggMzMuMzgzQzQ0Ljg4OCAzNC4wNDkgNDYuNzgyIDM0LjM4NCA0OC44NzIgMzQuMzg0QzUwLjk2MSAzNC4zODQgNTIuNzUgMzQuMDQ5IDU0LjM5IDMzLjM4M0M1Ni4wMzEgMzIuNzE2IDU3LjQyNiAzMS43OCA1OC41NzkgMzAuNTc3QzU5LjczMyAyOS4zNzQgNjAuNjE5IDI3LjkxNiA2MS4yMzkgMjYuMjA1QzYxLjg2IDI0LjQ5NCA2Mi4xNyAyMi42MDUgNjIuMTcgMjAuNTRDNjIuMTY5NiAxOS45Njg4IDYyLjE0NDUgMTkuMzk4IDYyLjA5NSAxOC44MjlMNjIuMDkyIDE4LjgyM1pNMTUxLjgxIDE2Ljk4MUMxNTMuNDEgMTQuNjA5IDE1Ny40MTkgMTQuMzU4IDE1OS4wMjIgMTQuMzU4VjE4LjkxQzE1Ni45NTcgMTguOTEgMTU0Ljk4NSAxOC45OTYgMTUzLjc1NyAxOS44OTJDMTUyLjUyOSAyMC43OTIgMTUxLjkxOSAyMS45ODIgMTUxLjkxOSAyMy40NjRWMzMuOTlIMTQ2Ljk2NFYxNC4zNThIMTUxLjczNkwxNTEuODEgMTYuOTgxWk0xNDMuMDExIDE0LjM2MVYzNC4wMzFIMTM4LjI0TDEzOC4xMzEgMzEuMDQ1QzEzNy40NjYgMzIuMDc2IDEzNi41NTEgMzIuOTIxOSAxMzUuNDcxIDMzLjUwNEMxMzQuMzc2IDM0LjA5OSAxMzMuMDY4IDM0LjM5NiAxMzEuNTM2IDM0LjM5NkMxMzAuMiAzNC4zOTYgMTI4Ljk2MyAzNC4xNTIgMTI3LjgyMiAzMy42NjhDMTI2LjcgMzMuMTk2NCAxMjUuNjg5IDMyLjQ5NSAxMjQuODU1IDMxLjYwOUMxMjQuMDE4IDMwLjcyMiAxMjMuMzU0IDI5LjY2MiAxMjIuODcxIDI4LjQyMkMxMjIuMzg0IDI3LjE4NSAxMjIuMTQyIDI1LjgxMSAxMjIuMTQyIDI0LjMwNEMxMjIuMTQyIDIyLjc5OCAxMjIuMzg0IDIxLjM3OCAxMjIuODcxIDIwLjExNkMxMjMuMzU3IDE4Ljg1NCAxMjQuMDE4IDE3Ljc3MiAxMjQuODU1IDE2Ljg3M0MxMjUuNjg4IDE1Ljk3NjQgMTI2LjY5OCAxNS4yNjM2IDEyNy44MjIgMTQuNzhDMTI4Ljk2MyAxNC4yODEgMTMwLjIwMyAxNC4wMzMgMTMxLjUzNiAxNC4wMzNDMTMzLjA0MyAxNC4wMzMgMTM0LjMzIDE0LjMxOCAxMzUuMzk3IDE0Ljg4OEMxMzYuNDYyIDE1LjQ1ODkgMTM3LjM3NSAxNi4yNzggMTM4LjA1NyAxNy4yNzZWMTQuMzYxSDE0My4wMTFaTTEzMi42MzEgMzAuMTMzQzEzNC4yNTYgMzAuMTMzIDEzNS41NjcgMjkuNTk0IDEzNi41NjUgMjguNTEyQzEzNy41NjEgMjcuNDMgMTM4LjA2IDI1Ljk5MSAxMzguMDYgMjQuMTk2QzEzOC4wNiAyMi40MDEgMTM3LjU2MSAyMC45OSAxMzYuNTY1IDE5Ljg5OUMxMzUuNTcgMTguODA3IDEzNC4yNTkgMTguMjU4IDEzMi42MzEgMTguMjU4QzEzMS4wMDMgMTguMjU4IDEyOS43MjkgMTguODA0IDEyOC43MzQgMTkuODk5QzEyNy43MzggMjAuOTkzIDEyNy4yMzkgMjIuNDM4IDEyNy4yMzkgMjQuMjMzQzEyNy4yMzkgMjYuMDI4IDEyNy43MzUgMjcuNDMzIDEyOC43MzQgMjguNTE1QzEyOS43MjkgMjkuNTk0IDEzMS4wMjggMzAuMTM2IDEzMi42MzEgMzAuMTM2VjMwLjEzM1pNOTMuNjk4IDI3Ljg3NkM5My41Nzk1IDI4LjAwMjUgOTMuNDU2NCAyOC4xMjQ2IDkzLjMyOSAyOC4yNDJDOTEuOTQ3IDI5LjUxNiA5MC4xMjMgMzAuMTU1IDg3Ljg2NiAzMC4xNTVDODYuNTggMzAuMTU1IDg1LjQwOCAyOS45MjYgODQuMzUgMjkuNDY0QzgzLjMxNTUgMjkuMDE4OSA4Mi4zODk4IDI4LjM1NDYgODEuNjM3IDI3LjUxN0M4MC44ODQgMjYuNjc5IDgwLjMwMSAyNS42NzIgNzkuODg5IDI0LjQ5NEM3OS40NzYgMjMuMzE1IDc5LjI2OSAyMi4wMSA3OS4yNjkgMjAuNTc4Qzc5LjI2OSAxOS4xNDUgNzkuNDczIDE3Ljg0IDc5Ljg4OSAxNi42NjJDODAuMzAxIDE1LjQ4NCA4MC44ODQgMTQuNDc2IDgxLjYzNyAxMy42MzlDODIuMzk0OSAxMi43OTg3IDgzLjMyNzMgMTIuMTM0MiA4NC4zNjkgMTEuNjkyQzg1LjQzNiAxMS4yMyA4Ni42MTQgMTEgODcuOTAzIDExQzkwLjU3IDExIDkyLjU5NSAxMS42NDIgOTMuOTc3IDEyLjkyNkw5Ny4yNTggOS42NDQ5OUM5NC43NzQgNy43MTA5OSA5MS42MzMgNi43Mzk5OSA4Ny44MjkgNi43Mzk5OUM4NS43MTggNi43Mzk5OSA4My44MTEgNy4wNzQ5OSA4Mi4xMTIgNy43NDE5OUM4MC40MTMgOC40MDc5OSA3OC45NTYgOS4zNDQ5OSA3Ny43NCAxMC41NDVDNzYuNTI1IDExLjc0NyA3NS41OTIgMTMuMTk5IDc0LjkzNCAxNC44OThDNzQuMjc3IDE2LjU5NyA3My45NTEgMTguNDkxIDczLjk1MSAyMC41ODFDNzMuOTUxIDIyLjY3IDc0LjI4NiAyNC41MzQgNzQuOTUzIDI2LjI0NUM3NS42MTkgMjcuOTU3IDc2LjU2MiAyOS40MTQgNzcuNzc0IDMwLjYxN0M3OC45OSAzMS44MiA4MC40NDQgMzIuNzUzIDgyLjE0NiAzMy40MjNDODMuODQ1IDM0LjA5IDg1LjczOSAzNC40MjQgODcuODI5IDM0LjQyNEM4OS45MTkgMzQuNDI0IDkxLjcwOCAzNC4wOSA5My4zNDggMzMuNDIzQzk0LjcxOCAzMi44NjUgOTUuOTE4IDMyLjEyMSA5Ni45NDggMzEuMTkxQzk3LjE0OSAzMS4wMDggOTcuMzQ4IDMwLjgxNSA5Ny41MzcgMzAuNjJMOTMuNzAxIDI3Ljg4NUw5My42OTggMjcuODc2Wk0xMTAuODAyIDE0LjAxNUMxMDkuMTk5IDE0LjAxNSAxMDYuODM2IDE0LjQ3MSAxMDUuNjExIDE2LjE1OEwxMDUuNTM3IDYuMDE1OTlIMTAwLjc2NVYzMy45MzlIMTA1LjcyVjIyLjY0MUMxMDUuNzcxIDIxLjQ2MDcgMTA2LjI4OCAyMC4zNDg4IDEwNy4xNTcgMTkuNTQ4OUMxMDguMDI3IDE4Ljc0OTEgMTA5LjE3OCAxOC4zMjY2IDExMC4zNTggMTguMzc0QzExMy4zOTcgMTguMzc0IDExNC4yNjggMjEuMTU5IDExNC4yNjggMjIuNjQxVjMzLjkzOUgxMTkuMjIzVjIxLjA1OUMxMTkuMjIzIDIxLjA1OSAxMTkuMTQyIDE0LjAxNSAxMTAuODAyIDE0LjAxNVpNMTczLjc2MyAxNC4zNThIMTY5Ljk5OVY4LjcxNDk5SDE2NS4wNDhWMTQuMzU4SDE2MS4yODRWMTguOTE2SDE2NS4wNDhWMzQuMDAzSDE2OS45OTlWMTguOTE2SDE3My43NjNWMTQuMzU4Wk0xOTAuNzg3IDI1LjI2MkMxOTAuMTI5IDI0LjUwMTQgMTg5LjMwNyAyMy44OTk0IDE4OC4zODQgMjMuNTAxQzE4Ny40ODggMjMuMTE3IDE4Ni4zMzEgMjIuNzMyIDE4NC45NDggMjIuMzY0QzE4NC4xNjUgMjIuMTQzOSAxODMuMzkgMjEuODk3OCAxODIuNjIzIDIxLjYyNkMxODIuMTYzIDIxLjQ2MjEgMTgxLjc0MSAyMS4yMDY2IDE4MS4zODMgMjAuODc1QzE4MS4yMzUgMjAuNzQyMSAxODEuMTE4IDIwLjU3ODkgMTgxLjAzOSAyMC4zOTY0QzE4MC45NjEgMjAuMjE0IDE4MC45MjIgMjAuMDE2NiAxODAuOTI3IDE5LjgxOEMxODAuOTI3IDE5LjI3MiAxODEuMTU2IDE4Ljg0NCAxODEuNjI1IDE4LjUxQzE4Mi4xMjEgMTguMTU2IDE4Mi44NjIgMTcuOTc2IDE4My44MjYgMTcuOTc2QzE4NC43OSAxNy45NzYgMTg1LjU4NyAxOC4yMDkgMTg2LjE0OCAxOC42NjhDMTg2LjcwNiAxOS4xMjQgMTg3LjAwNyAxOS43MjUgMTg3LjA3MiAyMC41TDE4Ny4wOTQgMjAuNzgySDE5MS42MzNMMTkxLjYxNyAyMC40NkMxOTEuNTIxIDE4LjQ4NSAxOTAuNzcxIDE2LjkgMTg5LjM4NSAxNS43NUMxODguMDEyIDE0LjYxMiAxODYuMTg1IDE0LjAzMyAxODMuOTYyIDE0LjAzM0MxODIuNDc3IDE0LjAzMyAxODEuMTQxIDE0LjI4NyAxNzkuOTk0IDE0Ljc4NkMxNzguODMxIDE1LjI5MSAxNzcuOTI2IDE1Ljk5NSAxNzcuMjk2IDE2Ljg4MkMxNzYuNjczIDE3Ljc0NTUgMTc2LjMzOCAxOC43ODQgMTc2LjM0MSAxOS44NDlDMTc2LjM0MSAyMS4xNjcgMTc2LjY5OCAyMi4yNDkgMTc3LjM5OSAyMy4wNjRDMTc4LjA2IDIzLjg0MzIgMTc4Ljg5OCAyNC40NTM0IDE3OS44NDIgMjQuODQ0QzE4MC43NDQgMjUuMjE2IDE4MS45MjggMjUuNjA3IDE4My4zNjEgMjZDMTg0LjgwNiAyNi40MSAxODUuODcyIDI2Ljc4NSAxODYuNTMgMjcuMTIzQzE4Ny4xIDI3LjQxNCAxODcuMzc5IDI3Ljg0NSAxODcuMzc5IDI4LjQ0NEMxODcuMzc5IDI5LjA0MiAxODcuMTIyIDI5LjQ2NyAxODYuNTk1IDI5LjgzOUMxODYuMDQzIDMwLjIyNiAxODUuMjM3IDMwLjQyNSAxODQuMjAxIDMwLjQyNUMxODMuMTY2IDMwLjQyNSAxODIuMzk0IDMwLjE3NCAxODEuNzQ5IDI5LjY3NEMxODEuMTEzIDI5LjE4MSAxODAuNzcyIDI4LjU4OSAxODAuNzEgMjcuODY0TDE4MC42ODUgMjcuNTgySDE3Ni4wMTNMMTc2LjAyNSAyNy45MDFDMTc2LjA2NyAyOS4wOTU1IDE3Ni40NzIgMzAuMjQ4NyAxNzcuMTg4IDMxLjIwNkMxNzcuOTA3IDMyLjE4IDE3OC44OTMgMzIuOTU4IDE4MC4xMTggMzMuNTE5QzE4MS4zMzYgMzQuMDc3IDE4Mi43MzIgMzQuMzYyIDE4NC4yNjYgMzQuMzYyQzE4NS44MDEgMzQuMzYyIDE4Ny4xMDkgMzQuMTA4IDE4OC4yMzggMzMuNjA5QzE4OS4zNzYgMzMuMTA0IDE5MC4yNzIgMzIuMzk0IDE5MC45MDEgMzEuNDk0QzE5MS41MzQgMzAuNTkyIDE5MS44NTMgMjkuNTU0IDE5MS44NTMgMjguNDAzQzE5MS44MjggMjcuMTEgMTkxLjQ2NiAyNi4wNTMgMTkwLjc3NyAyNS4yNjJIMTkwLjc4N1oiIGZpbGw9IiM5QjlCOUIiLz4KPHBhdGggZD0iTTI0MS45ODIgMjUuNjU4MlYxNy43MTE3SDIyOC40NDFMMjIwLjQ5NCAyNS42NTgySDI0MS45ODJaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yNTcuMjM5IDUuOTUwODFIMjQwLjI2NUwyMzIuMjU1IDEzLjg5NzNIMjU3LjIzOVY1Ljk1MDgxWiIgZmlsbD0iIzlCOUI5QiIvPgo8cGF0aCBkPSJNMjEyLjYxMSAzMy42MDQ4TDIxNi42OCAyOS41MzYxSDIzMC40MTJWMzcuNDgyN0gyMTIuNjExVjMzLjYwNDhaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yMTUuNTk5IDIxLjc4MDNIMjI0LjM3MkwyMzIuMzgyIDEzLjgzMzdIMjE1LjU5OVYyMS43ODAzWiIgZmlsbD0iIzlCOUI5QiIvPgo8cGF0aCBkPSJNMjA2IDMzLjYwNDdIMjEyLjYxMUwyMjAuNDk0IDI1LjY1ODJIMjA2VjMzLjYwNDdaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yNDAuMjY1IDUuOTUwODFMMjM2LjE5NyAxMC4wMTk0SDIxMC4yNTlWMi4wNzI4OEgyNDAuMjY1VjUuOTUwODFaIiBmaWxsPSIjOUI5QjlCIi8+Cjwvc3ZnPgo=",width:170,height:25,right:25,bottom:50,opacity:.7}}));let m=f({},n.chartOptions.specialOverrides),p=f({},n.chartOptions.optionMetadata),g=yield this.chart?.ctx.dataService.getData(),b=this.factoryApi.create(h,u,m,p,g);yield b.setState(c),b.chart?.ctx.zoomManager.updateZoom("chartProxy",n.ctx.zoomManager.getZoom()),b.chart?.ctx.legendManager.clearData(),b.chart?.ctx.legendManager.update(n.ctx.legendManager.getData()),n.series.forEach((_,w)=>{b.chart.series[w].visible=_.visible});let v=[];for(let _ of n.modulesManager.legends())v.push(_.legend.pagination?.currentPage??0);for(let _ of b.chart.modulesManager.legends()){let w=v.shift()??0;_.legend.pagination&&_.legend.pagination.setPage(w)}return b.chart?.update(0,{forceNodeDataRefresh:!0}),yield b.waitForUpdate(),b})}getEnabledOriginators(){if(!this.chart)return[];let{chartOptions:{processedOptions:e,optionMetadata:n},ctx:{annotationManager:r,chartTypeOriginator:a,zoomManager:s,legendManager:o}}=this.chart,l=[];return"annotations"in e&&e.annotations?.enabled&&l.push(r),n.presetType==="price-volume"&&l.push(a),(e.navigator?.enabled||e.zoom?.enabled)&&l.push(s),"legend"in this.chart&&l.push(o),l}setStateOriginators(e,n){return L(this,null,function*(){this.factoryApi.caretaker.restore(e,...n),this.chart?.ctx.updateService.update(2,{forceNodeDataRefresh:!0}),yield this.chart?.waitForUpdate()})}};return t.chartInstances=new WeakMap,t})();y([Yr({oldValue(t){t.destroyed||(t.publicApi=void 0),Lw.chartInstances.delete(t)},newValue(t){t&&(t.publicApi=this,Lw.chartInstances.set(t,this))}})],Lw.prototype,"chart",2);var t5=Lw,$O=class extends gD{constructor(t){super(),this.ctx=t,this.localeText=void 0}};y([eu(t=>{t.ctx.localeManager.setLocaleText(t.localeText)}),C],$O.prototype,"localeText",2);y([eu(t=>{t.ctx.localeManager.setLocaleTextFormatter(t.getLocaleText)}),C],$O.prototype,"getLocaleText",2);var Vfe={type:"root",optionsKey:"locale",packageType:"community",chartTypes:["cartesian","polar","topology","standalone"],moduleFactory:t=>new $O(t)},Xf=class extends gD{constructor(t){super(),this.ctx=t,this.rectNode=new ir,this.textNode=new as,this.fill="white",this.node=this.createNode(),this.node.append([this.rectNode,this.textNode]),this.visible=!0,this.cleanup.register(t.scene.attachNode(this.node),t.eventsHub.on("layout:complete",i=>this.onLayoutComplete(i)))}createNode(){return new ht({name:"background",zIndex:0})}onLayoutComplete(t){let{width:i,height:e}=t.chart;this.rectNode.width=i,this.rectNode.height=e}};y([C,yn("node","visible")],Xf.prototype,"visible",2);y([C,yn("rectNode","fill")],Xf.prototype,"fill",2);y([C],Xf.prototype,"image",2);y([C,yn("textNode")],Xf.prototype,"text",2);var N6={type:"root",optionsKey:"background",packageType:"community",chartTypes:["cartesian","polar","topology","standalone"],moduleFactory:t=>new Xf(t)},im=class extends tt{constructor(t){super(),this.node=t,this.enabled=!1,this.stroke="black",this.strokeOpacity=1,this.strokeWidth=1}};y([Yr({changeValue(t){t?this.node.strokeWidth=this.strokeWidth:this.node.strokeWidth=0}}),C],im.prototype,"enabled",2);y([yn("node","stroke"),C],im.prototype,"stroke",2);y([yn("node","strokeOpacity"),C],im.prototype,"strokeOpacity",2);y([Yr({changeValue(t){this.enabled?this.node.strokeWidth=t:this.node.strokeWidth=0}}),C],im.prototype,"strokeWidth",2);function Bfe({orientation:t,bboxes:i,maxHeight:e,maxWidth:n,itemPaddingY:r=0,itemPaddingX:a=0,forceResult:s=!1}){let o=t==="horizontal",l={max:o?n:e,fn:o?h=>h.width:h=>h.height,padding:o?a:r},c={max:o?e:n,fn:o?h=>h.height:h=>h.width,padding:o?r:a},d=0,u=[];for(;d<i.length;){let h=i.slice(d),m=jfe(h,d,l,c,s);if(!m)return;d+=m.processedBBoxCount,u.push(m.pageIndices)}return Ufe(u,t,i,r,a)}function jfe(t,i,e,n,r){let s=Gfe(t,e);if(s<1){if(!r)return;s=1}let o=s;for(;o>=1;){let l=zfe(t,i,o,e,n,r);if(l==null&&o<=1)return;if(l==null){o--;continue}if(typeof l=="number"){if(l<=1)return;o=l<o&&l>1?l:o,o--;continue}return{processedBBoxCount:l.length*l[0].length,pageIndices:l}}}function zfe(t,i,e,n,r,a){let s=[],o=0,l=0,c=[],d=[];for(let u=0;u<t.length;u++){let h=(u+e)%e;h===0&&(o+=l,l=0,c.length>0&&s.push(c),c=[]);let m=n.fn(t[u])+n.padding;d[h]=Math.max(d[h]??0,m),l=Math.max(l,r.fn(t[u])+r.padding);let p=o+l,g=!a||s.length>0;if(p>r.max&&g){c=[];break}if(d.reduce((v,_)=>v+_,0)>n.max&&!a)return d.length<e?d.length:void 0;c.push(u+i)}return c.length>0&&s.push(c),s.length>0?s:void 0}function Ufe(t,i,e,n,r){let a=0,s=0;return{pages:t.map(l=>{i==="horizontal"&&(l=Hfe(l));let c=0,d=l.map(m=>{let p=m.map(v=>(c=Math.max(v,c),e[v])),g=0,b=0;return p.forEach(v=>{g+=v.height+n,b=Math.max(b,v.width+r)}),{indices:m,bboxes:p,columnHeight:Math.ceil(g),columnWidth:Math.ceil(b)}}),u=0,h=0;return d.forEach(m=>{u+=m.columnWidth,h=Math.max(h,m.columnHeight)}),a=Math.max(u,a),s=Math.max(h,s),{columns:d,startIndex:l[0][0],endIndex:c,pageWidth:u,pageHeight:h}}),maxPageWidth:a,maxPageHeight:s}}function Hfe(t){let i=[];for(let e of t[0])i.push([]);return t.forEach((e,n)=>{e.forEach((r,a)=>{i[a][n]=r})}),i}function Gfe(t,i){let e=t.length,n=0;for(let r=0;r<e;r++)if(n+=i.fn(t[r])+i.padding,n>i.max)return e/r<2?Math.ceil(e/2):r;return e}var Jf=class extends tt{constructor(){super(...arguments),this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}};y([C],Jf.prototype,"color",2);y([C],Jf.prototype,"fontStyle",2);y([C],Jf.prototype,"fontWeight",2);y([C],Jf.prototype,"fontSize",2);y([C],Jf.prototype,"fontFamily",2);var Mc=class extends tt{constructor(){super(...arguments),this.size=15,this.fill=void 0,this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=1,this.strokeOpacity=1}};y([C],Mc.prototype,"size",2);y([C],Mc.prototype,"fill",2);y([C],Mc.prototype,"fillOpacity",2);y([C],Mc.prototype,"stroke",2);y([C],Mc.prototype,"strokeWidth",2);y([C],Mc.prototype,"strokeOpacity",2);var bS=class extends tt{constructor(t){super(),this.parent=t,this.shape="triangle",this.size=15,this.padding=8}};y([Yr({changeValue(){this.parent.marker===this&&this.parent.onMarkerShapeChange()}})],bS.prototype,"shape",2);y([C],bS.prototype,"size",2);y([C],bS.prototype,"padding",2);var eg=(()=>{let t=class extends tt{constructor(i,e){super(),this.chartUpdateCallback=i,this.pageUpdateCallback=e,this.id=pn(this),this.marker=new bS(this),this.activeStyle=new Mc,this.inactiveStyle=new Mc,this.highlightStyle=new Mc,this.label=new Jf,this.group=new Wr({name:"pagination"}),this.labelNode=new as,this.totalPages=0,this.currentPage=0,this.translationX=0,this.translationY=0,this.nextButtonDisabled=!1,this.previousButtonDisabled=!1,this._visible=!0,this._enabled=!0,this._orientation="vertical",this.nextButton=new On,this.previousButton=new On,this.labelNode.setProperties({textBaseline:"middle",fontSize:12,fontFamily:"Verdana, sans-serif",fill:"black",y:1}),this.group.append([this.nextButton,this.previousButton,this.labelNode]),this.update(),this.updateMarkers()}set visible(i){this._visible=i,this.updateGroupVisibility()}get visible(){return this._visible}set enabled(i){this._enabled=i,this.updateGroupVisibility()}get enabled(){return this._enabled}updateGroupVisibility(){this.group.visible=this.enabled&&this.visible}set orientation(i){switch(this._orientation=i,i){case"horizontal":{this.previousButton.rotation=-Math.PI/2,this.nextButton.rotation=Math.PI/2;break}case"vertical":default:this.previousButton.rotation=0,this.nextButton.rotation=Math.PI}}get orientation(){return this._orientation}update(){this.updateLabel(),this.updatePositions(),this.enableOrDisableButtons()}updatePositions(){this.group.translationX=this.translationX,this.group.translationY=this.translationY,this.updateLabelPosition(),this.updateNextButtonPosition()}updateLabelPosition(){let{size:i,padding:e}=this.marker;this.nextButton.size=i,this.previousButton.size=i,this.labelNode.x=i/2+e}updateNextButtonPosition(){let i=this.labelNode.getBBox();this.nextButton.translationX=i.width+(this.marker.size/2+this.marker.padding)*2}updateLabel(){let{currentPage:i,totalPages:e,labelNode:n,label:{color:r,fontStyle:a,fontWeight:s,fontSize:o,fontFamily:l}}=this;n.text=`${i+1} / ${e}`,n.fill=r,n.fontStyle=a,n.fontWeight=s,n.fontSize=o,n.fontFamily=l}updateMarkers(){let{nextButton:i,previousButton:e,nextButtonDisabled:n,previousButtonDisabled:r,activeStyle:a,inactiveStyle:s,highlightStyle:o,highlightActive:l}=this,c=(d,u)=>u?s:d===l?o:a;this.updateMarker(i,c("next",n)),this.updateMarker(e,c("previous",r))}updateMarker(i,e){let{shape:n,size:r}=this.marker;i.shape=n,i.size=r,i.fill=e.fill,i.fillOpacity=e.fillOpacity??1,i.stroke=e.stroke,i.strokeWidth=e.strokeWidth,i.strokeOpacity=e.strokeOpacity}enableOrDisableButtons(){let{currentPage:i,totalPages:e}=this,n=e===0,r=i===e-1,a=i===0;this.nextButtonDisabled=r||n,this.previousButtonDisabled=a||n}setPage(i){i=Ae(0,i,Math.max(0,this.totalPages-1)),this.currentPage!==i&&(this.currentPage=i,this.onPaginationChanged())}getCursor(i){return{previous:this.previousButtonDisabled,next:this.nextButtonDisabled}[i]?void 0:"pointer"}onClick(i,e){i.preventDefault(),e==="next"&&!this.nextButtonDisabled?(this.incrementPage(),this.onPaginationChanged()):e==="previous"&&!this.previousButtonDisabled&&(this.decrementPage(),this.onPaginationChanged())}onMouseHover(i){this.highlightActive=i,this.updateMarkers(),this.chartUpdateCallback(7)}onPaginationChanged(){this.pageUpdateCallback(this.currentPage)}incrementPage(){this.currentPage=Math.min(this.currentPage+1,this.totalPages-1)}decrementPage(){this.currentPage=Math.max(this.currentPage-1,0)}onMarkerShapeChange(){this.updatePositions(),this.updateMarkers(),this.chartUpdateCallback(7)}attachPagination(i){i.append(this.group)}getBBox(){return this.group.getBBox()}computeCSSBounds(){let i=rn.toCanvas(this.previousButton),e=rn.toCanvas(this.nextButton);return{prev:i,next:e}}};return t.className="Pagination",t})();y([C],eg.prototype,"marker",2);y([C],eg.prototype,"activeStyle",2);y([C],eg.prototype,"inactiveStyle",2);y([C],eg.prototype,"highlightStyle",2);y([C],eg.prototype,"label",2);var Wfe=class{constructor(t,i){this.dirty=!0,this.itemList=t.proxyInteractionService.createProxyContainer({type:"list",domManagerId:`${i}-toolbar`,classList:["ag-charts-proxy-legend-toolbar"],ariaLabel:{id:"ariaLabelLegend"}}),this.paginationGroup=t.proxyInteractionService.createProxyContainer({type:"group",domManagerId:`${i}-pagination`,classList:["ag-charts-proxy-legend-pagination"],ariaLabel:{id:"ariaLabelLegendPagination"}}),this.itemDescription=Ne("p"),this.itemDescription.style.display="none",this.itemDescription.id=gh(),this.itemDescription.textContent=this.getItemAriaDescription(t.localeManager),this.itemList.getElement().append(this.itemDescription)}initLegendList(t){if(!this.dirty)return;let{ctx:i,itemSelection:e,datumReader:n,itemListener:r}=t,a=i.localeManager,s=e.length;e.each((o,l,c)=>{o.proxyButton?.destroy(),o.proxyButton=i.proxyInteractionService.createProxyElement({type:"listswitch",textContent:this.getItemAriaText(a,n.getItemLabel(l),c,s),ariaChecked:!!o.datum.enabled,ariaDescribedBy:this.itemDescription.id,parent:this.itemList});let d=o.proxyButton;d.addListener("click",u=>r.onClick(u.sourceEvent,o.datum,d)),d.addListener("dblclick",u=>r.onDoubleClick(u.sourceEvent,o.datum)),d.addListener("mouseenter",u=>r.onHover(u.sourceEvent,o)),d.addListener("mouseleave",()=>r.onLeave()),d.addListener("contextmenu",u=>r.onContextClick(u,o)),d.addListener("blur",()=>r.onLeave()),d.addListener("focus",u=>r.onHover(u.sourceEvent,o)),d.addListener("drag-start",()=>{})}),this.dirty=!1}update(t){t.visible&&(this.initLegendList(t),this.updateItemProxyButtons(t),this.updatePaginationProxyButtons(t,!0)),this.updateVisibility(t.visible)}updateVisibility(t){this.itemList.setHidden(!t),this.paginationGroup.setHidden(!t)}updateItemProxyButtons({itemSelection:t,group:i,pagination:e,interactive:n}){let r=rn.toCanvas(i);this.itemList.setBounds(r);let a=Math.max(...t.nodes().map(s=>s.getBBox().height));t.each((s,o)=>{if(s.proxyButton){let l=s.pageIndex===e.currentPage,{x:c,y:d,height:u,width:h}=rn.toCanvas(s),m=(a-u)/2,p={x:c-r.x,y:d-m-r.y,height:a,width:h},g=n&&l;s.proxyButton.setCursor("pointer"),s.proxyButton.setEnabled(g),s.proxyButton.setPointerEvents(g?void 0:"none"),s.proxyButton.setBounds(p)}})}updatePaginationProxyButtons(t,i){let{pagination:e}=t;if(this.paginationGroup.setHidden(!e.visible),i&&"ctx"in t){let{ctx:n,oldPages:r,newPages:a}=t,s=(r?.length??a.length)>1,o=a.length>1;s!==o&&(o?(this.prevButton=n.proxyInteractionService.createProxyElement({type:"button",textContent:{id:"ariaLabelLegendPagePrevious"},tabIndex:0,parent:this.paginationGroup}),this.prevButton.addListener("click",l=>this.onPageButton(t,l,"previous")),this.prevButton.addListener("mouseenter",()=>e.onMouseHover("previous")),this.prevButton.addListener("mouseleave",()=>e.onMouseHover(void 0)),this.nextButton??(this.nextButton=n.proxyInteractionService.createProxyElement({type:"button",textContent:{id:"ariaLabelLegendPageNext"},tabIndex:0,parent:this.paginationGroup})),this.nextButton.addListener("click",l=>this.onPageButton(t,l,"next")),this.nextButton.addListener("mouseenter",()=>e.onMouseHover("next")),this.nextButton.addListener("mouseleave",()=>e.onMouseHover(void 0))):(this.nextButton?.destroy(),this.prevButton?.destroy(),this.nextButton=void 0,this.prevButton=void 0)),this.paginationGroup.setAriaHidden(o?void 0:!0)}if(this.prevButton&&this.nextButton){let{prev:n,next:r}=e.computeCSSBounds(),a=_e.merge([n,r]);n.x-=a.x,n.y-=a.y,r.x-=a.x,r.y-=a.y,this.paginationGroup.setBounds(a),this.prevButton.setBounds(n),this.nextButton.setBounds(r),this.prevButton.setEnabled(e.currentPage!==0),this.nextButton.setEnabled(e.currentPage!==e.totalPages-1),this.nextButton.setCursor(e.getCursor("next")),this.prevButton.setCursor(e.getCursor("previous"))}}onPageButton(t,i,e){t.pagination.onClick(i.sourceEvent,e),this.updatePaginationProxyButtons(t,!1)}onDataUpdate(t,i){this.dirty=t.length!==i.length||t.some((e,n,r)=>{let[a,s]=[i[n],t[n]];return a.id!==s.id})}onLocaleChanged(t,i,e){let n=i.length;i.each(({proxyButton:r},a,s)=>{let o=r?.getElement();if(o!=null){let l=e.getItemLabel(a);o.textContent=this.getItemAriaText(t,l,s,n)}}),this.itemDescription.textContent=this.getItemAriaDescription(t)}onPageChange(t){this.updateItemProxyButtons(t),this.updatePaginationProxyButtons(t,!1)}getItemAriaText(t,i,e,n){return e>=0&&i?(e++,t.t("ariaLabelLegendItem",{label:i,index:e,count:n})):t.t("ariaLabelLegendItemUnknown")}getItemAriaDescription(t){return t.t("ariaDescriptionLegendItem")}};function i5(t,{itemId:i,seriesId:e,label:{text:n}},r){let a={defaultPrevented:!1,apiEvent:{type:t,itemId:i,seriesId:e,text:n,event:r,preventDefault:()=>a.defaultPrevented=!0}};return a}var Fo=(()=>{let t=class extends Wr{constructor(){super({name:"markerLabelGroup"}),this.symbolsGroup=this.appendChild(new ht({name:"legend-markerLabel-symbols"})),this.label=this.appendChild(new as),this.enabled=!0,this.pageIndex=NaN,this.spacing=0,this.length=0,this.isCustomMarker=!1,this.marker=this.symbolsGroup.appendChild(new On({zIndex:1})),this.line=this.symbolsGroup.appendChild(new Fs({zIndex:0}));let{label:i,line:e,symbolsGroup:n}=this;e.visible=!1,n.renderToOffscreenCanvas=!0,n.optimizeForInfrequentRedraws=!0,i.textBaseline="middle",i.fontSize=12,i.fontFamily="Verdana, sans-serif",i.fill="black",i.y=1}destroy(){super.destroy(),this.proxyButton?.destroy()}setEnabled(i){this.enabled=i,this.refreshVisibilities()}getTextMeasureBBox(){return this.layout(),_e.merge([this.symbolsGroup.getBBox(),this.label.getTextMeasureBBox()])}refreshVisibilities(){let i=this.enabled?1:.5;this.label.opacity=i,this.opacity=i}layout(){let{marker:i,line:e,length:n,isCustomMarker:r}=this,a=0,s=0;if(i.visible){let{size:o}=i,l=On.anchor(i.shape);a=(l.x-.5)*o+n/2,s=(l.y-.5)*o,r?(i.x=0,i.y=0,i.translationX=a,i.translationY=s):(i.x=a,i.y=s,i.translationX=0,i.translationY=0)}e.visible&&(e.x1=0,e.x2=n,e.y1=0,e.y2=0)}preRender(i){let e=super.preRender(i);return this.layout(),e}layoutLabel(){let{length:i,spacing:e}=this;this.label.x=i+e}computeBBox(){return this.layout(),super.computeBBox()}};return t.className="MarkerLabel",t})();y([yn("label")],Fo.prototype,"text",2);y([yn("label")],Fo.prototype,"fontStyle",2);y([yn("label")],Fo.prototype,"fontWeight",2);y([yn("label")],Fo.prototype,"fontSize",2);y([yn("label")],Fo.prototype,"fontFamily",2);y([yn("label","fill")],Fo.prototype,"color",2);y([eu(t=>t.layoutLabel())],Fo.prototype,"spacing",2);y([eu(t=>t.layoutLabel())],Fo.prototype,"length",2);y([ee()],Fo.prototype,"isCustomMarker",2);function Nw(t){let{placement:i="bottom",floating:e=!1,xOffset:n=0,yOffset:r=0}=typeof t=="string"?{placement:t,floating:!1}:t;return{placement:i,floating:e,xOffset:n,yOffset:r}}var lu=class extends tt{constructor(){super(...arguments),this.maxLength=void 0,this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}};y([C],lu.prototype,"maxLength",2);y([C],lu.prototype,"color",2);y([C],lu.prototype,"fontStyle",2);y([C],lu.prototype,"fontWeight",2);y([C],lu.prototype,"fontSize",2);y([C],lu.prototype,"fontFamily",2);y([C],lu.prototype,"formatter",2);var tg=class extends tt{constructor(){super(...arguments),this.shape=void 0,this.size=15,this.padding=8}};y([C],tg.prototype,"shape",2);y([C],tg.prototype,"size",2);y([C],tg.prototype,"padding",2);y([C],tg.prototype,"strokeWidth",2);y([C],tg.prototype,"enabled",2);var YO=class extends tt{};y([C],YO.prototype,"strokeWidth",2);y([C],YO.prototype,"length",2);var cu=class extends tt{constructor(){super(...arguments),this.paddingX=16,this.paddingY=8,this.showSeriesStroke=!1,this.marker=new tg,this.label=new lu,this.line=new YO}};y([C],cu.prototype,"maxWidth",2);y([C],cu.prototype,"paddingX",2);y([C],cu.prototype,"paddingY",2);y([C],cu.prototype,"showSeriesStroke",2);y([C],cu.prototype,"marker",2);y([C],cu.prototype,"label",2);y([C],cu.prototype,"line",2);var KO=class extends tt{};y([C],KO.prototype,"legendItemClick",2);y([C],KO.prototype,"legendItemDoubleClick",2);var n5={type:"gradient",bounds:"item",gradient:"linear",colorStops:[{color:"black"}],rotation:0,reverse:!1},r5={type:"pattern",pattern:"forward-slanted-lines",width:8,height:8,padding:1,fill:"black",fillOpacity:1,backgroundFill:"white",backgroundFillOpacity:1,stroke:"black",strokeOpacity:1,strokeWidth:1,rotation:0,scale:1},a5={type:"image",backgroundFill:"black",backgroundFillOpacity:1,rotation:0,repeat:"no-repeat",fit:"contain",width:8,height:8},Nn=(()=>{let t=class extends tt{constructor(i){super(),this.ctx=i,this.id=pn(this),this.group=new Wr({name:"legend",zIndex:16}),this.itemSelection=$r.select(this.group,Fo),this.containerNode=this.group.appendChild(new ir({name:"legend-container"})),this.oldSize=[0,0],this.pages=[],this.maxPageSize=[0,0],this.paginationTrackingIndex=0,this.truncatedItems=new Set,this._data=[],this.toggleSeries=!0,this.item=new cu,this.listeners=new KO,this.enabled=!0,this.position="bottom",this.border=new im(this.containerNode),this.cornerRadius=0,this.fillOpacity=1,this.padding=4,this.spacing=20,this.cleanup=new pt,this.size=[0,0],this._visible=!0,this.pagination=new eg(n=>i.updateService.update(n),n=>this.updatePageNumber(n)),this.pagination.attachPagination(this.group);let{items:e}=i.contextMenuRegistry.builtins;e["toggle-series-visibility"].action=n=>this.contextToggleVisibility(n),e["toggle-other-series"].action=n=>this.contextToggleOtherSeries(n),this.cleanup.register(i.eventsHub.on("legend:change",this.onLegendDataChange.bind(this)),i.layoutManager.registerElement(1,n=>this.positionLegend(n)),i.eventsHub.on("locale:change",()=>this.onLocaleChanged()),()=>delete e["toggle-series-visibility"].action,()=>delete e["toggle-other-series"].action,()=>this.group.remove()),this.domProxy=new Wfe(this.ctx,this.id),this.ctx.historyManager.addMementoOriginator(i.legendManager)}set data(i){Ln(i,this._data)||(this.domProxy.onDataUpdate(this._data,i),this._data=i,this.updateGroupVisibility())}get data(){return this._data}onLegendDataChange({legendData:i=[]}){this.enabled&&(this.data=i.filter(e=>!e.hideInLegend))}destroy(){this.ctx.domManager.removeChild("canvas-overlay",`${this.id}-toolbar`),this.ctx.domManager.removeChild("canvas-overlay",`${this.id}-pagination`),this.cleanup.flush(),this.itemSelection.clear()}getOrientation(){return this.orientation??"horizontal"}set visible(i){this._visible=i,this.updateGroupVisibility()}get visible(){return this._visible}updateGroupVisibility(){this.group.visible=this.enabled&&this.visible&&this.data.length>0}attachLegend(i){i.appendChild(this.group)}getItemLabel(i){let{formatter:e}=this.item.label;if(e){let n=i.datum;return this.cachedCallWithContext(e,f({itemId:i.itemId,value:i.label.text,seriesId:i.seriesId},n&&{datum:n}))}return i.label.text}calcLayout(i,e){let{paddingX:n,paddingY:r,label:a,maxWidth:s,label:{maxLength:o=1/0,fontStyle:l,fontWeight:c,fontSize:d,fontFamily:u}}=this.item,h=[...this.data];this.reverseOrder&&h.reverse(),this.itemSelection.update(h);let m=[],p=tu.getMeasurer({font:a}),b=s??i*.8,{markerWidth:v,anyLineEnabled:_}=this.calculateMarkerWidth();if(this.itemSelection.each((U,H)=>{U.fontStyle=l,U.fontWeight=c,U.fontSize=d,U.fontFamily=u;let q=this.updateMarkerLabel(U,H,v,_),ue=H.itemId??H.id,Oe=(this.getItemLabel(H)??"<unknown>").replace(/\r?\n/g," ");U.text=this.truncate(Oe,o,b,q,p,ue),m.push(U.getTextMeasureBBox())}),i=Math.max(1,i),e=Math.max(1,e),!isFinite(i))return{};[i,e]=this.updateContainer(i,e);let w=this.size,D=this.oldSize;w[0]=i,w[1]=e,(w[0]!==D[0]||w[1]!==D[1])&&(D[0]=w[0],D[1]=w[1]);let{pages:I,maxPageHeight:E,maxPageWidth:A}=this.updatePagination(m,i,e),N=this.pages;this.pages=I,this.maxPageSize=[A-n,E-r];let F=this.pagination.currentPage,P=this.pages[F];return this.pages.length<1||!P?(this.visible=!1,{oldPages:N}):(this.visible=!0,this.updatePositions(F),this.update(),{oldPages:N})}isCustomMarker(i,e){return i&&e!==void 0&&typeof e!="string"}calcSymbolsEnabled(i){let{showSeriesStroke:e,marker:n}=this.item,r=!!n.enabled||!e||(i.marker.enabled??!0),a=!!(i.line&&e),s=this.isCustomMarker(r,i.marker.shape);return{markerEnabled:r,lineEnabled:a,isCustomMarker:s}}calcSymbolsLengths(i,e,n){let{marker:r,line:a}=this.item,s,{shape:o}=i.marker;if(this.isCustomMarker(e,o)){let d=new On;d.shape=o,d.updatePath();let u=d.getBBox();s=Math.max(u.width,u.height)}let l=e?r.size:0,c=n?a.length??25:0;return{markerLength:l,lineLength:c,customMarkerSize:s}}calculateMarkerWidth(){let i=0,e=!1;return this.itemSelection.each((n,r)=>{let{symbol:a}=r,{lineEnabled:s,markerEnabled:o}=this.calcSymbolsEnabled(a),{markerLength:l,lineLength:c,customMarkerSize:d=-1/0}=this.calcSymbolsLengths(a,o,s);i=Math.max(i,c,d,l),e||(e=s)}),{markerWidth:i,anyLineEnabled:e}}updateMarkerLabel(i,e,n,r){let{marker:a,paddingX:s}=this.item,{symbol:o}=e,l=s,{markerEnabled:c,isCustomMarker:d}=this.calcSymbolsEnabled(o),u=a.padding;(c||r)&&(l+=u+n);let{marker:h,line:m}=i;return h.visible=c,h.visible&&(h.shape=a.shape??o.marker.shape??"square",h.size=a.size,Dc(h,this.getMarkerStyles(o))),m.visible=r,m.visible&&Dc(m,this.getLineStyles(o)),i.length=n,i.spacing=u,i.isCustomMarker=d,l}updateContainer(i,e){let n=this.getContainerStyles();return this.containerNode.width=0,this.containerNode.height=0,Dc(this.containerNode,n),this.containerNode.cornerRadius=n.cornerRadius,i-=n.strokeWidth*2+n.padding.left+n.padding.right,e-=n.strokeWidth*2+n.padding.top+n.padding.bottom,[i,e]}truncate(i,e,n,r,a,s){let o=!1;i.length>e&&(i=i.substring(0,e),o=!0);let l=Iv.truncateLine(i,a,n-r,o);return l.endsWith(Oi.EllipsisChar)?this.truncatedItems.add(s):this.truncatedItems.delete(s),l}updatePagination(i,e,n){let r=this.getOrientation(),a=Math.min(this.paginationTrackingIndex,i.length);this.pagination.orientation=r,this.pagination.translationX=0,this.pagination.translationY=0;let{pages:s,maxPageHeight:o,maxPageWidth:l,paginationBBox:c,paginationVertical:d}=this.calculatePagination(i,e,n),u=s.findIndex(D=>D.endIndex>=a);this.pagination.currentPage=Ae(0,u,s.length-1);let{paddingX:h,paddingY:m}=this.item,p=8,g=l-h,b=o-m,v=0,_=-c.y-this.item.marker.size/2;d?_+=b+p:(v+=-c.x+g+p,_+=(b-c.height)/2),this.pagination.translationX=v,this.pagination.translationY=_,this.pagination.update(),this.pagination.updateMarkers();let w=0;return this.itemSelection.each((D,I,E)=>{E>(s[w]?.endIndex??1/0)&&w++,D.pageIndex=w}),{maxPageHeight:o,maxPageWidth:l,pages:s}}calculatePagination(i,e,n){let{paddingX:r,paddingY:a}=this.item,s=["left","left-top","left-bottom","right","right-top","right-bottom"],{placement:o}=Nw(this.position),l=this.getOrientation(),c=s.includes(o),d=this.pagination.getBBox(),u=new _e(0,0,0,0),h=[],m=0,p=0,g=0,b=_=>_.width===d.width&&_.height===d.height,v=this.maxWidth!==void 0&&this.maxHeight!==void 0;do{if(g++>10){j.warn("unable to find stable legend layout.");break}d=u;let _=e-(c?0:d.width),w=n-(c?d.height:0),D=Bfe({orientation:l,bboxes:i,maxHeight:w,maxWidth:_,itemPaddingY:a,itemPaddingX:r,forceResult:v});h=D?.pages??[],m=D?.maxPageWidth??0,p=D?.maxPageHeight??0;let I=h.length;if(this.pagination.visible=I>1,this.pagination.totalPages=I,this.pagination.update(),this.pagination.updateMarkers(),u=this.pagination.getBBox(),!this.pagination.visible)break}while(!b(u));return{maxPageWidth:m,maxPageHeight:p,pages:h,paginationBBox:u,paginationVertical:c}}updatePositions(i=0){let{item:{paddingY:e},itemSelection:n,pages:r}=this;if(r.length<1||!r[i])return;let{columns:a,startIndex:s,endIndex:o}=r[i],l=0,c=0,d=a.length,u=a[0].indices.length,h=this.getOrientation()==="horizontal",m=a[0].bboxes[0].height+e,p=[];n.each((g,b,v)=>{if(v<s||v>o){g.visible=!1;return}let _=v-s,w,D;h?(w=_%d,D=Math.floor(_/d)):(w=Math.floor(_/u),D=_%u),g.visible=!0;let I=a[w];I&&(c=Math.floor(m*D),l=Math.floor(p[D]??0),p[D]=(p[D]??0)+I.columnWidth,g.translationX=l,g.translationY=c)})}updatePageNumber(i){let{itemSelection:e,group:n,pagination:r,pages:a,toggleSeries:s}=this,{startIndex:o,endIndex:l}=a[i];o===0?this.paginationTrackingIndex=0:i===a.length-1?this.paginationTrackingIndex=l:this.paginationTrackingIndex=Math.floor((o+l)/2),this.pagination.update(),this.pagination.updateMarkers(),this.updatePositions(i),this.domProxy.onPageChange({itemSelection:e,group:n,pagination:r,interactive:s}),this.ctx.updateService.update(7)}update(){let{label:{color:i}}=this.item;this.itemSelection.each((e,n)=>{e.setEnabled(n.enabled),e.color=i}),this.updateContextMenu()}updateContextMenu(){this.ctx.contextMenuRegistry.setVisible("toggle-series-visibility",this.toggleSeries),this.ctx.contextMenuRegistry.setVisible("toggle-other-series",this.toggleSeries)}getLineStyles(i){let{stroke:e,strokeOpacity:n=1,strokeWidth:r,lineDash:a}=i.line??{},s=Math.min(2,r??1);return{stroke:e,strokeOpacity:n,strokeWidth:this.item.line.strokeWidth??s,lineDash:a}}getMarkerStyles({marker:i}){let{fill:e,stroke:n,strokeOpacity:r=1,fillOpacity:a=1,strokeWidth:s,lineDash:o,lineDashOffset:l}=i,c=Math.min(2,s??1);return qd(e)&&(e.width=8,e.height=8,e.padding=1,e.strokeWidth=Math.min(2,e.strokeWidth??2)),jh(e)&&(e.fit="contain",e.width=void 0,e.height=void 0,e.repeat="no-repeat"),El({fill:e,stroke:n,strokeOpacity:r,fillOpacity:a,strokeWidth:this.item.marker.strokeWidth??c,lineDash:o,lineDashOffset:l},n5,r5,a5)}getContainerStyles(){let{stroke:i,strokeOpacity:e,strokeWidth:n}=this.border,{cornerRadius:r,fill:a,fillOpacity:s,padding:o}=this,l=typeof o=="number";return El({cornerRadius:r,fill:a,fillOpacity:s,padding:{top:l?o:o.top??0,right:l?o:o.right??0,bottom:l?o:o.bottom??0,left:l?o:o.left??0},stroke:i,strokeOpacity:e,strokeWidth:this.border.enabled?n:0},n5,r5,a5)}computePagedBBox(){let i=ht.computeChildrenBBox(this.group.excludeChildren({name:"legend-container"}));if(this.pages.length>1){let[r,a]=this.maxPageSize;i.height=Math.max(a,i.height),i.width=Math.max(r,i.width)}let{strokeWidth:e,padding:n}=this.getContainerStyles();return i.grow(n).grow(e),i}findNode(i){let{datum:e,proxyButton:n}=this.itemSelection.select(r=>r.datum?.itemId===i.itemId)[0]??{};if(e===void 0||n===void 0)throw new Error(`AG Charts - Missing required properties { datum: ${e}, proxyButton: ${JSON.stringify(n)} }`);return{datum:e,proxyButton:n}}contextToggleVisibility(i){let{datum:e,proxyButton:n}=this.findNode(i);this.doClick(i.event,e,n)}contextToggleOtherSeries(i){this.doDoubleClick(i.event,this.findNode(i).datum)}onContextClick(i,e){let{sourceEvent:n}=i,r=e.datum;this.preventHidingAll&&this.contextMenuDatum?.enabled&&this.getVisibleItemCount()<=1?this.ctx.contextMenuRegistry.builtins.items["toggle-series-visibility"].enabled=!1:this.ctx.contextMenuRegistry.builtins.items["toggle-series-visibility"].enabled=!0;let a=this.ctx.chartService.series.length>1&&this.ctx.chartService.series[0]?.getLegendData("category")[0]?.hideToggleOtherSeries!==!0;this.ctx.contextMenuRegistry.setVisible("toggle-other-series",a);let{offsetX:s,offsetY:o}=n,{x:l,y:c}=rn.toCanvasPoint(e,s,o);this.ctx.contextMenuRegistry.dispatchContext("legend-item",{widgetEvent:i,canvasX:l,canvasY:c},{legendItem:r})}onClick(i,e,n){this.doClick(i,e,n)&&i.preventDefault()}getVisibleItemCount(){return this.ctx.chartService.series.flatMap(i=>i.getLegendData("category")).filter(i=>i.enabled).length}doClick(i,e,n){let{listeners:{legendItemClick:r},ctx:{chartService:a,highlightManager:s},preventHidingAll:o,toggleSeries:l}=this;if(!e)return!1;let{legendType:c,seriesId:d,itemId:u,enabled:h,legendItemName:m}=e,p=a.series.find(v=>v.id===d);if(!p)return!1;let g=h,b=i5("click",e,i);return r&&Ro([p.properties,this.ctx.chartService],r,b.apiEvent),b.defaultPrevented||(l&&(g=!h,o&&!g&&this.getVisibleItemCount()<2&&(g=!0),n.setChecked(g),this.ctx.eventsHub.emit("legend:item-click",{legendType:c,series:p,itemId:u,enabled:g,legendItemName:m})),g?s.updateHighlight(this.id,{series:p,itemId:u,datum:void 0,datumIndex:void 0,legendItemName:m}):s.updateHighlight(this.id),this.ctx.legendManager.update(),this.ctx.updateService.update(2,{forceNodeDataRefresh:!0,skipAnimations:e.skipAnimations??!1})),!0}onDoubleClick(i,e){this.doDoubleClick(i,e)&&i.preventDefault()}doDoubleClick(i,e){let{listeners:{legendItemDoubleClick:n},ctx:{chartService:r},toggleSeries:a}=this;if(!e)return!1;let{legendType:s,id:o,itemId:l,seriesId:c}=e,d=r.series.find(h=>h.id===o);if(!d)return!1;let u=i5("dblclick",e,i);if(n&&Ro([d.properties,this.ctx.chartService],n,u.apiEvent),u.defaultPrevented)return!0;if(a){let h=r.series.flatMap(b=>b.getLegendData("category")),m=0,p=new Set;for(let b of h)b.enabled&&(m+=1,b.legendItemName!=null&&p.add(b.legendItemName));p.size>0&&(m=p.size);let g=h.find(b=>b.itemId===l&&b.seriesId===c);this.ctx.eventsHub.emit("legend:item-double-click",{legendType:s,series:d,itemId:l,numVisibleItems:m,enabled:g?.enabled??!1,legendItemName:g?.legendItemName})}return this.ctx.legendManager.update(),this.ctx.updateService.update(2,{forceNodeDataRefresh:!0}),!0}toTooltipMeta(i,e){let n;return i instanceof FocusEvent?n=rn.toCanvas(e).computeCenter():(i.preventDefault(),n=rn.toCanvasPoint(e,i.offsetX,i.offsetY)),{canvasX:n.x,canvasY:n.y,showArrow:!1}}onHover(i,e){if(!this.enabled)throw new Error("AG Charts - onHover handler called on disabled legend");this.pagination.setPage(e.pageIndex);let n=e.datum,r=n?this.ctx.chartService.series.find(a=>a.id===n?.id):void 0;if(n&&this.truncatedItems.has(n.itemId??n.id)){let a=this.toTooltipMeta(i,e);this.ctx.tooltipManager.updateTooltip(this.id,a,[{type:"structured",title:this.getItemLabel(n)}])}else this.ctx.tooltipManager.removeTooltip(this.id);n?.enabled&&r?this.updateHighlight({series:r,itemId:n?.itemId,datum:void 0,datumIndex:void 0,legendItemName:n?.legendItemName}):this.updateHighlight()}onLeave(){this.ctx.tooltipManager.removeTooltip(this.id),this.updateHighlight()}updateHighlight(i){this.ctx.interactionManager.isState(32)?this.ctx.highlightManager.updateHighlight(this.id,i):this.ctx.interactionManager.isState(2)&&(this.pendingHighlightDatum=i,this.ctx.animationManager.onBatchStop(()=>{this.ctx.highlightManager.updateHighlight(this.id,this.pendingHighlightDatum)}))}onLocaleChanged(){this.domProxy.onLocaleChanged(this.ctx.localeManager,this.itemSelection,this)}positionLegend(i){let e=this.positionLegendScene(i);this.positionLegendDOM(e)}positionLegendScene(i){if(!this.enabled||!this.data.length)return;let{placement:e,floating:n,xOffset:r,yOffset:a}=Nw(this.position),s=n?new _e(0,0,i.width,i.height):i.layoutBox,{x:o,y:l,width:c,height:d}=s,[u,h]=this.calculateLegendDimensions(s),{oldPages:m}=this.calcLayout(u,h),p=this.computePagedBBox();if(this.visible){let b=function(D){};var g=b;let v=this.spacing,_,w;switch(e){case"top":_=(c-p.width)/2,w=0;break;case"bottom":_=(c-p.width)/2,w=d-p.height;break;case"right":_=c-p.width,w=(d-p.height)/2;break;case"left":_=0,w=(d-p.height)/2;break;case"top-right":case"right-top":_=c-p.width,w=0;break;case"top-left":case"left-top":_=0,w=0;break;case"bottom-right":case"right-bottom":_=c-p.width,w=d-p.height;break;case"bottom-left":case"left-bottom":_=0,w=d-p.height;break;default:b(e)}if(!n){let D,I;switch(e){case"top":case"top-right":case"top-left":D=p.height+v,I="top";break;case"bottom":case"bottom-right":case"bottom-left":D=p.height+v,I="bottom";break;case"left":case"left-top":case"left-bottom":D=p.width+v,I="left";break;case"right":case"right-top":case"right-bottom":D=p.width+v,I="right";break;default:b(e)}s.shrink(D,I)}_+=r,w+=a,this.group.translationX=Math.floor(o+_-p.x),this.group.translationY=Math.floor(l+w-p.y),this.containerNode.x=p.x,this.containerNode.y=p.y,this.containerNode.width=p.width,this.containerNode.height=p.height}return m}positionLegendDOM(i){let{ctx:e,itemSelection:n,pagination:r,pages:a,toggleSeries:s,group:o,listeners:{legendItemClick:l,legendItemDoubleClick:c}}=this,d=this.visible&&this.enabled,u=s||c!=null||l!=null;this.domProxy.update({visible:d,interactive:u,ctx:e,itemSelection:n,group:o,pagination:r,oldPages:i,newPages:a,datumReader:this,itemListener:this})}calculateLegendDimensions(i){let{width:e,height:n}=i,{placement:r}=Nw(this.position),a=e/n,s=.5,o=.2,l=.25,c,d;function u(h){}switch(r){case"top":case"top-left":case"top-right":case"bottom":case"bottom-left":case"bottom-right":{let h=a<1?Math.min(s,o*(1/a)):o;c=this.maxWidth?Math.min(this.maxWidth,e):e,d=this.maxHeight?Math.min(this.maxHeight,n):Math.round(n*h);break}case"left":case"left-top":case"left-bottom":case"right":case"right-top":case"right-bottom":{let h=a>1?Math.min(s,l*a):l;c=this.maxWidth?Math.min(this.maxWidth,e):Math.round(e*h),d=this.maxHeight?Math.min(this.maxHeight,n):n;break}default:}return[c,d]}cachedCallWithContext(i,...e){let{callbackCache:n,chartService:r}=this.ctx;return n.call([this,r],i,...e)}};return t.className="Legend",t})();y([C],Nn.prototype,"toggleSeries",2);y([C],Nn.prototype,"pagination",2);y([C],Nn.prototype,"item",2);y([C],Nn.prototype,"listeners",2);y([eu((t,i,e)=>{if(t.updateGroupVisibility(),i===e)return;let{ctx:{legendManager:n,stateManager:r}}=t;e===!1&&i===!0&&r.restoreState(n)}),C],Nn.prototype,"enabled",2);y([C],Nn.prototype,"position",2);y([C],Nn.prototype,"maxWidth",2);y([C],Nn.prototype,"maxHeight",2);y([C],Nn.prototype,"reverseOrder",2);y([C],Nn.prototype,"orientation",2);y([C],Nn.prototype,"preventHidingAll",2);y([C],Nn.prototype,"border",2);y([C],Nn.prototype,"cornerRadius",2);y([C],Nn.prototype,"fill",2);y([C],Nn.prototype,"fillOpacity",2);y([C],Nn.prototype,"padding",2);y([C],Nn.prototype,"spacing",2);y([C],Nn.prototype,"xOffset",2);y([C],Nn.prototype,"yOffset",2);var $fe={type:"legend",optionsKey:"legend",identifier:"category",chartTypes:["cartesian","polar","topology","standalone"],moduleFactory:t=>new Nn(t),packageType:"community",removable:"standalone-only"},d_=class extends tt{constructor(t){super(),this.ctx=t,this.rectNode=new ir,this.border=new im(this.rectNode),this.cornerRadius=0,this.padding=0,this.cleanup=new pt,this.node=this.createNode(),this.node.append([this.rectNode]),this.rectNode.fill=void 0,this.cleanup.register(t.scene.attachNode(this.node),t.eventsHub.on("layout:complete",i=>this.onLayoutComplete(i)))}destroy(){this.cleanup.flush()}getPadding(){let{border:t,padding:i}=this,e=t.enabled?t.strokeWidth:0;if(typeof i=="number"){let n=i+e;return{top:n,right:n,bottom:n,left:n}}return{top:(i.top??0)+e,right:(i.right??0)+e,bottom:(i.bottom??0)+e,left:(i.left??0)+e}}createNode(){return new ht({name:"series-area-container",zIndex:4})}onLayoutComplete(t){let{x:i,y:e,width:n,height:r}=t.series.paddedRect;this.rectNode.x=i,this.rectNode.y=e,this.rectNode.width=n,this.rectNode.height=r}};y([C],d_.prototype,"border",2);y([C],d_.prototype,"clip",2);y([yn("rectNode","cornerRadius"),C],d_.prototype,"cornerRadius",2);y([C],d_.prototype,"padding",2);var Yfe={type:"root",optionsKey:"seriesArea",packageType:"community",chartTypes:["cartesian","polar","topology","standalone"],moduleFactory:t=>new d_(t)};function lD(t,i,e,n,r){let a=(u,h,m,p)=>{e.animate({id:`${t}_${i}_${h.id}_${u}`,groupId:t,from:m?1:0,to:1,ease:av,collapsable:m,onUpdate(g,b){b&&u!=="removed"||(h.path.clear(!0),p(g,h),h.checkPathDirty())},onStop(){u==="added"&&(h.path.clear(!0),p(1,h),h.checkPathDirty())},phase:Ao[u]})},s=new ya,o=u=>(s.resetPathDirty(),u(0,s),s.resetPathDirty(),u(1,s),s.checkPathDirty(),s.isPathDirty()),{addPhaseFn:l,updatePhaseFn:c,removePhaseFn:d}=r;for(let u of n)e.isSkipped()||(a("removed",u,!o(d),d),a("updated",u,!o(c),c)),a("added",u,!o(l),l)}function Ml(t,i,e,n,r,a){if(n.itemStyler){let s={border:n.border,color:n.color,cornerRadius:n.cornerRadius,datum:i?.datum,enabled:n.enabled,fill:n.fill,fillOpacity:n.fillOpacity,fontFamily:n.fontFamily,fontSize:n.fontSize,fontStyle:n.fontStyle,fontWeight:n.fontWeight,itemId:void 0,seriesId:t.id,padding:n.padding,highlighted:r,highlightState:a};return Xt(t.callWithContext(n.itemStyler,f(f({},e),s)),s)}return n}function P6(t,i,e,n,r,a,s){if(n.enabled&&r){let o=Ml(t,r,e,n,a,s);i.visible=!0,i.x=r.x,i.y=r.y,i.text=r.text,i.fill=o.color,i.setAlign(r),i.setFont(o),i.setBoxing(o)}else i.visible=!1}var Kfe={"inside-start":{inside:!0,direction:-1,textAlignment:1},"inside-end":{inside:!0,direction:1,textAlignment:-1},"outside-start":{inside:!1,direction:-1,textAlignment:-1},"outside-end":{inside:!1,direction:1,textAlignment:1}};function F6({isUpward:t,isVertical:i,placement:e,spacing:n=0,rect:r}){let a=r.x+r.width/2,s=r.y+r.height/2,o="center",l="middle";if(e!=="inside-center"){let c=(t?1:-1)*(i?-1:1),{direction:d,textAlignment:u}=Kfe[e],h=(d+1)*.5;if(i){let m=t?r.y+r.height:r.y,p=r.height*c;s=m+p*h+n*u*c,l=u===c?"top":"bottom"}else{let m=t?r.x:r.x+r.width,p=r.width*c;a=m+p*h+n*u*c,o=u===c?"left":"right"}}return{x:a,y:s,textAlign:o,textBaseline:l}}function fn({id:t},i,e,...n){for(let r of n)r.cleanup();Lc(t,i,e,n,{opacity:0},{opacity:1},{phase:"trailing"})}function Pw({id:t},i,e,...n){Lc(t,i,e,n,{opacity:1},{opacity:0},{phase:"remove"})}function nm(t){return{opacity:1}}var qO=class extends tt{constructor(){super(...arguments),this._dirty=!0}markDirty(){this._dirty=!0}markClean(t){this._dirty=!1}isDirty(){return this._dirty}onChangeDetection(t){this.markDirty()}},Nl=class extends qO{constructor(){super(...arguments),this.enabled=!0,this.color="rgba(0, 0, 0, 0.5)",this.xOffset=0,this.yOffset=0,this.blur=5}};y([C,ee()],Nl.prototype,"enabled",2);y([C,ee()],Nl.prototype,"color",2);y([C,ee()],Nl.prototype,"xOffset",2);y([C,ee()],Nl.prototype,"yOffset",2);y([C,ee()],Nl.prototype,"blur",2);var mr=class extends qO{constructor(){super(...arguments),this.enabled=!0,this.shape="circle",this.size=6,this.fillGradientDefaults=new Hs,this.fillPatternDefaults=new Wi,this.fillImageDefaults=new ja,this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0}getStyle(){let{size:t,shape:i,fill:e,fillOpacity:n,stroke:r,strokeWidth:a,strokeOpacity:s,lineDash:o,lineDashOffset:l}=this;return{size:t,shape:i,fill:e,fillOpacity:n,stroke:r,strokeWidth:a,strokeOpacity:s,lineDash:o,lineDashOffset:l}}getDiameter(){return this.size+this.strokeWidth}};y([C,ee()],mr.prototype,"enabled",2);y([C,cs({equals:Ff})],mr.prototype,"shape",2);y([C,ee()],mr.prototype,"size",2);y([C,cs({equals:Ln})],mr.prototype,"fill",2);y([C],mr.prototype,"fillGradientDefaults",2);y([C],mr.prototype,"fillPatternDefaults",2);y([C],mr.prototype,"fillImageDefaults",2);y([C,ee()],mr.prototype,"fillOpacity",2);y([C,ee()],mr.prototype,"stroke",2);y([C,ee()],mr.prototype,"strokeWidth",2);y([C,ee()],mr.prototype,"strokeOpacity",2);y([C],mr.prototype,"lineDash",2);y([C],mr.prototype,"lineDashOffset",2);y([C,cs({equals:Ff})],mr.prototype,"itemStyler",2);var V6=class extends tt{constructor(){super(...arguments),this.enabled=!1}};y([C],V6.prototype,"enabled",2);var zc=class extends tt{constructor(){super(...arguments),this.interaction=new V6,this.position=new qh,this.range=void 0,this.class=void 0}formatTooltip(t,i,e){let n=this.renderer==null?void 0:Ro(t,this.renderer,e);return typeof n=="string"?{type:"raw",rawHtmlString:n}:n!=null?f(f({type:"structured"},i),n):f({type:"structured"},i)}};y([C],zc.prototype,"enabled",2);y([C],zc.prototype,"showArrow",2);y([C],zc.prototype,"renderer",2);y([C],zc.prototype,"interaction",2);y([C],zc.prototype,"position",2);y([C],zc.prototype,"range",2);y([C],zc.prototype,"class",2);function rm(){return new zc}var B6=class{constructor(t,i,e){this.root=new Qfe(t,i,e)}clear(t){this.root.clear(t)}addValue(t,i){let e={hitTester:t,value:i,distanceSquared:(n,r)=>t.distanceSquared(n,r)};this.root.addElem(e)}find(t,i){let e={best:{nearest:void 0,distanceSquared:1/0}};return this.root.find(t,i,e),e.best}},qfe=class{constructor(t,i,e,n){this.nw=t,this.ne=i,this.sw=e,this.se=n}addElem(t){this.nw.addElem(t),this.ne.addElem(t),this.sw.addElem(t),this.se.addElem(t)}find(t,i,e){this.nw.find(t,i,e),this.ne.find(t,i,e),this.sw.find(t,i,e),this.se.find(t,i,e)}},Zfe=class{constructor(t,i,e){this.capacity=t,this.maxdepth=i,this.boundary=e??_e.NaN,this.elems=[],this.subdivisions=void 0}clear(t){this.elems.length=0,this.boundary=t,this.subdivisions=void 0}addElem(t){this.addCondition(t)&&(this.subdivisions===void 0?this.maxdepth===0||this.elems.length<this.capacity?this.elems.push(t):this.subdivide(t):this.subdivisions.addElem(t))}find(t,i,e){this.findCondition(t,i,e)&&(this.subdivisions===void 0?this.findAction(t,i,e):this.subdivisions.find(t,i,e))}subdivide(t){this.subdivisions=this.makeSubdivisions();for(let i of this.elems)this.subdivisions.addElem(i);this.subdivisions.addElem(t),this.elems.length=0}makeSubdivisions(){let{x:t,y:i,width:e,height:n}=this.boundary,{capacity:r}=this,a=this.maxdepth-1,s=e/2,o=n/2,l=new _e(t,i,s,o),c=new _e(t+s,i,s,o),d=new _e(t,i+o,s,o),u=new _e(t+s,i+o,s,o);return new qfe(this.child(r,a,l),this.child(r,a,c),this.child(r,a,d),this.child(r,a,u))}},Qfe=class j6 extends Zfe{addCondition(i){let{x:e,y:n}=i.hitTester.midPoint;return this.boundary.containsPoint(e,n)}findCondition(i,e,n){let{best:r}=n;return r.distanceSquared!==0&&this.boundary.distanceSquared(i,e)<r.distanceSquared}findAction(i,e,n){let r=bD(i,e,this.elems,n.best.distanceSquared);r.nearest!==void 0&&r.distanceSquared<n.best.distanceSquared&&(n.best=r)}child(i,e,n){return new j6(i,e,n)}},ZO=class extends WD{constructor(n){var r=n,{clipFocusBox:t,categoryKey:i}=r,e=ci(r,["clipFocusBox","categoryKey"]);super(e),this.categoryKey=i,this.clipFocusBox=t??!0}dataCount(){return this.processedData?.dataSources?.get(this.id)?.length??0}getScaleInformation({xScale:t,yScale:i}){let e=Di.is(t),n=Di.is(i);return{isContinuousX:e,isContinuousY:n,xScaleType:t?.type,yScaleType:i?.type}}getModulePropertyDefinitions(){let t=this.axes.x?.scale,i=this.axes.y?.scale;return this.moduleMap.mapModules(e=>e.getPropertyDefinitions(this.getScaleInformation({xScale:t,yScale:i}))).flat()}requestDataModel(t,i,e){return L(this,null,function*(){e.props.push(...this.getModulePropertyDefinitions());let{dataModel:n,processedData:r}=yield t.request(this.id,i??[],e);return this.dataModel=n,this.processedData=r,this.events.emit("data-processed",{dataModel:n,processedData:r}),{dataModel:n,processedData:r}})}isProcessedDataAnimatable(){let{processedData:t}=this;if(!t)return!1;let i=t.reduced?.animationValidation;if(!i)return!0;let{orderedKeys:e,uniqueKeys:n}=i;return e&&n}checkProcessedDataAnimatable(){this.isProcessedDataAnimatable()||this.ctx.animationManager.skipCurrentBatch()}pickFocus(t){let i=this.getNodeData();if(i===void 0||i.length===0)return;let e=this.computeFocusDatumIndex(t,i);if(e===void 0)return;let{clipFocusBox:n}=this,r=i[e],a=S(f({},t),{datumIndex:e}),s=this.computeFocusBounds(a);if(s!==void 0)return{bounds:s,clipFocusBox:n,datum:r,datumIndex:e}}pickNodesExactShape(t){let i=super.pickNodesExactShape(t);return i.sort((e,n)=>e.datumIndex-n.datumIndex),i}isDatumEnabled(t,i){let{missing:e=!1,enabled:n=!0,focusable:r=!0}=t[i];return!e&&n&&r}computeFocusDatumIndex(t,i){let e=(s,o)=>{for(;s>=0&&!this.isDatumEnabled(i,s);)s+=o;return s===-1?void 0:s},n=(s,o)=>{for(;s<i.length&&!this.isDatumEnabled(i,s);)s+=o;return s===i.length?void 0:s},r,a=Ae(0,t.datumIndex,i.length-1);return t.datumIndexDelta<0?r=e(a,t.datumIndexDelta):t.datumIndexDelta>0?r=n(a,t.datumIndexDelta):r=n(a,1)??e(a,-1),r===void 0?t.datumIndexDelta===0?void 0:t.datumIndex-t.datumIndexDelta:r}dataModelPropertyIsKey(t){let{processedData:i}=this;return i?i.defs.keys.some(e=>e.id===t&&e.idsMap?.get(this.id)?.has(t)===!0):!1}keysOrValues(t){let{dataModel:i,processedData:e}=this;return!i||!e?[]:this.dataModelPropertyIsKey(t)?i.resolveKeysById(this,t,e):i.resolveColumnById(this,t,e)}sortOrder(t){let{dataModel:i,processedData:e}=this;if(!(!i||!e))return this.dataModelPropertyIsKey(t)?i.getKeySortOrder(this,t,e):i.getColumnSortOrder(this,t,e)}getCategoryKey(){return this.categoryKey}getCategoryValue(t){let{processedData:i,dataModel:e}=this,n=this.getCategoryKey();return!i||!e||!n||(i.invalidData?.get(this.id)?.[t]??!1)?void 0:this.keysOrValues(n)[t]}datumIndexForCategoryValue(t){let{processedData:i,dataModel:e}=this,n=this.getCategoryKey();if(!i||!e||!n)return;t=t.valueOf();let r=i.invalidData?.get(this.id),a=this.keysOrValues(n);for(let s=0;s<a.length;s+=1){if(r?.[s]===!0)continue;let o=a[s]?.valueOf();if(Ln(t,o))return s}}},ig={x:["xKey"],y:["yKey"]},ng={x:["xName"],y:["yName"]},QO=class extends GD{constructor(t,i,e,n){super(t,i,e,n),this.xKey=n.properties.xKey,this.yKey=n.properties.yKey}},du=class extends Gs{constructor(){super(...arguments),this.pickOutsideVisibleMinorAxis=!1}};y([C],du.prototype,"legendItemName",2);y([C],du.prototype,"pickOutsideVisibleMinorAxis",2);var cD=100,am=class extends ZO{constructor(l){var c=l,{pathsPerSeries:t=["path"],pathsZIndexSubOrderOffset:i=[],datumSelectionGarbageCollection:e=!0,animationAlwaysUpdateSelections:n=!1,animationResetFns:r,propertyKeys:a,propertyNames:s}=c,o=ci(c,["pathsPerSeries","pathsZIndexSubOrderOffset","datumSelectionGarbageCollection","animationAlwaysUpdateSelections","animationResetFns","propertyKeys","propertyNames"]);if(super(f({propertyKeys:a,propertyNames:s,canHaveAxes:!0},o)),this.NodeEvent=QO,this.dataNodeGroup=this.contentGroup.appendChild(new ht({name:`${this.id}-series-dataNodes`,zIndex:1})),this.labelGroup=this.contentGroup.appendChild(new Wr({name:`${this.id}-series-labels`})),this.labelSelection=$r.select(this.labelGroup,as),this.highlightSelection=$r.select(this.highlightGroup,()=>this.nodeFactory()),this.annotationSelections=new Set,this.debug=bt.create(),!a||!s)throw new Error(`Unable to initialise series type ${this.type}`);this.opts={pathsPerSeries:t,pathsZIndexSubOrderOffset:i,propertyKeys:a,propertyNames:s,animationResetFns:r,animationAlwaysUpdateSelections:n,datumSelectionGarbageCollection:e},this.paths=t.map(d=>new ya({name:`${this.id}-${d}`})),this.datumSelection=$r.select(this.dataNodeGroup,()=>this.nodeFactory(),e),this.animationState=new Rv("empty",{empty:{update:{target:"ready",action:d=>this.animateEmptyUpdateReady(d)},reset:"empty",skip:"ready",disable:"disabled"},ready:{updateData:"waiting",clear:"clearing",highlight:d=>this.animateReadyHighlight(d),resize:d=>this.animateReadyResize(d),reset:"empty",skip:"ready",disable:"disabled"},waiting:{update:{target:"ready",action:d=>{this.ctx.animationManager.isSkipped()?this.resetAllAnimation(d):this.animateWaitingUpdateReady(d)}},reset:"empty",skip:"ready",disable:"disabled"},disabled:{update:d=>this.resetAllAnimation(d),reset:"empty"},clearing:{update:{target:"empty",action:d=>this.animateClearingUpdateEmpty(d)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}get contextNodeData(){return this._contextNodeData}getNodeData(){return this.contextNodeData?.nodeData}attachSeries(t,i,e){super.attachSeries(t,i,e),this.attachPaths(this.paths)}detachSeries(t,i,e){super.detachSeries(t,i,e),this.detachPaths(this.paths)}updatedDomains(){this.animationState.transition("updateData")}attachPaths(t){for(let i of t)this.contentGroup.appendChild(i)}detachPaths(t){for(let i of t)this.contentGroup.removeChild(i)}renderToOffscreenCanvas(){let t=this.getNodeData();return t!=null&&t.length>cD}resetAnimation(t){t==="initial"?this.animationState.transition("reset"):t==="ready"?this.animationState.transition("skip"):t==="disabled"&&this.animationState.transition("disable")}addChartEventListeners(){this.cleanup.register(this.ctx.eventsHub.on("legend:item-click",t=>this.onLegendItemClick(t)),this.ctx.eventsHub.on("legend:item-double-click",t=>this.onLegendItemDoubleClick(t)))}destroy(){super.destroy(),this._contextNodeData=void 0}isSeriesHighlighted(t){let{series:i,legendItemName:e}=t??{},{legendItemName:n}=this.properties;return i===this||n!=null&&n===e}strokewidthChange(){let t=("strokeWidth"in this.properties&&this.properties.strokeWidth)??0,i=this.properties.highlight.highlightedSeries.strokeWidth??t,e=this.properties.highlight.highlightedItem?.strokeWidth??t;return t>e||i>e}update({seriesRect:t}){let{_contextNodeData:i}=this,e=this.checkResize(t),n=this.updateHighlightSelection();this.contentGroup.batchedUpdate(()=>{let a=this.updateSelections();this.updateNodes(n,e||a)});let r=this.getAnimationData(t,i);r&&(e&&this.animationState.transition("resize",r),this.animationState.transition("update",r))}updateSelections(){var t;let i=!this.opts.animationAlwaysUpdateSelections&&this.ctx.animationManager.isSkipped();if(!this.visible&&i)return!1;let{nodeDataRefresh:e}=this;if(!e&&!this.isPathOrSelectionDirty())return!1;if(e){this.nodeDataRefresh=!1,this.debug("CartesianSeries.updateSelections() - calling createNodeData() for",this.id),this.markQuadtreeDirty(),this._contextNodeData=this.createNodeData();let n=this.isProcessedDataAnimatable();this._contextNodeData&&((t=this._contextNodeData).animationValid??(t.animationValid=n));let{dataModel:r,processedData:a}=this;r!==void 0&&a!==void 0&&this.events.emit("data-update",{dataModel:r,processedData:a}),this.updateSeriesSelections()}return e}updateSeriesSelections(){let{datumSelection:t,labelSelection:i,paths:e}=this,n=this._contextNodeData;if(!n)return;let{nodeData:r,labelData:a,itemId:s}=n;this.updatePaths({itemId:s,contextData:n,paths:e}),this.datumSelection=this.updateDatumSelection({nodeData:r,datumSelection:t}),this.labelGroup.batchedUpdate(()=>{this.labelSelection=this.updateLabelSelection({labelData:a,labelSelection:i})??i})}getShapeFillBBox(){let{axes:t}=this,i=t.x,e=t.y,[n,r]=er(i?.range??[0,1]),[a,s]=er(e?.range??[0,1]),o=this.getSeriesDomain("x"),l=[i?.scale.convert(o.at(0)),i?.scale.convert(o.at(-1))],c=this.getSeriesDomain("y"),d=[e?.scale.convert(c.at(0)),e?.scale.convert(c.at(-1))],[u,h]=er(l),[m,p]=er(d);return{axis:new _e(n,a,r-n,s-a),series:new _e(u,m,h-u,p-m)}}updateNodes(t,i){let{highlightSelection:e,datumSelection:n}=this,r=!this.ctx.animationManager.isSkipped(),a=this.visible&&this._contextNodeData!=null;this.contentGroup.visible=r||a,this.highlightGroup.visible=(r||a)&&t,this.updateDatumNodes({datumSelection:e,isHighlight:!0}),this.animationState.transition("highlight",e);let{dataNodeGroup:s,labelSelection:o,paths:l,labelGroup:c}=this,{itemId:d}=this.contextNodeData??{};if(this.updatePathNodes({itemId:d,paths:l,visible:a,animationEnabled:r}),s.visible=r||a,c.visible=a,!s.visible)return;let u=this.strokewidthChange()||this.hasChangesOnHighlight;(i||u)&&(this.updateDatumNodes({datumSelection:n,isHighlight:!1}),this.usesPlacedLabels||this.labelGroup.batchedUpdate(()=>{this.updateLabelNodes({labelSelection:o,isHighlight:!1})}))}getHighlightLabelData(t,i){let e=t.filter(n=>n.datum===i.datum&&n.itemId===i.itemId);return e.length===0?void 0:e}getHighlightData(t,i){return i?[i]:void 0}updateHighlightSelection(){let{highlightSelection:t,_contextNodeData:i}=this;if(!i)return!1;let e=this.ctx.highlightManager?.getActiveHighlight(),r=this.isSeriesHighlighted(e)&&e?.datum?e:void 0;if(r==null)return!1;let{nodeData:a}=i,s=this.getHighlightData(a,r);return this.highlightSelection=this.updateHighlightSelectionItem({items:s,highlightSelection:t}),!0}markQuadtreeDirty(){this.quadtree=void 0}*datumNodesIter(){for(let{node:t}of this.datumSelection)t.datum.missing!==!0&&(yield t)}getQuadTree(){if(this.quadtree===void 0){let{width:t,height:i}=this.ctx.scene.canvas,e=new _e(0,0,t,i);this.quadtree=new B6(100,10,e),this.initQuadTree(this.quadtree)}return this.quadtree}initQuadTree(t){}pickNodesExactShape(t){let i=super.pickNodesExactShape(t);if(i.length!==0)return i;let{x:e,y:n}=t,{dataNodeGroup:r}=this,a=r.pickNodes(e,n).filter(s=>s.datum.missing!==!0);if(a.length!==0)return a.map(o=>o.datum);for(let s of this.moduleMap.modules()){let{datum:o}=s.pickNodeExact(t)??{};if(o!=null&&o?.missing!==!0)return[o]}return[]}pickNodeClosestDatum(t){let{x:i,y:e}=t,{axes:n,_contextNodeData:r}=this;if(!r)return;let a=n.x,s=n.y,o={x:i,y:e},l=1/0,c;for(let d of r.nodeData){let{point:{x:u=NaN,y:h=NaN}={}}=d;if(isNaN(u)||isNaN(h)||!(a?.inRange(u)&&s?.inRange(h)))continue;let p=Math.max((o.x-u)**2+(o.y-h)**2,0);p<l&&(l=p,c=d)}for(let d of this.moduleMap.modules()){let u=d.pickNodeNearest(t);if(u!==void 0&&u.distanceSquared<l){l=u.distanceSquared,c=u.datum;break}}if(c){let d=Math.max(Math.sqrt(l)-(c.point?.size??0)/2,0);return{datum:c,distance:d}}}pickNodeMainAxisFirst(t,i){let{x:e,y:n}=t,{axes:r,_contextNodeData:a}=this,{pickOutsideVisibleMinorAxis:s}=this.properties;if(!a)return;let o=r.x,l=r.y;if(o==null||l==null)return;let c=[o,l].filter(p=>p.isCategoryLike()).map(p=>p.direction);if(i&&c.length===0)return;let[d="x"]=c,u=[e,n];d!=="x"&&u.reverse();let h=[1/0,1/0],m;for(let p of a.nodeData){let{x:g=NaN,y:b=NaN}=p.point??p.midPoint??{};if(isNaN(g)||isNaN(b)||p.missing===!0)continue;let v=[o?.inRange(g,1),l?.inRange(b,1)];if(d!=="x"&&v.reverse(),!v[0]||!s&&!v[1])continue;let _=[g,b];d!=="x"&&_.reverse();let w=!0;for(let D=0;D<_.length;D++){let I=Math.abs(_[D]-u[D]);if(I>h[D]){w=!1;break}else I<h[D]&&(h[D]=I,h.fill(1/0,D+1,h.length))}w&&(m=p)}if(m){let p=Math.max(h[0]**2+h[1]**2-(m.point?.size??0),0);for(let g of this.moduleMap.modules()){let b=g.pickNodeMainAxisFirst(t,d);if(b!==void 0&&b.distanceSquared<p){m=b.datum,p=b.distanceSquared;break}}return{datum:m,distance:Math.sqrt(p)}}}isPathOrSelectionDirty(){return!1}shouldFlipXY(){return!1}visibleRangeIndices(t,i,e,n){let r;if(n==null){let{processedData:c,dataModel:d}=this;r=d.getColumnSortOrder(this,t,c)??1}else r=n.sortOrder;let a=this.keysOrValues(t),s=0,[o,l]=GG(r,e?.length??a.length,i,c=>{let d=e?.[c]??c;return this.xCoordinateRange(a[d],s,d)});return o<l?[o,l]:[l,o]}domainForVisibleRange(t,i,e,n,r){let{processedData:a,dataModel:s}=this,[o,l]=n,c=this.keysOrValues(e),d=this.sortOrder(e);if(d!=null){let p=this.visibleRangeIndices(e,n,r,{sortOrder:d});return s.getDomainBetweenRange(this,i,p,a)}let u=i.map(p=>this.keysOrValues(p)),h=1/0,m=-1/0;return c.forEach((p,g)=>{let[b,v]=this.xCoordinateRange(p,0,g);if(!(v<o||b>l))for(let _=0;_<i.length;_++){let w=u[_][g];h=Math.min(h,w),m=Math.max(m,w)}}),h>m?[NaN,NaN]:[h,m]}domainForClippedRange(t,i,e){let{processedData:n,dataModel:r,axes:a}=this,o=Xfe(a[t==="x"?"y":"x"]);if(!o)return i.flatMap(p=>r.getDomain(this,p,"value",n));let l=this.keysOrValues(e),c=r.getColumnSortOrder(this,e,n);if(c!=null){let p=Jfe(c,l.length,o,g=>l[g]);return r.getDomainBetweenRange(this,i,p,n)}let d=i.map(p=>this.keysOrValues(p)),u=o[0].valueOf(),h=o[1].valueOf(),m=[];return l.forEach((p,g)=>{let b=p.valueOf();if(b<u||b>h)return;let v=d.map(_=>_[g]);b>=u&&m.push(...v),b<=h&&m.push(...v)}),m}countVisibleItems(t,i,e,n,r){let{dataModel:a,processedData:s}=this;if(!a||!s)return 1/0;let o=this.keysOrValues(t),l=i.map(I=>a.resolveColumnById(this,I,s)),c=this.axes.x,d=this.axes.y,u=this.shouldFlipXY();if(n==null){let I=this.sortOrder(t);if(I==null)n=[0,1];else{let E=c.scale,A=E.range;E.range=[0,1];let[N,F]=this.visibleRangeIndices(t,e,void 0,{sortOrder:I}),P=this.keysOrValues(t),U=0;this.xCoordinateRange(P[N],U,N)[0]<e[0]&&(N+=1),F<P.length&&this.xCoordinateRange(P[F],U,F)[1]>e[1]&&(F-=1);let H=Math.abs(F-N);return E.range=A,H}}let h=(I,E,A)=>I[0]+(A-E[0])/(E[1]-E[0])*(I[1]-I[0]),m=c.range,p=d.range,g=h(m,c.visibleRange,e[0]),b=h(m,c.visibleRange,e[1]),v=h(p,d.visibleRange,u?n[0]:n[1]),_=h(p,d.visibleRange,u?n[1]:n[0]),w=Math.round((e[0]+(e[1]-e[0])/2)*o.length),D=0;return WG(0,o.length-1,w,r,I=>{let[E,A]=this.xCoordinateRange(o[I],D,I),[N,F]=this.yCoordinateRange(l.map(P=>P[I]),D,I);return!Tt(E)||!Tt(A)||!Tt(N)||!Tt(F)?!1:(u&&([E,A,N,F]=[N,F,E,A]),E>=g&&A<=b&&N>=v&&F<=_)})}minTimeInterval(){let t;try{t=this.keysOrValues("xValue")}catch{}if(t==null||t.length>1e3)return;let i=1/0,e=t[0],n;for(let r=1;r<t.length;r++){let a=t[r];if(a!=null&&e!=null){let s=a.valueOf()-e.valueOf(),o=Math.sign(s);if(o===0)continue;if(n!==void 0&&o!==n)return;i=Math.min(i,Math.abs(s)),n=o}e=a}if(Number.isFinite(i))return i}updateHighlightSelectionItem(t){let{items:i,highlightSelection:e}=t,n=i??[];return this.updateDatumSelection({nodeData:n,datumSelection:e})}updateHighlightSelectionLabel(t){return this.updateLabelSelection({labelData:t.items??[],labelSelection:t.highlightLabelSelection})}updateDatumSelection(t){return t.datumSelection}updateDatumNodes(t){}updatePaths(t){t.paths.forEach(i=>i.visible=!1)}updatePathNodes(t){let{paths:i,visible:e}=t;for(let n of i)n.visible=e}resetPathAnimation(t){let{path:i}=this.opts?.animationResetFns??{};i&&t.paths.forEach(e=>{kr([e],i)})}resetDatumAnimation(t){let{datum:i}=this.opts?.animationResetFns??{};i&&kr([t.datumSelection],i)}resetLabelAnimation(t){let{label:i}=this.opts?.animationResetFns??{};i&&kr([t.labelSelection],i)}resetAllAnimation(t){this.ctx.animationManager.stopByAnimationGroupId(this.id),this.resetPathAnimation(t),this.resetDatumAnimation(t),this.resetLabelAnimation(t),t.contextData?.animationValid===!1&&this.ctx.animationManager.skipCurrentBatch()}animateEmptyUpdateReady(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(t)}animateWaitingUpdateReady(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(t)}animateReadyHighlight(t){let{datum:i}=this.opts?.animationResetFns??{};i&&kr([t],i)}animateReadyResize(t){this.resetAllAnimation(t)}animateClearingUpdateEmpty(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(t)}getAnimationData(t,i){let{_contextNodeData:e}=this;return e?{datumSelection:this.datumSelection,labelSelection:this.labelSelection,annotationSelections:[...this.annotationSelections],contextData:e,previousContextData:i,paths:this.paths,seriesRect:t}:void 0}updateLabelSelection(t){return t.labelSelection}getScaling(t){if(t instanceof PO){let{range:i,domain:e}=t;return{type:"log",convert:n=>t.convert(n),domain:[e[0],e[1]],range:[i[0],i[1]]}}else if(t instanceof Di){let{range:i,domain:e}=t;return{type:"continuous",domain:[e[0],e[1]],range:[i[0],i[1]]}}else if(t instanceof Oc)return{type:"category",domain:t instanceof Fd?t.bands:t.domain,inset:t.inset,step:t.step}}calculateScaling(){let t={};for(let i of Object.values($R)){let e=this.axes[i];if(!e)continue;let n=this.getScaling(e.scale);n!=null&&(t[i]=n)}return t}};function Xfe(t){let i,e;if((t instanceof su||t instanceof ou)&&({min:i,max:e}=t),!(i==null&&e==null))return i??(i=-1/0),e??(e=1/0),[i,e]}function Jfe(t,i,e,n){let r=e[0].valueOf(),a=e[1].valueOf(),s=pc(0,i-1,l=>{let c=t===1?l:i-l,d=n(c)?.valueOf();return!Number.isFinite(d)||d>=r}),o=_o(0,i-1,l=>{let c=t===1?l:i-l,d=n(c)?.valueOf();return!Number.isFinite(d)||d<=a});return s==null||o==null?[0,0]:(t===-1&&([s,o]=[i-o,i-s]),s=Math.max(s,0),o=Math.min(o+1,i),[s,o])}var rg=class extends tt{constructor(){super(...arguments),this.type="linear",this.tension=1,this.position="end"}};y([C],rg.prototype,"type",2);y([C],rg.prototype,"tension",2);y([C],rg.prototype,"position",2);var on=class extends du{constructor(){super(...arguments),this.xName=void 0,this.fill="#c16068",this.fillGradientDefaults=new Hs,this.fillPatternDefaults=new Wi,this.fillImageDefaults=new ja,this.fillOpacity=1,this.stroke="#874349",this.strokeWidth=2,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.interpolation=new rg,this.shadow=new Nl,this.marker=new mr,this.label=new sn,this.tooltip=rm(),this.connectMissingData=!1}};y([C],on.prototype,"xKey",2);y([C],on.prototype,"xName",2);y([C],on.prototype,"yKey",2);y([C],on.prototype,"yName",2);y([C],on.prototype,"yFilterKey",2);y([C],on.prototype,"normalizedTo",2);y([C],on.prototype,"fill",2);y([C],on.prototype,"fillGradientDefaults",2);y([C],on.prototype,"fillPatternDefaults",2);y([C],on.prototype,"fillImageDefaults",2);y([C],on.prototype,"fillOpacity",2);y([C],on.prototype,"stroke",2);y([C],on.prototype,"strokeWidth",2);y([C],on.prototype,"strokeOpacity",2);y([C],on.prototype,"lineDash",2);y([C],on.prototype,"lineDashOffset",2);y([C],on.prototype,"interpolation",2);y([C],on.prototype,"shadow",2);y([C],on.prototype,"marker",2);y([C],on.prototype,"label",2);y([C],on.prototype,"tooltip",2);y([C],on.prototype,"connectMissingData",2);function zs(t){switch(t.type){case"linear":case"step":return[{x:t.x0,y:t.y0},{x:t.x1,y:t.y1}];case"cubic":return[{x:t.cp0x,y:t.cp0y},{x:t.cp3x,y:t.cp3y}]}}function ege(t){let i=zs(t);return i[0].x>i[1].x&&i.reverse(),i}function tge(t,i){let{x:e,y:n}=i;switch(t.type){case"linear":return{type:"linear",moveTo:t.moveTo,x0:e,y0:n,x1:e,y1:n};case"step":return{type:"step",moveTo:t.moveTo,x0:e,y0:n,x1:e,y1:n,stepX:e};case"cubic":return{type:"cubic",moveTo:t.moveTo,cp0x:e,cp0y:n,cp1x:e,cp1y:n,cp2x:e,cp2y:n,cp3x:e,cp3y:n}}}function bv(t,i,e){let[n,r]=zs(t),a=r.x!==n.x?(e.x-i.x)/(r.x-n.x):0,s=r.y!==n.y?(e.y-i.y)/(r.y-n.y):0;switch(t.type){case"linear":return{type:"linear",moveTo:t.moveTo,x0:i.x,y0:i.y,x1:e.x,y1:e.y};case"cubic":return{type:"cubic",moveTo:t.moveTo,cp0x:i.x,cp0y:i.y,cp1x:e.x-(t.cp2x-n.x)*a,cp1y:e.y-(t.cp2y-n.y)*s,cp2x:e.x-(t.cp1x-n.x)*a,cp2y:e.y-(t.cp1y-n.y)*s,cp3x:e.x,cp3y:e.y};case"step":return{type:"step",moveTo:t.moveTo,x0:i.x,y0:i.y,x1:e.x,y1:e.y,stepX:e.x-(t.stepX-n.x)*a}}}function z6(t,i,e){let{moveTo:n}=t,[r,a]=ege(t),{x:s,y:o}=r,{x:l,y:c}=a;if(e<s)return bv(t,r,r);if(i>l)return bv(t,a,a);switch(t.type){case"linear":{let d=o===c?void 0:(c-o)/(l-s),u=d==null?o:d*(i-s)+o,h=d==null?o:d*(e-s)+o;return{type:"linear",moveTo:n,x0:i,y0:u,x1:e,y1:h}}case"step":if(e<=t.stepX){let d=t.y0;return{type:"step",moveTo:n,x0:i,y0:d,x1:e,y1:d,stepX:e}}else if(i>=t.stepX){let d=t.y1;return{type:"step",moveTo:n,x0:i,y0:d,x1:e,y1:d,stepX:i}}else{let{y0:d,y1:u,stepX:h}=t;return{type:"step",moveTo:n,x0:i,y0:d,x1:e,y1:u,stepX:h}}case"cubic":{let d=Ww(t.cp0x,t.cp1x,t.cp2x,t.cp3x,i),[u,h]=nv(t.cp0x,t.cp0y,t.cp1x,t.cp1y,t.cp2x,t.cp2y,t.cp3x,t.cp3y,d),m=Ww(h[0].x,h[1].x,h[2].x,h[3].x,e);return[h,u]=nv(h[0].x,h[0].y,h[1].x,h[1].y,h[2].x,h[2].y,h[3].x,h[3].y,m),{type:"cubic",moveTo:n,cp0x:h[0].x,cp0y:h[0].y,cp1x:h[1].x,cp1y:h[1].y,cp2x:h[2].x,cp2y:h[2].y,cp3x:h[3].x,cp3y:h[3].y}}}}function ige(t){let i=[],e=0,n=NaN,r=NaN;for(let{x:a,y:s}of t){if(e>0){let o=e===1;i.push({type:"linear",moveTo:o,x0:n,y0:r,x1:a,y1:s})}e+=1,n=a,r=s}return i}var nge={start:0,middle:.5,end:1};function rge(t,i){let e=[],n=0,r=NaN,a=NaN,s=typeof i=="number"?i:nge[i];for(let{x:o,y:l}of t){if(n>0){let c=n===1,d=r+(o-r)*s;e.push({type:"step",moveTo:c,x0:r,y0:a,x1:o,y1:l,stepX:d})}n+=1,r=o,a=l}return e}var vw=.05;function age(t,i){let e=Array.isArray(t)?t:Array.from(t);if(e.length<=1)return[];let n=e.map((a,s)=>{let o=s===0?a:e[s-1],l=s===e.length-1?a:e[s+1],c=s===0||s===e.length-1;if(Math.sign(o.y-a.y)===Math.sign(l.y-a.y))return 0;if(!c){let d=Math.abs(o.y-l.y),u=Math.abs(a.y-o.y)/d,h=Math.abs(a.y-l.y)/d;if(u<=vw||1-u<=vw||h<=vw||1-h<=vw)return 0}return(l.y-o.y)/(l.x-o.x)});n[1]===0&&(n[0]*=2),n[n.length-2]===0&&(n[n.length-1]*=2);let r=[];for(let a=1;a<e.length;a+=1){let s=e[a-1],o=n[a-1],l=e[a],c=n[a],d=l.x-s.x,u=l.y-s.y,h=d*i/3,m=d*o*i/3,p=d*i/3,g=d*c*i/3;c===0&&Math.abs(m)>Math.abs(u)&&(h*=Math.abs(u/m),m=Math.sign(m)*Math.abs(u)),o===0&&Math.abs(g)>Math.abs(u)&&(p*=Math.abs(u/g),g=Math.sign(g)*Math.abs(u)),r.push({type:"cubic",moveTo:a===1,cp0x:s.x,cp0y:s.y,cp1x:s.x+h,cp1y:s.y+m,cp2x:l.x-p,cp2y:l.y-g,cp3x:l.x,cp3y:l.y})}return r}function En(t,i,e){return(i-t)*e+t}function sge(t,i){let{x0:e,y0:n,x1:r,y1:a}=t,o=(a-n)/(r-e)*(i-e)+n;return{leftCp1x:e,leftCp1y:n,leftCp2x:i,leftCp2y:o,stepX:i,stepY0:o,stepY1:o,rightCp1x:i,rightCp1y:o,rightCp2x:r,rightCp2y:a}}function oge(t,i){let{cp0x:e,cp0y:n,cp1x:r,cp1y:a,cp2x:s,cp2y:o,cp3x:l,cp3y:c}=t,d=Ww(e,r,s,l,i),[u,h]=nv(e,n,r,a,s,o,l,c,d),m=u[3].y;return{leftCp1x:u[1].x,leftCp1y:u[1].y,leftCp2x:u[2].x,leftCp2y:u[2].y,stepX:i,stepY0:m,stepY1:m,rightCp1x:h[1].x,rightCp1y:h[1].y,rightCp2x:h[2].x,rightCp2y:h[2].y}}function lge(t){let{x0:i,y0:e,x1:n,y1:r,stepX:a}=t;return{leftCp1x:(i+a)/2,leftCp1y:e,leftCp2x:(i+a)/2,leftCp2y:e,stepX:a,stepY0:e,stepY1:r,rightCp1x:(a+n)/2,rightCp1y:r,rightCp2x:(a+n)/2,rightCp2y:r}}function s5(t,i){return t.type==="linear"?sge(t,i):t.type==="cubic"?oge(t,i):lge(t)}function U6(t,i,e,n,r,a,s){switch(i){case 0:s?t.moveTo(r,a):t.moveTo(e,n);break;case 1:s?t.lineTo(r,a):t.lineTo(e,n);break}}function H6(t,i,e,n,r,a){a?t.lineTo(i,e):t.lineTo(n,r)}function G6(t,i,e,n,r,a,s,o,l,c){c?t.cubicCurveTo(a,s,n,r,i,e):t.cubicCurveTo(n,r,a,s,o,l)}function W6(t,i,e,n,r,a,s){s?(t.lineTo(a,r),t.lineTo(a,e),t.lineTo(i,e)):(t.lineTo(a,e),t.lineTo(a,r),t.lineTo(n,r))}function $b(t,i,e,n){let[r,a]=zs(i);switch(U6(t,e,r.x,r.y,a.x,a.y,n),i.type){case"linear":H6(t,i.x0,i.y0,i.x1,i.y1,n);break;case"cubic":G6(t,i.cp0x,i.cp0y,i.cp1x,i.cp1y,i.cp2x,i.cp2y,i.cp3x,i.cp3y,n);break;case"step":W6(t,i.x0,i.y0,i.x1,i.y1,i.stepX,n);break}}function $6(t,i,e){let[n,r]=zs(t),[a,s]=zs(i),o=En(n.x,a.x,e),l=En(n.y,a.y,e),c=En(r.x,s.x,e),d=En(r.y,s.y,e);return[{x:o,y:l},{x:c,y:d}]}function CR(t,i,e,n,r,a){let[{x:s,y:o},{x:l,y:c}]=$6(i,e,n);if(U6(t,r,s,o,l,c,a),i.type==="cubic"&&e.type==="cubic"){let d=En(i.cp1x,e.cp1x,n),u=En(i.cp1y,e.cp1y,n),h=En(i.cp2x,e.cp2x,n),m=En(i.cp2y,e.cp2y,n);G6(t,s,o,d,u,h,m,l,c,a)}else if(i.type==="step"&&e.type==="step"){let d=En(i.stepX,e.stepX,n);W6(t,s,o,l,c,d,a)}else if(i.type==="linear"&&e.type==="linear")H6(t,s,o,l,c,a);else{let d;i.type==="step"?d=i.stepX:e.type==="step"?d=e.stepX:d=(s+l)/2;let u=s5(i,d),h=s5(e,d),m=En(u.leftCp1x,h.leftCp1x,n),p=En(u.leftCp1y,h.leftCp1y,n),g=En(u.leftCp2x,h.leftCp2x,n),b=En(u.leftCp2y,h.leftCp2y,n),v=En(u.stepX,h.stepX,n),_=En(u.stepY0,h.stepY0,n),w=En(u.stepY1,h.stepY1,n),D=En(u.rightCp1x,h.rightCp1x,n),I=En(u.rightCp1y,h.rightCp1y,n),E=En(u.rightCp2x,h.rightCp2x,n),A=En(u.rightCp2y,h.rightCp2y,n);a?(t.cubicCurveTo(E,A,D,I,v,w),t.lineTo(v,_),t.cubicCurveTo(g,b,m,p,s,o)):(t.cubicCurveTo(m,p,g,b,v,_),t.lineTo(v,w),t.cubicCurveTo(D,I,E,A,l,c))}}var cge=1e3,Y6=(t=>(t[t.Zero=0]="Zero",t[t.Split=1]="Split",t))(Y6||{});function dge(t,i){return t==null||i==null||typeof t!="object"||typeof i!="object"?!1:"id"in t&&"id"in i?t.id===i.id:t.toString()===i.toString()}function Fa(t){return nR(t).valueOf()}function Gr(t,i){if(!i)return NaN;if(t instanceof Date&&(t=t.getTime()),i.type==="continuous"&&typeof t=="number")return(t-i.domain[0])/(i.domain[1]-i.domain[0])*(i.range[1]-i.range[0])+i.range[0];if(i.type==="log"&&typeof t=="number")return i.convert(t);if(i.type!=="category")return NaN;let e=Fa(t),n=i.domain.findIndex(r=>Fa(r)===e);return n===-1&&(n=i.domain.findIndex(r=>dge(t,r))),n>=0?i.inset+i.step*n:NaN}function o5({data:t},i){return t.map((e,n)=>({xValue0Index:i.indexOf(Fa(e.xValue0)),xValue1Index:i.indexOf(Fa(e.xValue1)),datumIndex:n}))}function l5(t){return Object.values(t.scales).every(i=>i.type==="category"?i.domain.length<cge:!0)}function uge(t,i){let e=i.scales.x,n=t.scales.x;if(e?.type!=="category"||n?.type!=="category")return!0;let r=-1/0;for(let a of e.domain){let s=Gr(a,n);if(Number.isFinite(s)){if(s<r)return!1;r=s}}return!0}function hge(t,i){let e=-1/0;for(let n of t){let r=Gr(n.value,i.scales.x);if(Number.isFinite(r)){if(r<e)return!1;e=r}}return!0}function mge(t,i){let e=new Map;for(let{xValue0:d,xValue1:u}of t.data){let h=Fa(d),m=Fa(u);e.set(h,d).set(m,u)}let n=Array.from(e,([d,u])=>({axisValue:d,value:u}));n.sort((d,u)=>Gr(d.value,t.scales.x)-Gr(u.value,t.scales.x));let r=[];for(let{xValue0:d,xValue1:u}of i.data){let h=Fa(d),m=Fa(u);e.has(h)||(e.set(h,d),r.push({axisValue:h,value:d})),e.has(m)||(e.set(m,u),r.push({axisValue:m,value:u}))}r.sort((d,u)=>Gr(d.value,i.scales.x)-Gr(u.value,i.scales.x));let a=n,s=0;for(let d of r){for(let u=a.length-1;u>=s;u-=1){let h=Gr(d.value,i.scales.x),m=Gr(a[u].value,i.scales.x);if(h>m){s=u+1;break}}a.splice(s,0,d),s+=1}if(!hge(a,i))return;let o=a.map(d=>d.axisValue),l=o5(i,o),c=o5(t,o);return{axisValues:o,oldDataAxisIndices:l,newDataAxisIndices:c}}function c5(t,i,e){if(e.xValue1Index===e.xValue0Index+1)return t;let n=zs(t),r=(n[1].x-n[0].x)/(e.xValue1Index-e.xValue0Index),a=n[0].x+(i-e.xValue0Index)*r,s=a+r;return z6(t,a,s)}function K6(t,i){let[e,n]=zs(t),r=Gr(0,i.scales.y);return bv(t,{x:e.x,y:r},{x:n.x,y:r})}function q6(t){let[i,e]=zs(t);return tge(t,{x:(i.x+e.x)/2,y:(i.y+e.y)/2})}function Z6(t,i,e,n,r,a){let s,o;if(r.xValue0Index>=a.xValue1Index){let u=n.findLast(m=>m.xValue1Index<=a.xValue1Index)?.datumIndex,h=u!=null?e.data[u]:void 0;s=h?.xValue1,o=h?.yValue1}else if(r.xValue0Index<=a.xValue0Index){let u=n.find(m=>m.xValue0Index>=a.xValue0Index)?.datumIndex,h=u!=null?e.data[u]:void 0;s=h?.xValue0,o=h?.yValue0}if(s==null||o==null)switch(i){case 0:return K6(t,e);case 1:return q6(t)}let l=Gr(s,e.scales.x),c=Gr(o,e.scales.y),d={x:l,y:c};return bv(t,d,d)}function XO(t,i){if(i==null)return;let e=Fa(t.xValue0),n=Fa(t.xValue1);return i.find(r=>Fa(r.xValue0)===e&&Fa(r.xValue1)===n)?.span}function d5(t,i,e,n,r,a,s){let o=t.data[n.datumIndex],l=o.span,c=XO(o,r);if(c!=null)s.removed.push({from:c,to:c}),s.moved.push({from:c,to:l}),s.added.push({from:l,to:l});else{let d=Z6(l,i,t,e,n,a);s.added.push({from:d,to:l})}}function u5(t,i,e,n,r,a,s){let o=t.data[n.datumIndex],l=o.span,c=XO(o,r);if(c!=null)s.removed.push({from:l,to:l}),s.moved.push({from:l,to:c}),s.added.push({from:c,to:c});else{let d=Z6(l,i,t,e,n,a);s.removed.push({from:l,to:d})}}function h5(t,i,e,n,r){let a=i[r.xValue0Index],s=e.data.find(b=>Fa(b.xValue0)===a),o=i[r.xValue1Index],l=e.data.find(b=>Fa(b.xValue1)===o);if(s==null||l==null)return;let[{x:c},{x:d}]=zs(t),u=Gr(s.xValue0,e.scales.x),h=Gr(s.yValue0,e.scales.y),m=Gr(l.xValue1,e.scales.x),p=Gr(l.yValue1,e.scales.y),g=n.data[r.datumIndex].span;return g=bv(g,{x:u,y:h},{x:m,y:p}),g=z6(g,c,d),g}function pge(t,i,e,n,r,a,s,o,l){let c=r+1,d=s.find(w=>w.xValue0Index<=r&&w.xValue1Index>=c),u=a.find(w=>w.xValue0Index<=r&&w.xValue1Index>=c),h=i.zeroData,m=t.zeroData;if(d==null&&u!=null){d5(t,e,a,u,h,o,l);return}else if(d!=null&&u==null){u5(i,e,s,d,m,o,l);return}else if(d==null||u==null)return;let p;d.xValue0Index===u.xValue0Index&&d.xValue1Index===u.xValue1Index?p=0:d.xValue0Index<=u.xValue0Index&&d.xValue1Index>=u.xValue1Index?p=-1:d.xValue0Index>=u.xValue0Index&&d.xValue1Index<=u.xValue1Index?p=1:p=0;let g=i.data[d.datumIndex],b=c5(g.span,r,d),v=t.data[u.datumIndex],_=c5(v.span,r,u);if(p===1){let w=h5(b,n,i,t,u);w!=null?(l.removed.push({from:b,to:w}),l.moved.push({from:w,to:_}),l.added.push({from:_,to:_})):u5(i,e,s,d,m,o,l)}else if(p===-1){let w=h5(_,n,t,i,d);w!=null?(l.removed.push({from:b,to:b}),l.moved.push({from:b,to:w}),l.added.push({from:w,to:_})):d5(t,e,a,u,h,o,l)}else l.removed.push({from:b,to:b}),l.moved.push({from:b,to:_}),l.added.push({from:_,to:_})}function fge(t,i,e,n){let r={removed:[],moved:[],added:[]},{axisValues:a,oldDataAxisIndices:s,newDataAxisIndices:o}=t,l={xValue0Index:Math.max(s.at(0)?.xValue0Index??-1/0,o.at(0)?.xValue0Index??-1/0),xValue1Index:Math.min(s.at(-1)?.xValue1Index??1/0,o.at(-1)?.xValue1Index??1/0)};for(let c=0;c<a.length-1;c+=1)pge(i,e,n,a,c,o,s,l,r);return r}function m5(t,i,e){let{span:n}=i;switch(e){case 0:return XO(i,t.zeroData)??K6(n,t);case 1:return q6(n)}}function gge(t,i,e){let n=[],r=[];for(let a of i.data){let s=a.span,o=m5(i,a,e);r.push({from:s,to:o})}for(let a of t.data){let s=a.span,o=m5(t,a,e);n.push({from:o,to:s})}return{removed:r,moved:[],added:n}}function ev(t,i,e){if(!l5(t)||!l5(i)||!uge(t,i))return;let n=mge(t,i);return n==null?gge(t,i,e):fge(n,t,i,e)}function p5(t){return t.type==="continuous"||t.type==="log"}function f5(t){return t.type==="category"}function Vh(t,i){return t===void 0||i===void 0?t!==void 0||i!==void 0:p5(t)&&p5(i)?t.type===i.type&&Ta(t.domain,i.domain)&&Ta(t.range,i.range):f5(t)&&f5(i)?t.inset===i.inset&&t.step===i.step&&Ta(t.domain,i.domain):!1}function vv(t){return t==null?!1:t.type==="category"?t.domain.every(i=>i!=null):t.domain.every(i=>Number.isFinite(i)||i instanceof Date)&&t.range.every(i=>Number.isFinite(i))}function dD(t,i){let e,n=t.map(r=>r.point);switch(i.type){case"linear":e=ige(n);break;case"smooth":e=age(n,i.tension);break;case"step":e=rge(n,i.position);break}return e.map((r,a)=>({span:r,xValue0:t[a].xDatum,yValue0:t[a].yDatum,xValue1:t[a+1].xDatum,yValue1:t[a+1].yDatum}))}function _v(t,i,e=.001){return Math.abs(t.x-i.x)<e&&Math.abs(t.y-i.y)<e}function JO({path:t},i){let e;for(let{span:n}of i){let[r,a]=zs(n),s=e!=null&&_v(e,r)?1:0;$b(t,n,s,!1),e=a}}function Fw(t,i,e){let n;for(let r of e){let[a,s]=$6(r.from,r.to,t),o=n!=null&&_v(n,a)?1:0;CR(i.path,r.from,r.to,t,o,!1),n=s}}function eL(t,i,e){let n=(o,l)=>Fw(o,l,i.removed),r=(o,l)=>Fw(o,l,i.moved),a=(o,l)=>Fw(o,l,i.added),s=tL(t,e);return{status:t,path:{addPhaseFn:a,updatePhaseFn:r,removePhaseFn:n},pathProperties:s}}function tL(t,i){let e=i==="none"?"updated":t,n={fromFn:r=>{let a;return t==="removed"?a={finish:{visible:!1}}:t==="added"?a={start:{visible:!0}}:a={},f({phase:Ao[e]},a)},toFn:r=>({phase:Ao[e]})};return i==="fade"?{fromFn:r=>{let a=t==="added"?0:r.opacity;return f({opacity:a},n.fromFn(r))},toFn:r=>f({opacity:t==="removed"?0:1},n.toFn(r))}:n}function Q6(t,i,e){let n=t.scales.x?.type==="category",r=i.scales.x?.type==="category";if(n!==r||!vv(t.scales.x)||!vv(i.scales.x)||t.strokeData==null||i.strokeData==null)return;let a="updated";i.visible&&!t.visible?a="removed":!i.visible&&t.visible&&(a="added");let s=ev({scales:t.scales,data:t.strokeData.spans},{scales:i.scales,data:i.strokeData.spans},1);if(s==null)return;let o=eL(a,s,"fade"),l=(e?.changed??!0)||!Vh(t.scales.x,i.scales.x)||!Vh(t.scales.y,i.scales.y)||a!=="updated";return{status:a,stroke:o,hasMotion:l}}function X6({path:t},{spans:i,phantomSpans:e}){let n=0,r={x:NaN,y:NaN},a={x:NaN,y:NaN};for(let s=0;s<i.length;s+=1){let{span:o}=i[s],{span:l}=e[s],{0:c,1:d}=zs(o),{0:u,1:h}=zs(l);if(_v(r,c)&&_v(a,u))$b(t,o,1,!1);else{for(let m=s-1;m>=n;m-=1)$b(t,e[m].span,1,!0);t.closePath(),$b(t,o,0,!1),n=s}r=d,a=h}for(let s=i.length-1;s>=n;s-=1)$b(t,e[s].span,1,!0);t.closePath()}function Vw(t,{path:i},e,n){for(let r=0;r<e.length;r+=1){let a=e[r],s=n[r];CR(i,a.from,a.to,t,0,!1),CR(i,s.from,s.to,t,1,!0),i.closePath()}}function J6(t,i,e,n){let r=(l,c)=>Vw(l,c,i.removed,e.removed),a=(l,c)=>Vw(l,c,i.moved,e.moved),s=(l,c)=>Vw(l,c,i.added,e.added),o=tL(t,n);return{status:t,path:{addPhaseFn:s,updatePhaseFn:a,removePhaseFn:r},pathProperties:o}}function e8(t,i){let e=t.scales.x?.type==="category",n=i.scales.x?.type==="category";if(e!==n||!vv(t.scales.x)||!vv(i.scales.x))return;let r="updated";i.visible&&!t.visible?r="removed":!i.visible&&t.visible&&(r="added");let a=ev({scales:t.scales,data:t.fillData.spans},{scales:i.scales,data:i.fillData.spans},0);if(a==null)return;let s=ev({scales:t.scales,data:t.fillData.phantomSpans},{scales:i.scales,data:i.fillData.phantomSpans},0);if(s==null)return;let o=ev({scales:t.scales,data:t.strokeData.spans,zeroData:t.fillData.phantomSpans},{scales:i.scales,data:i.strokeData.spans,zeroData:i.fillData.phantomSpans},0);if(o==null)return;let l="none",c=J6(r,a,s,l),d=eL(r,o,l);return{status:r,fill:c,stroke:d}}var fa=0,rs=1,Ls=2,Ns=3,Il=4;function iL(t){let i=Math.ceil(Math.log2(t.length))-1;return i=Math.min(Math.max(i,0),24),2**i|0}function xv(t,i){switch(t){case"category":return[NaN,NaN];case"number":case"time":case"ordinal-time":case"unit-time":{let e=1/0,n=-1/0;for(let r of i){let a=Number(r);e=Math.min(e,a),n=Math.max(n,a)}return[e,n]}case"color":case"log":case"mercator":return[0,0]}}function nL(t,i){return t/i}function Rc(t,i,e){return(t.valueOf()-i)/(e-i)}function rL(t,i){return Math.min(Math.floor(t*i),i-1)*Il|0}function aL(t,i,e,n,r,a){let s=new Int32Array(a*Il).fill(-1),o=new Float64Array(a*Il).fill(NaN),l=Number.isFinite(n)&&Number.isFinite(r),c=t.length;for(let d=0;d<t.length;d+=1){let u=t[d];if(u==null)continue;let h=l?Rc(u,n,r):nL(d,c),m=rL(h,a),p=i[d],g=e[d],b=p!=null?p.valueOf():NaN,v=g!=null?g.valueOf():NaN,_=s[m+fa]===-1;(_||h<o[m+fa])&&(s[m+fa]=d,o[m+fa]=h),(_||h>o[m+rs])&&(s[m+rs]=d,o[m+rs]=h),!Number.isNaN(v)&&(_||v<o[m+Ls])&&(s[m+Ls]=d,o[m+Ls]=v),!Number.isNaN(b)&&(_||b>o[m+Ns])&&(s[m+Ns]=d,o[m+Ns]=b)}return{indexData:s,valueData:o}}function sL(t,i,e,{inPlace:n=!1}={}){let r=e/2|0,a=n?t:new Int32Array(r*Il),s=n?i:new Float64Array(r*Il);for(let o=0;o<r;o+=1){let l=o*Il|0,c=l*2|0,d=c+Il|0,u=t[d+fa]===-1,h=u||i[c+fa]<i[d+fa]?c:d;a[l+fa]=t[h+fa],s[l+fa]=i[h+fa];let m=u||i[c+rs]>i[d+rs]?c:d;a[l+rs]=t[m+rs],s[l+rs]=i[m+rs];let p=u||i[c+Ls]<i[d+Ls]?c:d;a[l+Ls]=t[p+Ls],s[l+Ls]=i[p+Ls];let g=u||i[c+Ns]>i[d+Ns]?c:d;a[l+Ns]=t[g+Ns],s[l+Ns]=i[g+Ns]}return{maxRange:r,indexData:a,valueData:s}}var yge=1e3,bge=10;function g5(t,i,e,n,r,a){let s=t[a];if(s==null)return!1;let o=Number.isFinite(i)?Rc(s,i,e):nL(a,t.length),l=rL(o,r);return a===n[l+fa]||a===n[l+rs]||a===n[l+Ls]||a===n[l+Ns]}function t8(t,i,e,n){if(i.length<yge)return;let[r,a]=xv(t,n),s=iL(i),{indexData:o,valueData:l}=aL(i,e,e,r,a,s),c=[];for(let u=0;u<i.length;u+=1)g5(i,r,a,o,s,u)&&c.push(u);let d=[{maxRange:s,indices:c}];for(;c.length>bge&&s>64;)({maxRange:s}=sL(o,l,s,{inPlace:!0})),c=c.filter(g5.bind(null,i,r,a,o,s)),d.push({maxRange:s,indices:c});return d.reverse(),d}function Cv({id:t},i,e,...n){let r={phase:e?Ao[e]:"trailing"};Lc(t,"markers",i,n,{opacity:0},{opacity:1},r),n.forEach(a=>a.cleanup())}function i8({id:t},i,...e){Lc(t,"markers",i,e,{scalingX:0,scalingY:0},{scalingX:1,scalingY:1},{phase:"initial"}),e.forEach(n=>n.cleanup())}function oL({id:t,nodeDataDependencies:i},e,...n){let r=i.seriesRectWidth;Tn(t,"markers",e,n,{fromFn:(o,l)=>{let c=l.midPoint?.x??r,d=Ae(0,NG(c/r),1);return isNaN(d)&&(d=0),{scalingX:0,scalingY:0,delay:d,duration:Yw,phase:"initial"}},toFn:()=>({scalingX:1,scalingY:1})})}function vS(t){return{opacity:1,scalingX:1,scalingY:1}}function wv(t,i){return{x:i.point?.x??NaN,y:i.point?.y??NaN,scalingCenterX:i.point?.x??NaN,scalingCenterY:i.point?.y??NaN}}function _S(t,{datumIndex:i}){let e=t.getNodeData();if(e===void 0)return;let n=e[i],{point:r}=n??{};if(n==null||r==null)return;let a=t.getFormattedMarkerStyle(n),s=On.anchor(a.shape),o=r.focusSize??a.size,l=4+o,c=l/2,d=(s.x-.5)*o,u=(s.y-.5)*o,h=n.point.x-c-d,m=n.point.y-c-u;return rn.toCanvas(t.contentGroup,new _e(h,m,l,l))}function lL({id:t,visible:i,nodeDataDependencies:e},n,...r){let{seriesRectWidth:a,seriesRectHeight:s}=e;Lc(t,"path_properties",n,r,{clipX:0},{clipX:a},{phase:"initial",start:{clip:!0,clipY:s,visible:i},finish:{clip:!1,visible:i}})}function uD({id:t},i,e,n="add",...r){Lc(t,i,e,r,{opacity:0},{opacity:1},{phase:n})}function cL(t){return i=>({visible:t.getVisible(),opacity:t.getOpacity(),clipScalingX:1,clip:!1})}function hD({nodeDataDependencies:t},i){let e=n=>isFinite(n)?n:0;i.clipX=e(t.seriesRectWidth),i.clipY=e(t.seriesRectHeight)}var vge=.125,_ge=.25,xge=Ev(t8),n8=(()=>{let t=class extends am{constructor(i){super({moduleCtx:i,propertyKeys:ig,propertyNames:ng,categoryKey:"xValue",pathsPerSeries:["fill","stroke"],pathsZIndexSubOrderOffset:[0,1e3],datumSelectionGarbageCollection:!1,pickModes:[2,0],animationResetFns:{path:cL({getVisible:()=>this.visible,getOpacity:()=>this.getOpacity()}),label:nm,datum:(e,n)=>f(f({},vS(e)),wv(e,n))},clipFocusBox:!1}),this.properties=new on,this.connectsToYAxis=!0,this.dataAggregationFilters=void 0,this.backgroundGroup=new ht({name:`${this.id}-background`,zIndex:0}),this._isStacked=void 0}get pickModeAxis(){return"main"}renderToOffscreenCanvas(){return super.renderToOffscreenCanvas()||this.contextNodeData!=null&&(this.contextNodeData.fillData.spans.length>cD||this.contextNodeData.strokeData.spans.length>cD)}attachSeries(i,e,n){super.attachSeries(i,e,n),i.appendChild(this.backgroundGroup)}detachSeries(i,e,n){super.detachSeries(i,e,n),i?.removeChild(this.backgroundGroup)}attachPaths([i,e]){this.backgroundGroup.appendChild(i),this.contentGroup.appendChild(e),e.zIndex=-1}detachPaths([i,e]){this.backgroundGroup.removeChild(i),this.contentGroup.removeChild(e)}isStacked(){return(this.seriesGrouping?.stackCount??1)>1}setSeriesIndex(i){let n=this.isStacked()===this._isStacked;return this._isStacked=n,super.setSeriesIndex(i,n)}setZIndex(i){super.setZIndex(i),this.isStacked()?(this.backgroundGroup.zIndex=[0,i],this.contentGroup.zIndex=[1,i,0]):(this.backgroundGroup.zIndex=[1,i,0,0],this.contentGroup.zIndex=[1,i,0,1])}processData(i){return L(this,null,function*(){if(this.data==null)return;let{data:e,visible:n,seriesGrouping:{groupIndex:r=this.id,stackCount:a=1}={}}=this,{xKey:s,yKey:o,yFilterKey:l,connectMissingData:c,normalizedTo:d}=this.properties,u=!this.ctx.animationManager.isSkipped(),h=this.axes.x?.scale,m=this.axes.y?.scale,{xScaleType:p,yScaleType:g}=this.getScaleInformation({xScale:h,yScale:m}),b=a>1||d!=null,v={value:`area-stack-${r}-yValue`,values:`area-stack-${r}-yValues`,stack:`area-stack-${r}-yValue-stack`,marker:`area-stack-${r}-yValues-marker`},_={invalidValue:null};(lh(d)||c)&&a>1&&(_.invalidValue=0),n||(_.forceValue=0);let w=[Wd(s,p,{id:"xValue"}),Li(o,g,f({id:"yValueRaw"},_)),...l!=null?[Li(l,g,{id:"yFilterRaw"})]:[],...S$(o,g,S(f({id:"yValueStack"},_),{groupId:v.stack})),Li(o,g,S(f({id:"yValue"},_),{groupId:v.value}))];b&&w.push(...$d(o,"window","current",S(f({id:"yValueEnd"},_),{groupId:v.values}),g),...$d(o,"normal","current",S(f({id:"yValueCumulative"},_),{groupId:v.marker}),g)),lh(d)&&w.push(hS(Object.values(v),d)),u&&w.push(s_());let{dataModel:D,processedData:I}=yield this.requestDataModel(i,e,{props:w,groupByKeys:b,groupByData:!b});this.dataAggregationFilters=this.aggregateData(D,I),this.animationState.transition("updateData")})}xCoordinateRange(i,e){let{marker:n}=this.properties,r=this.axes.x.scale.convert(i),a=n.enabled?.5*n.size*e:0;return[r-a,r+a]}yCoordinateRange(i,e){let{marker:n}=this.properties,r=this.axes.y.scale.convert(i[0]),a=n.enabled?.5*n.size*e:0;return[r-a,r+a]}yCumulativeKey(i){return i.type==="grouped"?"yValueCumulative":"yValue"}getSeriesDomain(i){let{processedData:e,dataModel:n,axes:r}=this;if(!e||!n)return[];let a=r.y;if(i==="x"){let o=n.resolveProcessedDataDefById(this,"xValue"),l=n.getDomain(this,"xValue","key",e);return o?.def.type==="key"&&o.def.valueType==="category"?l:ls(au(l))}let s=this.domainForClippedRange("y",[this.yCumulativeKey(e)],"xValue");if(a instanceof pS||a instanceof ou)return ls(s);{let o=Number.isFinite(s[1]-s[0])?[s[0]>0?0:s[0],s[1]<0?0:s[1]]:[];return ls(o)}}getSeriesRange(i,e){let[n,r]=this.domainForVisibleRange("y",[this.yCumulativeKey(this.processedData)],"xValue",e);return[Math.min(n,0),Math.max(r,0)]}getVisibleItems(i,e,n){return this.countVisibleItems("xValue",[this.yCumulativeKey(this.processedData)],i,e,n)}aggregateData(i,e){if(e.type==="grouped"||Yf(e))return;let n=this.axes.x;if(n==null)return;let{scale:r}=n,a=i.resolveColumnById(this,"xValue",e),s=i.resolveColumnById(this,"yValueRaw",e),o=i.getDomain(this,"xValue","value",e);return xge(r.type,a,s,o)}createNodeData(){let{axes:i,data:e,processedData:n,dataModel:r,dataAggregationFilters:a}=this,s=i.x,o=i.y;if(!s||!o||!e||!r||!n)return;let{yKey:l,xKey:c,xName:d,yName:u,yFilterKey:h,marker:m,label:p,fill:g,stroke:b,connectMissingData:v,interpolation:_}=this.properties,{scale:w}=s,{scale:D}=o,I=this.getSeriesDomain("y"),{isContinuousY:E}=this.getScaleInformation({xScale:w,yScale:D}),A=(w.bandwidth??0)/2,N=n.type==="grouped",F=r.resolveKeysById(this,"xValue",n),P=r.resolveColumnById(this,"yValueRaw",n),U=N?r.resolveColumnById(this,"yValueCumulative",n):P,H=h!=null?r.resolveColumnById(this,"yFilterRaw",n):void 0,q=n.type==="grouped"?r.resolveColumnById(this,"yValueStack",n):void 0,ue=[],te=[],{visibleSameStackCount:Oe}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this),ot=!1,{dataSources:Ct}=n,Yt=Ct.get(this.id)??[],[Zt,vt]=w.range,He=Math.abs(vt-Zt),Ge=a?.find(Ze=>Ze.maxRange>He),Fe=0,jt=0,ft=Ge?.indices;[Fe,jt]=this.visibleRangeIndices("xValue",s.range,ft),Fe=Math.max(Fe-1,0),jt=Math.min(jt+1,ft?.length??F.length),n.input.count<1e3&&(Fe=0,jt=n.input.count);let dt=(Ze,ut,At)=>{let wt;return(lh(this.properties.normalizedTo)?E&&LD(At):!isNaN(At))&&(wt=ut),{x:w.convert(Ze)+A,y:D.convert(wt),size:m.size}},it=Ze=>{let ut=F[Ze];if(ut==null)return;let At=Yt[Ze],wt=P[Ze],Mi=U[Ze],Ii=Number.isFinite(wt),Zr=dt(ut,+Mi,wt),us=H!=null?H[Ze]===wt:void 0;if(us===!1&&(ot=!0),Ii&&m&&te.push({series:this,itemId:l,datum:At,datumIndex:Ze,midPoint:{x:Zr.x,y:Zr.y},cumulativeValue:Mi,yValue:wt,xValue:ut,yKey:l,xKey:c,point:Zr,fill:m.fill??g,stroke:m.stroke??b,strokeWidth:m.strokeWidth??this.properties.strokeWidth,selected:us}),p.enabled&&Ii){let Hc=this.getLabelText(wt,At,l,"y",I,p,{value:wt,datum:At,xKey:c,yKey:l,xName:d,yName:u});ue.push({series:this,itemId:l,datum:At,datumIndex:Ze,x:Zr.x,y:Zr.y,labelText:Hc})}};if(n.type==="grouped")for(let{datumIndex:Ze}of r.forEachGroupDatum(this,n))it(Ze);else for(let Ze=Fe;Ze<jt;Ze+=1){let ut=ft?.[Ze]??Ze;F[ut]!=null&&it(ut)}let Ke=Ze=>Ze.flatMap(ut=>Array.isArray(ut)?dD(ut,_):new Array(ut.skip).fill(null)),ze=(Ze,ut)=>({point:{x:w.convert(Ze)+A,y:D.convert(ut)},xDatum:Ze,yDatum:ut}),Pe=Ze=>{let ut=[],At=(wt,Mi,Ii)=>{let Zr=F[Mi],us=q!=null?q?.[Mi][Ze]:P[Mi];if(v&&!Number.isFinite(P[Mi]))return;let Hc=Number.isFinite(us),uu=0,SS=!0,og=0,MS=!0;if(q==null)SS=wt==null||Number.isFinite(P[wt]),MS=Ii==null||Number.isFinite(P[Ii]),uu=wt!=null&&Number.isFinite(P[wt])?us:0,og=Ii!=null&&Number.isFinite(P[Ii])?us:0;else{let lg=q[Mi],Gc=wt!=null?q[wt]:void 0,TL=Ii!=null?q[Ii]:void 0;for(let cg=0;cg<=Ze;cg+=1){let IS=lg[cg];if(Number.isFinite(IS)){let X8=Gc==null||Number.isFinite(Gc[cg]),J8=TL==null||Number.isFinite(TL[cg]);X8?uu+=IS:SS=!1,J8?og+=IS:MS=!1}}}let jo=ut[ut.length-1];if(!v&&(!SS||!MS||!Hc||uu!==og))if(!Hc&&Array.isArray(jo)&&jo.length===1)ut[ut.length-1]={skip:1};else{let lg=ze(Zr,uu),Gc=ze(Zr,og);Array.isArray(jo)?jo.push(lg):jo!=null&&(jo.skip+=1),ut.push(Hc?[Gc]:{skip:0})}else{let lg=v?us:Math.max(uu,og),Gc=ze(Zr,lg);Array.isArray(jo)?jo.push(Gc):jo!=null?(jo.skip+=1,ut.push([Gc])):ut.push([Gc])}};if(n.type==="grouped")for(let{datumIndexes:[wt,Mi,Ii]}of r.forEachGroupDatumTuple(this,n))At(wt,Mi,Ii);else{let wt,Mi;for(let Ii=Fe;Ii<jt;Ii+=1){let Zr=ft?.[Ii]??Ii;F[Zr]!=null&&(Mi!=null&&At(wt,Mi,Zr),wt=Mi,Mi=Zr)}Mi!=null&&At(wt,Mi,void 0)}return Ke(ut)},at=this.seriesGrouping?.stackIndex??0,lt=()=>{let Ze=At=>{let wt=F[At],Mi=q?.[At][at]??P[At];if(!(v&&!Number.isFinite(Mi)))return ze(wt,0)},ut;if(n.type==="grouped")ut=Array.from(r.forEachGroupDatum(this,n),({datumIndex:At})=>Ze(At));else{ut=[];for(let At=Fe;At<jt;At+=1){let wt=ft?.[At]??At;F[wt]!=null&&ut.push(Ze(wt))}}return ut=ut.filter(At=>At!=null),dD(ut,_)},Si=Pe(at),cn=Si.map(()=>null);for(let Ze=at-1;Ze>=-1;Ze-=1){let ut;for(let At=0;At<cn.length;At+=1)cn[At]==null&&(ut??(ut=Ze!==-1?Pe(Ze):lt()),cn[At]=ut[At])}let Zi=Si.map((Ze,ut)=>Ze??cn[ut]),gi=Si.filter(Ze=>Ze!=null);return{itemId:l,fillData:{itemId:l,spans:Zi,phantomSpans:cn},strokeData:{itemId:l,spans:gi},labelData:ue,nodeData:te,scales:this.calculateScaling(),visible:this.visible,stackVisible:Oe>0,crossFiltering:ot}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}updatePathNodes(i){let{visible:e,animationEnabled:n}=i,[r,a]=i.paths,s=this.contextNodeData?.crossFiltering===!0,{strokeWidth:o,stroke:l,strokeOpacity:c,lineDash:d,lineDashOffset:u,fill:h,fillOpacity:m,opacity:p}=Xt(this.getHighlightStyle(),this.properties);a.setProperties({fill:void 0,lineCap:"round",lineJoin:"round",pointerEvents:1,stroke:l,strokeWidth:o,strokeOpacity:c*(s?_ge:1),lineDash:d,lineDashOffset:u,opacity:p,visible:e||n});let g=xf(h,this.properties.fillGradientDefaults,this.properties.fillPatternDefaults,this.properties.fillImageDefaults);Dc(r,{fill:g,stroke:void 0,fillOpacity:m*(s?vge:1)},this.getShapeFillBBox()),r.setProperties({lineJoin:"round",pointerEvents:1,fillShadow:this.properties.shadow,opacity:p,visible:e||n}),hD(this,a),hD(this,r)}updatePaths(i){this.updateAreaPaths(i.paths,i.contextData)}updateAreaPaths(i,e){for(let n of i)n.visible=e.visible;if(e.visible)this.updateFillPath(i,e),this.updateStrokePath(i,e);else for(let n of i)n.path.clear(),n.markDirty("AreaSeries")}updateFillPath(i,e){let[n]=i;n.path.clear(),X6(n,e.fillData),n.markDirty("AreaSeries")}updateStrokePath(i,e){let{spans:n}=e.strokeData,[,r]=i;r.path.clear(),JO(r,n),r.markDirty("AreaSeries")}updateDatumSelection(i){let{nodeData:e,datumSelection:n}=i,r=this.properties.marker.enabled||this.contextNodeData?.crossFiltering===!0;return this.properties.marker.isDirty()&&(n.clear(),n.cleanup()),n.update(r?e:[])}updateDatumNodes(i){let{datumSelection:e,isHighlight:n}=i,{xKey:r,yKey:a,marker:s,stroke:o,strokeWidth:l,strokeOpacity:c}=this.properties,d=this.getSeriesDomain("x"),u=this.getSeriesDomain("y"),h=this.getShapeFillBBox();e.each((m,p)=>{let{xValue:g,yValue:b}=p,v=Gd(g,b,r,a,d,u),_=this.getMarkerStyle(s,p,v,n,void 0,{stroke:o,strokeWidth:l,strokeOpacity:c});this.applyMarkerStyle(_,m,p.point,h,{selected:p.selected})}),n||this.properties.marker.markClean(),n||this.properties.marker.markClean()}updateLabelSelection(i){let{labelData:e,labelSelection:n}=i;return n.update(e)}updateLabelNodes(i){let{isHighlight:e=!1}=i,n=this.ctx.highlightManager?.getActiveHighlight();i.labelSelection.each((r,a)=>{let{x:s,y:o,labelText:l}=a,c=e||this.isSeriesHighlighted(n),d=this.getHighlightStateString(n,c,a.datumIndex),u=Ml(this,a,this.properties,this.properties.label,c,d),{enabled:h,fontStyle:m,fontWeight:p,fontSize:g,fontFamily:b,color:v}=u;l&&h&&this.visible?(r.fontStyle=m,r.fontWeight=p,r.fontSize=g,r.fontFamily=b,r.textAlign="center",r.textBaseline="bottom",r.text=l,r.x=s,r.y=o-10,r.fill=v,r.fillOpacity=this.getHighlightStyle(e,a.datumIndex).opacity??1,r.visible=!0,r.setBoxing(u)):r.visible=!1})}getTooltipContent(i){let{id:e,dataModel:n,processedData:r,axes:a,properties:s}=this,{xKey:o,xName:l,yKey:c,yName:d,tooltip:u,marker:h,legendItemName:m}=s,p=a.x,g=a.y;if(!n||!r||!p||!g)return;let b=r.dataSources.get(this.id)?.[i],v=n.resolveKeysById(this,"xValue",r)[i],_=n.resolveColumnById(this,"yValueRaw",r)[i],{xDomain:w,yDomain:D}=this.cachedDatumCallback("domain",()=>({xDomain:this.getSeriesDomain("x"),yDomain:this.getSeriesDomain("y")}));if(v==null)return;let I=this.getMarkerStyle(h,{datum:b,datumIndex:i},Gd(v,_,o,c,w,D),!1);return this.formatTooltipWithContext(u,{heading:this.getAxisValueText(p,"tooltip",v,b,o,m),symbol:this.legendItemSymbol(),data:[{label:d,fallbackLabel:c,value:this.getAxisValueText(g,"tooltip",_,b,c,m)}]},f(f({seriesId:e,datum:b,title:d,xKey:o,xName:l,yKey:c,yName:d},I),this.getModuleTooltipParams()))}legendItemSymbol(){let{fill:i,stroke:e,fillOpacity:n,strokeOpacity:r,strokeWidth:a,lineDash:s,marker:o,fillGradientDefaults:l,fillPatternDefaults:c,fillImageDefaults:d}=this.properties,u=!o.enabled||o.fill===void 0,h=u?xf(i,l,c,d):xf(o.fill,o.fillGradientDefaults,o.fillPatternDefaults,o.fillImageDefaults),m=this.getMarkerStyle(o,{},void 0,!1,{size:o.size,fill:h,fillOpacity:u?n:o.fillOpacity},void 0,!1);return{marker:S(f({},m),{enabled:o.enabled||a<=0}),line:{stroke:e,strokeOpacity:r,strokeWidth:a,lineDash:s}}}getLegendData(i){if(i!=="category")return[];let{id:e,ctx:{legendManager:n},visible:r}=this,{yKey:a,yName:s,legendItemName:o,showInLegend:l}=this.properties;return[{legendType:i,id:e,itemId:a,seriesId:e,enabled:r&&n.getItemEnabled({seriesId:e,itemId:a}),label:{text:o??s??a},symbol:this.legendItemSymbol(),legendItemName:o,hideInLegend:!l}]}animateEmptyUpdateReady(i){let{datumSelection:e,labelSelection:n,contextData:r,paths:a}=i,{animationManager:s}=this.ctx;this.updateAreaPaths(a,r),lL(this,s,...a),kr([e],wv),oL(this,s,e),fn(this,"labels",s,n)}animateReadyResize(i){let{contextData:e,paths:n}=i;this.updateAreaPaths(n,e),super.animateReadyResize(i)}animateWaitingUpdateReady(i){let{animationManager:e}=this.ctx,{datumSelection:n,labelSelection:r,contextData:a,paths:s,previousContextData:o}=i,[l,c]=s;if(a.visible===!1&&o?.visible===!1||l==null&&c==null)return;this.resetDatumAnimation(i),this.resetLabelAnimation(i);let d=()=>{this.resetPathAnimation(i),this.updateAreaPaths(s,a)},u=()=>{e.skipCurrentBatch(),d()};if(a==null||o==null){d(),Cv(this,e,"added",n),uD(this,"fill_path_properties",e,"add",l),uD(this,"stroke_path_properties",e,"add",c),fn(this,"labels",e,r);return}if(a.crossFiltering!==o.crossFiltering){u();return}let h=e8(a,o);if(h===void 0){u();return}else if(h.status==="no-op")return;Cv(this,e,void 0,n),Tn(this.id,"fill_path_properties",e,[l],h.fill.pathProperties),lD(this.id,"fill_path_update",e,[l],h.fill.path),Tn(this.id,"stroke_path_properties",e,[c],h.stroke.pathProperties),lD(this.id,"stroke_path_update",e,[c],h.stroke.path),fn(this,"labels",e,r),this.ctx.animationManager.animate({id:this.id,groupId:"reset_after_animation",phase:"trailing",from:{},to:{},onComplete:()=>this.updateAreaPaths(s,a)})}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new On}getFormattedMarkerStyle(i){let{xValue:e,yValue:n,xKey:r,yKey:a}=i,s=this.getSeriesDomain("x"),o=this.getSeriesDomain("y");return this.getMarkerStyle(this.properties.marker,i,Gd(e,n,r,a,s,o),!0)}computeFocusBounds(i){return _S(this,i)}hasItemStylers(){return this.properties.marker.itemStyler!=null||this.properties.label.itemStyler!=null}};return t.className="AreaSeries",t.type="area",t})(),Cge={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"area",moduleFactory:t=>new n8(t),stackable:!0,defaultAxes:[{type:"number",position:"left"},{type:"category",position:"bottom"}],themeTemplate:{series:{nodeClickRange:"nearest",fill:{$palette:"fill"},fillGradientDefaults:Hf,fillPatternDefaults:Tc,fillImageDefaults:Zh,stroke:{$palette:"stroke"},fillOpacity:.8,strokeOpacity:1,strokeWidth:{$isUserOption:["./stroke",2,0]},lineDash:[0],lineDashOffset:0,shadow:{enabled:!1,color:iu,xOffset:3,yOffset:3,blur:5},interpolation:{type:"linear"},marker:{enabled:!1,shape:"circle",size:7,strokeWidth:{$isUserOption:["./stroke",1,0]},fill:{$palette:"fill"},stroke:{$palette:"stroke"},fillGradientDefaults:Jv,fillPatternDefaults:Tc},label:S(f({},Vs),{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}}),tooltip:{range:{$path:["/tooltip/range","nearest"]},position:{anchorTo:{$path:["/tooltip/position/anchorTo","node"]}}},highlight:nu()}}},r8={type:"series",name:"area",chartType:"cartesian",options:W$,create:t=>new n8(t)},dL=class extends ir{constructor(){super(...arguments),this.direction="x",this.featherRatio=0}get feathered(){return Math.abs(this.featherRatio)>1e-6}isPointInPath(t,i){return this.feathered?this.getBBox().containsPoint(t,i):super.isPointInPath(t,i)}updatePath(){if(!this.feathered){super.updatePath();return}let{path:t,x:i,y:e,width:n,height:r,direction:a,featherRatio:s}=this;if(t.clear(),a==="x"){let o=Math.abs(s)*n;s>0?(t.moveTo(i,e),t.lineTo(i+n-o,e),t.lineTo(i+n,e+r/2),t.lineTo(i+n-o,e+r),t.lineTo(i,e+r),t.closePath()):(t.moveTo(i+o,e),t.lineTo(i+n,e),t.lineTo(i+n,e+r),t.lineTo(i+o,e+r),t.lineTo(i,e+r/2),t.closePath())}else{let o=Math.abs(s)*r;s>0?(t.moveTo(i,e+o),t.lineTo(i+n/2,e),t.lineTo(i+n,e+o),t.lineTo(i+n,e+r),t.lineTo(i,e+r),t.closePath()):(t.moveTo(i,e),t.lineTo(i+n,e),t.lineTo(i+n,e+r-o),t.lineTo(i+n/2,e+r),t.lineTo(i,e+r-o),t.closePath())}}};y([ee()],dL.prototype,"direction",2);y([ee()],dL.prototype,"featherRatio",2);function uL(t,i){for(let e of i){let n=e.datum;n===void 0?j.error("undefined datum"):t.addValue(e,n)}}function mD(t,i){let{x:e,y:n}=i,{nearest:r,distanceSquared:a}=t.getQuadTree().find(e,n);if(r!==void 0)return{datum:r.value,distance:Math.sqrt(a)}}var hL=class extends du{constructor(){super(...arguments),this.direction="vertical"}};y([C],hL.prototype,"direction",2);var a8=class extends am{constructor(){super(...arguments),this.groupScale=new zf,this.smallestDataInterval=void 0,this.largestDataInterval=void 0}padBandExtent(t,i){let e=typeof i=="boolean"?1:.5,n=Tt(this.smallestDataInterval)?this.smallestDataInterval*e:0,r=au(t)??[NaN,NaN];return typeof i=="boolean"?r[i?0:1]-=(i?1:-1)*n:(r[0]-=n,r[1]+=n),ls(r)}getBandScalePadding(){return{inner:.3,outer:.15}}shouldFlipXY(){return!this.isVertical()}isVertical(){return this.properties.direction==="vertical"}getBarDirection(){return this.shouldFlipXY()?"x":"y"}getCategoryDirection(){return this.shouldFlipXY()?"y":"x"}getValueAxis(){let t=this.getBarDirection();return this.axes[t]}getCategoryAxis(){let t=this.getCategoryDirection();return this.axes[t]}getBandwidth(t,i){return Di.is(t.scale)?t.scale.calcBandwidth(this.smallestDataInterval,i):t.scale.bandwidth}xCoordinateRange(t){let i=this.axes[this.getCategoryDirection()],e=i.scale,n=this.getBandwidth(i,0)??0,r=Di.is(e)?n*-.5:0,a=e.convert(t)+r;return[a,a+n]}yCoordinateRange(t){let e=this.axes[this.getBarDirection()].scale,n=t.map(r=>e.convert(r));if(n.length===1){let r=e.convert(0);return[Math.min(n[0],r),Math.max(n[0],r)]}return[Math.min(...n),Math.max(...n)]}updateGroupScale(t){let i=[],{groupScale:e}=this,n=this.getBandwidth(t),{index:r,visibleGroupCount:a}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this);for(let o=0;o<a;o++)i.push(String(o));return e.domain=i,e.range=[0,n??0],t instanceof l_?e.paddingInner=t.groupPaddingInner:t instanceof $f?(e.paddingInner=t.groupPaddingInner,e.round=e.padding!==0):e.padding=0,{barWidth:e.bandwidth>=1?e.bandwidth:e.rawBandwidth,groupIndex:r}}resolveKeyDirection(t){return this.getBarDirection()==="x"?t==="x"?"y":"x":t}initQuadTree(t){uL(t,this.datumNodesIter())}pickNodesExactShape(t){let i=mD(this,t);return i!=null&&i.distance<=0?[i.datum]:[]}pickNodeClosestDatum(t){return mD(this,t)}},wge=fa,Dge=rs,Sge=Ls,Mge=Ns,Ige=Il,kge=1e3;function y5(t,i){return Array.from({length:t},(e,n)=>{let r=n*Il,a=i[r+fa],s=i[r+rs];return(a+s)/2|0})}function Age(t,i,e,n){if(i.length<kge)return;let[r,a]=xv(t,n),s=iL(i),{indexData:o,valueData:l}=aL(i,e,e,r,a,s),c=y5(s,o),d=[{maxRange:s,indexData:o,indices:c}];for(;s>64;)({indexData:o,valueData:l,maxRange:s}=sL(o,l,s)),c=y5(s,o),d.push({maxRange:s,indexData:o,indices:c});return d.reverse(),d}var mL=class extends sn{constructor(){super(...arguments),this.placement="inside-center",this.spacing=0}};y([C],mL.prototype,"placement",2);y([C],mL.prototype,"spacing",2);var $i=class extends hL{constructor(){super(...arguments),this.fill="#c16068",this.fillGradientDefaults=new Hs,this.fillPatternDefaults=new Wi,this.fillImageDefaults=new ja,this.fillOpacity=1,this.stroke="#874349",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.crisp=void 0,this.shadow=new Nl,this.label=new mL,this.tooltip=rm(),this.sparklineMode=!1}getStyle(){let{fill:t,fillOpacity:i,stroke:e,strokeWidth:n,strokeOpacity:r,lineDash:a,lineDashOffset:s,cornerRadius:o}=this;return{fill:t,fillOpacity:i,stroke:e,strokeWidth:n,strokeOpacity:r,lineDash:a,lineDashOffset:s,cornerRadius:o,opacity:1}}};y([C],$i.prototype,"xKey",2);y([C],$i.prototype,"xName",2);y([C],$i.prototype,"yKey",2);y([C],$i.prototype,"yName",2);y([C],$i.prototype,"yFilterKey",2);y([C],$i.prototype,"stackGroup",2);y([C],$i.prototype,"normalizedTo",2);y([C],$i.prototype,"fill",2);y([C],$i.prototype,"fillGradientDefaults",2);y([C],$i.prototype,"fillPatternDefaults",2);y([C],$i.prototype,"fillImageDefaults",2);y([C],$i.prototype,"fillOpacity",2);y([C],$i.prototype,"stroke",2);y([C],$i.prototype,"strokeWidth",2);y([C],$i.prototype,"strokeOpacity",2);y([C],$i.prototype,"lineDash",2);y([C],$i.prototype,"lineDashOffset",2);y([C],$i.prototype,"cornerRadius",2);y([C],$i.prototype,"crisp",2);y([C],$i.prototype,"itemStyler",2);y([C],$i.prototype,"shadow",2);y([C],$i.prototype,"label",2);y([C],$i.prototype,"tooltip",2);y([C],$i.prototype,"sparklineMode",2);function s8(t,i,e,n){if(i!=null){let[r,a]=i;if(r!==0||a!==1)return!1}if(Di.is(t)){let r=t.calcBandwidth(n)-t.calcBandwidth(e);if(r>0&&r<1)return!1}if(Oc.is(t)){let{bandwidth:r,step:a}=t;if(r>0&&r<1)return!1;let s=a-r;if(s>0&&s<1)return!1}return!0}var I1=t=>qp(t.yValue??0);function pD(t,i,e){let{startingX:n,startingY:r}=Tge(t,i);return{isVertical:t,calculate:(s,o)=>{let l=t?s.x:n,c=t?r:s.y,d=t?s.width:0,u=t?0:s.height,{opacity:h=1}=s;o&&(isNaN(l)||isNaN(c))&&({x:l,y:c}=o,d=t?o.width:0,u=t?0:o.height,t&&!I1(o)?c+=o.height:!t&&I1(o)&&(l+=o.width));let m;return s.clipBBox==null?m=void 0:I1(s)?m=t?new _e(l,c-u,d,u):new _e(l-d,c,d,u):m=new _e(l,c,d,u),{x:l,y:c,width:d,height:u,clipBBox:m,opacity:h}},mode:e}}function Ege(t,i){return{isVertical:t,calculate:e=>({x:t?e.x:e.x+e.width/2,y:t?e.y+e.height/2:e.y,width:t?e.width:0,height:t?0:e.height,clipBBox:e.clipBBox,opacity:e.opacity??1}),mode:i}}function fD(t){let i=a=>a==null||isNaN(a.x)||isNaN(a.y);return{toFn:(a,s,o)=>o==="removed"&&a.datum==null&&t.mode==="fade"?S(f({},Dv(a,s)),{opacity:0}):o==="removed"||i(s)?t.calculate(s,a.previousDatum):{x:s.x,y:s.y,width:s.width,height:s.height,clipBBox:s.clipBBox,opacity:s.opacity??1},fromFn:(a,s,o)=>{o==="updated"&&i(s)?o="removed":o==="updated"&&i(a.previousDatum)&&(o="added");let l;o==="added"&&a.previousDatum==null&&t.mode==="fade"?l=S(f({},Dv(a,s)),{opacity:0}):o==="unknown"||o==="added"?l=t.calculate(s,a.previousDatum):l={x:a.x,y:a.y,width:a.width,height:a.height,clipBBox:a.clipBBox,opacity:a.opacity??1};let c=Ao[o];return S(f({},l),{phase:c})},applyFn:(a,s,o)=>{a.setProperties(s),a.crisp=o==="end"&&(a.datum?.crisp??!1)}}}function Tge(t,i){let e=i[t?"y":"x"],n=1/0,r=0;return e?(t?r=e.scale.convert(Di.is(e.scale)?0:Math.max(...e.range)):n=e.scale.convert(Di.is(e.scale)?0:Math.min(...e.range)),{startingX:n,startingY:r}):{startingX:n,startingY:r}}function Dv(t,{x:i,y:e,width:n,height:r,clipBBox:a,opacity:s=1}){return{x:i,y:e,width:n,height:r,clipBBox:a,opacity:s,crisp:t.datum?.crisp??!1}}function pL(t,i){if(i===void 0)return;let{x:e,y:n,width:r,height:a}=i;return rn.toCanvas(t.contentGroup,new _e(e,n,r,a))}function o8(t,i,e,n,r,a){let s=a?.reduced?.diff?.[t];if(s?.changed)return s;let o=Rge(n,r);return s==null&&a?.reduced?.diff!=null?(s={changed:!0,added:new Set,updated:new Set,removed:new Set,moved:new Set},o?s.updated=new Set(Array.from(i,({datum:l})=>e(l))):s.added=new Set(Array.from(i,({datum:l})=>e(l)))):o&&(s={changed:!0,added:new Set,updated:new Set(Array.from(i,({datum:l})=>e(l))),removed:new Set,moved:new Set}),s}function b5(t){return typeof t=="object"&&t!==null&&"groupScale"in t}function Rge(t,i){if(!i)return!1;let e=t.scales,n=i.scales;if(!Vh(e.x,n.x)||!Vh(e.y,n.y))return!0;if(!b5(t)||!b5(i))return!1;let r=t.groupScale,a=i.groupScale;return!Vh(r,a)}var Oge=Ev(Age),fL=(()=>{let t=class extends a8{constructor(i){super({moduleCtx:i,propertyKeys:ig,propertyNames:ng,categoryKey:"xValue",pickModes:[2,1,0],pathsPerSeries:[],datumSelectionGarbageCollection:!1,animationAlwaysUpdateSelections:!0,animationResetFns:{datum:Dv,label:nm}}),this.properties=new $i,this.connectsToYAxis=!0,this.dataAggregationFilters=void 0}get pickModeAxis(){return this.properties.sparklineMode?"main":void 0}crossFilteringEnabled(){return this.properties.yFilterKey!=null&&(this.seriesGrouping==null||this.seriesGrouping.stackIndex===0)}processData(i){return L(this,null,function*(){if(!this.data)return;let{xKey:e,yKey:n,yFilterKey:r,normalizedTo:a}=this.properties,{seriesGrouping:{groupIndex:s=this.id}={},data:o}=this,c=(this.seriesGrouping?.stackCount??0)>1||a!=null,d=c,u=!this.ctx.animationManager.isSkipped(),h=this.getCategoryAxis()?.scale,m=this.getValueAxis()?.scale,{isContinuousX:p,xScaleType:g,yScaleType:b}=this.getScaleInformation({xScale:h,yScale:m}),v=`bar-stack-${s}-yValues`,_=`${v}-trailing`,w=this.visible?{}:{forceValue:0},D=[Wd(e,g,{id:"xValue"}),Li(n,b,f({id:"yValue-raw",invalidValue:null},w))];this.crossFilteringEnabled()&&D.push(Li(r,b,f({id:"yFilterValue",invalidValue:null},w))),c&&D.push(...$d(n,"normal","current",f({id:"yValue-end",rangeId:"yValue-range",invalidValue:null,missingValue:0,groupId:v,separateNegative:!0},w),b),...$d(n,"trailing","current",f({id:"yValue-start",invalidValue:null,missingValue:0,groupId:_,separateNegative:!0},w),b)),p&&D.push(M$,I$),Tt(a)&&D.push(hS([v,_],Math.abs(a))),u&&this.processedData&&D.push(o_(this.id,this.processedData)),(u||!d)&&D.push(s_());let{dataModel:I,processedData:E}=yield this.requestDataModel(i,o,{props:D,groupByKeys:d,groupByData:!d});this.dataAggregationFilters=this.aggregateData(I,E),this.smallestDataInterval=E.reduced?.smallestKeyInterval,this.largestDataInterval=E.reduced?.largestKeyInterval,this.animationState.transition("updateData")})}getSeriesDomain(i){let{processedData:e,dataModel:n}=this;if(n==null||e==null)return[];if(i===this.getCategoryDirection()){let o=n.resolveProcessedDataDefById(this,"xValue"),l=n.getDomain(this,"xValue","key",e);return o?.def.type==="key"&&o.def.valueType==="category"?l:this.padBandExtent(l)}let r=this.dataModel?.hasColumnById(this,"yValue-end")?"yValue-end":"yValue-raw",a=this.domainForClippedRange(i,[r],"xValue"),s=this.crossFilteringEnabled()?n.getDomain(this,"yFilterValue","value",e):void 0;if(s!=null&&(a=[Math.min(a[0],s[0]),Math.max(a[1],s[1])]),this.getValueAxis()instanceof pS)return ls(a);{let o=Number.isFinite(a[1]-a[0])?[Math.min(0,a[0]),Math.max(0,a[1])]:[];return ls(o)}}getSeriesRange(i,e){let n=this.dataModel?.hasColumnById(this,"yValue-end")?"yValue-end":"yValue-raw",[r,a]=this.domainForVisibleRange("y",[n],"xValue",e);return[Math.min(r,0),Math.max(a,0)]}getVisibleItems(i,e,n){let r=this.dataModel?.hasColumnById(this,"yValue-end")?"yValue-end":"yValue-raw";return this.countVisibleItems("xValue",[r],i,e,n)}aggregateData(i,e){if(e.type!=="ungrouped"||Yf(e))return;let n=this.axes.x;if(n==null)return;let r=i.resolveKeysById(this,"xValue",e),a=i.resolveColumnById(this,"yValue-raw",e),{index:s}=i.resolveProcessedDataDefById(this,"xValue"),o=e.domain.keys[s];return Oge(n.scale.type,r,a,o)}createNodeData(){let{dataModel:i,processedData:e,groupScale:n,dataAggregationFilters:r}=this,a=this.getCategoryAxis(),s=this.getValueAxis();if(!i||!e||!a||!s)return;let o=e.dataSources?.get(this.id);if(o==null)return;let l=a.scale,c=s.scale,{xKey:d,yKey:u,xName:h,yName:m,legendItemName:p,label:g}=this.properties,b=this.getSeriesDomain("y"),v=s.isReversed(),{barWidth:_,groupIndex:w}=this.updateGroupScale(a),D=n.convert(String(w)),I=Di.is(l)?_*-.5:0,E=i.resolveKeysById(this,"xValue",e),A=i.resolveColumnById(this,"yValue-raw",e),N=this.crossFilteringEnabled()?i.resolveColumnById(this,"yFilterValue",e):void 0,F=!this.ctx.animationManager.isSkipped(),P=He=>l.convert(E[He])+D+I,U=this.properties.crisp??s8(a?.scale,a?.visibleRange,this.smallestDataInterval,this.largestDataInterval),H=c.convert(0),q=({datum:He,datumIndex:Ge,xValue:Fe,yValue:jt,cumulativeValue:ft,phantom:dt,currY:it,prevY:Ke,x:ze,width:Pe,isPositive:at,yRange:lt,labelText:Si,opacity:cn,featherRatio:Zi,crossScale:gi=1})=>{let Fn=at!==v,Ze=c.convert(it),ut=c.convert(Ke),At=c.convert(lt),wt=this.getBarDirection()==="x",Mi=Pe*.5*(1-gi),Ii={x:wt?Math.min(Ze,ut):ze+Mi,y:wt?ze+Mi:Math.min(Ze,ut),width:wt?Math.abs(ut-Ze):Pe*gi,height:wt?Pe*gi:Math.abs(ut-Ze)},Zr=new _e(Ii.x,Ii.y,Ii.width,Ii.height),us={x:wt?Math.min(H,At):ze+Mi,y:wt?ze+Mi:Math.min(H,At),width:wt?Math.abs(H-At):Pe*gi,height:wt?Pe*gi:Math.abs(H-At)},Hc=this.shouldFlipXY()?Ii.height:Ii.width,uu=g.spacing+(typeof g.padding=="number"?g.padding:0);return{series:this,itemId:dt?Sc(u,dt):u,datum:He,datumIndex:Ge,cumulativeValue:ft,phantom:dt,xValue:Fe,yValue:jt,yKey:u,xKey:d,capDefaults:{lengthRatioMultiplier:Hc,lengthMax:Hc},x:us.x,y:us.y,width:us.width,height:us.height,midPoint:{x:Ii.x+Ii.width/2,y:Ii.y+Ii.height/2},opacity:cn,featherRatio:Zi,topLeftCornerRadius:wt!==Fn,topRightCornerRadius:Fn,bottomRightCornerRadius:wt===Fn,bottomLeftCornerRadius:!Fn,clipBBox:Zr,crisp:U,label:Si!=null?f({text:Si},F6({isUpward:Fn,isVertical:!wt,placement:g.placement,spacing:uu,rect:Ii})):void 0,missing:jt==null,focusable:!dt}},ue=[],te=[],Oe=[],ot=(He,Ge,Fe,jt,ft,dt,it=0,Ke=1)=>{let ze=E[He];if(ze==null)return;let Pe=o[He],at=A[He],lt=N!=null?Number(N[He]):void 0,Si=at>=0&&!Object.is(at,-0);if(!Number.isFinite(ft)||lt!=null&&!Number.isFinite(lt))return;let cn=g.enabled&&at!=null?this.getLabelText(lt??at,Pe,u,"y",b,g,{datum:Pe,value:lt??at,xKey:d,yKey:u,xName:h,yName:m,legendItemName:p}):void 0,Zi=lt!=null&&lt>at,gi=q({datum:Pe,datumIndex:He,xValue:ze,yValue:lt??at,cumulativeValue:lt??ft,phantom:!1,currY:lt!=null?jt+lt:ft,prevY:jt,x:Ge,width:Fe,isPositive:Si,yRange:Math.max(jt+(lt??-1/0),dt),labelText:cn,opacity:Ke,featherRatio:it,crossScale:Zi?.6:void 0});if(te.push(gi),Oe.push(gi),lt!=null){let Fn=q({datum:o[He],datumIndex:He,xValue:ze,yValue:lt,cumulativeValue:lt,phantom:!0,currY:ft,prevY:jt,x:Ge,width:Fe,isPositive:Si,yRange:dt,labelText:void 0,opacity:Ke,featherRatio:it,crossScale:void 0});ue.push(Fn)}},[Ct,Yt]=l.range,Zt=Math.abs(Yt-Ct),vt=r?.find(He=>He.maxRange>Zt);if(e.type==="grouped"){let He=_,Ge=i.hasColumnById(this,"yValue-start"),Fe=Ge?i.resolveColumnById(this,"yValue-start",e):void 0,jt=Ge?i.resolveColumnById(this,"yValue-end",e):void 0,ft=Ge?i.resolveProcessedDataIndexById(this,"yValue-range"):-1;for(let{datumIndex:dt,group:{aggregation:it}}of i.forEachGroupDatum(this,e)){let Ke=P(dt),ze=A[dt],Pe=ze>=0&&!Object.is(ze,-0),at=Ge?Number(Fe?.[dt]):0,lt=Ge?Number(jt?.[dt]):ze,Si=lt;Ge&&(Si=it[ft][Pe?1:0]),ot(dt,Ke,He,at,lt,Si)}}else if(vt==null){let He=e.invalidData?.get(this.id),Ge=_,[Fe,jt]=this.visibleRangeIndices("xValue",a.range);e.input.count<1e3&&(Fe=0,jt=e.input.count);for(let ft=Fe;ft<jt;ft+=1){if(He?.[ft]===!0)continue;let dt=P(ft),it=Number(A[ft]);ot(ft,dt,Ge,0,it,it)}}else{let{indexData:He,indices:Ge}=vt,[Fe,jt]=this.visibleRangeIndices("xValue",a.range,Ge),ft=v?-1:1;for(let dt=Fe;dt<jt;dt+=1){let it=dt*Ige,Ke=He[it+wge],ze=He[it+Dge],Pe=He[it+Sge],at=He[it+Mge];if(Ke===-1)continue;let lt=P((Ke+ze)/2|0),Si=Math.abs(P(ze)-P(Ke))+_,cn=Math.abs(ze-Ke),Zi=Oc.is(l)?l.bandwidth*Math.max(cn-1,1)/(l.step*cn):1,gi=E[at]!=null?Number(A[at]):NaN,Fn=E[Pe]!=null?Number(A[Pe]):NaN;if(gi>0){let Ze=Fn>=0?ft*(1-Fn/gi):ft;ot(at,lt,Si,0,gi,gi,Ze,Zi)}if(Fn<0){let Ze=gi<=0?-ft*(1-gi/Fn):-ft;ot(Pe,lt,Si,0,Fn,Fn,Ze,Zi)}}}return{itemId:u,nodeData:ue.length>0?[...ue,...te]:te,labelData:Oe,scales:this.calculateScaling(),visible:this.visible||F,groupScale:this.getScaling(this.groupScale)}}nodeFactory(){return new dL}getHighlightData(i,e){let n=i.find(r=>r.datum===e.datum&&!r.phantom);return n!=null?[n]:void 0}updateDatumSelection(i){return i.datumSelection.update(i.nodeData,void 0,e=>this.getDatumId(e))}getItemStyle(i,e){let{id:n,properties:r}=this,{xKey:a,yKey:s,itemStyler:o,fillGradientDefaults:l,fillPatternDefaults:c,fillImageDefaults:d}=r,{xValue:u,yValue:h,datum:m,datumIndex:p}=i,g=this.getHighlightStyle(e,p),b=El(Xt(g,r.getStyle()),l,c,d);if(o&&i!=null){let{xDomain:v,yDomain:_}=this.cachedDatumCallback("domain",()=>({xDomain:this.getSeriesDomain("x"),yDomain:this.getSeriesDomain("y")})),w=this.cachedDatumCallback(Sc(this.getDatumId(i),e?"highlight":"node"),()=>{let D=this.ctx.highlightManager?.getActiveHighlight(),I=this.getHighlightStateString(D,e,p);return this.callWithContext(o,f(S(f({seriesId:n},Gd(u,h,a,s,v,_)),{datum:m,xValue:u,yValue:h,highlighted:e,highlightState:I}),b))});w&&(b=El(Xt(w,b),l,c,d))}return b}updateDatumNodes(i){let{shadow:e}=this.properties,n=this.getCategoryDirection()==="x",r=this.getShapeFillBBox(),a=this.getBarDirection();i.datumSelection.each((s,o)=>{let l=this.getItemStyle(o,i.isHighlight);Dc(s,l,r);let c=l.cornerRadius??0;s.topLeftCornerRadius=o.topLeftCornerRadius?c:0,s.topRightCornerRadius=o.topRightCornerRadius?c:0,s.bottomRightCornerRadius=o.bottomRightCornerRadius?c:0,s.bottomLeftCornerRadius=o.bottomLeftCornerRadius?c:0,s.visible=n?(o.clipBBox?.width??o.width)>0:(o.clipBBox?.height??o.height)>0,s.direction=a,s.featherRatio=o.featherRatio,s.crisp=o.crisp,s.fillShadow=e})}updateLabelSelection(i){let e=this.isLabelEnabled()?i.labelData:[];return i.labelSelection.update(e,n=>{n.pointerEvents=1})}updateLabelNodes(i){let{isHighlight:e=!1}=i,n={xKey:this.properties.xKey,xName:this.properties.xName??this.properties.xKey,yKey:this.properties.yKey,yName:this.properties.yName??this.properties.yKey,legendItemName:this.properties.legendItemName??this.properties.xName??this.properties.xKey};i.labelSelection.each((r,a)=>{r.fillOpacity=this.getHighlightStyle(e,a?.datumIndex).opacity??1;let s=this.ctx.highlightManager?.getActiveHighlight(),o=this.getHighlightStateString(s,e,a.datumIndex);P6(this,r,n,this.properties.label,a.label,e,o)})}getTooltipContent(i){let{id:e,dataModel:n,processedData:r,properties:a}=this,{xKey:s,xName:o,yKey:l,yName:c,legendItemName:d,stackGroup:u,tooltip:h}=a,m=this.getCategoryAxis(),p=this.getValueAxis(),g=this.contextNodeData?.nodeData?.[i];if(!n||!r||!m||!p||!g)return;let b=r.dataSources.get(this.id)?.[i],v=n.resolveKeysById(this,"xValue",r)[i],_=n.resolveColumnById(this,"yValue-raw",r)[i];if(v==null)return;let w=this.getItemStyle(g,!1);return this.formatTooltipWithContext(h,{heading:this.getAxisValueText(m,"tooltip",v,b,s,d),symbol:this.legendItemSymbol(),data:[{label:c,fallbackLabel:l,value:this.getAxisValueText(p,"tooltip",_,b,l,d)}]},f(f({seriesId:e,datum:b,title:c,xKey:s,xName:o,yKey:l,yName:c,legendItemName:d,stackGroup:u},w),this.getModuleTooltipParams()))}legendItemSymbol(){let{fill:i,stroke:e,strokeWidth:n,fillOpacity:r,strokeOpacity:a,lineDash:s,lineDashOffset:o,fillGradientDefaults:l,fillPatternDefaults:c,fillImageDefaults:d}=this.properties;return{marker:El({fill:i??"rgba(0, 0, 0, 0)",stroke:e??"rgba(0, 0, 0, 0)",fillOpacity:r,strokeOpacity:a,strokeWidth:n,lineDash:s,lineDashOffset:o},l,c,d)}}getLegendData(i){let{showInLegend:e}=this.properties;if(i!=="category")return[];let{id:n,ctx:{legendManager:r},visible:a}=this,{yKey:s,yName:o,legendItemName:l}=this.properties;return[{legendType:"category",id:n,itemId:s,seriesId:n,enabled:a&&r.getItemEnabled({seriesId:n,itemId:s}),label:{text:l??o??s},symbol:this.legendItemSymbol(),legendItemName:l,hideInLegend:!e}]}animateEmptyUpdateReady({datumSelection:i,labelSelection:e,annotationSelections:n}){let r=fD(pD(this.isVertical(),this.axes,"normal"));Tn(this.id,"nodes",this.ctx.animationManager,[i],r),fn(this,"labels",this.ctx.animationManager,e),fn(this,"annotations",this.ctx.animationManager,...n)}animateWaitingUpdateReady(i){let{datumSelection:e,labelSelection:n,annotationSelections:r,contextData:a,previousContextData:s}=i;this.ctx.animationManager.stopByAnimationGroupId(this.id);let o=o8(this.id,e,this.getDatumId.bind(this),i.contextData,s,this.processedData),l=s==null?"fade":"normal",c=fD(pD(this.isVertical(),this.axes,l));Tn(this.id,"nodes",this.ctx.animationManager,[e],c,(d,u)=>this.getDatumId(u),o),(o?.changed||!Vh(a.groupScale,s?.groupScale))&&(fn(this,"labels",this.ctx.animationManager,n),fn(this,"annotations",this.ctx.animationManager,...r))}getDatumId(i){return Sc(i.xValue,i.phantom)}isLabelEnabled(){return this.properties.label.enabled}computeFocusBounds({datumIndex:i}){let e=this.contextNodeData?.nodeData[i].clipBBox;return pL(this,e)}hasItemStylers(){return this.properties.itemStyler!=null||this.properties.label.itemStyler!=null}};return t.className="BarSeries",t.type="bar",t})(),l8={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"bar",moduleFactory:t=>new fL(t),stackable:!0,groupable:!0,defaultAxes:n$,themeTemplate:{series:{direction:"vertical",fill:{$palette:"fill"},stroke:{$palette:"stroke"},fillGradientDefaults:Hf,fillPatternDefaults:Tc,fillImageDefaults:Zh,fillOpacity:1,strokeWidth:{$isUserOption:["./stroke",2,0]},lineDash:[0],lineDashOffset:0,label:S(f({},Vs),{padding:{$isUserOption:["./spacing",0,8]},enabled:!1,fontWeight:{$ref:"fontWeight"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},color:{$if:[{$or:[{$eq:[{$path:"./placement"},"outside-start"]},{$eq:[{$path:"./placement"},"outside-end"]}]},{$ref:"textColor"},{$ref:"chartBackgroundColor"}]},placement:"inside-center"}),shadow:{enabled:!1,color:iu,xOffset:3,yOffset:3,blur:5},errorBar:{cap:{lengthRatio:.3}},highlight:nu()}}},c8={type:"series",name:"bar",chartType:"cartesian",options:fS,create:t=>new fL(t)},_w=3,Lge=5;function v5(t,i,e,n,r,a,s,o,l,c,d){let u=0,h=1/0,m=(o+c)/2,p=(l+d)/2;for(let g of s){let b=t[g],v=i[g];if(b==null||v==null)continue;let _=Rc(b,e,r),w=Rc(v,n,a),D=(_-m)**2+(w-p)**2;D<h&&(h=D,u=g)}return u}function Nge(t,i,e,n,r,a,s,o,l,c,d){let u=0;for(let h of s){let m=t[h],p=i[h];if(m==null||p==null)continue;let g=Rc(m,e,r),b=Rc(p,n,a);g>=o&&g<=c&&b>=l&&b<=d&&(u+=1)}return u}function wR(t,i,e,n,r,a,s,o,l,c,d){if(s.length<Lge)return;if(o===c&&l===d){let v=v5(t,i,e,n,r,a,s,o,l,c,d);return{scale:0,x0:o,y0:l,x1:c,y1:d,indices:s,primaryDatumIndex:v,children:null}}let u=[{x0:1,y0:1,x1:0,y1:0,indices:[]},{x0:1,y0:1,x1:0,y1:0,indices:[]},{x0:1,y0:1,x1:0,y1:0,indices:[]},{x0:1,y0:1,x1:0,y1:0,indices:[]}],h=(o+c)/2,m=(l+d)/2;for(let v of s){let _=t[v],w=i[v];if(_==null||w==null)continue;let D=Rc(_,e,r),I=Rc(w,n,a),E=(D>h?1:0)+(I>m?2:0),A=u[E];A.indices.push(v),A.x0=Math.min(A.x0,D),A.y0=Math.min(A.y0,I),A.x1=Math.max(A.x1,D),A.y1=Math.max(A.y1,I)}let p=[];for(let v of u){let{indices:_,x0:w,x1:D,y0:I,y1:E}=v,A=wR(t,i,e,n,r,a,_,w,I,D,E);A!=null&&p.push(A)}if(p.length===1)return p[0];p.length===0&&(p=null);let g=Math.hypot(c-o,d-l),b=v5(t,i,e,n,r,a,s,o,l,c,d);return{scale:g,x0:o,y0:l,x1:c,y1:d,indices:s,primaryDatumIndex:b,children:p}}function Pge(t,i,e,n,r,a,s,o){let[l,c]=xv(t,a),[d,u]=xv(i,s),[h,m]=o,p=[];if(r!=null&&m>h){let g=Array.from({length:_w},()=>[]);for(let b=0;b<r.length;b+=1){let w=(r[b]-h)/(m-h)*_w|0;w>=0&&w<_w&&g[w].push(b)}for(let b=0;b<g.length;b+=1){let v=g[b],_=wR(e,n,l,d,c,u,v,0,0,1,1);if(_!=null){let w=b/_w;p.push({sizeRatio:w,node:_})}}}else{let g=e.map((v,_)=>_),b=wR(e,n,l,d,c,u,g,0,0,1,1);b!=null&&p.push({sizeRatio:0,node:b})}return p.length>0?{xValues:e,yValues:n,xd0:l,xd1:c,yd0:d,yd1:u,filters:p}:void 0}function d8(t,i,e,n,r,a){let{xRange:s,yRange:o,xVisibleRange:[l,c],yVisibleRange:[d,u],minSize:h,maxSize:m}=e,{xValues:p,yValues:g,xd0:b,xd1:v,yd0:_,yd1:w}=i,D=1/Math.min(s/(c-l),o/(u-d));for(let{sizeRatio:I,node:E}of i.filters){let A=.5*(h+I*(m-h)),N=A*D,F=t*N,P=l-A/s,U=c+A/s,H=d-A/o,q=u+A/o,ue=[E];for(;ue.length>0;){let te=ue.pop();if(!(te.x1<P||te.x0>U||te.y1<H||te.y0>q))if(te.scale<=F)n!=null&&(n.count+=1),r?.push({datumIndex:te.primaryDatumIndex,count:te.indices.length,dilation:Ae(1,te.scale/N,t)});else if(te.children==null){let{indices:Oe}=te;if(n!=null){let Ct=te.x0>=l&&te.x1<=c&&te.y0>=d&&te.y1<=u?Oe.length:Nge(p,g,b,_,v,w,Oe,l,d,c,u);n.count+=Ct}a?.push(...Oe)}else ue.push(...te.children)}}}function DR(t,i,e){let n={count:0};return d8(t,i,e,n,void 0,void 0),n.count}var Fge=100,Vge=12;function Bge(t,i,e){let n=1,r=2;for(;DR(r,t,i)>e&&r<Fge;)n*=2,r*=2;for(let a=0;a<Vge;a+=1){let s=(r+n)/2;DR(s,t,i)>e?n=s:r=s}return n}function jge(t,i,e){let n=[],r=[];return d8(t,i,e,void 0,n,r),{groupedAggregation:n,singleDatumIndices:r}}var gL=class extends mr{constructor(){super(...arguments),this.maxSize=30}};y([C,ee()],gL.prototype,"maxSize",2);y([C,PR()],gL.prototype,"domain",2);var u8=class extends sn{constructor(){super(...arguments),this.placement="top"}};y([C],u8.prototype,"placement",2);var hi=class extends du{constructor(){super(...arguments),this.label=new u8,this.tooltip=rm(),this.maxRenderedItems=1/0,this.marker=new gL}};y([C],hi.prototype,"xKey",2);y([C],hi.prototype,"yKey",2);y([C],hi.prototype,"sizeKey",2);y([C],hi.prototype,"labelKey",2);y([C],hi.prototype,"xFilterKey",2);y([C],hi.prototype,"yFilterKey",2);y([C],hi.prototype,"sizeFilterKey",2);y([C],hi.prototype,"xName",2);y([C],hi.prototype,"yName",2);y([C],hi.prototype,"sizeName",2);y([C],hi.prototype,"labelName",2);y([C],hi.prototype,"title",2);y([tr("marker.shape")],hi.prototype,"shape",2);y([tr("marker.size")],hi.prototype,"size",2);y([tr("marker.maxSize")],hi.prototype,"maxSize",2);y([tr("marker.domain")],hi.prototype,"domain",2);y([tr("marker.fillGradientDefaults")],hi.prototype,"fillGradientDefaults",2);y([tr("marker.fillPatternDefaults")],hi.prototype,"fillPatternDefaults",2);y([tr("marker.fillImageDefaults")],hi.prototype,"fillImageDefaults",2);y([tr("marker.fill")],hi.prototype,"fill",2);y([tr("marker.fillOpacity")],hi.prototype,"fillOpacity",2);y([tr("marker.stroke")],hi.prototype,"stroke",2);y([tr("marker.strokeWidth")],hi.prototype,"strokeWidth",2);y([tr("marker.strokeOpacity")],hi.prototype,"strokeOpacity",2);y([tr("marker.lineDash")],hi.prototype,"lineDash",2);y([tr("marker.lineDashOffset")],hi.prototype,"lineDashOffset",2);y([tr("marker.itemStyler")],hi.prototype,"itemStyler",2);y([C],hi.prototype,"label",2);y([C],hi.prototype,"tooltip",2);y([C],hi.prototype,"maxRenderedItems",2);var zge=class extends QO{constructor(t,i,e,n){super(t,i,e,n),this.sizeKey=n.properties.sizeKey}},yL=(()=>{let t=class extends am{constructor(i){super({moduleCtx:i,propertyKeys:S(f({},ig),{label:["labelKey"],size:["sizeKey"]}),propertyNames:S(f({},ng),{label:["labelName"],size:["sizeName"]}),categoryKey:void 0,pickModes:[2,1,0],pathsPerSeries:[],datumSelectionGarbageCollection:!1,animationResetFns:{label:nm,datum:vS},usesPlacedLabels:!0,clipFocusBox:!1}),this.NodeEvent=zge,this.properties=new hi,this.dataAggregation=void 0,this.sizeScale=new Fh}get pickModeAxis(){return"main-category"}processData(i){return L(this,null,function*(){if(this.data==null||!this.visible)return;let e=this.axes.x?.scale,n=this.axes.y?.scale,{xScaleType:r,yScaleType:a}=this.getScaleInformation({xScale:e,yScale:n}),s=this.sizeScale.type,{xKey:o,yKey:l,sizeKey:c,xFilterKey:d,yFilterKey:u,sizeFilterKey:h,labelKey:m,marker:p}=this.properties,{dataModel:g,processedData:b}=yield this.requestDataModel(i,this.data,{props:[Li(o,r,{id:"xValue"}),Li(l,a,{id:"yValue"}),...d!=null?[Li(d,r,{id:"xFilterValue"})]:[],...u!=null?[Li(u,a,{id:"yFilterValue"})]:[],...h!=null?[Li(h,s,{id:"sizeFilterValue"})]:[],...c?[Li(c,s,{id:"sizeValue"})]:[],...m?[Li(m,"category",{id:"labelValue"})]:[]]});this.dataAggregation=this.aggregateData(g,b);let v=c?g.resolveProcessedDataIndexById(this,"sizeValue"):void 0,_=p.domain?[p.domain[0],p.domain[1]]:void 0;this.sizeScale.domain=_??(v==null?void 0:b.domain.values[v])??[],this.animationState.transition("updateData")})}xCoordinateRange(i,e,n){let{properties:r,sizeScale:a}=this,{size:s,sizeKey:o}=r,l=this.axes.x.scale.convert(i),c=o!=null?this.dataModel.resolveColumnById(this,"sizeValue",this.processedData):void 0,u=.5*(c!=null?a.convert(c[n]):s)*e;return[l-u,l+u]}yCoordinateRange(i,e,n){let{properties:r,sizeScale:a}=this,{size:s,sizeKey:o}=r,l=this.axes.y.scale.convert(i[0]),c=o!=null?this.dataModel.resolveColumnById(this,"sizeValue",this.processedData):void 0,u=.5*(c!=null?a.convert(c[n]):s)*e;return[l-u,l+u]}getSeriesDomain(i){let{dataModel:e,processedData:n}=this;if(!n||!e)return[];let r={x:"xValue",y:"yValue"},a=r[i],s=e.resolveProcessedDataDefById(this,a),o=e.getDomain(this,a,"value",n);if(s?.def.type==="value"&&s?.def.valueType==="category")return o;let c=r[i==="x"?"y":"x"],d=this.domainForClippedRange(i,[a],c);return ls(au(d))}getSeriesRange(i,e){return this.domainForVisibleRange("y",["yValue"],"xValue",e)}getVisibleItems(i,e,n){let{dataAggregation:r,axes:a}=this,s=a.x,o=a.y;if(r==null||s==null||o==null)return this.countVisibleItems("xValue",["yValue"],i,e,n);let l=this.aggregationOptions(s,o,i,e??[0,1]);return DR(0,r,l)}aggregateData(i,e){if(e.type==="grouped"||e.input.count<=this.properties.maxRenderedItems)return;let n=this.axes.x,r=this.axes.y;if(n==null||r==null)return;let a=n.scale,s=r.scale;if(!Di.is(a)||!Di.is(s))return;let{sizeScale:o,properties:l}=this,{sizeKey:c}=l,d=i.resolveColumnById(this,"xValue",e),u=i.resolveColumnById(this,"yValue",e),h=c?i.resolveColumnById(this,"sizeValue",e):void 0,m=i.getDomain(this,"xValue","value",e),p=i.getDomain(this,"yValue","value",e),g=c?o.domain:[0,0];return Pge(a.type,s.type,d,u,h,m,p,g)}aggregationOptions(i,e,n=i.visibleRange,r=e.visibleRange){let{sizeKey:a,marker:s}=this.properties,o=Math.abs(i.range[1]-i.range[0]),l=Math.abs(e.range[1]-e.range[0]),c=s.size,d=a?s.maxSize:c;return{xRange:o,yRange:l,minSize:c,maxSize:d,xVisibleRange:n,yVisibleRange:r}}createNodeData(){let{axes:i,dataModel:e,processedData:n,sizeScale:r,visible:a}=this,{xKey:s,yKey:o,sizeKey:l,xFilterKey:c,yFilterKey:d,sizeFilterKey:u,labelKey:h,xName:m,yName:p,sizeName:g,labelName:b,label:v,marker:_,maxRenderedItems:w}=this.properties,{enabled:D,placement:I}=v,E=On.anchor(_.shape),A=i.x,N=i.y;if(!(e&&n&&a&&A&&N))return;let F=e.resolveColumnById(this,"xValue",n),P=e.resolveColumnById(this,"yValue",n),U=l!=null?e.resolveColumnById(this,"sizeValue",n):void 0,H=h!=null?e.resolveColumnById(this,"labelValue",n):void 0,q=c!=null?e.resolveColumnById(this,"xFilterValue",n):void 0,ue=d!=null?e.resolveColumnById(this,"yFilterValue",n):void 0,te=u!=null?e.resolveColumnById(this,"sizeFilterValue",n):void 0,Oe;h?Oe=[]:l?Oe=e.getDomain(this,"sizeValue","value",n):Oe=[];let ot=A.scale,Ct=N.scale,Yt=(ot.bandwidth??0)/2,Zt=(Ct.bandwidth??0)/2,vt=[];r.range=[_.size,_.maxSize];let He=tu.getMeasurer({font:v}),Ge=n.dataSources.get(this.id);if(Ge==null)return;let Fe=Lf(v),jt=(dt,it,Ke)=>{let ze=Ge[dt],Pe=F[dt],at=P[dt],lt=U?.[dt],Si=ot.convert(Pe)+Yt,cn=Ct.convert(at)+Zt,Zi;q!=null&&ue!=null&&(Zi=q[dt]===Pe&&ue[dt]===at,te!=null&&Zi&&(Zi=te[dt]===lt));let gi;if(D){let Ze,ut,At;h&&H?(Ze=H[dt],ut=h,At="label"):l?(Ze=lt,ut=l,At="size"):(Ze=at,ut=o,At="y");let wt=this.getLabelText(Ze,ze,ut,At,Oe,v,{value:Ze,datum:ze,xKey:s,yKey:o,sizeKey:l,labelKey:h,xName:m,yName:p,sizeName:g,labelName:b}),Mi=He.measureText(String(wt));Mi.width+=Fe.left+Fe.right,Mi.height+=Fe.bottom+Fe.top,gi=f({text:wt},Mi)}else gi={text:"",width:0,height:0};let Fn=lt!=null?r.convert(lt):_.size;vt.push({series:this,itemId:o,yKey:o,xKey:s,datum:ze,datumIndex:dt,xValue:Pe,yValue:at,sizeValue:lt,capDefaults:{lengthRatioMultiplier:_.getDiameter(),lengthMax:1/0},point:{x:Si,y:cn,size:Math.sqrt(Ke)*Fn},midPoint:{x:Si,y:cn},label:gi,anchor:E,placement:I,count:it,dilation:Ke,selected:Zi})},{dataAggregation:ft}=this;if(ft==null)for(let dt=0;dt<Ge.length;dt++)jt(dt,1,1);else{let dt=this.aggregationOptions(A,N),it=Bge(ft,dt,w),{groupedAggregation:Ke,singleDatumIndices:ze}=jge(it,ft,dt);for(let{datumIndex:Pe,count:at,dilation:lt}of Ke)jt(Pe,at,lt);for(let Pe of ze)jt(Pe,1,1)}return{itemId:o,nodeData:vt,labelData:D?vt:[],scales:this.calculateScaling(),visible:this.visible}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}getLabelData(){return this.isLabelEnabled()?this.contextNodeData?.labelData??[]:[]}updateDatumSelection(i){let{nodeData:e,datumSelection:n}=i,{sizeKey:r}=this.properties;this.properties.marker.isDirty()&&(n.clear(),n.cleanup());let a=this.properties.marker.enabled?e:[],s;return r&&(s=o=>Sc([o.xValue,o.yValue,o.sizeValue,o.label.text])),n.update(a,void 0,s)}updateDatumNodes(i){let{datumSelection:e,isHighlight:n}=i,{xKey:r,yKey:a,sizeKey:s,labelKey:o,marker:l}=this.properties;this.sizeScale.range=[l.size,l.maxSize];let c=this.getShapeFillBBox(),d=this.dataAggregation!=null,u={xKey:r,yKey:a,sizeKey:s,labelKey:o};e.each((h,m,p)=>{let{count:g,dilation:b}=m,v=this.getMarkerStyle(l,m,u,n);v.fillOpacity=(1-(1-(v.fillOpacity??1))**g)/Math.sqrt(b),this.applyMarkerStyle(v,h,m.point,c,{selected:m.selected}),h.zIndex=d?[-g,p]:0}),n||this.properties.marker.markClean()}updatePlacedLabelData(i){this.labelSelection.update(i.map(e=>S(f({},e.datum),{point:{x:e.x,y:e.y,size:e.datum.point.size}})),e=>{e.pointerEvents=1}),this.updateLabelNodes({labelSelection:this.labelSelection})}updateLabelNodes(i){let{isHighlight:e=!1}=i,n=this.ctx.highlightManager?.getActiveHighlight();i.labelSelection.each((r,a)=>{let s=e||this.isSeriesHighlighted(n),o=this.getHighlightStateString(n,s,a.datumIndex),l=Ml(this,a,this.properties,this.properties.label,s,o);r.text=a.label.text,r.fill=l.color,r.x=a.point?.x??0,r.y=a.point?.y??0,r.fontStyle=l.fontStyle,r.fontWeight=l.fontWeight,r.fontSize=l.fontSize,r.fontFamily=l.fontFamily,r.textAlign="left",r.textBaseline="top",r.fillOpacity=this.getHighlightStyle(e,a.datumIndex).opacity??1,r.setBoxing(l)})}getTooltipContent(i){let{id:e,dataModel:n,processedData:r,axes:a,properties:s,ctx:o}=this,{formatManager:l}=o,{xKey:c,xName:d,yKey:u,yName:h,sizeKey:m,sizeName:p,labelKey:g,labelName:b,title:v,tooltip:_,marker:w,legendItemName:D}=s,I=a.x,E=a.y;if(!n||!r||!I||!E)return;let A=r.dataSources.get(this.id)?.[i],N=n.resolveColumnById(this,"xValue",r)[i],F=n.resolveColumnById(this,"yValue",r)[i],P=this.contextNodeData?.nodeData[i];if(N==null||P==null)return;let U=[];if(this.isLabelEnabled()&&g!=null){let q=n.resolveColumnById(this,"labelValue",r)[i],ue=l.format(this.callWithContext.bind(this),{type:"category",value:q,datum:A,seriesId:e,legendItemName:D,key:g,source:"tooltip",property:"label",domain:[],boundSeries:this.getFormatterContext("label")});U.push({label:b,fallbackLabel:g,value:ue??Ef(q)})}if(U.push({label:d,fallbackLabel:c,value:this.getAxisValueText(I,"tooltip",N,A,c,D)},{label:h,fallbackLabel:u,value:this.getAxisValueText(E,"tooltip",F,A,u,D)}),m!=null){let q=n.resolveColumnById(this,"sizeValue",r)[i],ue=n.getDomain(this,"sizeValue","value",r),te=l.format(this.callWithContext.bind(this),{type:"number",value:q,datum:A,seriesId:e,legendItemName:D,key:m,source:"tooltip",property:"size",boundSeries:this.getFormatterContext("size"),domain:ue,fractionDigits:void 0});U.push({label:p,fallbackLabel:m,value:te??Ef(q)})}let H=this.getMarkerStyle(w,{datum:A,datumIndex:i},{xKey:c,yKey:u,sizeKey:m,labelKey:g,highlighted:!0},!1);return this.formatTooltipWithContext(_,{title:v,symbol:this.legendItemSymbol(),data:U},f(f({seriesId:e,datum:A,title:u,xKey:c,xName:d,yKey:u,yName:h,sizeKey:m,sizeName:p,labelKey:g,labelName:b},H),this.getModuleTooltipParams()))}legendItemSymbol(){return{marker:this.getMarkerStyle(this.properties.marker,{},void 0,!1,void 0,void 0,!1)}}getLegendData(){let{id:i,ctx:{legendManager:e},visible:n}=this,{yKey:r,yName:a,title:s}=this.properties;return[{legendType:"category",id:i,itemId:r,seriesId:i,enabled:n&&e.getItemEnabled({seriesId:i,itemId:r}),label:{text:s??a??r},symbol:this.legendItemSymbol()}]}animateEmptyUpdateReady({datumSelection:i,labelSelection:e}){i8(this,this.ctx.animationManager,i),fn(this,"labels",this.ctx.animationManager,e)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new On}getFormattedMarkerStyle(i){let{xKey:e,yKey:n,sizeKey:r,labelKey:a,marker:s}=this.properties;return this.getMarkerStyle(s,i,{xKey:e,yKey:n,sizeKey:r,labelKey:a},!1)}computeFocusBounds(i){return _S(this,i)}hasItemStylers(){let{itemStyler:i,marker:e,label:n}=this.properties;return!!(i??e.itemStyler??n.itemStyler)}};return t.className="BubbleSeries",t.type="bubble",t})(),Uge={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"bubble",moduleFactory:t=>new yL(t),defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{shape:"circle",size:7,maxSize:30,fill:{$palette:"fill"},stroke:{$palette:"stroke"},fillGradientDefaults:Jv,fillPatternDefaults:Tc,fillImageDefaults:Zh,fillOpacity:.8,maxRenderedItems:1e4,label:S(f({},Vs),{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}}),tooltip:{range:{$path:["/tooltip/range","nearest"]},position:{anchorTo:{$path:["/tooltip/position/anchorTo","node"]}}},highlight:nu()}}},h8={type:"series",name:"bubble",chartType:"cartesian",options:Mpe,create:t=>new yL(t)},ln=class extends du{constructor(){super(...arguments),this.fillGradientDefaults=new Hs,this.fillPatternDefaults=new Wi,this.fillImageDefaults=new ja,this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.areaPlot=!1,this.aggregation="sum",this.shadow=new Nl,this.label=new sn,this.tooltip=rm()}getStyle(){let{fill:t,fillOpacity:i,stroke:e,strokeWidth:n,strokeOpacity:r,lineDash:a,lineDashOffset:s,cornerRadius:o}=this;return{fill:t,fillOpacity:i,stroke:e,strokeWidth:n,strokeOpacity:r,lineDash:a,lineDashOffset:s,cornerRadius:o,opacity:1}}};y([C],ln.prototype,"xKey",2);y([C],ln.prototype,"yKey",2);y([C],ln.prototype,"xName",2);y([C],ln.prototype,"yName",2);y([C],ln.prototype,"fill",2);y([C],ln.prototype,"fillGradientDefaults",2);y([C],ln.prototype,"fillPatternDefaults",2);y([C],ln.prototype,"fillImageDefaults",2);y([C],ln.prototype,"fillOpacity",2);y([C],ln.prototype,"stroke",2);y([C],ln.prototype,"strokeWidth",2);y([C],ln.prototype,"strokeOpacity",2);y([C],ln.prototype,"lineDash",2);y([C],ln.prototype,"lineDashOffset",2);y([C],ln.prototype,"cornerRadius",2);y([C],ln.prototype,"areaPlot",2);y([C],ln.prototype,"bins",2);y([C],ln.prototype,"aggregation",2);y([C],ln.prototype,"binCount",2);y([C],ln.prototype,"shadow",2);y([C],ln.prototype,"label",2);y([C],ln.prototype,"tooltip",2);var _5=10,m8=(()=>{let t=class extends am{constructor(i){super({moduleCtx:i,propertyKeys:ig,propertyNames:ng,categoryKey:void 0,pickModes:[1,0],datumSelectionGarbageCollection:!0,animationResetFns:{datum:Dv,label:nm}}),this.properties=new ln,this.calculatedBins=[]}deriveBins(i){let e=Vv(i[0],i[1],_5).ticks,n=hv(i[0],i[1],_5),[r]=e,a=s=>[s,s+n];return[[r-n,r],...e.map(a)]}calculateNiceBins(i,e){let n=Math.floor(i[0]),r=i[1],a=e||1,{start:s,binSize:o}=this.calculateNiceStart(n,r,a);return this.getBins(s,r,o,a)}getBins(i,e,n,r){let a=[],s=this.calculatePrecision(n);for(let o=0;o<r;o++){let l=Math.round((i+o*n)*s)/s,c=Math.round((i+(o+1)*n)*s)/s;o===r-1&&(c=Math.max(c,e)),a[o]=[l,c]}return a}calculatePrecision(i){let e=10;if(isFinite(i)&&i>0)for(;i<1;)e*=10,i*=10;return e}calculateNiceStart(i,e,n){let r=Math.abs(e-i)/n,a=Math.floor(Math.log10(r)),s=Math.pow(10,a);return{start:Math.floor(i/s)*s,binSize:r}}processData(i){return L(this,null,function*(){this.visible||(this.processedData=void 0,this.animationState.transition("updateData"));let{xKey:e,yKey:n,areaPlot:r,aggregation:a}=this.properties,s=this.axes.x?.scale,o=this.axes.y?.scale,{xScaleType:l,yScaleType:c}=this.getScaleInformation({yScale:o,xScale:s}),d=[Wd(e,l),k$];if(n){let h=hR("groupAgg");a==="count"||(a==="sum"?h=f$("groupAgg"):a==="mean"&&(h=g$("groupAgg"))),r&&(h=mR("groupAgg",h)),d.push(Li(n,c,{invalidValue:void 0}),h)}else{d.push(C$("count"));let h=hR("groupAgg");r&&(h=mR("groupAgg",h)),d.push(h)}let u=h=>{let m=ls(h.domain.keys[0]);if(m.length===0)return h.domain.groups=[],()=>[];let p=dh(this.properties.binCount)?this.calculateNiceBins(m,this.properties.binCount):this.properties.bins??this.deriveBins(m),g=p.length;return this.calculatedBins=[...p],b=>{let v=b[0];if(uc(v)&&(v=v.getTime()),!dh(v))return[];for(let _=0;_<g;_++){let w=p[_];if(v>=w[0]&&v<w[1]||_===g-1&&v<=w[1])return w}return[]}};!this.ctx.animationManager.isSkipped()&&this.processedData&&d.push(o_(this.id,this.processedData,!1)),yield this.requestDataModel(i,this.data,{props:d,groupByFn:u}),this.animationState.transition("updateData")})}xCoordinateRange(){return[NaN,NaN]}yCoordinateRange(){return[NaN,NaN]}getSeriesDomain(i){let{processedData:e,dataModel:n}=this;if(!e||!n||!this.calculatedBins.length)return[];let r=n.getDomain(this,"groupAgg","aggregate",e),a=this.calculatedBins?.[0][0],s=this.calculatedBins?.[(this.calculatedBins?.length??0)-1][1];return ls(i==="x"?[a,s]:r)}getSeriesRange(i,[e,n]){let{dataModel:r,processedData:a}=this;if(!r||a?.type!=="grouped")return[NaN,NaN];let s=this.axes.x.scale,o=0,l=-1/0;return a.groups.forEach(({keys:c,aggregation:d})=>{let[[u,h]=[0,0]]=d,[m,p]=c,[g,b]=er([s.convert(m),s.convert(p)]);if(b>=e&&g<=n){let v=u+h;l=Math.max(l,v)}}),o>l?[NaN,NaN]:[o,l]}frequency(i){return i.datumIndices.reduce((e,n)=>e+n.length,0)}createNodeData(){let{axes:i,processedData:e,dataModel:n}=this,r=i.x,a=i.y;if(!r||!a||!n)return;let{scale:s}=r,{scale:o}=a,{xKey:l,yKey:c,xName:d,yName:u,label:h}=this.properties,m=[],p={itemId:this.properties.yKey??this.id,nodeData:m,labelData:m,scales:this.calculateScaling(),animationValid:!0,visible:this.visible};return!this.visible||e==null||e.type!=="grouped"||(e.groups.forEach((g,b)=>{let{keys:v,aggregation:_}=g,[[w,D]=[0,0]]=_,I=this.frequency(g),E=v,[A,N]=E,F=[...n.forEachDatum(this,e,g)],P=s.convert(A),U=s.convert(N),H=w+D,q=o.convert(0),ue=o.convert(H),te=Math.abs(U-P),Oe=Math.abs(ue-q),ot=Math.min(P,U),Ct=Math.min(q,ue),Yt;h.enabled&&H!==0&&(Yt={x:ot+te/2,y:Ct+Oe/2,text:this.getLabelText(H,F,c,"y",[],h,{value:H,datum:F,xKey:l,yKey:c,xName:d,yName:u})});let Zt={x:ot+te/2,y:Ct+Oe/2},vt=a.isReversed();m.push({series:this,datumIndex:b,datum:F,aggregatedValue:H,frequency:I,domain:E,yKey:c,xKey:l,x:ot,y:Ct,xValue:P,yValue:ue,width:te,height:Oe,midPoint:Zt,topLeftCornerRadius:!vt,topRightCornerRadius:!vt,bottomRightCornerRadius:vt,bottomLeftCornerRadius:vt,label:Yt,crisp:!0})}),m.sort((g,b)=>g.x-b.x)),p}nodeFactory(){return new ir}updateDatumSelection(i){let{nodeData:e,datumSelection:n}=i;return n.update(e,void 0,r=>r.domain.join("_"))}getItemStyle(i,e){let{properties:n}=this,r=this.getHighlightStyle(i,e?.datumIndex);return El(Xt(r,n.getStyle()),n.fillGradientDefaults,n.fillPatternDefaults,n.fillImageDefaults)}updateDatumNodes(i){let{isHighlight:e}=i,{shadow:n}=this.properties,r=this.getShapeFillBBox();i.datumSelection.each((a,s)=>{let o=this.getItemStyle(e,s),{cornerRadius:l=0}=o,{topLeftCornerRadius:c,topRightCornerRadius:d,bottomRightCornerRadius:u,bottomLeftCornerRadius:h}=s;Dc(a,o,r),a.topLeftCornerRadius=c?l:0,a.topRightCornerRadius=d?l:0,a.bottomRightCornerRadius=u?l:0,a.bottomLeftCornerRadius=h?l:0,a.crisp=s.crisp,a.fillShadow=n,a.visible=s.height>0})}updateLabelSelection(i){let{labelData:e,labelSelection:n}=i;return n.update(e,r=>{r.pointerEvents=1,r.textAlign="center",r.textBaseline="middle"})}updateLabelNodes(i){let e=this.isLabelEnabled();i.labelSelection.each((n,r)=>{let a=Ml(this,r,this.properties,this.properties.label),{enabled:s,fontStyle:o,fontWeight:l,fontSize:c,fontFamily:d,color:u}=a;s&&e&&r?.label?(n.text=r.label.text,n.x=r.label.x,n.y=r.label.y,n.fontStyle=o,n.fontWeight=l,n.fontFamily=d,n.fontSize=c,n.fill=u,n.visible=!0,n.fillOpacity=this.getHighlightStyle(!1,r.datumIndex).opacity??1,n.setBoxing(a)):n.visible=!1})}initQuadTree(i){let{value:e}=this.contentGroup.children().next();e instanceof ht&&uL(i,e.children())}pickNodeClosestDatum(i){return mD(this,i)}getTooltipContent(i){let{id:e,dataModel:n,processedData:r,axes:a,properties:s,ctx:{localeManager:o}}=this,{xKey:l,xName:c,yKey:d,yName:u,tooltip:h,legendItemName:m}=s,p=a.x,g=a.y;if(!n||r?.type!=="grouped"||!p||!g)return;let b=r.groups[i],{aggregation:v,keys:_}=b,[[w,D]=[0,0]]=v,I=this.frequency(b),E=_,[A,N]=E,F=w+D,P={data:[...n.forEachDatum(this,r,b)],aggregatedValue:F,frequency:I,domain:E},U=[{label:c,fallbackLabel:l,value:`${this.getAxisValueText(p,"tooltip",A,P,l,m)} - ${this.getAxisValueText(p,"tooltip",N,P,l,m)}`},{label:o.t("seriesHistogramTooltipFrequency"),value:this.getAxisValueText(g,"tooltip",I,P,d,m)}];if(d!=null){let H;switch(s.aggregation){case"sum":H=o.t("seriesHistogramTooltipSum",{yName:u??d});break;case"mean":H=o.t("seriesHistogramTooltipMean",{yName:u??d});break;case"count":H=o.t("seriesHistogramTooltipCount",{yName:u??d});break}U.push({label:H,value:this.getAxisValueText(g,"tooltip",F,P,d,m)})}return this.formatTooltipWithContext(h,{symbol:this.legendItemSymbol(),data:U},f({seriesId:e,datum:P,title:u,xKey:l,xName:c,yKey:d,yName:u,xRange:[A,N],frequency:I},this.getItemStyle(!1)))}legendItemSymbol(){let{fill:i,fillOpacity:e,stroke:n,strokeWidth:r,strokeOpacity:a,lineDash:s,lineDashOffset:o,fillGradientDefaults:l,fillPatternDefaults:c,fillImageDefaults:d}=this.properties;return{marker:El({fill:i??"rgba(0, 0, 0, 0)",stroke:n??"rgba(0, 0, 0, 0)",fillOpacity:e,strokeOpacity:a,strokeWidth:r,lineDash:s,lineDashOffset:o},l,c,d)}}getLegendData(i){if(i!=="category")return[];let{id:e,ctx:{legendManager:n},visible:r}=this,{xKey:a,yName:s,showInLegend:o}=this.properties;return[{legendType:"category",id:e,itemId:a,seriesId:e,enabled:r&&n.getItemEnabled({seriesId:e,itemId:a}),label:{text:s??a??"Frequency"},symbol:this.legendItemSymbol(),hideInLegend:!o}]}animateEmptyUpdateReady({datumSelection:i,labelSelection:e}){let n=fD(pD(!0,this.axes,"normal"));Tn(this.id,"datums",this.ctx.animationManager,[i],n),fn(this,"labels",this.ctx.animationManager,e)}animateWaitingUpdateReady(i){this.ctx.animationManager.skipCurrentBatch(),this.resetDatumAnimation(i)}isLabelEnabled(){return this.properties.label.enabled}computeFocusBounds({datumIndex:i}){return pL(this,this.contextNodeData?.nodeData[i])}hasItemStylers(){return this.properties.label.itemStyler!=null}};return t.className="HistogramSeries",t.type="histogram",t})(),Hge={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"histogram",moduleFactory:t=>new m8(t),defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{fill:{$palette:"fill"},stroke:{$palette:"stroke"},fillGradientDefaults:Hf,fillPatternDefaults:Tc,fillImageDefaults:Zh,strokeWidth:1,fillOpacity:1,strokeOpacity:1,lineDash:[0],lineDashOffset:0,label:S(f({},Vs),{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"chartBackgroundColor"}}),shadow:{enabled:!1,color:iu,xOffset:3,yOffset:3,blur:5},highlight:nu()}}},p8={type:"series",name:"histogram",chartType:"cartesian",enterprise:!0,options:Ipe,create:t=>new m8(t)},Pn=class extends du{constructor(){super(...arguments),this.stroke="#874349",this.strokeWidth=2,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.interpolation=new rg,this.marker=new mr,this.label=new sn,this.tooltip=rm(),this.connectMissingData=!1,this.sparklineMode=!1}};y([C],Pn.prototype,"xKey",2);y([C],Pn.prototype,"yKey",2);y([C],Pn.prototype,"xName",2);y([C],Pn.prototype,"yName",2);y([C],Pn.prototype,"yFilterKey",2);y([C],Pn.prototype,"stackGroup",2);y([C],Pn.prototype,"normalizedTo",2);y([C],Pn.prototype,"title",2);y([C],Pn.prototype,"stroke",2);y([C],Pn.prototype,"strokeWidth",2);y([C],Pn.prototype,"strokeOpacity",2);y([C],Pn.prototype,"lineDash",2);y([C],Pn.prototype,"lineDashOffset",2);y([C],Pn.prototype,"interpolation",2);y([C],Pn.prototype,"marker",2);y([C],Pn.prototype,"label",2);y([C],Pn.prototype,"tooltip",2);y([C],Pn.prototype,"connectMissingData",2);y([C],Pn.prototype,"sparklineMode",2);var Gge=.25,Wge=Ev(t8),bL=(()=>{let t=class extends am{constructor(i){super({moduleCtx:i,propertyKeys:ig,propertyNames:ng,categoryKey:"xValue",pickModes:[2,1,0],datumSelectionGarbageCollection:!1,animationResetFns:{path:cL({getVisible:()=>this.visible,getOpacity:()=>this.getOpacity()}),label:nm,datum:(e,n)=>f(f({},vS(e)),wv(e,n))},clipFocusBox:!1}),this.properties=new Pn,this.dataAggregationFilters=void 0}get pickModeAxis(){return this.properties.sparklineMode?"main":"main-category"}processData(i){return L(this,null,function*(){if(this.data==null)return;let{data:e,visible:n,seriesGrouping:{groupIndex:r=this.id,stackCount:a=0}={}}=this,{xKey:s,yKey:o,yFilterKey:l,connectMissingData:c,normalizedTo:d}=this.properties,u=!this.ctx.animationManager.isSkipped(),h=this.axes.x?.scale,m=this.axes.y?.scale,{isContinuousX:p,xScaleType:g,yScaleType:b}=this.getScaleInformation({xScale:h,yScale:m}),v=a>1||d!=null,_={invalidValue:null};c&&v&&(_.invalidValue=0),v&&!n&&(_.forceValue=0);let w=[];if((!p||v)&&w.push(Wd(s,g,{id:"xKey"})),w.push(Li(s,g,{id:"xValue"}),Li(o,b,S(f({id:"yValueRaw"},_),{invalidValue:void 0}))),l!=null&&w.push(Li(l,b,{id:"yFilterRaw"})),v){let E=[`line-stack-${r}-yValues`,`line-stack-${r}-yValues-trailing`,`line-stack-${r}-yValues-marker`];w.push(...$d(o,"window","current",S(f({id:"yValueEnd"},_),{groupId:E[0]}),b),...$d(o,"window-trailing","current",S(f({id:"yValueStart"},_),{groupId:E[1]}),b),...$d(o,"normal","current",S(f({id:"yValueCumulative"},_),{groupId:E[2]}),b)),lh(d)&&w.push(hS([E[0],E[1],E[2]],d))}u&&(w.push(s_(p?["xValue"]:void 0)),this.processedData&&w.push(o_(this.id,this.processedData)));let{dataModel:D,processedData:I}=yield this.requestDataModel(i,e,{props:w,groupByKeys:v,groupByData:!v});this.dataAggregationFilters=this.aggregateData(D,I),this.animationState.transition("updateData")})}xCoordinateRange(i,e){let{marker:n}=this.properties,r=this.axes.x.scale.convert(i),a=n.enabled?.5*n.size*e:0;return[r-a,r+a]}yCoordinateRange(i,e){let{marker:n}=this.properties,r=this.axes.y.scale.convert(i[0]),a=n.enabled?.5*n.size*e:0;return[r-a,r+a]}getSeriesDomain(i){let{dataModel:e,processedData:n}=this;if(!e||!n)return[];if(i==="x"){let s=e.resolveProcessedDataDefById(this,"xValue"),o=e.getDomain(this,"xValue","value",n);return s?.def.type==="value"&&s.def.valueType==="category"?o:ls(au(o))}let r=this.dataModel?.hasColumnById(this,"yValueEnd")?"yValueEnd":"yValueRaw",a=this.domainForClippedRange("y",[r],"xValue");return ls(a)}getSeriesRange(i,e){let n=this.dataModel?.hasColumnById(this,"yValueEnd")?"yValueEnd":"yValueRaw";return this.domainForVisibleRange("y",[n],"xValue",e)}getVisibleItems(i,e,n){let r=this.dataModel?.hasColumnById(this,"yValueEnd")?"yValueEnd":"yValueRaw";return this.countVisibleItems("xValue",[r],i,e,n)}aggregateData(i,e){if(e.type!=="ungrouped"||Yf(e))return;let n=this.axes.x;if(n==null)return;let{scale:r}=n,a=i.resolveColumnById(this,"xValue",e),s=i.resolveColumnById(this,"yValueRaw",e),o=i.getDomain(this,"xValue","value",e);return Wge(r.type,a,s,o)}createNodeData(){let{dataModel:i,processedData:e,axes:n,dataAggregationFilters:r}=this,a=n.x,s=n.y;if(!i||!e||!a||!s)return;let{xKey:o,yKey:l,yFilterKey:c,xName:d,yName:u,marker:h,label:m,connectMissingData:p,interpolation:g,legendItemName:b}=this.properties,v=this.dataModel?.hasColumnById(this,"yValueEnd"),_=a.scale,w=s.scale,D=(_.bandwidth??0)/2,I=(w.bandwidth??0)/2,E=h.enabled?h.size:0,A=e.dataSources.get(this.id)??[],N=i.resolveColumnById(this,"xValue",e),F=i.resolveColumnById(this,"yValueRaw",e),P=v?i.resolveColumnById(this,"yValueEnd",e):void 0,U=v?i.resolveColumnById(this,"yValueCumulative",e):F,H=c!=null?i.resolveColumnById(this,"yFilterRaw",e):void 0,q=this.getSeriesDomain("y"),ue={lengthRatioMultiplier:this.properties.marker.getDiameter(),lengthMax:1/0},te=[],Oe=[],ot=it=>{let Ke=A[it],ze=N[it],Pe=F[it],at=P?.[it],lt=H?.[it],Si=_.convert(ze)+D,cn=w.convert(U[it])+I;if(!Number.isFinite(Si))return;if(Pe!=null){let gi=m.enabled?this.getLabelText(Pe,Ke,l,"y",q,m,{value:Pe,datum:Ke,xKey:o,yKey:l,xName:d,yName:u,legendItemName:b}):void 0;te.push({series:this,datum:Ke,datumIndex:it,yKey:l,xKey:o,point:{x:Si,y:cn,size:E},midPoint:{x:Si,y:cn},cumulativeValue:at,yValue:Pe,xValue:ze,capDefaults:ue,labelText:gi,selected:lt})}let Zi=Oe[Oe.length-1];if(Pe!=null){let gi={point:{x:Si,y:cn},xDatum:ze,yDatum:Pe};Array.isArray(Zi)?Zi.push(gi):Zi!=null?(Zi.skip+=1,Oe.push([gi])):Oe.push([gi])}else p||(Array.isArray(Zi)||Zi==null?Oe.push({skip:0}):Zi.skip+=1)},[Ct,Yt]=_.range,Zt=Math.abs(Yt-Ct),He=r?.find(it=>it.maxRange>Zt)?.indices,[Ge,Fe]=this.visibleRangeIndices("xValue",a.range,He);Ge=Math.max(Ge-1,0),Fe=Math.min(Fe+1,He?.length??N.length),e.input.count<1e3&&(Ge=0,Fe=e.input.count);for(let it=Ge;it<Fe;it+=1)ot(He?.[it]??it);let jt=Oe.flatMap(it=>Array.isArray(it)?dD(it,g):[]),ft={itemId:l,spans:jt},dt=H?.some((it,Ke)=>it===F[Ke])??!1;return{itemId:l,nodeData:te,labelData:te,strokeData:ft,scales:this.calculateScaling(),visible:this.visible,crossFiltering:dt}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}updatePathNodes(i){let{paths:[e],visible:n,animationEnabled:r}=i,a=this.contextNodeData?.crossFiltering===!0,{strokeWidth:s,stroke:o,strokeOpacity:l,lineDash:c,lineDashOffset:d,opacity:u}=Xt(this.getHighlightStyle(),this.properties);e.setProperties({fill:void 0,lineJoin:"round",pointerEvents:1,opacity:u,stroke:o,strokeWidth:s,strokeOpacity:l*(a?Gge:1),lineDash:c,lineDashOffset:d}),r||(e.visible=n),hD(this,e)}updateDatumSelection(i){let{nodeData:e}=i,{datumSelection:n}=i;return e=this.properties.marker.enabled||this.contextNodeData?.crossFiltering===!0?e:[],this.properties.marker.isDirty()&&(n.clear(),n.cleanup()),n.update(e,void 0,a=>Sc(a.xValue))}updateDatumNodes(i){let{datumSelection:e,isHighlight:n}=i,{xKey:r,yKey:a,marker:s,stroke:o,strokeWidth:l,strokeOpacity:c}=this.properties,d=this.getSeriesDomain("x"),u=this.getSeriesDomain("y"),h=this.ctx.animationManager.isSkipped(),m=this.getShapeFillBBox();e.each((p,g)=>{let{xValue:b,yValue:v}=g,_=Gd(b,v,r,a,d,u),w=this.getMarkerStyle(s,g,_,n,void 0,{stroke:o,strokeWidth:l,strokeOpacity:c});this.applyMarkerStyle(w,p,g.point,m,{applyTranslation:h,selected:g.selected})}),n||s.markClean()}updateLabelSelection(i){return i.labelSelection.update(this.isLabelEnabled()?i.labelData:[])}updateLabelNodes(i){let{isHighlight:e=!1}=i,n=this.ctx.highlightManager?.getActiveHighlight();i.labelSelection.each((r,a)=>{let s=e||this.isSeriesHighlighted(n),o=this.getHighlightStateString(n,s,a.datumIndex),l=Ml(this,a,this.properties,this.properties.label,s,o),{enabled:c,fontStyle:d,fontWeight:u,fontSize:h,fontFamily:m,color:p}=l;c&&a?.labelText?(r.fontStyle=d,r.fontWeight=u,r.fontSize=h,r.fontFamily=m,r.textAlign="center",r.textBaseline="bottom",r.text=a.labelText,r.x=a.point.x,r.y=a.point.y-10,r.fill=p,r.visible=!0,r.fillOpacity=this.getHighlightStyle(e,a.datumIndex).opacity??1,r.setBoxing(l)):r.visible=!1})}getTooltipContent(i){let{id:e,dataModel:n,processedData:r,axes:a,properties:s}=this,{xKey:o,xName:l,yKey:c,yName:d,tooltip:u,legendItemName:h}=s,m=a.x,p=a.y;if(!n||!r||!m||!p)return;let g=r.dataSources.get(this.id)?.[i],b=n.resolveColumnById(this,"xValue",r)[i],v=n.resolveColumnById(this,"yValueRaw",r)[i];if(b==null)return;let _=this.getSeriesDomain("x"),w=this.getSeriesDomain("y"),D=Gd(b,v,o,c,_,w),I=this.getMarkerStyle(this.properties.marker,{datumIndex:i,datum:g},D,!1);return this.formatTooltipWithContext(u,{heading:this.getAxisValueText(m,"tooltip",b,g,o,h),symbol:this.legendItemSymbol(),data:[{label:d,fallbackLabel:c,value:this.getAxisValueText(p,"tooltip",v,g,c,h)}]},f(f({seriesId:e,datum:g,title:d,xKey:o,xName:l,yKey:c,yName:d},I),this.getModuleTooltipParams()))}legendItemSymbol(){let i="rgba(0, 0, 0, 0)",{stroke:e,strokeOpacity:n,strokeWidth:r,lineDash:a,marker:s}=this.properties,o=this.getMarkerStyle(s,{},void 0,!1,{size:s.size,fill:s.fill??i,stroke:s.stroke??e??i},void 0,!1);return{marker:S(f({},o),{enabled:s.enabled}),line:{stroke:e??i,strokeOpacity:n,strokeWidth:r,lineDash:a}}}getLegendData(i){if(i!=="category")return[];let{id:e,ctx:{legendManager:n},visible:r}=this,{yKey:a,yName:s,title:o,legendItemName:l,showInLegend:c}=this.properties;return[{legendType:"category",id:e,itemId:a,legendItemName:l,seriesId:e,enabled:r&&n.getItemEnabled({seriesId:e,itemId:a}),label:{text:l??o??s??a},symbol:this.legendItemSymbol(),hideInLegend:!c}]}updatePaths(i){this.updateLinePaths(i.paths,i.contextData)}updateLinePaths(i,e){let n=e.strokeData.spans,[r]=i;r.path.clear(),JO(r,n),r.markDirty("LineSeries")}animateEmptyUpdateReady(i){let{datumSelection:e,labelSelection:n,annotationSelections:r,contextData:a,paths:s}=i,{animationManager:o}=this.ctx;this.updateLinePaths(s,a),lL(this,o,...s),kr([e],wv),oL(this,o,e),fn(this,"labels",o,n),fn(this,"annotations",o,...r)}animateReadyResize(i){let{contextData:e,paths:n}=i;this.updateLinePaths(n,e),super.animateReadyResize(i)}animateWaitingUpdateReady(i){let{animationManager:e}=this.ctx,{datumSelection:n,labelSelection:r,annotationSelections:a,contextData:s,paths:o,previousContextData:l}=i,[c]=o;if(s.visible===!1&&l?.visible===!1)return;this.resetDatumAnimation(i),this.resetLabelAnimation(i);let d=()=>{this.resetPathAnimation(i),this.updateLinePaths(o,s)},u=()=>{e.skipCurrentBatch(),d()};if(s==null||l==null){d(),Cv(this,e,"added",n),uD(this,"path_properties",e,"add",c),fn(this,"labels",e,r),fn(this,"annotations",e,...a);return}if(s.crossFiltering!==l.crossFiltering){u();return}let h=Q6(s,l,this.processedData?.reduced?.diff?.[this.id]);if(h===void 0){u();return}else if(h.status==="no-op")return;Tn(this.id,"path_properties",e,[c],h.stroke.pathProperties),h.status==="added"?this.updateLinePaths(o,s):h.status==="removed"?this.updateLinePaths(o,l):lD(this.id,"path_update",e,[c],h.stroke.path),h.hasMotion&&(Cv(this,e,void 0,n),fn(this,"labels",e,r),fn(this,"annotations",e,...a))}isLabelEnabled(){return this.properties.label.enabled}getBandScalePadding(){return{inner:1,outer:.1}}nodeFactory(){return new On}getFormattedMarkerStyle(i){let{xKey:e,yKey:n}=this.properties,{xValue:r,yValue:a}=i,s=this.getSeriesDomain("x"),o=this.getSeriesDomain("y");return this.getMarkerStyle(this.properties.marker,i,Gd(r,a,e,n,s,o),!0)}computeFocusBounds(i){return _S(this,i)}hasItemStylers(){return this.properties.marker.itemStyler!=null||this.properties.label.itemStyler!=null}};return t.className="LineSeries",t.type="line",t})(),f8={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"line",moduleFactory:t=>new bL(t),stackable:!0,defaultAxes:[{type:"number",position:"left"},{type:"category",position:"bottom"}],themeTemplate:{series:{stroke:tS,strokeWidth:2,strokeOpacity:1,lineDash:[0],lineDashOffset:0,interpolation:{type:"linear"},marker:{shape:"circle",size:7,strokeWidth:{$isUserOption:["./stroke",1,0]},fill:{$palette:"fill"},stroke:{$palette:"stroke"},fillGradientDefaults:Jv,fillPatternDefaults:Tc,fillImageDefaults:Zh},label:S(f({},Vs),{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}}),errorBar:{cap:{lengthRatio:1}},tooltip:{range:{$path:["/tooltip/range","nearest"]},position:{anchorTo:{$path:["/tooltip/position/anchorTo","node"]}}},highlight:nu()}}},g8={type:"series",name:"line",chartType:"cartesian",options:gS,create:t=>new bL(t)},y8=(()=>{let t=class extends yL{};return t.className="ScatterSeries",t.type="scatter",t})(),$ge={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"scatter",moduleFactory:t=>new y8(t),defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{shape:"circle",size:7,fill:{$palette:"fill"},stroke:{$palette:"stroke"},fillGradientDefaults:Jv,fillPatternDefaults:Tc,fillImageDefaults:Zh,fillOpacity:.8,maxRenderedItems:1e4,label:S(f({},Vs),{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}}),errorBar:{cap:{lengthRatio:1}},tooltip:{range:{$path:["/tooltip/range","nearest"]},position:{anchorTo:{$path:["/tooltip/position/anchorTo","node"]}}},highlight:nu()}}},b8={type:"series",name:"scatter",chartType:"cartesian",options:kpe,create:t=>new y8(t)},v8=class SR{constructor(i,e,n,r){this.startAngle=i,this.endAngle=e,this.innerRadius=n,this.outerRadius=r}clone(){let{startAngle:i,endAngle:e,innerRadius:n,outerRadius:r}=this;return new SR(i,e,n,r)}equals(i){return this.startAngle===i.startAngle&&this.endAngle===i.endAngle&&this.innerRadius===i.innerRadius&&this.outerRadius===i.outerRadius}[yD](i,e){return new SR(this.startAngle*(1-e)+i.startAngle*e,this.endAngle*(1-e)+i.endAngle*e,this.innerRadius*(1-e)+i.innerRadius*e,this.outerRadius*(1-e)+i.outerRadius*e)}};function _8({startAngle:t,endAngle:i,innerRadius:e,outerRadius:n}){let r=1/0,a=1/0,s=-1/0,o=-1/0,l=(c,d)=>{r=Math.min(c,r),a=Math.min(d,a),s=Math.max(c,s),o=Math.max(d,o)};return l(e*Math.cos(t),e*Math.sin(t)),l(e*Math.cos(i),e*Math.sin(i)),l(n*Math.cos(t),n*Math.sin(t)),l(n*Math.cos(i),n*Math.sin(i)),Th(0,t,i)&&l(n,0),Th(Math.PI*.5,t,i)&&l(0,n),Th(Math.PI,t,i)&&l(-n,0),Th(Math.PI*1.5,t,i)&&l(0,-n),new _e(r,a,s-r,o-a)}function MR(t,i,e){let n=Math.sqrt(Math.pow(t,2)+Math.pow(i,2)),{innerRadius:r,outerRadius:a}=e;if(e.startAngle===e.endAngle||n<Math.min(r,a)||n>Math.max(r,a))return!1;let s=Hw(e.startAngle),o=Hw(e.endAngle),l=Math.atan2(i,t);return s<o?l<=o&&l>=s:l<=o&&l>=-Math.PI||l>=s&&l<=Math.PI}function Yge(t,i,e,n,r,a,s,o,l,c){if(isNaN(t)||isNaN(i))return 0;a&&([r,n]=[n,r]);let d=(c-o)/(l-s),u=o-d*s,h=Math.pow(d,2)+1,m=2*(d*(u-i)-t),p=Math.pow(t,2)+Math.pow(u-i,2)-Math.pow(e,2),g=Math.pow(m,2)-4*h*p;if(g<0)return 0;let b=(-m+Math.sqrt(g))/2/h,v=(-m-Math.sqrt(g))/2/h,_=0;return[b,v].forEach(w=>{if(!(w>=Math.min(s,l)&&w<=Math.max(s,l)))return;let I=d*w+u,E=w-t,A=I-i,N=Math.atan2(A,E);Th(N,n,r)&&_++}),_}function x5(t,i){let{startAngle:e,endAngle:n,innerRadius:r,outerRadius:a}=i,s={x:a*Math.cos(e),y:a*Math.sin(e)},o={x:a*Math.cos(n),y:a*Math.sin(n)},l=r===0?{x:0,y:0}:{x:r*Math.cos(e),y:r*Math.sin(e)},c=r===0?{x:0,y:0}:{x:r*Math.cos(n),y:r*Math.sin(n)};return Kb(t.start.x,t.start.y,t.end.x,t.end.y,s.x,s.y,l.x,l.y)||Kb(t.start.x,t.start.y,t.end.x,t.end.y,o.x,o.y,c.x,c.y)||Yge(0,0,a,e,n,!0,t.start.x,t.start.y,t.end.x,t.end.y)}function Kge(t,i){let e={x:t.x,y:t.y},n={x:t.x+t.width,y:t.y},r={x:t.x,y:t.y+t.height},a={x:t.x+t.width,y:t.y+t.height};return x5({start:e,end:n},i)||x5({start:r,end:a},i)}function C5(t,i,e,n){if(e===0&&n===0)return 0;if(Math.asin(Math.abs(1*e)/(t+1*e))+Math.asin(Math.abs(1*n)/(t+1*n))-i<0)return 1;let a=0,s=1;for(let o=0;o<8;o+=1){let l=(a+s)/2;Math.asin(Math.abs(l*e)/(t+l*e))+Math.asin(Math.abs(l*n)/(t+l*n))-i<0?a=l:s=l}return a}var qge=1e-6;function Kd(t,i){return _D(t,i)<qge?i:Dn(t-i)+i}function xw(t,i,e=0){let r=Math.abs(i-t)>=2*Math.PI?2*Math.PI:Dn(i-t);return t=Kd(t,e),i=t+r,{startAngle:t,endAngle:i}}function Cw(t,i,e,n,r,a){let s=Math.sin(a),o=Math.cos(a),l=t**2+i**2-e**2,c,d,u,h;if(o>.5){let w=s/o,D=1+w**2,I=-2*(t+i*w),E=I**2-4*D*l;if(E<0)return;let A=(-I+Math.sqrt(E))/(2*D),N=(-I-Math.sqrt(E))/(2*D);c=A,d=A*w,u=N,h=N*w}else{let w=o/s,D=1+w**2,I=-2*(i+t*w),E=I**2-4*D*l;if(E<0)return;let A=(-I+Math.sqrt(E))/(2*D),N=(-I-Math.sqrt(E))/(2*D);c=A*w,d=A,u=N*w,h=N}let m=o,p=s,g=c*m+d*p,b=u*m+h*p,v=g>0?Kd(Math.atan2(d-i,c-t),n):NaN,_=b>0?Kd(Math.atan2(h-i,u-t),n):NaN;if(v>=n&&v<=r)return v;if(_>=n&&_<=r)return _}function ww(t,i,e,n,r,a){let s=Math.hypot(t,i),o=(s**2-e**2+a**2)/(2*s),l=s-o,c=Math.atan2(i,t),d=Math.acos(-l/e),u=Kd(c+d,n),h=Kd(c-d,n);if(u>=n&&u<=r)return u;if(h>=n&&h<=r)return h}var k1=class{constructor(t,i,e,n,r){this.cx=t,this.cy=i,this.r=e,this.a0=n,this.a1=r,this.a0>=this.a1&&(this.a0=NaN,this.a1=NaN)}isValid(){return Number.isFinite(this.a0)&&Number.isFinite(this.a1)}pointAt(t){return{x:this.cx+this.r*Math.cos(t),y:this.cy+this.r*Math.sin(t)}}clipStart(t){t==null||!this.isValid()||t<this.a0||(this.a0=t,(Number.isNaN(t)||this.a0>=this.a1)&&(this.a0=NaN,this.a1=NaN))}clipEnd(t){t==null||!this.isValid()||t>this.a1||(this.a1=t,(Number.isNaN(t)||this.a0>=this.a1)&&(this.a0=NaN,this.a1=NaN))}},qr=(()=>{let t=class extends ya{constructor(){super(...arguments),this.centerX=0,this.centerY=0,this.innerRadius=10,this.outerRadius=20,this.startAngle=0,this.endAngle=Math.PI*2,this.clipSector=void 0,this.concentricEdgeInset=0,this.radialEdgeInset=0,this.startOuterCornerRadius=0,this.endOuterCornerRadius=0,this.startInnerCornerRadius=0,this.endInnerCornerRadius=0}set inset(i){this.concentricEdgeInset=i,this.radialEdgeInset=i}set cornerRadius(i){this.startOuterCornerRadius=i,this.endOuterCornerRadius=i,this.startInnerCornerRadius=i,this.endInnerCornerRadius=i}computeBBox(){return _8(this).translate(this.centerX,this.centerY)}normalizedRadii(){let{concentricEdgeInset:i}=this,{innerRadius:e,outerRadius:n}=this;return e=e>0?e+i:0,n=Math.max(n-i,0),{innerRadius:e,outerRadius:n}}normalizedClipSector(){let{clipSector:i}=this;if(i==null)return;let{startAngle:e,endAngle:n}=xw(this.startAngle,this.endAngle),{innerRadius:r,outerRadius:a}=this.normalizedRadii(),s=xw(i.startAngle,i.endAngle,e);return new v8(Math.max(e,s.startAngle),Math.min(n,s.endAngle),Math.max(r,i.innerRadius),Math.min(a,i.outerRadius))}getAngleOffset(i){return i>0?this.radialEdgeInset/i:0}arc(i,e,n,r,a,s,o,l){if(i<=0)return;let{startAngle:c,endAngle:d}=xw(this.startAngle,this.endAngle),{innerRadius:u,outerRadius:h}=this.normalizedRadii(),m=this.normalizedClipSector();if(l&&u<=0)return;let p=l?this.getAngleOffset(u+i):this.getAngleOffset(h-i),g=o?c+p+e:d-p-e,b=l?u+i:h-i,v=b*Math.cos(g),_=b*Math.sin(g);if(m!=null&&(!o&&!(g>=c-1e-6&&g<=m.endAngle-1e-6)||o&&!(g>=m.startAngle+1e-6&&g<=d-1e-6)||l&&b<m.innerRadius-1e-6||!l&&b>m.outerRadius+1e-6))return;let w=new k1(v,_,i,n,r);if(m!=null){l?(w.clipStart(Cw(v,_,i,n,r,m.endAngle)),w.clipEnd(Cw(v,_,i,n,r,m.startAngle))):(w.clipStart(Cw(v,_,i,n,r,m.startAngle)),w.clipEnd(Cw(v,_,i,n,r,m.endAngle)));let N,F;if(o?(N=ww(v,_,i,n,r,m.innerRadius),F=ww(v,_,i,n,r,m.outerRadius)):(N=ww(v,_,i,n,r,m.outerRadius),F=ww(v,_,i,n,r,m.innerRadius)),w.clipStart(N),w.clipEnd(F),N!=null){let{x:P,y:U}=w.pointAt(N),H=Kd(Math.atan2(U,P),c);o?s?.clipStart(H):a.clipEnd(H)}if(F!=null){let{x:P,y:U}=w.pointAt(F),H=Kd(Math.atan2(U,P),c);o?a.clipStart(H):s?.clipEnd(H)}}if(m!=null){let{x:N,y:F}=w.pointAt((w.a0+w.a1)/2);if(!MR(N,F,m))return}let{x:D,y:I}=w.pointAt(o===l?w.a0:w.a1),E=Kd(Math.atan2(I,D),c),A=l?s:a;return o?A?.clipStart(E):A?.clipEnd(E),w}updatePath(){let{path:e,centerX:n,centerY:r,concentricEdgeInset:a,radialEdgeInset:s}=this,{startOuterCornerRadius:o,endOuterCornerRadius:l,startInnerCornerRadius:c,endInnerCornerRadius:d}=this,{startAngle:u,endAngle:h}=xw(this.startAngle,this.endAngle),{innerRadius:m,outerRadius:p}=this.normalizedRadii(),g=this.normalizedClipSector(),b=h-u,v=b>=2*Math.PI-1e-6;if(e.clear(),m===0&&p===0||m>p)return;if((g?.startAngle??u)===(g?.endAngle??h))return;if(v&&this.clipSector==null&&o===0&&l===0&&c===0&&d===0){e.moveTo(n+p*Math.cos(u),r+p*Math.sin(u)),e.arc(n,r,p,u,h),m>a&&(e.moveTo(n+m*Math.cos(h),r+m*Math.sin(h)),e.arc(n,r,m,h,u,!0)),e.closePath();return}else if(this.clipSector==null&&Math.abs(m-p)<1e-6){e.arc(n,r,p,u,h,!1),e.arc(n,r,p,h,u,!0),e.closePath();return}let _=this.getAngleOffset(m),w=this.getAngleOffset(p);if(b<2*w)return;let I=(g?.innerRadius??m)>a,E=m<a||b<2*_,A=p-m,N=Math.max(o,c,l,d),F=N>0?Math.min(A/N,1):1;o*=F,l*=F,c*=F,d*=F;let P=C5(p,b-2*w,-o,-l);if(o*=P,l*=P,!E&&I){let Ke=C5(m,b-2*_,c,d);c*=Ke,d*=Ke}else c=0,d=0;let U=Math.max(o+c,l+d),H=U>0?Math.min(A/U,1):1;o*=H,l*=H,c*=H,d*=H;let q=0,ue=0,te=o/(p-o),Oe=l/(p-l);if(te>=0&&te<.999999)q=Math.asin(te);else{q=b/2;let Ke=p/(1/Math.sin(q)+1);o=Math.min(Ke,o)}if(Oe>=0&&Oe<.999999)ue=Math.asin(Oe);else{ue=b/2;let Ke=p/(1/Math.sin(ue)+1);l=Math.min(Ke,l)}let ot=Math.asin(c/(m+c)),Ct=Math.asin(d/(m+d)),Yt=g?.outerRadius??p,Zt=this.getAngleOffset(Yt),vt=new k1(0,0,Yt,u+Zt,h-Zt),He=g?.innerRadius??m,Ge=this.getAngleOffset(He),Fe=I?new k1(0,0,He,u+Ge,h-Ge):void 0;g!=null&&(vt.clipStart(g.startAngle),vt.clipEnd(g.endAngle),Fe?.clipStart(g.startAngle),Fe?.clipEnd(g.endAngle));let jt=this.arc(o,q,u-Math.PI*.5,u+q,vt,Fe,!0,!1),ft=this.arc(l,ue,h-ue,h+Math.PI*.5,vt,Fe,!1,!1),dt=this.arc(d,Ct,h+Math.PI*.5,h+Math.PI-Ct,vt,Fe,!1,!0),it=this.arc(c,ot,u+Math.PI+ot,u+Math.PI*1.5,vt,Fe,!0,!0);if(E){let Ke=b<Math.PI*.5?s*(1+Math.cos(b))/Math.sin(b):NaN,ze;Ke>0&&Ke<p?ze=Math.max(Math.hypot(s,Ke),m):ze=s,ze=Math.max(ze,m);let Pe=u+b*.5;e.moveTo(n+ze*Math.cos(Pe),r+ze*Math.sin(Pe))}else if(!(it?.isValid()===!0||Fe?.isValid()===!0)){let Ke=u+b/2,ze=m*Math.cos(Ke),Pe=m*Math.sin(Ke);e.moveTo(n+ze,r+Pe)}if(jt?.isValid()===!0){let{cx:Ke,cy:ze,r:Pe,a0:at,a1:lt}=jt;e.arc(n+Ke,r+ze,Pe,at,lt)}if(vt.isValid()){let{r:Ke,a0:ze,a1:Pe}=vt;e.arc(n,r,Ke,ze,Pe)}if(ft?.isValid()===!0){let{cx:Ke,cy:ze,r:Pe,a0:at,a1:lt}=ft;e.arc(n+Ke,r+ze,Pe,at,lt)}if(!E){if(dt?.isValid()===!0){let{cx:Ke,cy:ze,r:Pe,a0:at,a1:lt}=dt;e.arc(n+Ke,r+ze,Pe,at,lt)}if(Fe?.isValid()===!0){let{r:Ke,a0:ze,a1:Pe}=Fe;e.arc(n,r,Ke,Pe,ze,!0)}if(it?.isValid()===!0){let{cx:Ke,cy:ze,r:Pe,a0:at,a1:lt}=it;e.arc(n+Ke,r+ze,Pe,at,lt)}}e.closePath()}isPointInPath(i,e){let{startAngle:n,endAngle:r,innerRadius:a,outerRadius:s}=this.clipSector??this;return MR(i-this.centerX,e-this.centerY,{startAngle:n,endAngle:r,innerRadius:Math.min(a,s),outerRadius:Math.max(a,s)})}};return t.className="Sector",t})();y([ee()],qr.prototype,"centerX",2);y([ee()],qr.prototype,"centerY",2);y([ee()],qr.prototype,"innerRadius",2);y([ee()],qr.prototype,"outerRadius",2);y([ee()],qr.prototype,"startAngle",2);y([ee()],qr.prototype,"endAngle",2);y([cs({equals:(t,i)=>t.equals(i)})],qr.prototype,"clipSector",2);y([ee()],qr.prototype,"concentricEdgeInset",2);y([ee()],qr.prototype,"radialEdgeInset",2);y([ee()],qr.prototype,"startOuterCornerRadius",2);y([ee()],qr.prototype,"endOuterCornerRadius",2);y([ee()],qr.prototype,"startInnerCornerRadius",2);y([ee()],qr.prototype,"endInnerCornerRadius",2);var x8=class extends an{constructor(){super(...arguments),this.showInLegend=!1}};y([C],x8.prototype,"showInLegend",2);var vL=class extends sn{constructor(){super(...arguments),this.spacing=2}set(t,i){return super.set(t)}};y([C],vL.prototype,"text",2);y([C],vL.prototype,"spacing",2);var _L=class extends tt{constructor(){super(...arguments),this.fill="transparent",this.fillOpacity=1}};y([C],_L.prototype,"fill",2);y([C],_L.prototype,"fillOpacity",2);var ag=class extends sn{constructor(){super(...arguments),this.offset=3,this.minAngle=0,this.minSpacing=4,this.maxCollisionOffset=50,this.avoidCollisions=!0}};y([C],ag.prototype,"offset",2);y([C],ag.prototype,"minAngle",2);y([C],ag.prototype,"minSpacing",2);y([C],ag.prototype,"maxCollisionOffset",2);y([C],ag.prototype,"avoidCollisions",2);var xL=class extends sn{constructor(){super(...arguments),this.positionOffset=0,this.positionRatio=.5}};y([C],xL.prototype,"positionOffset",2);y([C],xL.prototype,"positionRatio",2);var xS=class extends tt{constructor(){super(...arguments),this.length=10,this.strokeWidth=1}};y([C],xS.prototype,"colors",2);y([C],xS.prototype,"length",2);y([C],xS.prototype,"strokeWidth",2);var Nt=class extends Gs{constructor(){super(...arguments),this.defaultColorRange=[],this.defaultPatternFills=[],this.fills=Object.values(wn),this.strokes=Object.values(bc),this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.rotation=0,this.outerRadiusOffset=0,this.outerRadiusRatio=1,this.strokeWidth=1,this.sectorSpacing=0,this.hideZeroValueSectorsInLegend=!1,this.innerLabels=new Mv(vL),this.title=new x8,this.innerCircle=new _L,this.shadow=new Nl,this.calloutLabel=new ag,this.sectorLabel=new xL,this.calloutLine=new xS,this.tooltip=rm()}};y([C],Nt.prototype,"angleKey",2);y([C],Nt.prototype,"angleName",2);y([C],Nt.prototype,"angleFilterKey",2);y([C],Nt.prototype,"radiusKey",2);y([C],Nt.prototype,"radiusName",2);y([C],Nt.prototype,"radiusMin",2);y([C],Nt.prototype,"radiusMax",2);y([C],Nt.prototype,"calloutLabelKey",2);y([C],Nt.prototype,"calloutLabelName",2);y([C],Nt.prototype,"sectorLabelKey",2);y([C],Nt.prototype,"sectorLabelName",2);y([C],Nt.prototype,"legendItemKey",2);y([C],Nt.prototype,"defaultColorRange",2);y([C],Nt.prototype,"defaultPatternFills",2);y([C],Nt.prototype,"fills",2);y([C],Nt.prototype,"strokes",2);y([C],Nt.prototype,"fillOpacity",2);y([C],Nt.prototype,"strokeOpacity",2);y([C],Nt.prototype,"lineDash",2);y([C],Nt.prototype,"lineDashOffset",2);y([C],Nt.prototype,"cornerRadius",2);y([C],Nt.prototype,"itemStyler",2);y([C],Nt.prototype,"rotation",2);y([C],Nt.prototype,"outerRadiusOffset",2);y([C],Nt.prototype,"outerRadiusRatio",2);y([C],Nt.prototype,"innerRadiusOffset",2);y([C],Nt.prototype,"innerRadiusRatio",2);y([C],Nt.prototype,"strokeWidth",2);y([C],Nt.prototype,"sectorSpacing",2);y([C],Nt.prototype,"hideZeroValueSectorsInLegend",2);y([C],Nt.prototype,"innerLabels",2);y([C],Nt.prototype,"title",2);y([C],Nt.prototype,"innerCircle",2);y([C],Nt.prototype,"shadow",2);y([C],Nt.prototype,"calloutLabel",2);y([C],Nt.prototype,"sectorLabel",2);y([C],Nt.prototype,"calloutLine",2);y([C],Nt.prototype,"tooltip",2);function Bw(t,i,e,n){let r=[e.convert(0),e.convert(1)],a=[n.convert(0),n.convert(1)],s=Math.PI/-2+Ar(i),o=t?"initial":"update",l=({radius:p})=>({innerRadius:r[0],outerRadius:r[0]+(r[1]-r[0])*p}),c=({radius:p})=>({innerRadius:a[0],outerRadius:a[0]+(a[1]-a[0])*p});return{nodes:{toFn:(p,g,b,{prevLive:v})=>{let{startAngle:_,endAngle:w,innerRadius:D,outerRadius:I}=g,{stroke:E,fill:A}=g.sectorFormat;if(b==="removed"&&v?(_=v.datum?.endAngle,w=v.datum?.endAngle):b==="removed"&&!v&&(_=s,w=s),b==="removed"){let N=l(g);D=N.innerRadius,I=N.outerRadius}return{startAngle:_,endAngle:w,outerRadius:I,innerRadius:D,stroke:E,fill:A}},fromFn:(p,g,b,{prevFromProps:v})=>{let{startAngle:_,endAngle:w,innerRadius:D,outerRadius:I}=p,{fill:E,stroke:A}=g.sectorFormat;if(b==="updated"&&p.previousDatum==null&&(b="added"),b==="unknown"||b==="added"&&!v?(_=s,w=s,D=g.innerRadius,I=g.outerRadius):b==="added"&&v&&(_=v.endAngle??s,w=v.endAngle??s,D=v.innerRadius??g.innerRadius,I=v.outerRadius??g.outerRadius),b==="added"&&!t){let N=c(g);D=N.innerRadius,I=N.outerRadius}return b==="updated"&&(E=p.fill??E,A=(typeof p.stroke=="string"?p.stroke:void 0)??A),{startAngle:_,endAngle:w,innerRadius:D,outerRadius:I,fill:E,stroke:A,phase:o}}},innerCircle:{fromFn:(p,g)=>({size:p.previousDatum?.radius??p.size??0,phase:o}),toFn:(p,g)=>({size:g.radius??0})}}}function C8(t,i){return{startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius,stroke:i.sectorFormat.stroke}}function w8(t,i){let e=i.y-t.centerY,n=i.x-t.centerX,r=Math.atan2(e,n),a=t.getItemNodes();for(let s of a)if(s.datum.missing!==!0&&Th(r,s.startAngle,s.endAngle)){let o=Math.sqrt(n*n+e*e),l=0;return o<s.innerRadius?l=s.innerRadius-o:o>s.outerRadius&&(l=o-s.outerRadius),{datum:s.datum,distance:l}}}var D8=(t=>(t[t.BACKGROUND=0]="BACKGROUND",t[t.FOREGROUND=1]="FOREGROUND",t[t.HIGHLIGHT=2]="HIGHLIGHT",t[t.LABEL=3]="LABEL",t))(D8||{}),S8={angle:["angleKey"],radius:["radiusKey"]},M8={angle:["angleName"],radius:["radiusName"]},CL=class extends ZO{constructor(a){var s=a,{categoryKey:t,pickModes:i=[1,0],canHaveAxes:e=!1,animationResetFns:n}=s,r=ci(s,["categoryKey","pickModes","canHaveAxes","animationResetFns"]);super(S(f({},r),{categoryKey:t,pickModes:i,canHaveAxes:e})),this.directions=["angle","radius"],this.itemGroup=this.contentGroup.appendChild(new ht),this.nodeData=[],this.itemSelection=$r.select(this.itemGroup,()=>this.nodeFactory(),!1),this.labelSelection=$r.select(this.labelGroup,()=>this.labelFactory(),!1),this.highlightSelection=$r.select(this.highlightGroup,()=>this.nodeFactory()),this.centerX=0,this.centerY=0,this.radius=0,this.animationResetFns=n,this.animationState=new Rv("empty",{empty:{update:{target:"ready",action:o=>this.animateEmptyUpdateReady(o)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:o=>this.animateReadyHighlight(o),highlightMarkers:o=>this.animateReadyHighlightMarkers(o),resize:o=>this.animateReadyResize(o),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:o=>this.animateWaitingUpdateReady(o)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:o=>this.animateClearingUpdateEmpty(o)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}getItemNodes(){return[...this.itemGroup.children()]}getNodeData(){return this.nodeData}setZIndex(t){super.setZIndex(t),this.contentGroup.zIndex=[t,1],this.highlightGroup.zIndex=[t,2],this.labelGroup.zIndex=[t,3]}resetAnimation(t){t==="initial"?this.animationState.transition("reset"):t==="ready"&&this.animationState.transition("skip")}labelFactory(){let t=new as;return t.pointerEvents=1,t}addChartEventListeners(){this.cleanup.register(this.ctx.eventsHub.on("legend:item-click",t=>this.onLegendItemClick(t)),this.ctx.eventsHub.on("legend:item-double-click",t=>this.onLegendItemDoubleClick(t)))}getInnerRadius(){return 0}computeLabelsBBox(t,i){return null}getShapeFillBBox(){let t=this.radius;return{series:new _e(-t,-t,t*2,t*2),axis:new _e(-t,-t,t*2,t*2)}}resetAllAnimation(){let{item:t,label:i}=this.animationResetFns??{};this.ctx.animationManager.stopByAnimationGroupId(this.id),t&&kr([this.itemSelection,this.highlightSelection],t),i&&kr([this.labelSelection],i),this.itemSelection.cleanup(),this.labelSelection.cleanup(),this.highlightSelection.cleanup()}animateEmptyUpdateReady(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animateWaitingUpdateReady(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animateReadyHighlight(t){let{item:i}=this.animationResetFns??{};i&&kr([this.highlightSelection],i)}animateReadyHighlightMarkers(t){}animateReadyResize(t){this.resetAllAnimation()}animateClearingUpdateEmpty(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}computeFocusBounds(t){let i=this.getNodeData()?.[t.datumIndex];if(i!==void 0)return this.itemSelection.select(e=>e instanceof ya&&e.datum===i)[0]}getSeriesRange(t,i){return[NaN,NaN]}isSeriesHighlighted(t,i){let{series:e,legendItemName:n,itemId:r}=t??{},a=i?.[r];return e===this||a!=null&&a===n}},Zge=class extends GD{constructor(t,i,e,n){super(t,i,e,n),this.angleKey=n.properties.angleKey,this.radiusKey=n.properties.radiusKey,this.calloutLabelKey=n.properties.calloutLabelKey,this.sectorLabelKey=n.properties.sectorLabelKey}},wL=(()=>{let t=class extends CL{constructor(i){super({moduleCtx:i,categoryKey:void 0,propertyKeys:S(f({},S8),{sectorLabel:["sectorLabelKey"],calloutLabel:["calloutLabelKey"]}),propertyNames:S(f({},M8),{sectorLabel:["sectorLabelName"],calloutLabel:["calloutLabelName"]}),pickModes:[1,0],animationResetFns:{item:C8,label:nm}}),this.properties=new Nt,this.phantomNodeData=void 0,this.backgroundGroup=new Wr({name:`${this.id}-background`,zIndex:0}),this.noVisibleData=!1,this.previousRadiusScale=new Fh,this.radiusScale=new Fh,this.phantomGroup=this.backgroundGroup.appendChild(new ht({name:"phantom"})),this.phantomSelection=$r.select(this.phantomGroup,()=>this.nodeFactory(),!1),this.calloutLabelGroup=this.contentGroup.appendChild(new ht({name:"pieCalloutLabels"})),this.calloutLabelSelection=new $r(this.calloutLabelGroup,ht),this.zerosumRingsGroup=this.backgroundGroup.appendChild(new ht({name:`${this.id}-zerosumRings`})),this.zerosumOuterRing=this.zerosumRingsGroup.appendChild(new On({shape:"circle"})),this.zerosumInnerRing=this.zerosumRingsGroup.appendChild(new On({shape:"circle"})),this.innerLabelsGroup=this.contentGroup.appendChild(new ht({name:"innerLabels"})),this.innerCircleGroup=this.backgroundGroup.appendChild(new ht({name:`${this.id}-innerCircle`})),this.innerLabelsSelection=$r.select(this.innerLabelsGroup,as),this.innerCircleSelection=$r.select(this.innerCircleGroup,()=>new On({shape:"circle"})),this.surroundingRadius=void 0,this.NodeEvent=Zge,this.angleScale=new Fh,this.angleScale.domain=[0,1],this.angleScale.range=[-Math.PI,Math.PI].map(e=>e+Math.PI/2),this.phantomGroup.opacity=.2,this.innerLabelsGroup.pointerEvents=1}get calloutNodeData(){return this.phantomNodeData??this.nodeData}attachSeries(i,e,n){super.attachSeries(i,e,n),i?.appendChild(this.backgroundGroup)}detachSeries(i,e,n){super.detachSeries(i,e,n),i?.removeChild(this.backgroundGroup)}setZIndex(i){super.setZIndex(i),this.backgroundGroup.zIndex=[0,i]}nodeFactory(){let i=new qr;return i.miterLimit=1e9,i}getSeriesDomain(i){return i==="angle"?this.angleScale.domain:this.radiusScale.domain}processData(i){return L(this,null,function*(){if(this.data==null)return;let{visible:e,id:n,ctx:{legendManager:r}}=this,{angleKey:a,angleFilterKey:s,radiusKey:o,calloutLabelKey:l,sectorLabelKey:c,legendItemKey:d}=this.properties,u=()=>(v,_)=>e&&r.getItemEnabled({seriesId:n,itemId:_})?v:0,h=!this.ctx.animationManager.isSkipped(),m=[],p=[];d?m.push(Wd(d,"category",{id:"legendItemKey"})):l?m.push(Wd(l,"category",{id:"calloutLabelKey"})):c&&m.push(Wd(c,"category",{id:"sectorLabelKey"}));let g=this.radiusScale.type,b=this.angleScale.type;o&&p.push(D$(o,{id:"radiusValue",min:this.properties.radiusMin??0,max:this.properties.radiusMax,missingValue:this.properties.radiusMax??1,processor:u}),Li(o,g,{id:"radiusRaw",processor:u}),Rw("radiusValue",[0,1],1,this.properties.radiusMin??0,this.properties.radiusMax)),l&&p.push(Li(l,"category",{id:"calloutLabelValue"})),c&&p.push(Li(c,"category",{id:"sectorLabelValue"})),d&&p.push(Li(d,"category",{id:"legendItemValue"})),s&&p.push(pR(s,b,{id:"angleFilterValue",onlyPositive:!0,invalidValue:0,processor:u}),Li(s,b,{id:"angleFilterRaw"}),Rw("angleFilterValue",[0,1],0,0)),h&&this.processedData?.reduced?.animationValidation?.uniqueKeys&&m.length>0&&p.push(o_(this.id,this.processedData)),p.push(s_()),yield this.requestDataModel(i,this.data,{props:[...m,pR(a,b,{id:"angleValue",onlyPositive:!0,invalidValue:0,processor:u}),Li(a,b,{id:"angleRaw"}),Rw("angleValue",[0,1],0,0),...p]});for(let v of this.processedData?.defs?.values??[]){let{id:_,missing:w,property:D}=v,I=iW(this,w);_!=="angleRaw"&&I>0&&j.warnOnce(`no value was found for the key '${String(D)}' on ${I} data element${I>1?"s":""}`)}this.animationState.transition("updateData")})}maybeRefreshNodeData(){if(!this.nodeDataRefresh)return;let{nodeData:i=[],phantomNodeData:e}=this.createNodeData()??{};this.nodeData=i,this.phantomNodeData=e,this.nodeDataRefresh=!1}getProcessedDataValues(i,e){let n=i.resolveColumnById(this,"angleValue",e),r=i.resolveColumnById(this,"angleRaw",e),a=this.properties.angleFilterKey!=null?i.resolveColumnById(this,"angleFilterValue",e):void 0,s=this.properties.angleFilterKey!=null?i.resolveColumnById(this,"angleFilterRaw",e):void 0,o=this.properties.radiusKey?i.resolveColumnById(this,"radiusValue",e):void 0,l=this.properties.radiusKey?i.resolveColumnById(this,"radiusRaw",e):void 0,c=this.properties.calloutLabelKey?i.resolveColumnById(this,"calloutLabelValue",e):void 0,d=this.properties.sectorLabelKey?i.resolveColumnById(this,"sectorLabelValue",e):void 0,u=this.properties.legendItemKey?i.resolveColumnById(this,"legendItemValue",e):void 0;return{angleValues:n,angleRawValues:r,angleFilterValues:a,angleFilterRawValues:s,radiusValues:o,radiusRawValues:l,calloutLabelValues:c,sectorLabelValues:d,legendItemValues:u}}createNodeData(){let{id:i,processedData:e,dataModel:n,angleScale:r,ctx:{legendManager:a},visible:s}=this,{rotation:o,innerRadiusRatio:l}=this.properties;if(!n||e?.type!=="ungrouped")return;let c=this.getProcessedDataValues(n,e),{angleValues:d,angleRawValues:u,angleFilterValues:h,angleFilterRawValues:m,radiusValues:p,radiusRawValues:g,legendItemValues:b}=c,v=m?.some((N,F)=>N>u[F])??!1,_=0,w=0,D=[],I=m!=null?[]:void 0,E=e.dataSources.get(this.id)??[],A=e.invalidData?.get(this.id);return E.forEach((N,F)=>{if(A?.[F]===!0)return;let P=v?h[F]:d[F],U=m!=null&&!v?Math.sqrt(m[F]/u[F]):1,H=r.convert(_)+Ar(o);_=P,w+=P;let q=r.convert(_)+Ar(o),ue=Math.abs(q-H),te=H+ue/2,Oe=u[F],Ct=(p?.[F]??1)*U,Yt=g?.[F],Zt=b?.[F],vt=this.getLabels(F,N,te,ue,c),He=this.getSectorFormat(N,F,!1),Ge=f({itemId:F,series:this,datum:N,datumIndex:F,angleValue:Oe,midAngle:te,midCos:Math.cos(te),midSin:Math.sin(te),startAngle:H,endAngle:q,radius:Ct,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(Ct),0),sectorFormat:He,radiusValue:Yt,legendItemValue:Zt,enabled:s&&a.getItemEnabled({seriesId:i,itemId:F}),focusable:!0},vt);D.push(Ge),I?.push(S(f({},Ge),{radius:1,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(1),0),focusable:!1}))}),this.zerosumOuterRing.visible=w===0,this.zerosumInnerRing.visible=w===0&&l!=null&&l!==1&&l>0,{itemId:i,nodeData:D,labelData:D,phantomNodeData:I}}getLabelContent(i,e,n){let{id:r,ctx:a,properties:s}=this,{formatManager:o}=a,{calloutLabel:l,sectorLabel:c,calloutLabelKey:d,sectorLabelKey:u,legendItemKey:h}=s,m=n.calloutLabelValues?.[i],p=n.sectorLabelValues?.[i],g=n.legendItemValues?.[i],b={datum:e,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey},v={callout:void 0,sector:void 0,legendItem:void 0};return d&&(v.callout=this.getLabelText(m,e,d,"calloutLabel",[],l,S(f({},b),{value:m}))),u&&(v.sector=this.getLabelText(p,e,u,"sectorLabel",[],c,S(f({},b),{value:p}))),h!=null&&g!=null&&(v.legendItem=o.format(this.callWithContext.bind(this),{type:"category",value:g,datum:e,seriesId:r,legendItemName:void 0,key:h,source:"legend-label",property:"legendItem",domain:[],boundSeries:this.getFormatterContext("legendItem")})??g),v}getLabels(i,e,n,r,a){let{properties:s}=this,{calloutLabel:o,sectorLabel:l,legendItemKey:c}=s,d=this.getLabelContent(i,e,a),u={};return o.enabled&&d.callout&&r>=Ar(o.minAngle)&&(u.calloutLabel=S(f({},this.getTextAlignment(n)),{text:d.callout,hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0,box:void 0})),l.enabled&&d.sector&&(u.sectorLabel={text:d.sector}),c&&d.legendItem&&(u.legendItem={key:c,text:d.legendItem}),u}getTextAlignment(i){let e=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"top"},{textAlign:"right",textBaseline:"middle"}],n=Hw(i),r=-.75*Math.PI,a=n-r,s=Math.floor(a/(Math.PI/2)),o=MU(s,e.length);return e[o]}getNodeFill(i,e,n){return xf(i,{type:"gradient",bounds:"series",colorStops:e.map(r=>({color:r})),gradient:"radial",rotation:0,reverse:!0},{type:"pattern",pattern:"forward-slanted-lines",fill:n,fillOpacity:1,backgroundFill:"none",backgroundFillOpacity:1,stroke:n,strokeOpacity:1,strokeWidth:4,rotation:0},{type:"image",backgroundFill:n,backgroundFillOpacity:1,fit:"contain",repeat:"no-repeat",rotation:0})}getFillParams(i,e,n){if(!(!To(i)||i.bounds==="item"))return{centerX:0,centerY:0,innerRadius:e,outerRadius:n}}getSectorFormat(i,e,n,r,a,s){let{angleKey:o,radiusKey:l,calloutLabelKey:c,sectorLabelKey:d,legendItemKey:u,fills:h,strokes:m,defaultColorRange:p,defaultPatternFills:g,itemStyler:b}=this.properties,v=m[e%m.length],_=h[e%h.length],{fill:w,fillOpacity:D,stroke:I,strokeWidth:E,strokeOpacity:A,lineDash:N,lineDashOffset:F,cornerRadius:P,opacity:U}=Xt(this.getHighlightStyle(n,r?.datumIndex,a),{fill:_,stroke:v},this.properties),H=p[e%p.length],q=g[e%g.length],ue=w??"black",te;return b&&(te=this.cachedDatumCallback(this.getDatumId(e)+(n?"-highlight":"-hide"),()=>this.callWithContext(b,{datum:i,angleKey:o,radiusKey:l,calloutLabelKey:c,sectorLabelKey:d,legendItemKey:u,fill:this.getNodeFill(ue,H,q),fillOpacity:D,stroke:I,strokeWidth:E,strokeOpacity:A,lineDash:N,lineDashOffset:F,cornerRadius:P,highlighted:n,highlightState:this.getHighlightStateString(s??this.ctx.highlightManager?.getActiveHighlight(),n,e),seriesId:this.id}))),{fill:this.getNodeFill(te?.fill??ue,H,q),fillOpacity:te?.fillOpacity??D,stroke:te?.stroke??I,strokeWidth:te?.strokeWidth??E,strokeOpacity:te?.strokeOpacity??A,lineDash:te?.lineDash??N,lineDashOffset:te?.lineDashOffset??F,cornerRadius:te?.cornerRadius??P,opacity:U}}getInnerRadius(){let{radius:i}=this,{innerRadiusRatio:e=1,innerRadiusOffset:n=0}=this.properties,r=i*e+n;return r===i||r<0?0:r}getOuterRadius(){let{outerRadiusRatio:i,outerRadiusOffset:e}=this.properties;return Math.max(this.radius*i+e,0)}updateRadiusScale(i){let e=[this.getInnerRadius(),this.getOuterRadius()];this.radiusScale.range=e,i&&(this.previousRadiusScale.range=e);let n=r=>S(f({},r),{innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(r.radius),0)});this.nodeData=this.nodeData.map(n),this.phantomNodeData=this.phantomNodeData?.map(n)}getTitleTranslationY(){let i=Math.max(0,this.radiusScale.range[1]);if(i===0)return NaN;let n=2+(this.properties.title?.spacing??0),r=Math.max(0,-i);return-i-n-r}update({seriesRect:i}){let{title:e}=this.properties,n={seriesRectWidth:i?.width,seriesRectHeight:i?.height},r=Ec(this.nodeDataDependencies,n)!=null;if(r&&(this._nodeDataDependencies=n),this.maybeRefreshNodeData(),this.updateTitleNodes(),this.updateRadiusScale(r),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.backgroundGroup.translationX=this.centerX,this.backgroundGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),e){let a=this.getTitleTranslationY();e.node.y=isFinite(a)?a:0;let s=e.node.getBBox(!1);e.node.visible=e.enabled&&isFinite(a)&&!this.bboxIntersectsSurroundingSeries(s)}for(let a of[this.zerosumInnerRing,this.zerosumOuterRing])a.fillOpacity=0,a.stroke=this.properties.calloutLabel.color,a.strokeWidth=1,a.strokeOpacity=1;this.updateNodeMidPoint(),this.updateSelections(),this.updateNodes(i)}updateTitleNodes(){let{oldTitle:i}=this,{title:e}=this.properties;i!==e&&(i&&this.labelGroup?.removeChild(i.node),e&&(e.node.textBaseline="bottom",this.labelGroup?.appendChild(e.node)),this.oldTitle=e)}updateNodeMidPoint(){let i=e=>{let n=e.innerRadius+(e.outerRadius-e.innerRadius)/2;e.midPoint={x:e.midCos*Math.max(0,n),y:e.midSin*Math.max(0,n)}};this.nodeData.forEach(i),this.phantomNodeData?.forEach(i)}updateSelections(){this.updateGroupSelection(),this.updateInnerCircleSelection()}updateGroupSelection(){let{itemSelection:i,highlightSelection:e,phantomSelection:n,calloutLabelSelection:r,labelSelection:a,innerLabelsSelection:s}=this,o=this.nodeData.map(c=>S(f({},c),{sectorFormat:f({},c.sectorFormat)})),l=(c,d)=>{c.update(d,void 0,u=>this.getDatumId(u.datumIndex)),this.ctx.animationManager.isSkipped()&&c.cleanup()};l(i,this.nodeData),l(e,o),l(n,this.phantomNodeData??[]),r.update(this.calloutNodeData,c=>{let d=new Fs;d.tag=0,d.pointerEvents=1,c.appendChild(d);let u=new as;u.tag=1,u.pointerEvents=1,c.appendChild(u)}),a.update(this.nodeData),s.update(this.properties.innerLabels,c=>{c.pointerEvents=1})}updateInnerCircleSelection(){let{innerCircle:i}=this.properties,e=0,n=this.getInnerRadius();if(n>0){let a=Math.min(n,this.getOuterRadius());e=Math.ceil(a*2+1)}let r=i?[{radius:e}]:[];this.innerCircleSelection.update(r)}updateNodes(i){let e=this.ctx.highlightManager.getActiveHighlight(),{visible:n,dataModel:r,processedData:a}=this;if(this.backgroundGroup.visible=n,this.contentGroup.visible=n,!r||!a)return;let{legendItemValues:s}=this.getProcessedDataValues(r,a),o=this.isSeriesHighlighted(e,s);this.highlightGroup.visible=n&&o,this.labelGroup.visible=n,this.innerCircleSelection.each((m,{radius:p})=>{m.setProperties({fill:this.getNodeFill(this.properties.innerCircle?.fill,["black"],"black"),opacity:this.properties.innerCircle?.fillOpacity,size:p})});let l=this.radiusScale.range[0],c=this.radiusScale.range[1],d=this.getShapeFillBBox(),u=this.ctx.animationManager.isSkipped(),h=(m,p,g,b)=>{let v=this.getSectorFormat(p.datum,p.itemId,b,p,s,e);p.sectorFormat.fill=v.fill,p.sectorFormat.stroke=v.stroke,u&&(m.startAngle=p.startAngle,m.endAngle=p.endAngle,m.innerRadius=p.innerRadius,m.outerRadius=p.outerRadius),(b||u)&&(m.fill=v.fill,m.stroke=v.stroke);let _=this.getFillParams(v.fill,l,c);Dc(m,v,d,_),m.cornerRadius=v.cornerRadius,m.fillShadow=this.properties.shadow;let w=Math.max((this.properties.sectorSpacing+(v.stroke!=null?v.strokeWidth:0))/2,0);m.inset=w,m.lineJoin=this.properties.sectorSpacing>=0||w>0?"miter":"round"};this.itemSelection.each((m,p,g)=>h(m,p,g,!1)),this.highlightSelection.each((m,p,g)=>{h(m,p,g,!0),m.visible=p.itemId===e?.itemId}),this.phantomSelection.each((m,p,g)=>h(m,p,g,!1)),this.updateCalloutLineNodes(),this.updateCalloutLabelNodes(i),this.updateSectorLabelNodes(),this.updateInnerLabelNodes(),this.updateZerosumRings(),this.animationState.transition("update")}updateCalloutLineNodes(){let{calloutLine:{length:i,strokeWidth:e,colors:n},strokes:r}=this.properties,a=e,s=hce(n)?n??this.properties.strokes:r,{offset:o}=this.properties.calloutLabel;this.calloutLabelSelection.selectByTag(0).forEach(l=>{let c=l.closestDatum(),{calloutLabel:d,outerRadius:u,datumIndex:h}=c;if(d?.text&&!d.hidden&&u!==0){l.visible=!0,l.strokeWidth=a,l.stroke=s[h%s.length],l.strokeOpacity=this.getHighlightStyle(!1,c.datumIndex).opacity??1,l.fill=void 0;let m=c.midCos*u,p=c.midSin*u,g=c.midCos*(u+i),b=c.midSin*(u+i);if((d.collisionTextAlign??d.collisionOffsetY!==0)&&d.box!=null){let _=d.box,w=g,D=b;g<_.x?w=_.x:g>_.x+_.width&&(w=_.x+_.width),b<_.y?D=_.y:b>_.y+_.height&&(D=_.y+_.height);let I=w-g,E=D-b,A=Math.sqrt(Math.pow(I,2)+Math.pow(E,2)),N=A-o;N>0&&(g=g+I*N/A,b=b+E*N/A)}l.x1=m,l.y1=p,l.x2=g,l.y2=b}else l.visible=!1})}getLabelOverflow(i,e,n){let r=-this.centerX,a=r+n.width,s=-this.centerY,o=s+n.height,l=1,c=1;e.x+l<r?c=(e.x+e.width-r)/e.width:e.x+e.width-l>a&&(c=(a-e.x)/e.width);let d=e.y+l<s||e.y+e.height-l>o,u=c===1?i.length:Math.floor(i.length*c)-1,h=this.bboxIntersectsSurroundingSeries(e);return{textLength:u,hasVerticalOverflow:d,hasSurroundingSeriesOverflow:h}}bboxIntersectsSurroundingSeries(i){let{surroundingRadius:e}=this;if(e==null)return!1;let n=[{x:i.x,y:i.y},{x:i.x+i.width,y:i.y},{x:i.x+i.width,y:i.y+i.height},{x:i.x,y:i.y+i.height}],r=e**2;return n.some(a=>a.x**2+a.y**2>r)}computeCalloutLabelCollisionOffsets(){let{radiusScale:i}=this,{calloutLabel:e,calloutLine:n}=this.properties,{offset:r,minSpacing:a}=e,s=i.convert(0),o=w=>!w.calloutLabel||w.outerRadius===0,l=this.calloutNodeData,c=l.filter(w=>!o(w));if(c.forEach(w=>{let D=w.calloutLabel;D!=null&&(D.hidden=!1,D.collisionTextAlign=void 0,D.collisionOffsetY=0)}),c.length<=1)return;let d=c.filter(w=>w.midCos<0).sort((w,D)=>w.midSin-D.midSin),u=c.filter(w=>w.midCos>=0).sort((w,D)=>w.midSin-D.midSin),h=c.filter(w=>w.midSin<0&&w.calloutLabel?.textAlign==="center").sort((w,D)=>w.midCos-D.midCos),m=c.filter(w=>w.midSin>=0&&w.calloutLabel?.textAlign==="center").sort((w,D)=>w.midCos-D.midCos),p={angleKey:this.properties.angleKey},g=w=>{let D=w.calloutLabel;if(D==null)return _e.zero.clone();let I=Ml(this,w,p,e),E=Lf(I),A=w.outerRadius+n.length+r,N=w.midCos*A,F=w.midSin*A+D.collisionOffsetY,P=D.collisionTextAlign??D.textAlign,U=D.textBaseline;return as.computeBBox(D.text,N,F,{font:this.properties.calloutLabel,textAlign:P,textBaseline:U},!1).grow(E)},b=(w,D,I)=>{let E=g(w).grow(a/2),A=g(D).grow(a/2);E.x<A.x+A.width&&E.x+E.width>A.x&&(I==="to-top"?E.y<A.y+A.height:E.y+E.height>A.y)&&(D.calloutLabel.collisionOffsetY=I==="to-top"?E.y-A.y-A.height:E.y+E.height-A.y)},v=w=>{let D=w.slice().sort((E,A)=>Math.abs(E.midSin)-Math.abs(A.midSin))[0],I=w.indexOf(D);for(let E=I-1;E>=0;E--){let A=w[E+1],N=w[E];b(A,N,"to-top")}for(let E=I+1;E<w.length;E++){let A=w[E-1],N=w[E];b(A,N,"to-bottom")}},_=w=>{let D=c.some(P=>P.calloutLabel.collisionOffsetY!==0),I=w.map(P=>g(P)),E=I.map(P=>P.clone().grow(a/2)),A=!1;for(let P=0;P<E.length&&!A;P++){let U=E[P];for(let H=P+1;H<w.length;H++){let q=E[H];if(U.collidesBBox(q)){A=!0;break}}}let N=l.map(P=>{let{startAngle:U,endAngle:H,outerRadius:q}=P;return{startAngle:U,endAngle:H,innerRadius:s,outerRadius:q}}),F=I.some(P=>N.some(U=>Kge(P,U)));!A&&!D&&!F||w.filter(P=>P.calloutLabel.textAlign==="center").forEach(P=>{let U=P.calloutLabel;P.midCos<0?U.collisionTextAlign="right":P.midCos>0?U.collisionTextAlign="left":U.collisionTextAlign="center"})};v(d),v(u),_(h),_(m)}updateCalloutLabelNodes(i){let{radiusScale:e}=this,{calloutLabel:n,calloutLine:r}=this.properties,a=new as;this.calloutLabelSelection.selectByTag(1).forEach(s=>{let o=s.closestDatum(),l=o.calloutLabel,c=e.convert(o.radius),d=Math.max(0,c);if(!l?.text||d===0||l.hidden){s.visible=!1;return}let u=this.ctx.highlightManager?.getActiveHighlight(),h=!1,m=this.getHighlightStateString(u,h,o.datumIndex),p=Ml(this,o,this.properties,n,h,m),g=d+r.length+n.offset,b=o.midCos*g,v=o.midSin*g+l.collisionOffsetY,_={textAlign:l.collisionTextAlign??l.textAlign,textBaseline:l.textBaseline};a.text=l.text,a.x=b,a.y=v,a.setFont(p),a.setAlign(_),a.setBoxing(p);let w=a.getBBox(!1),D=l.text,I=!0;if(n.avoidCollisions){let{textLength:E,hasVerticalOverflow:A}=this.getLabelOverflow(l.text,w,i);D=l.text.length===E?l.text:`${l.text.substring(0,E)}\u2026`,I=!A}s.text=D,s.x=b,s.y=v,s.setFont(p),s.setAlign(_),s.setBoxing(p),s.fill=p.color,s.fillOpacity=this.getHighlightStyle(!1,o.datumIndex).opacity??1,s.visible=I})}computeLabelsBBox(i,e){let{calloutLabel:n,calloutLine:r}=this.properties,a=r.length,{offset:s,maxCollisionOffset:o,minSpacing:l}=n;if(!n.avoidCollisions)return null;this.maybeRefreshNodeData(),this.updateRadiusScale(!1),this.computeCalloutLabelCollisionOffsets();let c=[],d=new as,u,{title:h}=this.properties;if(h?.text&&h.enabled){let p=this.getTitleTranslationY();isFinite(p)&&(d.text=h.text,d.x=0,d.y=p,d.setFont(h),d.setAlign({textBaseline:"bottom",textAlign:"center"}),u=d.getBBox(!1),c.push(u))}let m={angleKey:this.properties.angleKey};return this.calloutNodeData.forEach(p=>{let g=p.calloutLabel;if(!g||p.outerRadius===0)return null;let b=Ml(this,p,m,n),v=p.outerRadius+a+s,_=p.midCos*v,w=p.midSin*v+g.collisionOffsetY;d.text=g.text,d.x=_,d.y=w,d.setFont(b),d.setAlign({textAlign:g.collisionTextAlign??g.textAlign,textBaseline:g.textBaseline}),d.setBoxing(b);let D=d.getBBox(!1);if(g.box=D,Math.abs(g.collisionOffsetY)>o){g.hidden=!0;return}if(u){let I=-this.centerY,E=new _e(u.x-l,I,u.width+2*l,u.y+u.height+l-I);if(D.collidesBBox(E)){g.hidden=!0;return}}if(i.hideWhenNecessary){let{textLength:I,hasVerticalOverflow:E,hasSurroundingSeriesOverflow:A}=this.getLabelOverflow(g.text,D,e),N=g.text.length>2&&I<2;if(E||N||A){g.hidden=!0;return}}g.hidden=!1,c.push(D)}),c.length===0?null:_e.merge(c)}updateSectorLabelNodes(){let{properties:i}=this,{positionOffset:e,positionRatio:n}=this.properties.sectorLabel,r=this.radiusScale.convert(0),a=r<=0&&this.ctx.legendManager.getData(this.id)?.filter(l=>l.enabled).length===1,s={textAlign:"center",textBaseline:"middle"},o=(l,c)=>{let{outerRadius:d,startAngle:u,endAngle:h}=c,m=!1;if(c.sectorLabel&&d!==0){let p=this.ctx.highlightManager?.getActiveHighlight(),g=!1,b=this.getHighlightStateString(p,g,c.datumIndex),v=Ml(this,c,i,i.sectorLabel,g,b),_=r*(1-n)+d*n+e;l.fill=v.color,l.fillOpacity=this.getHighlightStyle(!1,c.datumIndex).opacity??1,l.text=c.sectorLabel.text,a?(l.x=0,l.y=0):(l.x=c.midCos*_,l.y=c.midSin*_),l.setFont(v),l.setAlign(s),l.setBoxing(v);let w=l.getBBox(!1),D=[[w.x,w.y],[w.x+w.width,w.y],[w.x+w.width,w.y+w.height],[w.x,w.y+w.height]],I={startAngle:u,endAngle:h,innerRadius:r,outerRadius:d};D.every(([E,A])=>MR(E,A,I))&&(m=!0)}l.visible=m};this.labelSelection.each(o)}updateInnerLabelNodes(){let i=[],e=[];this.innerLabelsSelection.each((u,h)=>{let{fontStyle:m,fontWeight:p,fontSize:g,fontFamily:b,color:v}=h;u.fontStyle=m,u.fontWeight=p,u.fontSize=g,u.fontFamily=b,u.text=h.text,u.x=0,u.y=0,u.fill=v,u.textAlign="center",u.textBaseline="alphabetic",i.push(u.getBBox()),e.push(h.spacing)});let n=u=>u===0?0:e[u],r=u=>u===e.length-1?0:e[u],a=i.reduce((u,h)=>u<h.width?h.width:u,0),s=i.reduce((u,h,m)=>u+h.height+n(m)+r(m),0),o=this.getInnerRadius(),c=Math.sqrt(Math.pow(a/2,2)+Math.pow(s/2,2))<=(o>0?o:this.getOuterRadius()),d=[];for(let u=0,h=-s/2;u<i.length;u++){let p=i[u].height+h+n(u);d.push(p),h=p+r(u)}this.innerLabelsSelection.each((u,h,m)=>{u.visible=c,Array.isArray(u.text)?u.y=d[m]-i[m].height:u.y=d[m]})}updateZerosumRings(){this.zerosumOuterRing.size=this.getOuterRadius()*2,this.zerosumInnerRing.size=this.getInnerRadius()*2}pickNodeClosestDatum(i){return w8(this,i)}getTooltipContent(i){let{id:e,dataModel:n,processedData:r,properties:a,ctx:{formatManager:s}}=this,{legendItemKey:o,calloutLabelKey:l,calloutLabelName:c,sectorLabelKey:d,sectorLabelName:u,angleKey:h,angleName:m,radiusKey:p,radiusName:g,tooltip:b}=a,v=this.properties.title.node.getPlainText();if(!n||!r)return;let _=r.dataSources.get(this.id)?.[i],w=this.getProcessedDataValues(n,r),{angleRawValues:D}=w,I=D[i],E=this.getLabelContent(i,_,w),A=E.legendItem??E.callout??E.sector??m,N=n.getDomain(this,"angleRaw","value",r),F=s.format(this.callWithContext.bind(this),{type:"number",value:I,datum:_,seriesId:e,legendItemName:void 0,key:h,source:"tooltip",property:"angle",domain:N,boundSeries:this.getFormatterContext("angle"),fractionDigits:void 0})??Ef(I,3);return this.formatTooltipWithContext(b,{title:v,symbol:this.legendItemSymbol(i),data:[{label:A,fallbackLabel:h,value:F}]},f({seriesId:e,datum:_,title:m,legendItemKey:o,calloutLabelKey:l,calloutLabelName:c,sectorLabelKey:d,sectorLabelName:u,angleKey:h,angleName:m,radiusKey:p,radiusName:g},this.getSectorFormat(_,i,!1)))}legendItemSymbol(i){let e=this.processedData?.dataSources.get(this.id)?.[i],n=this.getSectorFormat(e,i,!1),{fillOpacity:r,strokeOpacity:a,strokeWidth:s,lineDash:o,lineDashOffset:l}=this.properties,{fill:c}=n,{stroke:d}=n;return To(c)&&(c=S(f({},c),{gradient:"linear",rotation:0,reverse:!1})),{marker:{fill:c,stroke:d,fillOpacity:r,strokeOpacity:a,strokeWidth:s,lineDash:o,lineDashOffset:l}}}getLegendData(i){let{visible:e,processedData:n,dataModel:r,id:a,ctx:{legendManager:s}}=this;if(!r||!n||i!=="category")return[];let{angleKey:o,calloutLabelKey:l,sectorLabelKey:c,legendItemKey:d,showInLegend:u}=this.properties;if(!d&&(!l||l===o)&&(!c||c===o))return[];let h=this.getProcessedDataValues(r,n),{angleRawValues:m}=h,p=this.properties.title?.showInLegend&&this.properties.title.text,g=[],b=this.properties.hideZeroValueSectorsInLegend,v=n.dataSources.get(this.id),_=n.invalidData?.get(this.id);for(let w=0;w<n.input.count;w++){let D=v?.[w],I=m[w];if(_?.[w]===!0||b&&I===0)continue;let E=[];p&&E.push(p);let A=this.getLabelContent(w,D,h);d&&A.legendItem!==void 0?E.push(A.legendItem):l&&l!==o&&A.callout!==void 0?E.push(A.callout):c&&c!==o&&A.sector!==void 0&&E.push(A.sector),E.length!==0&&g.push({legendType:"category",id:a,datum:D,itemId:w,seriesId:a,hideToggleOtherSeries:!0,enabled:e&&s.getItemEnabled({seriesId:a,itemId:w}),label:{text:E.join(" - ")},symbol:this.legendItemSymbol(w),legendItemName:d!=null?D[d]:void 0,hideInLegend:!u})}return g}setLegendState(i){let{id:e,ctx:{legendManager:n,updateService:r}}=this;i.forEach((a,s)=>n.toggleItem(a,e,s)),n.update(),r.update(5)}animateEmptyUpdateReady(i){let{animationManager:e}=this.ctx,n=Bw(!0,this.properties.rotation,this.radiusScale,this.previousRadiusScale);Tn(this.id,"nodes",e,[this.itemSelection,this.highlightSelection,this.phantomSelection],n.nodes,(r,a)=>this.getDatumId(a.datumIndex)),Tn(this.id,"innerCircle",e,[this.innerCircleSelection],n.innerCircle),fn(this,"callout",e,this.calloutLabelSelection),fn(this,"sector",e,this.labelSelection),fn(this,"inner",e,this.innerLabelsSelection),this.previousRadiusScale.range=this.radiusScale.range}animateWaitingUpdateReady(){let{itemSelection:i,highlightSelection:e,phantomSelection:n,processedData:r,radiusScale:a,previousRadiusScale:s}=this,{animationManager:o}=this.ctx,l=r?.reduced?.diff?.[this.id];this.ctx.animationManager.stopByAnimationGroupId(this.id);let c=(l?.moved.size??0)===0,d=(r?.defs.keys.length??0)>0,u=r?.reduced?.animationValidation?.uniqueKeys??!0;(!c||!d||!u)&&this.ctx.animationManager.skipCurrentBatch();let h=!this.nodeData.some(p=>p.enabled),m=Bw(!1,this.properties.rotation,a,s);Tn(this.id,"nodes",o,[i,e,n],m.nodes,(p,g)=>this.getDatumId(g.datumIndex),l),Tn(this.id,"innerCircle",o,[this.innerCircleSelection],m.innerCircle),fn(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),fn(this,"sector",this.ctx.animationManager,this.labelSelection),this.noVisibleData!==h&&(this.noVisibleData=h,fn(this,"inner",this.ctx.animationManager,this.innerLabelsSelection)),this.previousRadiusScale.range=this.radiusScale.range}animateClearingUpdateEmpty(){let{itemSelection:i,highlightSelection:e,phantomSelection:n,radiusScale:r,previousRadiusScale:a}=this,{animationManager:s}=this.ctx,o=Bw(!1,this.properties.rotation,r,a);Tn(this.id,"nodes",s,[i,e,n],o.nodes,(l,c)=>this.getDatumId(c.datumIndex)),Tn(this.id,"innerCircle",s,[this.innerCircleSelection],o.innerCircle),Pw(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),Pw(this,"sector",this.ctx.animationManager,this.labelSelection),Pw(this,"inner",this.ctx.animationManager,this.innerLabelsSelection),this.previousRadiusScale.range=this.radiusScale.range}getDatumId(i){return`${i}`}hasItemStylers(){let{itemStyler:i,calloutLabel:e,sectorLabel:n}=this.properties;return(i??e.itemStyler??n.itemStyler)!=null}};return t.className="DonutSeries",t.type="donut",t})(),Qge={series:{title:{enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:{$rem:ss.LARGE},fontFamily:{$ref:"fontFamily"},color:{$ref:"subtleTextColor"},spacing:5},calloutLabel:S(f({},Vs),{enabled:!0,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"},offset:3,minAngle:.001}),sectorLabel:S(f({},Vs),{enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},color:{$ref:"chartBackgroundColor"},positionOffset:0,positionRatio:.5}),calloutLine:{length:10,strokeWidth:2,colors:{$map:[{$if:[{$or:[{$isGradient:{$value:"$1"}},{$isPattern:{$value:"$1"}},{$isImage:{$value:"$1"}}]},{$path:["../../strokes/$index",{$ref:"foregroundColor"}]},{$value:"$1"}]},{$if:[{$eq:[{$path:"../strokeWidth"},0]},{$path:"../fills"},{$path:"../strokes"}]}]}},fills:{$palette:"fills"},strokes:{$palette:"strokes"},defaultColorRange:{$palette:"gradients"},defaultPatternFills:kO,fillOpacity:1,strokeOpacity:1,strokeWidth:{$isUserOption:["./strokes/0",2,0]},lineDash:[0],lineDashOffset:0,rotation:0,sectorSpacing:1,innerRadiusRatio:{$if:[{$eq:[{$path:["./innerRadiusOffset",void 0]},void 0]},.7,void 0]},shadow:{enabled:!1,color:iu,xOffset:3,yOffset:3,blur:5},innerLabels:{$apply:S(f({},Vs),{fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"},spacing:2})},highlight:a$()},legend:{enabled:!0}},Xge={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["polar"],identifier:"donut",moduleFactory:t=>new wL(t),themeTemplate:Qge},Jge={type:"series",name:"donut",chartType:"polar",options:Ape,create:t=>new wL(t)},I8=(()=>{let t=class extends wL{};return t.className="PieSeries",t.type="pie",t})(),eye={series:{title:{enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:{$rem:ss.LARGE},fontFamily:{$ref:"fontFamily"},color:{$ref:"subtleTextColor"},spacing:5},calloutLabel:S(f({},Vs),{enabled:!0,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"},offset:3,minAngle:.001}),sectorLabel:S(f({},Vs),{enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},color:{$ref:"chartBackgroundColor"},positionOffset:0,positionRatio:.5}),calloutLine:{length:10,strokeWidth:2,colors:{$map:[{$if:[{$or:[{$isGradient:{$value:"$1"}},{$isPattern:{$value:"$1"}},{$isImage:{$value:"$1"}}]},{$path:["../../strokes/$index",{$ref:"foregroundColor"}]},{$value:"$1"}]},{$if:[{$eq:[{$path:"../strokeWidth"},0]},{$path:"../fills"},{$path:"../strokes"}]}]}},fills:{$palette:"fills"},strokes:{$palette:"strokes"},defaultColorRange:{$palette:"gradients"},defaultPatternFills:kO,fillOpacity:1,strokeOpacity:1,strokeWidth:{$isUserOption:["./strokes/0",2,0]},lineDash:[0],lineDashOffset:0,rotation:0,sectorSpacing:1,shadow:{enabled:!1,color:iu,xOffset:3,yOffset:3,blur:5},highlight:nu()},legend:{enabled:!0}},tye={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["polar"],identifier:"pie",moduleFactory:t=>new I8(t),themeTemplate:eye},iye={type:"series",name:"pie",chartType:"polar",options:Xh,create:t=>new I8(t)};function k8(){kl.register(N6,Yfe,$fe,Vfe,Cge,l8,Uge,f8,$ge,Xge,tye,Hge);for(let t of[su,$f,ou,l_,pS,qf])Nh.register(t.type,{moduleFactory:i=>new t(i)})}function nye(){for(let t of kl.modules){if(t.packageType==="enterprise"&&!Kue(t)&&j.errorOnce("Unexpected enterprise module registered: "+t.identifier),t.type==="root"&&t.themeTemplate)for(let i of t.chartTypes)eR.set(i,t.themeTemplate);if(t.type==="series"){if(t.chartTypes.length>1)throw new Error(`AG Charts - Module definition error: ${t.identifier}`);Io.register(t.identifier,t)}if(t.type==="series-option"&&t.themeTemplate)for(let i of t.seriesTypes)Io.setThemeTemplate(i,t.themeTemplate);if(t.type==="axis-option"&&t.themeTemplate)for(let i of t.axisTypes){let e=Nh.getThemeTemplate(i),n=Xt(t.themeTemplate,e);Nh.setThemeTemplate(i,n)}t.type==="axis"&&Nh.register(t.identifier,t),t.type==="legend"&&sO.register(t.identifier,t)}if(kl.hasEnterpriseModules()){let t=que();t.length>0&&j.errorOnce("Enterprise modules expected but not registered: ",t)}}var Pa=Symbol("IGNORED_PROP");function Bs(t,i){let e={};for(let n of Object.keys(i)){let r=i[n];r!==Pa&&Object.hasOwn(t,n)&&(e[n]=r)}return e}function A8(t){let p=t,{enabled:i,mode:e,showArrow:n,range:r,position:a,pagination:s,delay:o,wrapping:l,interaction:c,renderer:d}=p,u=ci(p,["enabled","mode","showArrow","range","position","pagination","delay","wrapping","interaction","renderer"]),h=Bs(t,f({enabled:i,showArrow:n,range:r,position:a,interaction:c,renderer:d},u));return{chartTooltipOptions:Bs(t,f({enabled:Pa,showArrow:Pa,range:Pa,position:Pa,mode:e,pagination:s,delay:o,wrapping:l},u)),seriesTooltipOptions:h}}function rye(t){let ze=t,{animation:i,background:e,container:n,contextMenu:r,context:a,footnote:s,height:o,listeners:l,locale:c,minHeight:d,minWidth:u,overrideDevicePixelRatio:h,padding:m,subtitle:p,theme:g,title:b,width:v,type:_,cursor:w,nodeClickRange:D,tooltip:I={},value:E,scale:A={},startAngle:N,endAngle:F,highlightStyle:P,highlight:U,segmentation:H,bar:q,needle:ue,targets:te,outerRadius:Oe,innerRadius:ot,outerRadiusRatio:Ct,innerRadiusRatio:Yt,cornerRadius:Zt,cornerMode:vt,label:He,secondaryLabel:Ge,spacing:Fe}=ze,jt=ci(ze,["animation","background","container","contextMenu","context","footnote","height","listeners","locale","minHeight","minWidth","overrideDevicePixelRatio","padding","subtitle","theme","title","width","type","cursor","nodeClickRange","tooltip","value","scale","startAngle","endAngle","highlightStyle","highlight","segmentation","bar","needle","targets","outerRadius","innerRadius","outerRadiusRatio","innerRadiusRatio","cornerRadius","cornerMode","label","secondaryLabel","spacing"]),{chartTooltipOptions:ft,seriesTooltipOptions:dt}=A8(I),it=Bs(t,{animation:i,background:e,container:n,contextMenu:r,context:a,footnote:s,height:o,listeners:l,locale:c,minHeight:d,minWidth:u,overrideDevicePixelRatio:h,padding:m,subtitle:p,theme:g,title:b,tooltip:ft,width:v}),Ke=Bs(t,f({needle:ue!=null?f({enabled:!0},ue):Pa,startAngle:N,endAngle:F,scale:A,type:_,cursor:w,context:a,nodeClickRange:D,tooltip:dt,value:E,highlightStyle:P,highlight:U,segmentation:H,bar:q,targets:te,outerRadius:Oe,innerRadius:ot,outerRadiusRatio:Ct,innerRadiusRatio:Yt,cornerRadius:Zt,cornerMode:vt,label:He,secondaryLabel:Ge,spacing:Fe},jt));return S(f({},it),{series:[Ke]})}function aye(t){let Ge=t,{animation:i,background:e,container:n,contextMenu:r,context:a,footnote:s,height:o,listeners:l,locale:c,minHeight:d,minWidth:u,overrideDevicePixelRatio:h,padding:m,subtitle:p,theme:g,title:b,width:v,type:_,cursor:w,nodeClickRange:D,tooltip:I={},value:E,scale:A={},direction:N="vertical",thickness:F,highlightStyle:P,highlight:U,segmentation:H,bar:q,targets:ue,cornerRadius:te,cornerMode:Oe,label:ot}=Ge,Ct=ci(Ge,["animation","background","container","contextMenu","context","footnote","height","listeners","locale","minHeight","minWidth","overrideDevicePixelRatio","padding","subtitle","theme","title","width","type","cursor","nodeClickRange","tooltip","value","scale","direction","thickness","highlightStyle","highlight","segmentation","bar","targets","cornerRadius","cornerMode","label"]),{chartTooltipOptions:Yt,seriesTooltipOptions:Zt}=A8(I),vt=Bs(t,{animation:i,background:e,container:n,contextMenu:r,context:a,footnote:s,height:o,listeners:l,locale:c,minHeight:d,minWidth:u,overrideDevicePixelRatio:h,padding:m,subtitle:p,theme:g,title:b,tooltip:Yt,width:v}),He=Bs(t,f({scale:A,type:_,cursor:w,context:a,nodeClickRange:D,tooltip:Zt,value:E,direction:N,thickness:F,highlightStyle:P,highlight:U,segmentation:H,bar:q,targets:ue,cornerRadius:te,cornerMode:Oe,label:ot},Ct));return S(f({},vt),{series:[He]})}function w5(t,i){if(i==null)return t;let r=i,{targets:e}=r,n=ci(r,["targets"]);return t=Xt(t,n),t.targets!=null&&e!=null&&(t.targets=P5(t.targets,e)),t}function sye(t,i){switch(t.type){case"radial-gauge":return rye(w5(t,i));case"linear-gauge":return aye(w5(t,i));default:return{}}}var Rs={stroke:nn},Sr={fill:Gv},D5={color:"white",fill:nn},yc={color:nn},Eh={color:Hv,fontSize:{$rem:ss.LARGE},fontFamily:{$ref:"fontFamily"}},IR=S(f({},Eh),{fontSize:{$ref:"fontSize"},color:Yv,fill:Wv,stroke:$v,strokeWidth:1,divider:{stroke:Kv,strokeWidth:1,strokeOpacity:.5}}),A1=S(f({},Rs),{background:{fill:Rn,fillOpacity:.2},handle:f({},Sr),text:f({},yc),statistics:f({},IR)}),oye={line:S(f({},Rs),{handle:f({},Sr),text:f({},yc)}),"horizontal-line":S(f({},Rs),{handle:f({},Sr),axisLabel:f({},D5),text:f({},yc)}),"vertical-line":S(f({},Rs),{handle:f({},Sr),axisLabel:f({},D5),text:f({},yc)}),"disjoint-channel":S(f({},Rs),{background:{fill:Rn,fillOpacity:.2},handle:f({},Sr),text:f({},yc)}),"parallel-channel":S(f({},Rs),{background:{fill:Rn,fillOpacity:.2},handle:f({},Sr),text:f({},yc)}),"fibonacci-retracement":S(f({},Rs),{strokes:mv,rangeStroke:nn,handle:f({},Sr),text:S(f({},yc),{position:"center"}),label:S(f({},Eh),{color:void 0,fontSize:{$rem:ss.SMALLER}})}),"fibonacci-retracement-trend-based":S(f({},Rs),{strokes:mv,rangeStroke:nn,handle:f({},Sr),text:S(f({},yc),{position:"center"}),label:S(f({},Eh),{color:void 0,fontSize:{$rem:ss.SMALLER}})}),callout:S(f(f({},Rs),Eh),{color:{$ref:"textColor"},handle:f({},Sr),fill:Rn,fillOpacity:.2}),comment:S(f({},Eh),{color:"white",fontWeight:700,handle:f({},Sr),fill:nn}),note:S(f({},Eh),{color:Qv,fill:nn,stroke:{$ref:"chartBackgroundColor"},strokeWidth:1,strokeOpacity:1,handle:f({},Sr),background:{fill:qv,stroke:Zv,strokeWidth:1}}),text:S(f({},Eh),{handle:f({},Sr)}),arrow:S(f({},Rs),{handle:f({},Sr),text:f({},yc)}),"arrow-up":{fill:{$palette:"up.fill"},handle:S(f({},Sr),{stroke:nn})},"arrow-down":{fill:{$palette:"down.fill"},handle:S(f({},Sr),{stroke:nn})},"date-range":f({},A1),"price-range":f({},A1),"date-price-range":f({},A1),"quick-date-price-range":{up:S(f({},Rs),{fill:Rn,fillOpacity:.2,handle:f({},Sr),statistics:S(f({},IR),{color:"#fff",fill:Rn,strokeWidth:0,divider:{stroke:"#fff",strokeWidth:1,strokeOpacity:.5}})}),down:S(f({},Rs),{stroke:fv,fill:pv,fillOpacity:.2,handle:S(f({},Sr),{stroke:fv}),statistics:S(f({},IR),{color:"#fff",fill:pv,strokeWidth:0,divider:{stroke:"#fff",strokeWidth:1,strokeOpacity:.5}})})},axesButtons:{enabled:!0}},lye=["ohlc","line","step-line","hlc","high-low","candlestick","hollow-candlestick"],cye=[{icon:"trend-line-drawing",tooltip:"toolbarAnnotationsLineAnnotations",value:"line-menu"},{icon:"fibonacci-retracement-drawing",tooltip:"toolbarAnnotationsFibonacciAnnotations",value:"fibonacci-menu"},{icon:"text-annotation",tooltip:"toolbarAnnotationsTextAnnotations",value:"text-menu"},{icon:"arrow-drawing",tooltip:"toolbarAnnotationsShapeAnnotations",value:"shape-menu"},{icon:"measurer-drawing",tooltip:"toolbarAnnotationsMeasurerAnnotations",value:"measurer-menu"},{icon:"delete",tooltip:"toolbarAnnotationsClearAll",value:"clear"}];function dye(t,i,e){let te=t,{dateKey:n="date",highKey:r="high",openKey:a="open",lowKey:s="low",closeKey:o="close",volumeKey:l="volume",chartType:c="candlestick",navigator:d=!1,volume:u=!0,rangeButtons:h=!0,statusBar:m=!0,toolbar:p=!0,zoom:g=!0,sync:b=!1,theme:v,data:_,formatter:w}=te,D=ci(te,["dateKey","highKey","openKey","lowKey","closeKey","volumeKey","chartType","navigator","volume","rangeButtons","statusBar","toolbar","zoom","sync","theme","data","formatter"]),I=hye(c,n,r,s,a,o),E=uye(e,a,o,u,l),N={navigator:f({enabled:d},u?{miniChart:{enabled:d,series:[{type:"line",xKey:n,yKey:l,stroke:tS,marker:{enabled:!1}}]},height:40,minHandle:{height:46},maxHandle:{height:46}}:null)},F={annotations:{enabled:p,optionsToolbar:{enabled:p},snap:!0,toolbar:{enabled:p,buttons:cye,padding:0},data:_,xKey:n,volumeKey:u?l:void 0}},P=m?{statusBar:{enabled:!0,data:_,highKey:r,openKey:a,lowKey:s,closeKey:o,volumeKey:u?l:void 0}}:null,U={zoom:{enabled:g,autoScaling:{enabled:!0},enableIndependentAxes:!0}},H={ranges:{enabled:h}},q=b?{sync:{enabled:b,nodeInteraction:!0,zoom:!0}}:null,ue=u?[{type:"number",position:"left",keys:[l],label:{enabled:!1},crosshair:{enabled:!1},gridLine:{enabled:!1},nice:!1,layoutConstraints:{stacked:!1,width:20,unit:"percent",align:"end"}}]:[];return f(f(f(f(f(f(f({theme:f({baseTheme:typeof v=="string"?v:"ag-financial"},Xt(typeof v=="object"?v:null,{overrides:{common:{title:{padding:4},padding:{top:6,right:8,bottom:6},chartToolbar:{enabled:p},annotations:f({},oye),axes:{number:{interval:{maxSpacing:45},label:{format:".2f"}}}},bar:{series:{fillOpacity:.5}},line:{series:f({marker:{enabled:!1}},I5(c,{hlc:{stroke:{$palette:"altNeutral.stroke"},strokeWidth:2},line:{stroke:{$palette:"neutral.stroke"}},"step-line":{stroke:{$palette:"neutral.stroke"},interpolation:{type:"step"}}}))},candlestick:{series:f({},I5(c,{"hollow-candlestick":{item:{up:{fill:"transparent"}}}}))},"range-area":{series:{fillOpacity:.3,strokeWidth:2}}}})),animation:{enabled:!1},legend:{enabled:!1},series:[...E,...I],axes:[{type:"number",position:"right",keys:[a,o,r,s],crosshair:{enabled:!0,snap:!1},layoutConstraints:{stacked:!1,width:100,unit:"percent",align:"start"}},...ue,{type:"ordinal-time",position:"bottom",line:{enabled:!1},label:{enabled:!0},crosshair:{enabled:!0}}],tooltip:{enabled:!1},data:_,formatter:w},F),N),P),U),H),q),D)}function uye(t,i,e,n,r){return n?[{type:"bar",xKey:"date",yKey:r,tooltip:{enabled:!1},itemStyler({datum:a}){let{up:s,down:o}=t().palette;return{fill:a[i]<a[e]?s?.fill:o?.fill}},focusPriority:1,highlight:{enabled:!1}}]:[]}var S5="range-area";function hye(t,i,e,n,r,a){let s={xKey:i,openKey:r,closeKey:a,highKey:e,lowKey:n},o={xKey:i,yKey:a},l={pickOutsideVisibleMinorAxis:!0};switch(t??"candlestick"){case"ohlc":return mye(l,s);case"line":case"step-line":return pye(l,o);case"hlc":return fye(l,o,s);case"high-low":return gye(l,s);case"candlestick":case"hollow-candlestick":return M5(l,s);default:return j.warnOnce(`unknown chart type: ${t}; expected one of: ${lye.join(", ")}`),M5(l,s)}}function mye(t,i){return[f(f({type:"ohlc",focusPriority:0},t),i)]}function pye(t,i){return[f(f({type:"line",focusPriority:0},t),i)]}function fye(t,i,{xKey:e,highKey:n,closeKey:r,lowKey:a}){return[S(f({type:S5,focusPriority:0},t),{xKey:e,yHighKey:n,yLowKey:r,fill:qD,stroke:YD}),S(f({type:S5,focusPriority:0},t),{xKey:e,yHighKey:r,yLowKey:a,fill:ZD,stroke:KD}),f(f({type:"line"},t),i)]}function gye(t,{xKey:i,highKey:e,lowKey:n}){return[S(f({type:"range-bar"},t),{xKey:i,yHighKey:e,yLowKey:n,fill:XD,stroke:QD,tooltip:{range:"nearest"},focusPriority:0})]}function M5(t,i){return[f(f({type:"candlestick",focusPriority:0},t),i)]}function I5(t,i){return i[t]??i.default}var E8={title:{enabled:!1},label:{enabled:!1},line:{enabled:!1},gridLine:{enabled:!1},crosshair:{enabled:!1,stroke:eS,lineDash:[0],label:{enabled:!1}}},E1=S(f({},E8),{nice:!1}),Dw={mode:"compact",position:{anchorTo:"node",placement:["right","left"]},showArrow:!1},T1={style:[{stroke:{$ref:"gridLineColor"}}],width:2},yye={number:{gridLine:T1},time:{gridLine:T1},category:{gridLine:T1}},bye={overrides:{common:{animation:{enabled:!1},contextMenu:{enabled:!1},keyboard:{enabled:!1},background:{visible:!1},navigator:{enabled:!1},padding:{top:0,right:0,bottom:0,left:0},axes:{number:S(f({},E1),{interval:{values:[0]}}),log:f({},E1),time:f({},E1),category:f({},E8)}},bar:{series:{crisp:!1,label:{placement:"inside-end",padding:4},sparklineMode:!0},tooltip:S(f({},Dw),{position:S(f({},Dw.position),{anchorTo:"pointer"}),range:"nearest"}),axes:yye},line:{seriesArea:{padding:{top:2,right:2,bottom:2,left:2}},series:{sparklineMode:!0,strokeWidth:1,marker:{enabled:!1,size:3}},tooltip:Dw},area:{seriesArea:{padding:{top:1,right:0,bottom:1,left:0}},series:{strokeWidth:1,fillOpacity:.4},tooltip:Dw}}},T8=Ir(vye);function vye(t,i){return typeof t=="string"?S(f({},i),{baseTheme:t}):t!=null?S(f({},t),{baseTheme:T8(t.baseTheme,i)}):i}function R8(t){if(Array.isArray(t)&&t.length!==0){let i=t.find(e=>e!=null);if(typeof i=="number")return{data:t.map((n,r)=>({x:r,y:n})),series:[{xKey:"x",yKey:"y"}],datumKey:"y"};if(Array.isArray(i))return{data:t.map(n=>({x:n?.[0],y:n?.[1],datum:n})),series:[{xKey:"x",yKey:"y"}],datumKey:"datum"}}else if(t?.length===0)return{data:t,series:[{xKey:"x",yKey:"y"}],datumKey:"y"};return{data:t}}function _ye(t){switch(t?.type){case"number":{let{type:i,min:e,max:n,reverse:r}=t;return Bs(t,{type:i,reverse:r,min:e,max:n})}case"time":{let{type:i,min:e,max:n,reverse:r}=t;return Bs(t,{type:i,reverse:r,min:e,max:n})}case"category":default:{let{paddingInner:i,paddingOuter:e,reverse:n}=t??{};return Bs(S(f({},t),{type:"category"}),{type:"category",reverse:n,paddingInner:i,paddingOuter:e})}}}function xye(t,i,e){let n={};return t?.stroke!=null&&(n.style=[{stroke:t?.stroke}],n.enabled??(n.enabled=!0)),t?.strokeWidth!=null&&(n.width=t?.strokeWidth,n.enabled??(n.enabled=!0)),e.type==="bar"&&e.direction!=="horizontal"&&(n.enabled??(n.enabled=!0)),t?.visible!=null&&(n.enabled=t.visible),n.enabled??(n.enabled=i),n}var Cye=Ir((t,i,e)=>n=>{let r=n.datum[n.xKey],a=n.datum[n.yKey],s=e!=null?n.datum[e]:n.datum,o=i?.renderer?.({context:t,datum:s,xValue:r,yValue:a});if(typeof o=="string")return o;let l=o?.content??a.toFixed(2);return o?.title?{heading:void 0,title:void 0,data:[{label:o.title,value:l}]}:{heading:void 0,title:l,data:[]}});function wye(t){let te=t,{background:i,container:e,height:n,listeners:r,locale:a,minHeight:s,minWidth:o,overrideDevicePixelRatio:l,padding:c,width:d,theme:u,data:h,crosshair:m,axis:p,min:g,max:b,tooltip:v,context:_,styleNonce:w}=te,D=ci(te,["background","container","height","listeners","locale","minHeight","minWidth","overrideDevicePixelRatio","padding","width","theme","data","crosshair","axis","min","max","tooltip","context","styleNonce"]),I=Bs(t,{background:i,container:e,height:n,listeners:r,locale:a,minHeight:s,minWidth:o,overrideDevicePixelRatio:l,padding:c,width:d,styleNonce:w,tooltip:Pa,context:Pa,data:Pa,crosshair:Pa,axis:Pa,min:Pa,max:Pa,theme:Pa}),{data:E,series:[A]=[],datumKey:N}=R8(h),F=D;A!=null&&Object.assign(F,A),F.tooltip=S(f({},v),{renderer:Cye(_,v,N)}),I.theme=T8(u,bye),I.data=E,I.series=[F];let P=F.type!=="bar"||F.direction!=="horizontal",[U,H]=P?["bottom","left"]:["left","bottom"],q=f(S(f({},_ye(p)),{position:U}),Bs(t,{crosshair:m})),ue=f({type:"number",gridLine:xye(p,!1,t),position:H},Bs(t,{min:g,max:b}));return I.axes=P?[ue,q]:[q,ue],I}var Dye={chartType:K("candlestick","hollow-candlestick","ohlc","line","step-line","hlc","high-low"),dateKey:B,openKey:B,highKey:B,lowKey:B,closeKey:B,volumeKey:B,navigator:R,volume:R,rangeButtons:R,statusBar:R,toolbar:R,zoom:R,sync:R,theme:Be,container:Be,width:Be,height:Be,minWidth:Be,minHeight:Be,listeners:Be,initialState:Be,title:Be,data:ha,formatter:Be},kR={theme:Be,container:Be,animation:Be,background:Be,contextMenu:Be,context:()=>!0,listeners:Be,locale:Be,width:Be,height:Be,minWidth:Be,minHeight:Be,title:Be,subtitle:Be,footnote:Be,padding:Be,tooltip:f(f({},Jt),rt.tooltip)};kR.overrideDevicePixelRatio=je(O);var R1=["showInLegend","showInMiniChart","grouped","stacked","stackGroup","tooltip","listeners","errorBar","xKey","yKey","type"],O1={visible:R,reverse:R,stroke:oe,strokeWidth:O},L1={context:()=>!0,tooltip:Be,theme:Be,background:Be,container:Be,width:Be,height:Be,minWidth:Be,minHeight:Be,padding:Be,listeners:Be,locale:Be,data:Be,styleNonce:B,axis:uh({number:S(f({},O1),{min:si(z,ma("max")),max:si(z,pa("min"))}),category:S(f({},O1),{paddingInner:Me,paddingOuter:Me}),time:S(f({},O1),{min:si(We(z,As),ma("max")),max:si(We(z,As),pa("min"))})},"axis options","category"),min:si(z,ma("max")),max:si(z,pa("min")),crosshair:f(f({enabled:R,snap:R},Z),fe),xKey:B,yKey:B},Sye={type:"preset",name:"price-volume",enterprise:!0,options:Dye,create:dye},Mye={type:"preset",name:"gauge-preset",enterprise:!0,options:uh({"linear-gauge":f(f({},de(Xd,["type"])),kR),"radial-gauge":f(f({},de(t_,["type"])),kR)},"gauge options"),create:sye},Iye={type:"preset",name:"sparkline",options:uh({area:f(f({},L1),de(W$,R1)),bar:f(f({},L1),de(fS,R1)),line:f(f({},L1),de(gS,R1))},"sparkline options"),create:wye,processData:R8},kye=["top","right","bottom","left"],Aye=(()=>{let t=class jw extends $D{constructor(e,n){super(e,n),this.paired=!0,this.lastUpdateClipRect=void 0,this.lastLayoutWidth=NaN,this.lastLayoutHeight=NaN}onAxisChange(e,n){super.onAxisChange(e,n),this.syncAxisChanges(e,n),this.ctx!=null&&this.ctx.zoomManager.updateAxes(e)}destroySeries(e){super.destroySeries(e),this.lastLayoutWidth=NaN,this.lastLayoutHeight=NaN}getChartType(){return"cartesian"}setRootClipRects(e){let{seriesRoot:n,annotationRoot:r}=this;n.setClipRect(e),r.setClipRect(e)}processData(){return L(this,null,function*(){yield zo(jw.prototype,this,"processData").call(this),this.syncStatus==="init"&&(this.syncStatus="domains-calculated"),this.ctx.updateService.dispatchProcessData({series:{shouldFlipXY:this.shouldFlipXY()}})})}processDomains(){return L(this,null,function*(){yield zo(jw.prototype,this,"processDomains").call(this);for(let e of this.axes){let n=yield this.getSyncedDomain(e);n!=null&&e.setDomains(n)}})}performLayout(e){let{seriesRoot:n,annotationRoot:r}=this,{clipSeries:a,seriesRect:s,visible:o}=this.updateAxes(e.layoutBox);this.seriesRoot.visible=o,this.seriesRect=s,this.animationRect=e.layoutBox;let{x:l,y:c}=s;if(e.width!==this.lastLayoutWidth||e.height!==this.lastLayoutHeight)for(let p of[n,r])p.translationX=Math.floor(l),p.translationY=Math.floor(c);else{let{translationX:p,translationY:g}=n;Lc(this.id,"seriesRect",this.ctx.animationManager,[n,r],{translationX:p,translationY:g},{translationX:Math.floor(l),translationY:Math.floor(c)},{phase:"update"})}this.lastLayoutWidth=e.width,this.lastLayoutHeight=e.height;let d=this.modulesManager.getModule("seriesArea"),u=s.clone().grow(d.getPadding()),h=d.clip||a?u:void 0,{lastUpdateClipRect:m}=this;this.lastUpdateClipRect=h,this.ctx.animationManager.isActive()&&m!=null?this.ctx.animationManager.animate({id:this.id,groupId:"clip-rect",phase:"update",from:m,to:u,onUpdate:p=>this.setRootClipRects(p),onComplete:()=>this.setRootClipRects(h)}):this.setRootClipRects(h),this.ctx.layoutManager.emitLayoutComplete(e,{axes:this.axes.map(p=>p.getLayoutState()),series:{visible:o,rect:s,paddedRect:u},clipSeries:a})}updateAxes(e){let{clipSeries:n,seriesRect:r,overflows:a}=this.resolveAxesLayout(e);for(let s of this.axes)s.update(),s.setCrossLinesVisible(!a),this.clipAxis(s,r,e);return{clipSeries:n,seriesRect:r,visible:!a}}resolveAxesLayout(e){let n,r,a=0,s=10;do if(r=n??this.getDefaultState(),n=this.updateAxesPass(new Map(r.axisAreaWidths),e.clone()),a++>s){j.warn("Max iterations reached. Unable to stabilize axes layout.");break}while(!this.isLayoutStable(n,r));return this.lastAreaWidths=n.axisAreaWidths,n}updateAxesPass(e,n){let r=new Map,a={},s=!1,o=!1;for(let _ of kye){let w=this.modulesManager.getModule("seriesArea").getPadding()[_],D=this.axes.findLast(I=>I.position===_);D?D.seriesAreaPadding=w:n.shrink(w,_)}let l=(e.get("left")??0)+(e.get("right")??0),c=(e.get("top")??0)+(e.get("bottom")??0),d=this.buildCrossLinePadding(e),u=d.left+d.right,h=d.top+d.bottom;n.width<=l+u||n.height<=c+h?s=!0:n.shrink(d);let{scene:m}=this.ctx,p=n.clone().shrink(Object.fromEntries(e));for(let _ of this.axes){let{position:w="left",direction:D}=_,I=D==="y",E;this.sizeAxis(_,p,w),_.thickness==null?E=N1(I,m)*(_.maxThicknessRatio??1):E=_.thickness;let{primaryTickCount:A,bbox:N}=_.calculateLayout(_.nice?a[D]:void 0,{sizeLimit:E,padding:this.padding});a[D]??(a[D]=A),o||(o=_.dataDomain.clipped||_.visibleRange[0]>0||_.visibleRange[1]<1),_.thickness==null&&(E=Math.min(N1(I,N)??0,E)),r.set(_.id,Math.ceil(E))}let g=Wp(this.axes,_=>_.position??"left"),b=new Map,v=new Map;for(let[_,w]of dr(g)){let D=N1(_!=="left"&&_!=="right",m)%m.pixelRatio,I=0;for(let E of w??[]){v.set(E.id,D);let A=r.get(E.id)??0;I=Math.max(I,D+A),E.layoutConstraints.stacked&&(D+=A+jw.AxesPadding)}b.set(_,Math.ceil(I))}for(let[_,w]of dr(g))this.positionAxes({axes:w??[],position:_,axisWidths:r,axisOffsets:v,axisAreaWidths:b,axisBound:n,seriesRect:p});return{clipSeries:o,seriesRect:p,axisAreaWidths:b,overflows:s}}buildCrossLinePadding(e){let n={top:0,right:0,bottom:0,left:0};this.axes.forEach(r=>{let{position:a,label:s}=r;r.crossLines?.forEach(o=>{var l;o instanceof Ba&&(o.position=a??"top",(l=o.label).parallel??(l.parallel=s.parallel)),o.calculatePadding?.(n)})});for(let[r,a=0]of dr(n))n[r]=Math.max(a-(e.get(r)??0),0);return n}clampToOutsideSeriesRect(e,n,r,a){let s=r==="x"?e.x:e.y,o=r==="x"?e.width:e.height;return a===1?Math.min(n,s+o):Math.max(n,s)}getSyncedDomain(e){return L(this,null,function*(){let n=this.modulesManager.getModule("sync");if(n?.enabled)return yield n.getSyncedDomain(e)})}syncAxisChanges(e,n){let r=this.modulesManager.getModule("sync");if(!r?.enabled)return;let a=new Set(n??[]);for(let s of e)a.delete(s);for(let s of a)r.removeAxis(s)}sizeAxis(e,n,r){let a=e instanceof su,s=r==="left"||r==="right",{width:o,height:l}=n,c=s?l:o,d=0,u=c,{min:h,max:m}=this.ctx.zoomManager.getAxisZoom(e.id),{width:p,unit:g,align:b}=e.layoutConstraints;g==="px"?u=d+p:u=u*p/100,b==="end"&&(d=c-(u-d),u=c),s&&(a?[d,u]=[u,d]:[h,m]=[1-m,1-h]),e.range=[d,u],e.visibleRange=[h,m],e.gridLength=s?o:l}positionAxes(e){let{axes:n,axisBound:r,axisWidths:a,axisOffsets:s,axisAreaWidths:o,seriesRect:l,position:c}=e,d=o.get(c)??0,u="x",h="y",m=1;(c==="top"||c==="bottom")&&(u="y",h="x");let p=r[u];(c==="right"||c==="bottom")&&(m=-1,p+=u==="x"?r.width:r.height);for(let g of n){let b=o.get(h==="x"?"left":"top")??0,v=a.get(g.id)??0,_=s.get(g.id)??0;g.gridPadding=d-_-v,g.translation[h]=r[h]+b,g.translation[u]=this.clampToOutsideSeriesRect(l,p+m*(_+v),u,m)}}shouldFlipXY(){return this.series.every(e=>e instanceof am&&e.shouldFlipXY())}getDefaultState(){let e=new Map;if(this.lastAreaWidths)for(let{position:n="left"}of this.axes){let r=this.lastAreaWidths.get(n);r!=null&&e.set(n,r)}return{axisAreaWidths:e,clipSeries:!1,overflows:!1}}isLayoutStable(e,n){if(n.overflows!==e.overflows||n.clipSeries!==e.clipSeries)return!1;for(let r of e.axisAreaWidths.keys())if(!n.axisAreaWidths.has(r))return!1;for(let[r,a]of n.axisAreaWidths.entries()){let s=e.axisAreaWidths.get(r);if((a!=null||s!=null)&&a!==s)return!1}return!0}clipAxis(e,n,r){let a=Math.ceil(e.gridLine?.width??0),s=Math.ceil(e.line?.width??0),{width:o,height:l}=n;switch(o+=e.direction==="x"?a:s,l+=e.direction==="y"?a:s,e.clipGrid(n.x,n.y,o,l),e.position){case"left":case"right":e.clipTickLines(r.x,n.y-a,r.width+a,n.height+a*2);break;case"top":case"bottom":e.clipTickLines(n.x-a,r.y,n.width+a*2,r.height+a);break}}};return t.className="CartesianChart",t.type="cartesian",t.AxesPadding=15,t})(),Eye=Aye;function N1(t,i){return t?i?.width:i?.height}var CS={mode:je(K("integrated","standalone")),container:iw,context:()=>!0,theme:Be,series:ha,annotations:Be,navigator:Be,initialState:{chartType:B,annotations:Be,legend:zi({visible:R,seriesId:B,itemId:B,legendItemName:B},"legend state array"),zoom:Be}},O8=S(f(f({},rt),CS),{axes:bo(2),data:ha}),L8=S(f(f({},rt),CS),{axes:bo(2),data:ha}),Tye=S(f(f({},rt),CS),{data:ha,topology:AU}),Rye=S(f(f({},rt),CS),{data:ha}),Oye=new Set(["number","log","time"]),Lye=t=>$t(t)&&!Oye.has(t.type),Nye={type:"chart",name:"cartesian",options:O8,detect:VW,create(t,i){return new Eye(t,i)},validate(t,i,e){let n=[];t?.series?.[0]?.type==="histogram"&&t?.axes?.some(Lye)&&(n.push(new dc("invalid","only continuous axis types when histogram series is used",t.axes,e,"axes")),t=de(t,["axes"]));let r=mn(t,i,e);return r.invalid.push(...n),r}},N8=()=>{throw new Error("Enterprise module placeholder cannot be initialised")},Pye={type:"chart",name:"standalone",placeholder:!0,options:{},detect:jW,create:N8},Fye={type:"chart",name:"topology",placeholder:!0,options:{},detect:BW,create:N8},Pf=class extends mO{constructor(){super(...arguments),this.shape="polygon",this.innerRadiusRatio=0,this.defaultTickMinSpacing=20}layoutCrossLines(){let t=this.label.getSideFlag(),i=this.hasDefinedDomain()||this.hasVisibleSeries(),{rotation:e,parallelFlipRotation:n,regularFlipRotation:r}=this.calculateRotations();this.crossLines.forEach(a=>{a.sideFlag=-t,a.direction=e===-Math.PI/2?"angle":"radius",a.parallelFlipRotation=n,a.regularFlipRotation=r,a.calculateLayout?.(i,this.reverse)})}updatePosition(){super.updatePosition();let t=Math.floor(this.translation.x),i=Math.floor(this.translation.y);this.tickLineGroup.translationX=t,this.tickLineGroup.translationY=i,this.tickLabelGroup.translationX=t,this.tickLabelGroup.translationY=i,this.crossLineRangeGroup.translationX=t,this.crossLineRangeGroup.translationY=i,this.crossLineLineGroup.translationX=t,this.crossLineLineGroup.translationY=i,this.crossLineLabelGroup.translationX=t,this.crossLineLabelGroup.translationY=i,this.tickLabelGroupSelection.each(Jw())}computeLabelsBBox(t,i){return null}computeRange(){}getAxisLinePoints(){}};y([C],Pf.prototype,"shape",2);y([C],Pf.prototype,"innerRadiusRatio",2);var Vye=(()=>{let t=class extends $D{constructor(i,e){super(i,e),this.padding=new Gh(40),this.ctx.axisManager.axisGroup.zIndex=8}getChartType(){return"polar"}performLayout(i){return L(this,null,function*(){let{layoutBox:e}=i,n=e.clone().shrink(this.modulesManager.getModule("seriesArea").getPadding());this.seriesRect=n,this.animationRect=n,this.seriesRoot.translationX=n.x,this.seriesRoot.translationY=n.y,yield this.computeCircle(n),this.axes.forEach(r=>r.update()),this.ctx.layoutManager.emitLayoutComplete(i,{series:{visible:!0,rect:n,paddedRect:e}})})}updateAxes(i,e,n,r){let a=this.axes.find(c=>c.direction==="angle"),s=this.axes.find(c=>c.direction==="radius");if(!(a instanceof Pf)||!(s instanceof Pf))return;let o=a.scale,l=s.innerRadiusRatio;a.innerRadiusRatio=l,a.computeRange(),a.gridLength=r,s.gridAngles=o.ticks({nice:a.nice,interval:void 0,tickCount:void 0,minTickCount:0,maxTickCount:1/0})?.ticks?.map(c=>o.convert(c)),s.gridRange=a.range,s.range=[r,r*l],[a,s].forEach(c=>{c.translation.x=i.x+e,c.translation.y=i.y+n,c.calculateLayout()})}computeCircle(i){return L(this,null,function*(){let e=this.series.filter(Bye),n=this.axes.filter(jye),r=(d,u,h)=>{this.updateAxes(i,d,u,h),e.forEach(p=>{p.centerX=d,p.centerY=u,p.radius=h});let m=e.filter(p=>p.type==="donut"||p.type==="pie");if(m.length>1){let p=m.map(g=>{let b=g.getInnerRadius();return{series:g,innerRadius:b}}).sort((g,b)=>g.innerRadius-b.innerRadius);p.at(-1).series.surroundingRadius=void 0;for(let g=0;g<p.length-1;g++)p[g].series.surroundingRadius=p[g+1].innerRadius}},a=i.width/2,s=i.height/2,o=Math.max(0,Math.min(i.width,i.height)/2),l=o;r(a,s,l);let c=(...u)=>L(this,[...u],function*({hideWhenNecessary:d=!1}={}){let h=[];for(let g of Ed(n,e)){let b=yield g.computeLabelsBBox({hideWhenNecessary:d},i);b&&h.push(b)}if(h.length===0){r(a,s,o);return}let m=_e.merge(h),p=this.refineCircle(m,l,i);r(p.centerX,p.centerY,p.radius),l=p.radius});yield c(),yield c(),yield c(),yield c({hideWhenNecessary:!0}),yield c({hideWhenNecessary:!0});for(let d of Ed(n,e))yield d.computeLabelsBBox({hideWhenNecessary:!0},i);return{radius:l,centerX:a,centerY:s}})}refineCircle(i,e,n){let a=-e,s=-e,o=e,l=e,c=Math.max(0,a-i.x),d=Math.max(0,s-i.y),u=Math.max(0,i.x+i.width-o),h=Math.max(0,i.y+i.height-l);c=u=Math.max(c,u),d=h=Math.max(d,h);let m=n.width-c-u,p=n.height-d-h,g=Math.min(m,p)/2,b=.5*n.width/2,v=.5*n.height/2,_=Math.min(b,v);if(g<_){g=_;let I=c+u,E=d+h;if(2*g+E>n.height){let A=n.height-2*g;Math.min(d,h)*2>A?(d=A/2,h=A/2):d>h?d=A-h:h=A-d}if(2*g+I>n.width){let A=n.width-2*g;Math.min(c,u)*2>A?(c=A/2,u=A/2):c>u?c=A-u:u=A-c}}let w=c+2*g+u,D=d+2*g+h;return{centerX:(n.width-w)/2+c+g,centerY:(n.height-D)/2+d+g,radius:g}}};return t.className="PolarChart",t.type="polar",t})();function Bye(t){return t instanceof CL}function jye(t){return t instanceof Pf}var zye={type:"chart",name:"polar",options:L8,detect:zhe,create(t,i){return new Vye(t,i)},validate(t,i,e){let n=[],r=t?.series?.[0]?.type;(r==="pie"||r==="donut")&&t?.axes&&(n.push(new tw([],t.axes,e,"axes")),t=de(t,["axes"]));let a=mn(t,i,e);return a.invalid.push(...n),a}},Uye=[Nye,vpe,_pe,xpe,Cpe,wpe,Dpe,r8,c8,h8,p8,g8,b8],Hye=[zye,Jge,iye],Gye=[...Uye,...Hye,Pye,Fye,Sye,Mye,Iye],Wye=1e3,DL=class Nd{constructor(i,e,n,r,a,s=Wye){this.name=i,this.buildItem=e,this.releaseItem=n,this.destroyItem=r,this.maxPoolSize=a,this.cleanupTimeMs=s,this.freePool=[],this.busyPool=new Set}static getPool(i,e,n,r,a){return this.pools.has(i)||this.pools.set(i,new Nd(i,e,n,r,a)),this.pools.get(i)}isFull(){return this.freePool.length+this.busyPool.size>=this.maxPoolSize}hasFree(){return this.freePool.length>0}obtain(i){if(!this.hasFree()&&this.isFull())throw new Error("AG Charts - pool exhausted");let e=this.freePool.pop();return e==null?(e=this.buildItem(i),Nd.debug(()=>[`Pool[name=${this.name}]: Created instance (${this.freePool.length} / ${this.busyPool.size+1} / ${this.maxPoolSize})`,e])):Nd.debug(()=>[`Pool[name=${this.name}]: Re-used instance (${this.freePool.length} / ${this.busyPool.size+1} / ${this.maxPoolSize})`,e]),this.busyPool.add(e),{item:e,release:()=>this.release(e)}}obtainFree(){let i=this.freePool.pop();if(i==null)throw new Error("AG Charts - pool has no free instances");return Nd.debug(()=>[`Pool[name=${this.name}]: Re-used instance (${this.freePool.length} / ${this.busyPool.size+1} / ${this.maxPoolSize})`,i]),this.busyPool.add(i),{item:i,release:()=>this.release(i)}}release(i){if(!this.busyPool.has(i))throw new Error("AG Charts - cannot free item from pool which is not tracked as busy.");Nd.debug(()=>[`Pool[name=${this.name}]: Releasing instance (${this.freePool.length} / ${this.busyPool.size} / ${this.maxPoolSize})`,i]),this.releaseItem(i),this.busyPool.delete(i),this.freePool.push(i),Nd.debug(()=>[`Pool[name=${this.name}]: Returned instance to free pool (${this.freePool.length} / ${this.busyPool.size} / ${this.maxPoolSize})`,i]);let e=Date.now(),n=e+this.cleanupTimeMs*.5;this.cleanPoolTimer&&(this.cleanPoolDue??1/0)<n&&(clearTimeout(this.cleanPoolTimer),this.cleanPoolTimer=void 0),this.cleanPoolTimer||(this.cleanPoolDue=e+this.cleanupTimeMs,this.cleanPoolTimer=setTimeout(this.cleanPool.bind(this),this.cleanupTimeMs))}cleanPool(){let i=this.freePool.splice(0);for(let e of i)this.destroyItem(e);Nd.debug(()=>[`Pool[name=${this.name}]: Cleaned pool of ${i.length} items (${this.freePool.length} / ${this.busyPool.size} / ${this.maxPoolSize})`])}destroy(){this.cleanPool();for(let i of this.busyPool.values())this.destroyItem(i);this.busyPool.clear()}};DL.pools=new Map;DL.debug=bt.create(!0,"pool");var $ye=DL;cr.registerMany(Gye,If);var xc=bt.create(!0,"opts"),zd=(()=>{let t=class{static licenseCheck(i){this.licenseChecked||(this.licenseManager=Yd.licenseManager?.(i),this.licenseManager?.validateLicense(),this.licenseChecked=!0)}static getLicenseDetails(i){return Yd.licenseManager?.({}).getLicenseDetails(i)}static getInstance(i){return k5.getInstance(i)}static create(i,e){let n=bt.check("scene:stats","scene:stats:verbose")?performance.now():void 0;return xc.group("AgCharts.create()",()=>{i=bt.inDevelopmentMode(()=>Cc(qi(i)))??i,this.licenseCheck(i);let r=k5.createOrUpdate({userOptions:i,licenseManager:this.licenseManager,optionsMetadata:e,apiStartTime:n});return this.licenseManager?.isDisplayWatermark()&&this.licenseManager&&Yd.injectWatermark?.(r.chart.ctx.domManager,this.licenseManager.getWatermarkMessage()),r})}static createFinancialChart(i){return xc.group("AgCharts.createFinancialChart()",()=>this.create(i,{presetType:"price-volume"}))}static createGauge(i){return xc.group("AgCharts.createGauge()",()=>this.create(i,{presetType:"gauge-preset"}))}static __createSparkline(i){return xc.group("AgCharts.__createSparkline()",()=>{let r=i,{pool:e}=r,n=ci(r,["pool"]);return this.create(n,{presetType:"sparkline",pool:e??!0,domMode:"minimal",withDragInterpretation:!1})})}};return t.licenseChecked=!1,t})(),Dl=class Pd{static getInstance(i){let e=$D.getInstance(i);return e?t5.chartInstances.get(e):void 0}static initialiseModules(){Pd.initialised||(k8(),nye(),Pd.initialised=!0)}static createOrUpdate(i){let{proxy:e}=i,{userOptions:n,licenseManager:r,processedOverrides:a=e?.chart?.chartOptions.processedOverrides??{},specialOverrides:s=e?.chart?.chartOptions.specialOverrides??{},optionsMetadata:o=e?.chart?.chartOptions.optionMetadata??{},deltaOptions:l,data:c,stripSymbols:d=!1,apiStartTime:u}=i,h=Yd.styles!=null?[["ag-charts-enterprise",Yd.styles]]:[];Pd.initialiseModules(),xc(()=>[">>> AgCharts.createOrUpdate() user options",qi(n)]);let{presetType:m}=o,p=n;zd.optionsMutationFn&&p&&(p=zd.optionsMutationFn(qi(p,Jb.OPTIONS_CLONE_OPTS_FAST),m),xc(()=>[">>> AgCharts.createOrUpdate() MUTATED user options",qi(p)]));let g=this.getPool(o),b=!1,v,_=e?.chart;_==null&&g?.hasFree()&&(v=g.obtainFree(),_=v.item);let F=p??{},{document:w,window:D,styleContainer:I}=F,E=ci(F,["document","window","styleContainer"]),A=_?.getChartOptions(),N=new Jb(A,E,a,S(f({},s),{document:w,window:D,styleContainer:I}),o,l,d,u);return(_==null||cr.detectChartDefinition(N.processedOptions)!==cr.detectChartDefinition(_.chartOptions.processedOptions))&&(v?.release(),v=this.getPool(N.optionMetadata)?.obtain(N),v?_=v.item:(b=!0,_=Pd.createChartInstance(N,_))),h.forEach(([P,U])=>{_.ctx.domManager.addStyles(P,U)}),_.ctx.fontManager.updateFonts(N.googleFonts),c!=null&&_.ctx.dataService.restoreData(c),e==null?(e=new t5(_,Pd.callbackApi,r),e.releaseChart=v?.release):(v||b)&&(e.releaseChart?.(),e.chart=_,e.releaseChart=v?.release),xc.check()&&typeof window<"u"&&(window.agChartInstances??(window.agChartInstances={}),window.agChartInstances[_.id]=_),_.queuedUserOptions.push(N.userOptions),_.queuedChartOptions.push(N),_.requestFactoryUpdate(P=>{xc.group(">>>> Chart.applyOptions()",()=>{P.applyOptions(N);let U=P.queuedUserOptions.indexOf(N.userOptions)+1;P.queuedUserOptions.splice(0,U),P.queuedChartOptions.splice(0,U)})}),e}static markRemovedProperties(i,e,n=!1){if(typeof i!="object")return n;for(let r of Object.keys(i))typeof i[r]>"u"&&(Object.assign(i,{[r]:Symbol("UNSET")}),n||(n=!0));return n}static updateUserDelta(i,e,n){e=qi(e,Jb.OPTIONS_CLONE_OPTS_FAST);let r=Hd(e,Pd.markRemovedProperties,new Set(["data"]),void 0,void 0,!1);xc(()=>[">>> AgCharts.updateUserDelta() user delta",qi(e)]),Pd.createOrUpdate({proxy:i,deltaOptions:e,stripSymbols:r,apiStartTime:n})}static createChartInstance(i,e){let n=e?.destroy({keepTransferableResources:!0});return cr.detectChartDefinition(i.processedOptions).create(i,n)}static getPool(i){if(i.pool===!0)return $ye.getPool(i.presetType??"default",this.createChartInstance,this.detachAndClear,this.destroy,1/0)}};Dl.caretaker=new gG(If);Dl.initialised=!1;Dl.callbackApi={caretaker:Dl.caretaker,create(t,i,e,n,r){return Dl.createOrUpdate({userOptions:t,processedOverrides:i,specialOverrides:e,optionsMetadata:n,data:r})},update(t,i,e,n){return Dl.createOrUpdate({userOptions:t,proxy:i,specialOverrides:e,apiStartTime:n})},updateUserDelta(t,i,e){return Dl.updateUserDelta(t,i,e)}};Dl.detachAndClear=t=>t.detachAndClear();Dl.destroy=t=>t.destroy();var k5=Dl,P8={};Rl(P8,{Arc:()=>Uc,BBox:()=>_e,Caption:()=>an,CategoryScale:()=>zf,Group:()=>ht,Line:()=>Fs,LinearScale:()=>Fh,Marker:()=>On,Path:()=>ya,RadialColumnShape:()=>Vo,Rect:()=>ir,Scene:()=>eO,Sector:()=>qr,Shape:()=>Sn,TranslatableGroup:()=>Wr,getRadialColumnWidth:()=>F8,toRadians:()=>Ar});var Uc=(()=>{let t=class extends ya{constructor(){super(...arguments),this.centerX=0,this.centerY=0,this.radius=10,this.startAngle=0,this.endAngle=Math.PI*2,this.counterClockwise=!1,this.type=0}get fullPie(){return ua(Dn(this.startAngle),Dn(this.endAngle))}updatePath(){let i=this.path;i.clear(),i.arc(this.centerX,this.centerY,this.radius,this.startAngle,this.endAngle,this.counterClockwise),this.type===1?i.closePath():this.type===2&&!this.fullPie&&(i.lineTo(this.centerX,this.centerY),i.closePath())}computeBBox(){return new _e(this.centerX-this.radius,this.centerY-this.radius,this.radius*2,this.radius*2)}isPointInPath(i,e){let n=this.getBBox();return this.type!==0&&n.containsPoint(i,e)&&this.path.isPointInPath(i,e)}};return t.className="Arc",t})();y([ee()],Uc.prototype,"centerX",2);y([ee()],Uc.prototype,"centerY",2);y([ee()],Uc.prototype,"radius",2);y([ee()],Uc.prototype,"startAngle",2);y([ee()],Uc.prototype,"endAngle",2);y([ee()],Uc.prototype,"counterClockwise",2);y([ee()],Uc.prototype,"type",2);function P1(t,i,e){let n=Math.sqrt(t**2+i**2),a=Math.atan2(i,t)+e;return{x:Math.cos(a)*n,y:Math.sin(a)*n}}var Vo=(()=>{let t=class extends ya{constructor(){super(...arguments),this.isBeveled=!0,this.columnWidth=0,this.startAngle=0,this.endAngle=0,this.outerRadius=0,this.innerRadius=0,this.axisInnerRadius=0,this.axisOuterRadius=0,this.isRadiusAxisReversed=!1}set cornerRadius(i){}computeBBox(){let{innerRadius:i,outerRadius:e,columnWidth:n}=this,r=this.getRotation(),a=-n/2,s=n/2,o=-e,l=-i,c=1/0,d=1/0,u=-1/0,h=-1/0;for(let m=0;m<4;m+=1){let{x:p,y:g}=P1(m%2===0?a:s,m<2?o:l,r);c=Math.min(p,c),d=Math.min(g,d),u=Math.max(p,u),h=Math.max(g,h)}return new _e(c,d,u-c,h-d)}getRotation(){let{startAngle:i,endAngle:e}=this,n=_D(i,e);return Dn(i+n/2+Math.PI/2)}updatePath(){let{isBeveled:i}=this;i?this.updateBeveledPath():this.updateRectangularPath(),this.checkPathDirty()}updateRectangularPath(){let{columnWidth:i,innerRadius:e,outerRadius:n,path:r}=this,a=-i/2,s=i/2,o=-n,l=-e,c=this.getRotation(),d=[[a,l],[a,o],[s,o],[s,l]].map(([u,h])=>P1(u,h,c));r.clear(!0),r.moveTo(d[0].x,d[0].y),r.lineTo(d[1].x,d[1].y),r.lineTo(d[2].x,d[2].y),r.lineTo(d[3].x,d[3].y),r.closePath()}updateBeveledPath(){let{columnWidth:i,path:e,outerRadius:n,innerRadius:r,axisInnerRadius:a,axisOuterRadius:s,isRadiusAxisReversed:o}=this,l=ua(r,a),c=Math.asin(i/2/r),d=this.getRotation(),u=(F,P)=>P1(F,P,d),h=(F,P)=>Math.sqrt(F**2+P**2),m=(F,P)=>P>F?0:Math.sqrt(F**2-P**2),p=(F,P,U)=>U?F<P:F>P,g=l&&!isNaN(c)&&c<Math.PI/6,b=-i/2,v=i/2,_=-n,w=-r*(g?Math.cos(c):1),D=p(s,h(r,i/2),!o);if(D){let F=m(s,r);b=-F,v=F}e.clear(!0);let I=u(b,w);e.moveTo(I.x,I.y);let E=ua(r,n),A=p(s,h(n,i/2),!o);if(E&&g)e.arc(0,0,r,Dn(-c-Math.PI/2)+d,Dn(c-Math.PI/2)+d,!1);else if(A){let F=-m(s,i/2),P=m(s,n);if(!D){let U=u(b,F);e.lineTo(U.x,U.y)}if(e.arc(0,0,s,Math.atan2(F,b)+d,Math.atan2(_,-P)+d,!1),!ua(P,0)){let U=u(P,_);e.lineTo(U.x,U.y)}e.arc(0,0,s,Math.atan2(_,P)+d,Math.atan2(F,v)+d,!1)}else{let F=u(b,_),P=u(v,_);e.lineTo(F.x,F.y),e.lineTo(P.x,P.y)}let N=u(v,w);if(e.lineTo(N.x,N.y),g)e.arc(0,0,r,Dn(c-Math.PI/2)+d,Dn(-c-Math.PI/2)+d,!0);else{let F=u(b,w);e.lineTo(F.x,F.y)}e.closePath()}};return t.className="RadialColumnShape",t})();y([ee()],Vo.prototype,"isBeveled",2);y([ee()],Vo.prototype,"columnWidth",2);y([ee()],Vo.prototype,"startAngle",2);y([ee()],Vo.prototype,"endAngle",2);y([ee()],Vo.prototype,"outerRadius",2);y([ee()],Vo.prototype,"innerRadius",2);y([ee()],Vo.prototype,"axisInnerRadius",2);y([ee()],Vo.prototype,"axisOuterRadius",2);y([ee()],Vo.prototype,"isRadiusAxisReversed",2);function F8(t,i,e,n,r){let a=_D(t,i),s=a*(1-n)/2;if(t+=s,i-=s,a<.001)return 2*e*r;if(a>=2*Math.PI){let m=t+a/2;t=m-Math.PI,i=m+Math.PI}let o=e*Math.cos(t),l=e*Math.sin(t),c=e*Math.cos(i),d=e*Math.sin(i),u=Math.floor(Math.sqrt((o-c)**2+(l-d)**2)),h=2*e*r;return Math.max(1,Math.min(h,u))}var V8={};Rl(V8,{ChartTheme:()=>Oo,DEFAULT_ANNOTATION_HANDLE_FILL:()=>Gv,DEFAULT_ANNOTATION_STATISTICS_COLOR:()=>Yv,DEFAULT_ANNOTATION_STATISTICS_DIVIDER_STROKE:()=>Kv,DEFAULT_ANNOTATION_STATISTICS_DOWN_FILL:()=>pv,DEFAULT_ANNOTATION_STATISTICS_DOWN_STROKE:()=>fv,DEFAULT_ANNOTATION_STATISTICS_FILL:()=>Wv,DEFAULT_ANNOTATION_STATISTICS_STROKE:()=>$v,DEFAULT_CAPTION_ALIGNMENT:()=>jd,DEFAULT_CAPTION_LAYOUT_STYLE:()=>Bd,DEFAULT_FIBONACCI_STROKES:()=>mv,DEFAULT_FINANCIAL_CHARTS_ANNOTATION_BACKGROUND_FILL:()=>Rn,DEFAULT_FINANCIAL_CHARTS_ANNOTATION_COLOR:()=>nn,DEFAULT_GRIDLINE_ENABLED:()=>ko,DEFAULT_POLAR_SERIES_STROKE:()=>JD,DEFAULT_SEPARATION_LINES_COLOUR:()=>Uv,DEFAULT_SHADOW_COLOUR:()=>iu,DEFAULT_SPARKLINE_CROSSHAIR_STROKE:()=>eS,DEFAULT_TEXTBOX_COLOR:()=>Qv,DEFAULT_TEXTBOX_FILL:()=>qv,DEFAULT_TEXTBOX_STROKE:()=>Zv,DEFAULT_TEXT_ANNOTATION_COLOR:()=>Hv,DEFAULT_TOOLBAR_POSITION:()=>Xv,IS_DARK_THEME:()=>Cf,PALETTE_ALT_DOWN_FILL:()=>SO,PALETTE_ALT_DOWN_STROKE:()=>wO,PALETTE_ALT_NEUTRAL_FILL:()=>MO,PALETTE_ALT_NEUTRAL_STROKE:()=>IO,PALETTE_ALT_UP_FILL:()=>DO,PALETTE_ALT_UP_STROKE:()=>CO,PALETTE_DOWN_FILL:()=>ZD,PALETTE_DOWN_STROKE:()=>KD,PALETTE_NEUTRAL_FILL:()=>XD,PALETTE_NEUTRAL_STROKE:()=>QD,PALETTE_UP_FILL:()=>qD,PALETTE_UP_STROKE:()=>YD,getChartTheme:()=>oD,resolveOperation:()=>Kye,themeNames:()=>Yye,themeSymbols:()=>xO,themes:()=>HO});var Yye=Object.keys(HO);function Kye(t){let i=Oo.getDefaultPublicParameters(),e=Oo.getDefaultColors();return new L6({line:{operation:t}},{series:[{type:"line"}]},i,e).resolve().operation}var B8={};Rl(B8,{Color:()=>wi,interpolateColor:()=>OG});var qye={};Rl(qye,{AGGREGATION_INDEX_X_MAX:()=>rs,AGGREGATION_INDEX_X_MIN:()=>fa,AGGREGATION_INDEX_Y_MAX:()=>Ns,AGGREGATION_INDEX_Y_MIN:()=>Ls,AGGREGATION_SPAN:()=>Il,AbstractBarSeries:()=>a8,AbstractBarSeriesProperties:()=>hL,ActionOnSet:()=>Yr,AnchoredPopover:()=>$8,Animation:()=>FG,AnimationManager:()=>jG,Arc:()=>Uc,Axis:()=>mO,AxisGroupZIndexMap:()=>xW,AxisInterval:()=>$h,AxisLabel:()=>Ui,AxisTick:()=>Yh,AxisTickGenerator:()=>NW,BASE_FONT_SIZE:()=>_c,BBox:()=>_e,Background:()=>Xf,BackgroundModule:()=>N6,BandScale:()=>Oc,BarSeries:()=>fL,BarSeriesModule:()=>l8,BaseModuleInstance:()=>gD,BaseProperties:()=>tt,BaseToolbar:()=>EL,Border:()=>im,ButtonWidget:()=>Av,CachedTextMeasurer:()=>lG,CachedTextMeasurerPool:()=>tu,CallbackCache:()=>iG,Caption:()=>an,CartesianAxis:()=>Bv,CartesianSeries:()=>am,CartesianSeriesNodeEvent:()=>QO,CartesianSeriesProperties:()=>du,CategoryAxis:()=>$f,CategoryScale:()=>zf,ChangeDetectableProperties:()=>qO,Chart:()=>$D,ChartAxisDirection:()=>$R,ChartOptions:()=>Jb,ChartUpdateType:()=>Zb,CollapseMode:()=>Y6,Color:()=>wi,ColorScale:()=>Vf,ConicGradient:()=>W5,ContextMenuBuiltins:()=>zG,ContextMenuRegistry:()=>UG,ContinuousScale:()=>Di,DEFAULT_CARTESIAN_DIRECTION_KEYS:()=>ig,DEFAULT_CARTESIAN_DIRECTION_NAMES:()=>ng,DEFAULT_POLAR_DIRECTION_KEYS:()=>S8,DEFAULT_POLAR_DIRECTION_NAMES:()=>M8,DEFAULT_TOOLTIP_CLASS:()=>hr,DEFAULT_TOOLTIP_DARK_CLASS:()=>qW,DIRECTION_SWAP_AXES:()=>n$,DOMManager:()=>wG,DataController:()=>aW,DataModel:()=>rW,DataModelSeries:()=>ZO,DataService:()=>ED,Debug:()=>bt,Deprecated:()=>Zye,DeprecatedAndRenamedTo:()=>Qye,DiscreteTimeAxis:()=>V$,DiscreteTimeScale:()=>Eo,DragInterpreter:()=>$G,DraggablePopover:()=>Y8,DropShadow:()=>Nl,ExtendedPath2D:()=>Sf,FILL_GRADIENT_CONIC_DEFAULTS:()=>Eme,FILL_GRADIENT_LINEAR_DEFAULTS:()=>Hf,FILL_GRADIENT_LINEAR_HIERARCHY_DEFAULTS:()=>Mme,FILL_GRADIENT_LINEAR_SHADED_DEFAULTS:()=>Ime,FILL_GRADIENT_RADIAL_DEFAULTS:()=>iS,FILL_GRADIENT_RADIAL_REVERSED_DEFAULTS:()=>Jv,FILL_GRADIENT_RADIAL_REVERSED_SERIES_DEFAULTS:()=>Ame,FILL_GRADIENT_RADIAL_SERIES_DEFAULTS:()=>kme,FILL_IMAGE_DEFAULTS:()=>Zh,FILL_PATTERN_DEFAULTS:()=>Tc,FILL_PATTERN_HIERARCHY_DEFAULTS:()=>Tme,FONT_SIZE:()=>WR,FONT_SIZE_RATIO:()=>ss,FillGradientDefaults:()=>Hs,FillImageDefaults:()=>ja,FillPatternDefaults:()=>Wi,FloatingToolbar:()=>Obe,FormatManager:()=>Tf,Gradient:()=>CD,Group:()=>ht,GroupedCategoryAxis:()=>l_,HdpiCanvas:()=>JR,HierarchyNode:()=>gbe,HierarchySeries:()=>ybe,HierarchySeriesProperties:()=>Bo,HighlightManager:()=>HG,HighlightProperties:()=>Fc,HighlightState:()=>zW,HighlightStyle:()=>jv,Image:()=>sg,InteractionManager:()=>BG,InteractionState:()=>VG,InterpolationProperties:()=>rg,Invalidating:()=>Sv,LABEL_BOXING_DEFAULTS:()=>Vs,LARGEST_KEY_INTERVAL:()=>I$,LEGEND_CONTAINER_THEME:()=>s$,Label:()=>sn,LayoutElement:()=>aO,LayoutManager:()=>QG,LegendMarkerLabel:()=>Fo,Line:()=>Fs,LineSeries:()=>bL,LineSeriesModule:()=>f8,LinearGradient:()=>$5,LinearScale:()=>Fh,LogScale:()=>PO,LonLatBBox:()=>bbe,Marker:()=>On,Menu:()=>Ebe,MenuItemWidget:()=>kL,MenuWidget:()=>G8,MercatorScale:()=>vbe,ModuleRegistry:()=>cr,Motion:()=>q1,NODE_UPDATE_STATE_TO_PHASE_MAPPING:()=>Ao,NativeWidget:()=>Af,NewAreaSeriesModule:()=>r8,NewBarSeriesModule:()=>c8,NewBubbleSeriesModule:()=>h8,NewHistogramSeriesModule:()=>p8,NewLineSeriesModule:()=>g8,NewScatterSeriesModule:()=>b8,NiceMode:()=>gW,Node:()=>Ic,NumberAxis:()=>su,ObserveChanges:()=>eu,OrdinalTimeScale:()=>lf,PHASE_METADATA:()=>sv,PHASE_ORDER:()=>of,PREV_NEXT_KEYS:()=>vf,Padding:()=>Gh,ParallelStateMachine:()=>rhe,Path:()=>ya,PointerEvents:()=>U5,PolarAxis:()=>Pf,PolarSeries:()=>CL,PolarZIndexMap:()=>D8,Popover:()=>AL,PropertiesArray:()=>Mv,Property:()=>C,ProxyInteractionService:()=>IG,ProxyOnWrite:()=>Dce,ProxyProperty:()=>tr,ProxyPropertyOnWrite:()=>yn,QUICK_TRANSITION:()=>Yw,QuadtreeNearest:()=>B6,RENDER_TO_OFFSCREEN_CANVAS_THRESHOLD:()=>cD,RadialColumnShape:()=>Vo,Range:()=>Nc,Rect:()=>ir,RepeatType:()=>PG,Rotatable:()=>Bf,RotatableGroup:()=>yce,RotatableText:()=>dG,SAFE_FILLS_OPERATION:()=>kO,SAFE_FILL_OPERATION:()=>Dme,SAFE_RANGE2_OPERATION:()=>Sme,SAFE_STROKE_FILL_OPERATION:()=>tS,SKIP_JS_BUILTINS:()=>LR,SMALLEST_KEY_INTERVAL:()=>M$,SORT_DOMAIN_GROUPS:()=>k$,Scalable:()=>jR,ScalableGroup:()=>gce,ScaleAlignment:()=>G5,Scene:()=>eO,SceneArrayChangeDetection:()=>PR,SceneChangeDetection:()=>ee,SceneObjectChangeDetection:()=>cs,SceneRefChangeDetection:()=>B5,Sector:()=>qr,SectorBox:()=>v8,Selection:()=>$r,Series:()=>WD,SeriesContentZIndexMap:()=>GW,SeriesGroupingChangedEvent:()=>eD,SeriesItemHighlightStyle:()=>Pc,SeriesMarker:()=>mr,SeriesNodeEvent:()=>GD,SeriesNodePickMode:()=>$W,SeriesProperties:()=>Gs,SeriesTooltip:()=>zc,SeriesZIndexMap:()=>HW,Shape:()=>Sn,SimpleTextMeasurer:()=>GR,SliderWidget:()=>XR,StateMachine:()=>Rv,StateMachineProperty:()=>ihe,StopProperties:()=>VR,SvgPath:()=>H8,TRIPLE_EQ:()=>Ff,Text:()=>as,TextUtils:()=>Oi,TextWrapper:()=>Iv,ThemeConstants:()=>uG,ThemeSymbols:()=>xO,TimeAxisParentLevel:()=>Kf,TimeScale:()=>bf,Toolbar:()=>Tbe,ToolbarButtonProperties:()=>u_,ToolbarButtonWidget:()=>K8,ToolbarWidget:()=>AD,Tooltip:()=>Ws,TooltipManager:()=>Kw,TooltipPosition:()=>qh,Transformable:()=>rn,TransformableGroup:()=>af,TransformableText:()=>Mf,Translatable:()=>jf,TranslatableGroup:()=>Wr,TranslatableSvgPath:()=>Ibe,UnitTimeScale:()=>Fd,UpdateService:()=>XG,Vec2:()=>yf,Vec4:()=>lv,WIDGET_HTML_EVENTS:()=>UR,Widget:()=>Ol,WidgetEventUtil:()=>wc,ZIndexMap:()=>kG,ZoomManager:()=>ZG,accumulateGroup:()=>A$,accumulateStack:()=>E$,accumulatedValue:()=>y$,accumulativeValueProperty:()=>pR,addEscapeEventListener:()=>SD,addHitTestersToQuadtree:()=>uL,addMouseCloseListener:()=>KR,addOverrideFocusVisibleEventListener:()=>ZR,addTouchCloseListener:()=>qR,adjustLabelPlacement:()=>F6,aggregationDomain:()=>xv,aggregationIndexForXRatio:()=>rL,aggregationRangeFittingPoints:()=>iL,aggregationXRatioForDatumIndex:()=>nL,aggregationXRatioForXValue:()=>Rc,angleBetween:()=>_D,angleCategoryAxisOptionsDefs:()=>j$,angleNumberAxisOptionsDefs:()=>B$,angularPadding:()=>W1,animationValidation:()=>s_,annotationCalloutStylesDefs:()=>n6,annotationChannelStyleDefs:()=>zO,annotationChannelTextDefs:()=>J$,annotationCommentStylesDefs:()=>r6,annotationCrossLineStyleDefs:()=>gR,annotationDisjointChannelStyleDefs:()=>t6,annotationFibonacciStylesDefs:()=>yR,annotationLineStyleDefs:()=>sD,annotationLineTextDefs:()=>yS,annotationMeasurerStylesDefs:()=>Ow,annotationNoteStylesDefs:()=>a6,annotationOptionsDef:()=>Qf,annotationParallelChannelStyleDefs:()=>i6,annotationQuickMeasurerStylesDefs:()=>s6,annotationShapeStylesDefs:()=>bR,annotationTextStylesDef:()=>c_,applyShapeFillBBox:()=>WW,applyShapeStyle:()=>Dc,areScalingEqual:()=>Vh,area:()=>mR,autoSizedLabelOptionsDefs:()=>Qd,bezier2DDistance:()=>Q5,bezier2DExtrema:()=>Z5,boxPlotHighlightStyleOptionsDef:()=>vR,boxPlotSeriesThemeableOptionsDef:()=>o6,boxPlotStyleOptionsDef:()=>UO,buildDateFormatter:()=>zh,buildResetPathFn:()=>cL,calculateDataDiff:()=>o8,calculateLabelTranslation:()=>Cbe,calculatePlacement:()=>YW,callWithContext:()=>Ro,candlestickSeriesThemeableOptionsDef:()=>l6,cartesianAxisBandHighlightOptions:()=>a_,cartesianAxisCrosshairOptions:()=>ru,cartesianAxisLabelOptionsDefs:()=>n_,cartesianAxisOptionsDefs:()=>jc,cartesianChartOptionsDefs:()=>O8,cartesianCrossLineOptionsDefs:()=>vc,cartesianNumericAxisLabel:()=>TO,cartesianTimeAxisLabel:()=>r_,cartesianTimeAxisParentLevel:()=>cS,checkCrisp:()=>s8,chordSeriesThemeableOptionsDef:()=>c6,clampArray:()=>ov,clippedRoundRect:()=>Iw,collapsedStartingBarPosition:()=>pD,commonAxisIntervalOptionsDefs:()=>RO,commonAxisLabelOptionsDefs:()=>Bc,commonAxisOptionsDefs:()=>Qh,commonChartOptionsDefs:()=>rt,commonCrossLineLabelOptionsDefs:()=>Hh,commonCrossLineOptionsDefs:()=>Sl,commonSeriesOptionsDefs:()=>Po,commonSeriesThemeableOptionsDefs:()=>Wt,compactAggregationIndices:()=>sL,compareDates:()=>gO,computeBarFocusBounds:()=>pL,computeMarkerFocusBounds:()=>_S,coneFunnelSeriesThemeableOptionsDef:()=>d6,continuousAxisOptions:()=>Wf,countExpandingSearch:()=>WG,createAggregationIndices:()=>aL,createButton:()=>wbe,createCheckbox:()=>Dbe,createDatumId:()=>Sc,createDeprecationWarning:()=>SL,createIcon:()=>U8,createIdsGenerator:()=>vO,createSelect:()=>Sbe,createTextArea:()=>Mbe,dateToNumber:()=>os,dateTruncationForDomain:()=>fO,datesSortOrder:()=>yO,datumKeys:()=>qw,datumStylerProperties:()=>Gd,deconstructSelectionsOrNodes:()=>TD,deepClone:()=>qi,deepFreeze:()=>Cc,diff:()=>o_,discreteTimeAxisIntervalOptionsDefs:()=>OO,drawCorner:()=>zb,drawMarkerUnitPolygon:()=>Hb,durationDay:()=>Uh,durationHour:()=>Ph,durationMinute:()=>Vd,durationMonth:()=>cO,durationSecond:()=>_f,durationWeek:()=>dW,durationYear:()=>cv,easing:()=>q1,enterpriseModule:()=>Yd,errorBarOptionsDefs:()=>rS,errorBarThemeableOptionsDefs:()=>e_,estimateTickCount:()=>EW,evaluateBezier:()=>Df,expandLegendPosition:()=>Nw,extent:()=>au,extractDecoratedProperties:()=>N5,fillsOptionsDef:()=>gv,findMinMax:()=>er,findQuadtreeMatch:()=>mD,findRangeExtent:()=>Rf,fixNumericExtent:()=>ls,focusCursorAtEnd:()=>vce,formatNumber:()=>MG,formatObjectValidator:()=>d$,formatPercent:()=>SG,formatValue:()=>Ef,fromToMotion:()=>Tn,funnelSeriesThemeableOptionsDef:()=>u6,getAngleRatioRadians:()=>H5,getColorStops:()=>q5,getCrossLineValue:()=>pW,getDateTicksForInterval:()=>bO,getDatumRefPoint:()=>iO,getElementBBox:()=>nG,getIconClassNames:()=>wD,getLabelStyles:()=>Ml,getLastFocus:()=>kD,getMissCount:()=>iW,getPath:()=>OR,getPathComponents:()=>nW,getRadialColumnWidth:()=>F8,getSequentialColors:()=>ds,getShapeFill:()=>xf,getShapeStyle:()=>El,groupAccumulativeValueProperty:()=>$d,groupAverage:()=>g$,groupCount:()=>hR,groupStackValueProperty:()=>S$,groupSum:()=>f$,hasNoModifiers:()=>kv,heatmapSeriesThemeableOptionsDef:()=>h6,initMenuKeyNav:()=>vG,initRovingTabIndex:()=>bG,interpolatePoints:()=>dD,interpolationOptionsDefs:()=>aS,intervalCeil:()=>uW,intervalEpoch:()=>dv,intervalExtent:()=>dO,intervalFloor:()=>Os,intervalHierarchy:()=>uv,intervalMilliseconds:()=>ga,intervalNext:()=>mW,intervalPrevious:()=>hW,intervalRange:()=>js,intervalRangeCount:()=>uO,intervalRangeStartIndex:()=>OD,intervalStep:()=>Zd,intervalUnit:()=>Al,isAgStandaloneChartOptions:()=>jW,isAgTopologyChartOptions:()=>BW,isBetweenAngles:()=>Th,isButtonClickEvent:()=>ID,isChartAxisDirection:()=>Yce,isContinuous:()=>LD,isDecoratedObject:()=>vD,isDenseInterval:()=>Nf,isGradientFill:()=>To,isGradientOrPatternFill:()=>mce,isImageFill:()=>jh,isInputPending:()=>rG,isObjectWithProperty:()=>V5,isObjectWithStringProperty:()=>zle,isPatternFill:()=>qd,isProperties:()=>Lh,isScaleValid:()=>vv,jsonApply:()=>qb,jsonDiff:()=>Ec,jsonPropertyCompare:()=>aG,jsonWalk:()=>Hd,keyProperty:()=>Wd,legendSymbolSvg:()=>KW,lineDistanceSquared:()=>Gw,linearGaugeSeriesOptionsDef:()=>Xd,linearGaugeSeriesThemeableOptionsDef:()=>nD,linearGaugeTargetOptionsDef:()=>sS,listDecoratedProperties:()=>Ud,lowestGranularityForInterval:()=>Fv,lowestGranularityUnitForTicks:()=>pO,lowestGranularityUnitForValue:()=>FD,makeAccessibleClickListener:()=>tde,makeSeriesTooltip:()=>rm,mapLineBackgroundSeriesThemeableOptionsDef:()=>f6,mapLineSeriesThemeableOptionsDef:()=>p6,mapMarkerSeriesThemeableOptionsDef:()=>g6,mapShapeBackgroundSeriesThemeableOptionsDef:()=>b6,mapShapeSeriesThemeableOptionsDef:()=>y6,mapValues:()=>F5,markerFadeInAnimation:()=>Cv,markerOptionsDefs:()=>Vc,markerScaleInAnimation:()=>i8,markerSwipeScaleInAnimation:()=>oL,memo:()=>rv,merge:()=>iv,mergeArrayDefaults:()=>P5,mergeDefaults:()=>Xt,midpointStartingBarPosition:()=>Ege,minimumTimeAxisDatumGranularity:()=>P$,moduleRegistry:()=>kl,motion:()=>Nbe,multiSeriesHighlightStyle:()=>nu,nearestSquared:()=>bD,nearestSquaredInContainer:()=>Fle,nextPowerOf2:()=>nue,nightingaleSeriesThemeableOptionsDef:()=>v6,normaliseGroupTo:()=>hS,normalisePropertyTo:()=>Rw,normalisedExtentWithMetadata:()=>LO,normalizeAngle180:()=>Hw,normalizeAngle360:()=>Dn,normalizeAngle360FromDegrees:()=>kc,normalizeAngle360Inclusive:()=>Kle,normalizeContinuousDomains:()=>nO,numberFormatValidator:()=>No,objectsEqual:()=>Ln,objectsEqualWith:()=>RR,ohlcSeriesThemeableOptionsDef:()=>m6,ordinalTimeAxisOptionsDefs:()=>ff,pairUpSpans:()=>ev,partialAssign:()=>H1,pathFadeInAnimation:()=>uD,pathMotion:()=>lD,pathSwipeInAnimation:()=>lL,pick:()=>U1,pickByMatchingAngle:()=>w8,plotAreaPathFill:()=>X6,plotInterpolatedAreaSeriesFillSpans:()=>Vw,plotInterpolatedLinePathStroke:()=>Fw,plotLinePathStroke:()=>JO,pointsEq:()=>_v,polarChartOptionsDefs:()=>L8,prepareAreaFillAnimationFns:()=>J6,prepareAreaPathAnimation:()=>e8,prepareAxisAnimationContext:()=>yW,prepareAxisAnimationFunctions:()=>bW,prepareBarAnimationFunctions:()=>fD,prepareLinePathAnimation:()=>Q6,prepareLinePathPropertyAnimation:()=>tL,prepareLinePathStrokeAnimationFns:()=>eL,preparePieSeriesAnimationFunctions:()=>Bw,previousPowerOf2:()=>Q1,processedDataIsAnimatable:()=>Yf,pyramidSeriesThemeableOptionsDef:()=>_6,radarAreaSeriesThemeableOptionsDef:()=>x6,radarLineSeriesThemeableOptionsDef:()=>C6,radialBarSeriesThemeableOptionsDef:()=>w6,radialColumnSeriesThemeableOptionsDef:()=>D6,radialGaugeSeriesOptionsDef:()=>t_,radialGaugeSeriesThemeableOptionsDef:()=>rD,radialGaugeTargetOptionsDef:()=>oS,radiusCategoryAxisOptionsDefs:()=>U$,radiusNumberAxisOptionsDefs:()=>z$,range:()=>BD,rangeAreaSeriesThemeableOptionsDef:()=>S6,rangeBarSeriesThemeableOptionsDef:()=>M6,rangeValidator:()=>nS,rangedValueProperty:()=>D$,resetAxisFillSelectionFn:()=>_W,resetAxisGroupFn:()=>vW,resetAxisLabelSelectionFn:()=>Jw,resetAxisLineSelectionFn:()=>aR,resetBarSelectionsFn:()=>Dv,resetLabelFn:()=>nm,resetMarkerFn:()=>vS,resetMarkerPositionFn:()=>wv,resetMotion:()=>kr,resetPieSelectionsFn:()=>C8,rowCountProperty:()=>C$,sankeySeriesThemeableOptionsDef:()=>I6,scale:()=>Gr,sectorBox:()=>_8,seriesLabelFadeInAnimation:()=>fn,seriesLabelFadeOutAnimation:()=>Pw,seriesLabelOptionsDefs:()=>fi,setElementBBox:()=>$w,setPath:()=>NR,shadowOptionsDefs:()=>Ll,shallowClone:()=>zR,simpleMemorize:()=>Ir,simpleMemorize2:()=>Ev,singleSeriesHighlightStyle:()=>a$,solveBezier:()=>Ww,sortAndUniqueDates:()=>sR,splitBezier2D:()=>nv,standaloneChartOptionsDefs:()=>Rye,staticFromToMotion:()=>Lc,stopPageScrolling:()=>_G,sum:()=>$me,sumValues:()=>uS,sunburstSeriesThemeableOptionsDef:()=>k6,textOrSegments:()=>EO,tickFormat:()=>kW,timeInterval:()=>lS,timeIntervalUnit:()=>i_,toDegrees:()=>qle,toRadians:()=>Ar,toolbarButtonOptionsDefs:()=>Oh,tooltipContentAriaLabel:()=>QW,tooltipHtml:()=>JW,tooltipOptionsDefs:()=>Jt,topologyChartOptionsDefs:()=>Tye,trailingAccumulatedValue:()=>b$,trailingAccumulatedValueProperty:()=>Qme,treemapSeriesThemeableOptionsDef:()=>A6,updateClipPath:()=>hD,updateLabelNode:()=>P6,validateCrossLineValue:()=>fW,valueProperty:()=>Li,visibleRangeIndices:()=>GG,waterfallSeriesThemeableOptionsDef:()=>E6,without:()=>de});function SL(){return(t,i)=>{let e=[`Property [${t}] is deprecated.`,i].filter(Boolean).join(" ");j.warnOnce(e)}}function Zye(t,i){let e=SL(),n=i?.default;return Bh((r,a,s)=>(s!==n&&e(a.toString(),t),s))}function Qye(t,i){let e=SL();return Bh((n,r,a)=>(a!==n[t]&&(e(r.toString(),`Use [${t}] instead.`),NR(n,t,i?i(a):a)),z1),(n,r)=>(e(r.toString(),`Use [${t}] instead.`),OR(n,t)))}var yf={add:Xye,angle:rbe,apply:mbe,equal:ube,distance:tbe,distanceSquared:ibe,from:hbe,gradient:sbe,intercept:obe,intersectAtX:cbe,intersectAtY:lbe,length:IL,lengthSquared:ebe,multiply:Jye,normalized:nbe,origin:j8,required:pbe,rotate:abe,round:dbe,sub:ML};function Xye(t,i){return typeof i=="number"?{x:t.x+i,y:t.y+i}:{x:t.x+i.x,y:t.y+i.y}}function ML(t,i){return typeof i=="number"?{x:t.x-i,y:t.y-i}:{x:t.x-i.x,y:t.y-i.y}}function Jye(t,i){return typeof i=="number"?{x:t.x*i,y:t.y*i}:{x:t.x*i.x,y:t.y*i.y}}function IL(t){return Math.sqrt(t.x*t.x+t.y*t.y)}function ebe(t){return t.x*t.x+t.y*t.y}function tbe(t,i){let e=ML(t,i);return Math.sqrt(e.x*e.x+e.y*e.y)}function ibe(t,i){let e=ML(t,i);return e.x*e.x+e.y*e.y}function nbe(t){let i=IL(t);return{x:t.x/i,y:t.y/i}}function rbe(t,i){return i==null?Math.atan2(t.y,t.x):Math.atan2(t.y,t.x)-Math.atan2(i.y,i.x)}function abe(t,i,e=j8()){let n=IL(t);return{x:e.x+n*Math.cos(i),y:e.y+n*Math.sin(i)}}function sbe(t,i,e){let n=i.x-t.x;return(e==null?i.y-t.y:e-i.y-(e-t.y))/n}function obe(t,i,e){return(e==null?t.y:e-t.y)-i*t.x}function lbe(t,i,e=0,n){return{x:t===1/0?1/0:(e-i)/t,y:n==null?e:n-e}}function cbe(t,i,e=0,n){let r=t===1/0?1/0:t*e+i;return{x:e,y:n==null?r:n-r}}function dbe(t,i=2){return{x:QT(t.x,i),y:QT(t.y,i)}}function ube(t,i){return t.x===i.x&&t.y===i.y}function hbe(t,i){if(typeof t=="number")return{x:t,y:i};if("currentX"in t)return{x:t.currentX,y:t.currentY};if("offsetWidth"in t)return{x:t.offsetWidth,y:t.offsetHeight};if("width"in t)return[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y+t.height}];if("x1"in t)return[{x:t.x1,y:t.y1},{x:t.x2,y:t.y2}];throw new Error(`Values can not be converted into a vector: [${JSON.stringify(t)}] [${i}]`)}function mbe(t,i){return t.x=i.x,t.y=i.y,t}function pbe(t){return{x:t?.x??0,y:t?.y??0}}function j8(){return{x:0,y:0}}var fbe=(()=>{let t=class zw{constructor(e,n,r,a,s,o,l,c,d){this.series=e,this.datumIndex=n,this.datum=r,this.sizeValue=a,this.colorValue=s,this.sumSize=o,this.depth=l,this.parent=c,this.children=d,this.midPoint={x:0,y:0}}get hasChildren(){return this.children.length>0}walk(e,n=zw.Walk.PreOrder){n===zw.Walk.PreOrder&&e(this),this.children.forEach(r=>{r.walk(e,n)}),n===zw.Walk.PostOrder&&e(this)}*[Symbol.iterator](){yield this;for(let e of this.children)yield*sm(e)}};return t.Walk={PreOrder:0,PostOrder:1},t})(),gbe=fbe,ybe=class extends WD{constructor(t){super({moduleCtx:t,pickModes:[1,0]}),this.colorDomain=[0,0],this.maxDepth=0,this.colorScale=new Vf,this.animationState=new Rv("empty",{empty:{update:{target:"ready",action:i=>this.animateEmptyUpdateReady(i)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:i=>this.animateReadyHighlight(i),resize:i=>this.animateReadyResize(i),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:i=>this.animateWaitingUpdateReady(i)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:i=>this.animateClearingUpdateEmpty(i)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}resetAnimation(t){t==="initial"?this.animationState.transition("reset"):t==="ready"&&this.animationState.transition("skip")}processData(){let{NodeClass:t}=this,{childrenKey:i,sizeKey:e,colorKey:n,colorRange:r}=this.properties,a=0,s=1/0,o=-1/0,l=(h,m,p)=>{let g=p.depth!=null?p.depth+1:0,b=i!=null?h[i]:void 0,v=b==null||b.length===0,_=e!=null?h[e]:void 0;Number.isFinite(_)?_=Math.max(_,0):_=v?1:0;let w=_;a=Math.max(a,g);let D=n!=null?h[n]:void 0;return typeof D=="number"&&(s=Math.min(s,D),o=Math.max(o,D)),c(new t(this,m,h,_,D,w,g,p,[]),b)},c=(h,m)=>{let{datumIndex:p}=h;return m?.forEach((g,b)=>{let v=l(g,p.concat(b),h);h.children.push(v),h.sumSize+=v.sumSize}),h},d=c(new t(this,[],void 0,0,void 0,0,void 0,void 0,[]),this.data),u=[s,o];this.colorScale.domain=s<o?[s,o]:[0,1],this.colorScale.range=r??["black"],this.colorScale.update(),this.rootNode=d,this.maxDepth=a,this.colorDomain=u}update({seriesRect:t}){this.updateSelections(),this.updateNodes();let i=this.getAnimationData();this.checkResize(t)&&this.animationState.transition("resize",i),this.animationState.transition("update",i)}resetAllAnimation(t){this.ctx.animationManager.stopByAnimationGroupId(this.id)}animateEmptyUpdateReady(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(t)}animateWaitingUpdateReady(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(t)}animateReadyHighlight(t){}animateReadyResize(t){this.resetAllAnimation(t)}animateClearingUpdateEmpty(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(t)}getAnimationData(){return{}}isProcessedDataAnimatable(){return!0}checkProcessedDataAnimatable(){this.isProcessedDataAnimatable()||this.ctx.animationManager.skipCurrentBatch()}dataCount(){return NaN}getSeriesDomain(){return[NaN,NaN]}getSeriesRange(t,i){return[NaN,NaN]}getLegendData(t){let{colorKey:i,colorRange:e}=this.properties,{id:n,ctx:{legendManager:r},visible:a}=this;return t==="gradient"&&i!=null&&e!=null?[{legendType:"gradient",enabled:a&&r.getItemEnabled({seriesId:n}),seriesId:n,series:this.getFormatterContext("color"),colorRange:e,colorDomain:this.colorDomain}]:[]}getDatumIdFromData(t){return t.datumIndex.join(":")}getDatumId(t){return this.getDatumIdFromData(t)}removeMeIndexPathForIndex(t){return this.datumSelection.at(t+1)?.datum.datumIndex??[]}removeMeIndexForIndexPath(t){for(let{index:i,datum:e}of this.datumSelection)if(Ta(e.datumIndex,t))return i-1;return 0}pickFocus(t){if(!this.rootNode?.children.length)return;let i=Ae(0,t.datumIndex-t.datumIndexDelta,this.datumSelection.length-1),{datumIndexDelta:e,otherIndexDelta:n}=t,r=this.removeMeIndexPathForIndex(i),a=r.reduce((l,c)=>l.children[c],this.rootNode);if(n>0&&a.hasChildren)r=[...r,0];else if(n<0&&r.length>1)r=r.slice(0,-1);else if(n===0&&e!==0){let l=a.parent.children.length-1;r=r.slice(),r[r.length-1]=Ae(0,r[r.length-1]+e,l)}let s=r.reduce((l,c)=>l.children[c],this.rootNode),o=this.computeFocusBounds(this.datumSelection.at(i+1));if(o!=null)return{datum:s,datumIndex:this.removeMeIndexForIndexPath(r),otherIndex:s.depth,bounds:o,clipFocusBox:!0}}getDatumAriaText(t,i){if(!(t instanceof this.NodeClass)){j.error(`datum is not HierarchyNode: ${JSON.stringify(t)}`);return}return this.ctx.localeManager.t("ariaAnnounceHierarchyDatum",{level:(t.depth??-1)+1,count:t.children.length,description:i})}getCategoryValue(t){}datumIndexForCategoryValue(t){}},Bo=class extends Gs{constructor(){super(...arguments),this.childrenKey="children",this.fills=Object.values(wn),this.fillGradientDefaults=new Hs,this.fillPatternDefaults=new Wi,this.fillImageDefaults=new ja,this.strokes=Object.values(bc)}};y([C],Bo.prototype,"childrenKey",2);y([C],Bo.prototype,"sizeKey",2);y([C],Bo.prototype,"colorKey",2);y([C],Bo.prototype,"colorName",2);y([C],Bo.prototype,"fills",2);y([C],Bo.prototype,"fillGradientDefaults",2);y([C],Bo.prototype,"fillPatternDefaults",2);y([C],Bo.prototype,"fillImageDefaults",2);y([C],Bo.prototype,"strokes",2);y([C],Bo.prototype,"colorRange",2);var bbe=class z8{constructor(i,e,n,r){this.lon0=i,this.lat0=e,this.lon1=n,this.lat1=r}extend(i,e,n,r){return this.lon0=Math.min(this.lon0,i),this.lat0=Math.min(this.lat0,e),this.lon1=Math.max(this.lon1,n),this.lat1=Math.max(this.lat1,r),this}merge(i){return this.extend(i.lon0,i.lat0,i.lon1,i.lat1)}static extend(i,e,n,r,a){return i?i.extend(e,n,r,a):new z8(e,n,r,a)}},wS=Math.PI/180,F1=t=>t*wS,V1=t=>-Math.log(Math.tan(Math.PI*.25+t*wS*.5)),B1=t=>t/wS,j1=t=>(Math.atan(Math.exp(-t))-Math.PI*.25)/(wS*.5),vbe=class AR extends xD{constructor(i,e){super(),this.domain=i,this.range=e,this.type="mercator",this.defaultTickCount=0,this.bounds=AR.bounds(i)}static bounds(i){let[[e,n],[r,a]]=i,s=F1(e),o=V1(n),l=F1(r),c=V1(a);return new _e(Math.min(s,l),Math.min(o,c),Math.abs(l-s),Math.abs(c-o))}static fixedScale(){return new AR([[B1(0),j1(0)],[B1(1),j1(1)]],[[0,0],[1,1]])}toDomain(){}normalizeDomains(...i){let e=-1/0,n=1/0,r=-1/0,a=1/0;for(let s of i)for(let[o,l]of s)e=Math.min(o,e),n=Math.max(o,n),r=Math.min(l,r),a=Math.max(l,a);return{domain:[[e,r],[n,a]],animatable:!0}}convert([i,e]){let[[n,r],[a,s]]=this.range,o=(a-n)/this.bounds.width,l=(s-r)/this.bounds.height;return[(F1(i)-this.bounds.x)*o+n,(V1(e)-this.bounds.y)*l+r]}invert([i,e]){let[[n,r],[a,s]]=this.range,o=(a-n)/this.bounds.width,l=(s-r)/this.bounds.height;return[B1((i-n)/o+this.bounds.x),j1((e-r)/l+this.bounds.y)]}},_be={top:{xTranslationDirection:0,yTranslationDirection:-1},bottom:{xTranslationDirection:0,yTranslationDirection:1},left:{xTranslationDirection:-1,yTranslationDirection:0},right:{xTranslationDirection:1,yTranslationDirection:0},"top-left":{xTranslationDirection:1,yTranslationDirection:-1},"top-right":{xTranslationDirection:-1,yTranslationDirection:-1},"bottom-left":{xTranslationDirection:1,yTranslationDirection:1},"bottom-right":{xTranslationDirection:-1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},"inside-left":{xTranslationDirection:1,yTranslationDirection:0},"inside-right":{xTranslationDirection:-1,yTranslationDirection:0},"inside-top":{xTranslationDirection:0,yTranslationDirection:1},"inside-bottom":{xTranslationDirection:0,yTranslationDirection:-1},"inside-top-left":{xTranslationDirection:1,yTranslationDirection:1},"inside-bottom-left":{xTranslationDirection:1,yTranslationDirection:-1},"inside-top-right":{xTranslationDirection:-1,yTranslationDirection:1},"inside-bottom-right":{xTranslationDirection:-1,yTranslationDirection:-1}},xbe={top:{xTranslationDirection:1,yTranslationDirection:0},bottom:{xTranslationDirection:-1,yTranslationDirection:0},left:{xTranslationDirection:0,yTranslationDirection:-1},right:{xTranslationDirection:0,yTranslationDirection:1},"top-left":{xTranslationDirection:-1,yTranslationDirection:-1},"top-right":{xTranslationDirection:-1,yTranslationDirection:1},"bottom-left":{xTranslationDirection:1,yTranslationDirection:-1},"bottom-right":{xTranslationDirection:1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},"inside-left":{xTranslationDirection:0,yTranslationDirection:1},"inside-right":{xTranslationDirection:0,yTranslationDirection:-1},"inside-top":{xTranslationDirection:-1,yTranslationDirection:0},"inside-bottom":{xTranslationDirection:1,yTranslationDirection:0},"inside-top-left":{xTranslationDirection:-1,yTranslationDirection:1},"inside-bottom-left":{xTranslationDirection:1,yTranslationDirection:1},"inside-top-right":{xTranslationDirection:-1,yTranslationDirection:-1},"inside-bottom-right":{xTranslationDirection:1,yTranslationDirection:-1}};function Cbe({yDirection:t,padding:i=0,position:e="top",bbox:n}){let r=t?_be:xbe,{xTranslationDirection:a,yTranslationDirection:s}=r[e],o=a*(i+n.width/2),l=s*(i+n.height/2);return{xTranslation:o,yTranslation:l}}function wbe(t,i){let e=Ne("button",DS("ag-charts-input ag-charts-button",i));return t.label!==void 0?e.append(t.label):(e.append(U8(t.icon)),e.ariaLabel=t.altText),e.addEventListener("click",t.onPress),Td(e,i),e}function Dbe(t,i){let e=Ne("input",DS("ag-charts-input ag-charts-checkbox",i));return e.type="checkbox",e.checked=t.checked,e.addEventListener("change",n=>t.onChange(e.checked,n)),e.addEventListener("keydown",n=>{ID(n)&&(n.preventDefault(),e.click())}),Td(e,i),e}function Sbe(t,i){let e=Ne("select",DS("ag-charts-input ag-charts-select",i));return e.append(...t.options.map(n=>{let r=Ne("option");return r.value=n.value,r.textContent=n.label,r})),et(e,"data-preventdefault",!1),e.value=t.value,e.addEventListener("change",n=>t.onChange(e.value,n)),Td(e,i),e}function Mbe(t,i){let e=Ne("textarea",DS("ag-charts-input ag-charts-textarea",i));return e.value=t.value,e.addEventListener("input",n=>t.onChange(e.value,n)),Td(e,i),et(e,"data-preventdefault",!1),e}function U8(t){let i=Ne("span",`ag-charts-icon ag-charts-icon-${t}`);return et(i,"aria-hidden",!0),i}function DS(t,i){return i==null?t:`${t} ${i.class}`}var H8=class extends ya{constructor(t=""){super(),this._d="",this.d=t}get d(){return this._d}set d(t){t!==this._d&&(this._d=t,this.path.clear(),this.path.appendSvg(t),this.checkPathDirty())}},Ibe=class extends jf(H8){isPointInPath(t,i){return super.isPointInPath(t-this.translationX,i-this.translationY)}},sg=class extends Ic{constructor(t){super(),this.sourceImage=t,this.x=0,this.y=0,this.width=0,this.height=0,this.opacity=1}render(t){let{ctx:i}=t,e=this.sourceImage;e&&(i.globalAlpha=this.opacity,i.drawImage(e,0,0,e.width,e.height,this.x,this.y,this.width,this.height)),super.render(t)}};y([ee()],sg.prototype,"x",2);y([ee()],sg.prototype,"y",2);y([ee()],sg.prototype,"width",2);y([ee()],sg.prototype,"height",2);y([ee()],sg.prototype,"opacity",2);var kbe={};Rl(kbe,{ButtonWidget:()=>Av,MenuItemWidget:()=>kL,MenuWidget:()=>G8,NativeWidget:()=>Af,SliderWidget:()=>XR,ToolbarWidget:()=>AD,WIDGET_HTML_EVENTS:()=>UR,Widget:()=>Ol,WidgetEventUtil:()=>wc});var kL=class extends DG{constructor(){super(Ne("div"),"menuitem")}},Abe=["Escape","ArrowLeft"],G8=class W8 extends QR{constructor(i="vertical"){super(i,"menu"),this.closeSubMenu=e=>this.openSubMenu(e,void 0)}destructor(){this.selfClose("2")}addSeparator(){let i=Br().createElement("div");return et(i,"role","separator"),this.elem.appendChild(i),i}onChildAdded(i){super.onChildAdded(i),i.hasPopup()||i.addListener("mouseenter",this.closeSubMenu)}onChildRemoved(i){super.onChildRemoved(i),i.hasPopup()||i.removeListener("mouseenter",this.closeSubMenu)}addSubMenu(){let i=new kL,e=gh(),n=new W8(this.orientation),r=s=>{i.isDisabled()||this.openSubMenu(s,n)},a=s=>{kv(s.sourceEvent)&&s.sourceEvent.code==="ArrowRight"&&r(s)};return i.setAriaHasPopup("menu"),i.setAriaExpanded(!1),i.setAriaControls(e),i.addListener("click",r),i.addListener("mouseenter",r),i.addListener("keydown",a),n.addListener("close-widget",()=>i.setAriaExpanded(!1)),n.addListener("open-widget",()=>i.setAriaExpanded(!0)),n.id=e,this.addChild(i),{subMenuButton:i,subMenu:n}}openSubMenu(i,e){let{openScope:n}=this;n&&(n.openSubMenu?.selfClose("4"),e?.open(i),n.openSubMenu=e)}open(i,e){if(this.openScope!=null)return;this.openScope={lastFocus:kD(i.sourceEvent),openSubMenu:void 0,abort:()=>this.selfClose("1"),close:()=>this.selfClose("0"),removers:new pt};let n=this.openScope,r=this.children.map(a=>a.getElement());et(n.lastFocus,"aria-expanded",!0),n.removers.register(KR(this.elem,n.abort),qR(this.elem,n.abort),...this.children.map(a=>SD(a.getElement(),n.close,Abe)),e?.overrideFocusVisible&&ZR(this.elem,r,e.overrideFocusVisible)),this.internalListener?.dispatch("open-widget",this,{type:"open-widget"}),this.children[0]?.focus({preventScroll:!0})}selfClose(i){if(this.openScope===void 0)return;let{lastFocus:e,removers:n,openSubMenu:r}=this.openScope;this.openScope=void 0,r?.selfClose("3"),et(e,"aria-expanded",!1),i==="0"&&e?.focus({preventScroll:!0}),n.flush(),this.internalListener?.dispatch("close-widget",this,{type:"close-widget"})}close(){this.selfClose("0")}},A5="canvas-overlay",AL=class extends gD{constructor(t,i,e){super(),this.ctx=t,this.hideFns=[],this.moduleId=`popover-${i}`,e?.detached?this.element=Ne("div"):this.element=t.domManager.addChild(A5,this.moduleId),this.element.setAttribute("role","presentation"),this.cleanup.register(()=>t.domManager.removeChild(A5,this.moduleId))}attachTo(t){this.element.parentElement||t.element.append(this.element)}hide(t){let{lastFocus:i=this.lastFocus}=t??{};this.element.children.length!==0&&(this.hideFns.forEach(e=>e()),i?.focus(),this.lastFocus=void 0)}removeChildren(){this.element.replaceChildren()}showWithChildren(t,i){if(!this.element.parentElement)throw new Error("Can not show popover that has not been attached to a parent.");let e=Ne("div","ag-charts-popover");if(i.ariaLabel!=null&&e.setAttribute("aria-label",i.ariaLabel),i.class!=null&&e.classList.add(i.class),e.replaceChildren(...t),this.element.replaceChildren(e),this.hideFns.push(()=>this.removeChildren()),i.onHide&&this.hideFns.push(i.onHide),i.initialFocus&&i.sourceEvent){let n=kD(i.sourceEvent);n!==void 0&&(this.lastFocus=n,this.initialFocus=i.initialFocus)}return e}getPopoverElement(){return this.element.firstElementChild}updatePosition(t){let i=this.getPopoverElement();i&&(i.style.setProperty("right","unset"),i.style.setProperty("bottom","unset"),t.x!=null&&i.style.setProperty("left",`${Math.floor(t.x)}px`),t.y!=null&&i.style.setProperty("top",`${Math.floor(t.y)}px`),this.initialFocus?.focus(),this.initialFocus=void 0)}},$8=class extends AL{setAnchor(t,i){this.anchor=t,this.fallbackAnchor=i,this.updatePosition(t),this.repositionWithinBounds()}showWithChildren(t,i){let e=i.anchor??this.anchor,n=i.fallbackAnchor??this.fallbackAnchor,r=super.showWithChildren(t,i);return e&&this.setAnchor(e,n),Je().requestAnimationFrame(()=>{this.repositionWithinBounds()}),r}repositionWithinBounds(){let{anchor:t,ctx:i,fallbackAnchor:e}=this,n=this.getPopoverElement();if(!t||!n)return;let r=i.domManager.getBoundingClientRect(),{offsetWidth:a,offsetHeight:s}=n,o=Ae(0,t.x,r.width-a),l=Ae(0,t.y,r.height-s);o!==t.x&&e?.x!=null&&(o=Ae(0,e.x-a,r.width-a)),l!==t.y&&e?.y!=null&&(l=Ae(0,e.y-s,r.height-s)),this.updatePosition({x:o,y:l})}},Ebe=class extends $8{show(t){let i=t.items.map(n=>this.createRow(t,n)),e=this.showWithChildren(i,t);e.classList.add("ag-charts-menu"),e.setAttribute("role","menu"),this.menuCloser=vG({orientation:"vertical",menu:e,buttons:i,sourceEvent:t.sourceEvent,closeCallback:()=>this.hide()}),this.hideFns.push(()=>{this.menuCloser?.finishClosing(),this.menuCloser=void 0})}createRow(t,i){let{menuItemRole:e="menuitem"}=t,n=i.value===t.value,r=Ne("div","ag-charts-menu__row");if(r.setAttribute("role",e),e==="menuitemradio"&&r.setAttribute("aria-checked",(t.value===i.value).toString()),typeof i.value=="string"&&(r.dataset.popoverId=i.value),r.classList.toggle("ag-charts-menu__row--active",n),i.icon!=null){let l=Ne("span",`ag-charts-menu__icon ${wD(i.icon)}`);r.appendChild(l)}let a=i.strokeWidth!=null;if(a&&(r.classList.toggle("ag-charts-menu__row--stroke-width-visible",a),r.style.setProperty("--strokeWidth",a?`${i.strokeWidth}px`:null)),i.label!=null){let l=Ne("span","ag-charts-menu__label");l.textContent=this.ctx.localeManager.t(i.label),r.appendChild(l)}"altText"in i&&(r.ariaLabel=this.ctx.localeManager.t(i.altText));let s=()=>{t.onPress?.(i)},o=l=>{ID(l)&&(s(),l.preventDefault(),l.stopPropagation())};return r.addEventListener("keydown",o),r.addEventListener("click",o),r.addEventListener("mousemove",()=>{r.focus({preventScroll:!0})}),r}},Y8=class extends AL{constructor(){super(...arguments),this.dragged=!1}setDragHandle(t){t.addListener("drag-start",i=>{t.addClass(this.dragHandleDraggingClass),this.onDragStart(i)}),t.addListener("drag-move",this.onDragMove.bind(this)),t.addListener("drag-end",()=>{t.removeClass(this.dragHandleDraggingClass),this.onDragEnd.bind(this)})}onDragStart(t){let i=this.getPopoverElement();i&&(t.sourceEvent.preventDefault(),this.dragged=!0,this.dragStartState={client:yf.from(t.clientX,t.clientY),position:yf.from(Number(i.style.getPropertyValue("left").replace("px","")),Number(i.style.getPropertyValue("top").replace("px","")))})}onDragMove(t){let{dragStartState:i}=this,e=this.getPopoverElement();if(!i||!e)return;let n=yf.sub(yf.from(t.clientX,t.clientY),i.client),r=yf.add(i.position,n),a=this.ctx.domManager.getBoundingClientRect(),s={};r.x>=0&&r.x+e.offsetWidth<=a.width&&(s.x=r.x),r.y>=0&&r.y+e.offsetHeight<=a.height&&(s.y=r.y),this.updatePosition(s)}onDragEnd(){this.dragStartState=void 0}},u_=class extends tt{};y([C],u_.prototype,"icon",2);y([C],u_.prototype,"label",2);y([C],u_.prototype,"ariaLabel",2);y([C],u_.prototype,"tooltip",2);var K8=class extends Av{constructor(t){super(),this.localeManager=t}update(t){let{localeManager:i}=this;t.tooltip&&(this.elem.title=i.t(t.tooltip));let e="";if(t.icon!=null&&(e=`<span class="${wD(t.icon)} ag-charts-toolbar__icon"></span>`),t.label!=null){let n=i.t(t.label);e=`${e}<span class="ag-charts-toolbar__label">${n}</span>`}this.elem.innerHTML=e}setChecked(t){et(this.elem,"aria-checked",t)}},E5="ag-charts-toolbar__button--active",EL=class extends AD{constructor({eventsHub:t,localeManager:i},e,n){super(n),this.ariaLabelId=e,this.horizontalSpacing=10,this.verticalSpacing=10,this.events=new AG,this.hasPrefix=!1,this.buttonWidgets=[],this.updateAriaLabel=()=>this.setAriaLabel(this.localeManager.t(this.ariaLabelId)),this.eventsHub=t,this.localeManager=i,this.addClass("ag-charts-toolbar"),this.toggleClass("ag-charts-toolbar--horizontal",n==="horizontal"),this.toggleClass("ag-charts-toolbar--vertical",n==="vertical"),this.eventsHub.on("locale:change",this.updateAriaLabel),this.updateAriaLabel()}setAriaLabelId(t){this.ariaLabelId=t,this.updateAriaLabel()}addToolbarListener(t,i){return this.events.addListener(t,i)}clearButtons(){for(let t of this.buttonWidgets)t.destroy();this.buttonWidgets.splice(0)}updateButtons(t){let{buttonWidgets:i}=this;for(let[e,n]of t.entries())(this.buttonWidgets.at(e)??this.createButton(e,n)).update(n);for(let e=t.length;e<i.length;e++)this.buttonWidgets.at(e)?.destroy();this.buttonWidgets.splice(t.length),this.refreshButtonClasses()}updateButtonByIndex(t,i){this.buttonWidgets.at(t)?.update(i)}clearActiveButton(){for(let t of this.buttonWidgets)t.toggleClass(E5,!1)}toggleActiveButtonByIndex(t){if(t!==-1)for(let[i,e]of this.buttonWidgets.entries())e.toggleClass(E5,t!=null&&t===i)}toggleButtonEnabledByIndex(t,i){t!==-1&&this.buttonWidgets.at(t)?.setEnabled(i)}toggleSwitchCheckedByIndex(t,i){t!==-1&&this.buttonWidgets.at(t)?.setChecked(i)}getButtonBounds(){return this.buttonWidgets.map(t=>this.getButtonWidgetBounds(t))}setButtonHiddenByIndex(t,i){this.buttonWidgets.at(t)?.setHidden(i)}getButtonWidgetBounds(t){let i=this.getBounds(),e=t.getBounds();return new _e(e.x+i.x,e.y+i.y,e.width,e.height)}refreshButtonClasses(){let{buttonWidgets:t,hasPrefix:i}=this,e,n,r;for(let[a,s]of t.entries())e=!i&&a===0||r!=s.section,n=a===t.length-1||s.section!=t.at(a+1)?.section,s.toggleClass("ag-charts-toolbar__button--first",e),s.toggleClass("ag-charts-toolbar__button--last",n),s.toggleClass("ag-charts-toolbar__button--gap",a>0&&e),r=s.section}createButton(t,i){let e=this.createButtonWidget();return e.addClass("ag-charts-toolbar__button"),e.addListener("click",n=>{let r=f({index:t},i instanceof tt?i.toJson():i),a=this.getButtonWidgetBounds(e);this.events.dispatch("button-pressed",{event:n,button:r,buttonBounds:a})}),e.addListener("focus",()=>{this.events.dispatch("button-focused",{button:{index:t}})}),i.section&&(e.section=i.section),this.buttonWidgets.push(e),this.addChild(e),e}},Tbe=class extends EL{createButtonWidget(){return new K8(this.localeManager)}},Rbe=class extends Y8{constructor(t,i,e){super(t,i),this.onPopoverMoved=e,this.dragHandleDraggingClass="ag-charts-floating-toolbar__drag-handle--dragging"}show(t,i={}){this.showWithChildren(t,S(f({},i),{class:"ag-charts-floating-toolbar"}))}hide(){this.dragged=!1,super.hide()}getBounds(){let t=this.getPopoverElement();return new _e(t?.offsetLeft??0,t?.offsetTop??0,t?.offsetWidth??0,t?.offsetHeight??0)}hasBeenDragged(){return this.dragged}setAnchor(t,i,e){let n=this.getPopoverElement();if(!n)return;let r=t.position??"above",{offsetWidth:a,offsetHeight:s}=n,o=t.y-s-e,l=t.x-a/2;r==="below"?o=t.y+e:r==="right"?(o=t.y-s/2,l=t.x+i):r==="above-left"&&(l=t.x),this.updatePosition({x:l,y:o})}ignorePointerEvents(){let t=this.getPopoverElement();t&&(t.style.pointerEvents="none")}capturePointerEvents(){let t=this.getPopoverElement();t&&(t.style.pointerEvents="unset")}updatePosition(t){let i=this.getBounds(),e=this.ctx.domManager.getBoundingClientRect();t.x=Math.floor(Ae(0,t.x,e.width-i.width)),t.y=Math.floor(Ae(0,t.y,e.height-i.height)),super.updatePosition(t),this.onPopoverMoved()}},Obe=class extends EL{constructor(t,i,e){super(t,i,"horizontal"),this.hasPrefix=!0,this.popover=new Rbe(t,e,this.onPopoverMoved.bind(this)),this.dragHandle=new Lbe(t.localeManager.t("toolbarAnnotationsDragHandle")),this.popover.setDragHandle(this.dragHandle)}destroy(){super.destroy(),this.popover.destroy()}show(t={}){this.popover.show([this.dragHandle.getElement(),this.getElement()],t)}hide(){this.popover.hide()}setAnchor(t){this.popover.setAnchor(t,this.horizontalSpacing,this.verticalSpacing)}hasBeenDragged(){return this.popover.hasBeenDragged()}ignorePointerEvents(){this.popover.ignorePointerEvents()}capturePointerEvents(){this.popover.capturePointerEvents()}onPopoverMoved(){let t=this.popover.getBounds();if(this.popoverBounds?.equals(t))return;this.popoverBounds=t.clone();let i=this.getButtonBounds();this.events.dispatch("toolbar-moved",{popoverBounds:t,buttonBounds:i})}getButtonWidgetBounds(t){let i=this.popover.getBounds(),e=super.getButtonWidgetBounds(t),n=this.dragHandle.getBounds();return new _e(e.x+i.x-n.width,e.y+i.y,e.width,e.height)}},Lbe=class extends Af{constructor(t){super(Ne("div","ag-charts-floating-toolbar__drag-handle"));let i=new Af(Ne("span",`${wD("drag-handle")} ag-charts-toolbar__icon`));i.setAriaHidden(!0),this.addChild(i),this.elem.title=t}},Nbe=f(f({},oW),lW),i4e={VERSION:If,_Scene:P8,_Theme:V8,_Util:B8,create:zd.create.bind(zd),createSparkline:zd.__createSparkline.bind(zd),setup:k8,isEnterprise:!1};var Pbe=(()=>{class t{chart;_nativeElement;_initialised=!1;ngZone;ngAfterViewInit(){let e=this.patchChartOptions(this.options);this.chart=this.runOutsideAngular(()=>this.createChart(e)),this._initialised=!0,this.chart.chart.waitForUpdate().then(()=>{this.onChartReady.emit(this.chart)})}ngOnChanges(e){this.runOutsideAngular(()=>{!this._initialised||!this.chart||this.chart.update(this.patchChartOptions(this.options))})}ngOnDestroy(){this._initialised&&this.chart&&(this.chart.destroy(),this.chart=void 0,this._initialised=!1)}patchChartOptions(e){let n=r=>{let a=r??{};for(let s of Object.keys(a)){let o=a[s];typeof o=="function"&&(a[s]=(...l)=>{this.runInsideAngular(()=>o(...l))})}};return n(e?.legend?.listeners),n(e?.listeners),e.series?.forEach(r=>{n(r.listeners)}),e.container?e:S(f({},e),{container:this._nativeElement})}runOutsideAngular(e){return this.ngZone?this.ngZone.runOutsideAngular(e):e()}runInsideAngular(e){return this.ngZone?this.ngZone.run(e):e()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Q({type:t,selectors:[["ng-component"]],standalone:!1,features:[_t],decls:0,vars:0,template:function(n,r){},encapsulation:2})}return t})(),q8=(()=>{class t extends Pbe{ngZone;options={};onChartReady=new ie;constructor(e,n){super(),this.ngZone=n,this._nativeElement=e.nativeElement}createChart(e){return zd.create(e)}static \u0275fac=function(n){return new(n||t)(J(ge),J(we))};static \u0275cmp=Q({type:t,selectors:[["ag-charts"]],inputs:{options:"options"},outputs:{onChartReady:"onChartReady"},features:[Ve],decls:0,vars:0,template:function(n,r){},encapsulation:2})}return t})();var Z8=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Se({type:t});static \u0275inj=De({})}return t})();YN(z3);var Q8=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=Se({type:t,bootstrap:[B3]})}static{this.\u0275inj=De({providers:[mP(),j3(),G3(),{provide:bu,useValue:"pt-PT"},MF(()=>IF(U3)),TV(()=>OV()),j4(()=>H4())],imports:[vM,F3,Nj,Uj,JE,DC,Yj,wC,Fz,kd,ET,Xz,u3,kz,O3,K3,nj,W2,_3,Z8,q8,rj,M3]})}}return t})();bM().bootstrapModule(Q8).catch(t=>console.error(t));
