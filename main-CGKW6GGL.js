import{$ as Ji,$a as bg,$b as I,$c as I_,A as Gs,Aa as GS,Ab as X,Ac as Ei,B as _a,Ba as Ye,Bb as Se,Bc as Ti,C as PS,Ca as fr,Cb as Y,Cc as Ri,D as m_,Da as g_,Db as $S,Dc as bN,E as po,Ea as KL,Eb as Ve,Ec as Ue,F as p_,Fa as WS,Fb as hN,Fc as Lr,G as jL,Ga as b_,Gb as ae,Gc as qc,H as ri,Ha as ie,Hb as YS,Hc as na,I as kt,Ia as Ce,Ib as mN,Ic as ra,J as FS,Ja as Kc,Jb as C_,Jc as vg,K as Ha,Ka as y_,Kb as w_,Kc as um,L as Bl,La as rr,Lb as KS,Lc as _g,M as $c,Ma as me,Mb as yg,Mc as yN,N as VS,Na as pu,Nb as qS,Nc as yu,O as Yi,Oa as yn,Ob as D_,Oc as vN,P as UL,Pa as jl,Pb as Yo,Pc as JS,Q as mg,Qa as qL,Qb as Ee,Qc as et,R as mu,Ra as fg,Rb as W,Rc as Gl,S as Yc,Sa as ZL,Sb as Ko,Sc as _N,T as BS,Ta as Ws,Tb as de,Tc as xN,U as HL,Ua as Ut,Ub as zn,Uc as CN,V as zS,Va as gg,Vb as pN,Vc as wN,W as f_,Wa as QL,Wb as At,Wc as J,X as GL,Xa as XL,Xb as ZS,Xc as Nr,Y as jS,Ya as fu,Yb as Ul,Yc as br,Z as lm,Za as v_,Zb as Hl,Zc as jn,_ as yi,_a as qi,_b as M,_c as $s,a as f,aa as di,ab as gu,ac as re,ad as DN,b as S,ba as WL,bb as cm,bc as vn,c as ci,ca as Ki,cb as JL,cc as _n,d as Hs,da as gt,db as eN,dc as xa,e as L,ea as zl,eb as tN,ec as Rt,f as sm,fa as Rr,fb as iN,fc as Ca,g as xt,ga as $,gb as nN,gc as fN,h as FL,ha as De,hb as rN,hc as Wa,i as nr,ia as $L,ib as aN,ic as xn,j as RS,ja as G,jb as Ga,jc as Q,k as ug,ka as US,kb as oN,kc as xe,l as oe,la as Te,lb as T,lc as ut,m as Xi,ma as _,mb as bu,mc as Ie,n as OS,na as Bn,nb as vi,nc as S_,o as VL,oa as pg,ob as gr,oc as St,p as BL,pa as fo,pb as Yt,pc as Ke,q as ea,qa as YL,qb as ee,qc as pe,r as h_,ra as ta,rb as dm,rc as fe,s as LS,sa as ia,sb as _i,sc as gN,t as NS,ta as HS,tb as sN,tc as QS,u as Vn,ua as _t,ub as lN,uc as M_,v as ke,va as ye,vb as cN,vc as ar,w as hu,wa as ve,wb as dN,wc as V,x as hg,xa as Ai,xb as __,xc as qe,y as zL,ya as Or,yb as uN,yc as Ht,z as Re,za as Dt,zb as x_,zc as XS}from"./chunk-GDHZ47AW.js";var He=new G("");var IN=null;function $a(){return IN}function eM(t){IN??=t}var xg=class{},Cg=(()=>{class t{historyGo(e){throw new Error("")}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:()=>_(kN),providedIn:"platform"})}return t})(),tM=new G(""),kN=(()=>{class t extends Cg{_location;_history;_doc=_(He);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return $a().getBaseHref(this._doc)}onPopState(e){let n=$a().getGlobalEventTarget(this._doc,"window");return n.addEventListener("popstate",e,!1),()=>n.removeEventListener("popstate",e)}onHashChange(e){let n=$a().getGlobalEventTarget(this._doc,"window");return n.addEventListener("hashchange",e,!1),()=>n.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,n,r){this._history.pushState(e,n,r)}replaceState(e,n,r){this._history.replaceState(e,n,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function k_(t,i){return t?i?t.endsWith("/")?i.startsWith("/")?t+i.slice(1):t+i:i.startsWith("/")?t+i:`${t}/${i}`:t:i}function SN(t){let i=t.search(/#|\?|$/);return t[i-1]==="/"?t.slice(0,i-1)+t.slice(i):t}function qo(t){return t&&t[0]!=="?"?`?${t}`:t}var Zo=(()=>{class t{historyGo(e){throw new Error("")}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:()=>_(E_),providedIn:"root"})}return t})(),A_=new G(""),E_=(()=>{class t extends Zo{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,n){super(),this._platformLocation=e,this._baseHref=n??this._platformLocation.getBaseHrefFromDOM()??_(He).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return k_(this._baseHref,e)}path(e=!1){let n=this._platformLocation.pathname+qo(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${n}${r}`:n}pushState(e,n,r,a){let o=this.prepareExternalUrl(r+qo(a));this._platformLocation.pushState(e,n,o)}replaceState(e,n,r,a){let o=this.prepareExternalUrl(r+qo(a));this._platformLocation.replaceState(e,n,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(n){return new(n||t)(Te(Cg),Te(A_,8))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ys=(()=>{class t{_subject=new oe;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(e){this._locationStrategy=e;let n=this._locationStrategy.getBaseHref();this._basePath=lY(SN(MN(n))),this._locationStrategy.onPopState(r=>{this._subject.next({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,n=""){return this.path()==this.normalize(e+qo(n))}normalize(e){return t.stripTrailingSlash(sY(this._basePath,MN(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,n="",r=null){this._locationStrategy.pushState(r,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+qo(n)),r)}replaceState(e,n="",r=null){this._locationStrategy.replaceState(r,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+qo(n)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(n=>{this._notifyUrlChangeListeners(n.url,n.state)}),()=>{let n=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(n,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",n){this._urlChangeListeners.forEach(r=>r(e,n))}subscribe(e,n,r){return this._subject.subscribe({next:e,error:n??void 0,complete:r??void 0})}static normalizeQueryParams=qo;static joinWithSlash=k_;static stripTrailingSlash=SN;static \u0275fac=function(n){return new(n||t)(Te(Zo))};static \u0275prov=$({token:t,factory:()=>oY(),providedIn:"root"})}return t})();function oY(){return new Ys(Te(Zo))}function sY(t,i){if(!t||!i.startsWith(t))return i;let e=i.substring(t.length);return e===""||["/",";","?","#"].includes(e[0])?e:i}function MN(t){return t.replace(/\/index.html$/,"")}function lY(t){if(new RegExp("^(https?:)?//").test(t)){let[,e]=t.split(/\/\/[^\/]+/);return e}return t}var lM=(()=>{class t extends Zo{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(e,n){super(),this._platformLocation=e,n!=null&&(this._baseHref=n)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let n=this._platformLocation.hash??"#";return n.length>0?n.substring(1):n}prepareExternalUrl(e){let n=k_(this._baseHref,e);return n.length>0?"#"+n:n}pushState(e,n,r,a){let o=this.prepareExternalUrl(r+qo(a))||this._platformLocation.pathname;this._platformLocation.pushState(e,n,o)}replaceState(e,n,r,a){let o=this.prepareExternalUrl(r+qo(a))||this._platformLocation.pathname;this._platformLocation.replaceState(e,n,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(n){return new(n||t)(Te(Cg),Te(A_,8))};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})();var cM=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(cM||{});var Pr=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(Pr||{}),ki=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(ki||{}),wa=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(wa||{}),Da={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function LN(t){return Wa(t)[xn.LocaleId]}function NN(t,i,e){let n=Wa(t),r=[n[xn.DayPeriodsFormat],n[xn.DayPeriodsStandalone]],a=go(r,i);return go(a,e)}function PN(t,i,e){let n=Wa(t),r=[n[xn.DaysFormat],n[xn.DaysStandalone]],a=go(r,i);return go(a,e)}function FN(t,i,e){let n=Wa(t),r=[n[xn.MonthsFormat],n[xn.MonthsStandalone]],a=go(r,i);return go(a,e)}function VN(t,i){let n=Wa(t)[xn.Eras];return go(n,i)}function wg(t,i){let e=Wa(t);return go(e[xn.DateFormat],i)}function Dg(t,i){let e=Wa(t);return go(e[xn.TimeFormat],i)}function Sg(t,i){let n=Wa(t)[xn.DateTimeFormat];return go(n,i)}function Ks(t,i){let e=Wa(t),n=e[xn.NumberSymbols][i];if(typeof n>"u"){if(i===Da.CurrencyDecimal)return e[xn.NumberSymbols][Da.Decimal];if(i===Da.CurrencyGroup)return e[xn.NumberSymbols][Da.Group]}return n}function BN(t,i){return Wa(t)[xn.NumberFormats][i]}function zN(t){if(!t[xn.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[xn.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function jN(t){let i=Wa(t);return zN(i),(i[xn.ExtraData][2]||[]).map(n=>typeof n=="string"?iM(n):[iM(n[0]),iM(n[1])])}function UN(t,i,e){let n=Wa(t);zN(n);let r=[n[xn.ExtraData][0],n[xn.ExtraData][1]],a=go(r,i)||[];return go(a,e)||[]}function go(t,i){for(let e=i;e>-1;e--)if(typeof t[e]<"u")return t[e];throw new Error("Locale data API: locale data undefined")}function iM(t){let[i,e]=t.split(":");return{hours:+i,minutes:+e}}var cY=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,T_={},dY=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function HN(t,i,e,n){let r=vY(t);i=Wl(e,i)||i;let o=[],s;for(;i;)if(s=dY.exec(i),s){o=o.concat(s.slice(1));let d=o.pop();if(!d)break;i=d}else{o.push(i);break}let l=r.getTimezoneOffset();n&&(l=WN(n,l),r=yY(r,n));let c="";return o.forEach(d=>{let u=gY(d);c+=u?u(r,e,l):d==="''"?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function P_(t,i,e){let n=new Date(0);return n.setFullYear(t,i,e),n.setHours(0,0,0),n}function Wl(t,i){let e=LN(t);if(T_[e]??={},T_[e][i])return T_[e][i];let n="";switch(i){case"shortDate":n=wg(t,wa.Short);break;case"mediumDate":n=wg(t,wa.Medium);break;case"longDate":n=wg(t,wa.Long);break;case"fullDate":n=wg(t,wa.Full);break;case"shortTime":n=Dg(t,wa.Short);break;case"mediumTime":n=Dg(t,wa.Medium);break;case"longTime":n=Dg(t,wa.Long);break;case"fullTime":n=Dg(t,wa.Full);break;case"short":let r=Wl(t,"shortTime"),a=Wl(t,"shortDate");n=R_(Sg(t,wa.Short),[r,a]);break;case"medium":let o=Wl(t,"mediumTime"),s=Wl(t,"mediumDate");n=R_(Sg(t,wa.Medium),[o,s]);break;case"long":let l=Wl(t,"longTime"),c=Wl(t,"longDate");n=R_(Sg(t,wa.Long),[l,c]);break;case"full":let d=Wl(t,"fullTime"),u=Wl(t,"fullDate");n=R_(Sg(t,wa.Full),[d,u]);break}return n&&(T_[e][i]=n),n}function R_(t,i){return i&&(t=t.replace(/\{([^}]+)}/g,function(e,n){return i!=null&&n in i?i[n]:e})),t}function Qo(t,i,e="-",n,r){let a="";(t<0||r&&t<=0)&&(r?t=-t+1:(t=-t,a=e));let o=String(t);for(;o.length<i;)o="0"+o;return n&&(o=o.slice(o.length-i)),a+o}function uY(t,i){return Qo(t,3).substring(0,i)}function Mn(t,i,e=0,n=!1,r=!1){return function(a,o){let s=hY(t,a);if((e>0||s>-e)&&(s+=e),t===3)s===0&&e===-12&&(s=12);else if(t===6)return uY(s,i);let l=Ks(o,Da.MinusSign);return Qo(s,i,l,n,r)}}function hY(t,i){switch(t){case 0:return i.getFullYear();case 1:return i.getMonth();case 2:return i.getDate();case 3:return i.getHours();case 4:return i.getMinutes();case 5:return i.getSeconds();case 6:return i.getMilliseconds();case 7:return i.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function Vi(t,i,e=Pr.Format,n=!1){return function(r,a){return mY(r,a,t,i,e,n)}}function mY(t,i,e,n,r,a){switch(e){case 2:return FN(i,r,n)[t.getMonth()];case 1:return PN(i,r,n)[t.getDay()];case 0:let o=t.getHours(),s=t.getMinutes();if(a){let c=jN(i),d=UN(i,r,n),u=c.findIndex(h=>{if(Array.isArray(h)){let[m,p]=h,g=o>=m.hours&&s>=m.minutes,y=o<p.hours||o===p.hours&&s<p.minutes;if(m.hours<p.hours){if(g&&y)return!0}else if(g||y)return!0}else if(h.hours===o&&h.minutes===s)return!0;return!1});if(u!==-1)return d[u]}return NN(i,r,n)[o<12?0:1];case 3:return VN(i,n)[t.getFullYear()<=0?0:1];default:let l=e;throw new Error(`unexpected translation type ${l}`)}}function O_(t){return function(i,e,n){let r=-1*n,a=Ks(e,Da.MinusSign),o=r>0?Math.floor(r/60):Math.ceil(r/60);switch(t){case 0:return(r>=0?"+":"")+Qo(o,2,a)+Qo(Math.abs(r%60),2,a);case 1:return"GMT"+(r>=0?"+":"")+Qo(o,1,a);case 2:return"GMT"+(r>=0?"+":"")+Qo(o,2,a)+":"+Qo(Math.abs(r%60),2,a);case 3:return n===0?"Z":(r>=0?"+":"")+Qo(o,2,a)+":"+Qo(Math.abs(r%60),2,a);default:throw new Error(`Unknown zone width "${t}"`)}}}var pY=0,N_=4;function fY(t){let i=P_(t,pY,1).getDay();return P_(t,0,1+(i<=N_?N_:N_+7)-i)}function GN(t){let i=t.getDay(),e=i===0?-3:N_-i;return P_(t.getFullYear(),t.getMonth(),t.getDate()+e)}function nM(t,i=!1){return function(e,n){let r;if(i){let a=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,o=e.getDate();r=1+Math.floor((o+a)/7)}else{let a=GN(e),o=fY(a.getFullYear()),s=a.getTime()-o.getTime();r=1+Math.round(s/6048e5)}return Qo(r,t,Ks(n,Da.MinusSign))}}function L_(t,i=!1){return function(e,n){let a=GN(e).getFullYear();return Qo(a,t,Ks(n,Da.MinusSign),i)}}var rM={};function gY(t){if(rM[t])return rM[t];let i;switch(t){case"G":case"GG":case"GGG":i=Vi(3,ki.Abbreviated);break;case"GGGG":i=Vi(3,ki.Wide);break;case"GGGGG":i=Vi(3,ki.Narrow);break;case"y":i=Mn(0,1,0,!1,!0);break;case"yy":i=Mn(0,2,0,!0,!0);break;case"yyy":i=Mn(0,3,0,!1,!0);break;case"yyyy":i=Mn(0,4,0,!1,!0);break;case"Y":i=L_(1);break;case"YY":i=L_(2,!0);break;case"YYY":i=L_(3);break;case"YYYY":i=L_(4);break;case"M":case"L":i=Mn(1,1,1);break;case"MM":case"LL":i=Mn(1,2,1);break;case"MMM":i=Vi(2,ki.Abbreviated);break;case"MMMM":i=Vi(2,ki.Wide);break;case"MMMMM":i=Vi(2,ki.Narrow);break;case"LLL":i=Vi(2,ki.Abbreviated,Pr.Standalone);break;case"LLLL":i=Vi(2,ki.Wide,Pr.Standalone);break;case"LLLLL":i=Vi(2,ki.Narrow,Pr.Standalone);break;case"w":i=nM(1);break;case"ww":i=nM(2);break;case"W":i=nM(1,!0);break;case"d":i=Mn(2,1);break;case"dd":i=Mn(2,2);break;case"c":case"cc":i=Mn(7,1);break;case"ccc":i=Vi(1,ki.Abbreviated,Pr.Standalone);break;case"cccc":i=Vi(1,ki.Wide,Pr.Standalone);break;case"ccccc":i=Vi(1,ki.Narrow,Pr.Standalone);break;case"cccccc":i=Vi(1,ki.Short,Pr.Standalone);break;case"E":case"EE":case"EEE":i=Vi(1,ki.Abbreviated);break;case"EEEE":i=Vi(1,ki.Wide);break;case"EEEEE":i=Vi(1,ki.Narrow);break;case"EEEEEE":i=Vi(1,ki.Short);break;case"a":case"aa":case"aaa":i=Vi(0,ki.Abbreviated);break;case"aaaa":i=Vi(0,ki.Wide);break;case"aaaaa":i=Vi(0,ki.Narrow);break;case"b":case"bb":case"bbb":i=Vi(0,ki.Abbreviated,Pr.Standalone,!0);break;case"bbbb":i=Vi(0,ki.Wide,Pr.Standalone,!0);break;case"bbbbb":i=Vi(0,ki.Narrow,Pr.Standalone,!0);break;case"B":case"BB":case"BBB":i=Vi(0,ki.Abbreviated,Pr.Format,!0);break;case"BBBB":i=Vi(0,ki.Wide,Pr.Format,!0);break;case"BBBBB":i=Vi(0,ki.Narrow,Pr.Format,!0);break;case"h":i=Mn(3,1,-12);break;case"hh":i=Mn(3,2,-12);break;case"H":i=Mn(3,1);break;case"HH":i=Mn(3,2);break;case"m":i=Mn(4,1);break;case"mm":i=Mn(4,2);break;case"s":i=Mn(5,1);break;case"ss":i=Mn(5,2);break;case"S":i=Mn(6,1);break;case"SS":i=Mn(6,2);break;case"SSS":i=Mn(6,3);break;case"Z":case"ZZ":case"ZZZ":i=O_(0);break;case"ZZZZZ":i=O_(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":i=O_(1);break;case"OOOO":case"ZZZZ":case"zzzz":i=O_(2);break;default:return null}return rM[t]=i,i}function WN(t,i){t=t.replace(/:/g,"");let e=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(e)?i:e}function bY(t,i){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+i),t}function yY(t,i,e){let r=t.getTimezoneOffset(),a=WN(i,r);return bY(t,-1*(a-r))}function vY(t){if(AN(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[r,a=1,o=1]=t.split("-").map(s=>+s);return P_(r,a-1,o)}let e=parseFloat(t);if(!isNaN(t-e))return new Date(e);let n;if(n=t.match(cY))return _Y(n)}let i=new Date(t);if(!AN(i))throw new Error(`Unable to convert "${t}" into a date`);return i}function _Y(t){let i=new Date(0),e=0,n=0,r=t[8]?i.setUTCFullYear:i.setFullYear,a=t[8]?i.setUTCHours:i.setHours;t[9]&&(e=Number(t[9]+t[10]),n=Number(t[9]+t[11])),r.call(i,Number(t[1]),Number(t[2])-1,Number(t[3]));let o=Number(t[4]||0)-e,s=Number(t[5]||0)-n,l=Number(t[6]||0),c=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return a.call(i,o,s,l,c),i}function AN(t){return t instanceof Date&&!isNaN(t.valueOf())}var xY=/^(\d+)?\.((\d+)(-(\d+))?)?$/,EN=22,F_=".",Mg="0",CY=";",wY=",",aM="#";function DY(t,i,e,n,r,a,o=!1){let s="",l=!1;if(!isFinite(t))s=Ks(e,Da.Infinity);else{let c=IY(t);o&&(c=MY(c));let d=i.minInt,u=i.minFrac,h=i.maxFrac;if(a){let x=a.match(xY);if(x===null)throw new Error(`${a} is not a valid digit info`);let w=x[1],D=x[3],k=x[5];w!=null&&(d=oM(w)),D!=null&&(u=oM(D)),k!=null?h=oM(k):D!=null&&u>h&&(h=u)}kY(c,u,h);let m=c.digits,p=c.integerLen,g=c.exponent,y=[];for(l=m.every(x=>!x);p<d;p++)m.unshift(0);for(;p<0;p++)m.unshift(0);p>0?y=m.splice(p,m.length):(y=m,m=[0]);let v=[];for(m.length>=i.lgSize&&v.unshift(m.splice(-i.lgSize,m.length).join(""));m.length>i.gSize;)v.unshift(m.splice(-i.gSize,m.length).join(""));m.length&&v.unshift(m.join("")),s=v.join(Ks(e,n)),y.length&&(s+=Ks(e,r)+y.join("")),g&&(s+=Ks(e,Da.Exponential)+"+"+g)}return t<0&&!l?s=i.negPre+s+i.negSuf:s=i.posPre+s+i.posSuf,s}function $N(t,i,e){let n=BN(i,cM.Decimal),r=SY(n,Ks(i,Da.MinusSign));return DY(t,r,i,Da.Group,Da.Decimal,e)}function SY(t,i="-"){let e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},n=t.split(CY),r=n[0],a=n[1],o=r.indexOf(F_)!==-1?r.split(F_):[r.substring(0,r.lastIndexOf(Mg)+1),r.substring(r.lastIndexOf(Mg)+1)],s=o[0],l=o[1]||"";e.posPre=s.substring(0,s.indexOf(aM));for(let d=0;d<l.length;d++){let u=l.charAt(d);u===Mg?e.minFrac=e.maxFrac=d+1:u===aM?e.maxFrac=d+1:e.posSuf+=u}let c=s.split(wY);if(e.gSize=c[1]?c[1].length:0,e.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,a){let d=r.length-e.posPre.length-e.posSuf.length,u=a.indexOf(aM);e.negPre=a.substring(0,u).replace(/'/g,""),e.negSuf=a.slice(u+d).replace(/'/g,"")}else e.negPre=i+e.posPre,e.negSuf=e.posSuf;return e}function MY(t){if(t.digits[0]===0)return t;let i=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(i===0?t.digits.push(0,0):i===1&&t.digits.push(0),t.integerLen+=2),t}function IY(t){let i=Math.abs(t)+"",e=0,n,r,a,o,s;for((r=i.indexOf(F_))>-1&&(i=i.replace(F_,"")),(a=i.search(/e/i))>0?(r<0&&(r=a),r+=+i.slice(a+1),i=i.substring(0,a)):r<0&&(r=i.length),a=0;i.charAt(a)===Mg;a++);if(a===(s=i.length))n=[0],r=1;else{for(s--;i.charAt(s)===Mg;)s--;for(r-=a,n=[],o=0;a<=s;a++,o++)n[o]=Number(i.charAt(a))}return r>EN&&(n=n.splice(0,EN-1),e=r-1,r=1),{digits:n,exponent:e,integerLen:r}}function kY(t,i,e){if(i>e)throw new Error(`The minimum number of digits after fraction (${i}) is higher than the maximum (${e}).`);let n=t.digits,r=n.length-t.integerLen,a=Math.min(Math.max(i,r),e),o=a+t.integerLen,s=n[o];if(o>0){n.splice(Math.max(t.integerLen,o));for(let u=o;u<n.length;u++)n[u]=0}else{r=Math.max(0,r),t.integerLen=1,n.length=Math.max(1,o=a+1),n[0]=0;for(let u=1;u<o;u++)n[u]=0}if(s>=5)if(o-1<0){for(let u=0;u>o;u--)n.unshift(0),t.integerLen++;n.unshift(1),t.integerLen++}else n[o-1]++;for(;r<Math.max(0,a);r++)n.push(0);let l=a!==0,c=i+t.integerLen,d=n.reduceRight(function(u,h,m,p){return h=h+u,p[m]=h<10?h:h-10,l&&(p[m]===0&&m>=c?p.pop():l=!1),h>=10?1:0},0);d&&(n.unshift(d),t.integerLen++)}function oM(t){let i=parseInt(t);if(isNaN(i))throw new Error("Invalid integer literal when parsing "+t);return i}var sM=/\s+/,TN=[],Ig=(()=>{class t{_ngEl;_renderer;initialClasses=TN;rawClass;stateMap=new Map;constructor(e,n){this._ngEl=e,this._renderer=n}set klass(e){this.initialClasses=e!=null?e.trim().split(sM):TN}set ngClass(e){this.rawClass=typeof e=="string"?e.trim().split(sM):e}ngDoCheck(){for(let n of this.initialClasses)this._updateState(n,!0);let e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(let n of e)this._updateState(n,!0);else if(e!=null)for(let n of Object.keys(e))this._updateState(n,!!e[n]);this._applyStateDiff()}_updateState(e,n){let r=this.stateMap.get(e);r!==void 0?(r.enabled!==n&&(r.changed=!0,r.enabled=n),r.touched=!0):this.stateMap.set(e,{enabled:n,changed:!0,touched:!0})}_applyStateDiff(){for(let e of this.stateMap){let n=e[0],r=e[1];r.changed?(this._toggleClass(n,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(n,!1),this.stateMap.delete(n)),r.touched=!1}}_toggleClass(e,n){e=e.trim(),e.length>0&&e.split(sM).forEach(r=>{n?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static \u0275fac=function(n){return new(n||t)(ee(me),ee(Yt))};static \u0275dir=Y({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();var V_=class{$implicit;ngForOf;index;count;constructor(i,e,n,r){this.$implicit=i,this.ngForOf=e,this.index=n,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Sa=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(e,n,r){this._viewContainer=e,this._template=n,this._differs=r}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let n=this._viewContainer;e.forEachOperation((r,a,o)=>{if(r.previousIndex==null)n.createEmbeddedView(this._template,new V_(r.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)n.remove(a===null?void 0:a);else if(a!==null){let s=n.get(a);n.move(s,o),RN(s,r)}});for(let r=0,a=n.length;r<a;r++){let s=n.get(r).context;s.index=r,s.count=a,s.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{let a=n.get(r.currentIndex);RN(a,r)})}static ngTemplateContextGuard(e,n){return!0}static \u0275fac=function(n){return new(n||t)(ee(_i),ee(vi),ee(Gl))};static \u0275dir=Y({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function RN(t,i){t.context.$implicit=i.item}var Xo=(()=>{class t{_viewContainer;_context=new B_;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(e,n){this._viewContainer=e,this._thenTemplateRef=n}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){ON(e,!1),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){ON(e,!1),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(e,n){return!0}static \u0275fac=function(n){return new(n||t)(ee(_i),ee(vi))};static \u0275dir=Y({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),B_=class{$implicit=null;ngIf=null};function ON(t,i){if(t&&!t.createEmbeddedView)throw new gt(2020,!1)}var $l=(()=>{class t{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(e,n,r){this._ngEl=e,this._differs=n,this._renderer=r}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){let e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,n){let[r,a]=e.split("."),o=r.indexOf("-")===-1?void 0:bu.DashCase;n!=null?this._renderer.setStyle(this._ngEl.nativeElement,r,a?`${n}${a}`:n,o):this._renderer.removeStyle(this._ngEl.nativeElement,r,o)}_applyChanges(e){e.forEachRemovedItem(n=>this._setStyle(n.key,null)),e.forEachAddedItem(n=>this._setStyle(n.key,n.currentValue)),e.forEachChangedItem(n=>this._setStyle(n.key,n.currentValue))}static \u0275fac=function(n){return new(n||t)(ee(me),ee(_N),ee(Yt))};static \u0275dir=Y({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return t})(),dM=(()=>{class t{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(e){this._viewContainerRef=e}ngOnChanges(e){if(this._shouldRecreateView(e)){let n=this._viewContainerRef;if(this._viewRef&&n.remove(n.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let r=this._createContextForwardProxy();this._viewRef=n.createEmbeddedView(this.ngTemplateOutlet,r,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(e){return!!e.ngTemplateOutlet||!!e.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(e,n,r)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,n,r):!1,get:(e,n,r)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,n,r)}})}static \u0275fac=function(n){return new(n||t)(ee(_i))};static \u0275dir=Y({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[_t]})}return t})();function YN(t,i){return new gt(2100,!1)}var AY="mediumDate",KN=new G(""),qN=new G(""),Yl=(()=>{class t{locale;defaultTimezone;defaultOptions;constructor(e,n,r){this.locale=e,this.defaultTimezone=n,this.defaultOptions=r}transform(e,n,r,a){if(e==null||e===""||e!==e)return null;try{let o=n??this.defaultOptions?.dateFormat??AY,s=r??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return HN(e,o,a||this.locale,s)}catch(o){throw YN(t,o.message)}}static \u0275fac=function(n){return new(n||t)(ee(yu,16),ee(KN,24),ee(qN,24))};static \u0275pipe=$S({name:"date",type:t,pure:!0})}return t})();var uM=(()=>{class t{_locale;constructor(e){this._locale=e}transform(e,n,r){if(!EY(e))return null;r||=this._locale;try{let a=TY(e);return $N(a,r,n)}catch(a){throw YN(t,a.message)}}static \u0275fac=function(n){return new(n||t)(ee(yu,16))};static \u0275pipe=$S({name:"number",type:t,pure:!0})}return t})();function EY(t){return!(t==null||t===""||t!==t)}function TY(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new Error(`${t} is not a number`);return t}var hM=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Se({type:t});static \u0275inj=De({})}return t})();function mM(t,i){i=encodeURIComponent(i);for(let e of t.split(";")){let n=e.indexOf("="),[r,a]=n==-1?[e,""]:[e.slice(0,n),e.slice(n+1)];if(r.trim()===i)return decodeURIComponent(a)}return null}var z_="browser",ZN="server";function pM(t){return t===z_}function j_(t){return t===ZN}var kg=class{};function XN(t,i,e){return fN(t,i,e)}var JN=(()=>{class t{static \u0275prov=$({token:t,providedIn:"root",factory:()=>new fM(_(He),window)})}return t})(),fM=class{document;window;offset=()=>[0,0];constructor(i,e){this.document=i,this.window=e}setOffset(i){Array.isArray(i)?this.offset=()=>i:this.offset=i}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(i){this.window.scrollTo(i[0],i[1])}scrollToAnchor(i){let e=RY(this.document,i);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(i){this.window.history.scrollRestoration=i}scrollToElement(i){let e=i.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(n-a[0],r-a[1])}};function RY(t,i){let e=t.getElementById(i)||t.getElementsByName(i)[0];if(e)return e;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),r=n.currentNode;for(;r;){let a=r.shadowRoot;if(a){let o=a.getElementById(i)||a.querySelector(`[name="${i}"]`);if(o)return o}r=n.nextNode()}}return null}var G_=new G(""),vM=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,n){this._zone=n,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,n,r,a){return this._findPluginFor(n).addEventListener(e,n,r,a)}getZone(){return this._zone}_findPluginFor(e){let n=this._eventNameToPlugin.get(e);if(n)return n;if(n=this._plugins.find(a=>a.supports(e)),!n)throw new gt(5101,!1);return this._eventNameToPlugin.set(e,n),n}static \u0275fac=function(n){return new(n||t)(Te(G_),Te(Ce))};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})(),Ag=class{_doc;constructor(i){this._doc=i}manager},U_="ng-app-id";function eP(t){for(let i of t)i.remove()}function tP(t,i){let e=i.createElement("style");return e.textContent=t,e}function OY(t,i,e,n){let r=t.head?.querySelectorAll(`style[${U_}="${i}"],link[${U_}="${i}"]`);if(r)for(let a of r)a.removeAttribute(U_),a instanceof HTMLLinkElement?n.set(a.href.slice(a.href.lastIndexOf("/")+1),{usage:0,elements:[a]}):a.textContent&&e.set(a.textContent,{usage:0,elements:[a]})}function bM(t,i){let e=i.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",t),e}var _M=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(e,n,r,a={}){this.doc=e,this.appId=n,this.nonce=r,this.isServer=j_(a),OY(e,n,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,n){for(let r of e)this.addUsage(r,this.inline,tP);n?.forEach(r=>this.addUsage(r,this.external,bM))}removeStyles(e,n){for(let r of e)this.removeUsage(r,this.inline);n?.forEach(r=>this.removeUsage(r,this.external))}addUsage(e,n,r){let a=n.get(e);a?a.usage++:n.set(e,{usage:1,elements:[...this.hosts].map(o=>this.addElement(o,r(e,this.doc)))})}removeUsage(e,n){let r=n.get(e);r&&(r.usage--,r.usage<=0&&(eP(r.elements),n.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])eP(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[n,{elements:r}]of this.inline)r.push(this.addElement(e,tP(n,this.doc)));for(let[n,{elements:r}]of this.external)r.push(this.addElement(e,bM(n,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,n){return this.nonce&&n.setAttribute("nonce",this.nonce),this.isServer&&n.setAttribute(U_,this.appId),e.appendChild(n)}static \u0275fac=function(n){return new(n||t)(Te(He),Te(fg),Te(gg,8),Te(Ws))};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})(),gM={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},xM=/%COMP%/g;var nP="%COMP%",LY=`_nghost-${nP}`,NY=`_ngcontent-${nP}`,PY=!0,FY=new G("",{providedIn:"root",factory:()=>PY});function VY(t){return NY.replace(xM,t)}function BY(t){return LY.replace(xM,t)}function rP(t,i){return i.map(e=>e.replace(xM,t))}var Rg=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,n,r,a,o,s,l,c=null,d=null){this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.removeStylesOnCompDestroy=a,this.doc=o,this.platformId=s,this.ngZone=l,this.nonce=c,this.tracingService=d,this.platformIsServer=j_(s),this.defaultRenderer=new Eg(e,o,l,this.platformIsServer,this.tracingService)}createRenderer(e,n){if(!e||!n)return this.defaultRenderer;this.platformIsServer&&n.encapsulation===bg.ShadowDom&&(n=S(f({},n),{encapsulation:bg.Emulated}));let r=this.getOrCreateRenderer(e,n);return r instanceof H_?r.applyToHost(e):r instanceof Tg&&r.applyStyles(),r}getOrCreateRenderer(e,n){let r=this.rendererByCompId,a=r.get(n.id);if(!a){let o=this.doc,s=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,u=this.platformIsServer,h=this.tracingService;switch(n.encapsulation){case bg.Emulated:a=new H_(l,c,n,this.appId,d,o,s,u,h);break;case bg.ShadowDom:return new yM(l,c,e,n,o,s,this.nonce,u,h);default:a=new Tg(l,c,n,d,o,s,u,h);break}r.set(n.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(n){return new(n||t)(Te(vM),Te(_M),Te(fg),Te(FY),Te(He),Te(Ws),Te(Ce),Te(gg),Te(XL,8))};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})(),Eg=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(i,e,n,r,a){this.eventManager=i,this.doc=e,this.ngZone=n,this.platformIsServer=r,this.tracingService=a}destroy(){}destroyNode=null;createElement(i,e){return e?this.doc.createElementNS(gM[e]||e,i):this.doc.createElement(i)}createComment(i){return this.doc.createComment(i)}createText(i){return this.doc.createTextNode(i)}appendChild(i,e){(iP(i)?i.content:i).appendChild(e)}insertBefore(i,e,n){i&&(iP(i)?i.content:i).insertBefore(e,n)}removeChild(i,e){e.remove()}selectRootElement(i,e){let n=typeof i=="string"?this.doc.querySelector(i):i;if(!n)throw new gt(-5104,!1);return e||(n.textContent=""),n}parentNode(i){return i.parentNode}nextSibling(i){return i.nextSibling}setAttribute(i,e,n,r){if(r){e=r+":"+e;let a=gM[r];a?i.setAttributeNS(a,e,n):i.setAttribute(e,n)}else i.setAttribute(e,n)}removeAttribute(i,e,n){if(n){let r=gM[n];r?i.removeAttributeNS(r,e):i.removeAttribute(`${n}:${e}`)}else i.removeAttribute(e)}addClass(i,e){i.classList.add(e)}removeClass(i,e){i.classList.remove(e)}setStyle(i,e,n,r){r&(bu.DashCase|bu.Important)?i.style.setProperty(e,n,r&bu.Important?"important":""):i.style[e]=n}removeStyle(i,e,n){n&bu.DashCase?i.style.removeProperty(e):i.style[e]=""}setProperty(i,e,n){i!=null&&(i[e]=n)}setValue(i,e){i.nodeValue=e}listen(i,e,n,r){if(typeof i=="string"&&(i=$a().getGlobalEventTarget(this.doc,i),!i))throw new gt(5102,!1);let a=this.decoratePreventDefault(n);return this.tracingService?.wrapEventListener&&(a=this.tracingService.wrapEventListener(i,e,a)),this.eventManager.addEventListener(i,e,a,r)}decoratePreventDefault(i){return e=>{if(e==="__ngUnwrap__")return i;(this.platformIsServer?this.ngZone.runGuarded(()=>i(e)):i(e))===!1&&e.preventDefault()}}};function iP(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var yM=class extends Eg{sharedStylesHost;hostEl;shadowRoot;constructor(i,e,n,r,a,o,s,l,c){super(i,a,o,l,c),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=r.styles;d=rP(r.id,d);for(let h of d){let m=document.createElement("style");s&&m.setAttribute("nonce",s),m.textContent=h,this.shadowRoot.appendChild(m)}let u=r.getExternalStyles?.();if(u)for(let h of u){let m=bM(h,a);s&&m.setAttribute("nonce",s),this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(i){return i===this.hostEl?this.shadowRoot:i}appendChild(i,e){return super.appendChild(this.nodeOrShadowRoot(i),e)}insertBefore(i,e,n){return super.insertBefore(this.nodeOrShadowRoot(i),e,n)}removeChild(i,e){return super.removeChild(null,e)}parentNode(i){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(i)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Tg=class extends Eg{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(i,e,n,r,a,o,s,l,c){super(i,a,o,s,l),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r;let d=n.styles;this.styles=c?rP(c,d):d,this.styleUrls=n.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},H_=class extends Tg{contentAttr;hostAttr;constructor(i,e,n,r,a,o,s,l,c){let d=r+"-"+n.id;super(i,e,n,a,o,s,l,c,d),this.contentAttr=VY(d),this.hostAttr=BY(d)}applyToHost(i){this.applyStyles(),this.setAttribute(i,this.hostAttr,"")}createElement(i,e){let n=super.createElement(i,e);return super.setAttribute(n,this.contentAttr,""),n}};var W_=class t extends xg{supportsDOMEvents=!0;static makeCurrent(){eM(new t)}onAndCancel(i,e,n,r){return i.addEventListener(e,n,r),()=>{i.removeEventListener(e,n,r)}}dispatchEvent(i,e){i.dispatchEvent(e)}remove(i){i.remove()}createElement(i,e){return e=e||this.getDefaultDocument(),e.createElement(i)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(i){return i.nodeType===Node.ELEMENT_NODE}isShadowRoot(i){return i instanceof DocumentFragment}getGlobalEventTarget(i,e){return e==="window"?window:e==="document"?i:e==="body"?i.body:null}getBaseHref(i){let e=zY();return e==null?null:jY(e)}resetBaseElement(){Og=null}getUserAgent(){return window.navigator.userAgent}getCookie(i){return mM(document.cookie,i)}},Og=null;function zY(){return Og=Og||document.head.querySelector("base"),Og?Og.getAttribute("href"):null}function jY(t){return new URL(t,document.baseURI).pathname}var $_=class{addToWindow(i){zl.getAngularTestability=(n,r=!0)=>{let a=i.findTestabilityInTree(n,r);if(a==null)throw new gt(5103,!1);return a},zl.getAllAngularTestabilities=()=>i.getAllTestabilities(),zl.getAllAngularRootElements=()=>i.getAllRootElements();let e=n=>{let r=zl.getAllAngularTestabilities(),a=r.length,o=function(){a--,a==0&&n()};r.forEach(s=>{s.whenStable(o)})};zl.frameworkStabilizers||(zl.frameworkStabilizers=[]),zl.frameworkStabilizers.push(e)}findTestabilityInTree(i,e,n){if(e==null)return null;let r=i.getTestability(e);return r??(n?$a().isShadowRoot(e)?this.findTestabilityInTree(i,e.host,!0):this.findTestabilityInTree(i,e.parentElement,!0):null)}},UY=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})(),oP=(()=>{class t extends Ag{constructor(e){super(e)}supports(e){return!0}addEventListener(e,n,r,a){return e.addEventListener(n,r,a),()=>this.removeEventListener(e,n,r,a)}removeEventListener(e,n,r,a){return e.removeEventListener(n,r,a)}static \u0275fac=function(n){return new(n||t)(Te(He))};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})(),aP=["alt","control","meta","shift"],HY={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},GY={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},sP=(()=>{class t extends Ag{constructor(e){super(e)}supports(e){return t.parseEventName(e)!=null}addEventListener(e,n,r,a){let o=t.parseEventName(n),s=t.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>$a().onAndCancel(e,o.domEventName,s,a))}static parseEventName(e){let n=e.toLowerCase().split("."),r=n.shift();if(n.length===0||!(r==="keydown"||r==="keyup"))return null;let a=t._normalizeKey(n.pop()),o="",s=n.indexOf("code");if(s>-1&&(n.splice(s,1),o="code."),aP.forEach(c=>{let d=n.indexOf(c);d>-1&&(n.splice(d,1),o+=c+".")}),o+=a,n.length!=0||a.length===0)return null;let l={};return l.domEventName=r,l.fullKey=o,l}static matchEventFullKeyCode(e,n){let r=HY[e.key]||e.key,a="";return n.indexOf("code.")>-1&&(r=e.code,a="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),aP.forEach(o=>{if(o!==r){let s=GY[o];s(e)&&(a+=o+".")}}),a+=r,a===n)}static eventCallback(e,n,r){return a=>{t.matchEventFullKeyCode(a,e)&&r.runGuarded(()=>n(a))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(n){return new(n||t)(Te(He))};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})();function WY(){W_.makeCurrent()}function $Y(){return new Kc}function YY(){return qL(document),document}var KY=[{provide:Ws,useValue:z_},{provide:ZL,useValue:WY,multi:!0},{provide:He,useFactory:YY}],CM=vN(xN,"browser",KY);var qY=[{provide:C_,useClass:$_},{provide:mN,useClass:w_,deps:[Ce,KS,C_]},{provide:w_,useClass:w_,deps:[Ce,KS,C_]}],ZY=[{provide:YL,useValue:"root"},{provide:Kc,useFactory:$Y},{provide:G_,useClass:oP,multi:!0,deps:[He]},{provide:G_,useClass:sP,multi:!0,deps:[He]},Rg,_M,vM,{provide:gr,useExisting:Rg},{provide:kg,useClass:UY},[]],wM=(()=>{class t{constructor(){}static \u0275fac=function(n){return new(n||t)};static \u0275mod=Se({type:t});static \u0275inj=De({providers:[...ZY,...qY],imports:[hM,CN]})}return t})();var SM=class{};var Zc=class t{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(i){i?typeof i=="string"?this.lazyInit=()=>{this.headers=new Map,i.split(`
`).forEach(e=>{let n=e.indexOf(":");if(n>0){let r=e.slice(0,n),a=e.slice(n+1).trim();this.addHeaderEntry(r,a)}})}:typeof Headers<"u"&&i instanceof Headers?(this.headers=new Map,i.forEach((e,n)=>{this.addHeaderEntry(n,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(i).forEach(([e,n])=>{this.setHeaderEntries(e,n)})}:this.headers=new Map}has(i){return this.init(),this.headers.has(i.toLowerCase())}get(i){this.init();let e=this.headers.get(i.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(i){return this.init(),this.headers.get(i.toLowerCase())||null}append(i,e){return this.clone({name:i,value:e,op:"a"})}set(i,e){return this.clone({name:i,value:e,op:"s"})}delete(i,e){return this.clone({name:i,value:e,op:"d"})}maybeSetNormalizedName(i,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,i)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(i=>this.applyUpdate(i)),this.lazyUpdate=null))}copyFrom(i){i.init(),Array.from(i.headers.keys()).forEach(e=>{this.headers.set(e,i.headers.get(e)),this.normalizedNames.set(e,i.normalizedNames.get(e))})}clone(i){let e=new t;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([i]),e}applyUpdate(i){let e=i.name.toLowerCase();switch(i.op){case"a":case"s":let n=i.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(i.name,e);let r=(i.op==="a"?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":let a=i.value;if(!a)this.headers.delete(e),this.normalizedNames.delete(e);else{let o=this.headers.get(e);if(!o)return;o=o.filter(s=>a.indexOf(s)===-1),o.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}break}}addHeaderEntry(i,e){let n=i.toLowerCase();this.maybeSetNormalizedName(i,n),this.headers.has(n)?this.headers.get(n).push(e):this.headers.set(n,[e])}setHeaderEntries(i,e){let n=(Array.isArray(e)?e:[e]).map(a=>a.toString()),r=i.toLowerCase();this.headers.set(r,n),this.maybeSetNormalizedName(i,r)}forEach(i){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>i(this.normalizedNames.get(e),this.headers.get(e)))}};var MM=class{encodeKey(i){return lP(i)}encodeValue(i){return lP(i)}decodeKey(i){return decodeURIComponent(i)}decodeValue(i){return decodeURIComponent(i)}};function QY(t,i){let e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{let a=r.indexOf("="),[o,s]=a==-1?[i.decodeKey(r),""]:[i.decodeKey(r.slice(0,a)),i.decodeValue(r.slice(a+1))],l=e.get(o)||[];l.push(s),e.set(o,l)}),e}var XY=/%(\d[a-f0-9])/gi,JY={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function lP(t){return encodeURIComponent(t).replace(XY,(i,e)=>JY[e]??i)}function Y_(t){return`${t}`}var Kl=class t{map;encoder;updates=null;cloneFrom=null;constructor(i={}){if(this.encoder=i.encoder||new MM,i.fromString){if(i.fromObject)throw new gt(2805,!1);this.map=QY(i.fromString,this.encoder)}else i.fromObject?(this.map=new Map,Object.keys(i.fromObject).forEach(e=>{let n=i.fromObject[e],r=Array.isArray(n)?n.map(Y_):[Y_(n)];this.map.set(e,r)})):this.map=null}has(i){return this.init(),this.map.has(i)}get(i){this.init();let e=this.map.get(i);return e?e[0]:null}getAll(i){return this.init(),this.map.get(i)||null}keys(){return this.init(),Array.from(this.map.keys())}append(i,e){return this.clone({param:i,value:e,op:"a"})}appendAll(i){let e=[];return Object.keys(i).forEach(n=>{let r=i[n];Array.isArray(r)?r.forEach(a=>{e.push({param:n,value:a,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}set(i,e){return this.clone({param:i,value:e,op:"s"})}delete(i,e){return this.clone({param:i,value:e,op:"d"})}toString(){return this.init(),this.keys().map(i=>{let e=this.encoder.encodeKey(i);return this.map.get(i).map(n=>e+"="+this.encoder.encodeValue(n)).join("&")}).filter(i=>i!=="").join("&")}clone(i){let e=new t({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(i),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(i=>this.map.set(i,this.cloneFrom.map.get(i))),this.updates.forEach(i=>{switch(i.op){case"a":case"s":let e=(i.op==="a"?this.map.get(i.param):void 0)||[];e.push(Y_(i.value)),this.map.set(i.param,e);break;case"d":if(i.value!==void 0){let n=this.map.get(i.param)||[],r=n.indexOf(Y_(i.value));r!==-1&&n.splice(r,1),n.length>0?this.map.set(i.param,n):this.map.delete(i.param)}else{this.map.delete(i.param);break}}}),this.cloneFrom=this.updates=null)}};var IM=class{map=new Map;set(i,e){return this.map.set(i,e),this}get(i){return this.map.has(i)||this.map.set(i,i.defaultValue()),this.map.get(i)}delete(i){return this.map.delete(i),this}has(i){return this.map.has(i)}keys(){return this.map.keys()}};function e9(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function cP(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function dP(t){return typeof Blob<"u"&&t instanceof Blob}function uP(t){return typeof FormData<"u"&&t instanceof FormData}function t9(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var i9="X-Request-URL",hP="text/plain",mP="application/json",U_e=`${mP}, ${hP}, */*`,hm=class t{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(i,e,n,r){this.url=e,this.method=i.toUpperCase();let a;if(e9(this.method)||r?(this.body=n!==void 0?n:null,a=r):a=n,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params),this.transferCache=a.transferCache),this.headers??=new Zc,this.context??=new IM,!this.params)this.params=new Kl,this.urlWithParams=e;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=e;else{let s=e.indexOf("?"),l=s===-1?"?":s<e.length-1?"&":"";this.urlWithParams=e+l+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||cP(this.body)||dP(this.body)||uP(this.body)||t9(this.body)?this.body:this.body instanceof Kl?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||uP(this.body)?null:dP(this.body)?this.body.type||null:cP(this.body)?null:typeof this.body=="string"?hP:this.body instanceof Kl?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?mP:null}clone(i={}){let e=i.method||this.method,n=i.url||this.url,r=i.responseType||this.responseType,a=i.transferCache??this.transferCache,o=i.body!==void 0?i.body:this.body,s=i.withCredentials??this.withCredentials,l=i.reportProgress??this.reportProgress,c=i.headers||this.headers,d=i.params||this.params,u=i.context??this.context;return i.setHeaders!==void 0&&(c=Object.keys(i.setHeaders).reduce((h,m)=>h.set(m,i.setHeaders[m]),c)),i.setParams&&(d=Object.keys(i.setParams).reduce((h,m)=>h.set(m,i.setParams[m]),d)),new t(e,n,o,{params:d,headers:c,context:u,reportProgress:l,responseType:r,withCredentials:s,transferCache:a})}},AM=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(AM||{}),kM=class{headers;status;statusText;url;ok;type;constructor(i,e=200,n="OK"){this.headers=i.headers||new Zc,this.status=i.status!==void 0?i.status:e,this.statusText=i.statusText||n,this.url=i.url||null,this.ok=this.status>=200&&this.status<300}};var mm=class t extends kM{body;constructor(i={}){super(i),this.body=i.body!==void 0?i.body:null}type=AM.Response;clone(i={}){return new t({body:i.body!==void 0?i.body:this.body,headers:i.headers||this.headers,status:i.status!==void 0?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}};function DM(t,i){return{body:i,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var EM=(()=>{class t{handler;constructor(e){this.handler=e}request(e,n,r={}){let a;if(e instanceof hm)a=e;else{let l;r.headers instanceof Zc?l=r.headers:l=new Zc(r.headers);let c;r.params&&(r.params instanceof Kl?c=r.params:c=new Kl({fromObject:r.params})),a=new hm(e,n,r.body!==void 0?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let o=ke(a).pipe(Bl(l=>this.handler.handle(l)));if(e instanceof hm||r.observe==="events")return o;let s=o.pipe(kt(l=>l instanceof mm));switch(r.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return s.pipe(Re(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new gt(2806,!1);return l.body}));case"blob":return s.pipe(Re(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new gt(2807,!1);return l.body}));case"text":return s.pipe(Re(l=>{if(l.body!==null&&typeof l.body!="string")throw new gt(2808,!1);return l.body}));case"json":default:return s.pipe(Re(l=>l.body))}case"response":return s;default:throw new gt(2809,!1)}}delete(e,n={}){return this.request("DELETE",e,n)}get(e,n={}){return this.request("GET",e,n)}head(e,n={}){return this.request("HEAD",e,n)}jsonp(e,n){return this.request("JSONP",e,{params:new Kl().append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,n={}){return this.request("OPTIONS",e,n)}patch(e,n,r={}){return this.request("PATCH",e,DM(r,n))}post(e,n,r={}){return this.request("POST",e,DM(r,n))}put(e,n,r={}){return this.request("PUT",e,DM(r,n))}static \u0275fac=function(n){return new(n||t)(Te(SM))};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})();var pP=new G("");var H_e=RegExp(`^${i9}:`,"m");var n9=new G(""),r9="b",a9="h",o9="s",s9="st",l9="u",c9="rt",TM=new G(""),d9=["GET","HEAD"];function u9(t,i){let h=_(TM),{isCacheActive:e}=h,n=ci(h,["isCacheActive"]),{transferCache:r,method:a}=t;if(!e||r===!1||a==="POST"&&!n.includePostRequests&&!r||a!=="POST"&&!d9.includes(a)||!n.includeRequestsWithAuthHeaders&&h9(t)||n.filter?.(t)===!1)return i(t);let o=_(QL);if(_(n9,{optional:!0}))throw new gt(2803,!1);let l=t.url,c=m9(t,l),d=o.get(c,null),u=n.includeHeaders;if(typeof r=="object"&&r.includeHeaders&&(u=r.includeHeaders),d){let{[r9]:m,[c9]:p,[a9]:g,[o9]:y,[s9]:v,[l9]:x}=d,w=m;switch(p){case"arraybuffer":w=new TextEncoder().encode(m).buffer;break;case"blob":w=new Blob([m]);break}let D=new Zc(g);return ke(new mm({body:w,headers:D,status:y,statusText:v,url:x}))}return i(t).pipe(Ki(m=>{m instanceof mm}))}function h9(t){return t.headers.has("authorization")||t.headers.has("proxy-authorization")}function fP(t){return[...t.keys()].sort().map(i=>`${i}=${t.getAll(i)}`).join("&")}function m9(t,i){let{params:e,method:n,responseType:r}=t,a=fP(e),o=t.serializeBody();o instanceof URLSearchParams?o=fP(o):typeof o!="string"&&(o="");let s=[n,r,i,o,a].join("|"),l=p9(s);return l}function p9(t){let i=0;for(let e of t)i=Math.imul(31,i)+e.charCodeAt(0)<<0;return i+=2147483648,i.toString()}function gP(t){return[{provide:TM,useFactory:()=>(fu("NgHttpTransferCache"),f({isCacheActive:!0},t))},{provide:pP,useValue:u9,multi:!0},{provide:D_,multi:!0,useFactory:()=>{let i=_(Yo),e=_(TM);return()=>{i.whenStable().then(()=>{e.isCacheActive=!1})}}}]}var bP=(()=>{class t{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(n){return new(n||t)(Te(He))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var OM=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:function(n){let r=null;return n?r=new(n||t):r=Te(b9),r},providedIn:"root"})}return t})(),b9=(()=>{class t extends OM{_doc;constructor(e){super(),this._doc=e}sanitize(e,n){if(n==null)return null;switch(e){case Ga.NONE:return n;case Ga.HTML:return cm(n,"HTML")?gu(n):aN(this._doc,String(n)).toString();case Ga.STYLE:return cm(n,"Style")?gu(n):n;case Ga.SCRIPT:if(cm(n,"Script"))return gu(n);throw new gt(5200,!1);case Ga.URL:return cm(n,"URL")?gu(n):rN(String(n));case Ga.RESOURCE_URL:if(cm(n,"ResourceURL"))return gu(n);throw new gt(5201,!1);default:throw new gt(5202,!1)}}bypassSecurityTrustHtml(e){return JL(e)}bypassSecurityTrustStyle(e){return eN(e)}bypassSecurityTrustScript(e){return tN(e)}bypassSecurityTrustUrl(e){return iN(e)}bypassSecurityTrustResourceUrl(e){return nN(e)}static \u0275fac=function(n){return new(n||t)(Te(He))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),RM=function(t){return t[t.NoHttpTransferCache=0]="NoHttpTransferCache",t[t.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",t[t.I18nSupport=2]="I18nSupport",t[t.EventReplay=3]="EventReplay",t[t.IncrementalHydration=4]="IncrementalHydration",t}(RM||{});function yP(...t){let i=[],e=new Set;for(let{\u0275providers:r,\u0275kind:a}of t)e.add(a),r.length&&i.push(r);let n=e.has(RM.HttpTransferCacheOptions);return fo([[],wN(),e.has(RM.NoHttpTransferCache)||n?[]:gP({}),i])}var Mt="primary",$g=Symbol("RouteTitle"),BM=class{params;constructor(i){this.params=i||{}}has(i){return Object.prototype.hasOwnProperty.call(this.params,i)}get(i){if(this.has(i)){let e=this.params[i];return Array.isArray(e)?e[0]:e}return null}getAll(i){if(this.has(i)){let e=this.params[i];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function xu(t){return new BM(t)}function MP(t,i,e){let n=e.path.split("/");if(n.length>t.length||e.pathMatch==="full"&&(i.hasChildren()||n.length<t.length))return null;let r={};for(let a=0;a<n.length;a++){let o=n[a],s=t[a];if(o[0]===":")r[o.substring(1)]=s;else if(o!==s.path)return null}return{consumed:t.slice(0,n.length),posParams:r}}function y9(t,i){if(t.length!==i.length)return!1;for(let e=0;e<t.length;++e)if(!Zs(t[e],i[e]))return!1;return!0}function Zs(t,i){let e=t?zM(t):void 0,n=i?zM(i):void 0;if(!e||!n||e.length!=n.length)return!1;let r;for(let a=0;a<e.length;a++)if(r=e[a],!IP(t[r],i[r]))return!1;return!0}function zM(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function IP(t,i){if(Array.isArray(t)&&Array.isArray(i)){if(t.length!==i.length)return!1;let e=[...t].sort(),n=[...i].sort();return e.every((r,a)=>n[a]===r)}else return t===i}function kP(t){return t.length>0?t[t.length-1]:null}function td(t){return hg(t)?t:yg(t)?Vn(Promise.resolve(t)):ke(t)}var v9={exact:EP,subset:TP},AP={exact:_9,subset:x9,ignored:()=>!0};function vP(t,i,e){return v9[e.paths](t.root,i.root,e.matrixParams)&&AP[e.queryParams](t.queryParams,i.queryParams)&&!(e.fragment==="exact"&&t.fragment!==i.fragment)}function _9(t,i){return Zs(t,i)}function EP(t,i,e){if(!vu(t.segments,i.segments)||!Z_(t.segments,i.segments,e)||t.numberOfChildren!==i.numberOfChildren)return!1;for(let n in i.children)if(!t.children[n]||!EP(t.children[n],i.children[n],e))return!1;return!0}function x9(t,i){return Object.keys(i).length<=Object.keys(t).length&&Object.keys(i).every(e=>IP(t[e],i[e]))}function TP(t,i,e){return RP(t,i,i.segments,e)}function RP(t,i,e,n){if(t.segments.length>e.length){let r=t.segments.slice(0,e.length);return!(!vu(r,e)||i.hasChildren()||!Z_(r,e,n))}else if(t.segments.length===e.length){if(!vu(t.segments,e)||!Z_(t.segments,e,n))return!1;for(let r in i.children)if(!t.children[r]||!TP(t.children[r],i.children[r],n))return!1;return!0}else{let r=e.slice(0,t.segments.length),a=e.slice(t.segments.length);return!vu(t.segments,r)||!Z_(t.segments,r,n)||!t.children[Mt]?!1:RP(t.children[Mt],i,a,n)}}function Z_(t,i,e){return i.every((n,r)=>AP[e](t[r].parameters,n.parameters))}var Xs=class{root;queryParams;fragment;_queryParamMap;constructor(i=new ui([],{}),e={},n=null){this.root=i,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap??=xu(this.queryParams),this._queryParamMap}toString(){return D9.serialize(this)}},ui=class{segments;children;parent=null;constructor(i,e){this.segments=i,this.children=e,Object.values(e).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Q_(this)}},Qc=class{path;parameters;_parameterMap;constructor(i,e){this.path=i,this.parameters=e}get parameterMap(){return this._parameterMap??=xu(this.parameters),this._parameterMap}toString(){return LP(this)}};function C9(t,i){return vu(t,i)&&t.every((e,n)=>Zs(e.parameters,i[n].parameters))}function vu(t,i){return t.length!==i.length?!1:t.every((e,n)=>e.path===i[n].path)}function w9(t,i){let e=[];return Object.entries(t.children).forEach(([n,r])=>{n===Mt&&(e=e.concat(i(r,n)))}),Object.entries(t.children).forEach(([n,r])=>{n!==Mt&&(e=e.concat(i(r,n)))}),e}var Cu=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:()=>new Xc,providedIn:"root"})}return t})(),Xc=class{parse(i){let e=new UM(i);return new Xs(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(i){let e=`/${Lg(i.root,!0)}`,n=I9(i.queryParams),r=typeof i.fragment=="string"?`#${S9(i.fragment)}`:"";return`${e}${n}${r}`}},D9=new Xc;function Q_(t){return t.segments.map(i=>LP(i)).join("/")}function Lg(t,i){if(!t.hasChildren())return Q_(t);if(i){let e=t.children[Mt]?Lg(t.children[Mt],!1):"",n=[];return Object.entries(t.children).forEach(([r,a])=>{r!==Mt&&n.push(`${r}:${Lg(a,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}else{let e=w9(t,(n,r)=>r===Mt?[Lg(t.children[Mt],!1)]:[`${r}:${Lg(n,!1)}`]);return Object.keys(t.children).length===1&&t.children[Mt]!=null?`${Q_(t)}/${e[0]}`:`${Q_(t)}/(${e.join("//")})`}}function OP(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function K_(t){return OP(t).replace(/%3B/gi,";")}function S9(t){return encodeURI(t)}function jM(t){return OP(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function X_(t){return decodeURIComponent(t)}function _P(t){return X_(t.replace(/\+/g,"%20"))}function LP(t){return`${jM(t.path)}${M9(t.parameters)}`}function M9(t){return Object.entries(t).map(([i,e])=>`;${jM(i)}=${jM(e)}`).join("")}function I9(t){let i=Object.entries(t).map(([e,n])=>Array.isArray(n)?n.map(r=>`${K_(e)}=${K_(r)}`).join("&"):`${K_(e)}=${K_(n)}`).filter(e=>e);return i.length?`?${i.join("&")}`:""}var k9=/^[^\/()?;#]+/;function NM(t){let i=t.match(k9);return i?i[0]:""}var A9=/^[^\/()?;=#]+/;function E9(t){let i=t.match(A9);return i?i[0]:""}var T9=/^[^=?&#]+/;function R9(t){let i=t.match(T9);return i?i[0]:""}var O9=/^[^&#]+/;function L9(t){let i=t.match(O9);return i?i[0]:""}var UM=class{url;remaining;constructor(i){this.url=i,this.remaining=i}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ui([],{}):new ui([],this.parseChildren())}parseQueryParams(){let i={};if(this.consumeOptional("?"))do this.parseQueryParam(i);while(this.consumeOptional("&"));return i}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let i=[];for(this.peekStartsWith("(")||i.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),i.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(i.length>0||Object.keys(e).length>0)&&(n[Mt]=new ui(i,e)),n}parseSegment(){let i=NM(this.remaining);if(i===""&&this.peekStartsWith(";"))throw new gt(4009,!1);return this.capture(i),new Qc(X_(i),this.parseMatrixParams())}parseMatrixParams(){let i={};for(;this.consumeOptional(";");)this.parseParam(i);return i}parseParam(i){let e=E9(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){let r=NM(this.remaining);r&&(n=r,this.capture(n))}i[X_(e)]=X_(n)}parseQueryParam(i){let e=R9(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){let o=L9(this.remaining);o&&(n=o,this.capture(n))}let r=_P(e),a=_P(n);if(i.hasOwnProperty(r)){let o=i[r];Array.isArray(o)||(o=[o],i[r]=o),o.push(a)}else i[r]=a}parseParens(i){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=NM(this.remaining),r=this.remaining[n.length];if(r!=="/"&&r!==")"&&r!==";")throw new gt(4010,!1);let a;n.indexOf(":")>-1?(a=n.slice(0,n.indexOf(":")),this.capture(a),this.capture(":")):i&&(a=Mt);let o=this.parseChildren();e[a]=Object.keys(o).length===1?o[Mt]:new ui([],o),this.consumeOptional("//")}return e}peekStartsWith(i){return this.remaining.startsWith(i)}consumeOptional(i){return this.peekStartsWith(i)?(this.remaining=this.remaining.substring(i.length),!0):!1}capture(i){if(!this.consumeOptional(i))throw new gt(4011,!1)}};function NP(t){return t.segments.length>0?new ui([],{[Mt]:t}):t}function PP(t){let i={};for(let[n,r]of Object.entries(t.children)){let a=PP(r);if(n===Mt&&a.segments.length===0&&a.hasChildren())for(let[o,s]of Object.entries(a.children))i[o]=s;else(a.segments.length>0||a.hasChildren())&&(i[n]=a)}let e=new ui(t.segments,i);return N9(e)}function N9(t){if(t.numberOfChildren===1&&t.children[Mt]){let i=t.children[Mt];return new ui(t.segments.concat(i.segments),i.children)}return t}function Jc(t){return t instanceof Xs}function FP(t,i,e=null,n=null){let r=VP(t);return BP(r,i,e,n)}function VP(t){let i;function e(a){let o={};for(let l of a.children){let c=e(l);o[l.outlet]=c}let s=new ui(a.url,o);return a===t&&(i=s),s}let n=e(t.root),r=NP(n);return i??r}function BP(t,i,e,n){let r=t;for(;r.parent;)r=r.parent;if(i.length===0)return PM(r,r,r,e,n);let a=P9(i);if(a.toRoot())return PM(r,r,new ui([],{}),e,n);let o=F9(a,r,t),s=o.processChildren?Pg(o.segmentGroup,o.index,a.commands):jP(o.segmentGroup,o.index,a.commands);return PM(r,o.segmentGroup,s,e,n)}function e0(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Vg(t){return typeof t=="object"&&t!=null&&t.outlets}function PM(t,i,e,n,r){let a={};n&&Object.entries(n).forEach(([l,c])=>{a[l]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`});let o;t===i?o=e:o=zP(t,i,e);let s=NP(PP(o));return new Xs(s,a,r)}function zP(t,i,e){let n={};return Object.entries(t.children).forEach(([r,a])=>{a===i?n[r]=e:n[r]=zP(a,i,e)}),new ui(t.segments,n)}var t0=class{isAbsolute;numberOfDoubleDots;commands;constructor(i,e,n){if(this.isAbsolute=i,this.numberOfDoubleDots=e,this.commands=n,i&&n.length>0&&e0(n[0]))throw new gt(4003,!1);let r=n.find(Vg);if(r&&r!==kP(n))throw new gt(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function P9(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new t0(!0,0,t);let i=0,e=!1,n=t.reduce((r,a,o)=>{if(typeof a=="object"&&a!=null){if(a.outlets){let s={};return Object.entries(a.outlets).forEach(([l,c])=>{s[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:s}]}if(a.segmentPath)return[...r,a.segmentPath]}return typeof a!="string"?[...r,a]:o===0?(a.split("/").forEach((s,l)=>{l==0&&s==="."||(l==0&&s===""?e=!0:s===".."?i++:s!=""&&r.push(s))}),r):[...r,a]},[]);return new t0(e,i,n)}var gm=class{segmentGroup;processChildren;index;constructor(i,e,n){this.segmentGroup=i,this.processChildren=e,this.index=n}};function F9(t,i,e){if(t.isAbsolute)return new gm(i,!0,0);if(!e)return new gm(i,!1,NaN);if(e.parent===null)return new gm(e,!0,0);let n=e0(t.commands[0])?0:1,r=e.segments.length-1+n;return V9(e,r,t.numberOfDoubleDots)}function V9(t,i,e){let n=t,r=i,a=e;for(;a>r;){if(a-=r,n=n.parent,!n)throw new gt(4005,!1);r=n.segments.length}return new gm(n,!1,r-a)}function B9(t){return Vg(t[0])?t[0].outlets:{[Mt]:t}}function jP(t,i,e){if(t??=new ui([],{}),t.segments.length===0&&t.hasChildren())return Pg(t,i,e);let n=z9(t,i,e),r=e.slice(n.commandIndex);if(n.match&&n.pathIndex<t.segments.length){let a=new ui(t.segments.slice(0,n.pathIndex),{});return a.children[Mt]=new ui(t.segments.slice(n.pathIndex),t.children),Pg(a,0,r)}else return n.match&&r.length===0?new ui(t.segments,{}):n.match&&!t.hasChildren()?HM(t,i,e):n.match?Pg(t,0,r):HM(t,i,e)}function Pg(t,i,e){if(e.length===0)return new ui(t.segments,{});{let n=B9(e),r={};if(Object.keys(n).some(a=>a!==Mt)&&t.children[Mt]&&t.numberOfChildren===1&&t.children[Mt].segments.length===0){let a=Pg(t.children[Mt],i,e);return new ui(t.segments,a.children)}return Object.entries(n).forEach(([a,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(r[a]=jP(t.children[a],i,o))}),Object.entries(t.children).forEach(([a,o])=>{n[a]===void 0&&(r[a]=o)}),new ui(t.segments,r)}}function z9(t,i,e){let n=0,r=i,a={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(n>=e.length)return a;let o=t.segments[r],s=e[n];if(Vg(s))break;let l=`${s}`,c=n<e.length-1?e[n+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!CP(l,c,o))return a;n+=2}else{if(!CP(l,{},o))return a;n++}r++}return{match:!0,pathIndex:r,commandIndex:n}}function HM(t,i,e){let n=t.segments.slice(0,i),r=0;for(;r<e.length;){let a=e[r];if(Vg(a)){let l=j9(a.outlets);return new ui(n,l)}if(r===0&&e0(e[0])){let l=t.segments[i];n.push(new Qc(l.path,xP(e[0]))),r++;continue}let o=Vg(a)?a.outlets[Mt]:`${a}`,s=r<e.length-1?e[r+1]:null;o&&s&&e0(s)?(n.push(new Qc(o,xP(s))),r+=2):(n.push(new Qc(o,{})),r++)}return new ui(n,{})}function j9(t){let i={};return Object.entries(t).forEach(([e,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(i[e]=HM(new ui([],{}),0,n))}),i}function xP(t){let i={};return Object.entries(t).forEach(([e,n])=>i[e]=`${n}`),i}function CP(t,i,e){return t==e.path&&Zs(i,e.parameters)}var J_="imperative",Un=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Un||{}),Ka=class{id;url;constructor(i,e){this.id=i,this.url=e}},ed=class extends Ka{type=Un.NavigationStart;navigationTrigger;restoredState;constructor(i,e,n="imperative",r=null){super(i,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},bo=class extends Ka{urlAfterRedirects;type=Un.NavigationEnd;constructor(i,e,n){super(i,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ma=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Ma||{}),ym=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(ym||{}),Qs=class extends Ka{reason;code;type=Un.NavigationCancel;constructor(i,e,n,r){super(i,e),this.reason=n,this.code=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Js=class extends Ka{reason;code;type=Un.NavigationSkipped;constructor(i,e,n,r){super(i,e),this.reason=n,this.code=r}},vm=class extends Ka{error;target;type=Un.NavigationError;constructor(i,e,n,r){super(i,e),this.error=n,this.target=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Bg=class extends Ka{urlAfterRedirects;state;type=Un.RoutesRecognized;constructor(i,e,n,r){super(i,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},i0=class extends Ka{urlAfterRedirects;state;type=Un.GuardsCheckStart;constructor(i,e,n,r){super(i,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},n0=class extends Ka{urlAfterRedirects;state;shouldActivate;type=Un.GuardsCheckEnd;constructor(i,e,n,r,a){super(i,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=a}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},r0=class extends Ka{urlAfterRedirects;state;type=Un.ResolveStart;constructor(i,e,n,r){super(i,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},a0=class extends Ka{urlAfterRedirects;state;type=Un.ResolveEnd;constructor(i,e,n,r){super(i,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},o0=class{route;type=Un.RouteConfigLoadStart;constructor(i){this.route=i}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},s0=class{route;type=Un.RouteConfigLoadEnd;constructor(i){this.route=i}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},l0=class{snapshot;type=Un.ChildActivationStart;constructor(i){this.snapshot=i}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},c0=class{snapshot;type=Un.ChildActivationEnd;constructor(i){this.snapshot=i}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},d0=class{snapshot;type=Un.ActivationStart;constructor(i){this.snapshot=i}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},u0=class{snapshot;type=Un.ActivationEnd;constructor(i){this.snapshot=i}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},_m=class{routerEvent;position;anchor;type=Un.Scroll;constructor(i,e,n){this.routerEvent=i,this.position=e,this.anchor=n}toString(){let i=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${i}')`}},zg=class{},xm=class{url;navigationBehaviorOptions;constructor(i,e){this.url=i,this.navigationBehaviorOptions=e}};function U9(t,i){return t.providers&&!t._injector&&(t._injector=x_(t.providers,i,`Route: ${t.path}`)),t._injector??i}function Jo(t){return t.outlet||Mt}function H9(t,i){let e=t.filter(n=>Jo(n)===i);return e.push(...t.filter(n=>Jo(n)!==i)),e}function Yg(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let i=t.parent;i;i=i.parent){let e=i.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var h0=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Yg(this.route?.snapshot)??this.rootInjector}constructor(i){this.rootInjector=i,this.children=new wu(this.rootInjector)}},wu=(()=>{class t{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,n){let r=this.getOrCreateContext(e);r.outlet=n,this.contexts.set(e,r)}onChildOutletDestroyed(e){let n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new h0(this.rootInjector),this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(n){return new(n||t)(Te(ta))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),m0=class{_root;constructor(i){this._root=i}get root(){return this._root.value}parent(i){let e=this.pathFromRoot(i);return e.length>1?e[e.length-2]:null}children(i){let e=GM(i,this._root);return e?e.children.map(n=>n.value):[]}firstChild(i){let e=GM(i,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(i){let e=WM(i,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==i)}pathFromRoot(i){return WM(i,this._root).map(e=>e.value)}};function GM(t,i){if(t===i.value)return i;for(let e of i.children){let n=GM(t,e);if(n)return n}return null}function WM(t,i){if(t===i.value)return[i];for(let e of i.children){let n=WM(t,e);if(n.length)return n.unshift(i),n}return[]}var Ya=class{value;children;constructor(i,e){this.value=i,this.children=e}toString(){return`TreeNode(${this.value})`}};function fm(t){let i={};return t&&t.children.forEach(e=>i[e.value.outlet]=e),i}var jg=class extends m0{snapshot;constructor(i,e){super(i),this.snapshot=e,JM(this,i)}toString(){return this.snapshot.toString()}};function UP(t){let i=G9(t),e=new Xi([new Qc("",{})]),n=new Xi({}),r=new Xi({}),a=new Xi({}),o=new Xi(""),s=new es(e,n,a,o,r,Mt,t,i.root);return s.snapshot=i.root,new jg(new Ya(s,[]),i)}function G9(t){let i={},e={},n={},r="",a=new _u([],i,n,r,e,Mt,t,null,{});return new Ug("",new Ya(a,[]))}var es=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(i,e,n,r,a,o,s,l){this.urlSubject=i,this.paramsSubject=e,this.queryParamsSubject=n,this.fragmentSubject=r,this.dataSubject=a,this.outlet=o,this.component=s,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Re(c=>c[$g]))??ke(void 0),this.url=i,this.params=e,this.queryParams=n,this.fragment=r,this.data=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Re(i=>xu(i))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Re(i=>xu(i))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function p0(t,i,e="emptyOnly"){let n,{routeConfig:r}=t;return i!==null&&(e==="always"||r?.path===""||!i.component&&!i.routeConfig?.loadComponent)?n={params:f(f({},i.params),t.params),data:f(f({},i.data),t.data),resolve:f(f(f(f({},t.data),i.data),r?.data),t._resolvedData)}:n={params:f({},t.params),data:f({},t.data),resolve:f(f({},t.data),t._resolvedData??{})},r&&GP(r)&&(n.resolve[$g]=r.title),n}var _u=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[$g]}constructor(i,e,n,r,a,o,s,l,c){this.url=i,this.params=e,this.queryParams=n,this.fragment=r,this.data=a,this.outlet=o,this.component=s,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=xu(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=xu(this.queryParams),this._queryParamMap}toString(){let i=this.url.map(n=>n.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${i}', path:'${e}')`}},Ug=class extends m0{url;constructor(i,e){super(e),this.url=i,JM(this,e)}toString(){return HP(this._root)}};function JM(t,i){i.value._routerState=t,i.children.forEach(e=>JM(t,e))}function HP(t){let i=t.children.length>0?` { ${t.children.map(HP).join(", ")} } `:"";return`${t.value}${i}`}function FM(t){if(t.snapshot){let i=t.snapshot,e=t._futureSnapshot;t.snapshot=e,Zs(i.queryParams,e.queryParams)||t.queryParamsSubject.next(e.queryParams),i.fragment!==e.fragment&&t.fragmentSubject.next(e.fragment),Zs(i.params,e.params)||t.paramsSubject.next(e.params),y9(i.url,e.url)||t.urlSubject.next(e.url),Zs(i.data,e.data)||t.dataSubject.next(e.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function $M(t,i){let e=Zs(t.params,i.params)&&C9(t.url,i.url),n=!t.parent!=!i.parent;return e&&!n&&(!t.parent||$M(t.parent,i.parent))}function GP(t){return typeof t.title=="string"||t.title===null}var WP=new G(""),Kg=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Mt;activateEvents=new ie;deactivateEvents=new ie;attachEvents=new ie;detachEvents=new ie;routerOutletData=rr(void 0);parentContexts=_(wu);location=_(_i);changeDetector=_(et);inputBinder=_(qg,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:n,previousValue:r}=e.name;if(n)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new gt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new gt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new gt(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,n){this.activated=e,this._activatedRoute=n,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,n){if(this.isActivated)throw new gt(4013,!1);this._activatedRoute=e;let r=this.location,o=e.snapshot.component,s=this.parentContexts.getOrCreateContext(this.name).children,l=new YM(e,s,r.injector,this.routerOutletData);this.activated=r.createComponent(o,{index:r.length,injector:l,environmentInjector:n}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[_t]})}return t})(),YM=class{route;childContexts;parent;outletData;constructor(i,e,n,r){this.route=i,this.childContexts=e,this.parent=n,this.outletData=r}get(i,e){return i===es?this.route:i===wu?this.childContexts:i===WP?this.outletData:this.parent.get(i,e)}},qg=new G(""),eI=(()=>{class t{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:n}=e,r=Gs([n.queryParams,n.params,n.data]).pipe(Ji(([a,o,s],l)=>(s=f(f(f({},a),o),s),l===0?ke(s):Promise.resolve(s)))).subscribe(a=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==n||n.component===null){this.unsubscribeFromRouteData(e);return}let o=DN(n.component);if(!o){this.unsubscribeFromRouteData(e);return}for(let{templateName:s}of o.inputs)e.activatedComponentRef.setInput(s,a[s])});this.outletDataSubscriptions.set(e,r)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})(),tI=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=X({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(n,r){n&1&&re(0,"router-outlet")},dependencies:[Kg],encapsulation:2})}return t})();function iI(t){let i=t.children&&t.children.map(iI),e=i?S(f({},t),{children:i}):f({},t);return!e.component&&!e.loadComponent&&(i||e.loadChildren)&&e.outlet&&e.outlet!==Mt&&(e.component=tI),e}function W9(t,i,e){let n=Hg(t,i._root,e?e._root:void 0);return new jg(n,i)}function Hg(t,i,e){if(e&&t.shouldReuseRoute(i.value,e.value.snapshot)){let n=e.value;n._futureSnapshot=i.value;let r=$9(t,i,e);return new Ya(n,r)}else{if(t.shouldAttach(i.value)){let a=t.retrieve(i.value);if(a!==null){let o=a.route;return o.value._futureSnapshot=i.value,o.children=i.children.map(s=>Hg(t,s)),o}}let n=Y9(i.value),r=i.children.map(a=>Hg(t,a));return new Ya(n,r)}}function $9(t,i,e){return i.children.map(n=>{for(let r of e.children)if(t.shouldReuseRoute(n.value,r.value.snapshot))return Hg(t,n,r);return Hg(t,n)})}function Y9(t){return new es(new Xi(t.url),new Xi(t.params),new Xi(t.queryParams),new Xi(t.fragment),new Xi(t.data),t.outlet,t.component,t)}var Cm=class{redirectTo;navigationBehaviorOptions;constructor(i,e){this.redirectTo=i,this.navigationBehaviorOptions=e}},$P="ngNavigationCancelingError";function f0(t,i){let{redirectTo:e,navigationBehaviorOptions:n}=Jc(i)?{redirectTo:i,navigationBehaviorOptions:void 0}:i,r=YP(!1,Ma.Redirect);return r.url=e,r.navigationBehaviorOptions=n,r}function YP(t,i){let e=new Error(`NavigationCancelingError: ${t||""}`);return e[$P]=!0,e.cancellationCode=i,e}function K9(t){return KP(t)&&Jc(t.url)}function KP(t){return!!t&&t[$P]}var q9=(t,i,e,n)=>Re(r=>(new KM(i,r.targetRouterState,r.currentRouterState,e,n).activate(t),r)),KM=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(i,e,n,r,a){this.routeReuseStrategy=i,this.futureState=e,this.currState=n,this.forwardEvent=r,this.inputBindingEnabled=a}activate(i){let e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,i),FM(this.futureState.root),this.activateChildRoutes(e,n,i)}deactivateChildRoutes(i,e,n){let r=fm(e);i.children.forEach(a=>{let o=a.value.outlet;this.deactivateRoutes(a,r[o],n),delete r[o]}),Object.values(r).forEach(a=>{this.deactivateRouteAndItsChildren(a,n)})}deactivateRoutes(i,e,n){let r=i.value,a=e?e.value:null;if(r===a)if(r.component){let o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(i,e,o.children)}else this.deactivateChildRoutes(i,e,n);else a&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(i,e){i.value.component&&this.routeReuseStrategy.shouldDetach(i.value.snapshot)?this.detachAndStoreRouteSubtree(i,e):this.deactivateRouteAndOutlet(i,e)}detachAndStoreRouteSubtree(i,e){let n=e.getContext(i.value.outlet),r=n&&i.value.component?n.children:e,a=fm(i);for(let o of Object.values(a))this.deactivateRouteAndItsChildren(o,r);if(n&&n.outlet){let o=n.outlet.detach(),s=n.children.onOutletDeactivated();this.routeReuseStrategy.store(i.value.snapshot,{componentRef:o,route:i,contexts:s})}}deactivateRouteAndOutlet(i,e){let n=e.getContext(i.value.outlet),r=n&&i.value.component?n.children:e,a=fm(i);for(let o of Object.values(a))this.deactivateRouteAndItsChildren(o,r);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(i,e,n){let r=fm(e);i.children.forEach(a=>{this.activateRoutes(a,r[a.value.outlet],n),this.forwardEvent(new u0(a.value.snapshot))}),i.children.length&&this.forwardEvent(new c0(i.value.snapshot))}activateRoutes(i,e,n){let r=i.value,a=e?e.value:null;if(FM(r),r===a)if(r.component){let o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(i,e,o.children)}else this.activateChildRoutes(i,e,n);else if(r.component){let o=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(s.contexts),o.attachRef=s.componentRef,o.route=s.route.value,o.outlet&&o.outlet.attach(s.componentRef,s.route.value),FM(s.route.value),this.activateChildRoutes(i,null,o.children)}else o.attachRef=null,o.route=r,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(i,null,o.children)}else this.activateChildRoutes(i,null,n)}},g0=class{path;route;constructor(i){this.path=i,this.route=this.path[this.path.length-1]}},bm=class{component;route;constructor(i,e){this.component=i,this.route=e}};function Z9(t,i,e){let n=t._root,r=i?i._root:null;return Ng(n,r,e,[n.value])}function Q9(t){let i=t.routeConfig?t.routeConfig.canActivateChild:null;return!i||i.length===0?null:{node:t,guards:i}}function Dm(t,i){let e=Symbol(),n=i.get(t,e);return n===e?typeof t=="function"&&!$L(t)?t:i.get(t):n}function Ng(t,i,e,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let a=fm(i);return t.children.forEach(o=>{X9(o,a[o.value.outlet],e,n.concat([o.value]),r),delete a[o.value.outlet]}),Object.entries(a).forEach(([o,s])=>Fg(s,e.getContext(o),r)),r}function X9(t,i,e,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let a=t.value,o=i?i.value:null,s=e?e.getContext(t.value.outlet):null;if(o&&a.routeConfig===o.routeConfig){let l=J9(o,a,a.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new g0(n)):(a.data=o.data,a._resolvedData=o._resolvedData),a.component?Ng(t,i,s?s.children:null,n,r):Ng(t,i,e,n,r),l&&s&&s.outlet&&s.outlet.isActivated&&r.canDeactivateChecks.push(new bm(s.outlet.component,o))}else o&&Fg(i,s,r),r.canActivateChecks.push(new g0(n)),a.component?Ng(t,null,s?s.children:null,n,r):Ng(t,null,e,n,r);return r}function J9(t,i,e){if(typeof e=="function")return e(t,i);switch(e){case"pathParamsChange":return!vu(t.url,i.url);case"pathParamsOrQueryParamsChange":return!vu(t.url,i.url)||!Zs(t.queryParams,i.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!$M(t,i)||!Zs(t.queryParams,i.queryParams);case"paramsChange":default:return!$M(t,i)}}function Fg(t,i,e){let n=fm(t),r=t.value;Object.entries(n).forEach(([a,o])=>{r.component?i?Fg(o,i.children.getContext(a),e):Fg(o,null,e):Fg(o,i,e)}),r.component?i&&i.outlet&&i.outlet.isActivated?e.canDeactivateChecks.push(new bm(i.outlet.component,r)):e.canDeactivateChecks.push(new bm(null,r)):e.canDeactivateChecks.push(new bm(null,r))}function Zg(t){return typeof t=="function"}function e7(t){return typeof t=="boolean"}function t7(t){return t&&Zg(t.canLoad)}function i7(t){return t&&Zg(t.canActivate)}function n7(t){return t&&Zg(t.canActivateChild)}function r7(t){return t&&Zg(t.canDeactivate)}function a7(t){return t&&Zg(t.canMatch)}function qP(t){return t instanceof zL||t?.name==="EmptyError"}var q_=Symbol("INITIAL_VALUE");function wm(){return Ji(t=>Gs(t.map(i=>i.pipe(Yi(1),yi(q_)))).pipe(Re(i=>{for(let e of i)if(e!==!0){if(e===q_)return q_;if(e===!1||o7(e))return e}return!0}),kt(i=>i!==q_),Yi(1)))}function o7(t){return Jc(t)||t instanceof Cm}function s7(t,i){return _a(e=>{let{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:a,canDeactivateChecks:o}}=e;return o.length===0&&a.length===0?ke(S(f({},e),{guardsResult:!0})):l7(o,n,r,t).pipe(_a(s=>s&&e7(s)?c7(n,a,t,i):ke(s)),Re(s=>S(f({},e),{guardsResult:s})))})}function l7(t,i,e,n){return Vn(t).pipe(_a(r=>p7(r.component,r.route,e,i,n)),Yc(r=>r!==!0,!0))}function c7(t,i,e,n){return Vn(i).pipe(Bl(r=>m_(u7(r.route.parent,n),d7(r.route,n),m7(t,r.path,e),h7(t,r.route,e))),Yc(r=>r!==!0,!0))}function d7(t,i){return t!==null&&i&&i(new d0(t)),ke(!0)}function u7(t,i){return t!==null&&i&&i(new l0(t)),ke(!0)}function h7(t,i,e){let n=i.routeConfig?i.routeConfig.canActivate:null;if(!n||n.length===0)return ke(!0);let r=n.map(a=>po(()=>{let o=Yg(i)??e,s=Dm(a,o),l=i7(s)?s.canActivate(i,t):ia(o,()=>s(i,t));return td(l).pipe(Yc())}));return ke(r).pipe(wm())}function m7(t,i,e){let n=i[i.length-1],a=i.slice(0,i.length-1).reverse().map(o=>Q9(o)).filter(o=>o!==null).map(o=>po(()=>{let s=o.guards.map(l=>{let c=Yg(o.node)??e,d=Dm(l,c),u=n7(d)?d.canActivateChild(n,t):ia(c,()=>d(n,t));return td(u).pipe(Yc())});return ke(s).pipe(wm())}));return ke(a).pipe(wm())}function p7(t,i,e,n,r){let a=i&&i.routeConfig?i.routeConfig.canDeactivate:null;if(!a||a.length===0)return ke(!0);let o=a.map(s=>{let l=Yg(i)??r,c=Dm(s,l),d=r7(c)?c.canDeactivate(t,i,e,n):ia(l,()=>c(t,i,e,n));return td(d).pipe(Yc())});return ke(o).pipe(wm())}function f7(t,i,e,n){let r=i.canLoad;if(r===void 0||r.length===0)return ke(!0);let a=r.map(o=>{let s=Dm(o,t),l=t7(s)?s.canLoad(i,e):ia(t,()=>s(i,e));return td(l)});return ke(a).pipe(wm(),ZP(n))}function ZP(t){return FL(Ki(i=>{if(typeof i!="boolean")throw f0(t,i)}),Re(i=>i===!0))}function g7(t,i,e,n){let r=i.canMatch;if(!r||r.length===0)return ke(!0);let a=r.map(o=>{let s=Dm(o,t),l=a7(s)?s.canMatch(i,e):ia(t,()=>s(i,e));return td(l)});return ke(a).pipe(wm(),ZP(n))}var Gg=class{segmentGroup;constructor(i){this.segmentGroup=i||null}},Wg=class extends Error{urlTree;constructor(i){super(),this.urlTree=i}};function pm(t){return hu(new Gg(t))}function b7(t){return hu(new gt(4e3,!1))}function y7(t){return hu(YP(!1,Ma.GuardRejected))}var qM=class{urlSerializer;urlTree;constructor(i,e){this.urlSerializer=i,this.urlTree=e}lineralizeSegments(i,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),r.numberOfChildren===0)return ke(n);if(r.numberOfChildren>1||!r.children[Mt])return b7(`${i.redirectTo}`);r=r.children[Mt]}}applyRedirectCommands(i,e,n,r,a){if(typeof e!="string"){let s=e,{queryParams:l,fragment:c,routeConfig:d,url:u,outlet:h,params:m,data:p,title:g}=r,y=ia(a,()=>s({params:m,data:p,queryParams:l,fragment:c,routeConfig:d,url:u,outlet:h,title:g}));if(y instanceof Xs)throw new Wg(y);e=y}let o=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),i,n);if(e[0]==="/")throw new Wg(o);return o}applyRedirectCreateUrlTree(i,e,n,r){let a=this.createSegmentGroup(i,e.root,n,r);return new Xs(a,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(i,e){let n={};return Object.entries(i).forEach(([r,a])=>{if(typeof a=="string"&&a[0]===":"){let s=a.substring(1);n[r]=e[s]}else n[r]=a}),n}createSegmentGroup(i,e,n,r){let a=this.createSegments(i,e.segments,n,r),o={};return Object.entries(e.children).forEach(([s,l])=>{o[s]=this.createSegmentGroup(i,l,n,r)}),new ui(a,o)}createSegments(i,e,n,r){return e.map(a=>a.path[0]===":"?this.findPosParam(i,a,r):this.findOrReturn(a,n))}findPosParam(i,e,n){let r=n[e.path.substring(1)];if(!r)throw new gt(4001,!1);return r}findOrReturn(i,e){let n=0;for(let r of e){if(r.path===i.path)return e.splice(n),r;n++}return i}},ZM={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function v7(t,i,e,n,r){let a=QP(t,i,e);return a.matched?(n=U9(i,n),g7(n,i,e,r).pipe(Re(o=>o===!0?a:f({},ZM)))):ke(a)}function QP(t,i,e){if(i.path==="**")return _7(e);if(i.path==="")return i.pathMatch==="full"&&(t.hasChildren()||e.length>0)?f({},ZM):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let r=(i.matcher||MP)(e,t,i);if(!r)return f({},ZM);let a={};Object.entries(r.posParams??{}).forEach(([s,l])=>{a[s]=l.path});let o=r.consumed.length>0?f(f({},a),r.consumed[r.consumed.length-1].parameters):a;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function _7(t){return{matched:!0,parameters:t.length>0?kP(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function wP(t,i,e,n){return e.length>0&&w7(t,e,n)?{segmentGroup:new ui(i,C7(n,new ui(e,t.children))),slicedSegments:[]}:e.length===0&&D7(t,e,n)?{segmentGroup:new ui(t.segments,x7(t,e,n,t.children)),slicedSegments:e}:{segmentGroup:new ui(t.segments,t.children),slicedSegments:e}}function x7(t,i,e,n){let r={};for(let a of e)if(y0(t,i,a)&&!n[Jo(a)]){let o=new ui([],{});r[Jo(a)]=o}return f(f({},n),r)}function C7(t,i){let e={};e[Mt]=i;for(let n of t)if(n.path===""&&Jo(n)!==Mt){let r=new ui([],{});e[Jo(n)]=r}return e}function w7(t,i,e){return e.some(n=>y0(t,i,n)&&Jo(n)!==Mt)}function D7(t,i,e){return e.some(n=>y0(t,i,n))}function y0(t,i,e){return(t.hasChildren()||i.length>0)&&e.pathMatch==="full"?!1:e.path===""}function S7(t,i,e){return i.length===0&&!t.children[e]}var QM=class{};function M7(t,i,e,n,r,a,o="emptyOnly"){return new XM(t,i,e,n,r,o,a).recognize()}var I7=31,XM=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(i,e,n,r,a,o,s){this.injector=i,this.configLoader=e,this.rootComponentType=n,this.config=r,this.urlTree=a,this.paramsInheritanceStrategy=o,this.urlSerializer=s,this.applyRedirects=new qM(this.urlSerializer,this.urlTree)}noMatchError(i){return new gt(4002,`'${i.segmentGroup}'`)}recognize(){let i=wP(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(i).pipe(Re(({children:e,rootSnapshot:n})=>{let r=new Ya(n,e),a=new Ug("",r),o=FP(n,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,a.url=this.urlSerializer.serialize(o),{state:a,tree:o}}))}match(i){let e=new _u([],Object.freeze({}),Object.freeze(f({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Mt,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,i,Mt,e).pipe(Re(n=>({children:n,rootSnapshot:e})),Ha(n=>{if(n instanceof Wg)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof Gg?this.noMatchError(n):n}))}processSegmentGroup(i,e,n,r,a){return n.segments.length===0&&n.hasChildren()?this.processChildren(i,e,n,a):this.processSegment(i,e,n,n.segments,r,!0,a).pipe(Re(o=>o instanceof Ya?[o]:[]))}processChildren(i,e,n,r){let a=[];for(let o of Object.keys(n.children))o==="primary"?a.unshift(o):a.push(o);return Vn(a).pipe(Bl(o=>{let s=n.children[o],l=H9(e,o);return this.processSegmentGroup(i,l,s,o,r)}),f_((o,s)=>(o.push(...s),o)),VS(null),HL(),_a(o=>{if(o===null)return pm(n);let s=XP(o);return k7(s),ke(s)}))}processSegment(i,e,n,r,a,o,s){return Vn(e).pipe(Bl(l=>this.processSegmentAgainstRoute(l._injector??i,e,l,n,r,a,o,s).pipe(Ha(c=>{if(c instanceof Gg)return ke(null);throw c}))),Yc(l=>!!l),Ha(l=>{if(qP(l))return S7(n,r,a)?ke(new QM):pm(n);throw l}))}processSegmentAgainstRoute(i,e,n,r,a,o,s,l){return Jo(n)!==o&&(o===Mt||!y0(r,a,n))?pm(r):n.redirectTo===void 0?this.matchSegmentAgainstRoute(i,r,n,a,o,l):this.allowRedirects&&s?this.expandSegmentAgainstRouteUsingRedirect(i,r,e,n,a,o,l):pm(r)}expandSegmentAgainstRouteUsingRedirect(i,e,n,r,a,o,s){let{matched:l,parameters:c,consumedSegments:d,positionalParamSegments:u,remainingSegments:h}=QP(e,r,a);if(!l)return pm(e);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>I7&&(this.allowRedirects=!1));let m=new _u(a,c,Object.freeze(f({},this.urlTree.queryParams)),this.urlTree.fragment,DP(r),Jo(r),r.component??r._loadedComponent??null,r,SP(r)),p=p0(m,s,this.paramsInheritanceStrategy);m.params=Object.freeze(p.params),m.data=Object.freeze(p.data);let g=this.applyRedirects.applyRedirectCommands(d,r.redirectTo,u,m,i);return this.applyRedirects.lineralizeSegments(r,g).pipe(_a(y=>this.processSegment(i,n,e,y.concat(h),o,!1,s)))}matchSegmentAgainstRoute(i,e,n,r,a,o){let s=v7(e,n,r,i,this.urlSerializer);return n.path==="**"&&(e.children={}),s.pipe(Ji(l=>l.matched?(i=n._injector??i,this.getChildConfig(i,n,r).pipe(Ji(({routes:c})=>{let d=n._loadedInjector??i,{parameters:u,consumedSegments:h,remainingSegments:m}=l,p=new _u(h,u,Object.freeze(f({},this.urlTree.queryParams)),this.urlTree.fragment,DP(n),Jo(n),n.component??n._loadedComponent??null,n,SP(n)),g=p0(p,o,this.paramsInheritanceStrategy);p.params=Object.freeze(g.params),p.data=Object.freeze(g.data);let{segmentGroup:y,slicedSegments:v}=wP(e,h,m,c);if(v.length===0&&y.hasChildren())return this.processChildren(d,c,y,p).pipe(Re(w=>new Ya(p,w)));if(c.length===0&&v.length===0)return ke(new Ya(p,[]));let x=Jo(n)===a;return this.processSegment(d,c,y,v,x?Mt:a,!0,p).pipe(Re(w=>new Ya(p,w instanceof Ya?[w]:[])))}))):pm(e)))}getChildConfig(i,e,n){return e.children?ke({routes:e.children,injector:i}):e.loadChildren?e._loadedRoutes!==void 0?ke({routes:e._loadedRoutes,injector:e._loadedInjector}):f7(i,e,n,this.urlSerializer).pipe(_a(r=>r?this.configLoader.loadChildren(i,e).pipe(Ki(a=>{e._loadedRoutes=a.routes,e._loadedInjector=a.injector})):y7(e))):ke({routes:[],injector:i})}};function k7(t){t.sort((i,e)=>i.value.outlet===Mt?-1:e.value.outlet===Mt?1:i.value.outlet.localeCompare(e.value.outlet))}function A7(t){let i=t.value.routeConfig;return i&&i.path===""}function XP(t){let i=[],e=new Set;for(let n of t){if(!A7(n)){i.push(n);continue}let r=i.find(a=>n.value.routeConfig===a.value.routeConfig);r!==void 0?(r.children.push(...n.children),e.add(r)):i.push(n)}for(let n of e){let r=XP(n.children);i.push(new Ya(n.value,r))}return i.filter(n=>!e.has(n))}function DP(t){return t.data||{}}function SP(t){return t.resolve||{}}function E7(t,i,e,n,r,a){return _a(o=>M7(t,i,e,n,o.extractedUrl,r,a).pipe(Re(({state:s,tree:l})=>S(f({},o),{targetSnapshot:s,urlAfterRedirects:l}))))}function T7(t,i){return _a(e=>{let{targetSnapshot:n,guards:{canActivateChecks:r}}=e;if(!r.length)return ke(e);let a=new Set(r.map(l=>l.route)),o=new Set;for(let l of a)if(!o.has(l))for(let c of JP(l))o.add(c);let s=0;return Vn(o).pipe(Bl(l=>a.has(l)?R7(l,n,t,i):(l.data=p0(l,l.parent,t).resolve,ke(void 0))),Ki(()=>s++),BS(1),_a(l=>s===o.size?ke(e):ea))})}function JP(t){let i=t.children.map(e=>JP(e)).flat();return[t,...i]}function R7(t,i,e,n){let r=t.routeConfig,a=t._resolve;return r?.title!==void 0&&!GP(r)&&(a[$g]=r.title),O7(a,t,i,n).pipe(Re(o=>(t._resolvedData=o,t.data=p0(t,t.parent,e).resolve,null)))}function O7(t,i,e,n){let r=zM(t);if(r.length===0)return ke({});let a={};return Vn(r).pipe(_a(o=>L7(t[o],i,e,n).pipe(Yc(),Ki(s=>{if(s instanceof Cm)throw f0(new Xc,s);a[o]=s}))),BS(1),Re(()=>a),Ha(o=>qP(o)?ea:hu(o)))}function L7(t,i,e,n){let r=Yg(i)??n,a=Dm(t,r),o=a.resolve?a.resolve(i,e):ia(r,()=>a(i,e));return td(o)}function VM(t){return Ji(i=>{let e=t(i);return e?Vn(e).pipe(Re(()=>i)):ke(i)})}var nI=(()=>{class t{buildTitle(e){let n,r=e.root;for(;r!==void 0;)n=this.getResolvedTitleForRoute(r)??n,r=r.children.find(a=>a.outlet===Mt);return n}getResolvedTitleForRoute(e){return e.data[$g]}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:()=>_(e2),providedIn:"root"})}return t})(),e2=(()=>{class t extends nI{title;constructor(e){super(),this.title=e}updateTitle(e){let n=this.buildTitle(e);n!==void 0&&this.title.setTitle(n)}static \u0275fac=function(n){return new(n||t)(Te(bP))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Du=new G("",{providedIn:"root",factory:()=>({})}),Sm=new G(""),v0=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=_(yN);loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return ke(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let n=td(e.loadComponent()).pipe(Re(i2),Ki(a=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=a}),mu(()=>{this.componentLoaders.delete(e)})),r=new ug(n,()=>new oe).pipe(RS());return this.componentLoaders.set(e,r),r}loadChildren(e,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return ke({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);let a=t2(n,this.compiler,e,this.onLoadEndListener).pipe(mu(()=>{this.childrenLoaders.delete(n)})),o=new ug(a,()=>new oe).pipe(RS());return this.childrenLoaders.set(n,o),o}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function t2(t,i,e,n){return td(t.loadChildren()).pipe(Re(i2),_a(r=>r instanceof uN||Array.isArray(r)?ke(r):Vn(i.compileModuleAsync(r))),Re(r=>{n&&n(t);let a,o,s=!1;return Array.isArray(r)?(o=r,s=!0):(a=r.create(e).injector,o=a.get(Sm,[],{optional:!0,self:!0}).flat()),{routes:o.map(iI),injector:a}}))}function N7(t){return t&&typeof t=="object"&&"default"in t}function i2(t){return N7(t)?t.default:t}var _0=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:()=>_(P7),providedIn:"root"})}return t})(),P7=(()=>{class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),rI=new G(""),aI=new G("");function n2(t,i,e){let n=t.get(aI),r=t.get(He);return t.get(Ce).runOutsideAngular(()=>{if(!r.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,new Promise(c=>setTimeout(c));let a,o=new Promise(c=>{a=c}),s=r.startViewTransition(()=>(a(),F7(t))),{onViewTransitionCreated:l}=n;return l&&ia(t,()=>l({transition:s,from:i,to:e})),o})}function F7(t){return new Promise(i=>{qi({read:()=>setTimeout(i)},{injector:t})})}var oI=new G(""),x0=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new oe;transitionAbortSubject=new oe;configLoader=_(v0);environmentInjector=_(ta);destroyRef=_(g_);urlSerializer=_(Cu);rootContexts=_(wu);location=_(Ys);inputBindingEnabled=_(qg,{optional:!0})!==null;titleStrategy=_(nI);options=_(Du,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=_(_0);createViewTransition=_(rI,{optional:!0});navigationErrorHandler=_(oI,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>ke(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=r=>this.events.next(new o0(r)),n=r=>this.events.next(new s0(r));this.configLoader.onLoadEndListener=n,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let n=++this.navigationId;this.transitions?.next(S(f({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:n}))}setupNavigations(e){return this.transitions=new Xi(null),this.transitions.pipe(kt(n=>n!==null),Ji(n=>{let r=!1,a=!1;return ke(n).pipe(Ji(o=>{if(this.navigationId>n.id)return this.cancelNavigationTransition(n,"",Ma.SupersededByNewNavigation),ea;this.currentTransition=n,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?S(f({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let s=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=o.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!s&&l!=="reload"){let c="";return this.events.next(new Js(o.id,this.urlSerializer.serialize(o.rawUrl),c,ym.IgnoredSameUrlNavigation)),o.resolve(!1),ea}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return ke(o).pipe(Ji(c=>(this.events.next(new ed(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?ea:Promise.resolve(c))),E7(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),Ki(c=>{n.targetSnapshot=c.targetSnapshot,n.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation=S(f({},this.currentNavigation),{finalUrl:c.urlAfterRedirects});let d=new Bg(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:c,extractedUrl:d,source:u,restoredState:h,extras:m}=o,p=new ed(c,this.urlSerializer.serialize(d),u,h);this.events.next(p);let g=UP(this.rootComponentType).snapshot;return this.currentTransition=n=S(f({},o),{targetSnapshot:g,urlAfterRedirects:d,extras:S(f({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=d,ke(n)}else{let c="";return this.events.next(new Js(o.id,this.urlSerializer.serialize(o.extractedUrl),c,ym.IgnoredByUrlHandlingStrategy)),o.resolve(!1),ea}}),Ki(o=>{let s=new i0(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),Re(o=>(this.currentTransition=n=S(f({},o),{guards:Z9(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),n)),s7(this.environmentInjector,o=>this.events.next(o)),Ki(o=>{if(n.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw f0(this.urlSerializer,o.guardsResult);let s=new n0(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),kt(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",Ma.GuardRejected),!1)),VM(o=>{if(o.guards.canActivateChecks.length!==0)return ke(o).pipe(Ki(s=>{let l=new r0(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(l)}),Ji(s=>{let l=!1;return ke(s).pipe(T7(this.paramsInheritanceStrategy,this.environmentInjector),Ki({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(s,"",Ma.NoDataFromResolver)}}))}),Ki(s=>{let l=new a0(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(l)}))}),VM(o=>{let s=l=>{let c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(Ki(d=>{l.component=d}),Re(()=>{})));for(let d of l.children)c.push(...s(d));return c};return Gs(s(o.targetSnapshot.root)).pipe(VS(null),Yi(1))}),VM(()=>this.afterPreactivation()),Ji(()=>{let{currentSnapshot:o,targetSnapshot:s}=n,l=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return l?Vn(l).pipe(Re(()=>n)):ke(n)}),Re(o=>{let s=W9(e.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=n=S(f({},o),{targetRouterState:s}),this.currentNavigation.targetRouterState=s,n}),Ki(()=>{this.events.next(new zg)}),q9(this.rootContexts,e.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Yi(1),Ki({next:o=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new bo(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{r=!0}}),di(this.transitionAbortSubject.pipe(Ki(o=>{throw o}))),mu(()=>{!r&&!a&&this.cancelNavigationTransition(n,"",Ma.SupersededByNewNavigation),this.currentTransition?.id===n.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ha(o=>{if(this.destroyed)return n.resolve(!1),ea;if(a=!0,KP(o))this.events.next(new Qs(n.id,this.urlSerializer.serialize(n.extractedUrl),o.message,o.cancellationCode)),K9(o)?this.events.next(new xm(o.url,o.navigationBehaviorOptions)):n.resolve(!1);else{let s=new vm(n.id,this.urlSerializer.serialize(n.extractedUrl),o,n.targetSnapshot??void 0);try{let l=ia(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(l instanceof Cm){let{message:c,cancellationCode:d}=f0(this.urlSerializer,l);this.events.next(new Qs(n.id,this.urlSerializer.serialize(n.extractedUrl),c,d)),this.events.next(new xm(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(l){this.options.resolveNavigationPromiseOnError?n.resolve(!1):n.reject(l)}}return ea}))}))}cancelNavigationTransition(e,n,r){let a=new Qs(e.id,this.urlSerializer.serialize(e.extractedUrl),n,r);this.events.next(a),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),n=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==n?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function V7(t){return t!==J_}var r2=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:()=>_(B7),providedIn:"root"})}return t})(),b0=class{shouldDetach(i){return!1}store(i,e){}shouldAttach(i){return!1}retrieve(i){return null}shouldReuseRoute(i,e){return i.routeConfig===e.routeConfig}},B7=(()=>{class t extends b0{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Dt(t)))(r||t)}})();static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),a2=(()=>{class t{urlSerializer=_(Cu);options=_(Du,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=_(Ys);urlHandlingStrategy=_(_0);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Xs;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:e,initialUrl:n,targetBrowserUrl:r}){let a=e!==void 0?this.urlHandlingStrategy.merge(e,n):n,o=r??a;return o instanceof Xs?this.urlSerializer.serialize(o):o}commitTransition({targetRouterState:e,finalUrl:n,initialUrl:r}){n&&e?(this.currentUrlTree=n,this.rawUrlTree=this.urlHandlingStrategy.merge(n,r),this.routerState=e):this.rawUrlTree=r}routerState=UP(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:e}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e??this.rawUrlTree)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:()=>_(z7),providedIn:"root"})}return t})(),z7=(()=>{class t extends a2{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(n=>{n.type==="popstate"&&setTimeout(()=>{e(n.url,n.state,"popstate")})})}handleRouterEvent(e,n){e instanceof ed?this.updateStateMemento():e instanceof Js?this.commitTransition(n):e instanceof Bg?this.urlUpdateStrategy==="eager"&&(n.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(n),n)):e instanceof zg?(this.commitTransition(n),this.urlUpdateStrategy==="deferred"&&!n.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(n),n)):e instanceof Qs&&(e.code===Ma.GuardRejected||e.code===Ma.NoDataFromResolver)?this.restoreHistory(n):e instanceof vm?this.restoreHistory(n,!0):e instanceof bo&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,{extras:n,id:r}){let{replaceUrl:a,state:o}=n;if(this.location.isCurrentPathEqualTo(e)||a){let s=this.browserPageId,l=f(f({},o),this.generateNgRouterState(r,s));this.location.replaceState(e,"",l)}else{let s=f(f({},o),this.generateNgRouterState(r,this.browserPageId+1));this.location.go(e,"",s)}}restoreHistory(e,n=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,a=this.currentPageId-r;a!==0?this.location.historyGo(a):this.getCurrentUrlTree()===e.finalUrl&&a===0&&(this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(n&&this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,n){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:n}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Dt(t)))(r||t)}})();static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function C0(t,i){t.events.pipe(kt(e=>e instanceof bo||e instanceof Qs||e instanceof vm||e instanceof Js),Re(e=>e instanceof bo||e instanceof Js?0:(e instanceof Qs?e.code===Ma.Redirect||e.code===Ma.SupersededByNewNavigation:!1)?2:1),kt(e=>e!==2),Yi(1)).subscribe(()=>{i()})}var j7={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},U7={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},aa=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=_(YS);stateManager=_(a2);options=_(Du,{optional:!0})||{};pendingTasks=_(WS);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=_(x0);urlSerializer=_(Cu);location=_(Ys);urlHandlingStrategy=_(_0);_events=new oe;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=_(r2);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=_(Sm,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!_(qg,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new xt;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(n=>{try{let r=this.navigationTransitions.currentTransition,a=this.navigationTransitions.currentNavigation;if(r!==null&&a!==null){if(this.stateManager.handleRouterEvent(n,a),n instanceof Qs&&n.code!==Ma.Redirect&&n.code!==Ma.SupersededByNewNavigation)this.navigated=!0;else if(n instanceof bo)this.navigated=!0;else if(n instanceof xm){let o=n.navigationBehaviorOptions,s=this.urlHandlingStrategy.merge(n.url,r.currentRawUrl),l=f({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||V7(r.source)},o);this.scheduleNavigation(s,J_,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}G7(n)&&this._events.next(n)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),J_,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,n,r)=>{this.navigateToSyncWithBrowser(e,r,n)})}navigateToSyncWithBrowser(e,n,r){let a={replaceUrl:!0},o=r?.navigationId?r:null;if(r){let l=f({},r);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(a.state=l)}let s=this.parseUrl(e);this.scheduleNavigation(s,n,o,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(iI),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,n={}){let{relativeTo:r,queryParams:a,fragment:o,queryParamsHandling:s,preserveFragment:l}=n,c=l?this.currentUrlTree.fragment:o,d=null;switch(s??this.options.defaultQueryParamsHandling){case"merge":d=f(f({},this.currentUrlTree.queryParams),a);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=a||null}d!==null&&(d=this.removeEmptyProps(d));let u;try{let h=r?r.snapshot:this.routerState.snapshot.root;u=VP(h)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),u=this.currentUrlTree.root}return BP(u,e,d,c??null)}navigateByUrl(e,n={skipLocationChange:!1}){let r=Jc(e)?e:this.parseUrl(e),a=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(a,J_,null,n)}navigate(e,n={skipLocationChange:!1}){return H7(e),this.navigateByUrl(this.createUrlTree(e,n),n)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,n){let r;if(n===!0?r=f({},j7):n===!1?r=f({},U7):r=n,Jc(e))return vP(this.currentUrlTree,e,r);let a=this.parseUrl(e);return vP(this.currentUrlTree,a,r)}removeEmptyProps(e){return Object.entries(e).reduce((n,[r,a])=>(a!=null&&(n[r]=a),n),{})}scheduleNavigation(e,n,r,a,o){if(this.disposed)return Promise.resolve(!1);let s,l,c;o?(s=o.resolve,l=o.reject,c=o.promise):c=new Promise((u,h)=>{s=u,l=h});let d=this.pendingTasks.add();return C0(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:n,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:a,resolve:s,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(u=>Promise.reject(u))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function H7(t){for(let i=0;i<t.length;i++)if(t[i]==null)throw new gt(4008,!1)}function G7(t){return!(t instanceof zg)&&!(t instanceof xm)}var w0=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new oe;constructor(e,n,r,a,o,s){this.router=e,this.route=n,this.tabIndexAttribute=r,this.renderer=a,this.el=o,this.locationStrategy=s;let l=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=e.events.subscribe(c=>{c instanceof bo&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Jc(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,n,r,a,o){let s=this.urlTree;if(s===null||this.isAnchorElement&&(e!==0||n||r||a||o||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(s,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let n=this.href===null?null:oN(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(e,n){let r=this.renderer,a=this.el.nativeElement;n!==null?r.setAttribute(a,e,n):r.removeAttribute(a,e)}get urlTree(){return this.routerLinkInput===null?null:Jc(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(n){return new(n||t)(ee(aa),ee(es),GS("tabindex"),ee(Yt),ee(me),ee(Zo))};static \u0275dir=Y({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,r){n&1&&Q("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),n&2&&Ee("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",J],skipLocationChange:[2,"skipLocationChange","skipLocationChange",J],replaceUrl:[2,"replaceUrl","replaceUrl",J],routerLink:"routerLink"},features:[_t]})}return t})();var Qg=class{};var o2=(()=>{class t{router;injector;preloadingStrategy;loader;subscription;constructor(e,n,r,a){this.router=e,this.injector=n,this.preloadingStrategy=r,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(kt(e=>e instanceof bo),Bl(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,n){let r=[];for(let a of n){a.providers&&!a._injector&&(a._injector=x_(a.providers,e,`Route: ${a.path}`));let o=a._injector??e,s=a._loadedInjector??o;(a.loadChildren&&!a._loadedRoutes&&a.canLoad===void 0||a.loadComponent&&!a._loadedComponent)&&r.push(this.preloadConfig(o,a)),(a.children||a._loadedRoutes)&&r.push(this.processRoutes(s,a.children??a._loadedRoutes))}return Vn(r).pipe(PS())}preloadConfig(e,n){return this.preloadingStrategy.preload(n,()=>{let r;n.loadChildren&&n.canLoad===void 0?r=this.loader.loadChildren(e,n):r=ke(null);let a=r.pipe(_a(o=>o===null?ke(void 0):(n._loadedRoutes=o.routes,n._loadedInjector=o.injector,this.processRoutes(o.injector??e,o.routes))));if(n.loadComponent&&!n._loadedComponent){let o=this.loader.loadComponent(n);return Vn([a,o]).pipe(PS())}else return a})}static \u0275fac=function(n){return new(n||t)(Te(aa),Te(ta),Te(Qg),Te(v0))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),s2=new G(""),W7=(()=>{class t{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(e,n,r,a,o={}){this.urlSerializer=e,this.transitions=n,this.viewportScroller=r,this.zone=a,this.options=o,o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof ed?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof bo?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof Js&&e.code===ym.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof _m&&(e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,n){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new _m(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,n))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(n){dm()};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})();function $7(t){return t.routerState.root}function Xg(t,i){return{\u0275kind:t,\u0275providers:i}}function Y7(){let t=_(Ye);return i=>{let e=t.get(Yo);if(i!==e.components[0])return;let n=t.get(aa),r=t.get(l2);t.get(lI)===1&&n.initialNavigation(),t.get(u2,null,US.Optional)?.setUpPreloading(),t.get(s2,null,US.Optional)?.init(),n.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var l2=new G("",{factory:()=>new oe}),lI=new G("",{providedIn:"root",factory:()=>1});function c2(){let t=[{provide:lI,useValue:0},qS(()=>{let i=_(Ye);return i.get(tM,Promise.resolve()).then(()=>new Promise(n=>{let r=i.get(aa),a=i.get(l2);C0(r,()=>{n(!0)}),i.get(x0).afterPreactivation=()=>(n(!0),a.closed?ke(void 0):a),r.initialNavigation()}))})];return Xg(2,t)}function d2(){let t=[qS(()=>{_(aa).setUpLocationChangeListener()}),{provide:lI,useValue:2}];return Xg(3,t)}var u2=new G("");function h2(t){return Xg(0,[{provide:u2,useExisting:o2},{provide:Qg,useExisting:t}])}function m2(){return Xg(8,[eI,{provide:qg,useExisting:eI}])}function p2(t){fu("NgRouterViewTransitions");let i=[{provide:rI,useValue:n2},{provide:aI,useValue:f({skipNextTransition:!!t?.skipInitialTransition},t)}];return Xg(9,i)}var f2=[Ys,{provide:Cu,useClass:Xc},aa,wu,{provide:es,useFactory:$7,deps:[aa]},v0,[]],D0=(()=>{class t{constructor(){}static forRoot(e,n){return{ngModule:t,providers:[f2,[],{provide:Sm,multi:!0,useValue:e},[],n?.errorHandler?{provide:oI,useValue:n.errorHandler}:[],{provide:Du,useValue:n||{}},n?.useHash?q7():Z7(),K7(),n?.preloadingStrategy?h2(n.preloadingStrategy).\u0275providers:[],n?.initialNavigation?Q7(n):[],n?.bindToComponentInputs?m2().\u0275providers:[],n?.enableViewTransitions?p2().\u0275providers:[],X7()]}}static forChild(e){return{ngModule:t,providers:[{provide:Sm,multi:!0,useValue:e}]}}static \u0275fac=function(n){return new(n||t)};static \u0275mod=Se({type:t});static \u0275inj=De({})}return t})();function K7(){return{provide:s2,useFactory:()=>{let t=_(JN),i=_(Ce),e=_(Du),n=_(x0),r=_(Cu);return e.scrollOffset&&t.setOffset(e.scrollOffset),new W7(r,n,t,i,e)}}}function q7(){return{provide:Zo,useClass:lM}}function Z7(){return{provide:Zo,useClass:E_}}function Q7(t){return[t.initialNavigation==="disabled"?d2().\u0275providers:[],t.initialNavigation==="enabledBlocking"?c2().\u0275providers:[]]}var sI=new G("");function X7(){return[{provide:sI,useFactory:Y7},{provide:D_,multi:!0,useExisting:sI}]}var dI;try{dI=typeof Intl<"u"&&Intl.v8BreakIterator}catch{dI=!1}var Ft=(()=>{class t{_platformId=_(Ws);isBrowser=this._platformId?pM(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||dI)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Mm(t){return Array.isArray(t)?t:[t]}var g2=new Set,Su,y2=(()=>{class t{_platform=_(Ft);_nonce=_(gg,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):eK}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&J7(e,this._nonce),this._matchMedia(e)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function J7(t,i){if(!g2.has(t))try{Su||(Su=document.createElement("style"),i&&Su.setAttribute("nonce",i),Su.setAttribute("type","text/css"),document.head.appendChild(Su)),Su.sheet&&(Su.sheet.insertRule(`@media ${t} {body{ }}`,0),g2.add(t))}catch(e){console.error(e)}}function eK(t){return{matches:t==="all"||t==="",media:t,addListener:()=>{},removeListener:()=>{}}}var ts=(()=>{class t{_mediaMatcher=_(y2);_zone=_(Ce);_queries=new Map;_destroySubject=new oe;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return b2(Mm(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let r=b2(Mm(e)).map(o=>this._registerQuery(o).observable),a=Gs(r);return a=m_(a.pipe(Yi(1)),a.pipe(lm(1),$c(0))),a.pipe(Re(o=>{let s={matches:!1,breakpoints:{}};return o.forEach(({matches:l,query:c})=>{s.matches=s.matches||l,s.breakpoints[c]=l}),s}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);let n=this._mediaMatcher.matchMedia(e),a={observable:new nr(o=>{let s=l=>this._zone.run(()=>o.next(l));return n.addListener(s),()=>{n.removeListener(s)}}).pipe(yi(n),Re(({matches:o})=>({query:e,matches:o})),di(this._destroySubject)),mql:n};return this._queries.set(e,a),a}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function b2(t){return t.map(i=>i.split(",")).reduce((i,e)=>i.concat(e)).map(i=>i.trim())}var ql={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};var Jg=class{};function eb(t){return t&&typeof t.connect=="function"&&!(t instanceof ug)}var id=function(t){return t[t.REPLACED=0]="REPLACED",t[t.INSERTED=1]="INSERTED",t[t.MOVED=2]="MOVED",t[t.REMOVED=3]="REMOVED",t}(id||{}),Im=new G("_ViewRepeater");var Mu=class{applyChanges(i,e,n,r,a){i.forEachOperation((o,s,l)=>{let c,d;if(o.previousIndex==null){let u=n(o,s,l);c=e.createEmbeddedView(u.templateRef,u.context,u.index),d=id.INSERTED}else l==null?(e.remove(s),d=id.REMOVED):(c=e.get(s),e.move(c,l),d=id.MOVED);a&&a({context:c?.context,operation:d,record:o})})}detach(){}};var tK=new G("cdk-dir-doc",{providedIn:"root",factory:iK});function iK(){return _(He)}var nK=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function v2(t){let i=t?.toLowerCase()||"";return i==="auto"&&typeof navigator<"u"&&navigator?.language?nK.test(navigator.language)?"rtl":"ltr":i==="rtl"?"rtl":"ltr"}var Oi=(()=>{class t{value="ltr";change=new ie;constructor(){let e=_(tK,{optional:!0});if(e){let n=e.body?e.body.dir:null,r=e.documentElement?e.documentElement.dir:null;this.value=v2(n||r||"ltr")}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function el(t,i=0){return M0(t)?Number(t):arguments.length===2?i:0}function M0(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}function oa(t){return t instanceof me?t.nativeElement:t}var is=function(t){return t[t.NORMAL=0]="NORMAL",t[t.NEGATED=1]="NEGATED",t[t.INVERTED=2]="INVERTED",t}(is||{}),I0,Iu;function k0(){if(Iu==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return Iu=!1,Iu;if("scrollBehavior"in document.documentElement.style)Iu=!0;else{let t=Element.prototype.scrollTo;t?Iu=!/\{\s*\[native code\]\s*\}/.test(t.toString()):Iu=!1}}return Iu}function km(){if(typeof document!="object"||!document)return is.NORMAL;if(I0==null){let t=document.createElement("div"),i=t.style;t.dir="rtl",i.width="1px",i.overflow="auto",i.visibility="hidden",i.pointerEvents="none",i.position="absolute";let e=document.createElement("div"),n=e.style;n.width="2px",n.height="1px",t.appendChild(e),document.body.appendChild(t),I0=is.NORMAL,t.scrollLeft===0&&(t.scrollLeft=1,I0=t.scrollLeft===0?is.NEGATED:is.INVERTED),t.remove()}return I0}var nd=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Se({type:t});static \u0275inj=De({})}return t})();var rK=20,uI=(()=>{class t{_ngZone=_(Ce);_platform=_(Ft);_renderer=_(gr).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new oe;_scrolledCount=0;scrollContainers=new Map;register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){let n=this.scrollContainers.get(e);n&&(n.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=rK){return this._platform.isBrowser?new nr(n=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let r=e>0?this._scrolled.pipe(FS(e)).subscribe(n):this._scrolled.subscribe(n);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):ke()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((e,n)=>this.deregister(n)),this._scrolled.complete()}ancestorScrolled(e,n){let r=this.getAncestorScrollContainers(e);return this.scrolled(n).pipe(kt(a=>!a||r.indexOf(a)>-1))}getAncestorScrollContainers(e){let n=[];return this.scrollContainers.forEach((r,a)=>{this._scrollableContainsElement(a,e)&&n.push(a)}),n}_scrollableContainsElement(e,n){let r=oa(n),a=e.getElementRef().nativeElement;do if(r==a)return!0;while(r=r.parentElement);return!1}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),A0=(()=>{class t{elementRef=_(me);scrollDispatcher=_(uI);ngZone=_(Ce);dir=_(Oi,{optional:!0});_scrollElement=this.elementRef.nativeElement;_destroyed=new oe;_renderer=_(Yt);_cleanupScroll;_elementScrolled=new oe;constructor(){}ngOnInit(){this._cleanupScroll=this.ngZone.runOutsideAngular(()=>this._renderer.listen(this._scrollElement,"scroll",e=>this._elementScrolled.next(e))),this.scrollDispatcher.register(this)}ngOnDestroy(){this._cleanupScroll?.(),this._elementScrolled.complete(),this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){let n=this.elementRef.nativeElement,r=this.dir&&this.dir.value=="rtl";e.left==null&&(e.left=r?e.end:e.start),e.right==null&&(e.right=r?e.start:e.end),e.bottom!=null&&(e.top=n.scrollHeight-n.clientHeight-e.bottom),r&&km()!=is.NORMAL?(e.left!=null&&(e.right=n.scrollWidth-n.clientWidth-e.left),km()==is.INVERTED?e.left=e.right:km()==is.NEGATED&&(e.left=e.right?-e.right:e.right)):e.right!=null&&(e.left=n.scrollWidth-n.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){let n=this.elementRef.nativeElement;k0()?n.scrollTo(e):(e.top!=null&&(n.scrollTop=e.top),e.left!=null&&(n.scrollLeft=e.left))}measureScrollOffset(e){let n="left",r="right",a=this.elementRef.nativeElement;if(e=="top")return a.scrollTop;if(e=="bottom")return a.scrollHeight-a.clientHeight-a.scrollTop;let o=this.dir&&this.dir.value=="rtl";return e=="start"?e=o?r:n:e=="end"&&(e=o?n:r),o&&km()==is.INVERTED?e==n?a.scrollWidth-a.clientWidth-a.scrollLeft:a.scrollLeft:o&&km()==is.NEGATED?e==n?a.scrollLeft+a.scrollWidth-a.clientWidth:-a.scrollLeft:e==n?a.scrollLeft:a.scrollWidth-a.clientWidth-a.scrollLeft}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]})}return t})(),aK=20,Zl=(()=>{class t{_platform=_(Ft);_listeners;_viewportSize;_change=new oe;_document=_(He,{optional:!0});constructor(){let e=_(Ce),n=_(gr).createRenderer(null,null);e.runOutsideAngular(()=>{if(this._platform.isBrowser){let r=a=>this._change.next(a);this._listeners=[n.listen("window","resize",r),n.listen("window","orientationchange",r)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(e=>e()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){let e=this.getViewportScrollPosition(),{width:n,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+n,height:r,width:n}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let e=this._document,n=this._getWindow(),r=e.documentElement,a=r.getBoundingClientRect(),o=-a.top||e.body.scrollTop||n.scrollY||r.scrollTop||0,s=-a.left||e.body.scrollLeft||n.scrollX||r.scrollLeft||0;return{top:o,left:s}}change(e=aK){return e>0?this._change.pipe(FS(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var tl=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Se({type:t});static \u0275inj=De({})}return t})(),tb=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Se({type:t});static \u0275inj=De({imports:[nd,tl,nd,tl]})}return t})();function qa(t){return t!=null&&`${t}`!="false"}var sK=[[["caption"]],[["colgroup"],["col"]],"*"],lK=["caption","colgroup, col","*"];function cK(t,i){t&1&&Ie(0,2)}function dK(t,i){t&1&&(M(0,"thead",0),xa(1,1),I(),M(2,"tbody",0),xa(3,2)(4,3),I(),M(5,"tfoot",0),xa(6,4),I())}function uK(t,i){t&1&&xa(0,1)(1,2)(2,3)(3,4)}var ns=new G("CDK_TABLE");var N0=(()=>{class t{template=_(vi);constructor(){}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["","cdkCellDef",""]]})}return t})(),P0=(()=>{class t{template=_(vi);constructor(){}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["","cdkHeaderCellDef",""]]})}return t})(),w2=(()=>{class t{template=_(vi);constructor(){}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["","cdkFooterCellDef",""]]})}return t})(),Am=(()=>{class t{_table=_(ns,{optional:!0});_hasStickyChanged=!1;get name(){return this._name}set name(e){this._setNameInput(e)}_name;get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}_sticky=!1;get stickyEnd(){return this._stickyEnd}set stickyEnd(e){e!==this._stickyEnd&&(this._stickyEnd=e,this._hasStickyChanged=!0)}_stickyEnd=!1;cell;headerCell;footerCell;cssClassFriendlyName;_columnCssClassName;constructor(){}hasStickyChanged(){let e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["","cdkColumnDef",""]],contentQueries:function(n,r,a){if(n&1&&(St(a,N0,5),St(a,P0,5),St(a,w2,5)),n&2){let o;pe(o=fe())&&(r.cell=o.first),pe(o=fe())&&(r.headerCell=o.first),pe(o=fe())&&(r.footerCell=o.first)}},inputs:{name:[0,"cdkColumnDef","name"],sticky:[2,"sticky","sticky",J],stickyEnd:[2,"stickyEnd","stickyEnd",J]},features:[Ue([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:t}])]})}return t})(),T0=class{constructor(i,e){e.nativeElement.classList.add(...i._columnCssClassName)}},D2=(()=>{class t extends T0{constructor(){super(_(Am),_(me))}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[Ve]})}return t})();var S2=(()=>{class t extends T0{constructor(){let e=_(Am),n=_(me);super(e,n);let r=e._table?._getCellRole();r&&n.nativeElement.setAttribute("role",r)}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[Ve]})}return t})(),R0=class{tasks=[];endTasks=[]},O0=new G("_COALESCED_STYLE_SCHEDULER"),mI=(()=>{class t{_currentSchedule=null;_ngZone=_(Ce);constructor(){}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new R0,this._ngZone.runOutsideAngular(()=>queueMicrotask(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){let e=this._currentSchedule;this._currentSchedule=new R0;for(let n of e.tasks)n();for(let n of e.endTasks)n()}this._currentSchedule=null})))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})();var pI=(()=>{class t{template=_(vi);_differs=_(Gl);columns;_columnsDiffer;constructor(){}ngOnChanges(e){if(!this._columnsDiffer){let n=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(n).create(),this._columnsDiffer.diff(n)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof ib?e.headerCell.template:this instanceof fI?e.footerCell.template:e.cell.template}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,features:[_t]})}return t})(),ib=(()=>{class t extends pI{_table=_(ns,{optional:!0});_hasStickyChanged=!1;get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}_sticky=!1;constructor(){super(_(vi),_(Gl))}ngOnChanges(e){super.ngOnChanges(e)}hasStickyChanged(){let e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:[0,"cdkHeaderRowDef","columns"],sticky:[2,"cdkHeaderRowDefSticky","sticky",J]},features:[Ve,_t]})}return t})(),fI=(()=>{class t extends pI{_table=_(ns,{optional:!0});_hasStickyChanged=!1;get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}_sticky=!1;constructor(){super(_(vi),_(Gl))}ngOnChanges(e){super.ngOnChanges(e)}hasStickyChanged(){let e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:[0,"cdkFooterRowDef","columns"],sticky:[2,"cdkFooterRowDefSticky","sticky",J]},features:[Ve,_t]})}return t})(),F0=(()=>{class t extends pI{_table=_(ns,{optional:!0});when;constructor(){super(_(vi),_(Gl))}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["","cdkRowDef",""]],inputs:{columns:[0,"cdkRowDefColumns","columns"],when:[0,"cdkRowDefWhen","when"]},features:[Ve]})}return t})(),ku=(()=>{class t{_viewContainer=_(_i);cells;context;static mostRecentCellOutlet=null;constructor(){t.mostRecentCellOutlet=this}ngOnDestroy(){t.mostRecentCellOutlet===this&&(t.mostRecentCellOutlet=null)}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["","cdkCellOutlet",""]]})}return t})(),gI=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=X({type:t,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(n,r){n&1&&xa(0,0)},dependencies:[ku],encapsulation:2})}return t})();var bI=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=X({type:t,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(n,r){n&1&&xa(0,0)},dependencies:[ku],encapsulation:2})}return t})(),M2=(()=>{class t{templateRef=_(vi);_contentClassName="cdk-no-data-row";constructor(){}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["ng-template","cdkNoDataRow",""]]})}return t})(),_2=["top","bottom","left","right"],hI=class{_isNativeHtmlTable;_stickCellCss;direction;_coalescedStyleScheduler;_isBrowser;_needsPositionStickyOnElement;_positionListener;_tableInjector;_elemSizeCache=new WeakMap;_resizeObserver=globalThis?.ResizeObserver?new globalThis.ResizeObserver(i=>this._updateCachedSizes(i)):null;_updatedStickyColumnsParamsToReplay=[];_stickyColumnsReplayTimeout=null;_cachedCellWidths=[];_borderCellCss;_destroyed=!1;constructor(i,e,n,r,a=!0,o=!0,s,l){this._isNativeHtmlTable=i,this._stickCellCss=e,this.direction=n,this._coalescedStyleScheduler=r,this._isBrowser=a,this._needsPositionStickyOnElement=o,this._positionListener=s,this._tableInjector=l,this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(i,e){(e.includes("left")||e.includes("right"))&&this._removeFromStickyColumnReplayQueue(i);let n=[];for(let r of i)r.nodeType===r.ELEMENT_NODE&&n.push(r,...Array.from(r.children));this._afterNextRender({write:()=>{for(let r of n)this._removeStickyStyle(r,e)}})}updateStickyColumns(i,e,n,r=!0,a=!0){if(!i.length||!this._isBrowser||!(e.some(y=>y)||n.some(y=>y))){this._positionListener?.stickyColumnsUpdated({sizes:[]}),this._positionListener?.stickyEndColumnsUpdated({sizes:[]});return}let o=i[0],s=o.children.length,l=this.direction==="rtl",c=l?"right":"left",d=l?"left":"right",u=e.lastIndexOf(!0),h=n.indexOf(!0),m,p,g;a&&this._updateStickyColumnReplayQueue({rows:[...i],stickyStartStates:[...e],stickyEndStates:[...n]}),this._afterNextRender({earlyRead:()=>{m=this._getCellWidths(o,r),p=this._getStickyStartColumnPositions(m,e),g=this._getStickyEndColumnPositions(m,n)},write:()=>{for(let y of i)for(let v=0;v<s;v++){let x=y.children[v];e[v]&&this._addStickyStyle(x,c,p[v],v===u),n[v]&&this._addStickyStyle(x,d,g[v],v===h)}this._positionListener&&m.some(y=>!!y)&&(this._positionListener.stickyColumnsUpdated({sizes:u===-1?[]:m.slice(0,u+1).map((y,v)=>e[v]?y:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:h===-1?[]:m.slice(h).map((y,v)=>n[v+h]?y:null).reverse()}))}})}stickRows(i,e,n){if(!this._isBrowser)return;let r=n==="bottom"?i.slice().reverse():i,a=n==="bottom"?e.slice().reverse():e,o=[],s=[],l=[];this._afterNextRender({earlyRead:()=>{for(let c=0,d=0;c<r.length;c++){if(!a[c])continue;o[c]=d;let u=r[c];l[c]=this._isNativeHtmlTable?Array.from(u.children):[u];let h=this._retrieveElementSize(u).height;d+=h,s[c]=h}},write:()=>{let c=a.lastIndexOf(!0);for(let d=0;d<r.length;d++){if(!a[d])continue;let u=o[d],h=d===c;for(let m of l[d])this._addStickyStyle(m,n,u,h)}n==="top"?this._positionListener?.stickyHeaderRowsUpdated({sizes:s,offsets:o,elements:l}):this._positionListener?.stickyFooterRowsUpdated({sizes:s,offsets:o,elements:l})}})}updateStickyFooterContainer(i,e){this._isNativeHtmlTable&&this._afterNextRender({write:()=>{let n=i.querySelector("tfoot");n&&(e.some(r=>!r)?this._removeStickyStyle(n,["bottom"]):this._addStickyStyle(n,"bottom",0,!1))}})}destroy(){this._stickyColumnsReplayTimeout&&clearTimeout(this._stickyColumnsReplayTimeout),this._resizeObserver?.disconnect(),this._destroyed=!0}_removeStickyStyle(i,e){if(!i.classList.contains(this._stickCellCss))return;for(let r of e)i.style[r]="",i.classList.remove(this._borderCellCss[r]);_2.some(r=>e.indexOf(r)===-1&&i.style[r])?i.style.zIndex=this._getCalculatedZIndex(i):(i.style.zIndex="",this._needsPositionStickyOnElement&&(i.style.position=""),i.classList.remove(this._stickCellCss))}_addStickyStyle(i,e,n,r){i.classList.add(this._stickCellCss),r&&i.classList.add(this._borderCellCss[e]),i.style[e]=`${n}px`,i.style.zIndex=this._getCalculatedZIndex(i),this._needsPositionStickyOnElement&&(i.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(i){let e={top:100,bottom:10,left:1,right:1},n=0;for(let r of _2)i.style[r]&&(n+=e[r]);return n?`${n}`:""}_getCellWidths(i,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;let n=[],r=i.children;for(let a=0;a<r.length;a++){let o=r[a];n.push(this._retrieveElementSize(o).width)}return this._cachedCellWidths=n,n}_getStickyStartColumnPositions(i,e){let n=[],r=0;for(let a=0;a<i.length;a++)e[a]&&(n[a]=r,r+=i[a]);return n}_getStickyEndColumnPositions(i,e){let n=[],r=0;for(let a=i.length;a>0;a--)e[a]&&(n[a]=r,r+=i[a]);return n}_retrieveElementSize(i){let e=this._elemSizeCache.get(i);if(e)return e;let n=i.getBoundingClientRect(),r={width:n.width,height:n.height};return this._resizeObserver&&(this._elemSizeCache.set(i,r),this._resizeObserver.observe(i,{box:"border-box"})),r}_updateStickyColumnReplayQueue(i){this._removeFromStickyColumnReplayQueue(i.rows),this._stickyColumnsReplayTimeout||this._updatedStickyColumnsParamsToReplay.push(i)}_removeFromStickyColumnReplayQueue(i){let e=new Set(i);for(let n of this._updatedStickyColumnsParamsToReplay)n.rows=n.rows.filter(r=>!e.has(r));this._updatedStickyColumnsParamsToReplay=this._updatedStickyColumnsParamsToReplay.filter(n=>!!n.rows.length)}_updateCachedSizes(i){let e=!1;for(let n of i){let r=n.borderBoxSize?.length?{width:n.borderBoxSize[0].inlineSize,height:n.borderBoxSize[0].blockSize}:{width:n.contentRect.width,height:n.contentRect.height};r.width!==this._elemSizeCache.get(n.target)?.width&&hK(n.target)&&(e=!0),this._elemSizeCache.set(n.target,r)}e&&this._updatedStickyColumnsParamsToReplay.length&&(this._stickyColumnsReplayTimeout&&clearTimeout(this._stickyColumnsReplayTimeout),this._stickyColumnsReplayTimeout=setTimeout(()=>{if(!this._destroyed){for(let n of this._updatedStickyColumnsParamsToReplay)this.updateStickyColumns(n.rows,n.stickyStartStates,n.stickyEndStates,!0,!1);this._updatedStickyColumnsParamsToReplay=[],this._stickyColumnsReplayTimeout=null}},0))}_afterNextRender(i){this._tableInjector?qi(i,{injector:this._tableInjector}):this._coalescedStyleScheduler.schedule(()=>{i.earlyRead?.(),i.write()})}};function hK(t){return["cdk-cell","cdk-header-cell","cdk-footer-cell"].some(i=>t.classList.contains(i))}var L0=new G("CDK_SPL");var yI=(()=>{class t{viewContainer=_(_i);elementRef=_(me);constructor(){let e=_(ns);e._rowOutlet=this,e._outletAssigned()}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["","rowOutlet",""]]})}return t})(),vI=(()=>{class t{viewContainer=_(_i);elementRef=_(me);constructor(){let e=_(ns);e._headerRowOutlet=this,e._outletAssigned()}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["","headerRowOutlet",""]]})}return t})(),_I=(()=>{class t{viewContainer=_(_i);elementRef=_(me);constructor(){let e=_(ns);e._footerRowOutlet=this,e._outletAssigned()}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["","footerRowOutlet",""]]})}return t})(),xI=(()=>{class t{viewContainer=_(_i);elementRef=_(me);constructor(){let e=_(ns);e._noDataRowOutlet=this,e._outletAssigned()}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["","noDataRowOutlet",""]]})}return t})();var CI=(()=>{class t{_differs=_(Gl);_changeDetectorRef=_(et);_elementRef=_(me);_dir=_(Oi,{optional:!0});_platform=_(Ft);_viewRepeater=_(Im);_coalescedStyleScheduler=_(O0);_viewportRuler=_(Zl);_stickyPositioningListener=_(L0,{optional:!0,skipSelf:!0});_document=_(He);_data;_onDestroy=new oe;_renderRows;_renderChangeSubscription;_columnDefsByName=new Map;_rowDefs;_headerRowDefs;_footerRowDefs;_dataDiffer;_defaultRowDef;_customColumnDefs=new Set;_customRowDefs=new Set;_customHeaderRowDefs=new Set;_customFooterRowDefs=new Set;_customNoDataRow;_headerRowDefChanged=!0;_footerRowDefChanged=!0;_stickyColumnStylesNeedReset=!0;_forceRecalculateCellWidths=!0;_cachedRenderRowsMap=new Map;_isNativeHtmlTable;_stickyStyler;stickyCssClass="cdk-table-sticky";needsPositionStickyOnElement=!0;_isServer;_isShowingNoDataRow=!1;_hasAllOutlets=!1;_hasInitialized=!1;_getCellRole(){if(this._cellRoleInternal===void 0){let e=this._elementRef.nativeElement.getAttribute("role");return e==="grid"||e==="treegrid"?"gridcell":"cell"}return this._cellRoleInternal}_cellRoleInternal=void 0;get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}_trackByFn;get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}_dataSource;get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=e,this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}_multiTemplateDataRows=!1;get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=e,this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}_fixedLayout=!1;contentChanged=new ie;viewChange=new Xi({start:0,end:Number.MAX_VALUE});_rowOutlet;_headerRowOutlet;_footerRowOutlet;_noDataRowOutlet;_contentColumnDefs;_contentRowDefs;_contentHeaderRowDefs;_contentFooterRowDefs;_noDataRow;_injector=_(Ye);constructor(){_(new fr("role"),{optional:!0})||this._elementRef.nativeElement.setAttribute("role","table"),this._isServer=!this._platform.isBrowser,this._isNativeHtmlTable=this._elementRef.nativeElement.nodeName==="TABLE",this._dataDiffer=this._differs.find([]).create((n,r)=>this.trackBy?this.trackBy(r.dataIndex,r.data):r)}ngOnInit(){this._setupStickyStyler(),this._viewportRuler.change().pipe(di(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentInit(){this._hasInitialized=!0}ngAfterContentChecked(){this._canRender()&&this._render()}ngOnDestroy(){this._stickyStyler?.destroy(),[this._rowOutlet?.viewContainer,this._headerRowOutlet?.viewContainer,this._footerRowOutlet?.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e?.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),eb(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();let e=this._dataDiffer.diff(this._renderRows);if(!e){this._updateNoDataRow(),this.contentChanged.next();return}let n=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,n,(r,a,o)=>this._getEmbeddedViewArgs(r.item,o),r=>r.item.data,r=>{r.operation===id.INSERTED&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(r=>{let a=n.get(r.currentIndex);a.context.$implicit=r.item.data}),this._updateNoDataRow(),this.contentChanged.next(),this.updateStickyColumnStyles()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){let e=this._getRenderedRows(this._headerRowOutlet);if(this._isNativeHtmlTable){let r=x2(this._headerRowOutlet,"thead");r&&(r.style.display=e.length?"":"none")}let n=this._headerRowDefs.map(r=>r.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,n,"top"),this._headerRowDefs.forEach(r=>r.resetStickyChanged())}updateStickyFooterRowStyles(){let e=this._getRenderedRows(this._footerRowOutlet);if(this._isNativeHtmlTable){let r=x2(this._footerRowOutlet,"tfoot");r&&(r.style.display=e.length?"":"none")}let n=this._footerRowDefs.map(r=>r.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,n,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,n),this._footerRowDefs.forEach(r=>r.resetStickyChanged())}updateStickyColumnStyles(){let e=this._getRenderedRows(this._headerRowOutlet),n=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...n,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((a,o)=>{this._addStickyColumnStyles([a],this._headerRowDefs[o])}),this._rowDefs.forEach(a=>{let o=[];for(let s=0;s<n.length;s++)this._renderRows[s].rowDef===a&&o.push(n[s]);this._addStickyColumnStyles(o,a)}),r.forEach((a,o)=>{this._addStickyColumnStyles([a],this._footerRowDefs[o])}),Array.from(this._columnDefsByName.values()).forEach(a=>a.resetStickyChanged())}_outletAssigned(){!this._hasAllOutlets&&this._rowOutlet&&this._headerRowOutlet&&this._footerRowOutlet&&this._noDataRowOutlet&&(this._hasAllOutlets=!0,this._canRender()&&this._render())}_canRender(){return this._hasAllOutlets&&this._hasInitialized}_render(){this._cacheRowDefs(),this._cacheColumnDefs(),!this._headerRowDefs.length&&!this._footerRowDefs.length&&this._rowDefs.length;let n=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||n,this._forceRecalculateCellWidths=n,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}_getAllRenderRows(){let e=[],n=this._cachedRenderRowsMap;if(this._cachedRenderRowsMap=new Map,!this._data)return e;for(let r=0;r<this._data.length;r++){let a=this._data[r],o=this._getRenderRowsForData(a,r,n.get(a));this._cachedRenderRowsMap.has(a)||this._cachedRenderRowsMap.set(a,new WeakMap);for(let s=0;s<o.length;s++){let l=o[s],c=this._cachedRenderRowsMap.get(l.data);c.has(l.rowDef)?c.get(l.rowDef).push(l):c.set(l.rowDef,[l]),e.push(l)}}return e}_getRenderRowsForData(e,n,r){return this._getRowDefs(e,n).map(o=>{let s=r&&r.has(o)?r.get(o):[];if(s.length){let l=s.shift();return l.dataIndex=n,l}else return{data:e,rowDef:o,dataIndex:n}})}_cacheColumnDefs(){this._columnDefsByName.clear(),E0(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(n=>{this._columnDefsByName.has(n.name),this._columnDefsByName.set(n.name,n)})}_cacheRowDefs(){this._headerRowDefs=E0(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=E0(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=E0(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);let e=this._rowDefs.filter(n=>!n.when);!this.multiTemplateDataRows&&e.length>1,this._defaultRowDef=e[0]}_renderUpdatedColumns(){let e=(o,s)=>{let l=!!s.getColumnsDiff();return o||l},n=this._rowDefs.reduce(e,!1);n&&this._forceRenderDataRows();let r=this._headerRowDefs.reduce(e,!1);r&&this._forceRenderHeaderRows();let a=this._footerRowDefs.reduce(e,!1);return a&&this._forceRenderFooterRows(),n||r||a}_switchDataSource(e){this._data=[],eb(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet&&this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;eb(this.dataSource)?e=this.dataSource.connect(this):hg(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=ke(this.dataSource)),this._renderChangeSubscription=e.pipe(di(this._onDestroy)).subscribe(n=>{this._data=n||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,n)=>this._renderRow(this._headerRowOutlet,e,n)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,n)=>this._renderRow(this._footerRowOutlet,e,n)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,n){let r=Array.from(n?.columns||[]).map(s=>{let l=this._columnDefsByName.get(s);return l}),a=r.map(s=>s.sticky),o=r.map(s=>s.stickyEnd);this._stickyStyler.updateStickyColumns(e,a,o,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){let n=[];for(let r=0;r<e.viewContainer.length;r++){let a=e.viewContainer.get(r);n.push(a.rootNodes[0])}return n}_getRowDefs(e,n){if(this._rowDefs.length==1)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(a=>!a.when||a.when(n,e));else{let a=this._rowDefs.find(o=>o.when&&o.when(n,e))||this._defaultRowDef;a&&r.push(a)}return r.length,r}_getEmbeddedViewArgs(e,n){let r=e.rowDef,a={$implicit:e.data};return{templateRef:r.template,context:a,index:n}}_renderRow(e,n,r,a={}){let o=e.viewContainer.createEmbeddedView(n.template,a,r);return this._renderCellTemplateForItem(n,a),o}_renderCellTemplateForItem(e,n){for(let r of this._getCellTemplates(e))ku.mostRecentCellOutlet&&ku.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,n);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){let e=this._rowOutlet.viewContainer;for(let n=0,r=e.length;n<r;n++){let o=e.get(n).context;o.count=r,o.first=n===0,o.last=n===r-1,o.even=n%2===0,o.odd=!o.even,this.multiTemplateDataRows?(o.dataIndex=this._renderRows[n].dataIndex,o.renderIndex=n):o.index=this._renderRows[n].dataIndex}}_getCellTemplates(e){return!e||!e.columns?[]:Array.from(e.columns,n=>{let r=this._columnDefsByName.get(n);return e.extractCellTemplate(r)})}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){let e=(n,r)=>n||r.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){let e=this._dir?this._dir.value:"ltr";this._stickyStyler=new hI(this._isNativeHtmlTable,this.stickyCssClass,e,this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener,this._injector),(this._dir?this._dir.change:ke()).pipe(di(this._onDestroy)).subscribe(n=>{this._stickyStyler.direction=n,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(n=>!n._table||n._table===this)}_updateNoDataRow(){let e=this._customNoDataRow||this._noDataRow;if(!e)return;let n=this._rowOutlet.viewContainer.length===0;if(n===this._isShowingNoDataRow)return;let r=this._noDataRowOutlet.viewContainer;if(n){let a=r.createEmbeddedView(e.templateRef),o=a.rootNodes[0];a.rootNodes.length===1&&o?.nodeType===this._document.ELEMENT_NODE&&(o.setAttribute("role","row"),o.classList.add(e._contentClassName))}else r.clear();this._isShowingNoDataRow=n,this._changeDetectorRef.markForCheck()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=X({type:t,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(n,r,a){if(n&1&&(St(a,M2,5),St(a,Am,5),St(a,F0,5),St(a,ib,5),St(a,fI,5)),n&2){let o;pe(o=fe())&&(r._noDataRow=o.first),pe(o=fe())&&(r._contentColumnDefs=o),pe(o=fe())&&(r._contentRowDefs=o),pe(o=fe())&&(r._contentHeaderRowDefs=o),pe(o=fe())&&(r._contentFooterRowDefs=o)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(n,r){n&2&&de("cdk-table-fixed-layout",r.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:[2,"multiTemplateDataRows","multiTemplateDataRows",J],fixedLayout:[2,"fixedLayout","fixedLayout",J]},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[Ue([{provide:ns,useExisting:t},{provide:Im,useClass:Mu},{provide:O0,useClass:mI},{provide:L0,useValue:null}])],ngContentSelectors:lK,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(n,r){n&1&&(ut(sK),Ie(0),Ie(1,1),ae(2,cK,1,0)(3,dK,7,0)(4,uK,4,0)),n&2&&(T(2),At(r._isServer?2:-1),T(),At(r._isNativeHtmlTable?3:4))},dependencies:[vI,yI,xI,_I],styles:[`.cdk-table-fixed-layout{table-layout:fixed}
`],encapsulation:2})}return t})();function E0(t,i){return t.concat(Array.from(i))}function x2(t,i){let e=i.toUpperCase(),n=t.viewContainer.element.nativeElement;for(;n;){let r=n.nodeType===1?n.nodeName:null;if(r===e)return n;if(r==="TABLE")break;n=n.parentNode}return null}var I2=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Se({type:t});static \u0275inj=De({imports:[tb]})}return t})();var Au=(()=>{class t{_listeners=[];notify(e,n){for(let r of this._listeners)r(e,n)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(n=>e!==n)}}ngOnDestroy(){this._listeners=[]}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var nb=class{_multiple;_emitChanges;compareWith;_selection=new Set;_deselectedToEmit=[];_selectedToEmit=[];_selected;get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}changed=new oe;constructor(i=!1,e,n=!0,r){this._multiple=i,this._emitChanges=n,this.compareWith=r,e&&e.length&&(i?e.forEach(a=>this._markSelected(a)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...i){this._verifyValueAssignment(i),i.forEach(n=>this._markSelected(n));let e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...i){this._verifyValueAssignment(i),i.forEach(n=>this._unmarkSelected(n));let e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...i){this._verifyValueAssignment(i);let e=this.selected,n=new Set(i.map(a=>this._getConcreteValue(a)));i.forEach(a=>this._markSelected(a)),e.filter(a=>!n.has(this._getConcreteValue(a,n))).forEach(a=>this._unmarkSelected(a));let r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(i){return this.isSelected(i)?this.deselect(i):this.select(i)}clear(i=!0){this._unmarkAll();let e=this._hasQueuedChanges();return i&&this._emitChangeEvent(),e}isSelected(i){return this._selection.has(this._getConcreteValue(i))}isEmpty(){return this._selection.size===0}hasValue(){return!this.isEmpty()}sort(i){this._multiple&&this.selected&&this._selected.sort(i)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(i){i=this._getConcreteValue(i),this.isSelected(i)||(this._multiple||this._unmarkAll(),this.isSelected(i)||this._selection.add(i),this._emitChanges&&this._selectedToEmit.push(i))}_unmarkSelected(i){i=this._getConcreteValue(i),this.isSelected(i)&&(this._selection.delete(i),this._emitChanges&&this._deselectedToEmit.push(i))}_unmarkAll(){this.isEmpty()||this._selection.forEach(i=>this._unmarkSelected(i))}_verifyValueAssignment(i){i.length>1&&this._multiple}_hasQueuedChanges(){return!!(this._deselectedToEmit.length||this._selectedToEmit.length)}_getConcreteValue(i,e){if(this.compareWith){e=e??this._selection;for(let n of e)if(this.compareWith(i,n))return n;return i}else return i}};function Eu(t){return t.buttons===0||t.detail===0}function Tu(t){let i=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!!i&&i.identifier===-1&&(i.radiusX==null||i.radiusX===1)&&(i.radiusY==null||i.radiusY===1)}var wI;function k2(){if(wI==null){let t=typeof document<"u"?document.head:null;wI=!!(t&&(t.createShadowRoot||t.attachShadow))}return wI}function DI(t){if(k2()){let i=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&i instanceof ShadowRoot)return i}return null}function Za(){let t=typeof document<"u"&&document?document.activeElement:null;for(;t&&t.shadowRoot;){let i=t.shadowRoot.activeElement;if(i===t)break;t=i}return t}function yr(t){return t.composedPath?t.composedPath()[0]:t.target}function Li(t,i,e,n,r){let a=parseInt(_g.major),o=parseInt(_g.minor);return a>19||a===19&&o>0||a===0&&o===0?t.listen(i,e,n,r):(i.addEventListener(e,n,r),()=>{i.removeEventListener(e,n,r)})}var rb;function A2(){if(rb==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>rb=!0}))}finally{rb=rb||!1}return rb}function Em(t){return A2()?t:!!t.capture}var E2=new G("cdk-input-modality-detector-options"),T2={ignoreKeys:[18,17,224,91,16]},R2=650,SI={passive:!0,capture:!0},O2=(()=>{class t{_platform=_(Ft);_listenerCleanups;modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new Xi(null);_options;_lastTouchMs=0;_onKeydown=e=>{this._options?.ignoreKeys?.some(n=>n===e.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=yr(e))};_onMousedown=e=>{Date.now()-this._lastTouchMs<R2||(this._modality.next(Eu(e)?"keyboard":"mouse"),this._mostRecentTarget=yr(e))};_onTouchstart=e=>{if(Tu(e)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=yr(e)};constructor(){let e=_(Ce),n=_(He),r=_(E2,{optional:!0});if(this._options=f(f({},T2),r),this.modalityDetected=this._modality.pipe(lm(1)),this.modalityChanged=this.modalityDetected.pipe(mg()),this._platform.isBrowser){let a=_(gr).createRenderer(null,null);this._listenerCleanups=e.runOutsideAngular(()=>[Li(a,n,"keydown",this._onKeydown,SI),Li(a,n,"mousedown",this._onMousedown,SI),Li(a,n,"touchstart",this._onTouchstart,SI)])}}ngOnDestroy(){this._modality.complete(),this._listenerCleanups?.forEach(e=>e())}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ab=function(t){return t[t.IMMEDIATE=0]="IMMEDIATE",t[t.EVENTUAL=1]="EVENTUAL",t}(ab||{}),L2=new G("cdk-focus-monitor-default-options"),V0=Em({passive:!0,capture:!0}),Ia=(()=>{class t{_ngZone=_(Ce);_platform=_(Ft);_inputModalityDetector=_(O2);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=_(He,{optional:!0});_stopInputModalityDetector=new oe;constructor(){let e=_(L2,{optional:!0});this._detectionMode=e?.detectionMode||ab.IMMEDIATE}_rootNodeFocusAndBlurListener=e=>{let n=yr(e);for(let r=n;r;r=r.parentElement)e.type==="focus"?this._onFocus(e,r):this._onBlur(e,r)};monitor(e,n=!1){let r=oa(e);if(!this._platform.isBrowser||r.nodeType!==1)return ke();let a=DI(r)||this._getDocument(),o=this._elementInfo.get(r);if(o)return n&&(o.checkChildren=!0),o.subject;let s={checkChildren:n,subject:new oe,rootNode:a};return this._elementInfo.set(r,s),this._registerGlobalListeners(s),s.subject}stopMonitoring(e){let n=oa(e),r=this._elementInfo.get(n);r&&(r.subject.complete(),this._setClasses(n),this._elementInfo.delete(n),this._removeGlobalListeners(r))}focusVia(e,n,r){let a=oa(e),o=this._getDocument().activeElement;a===o?this._getClosestElementsInfo(a).forEach(([s,l])=>this._originChanged(s,n,l)):(this._setOrigin(n),typeof a.focus=="function"&&a.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,n)=>this.stopMonitoring(n))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return this._detectionMode===ab.EVENTUAL||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,n){e.classList.toggle("cdk-focused",!!n),e.classList.toggle("cdk-touch-focused",n==="touch"),e.classList.toggle("cdk-keyboard-focused",n==="keyboard"),e.classList.toggle("cdk-mouse-focused",n==="mouse"),e.classList.toggle("cdk-program-focused",n==="program")}_setOrigin(e,n=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=e,this._originFromTouchInteraction=e==="touch"&&n,this._detectionMode===ab.IMMEDIATE){clearTimeout(this._originTimeoutId);let r=this._originFromTouchInteraction?R2:1;this._originTimeoutId=setTimeout(()=>this._origin=null,r)}})}_onFocus(e,n){let r=this._elementInfo.get(n),a=yr(e);!r||!r.checkChildren&&n!==a||this._originChanged(n,this._getFocusOrigin(a),r)}_onBlur(e,n){let r=this._elementInfo.get(n);!r||r.checkChildren&&e.relatedTarget instanceof Node&&n.contains(e.relatedTarget)||(this._setClasses(n),this._emitOrigin(r,null))}_emitOrigin(e,n){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(n))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;let n=e.rootNode,r=this._rootNodeFocusListenerCount.get(n)||0;r||this._ngZone.runOutsideAngular(()=>{n.addEventListener("focus",this._rootNodeFocusAndBlurListener,V0),n.addEventListener("blur",this._rootNodeFocusAndBlurListener,V0)}),this._rootNodeFocusListenerCount.set(n,r+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(di(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(e){let n=e.rootNode;if(this._rootNodeFocusListenerCount.has(n)){let r=this._rootNodeFocusListenerCount.get(n);r>1?this._rootNodeFocusListenerCount.set(n,r-1):(n.removeEventListener("focus",this._rootNodeFocusAndBlurListener,V0),n.removeEventListener("blur",this._rootNodeFocusAndBlurListener,V0),this._rootNodeFocusListenerCount.delete(n))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,n,r){this._setClasses(e,n),this._emitOrigin(r,n),this._lastFocusOrigin=n}_getClosestElementsInfo(e){let n=[];return this._elementInfo.forEach((r,a)=>{(a===e||r.checkChildren&&a.contains(e))&&n.push([a,r])}),n}_isLastInteractionFromInputLabel(e){let{_mostRecentTarget:n,mostRecentModality:r}=this._inputModalityDetector;if(r!=="mouse"||!n||n===e||e.nodeName!=="INPUT"&&e.nodeName!=="TEXTAREA"||e.disabled)return!1;let a=e.labels;if(a){for(let o=0;o<a.length;o++)if(a[o].contains(n))return!0}return!1}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ob=(()=>{class t{_elementRef=_(me);_focusMonitor=_(Ia);_monitorSubscription;_focusOrigin=null;cdkFocusChange=new ie;constructor(){}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){let e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,e.nodeType===1&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(n=>{this._focusOrigin=n,this.cdkFocusChange.emit(n)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]})}return t})();var B0=new WeakMap,hi=(()=>{class t{_appRef;_injector=_(Ye);_environmentInjector=_(ta);load(e){let n=this._appRef=this._appRef||this._injector.get(Yo),r=B0.get(n);r||(r={loaders:new Set,refs:[]},B0.set(n,r),n.onDestroy(()=>{B0.get(n)?.refs.forEach(a=>a.destroy()),B0.delete(n)})),r.loaders.has(e)||(r.loaders.add(e),r.refs.push(I_(e,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var rd=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=X({type:t,selectors:[["ng-component"]],exportAs:["cdkVisuallyHidden"],decls:0,vars:0,template:function(n,r){},styles:[`.cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}[dir=rtl] .cdk-visually-hidden{left:auto;right:0}
`],encapsulation:2,changeDetection:0})}return t})();function mK(t){if(t.type==="characterData"&&t.target instanceof Comment)return!0;if(t.type==="childList"){for(let i=0;i<t.addedNodes.length;i++)if(!(t.addedNodes[i]instanceof Comment))return!1;for(let i=0;i<t.removedNodes.length;i++)if(!(t.removedNodes[i]instanceof Comment))return!1;return!0}return!1}var N2=(()=>{class t{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),P2=(()=>{class t{_mutationObserverFactory=_(N2);_observedElements=new Map;_ngZone=_(Ce);constructor(){}ngOnDestroy(){this._observedElements.forEach((e,n)=>this._cleanupObserver(n))}observe(e){let n=oa(e);return new nr(r=>{let o=this._observeElement(n).pipe(Re(s=>s.filter(l=>!mK(l))),kt(s=>!!s.length)).subscribe(s=>{this._ngZone.run(()=>{r.next(s)})});return()=>{o.unsubscribe(),this._unobserveElement(n)}})}_observeElement(e){return this._ngZone.runOutsideAngular(()=>{if(this._observedElements.has(e))this._observedElements.get(e).count++;else{let n=new oe,r=this._mutationObserverFactory.create(a=>n.next(a));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:n,count:1})}return this._observedElements.get(e).stream})}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){let{observer:n,stream:r}=this._observedElements.get(e);n&&n.disconnect(),r.complete(),this._observedElements.delete(e)}}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),z0=(()=>{class t{_contentObserver=_(P2);_elementRef=_(me);event=new ie;get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._disabled?this._unsubscribe():this._subscribe()}_disabled=!1;get debounce(){return this._debounce}set debounce(e){this._debounce=el(e),this._subscribe()}_debounce;_currentSubscription=null;constructor(){}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();let e=this._contentObserver.observe(this._elementRef);this._currentSubscription=(this.debounce?e.pipe($c(this.debounce)):e).subscribe(this.event)}_unsubscribe(){this._currentSubscription?.unsubscribe()}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[2,"cdkObserveContentDisabled","disabled",J],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]})}return t})(),Tm=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Se({type:t});static \u0275inj=De({providers:[N2]})}return t})();var kI=(()=>{class t{_platform=_(Ft);constructor(){}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return fK(e)&&getComputedStyle(e).visibility==="visible"}isTabbable(e){if(!this._platform.isBrowser)return!1;let n=pK(wK(e));if(n&&(F2(n)===-1||!this.isVisible(n)))return!1;let r=e.nodeName.toLowerCase(),a=F2(e);return e.hasAttribute("contenteditable")?a!==-1:r==="iframe"||r==="object"||this._platform.WEBKIT&&this._platform.IOS&&!xK(e)?!1:r==="audio"?e.hasAttribute("controls")?a!==-1:!1:r==="video"?a===-1?!1:a!==null?!0:this._platform.FIREFOX||e.hasAttribute("controls"):e.tabIndex>=0}isFocusable(e,n){return CK(e)&&!this.isDisabled(e)&&(n?.ignoreVisibility||this.isVisible(e))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function pK(t){try{return t.frameElement}catch{return null}}function fK(t){return!!(t.offsetWidth||t.offsetHeight||typeof t.getClientRects=="function"&&t.getClientRects().length)}function gK(t){let i=t.nodeName.toLowerCase();return i==="input"||i==="select"||i==="button"||i==="textarea"}function bK(t){return vK(t)&&t.type=="hidden"}function yK(t){return _K(t)&&t.hasAttribute("href")}function vK(t){return t.nodeName.toLowerCase()=="input"}function _K(t){return t.nodeName.toLowerCase()=="a"}function z2(t){if(!t.hasAttribute("tabindex")||t.tabIndex===void 0)return!1;let i=t.getAttribute("tabindex");return!!(i&&!isNaN(parseInt(i,10)))}function F2(t){if(!z2(t))return null;let i=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(i)?-1:i}function xK(t){let i=t.nodeName.toLowerCase(),e=i==="input"&&t.type;return e==="text"||e==="password"||i==="select"||i==="textarea"}function CK(t){return bK(t)?!1:gK(t)||yK(t)||t.hasAttribute("contenteditable")||z2(t)}function wK(t){return t.ownerDocument&&t.ownerDocument.defaultView||window}var II=class{_element;_checker;_ngZone;_document;_injector;_startAnchor;_endAnchor;_hasAttached=!1;startAnchorListener=()=>this.focusLastTabbableElement();endAnchorListener=()=>this.focusFirstTabbableElement();get enabled(){return this._enabled}set enabled(i){this._enabled=i,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(i,this._startAnchor),this._toggleAnchorTabIndex(i,this._endAnchor))}_enabled=!0;constructor(i,e,n,r,a=!1,o){this._element=i,this._checker=e,this._ngZone=n,this._document=r,this._injector=o,a||this.attachAnchors()}destroy(){let i=this._startAnchor,e=this._endAnchor;i&&(i.removeEventListener("focus",this.startAnchorListener),i.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(i){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(i)))})}focusFirstTabbableElementWhenReady(i){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(i)))})}focusLastTabbableElementWhenReady(i){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(i)))})}_getRegionBoundary(i){let e=this._element.querySelectorAll(`[cdk-focus-region-${i}], [cdkFocusRegion${i}], [cdk-focus-${i}]`);return i=="start"?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(i){let e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){let n=this._getFirstTabbableElement(e);return n?.focus(i),!!n}return e.focus(i),!0}return this.focusFirstTabbableElement(i)}focusFirstTabbableElement(i){let e=this._getRegionBoundary("start");return e&&e.focus(i),!!e}focusLastTabbableElement(i){let e=this._getRegionBoundary("end");return e&&e.focus(i),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(i){if(this._checker.isFocusable(i)&&this._checker.isTabbable(i))return i;let e=i.children;for(let n=0;n<e.length;n++){let r=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(r)return r}return null}_getLastTabbableElement(i){if(this._checker.isFocusable(i)&&this._checker.isTabbable(i))return i;let e=i.children;for(let n=e.length-1;n>=0;n--){let r=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(r)return r}return null}_createAnchor(){let i=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,i),i.classList.add("cdk-visually-hidden"),i.classList.add("cdk-focus-trap-anchor"),i.setAttribute("aria-hidden","true"),i}_toggleAnchorTabIndex(i,e){i?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(i){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(i,this._startAnchor),this._toggleAnchorTabIndex(i,this._endAnchor))}_executeOnStable(i){this._injector?qi(i,{injector:this._injector}):setTimeout(i)}},j0=(()=>{class t{_checker=_(kI);_ngZone=_(Ce);_document=_(He);_injector=_(Ye);constructor(){_(hi).load(rd)}create(e,n=!1){return new II(e,this._checker,this._ngZone,this._document,n,this._injector)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),AI=(()=>{class t{_elementRef=_(me);_focusTrapFactory=_(j0);focusTrap;_previouslyFocusedElement=null;get enabled(){return this.focusTrap?.enabled||!1}set enabled(e){this.focusTrap&&(this.focusTrap.enabled=e)}autoCapture;constructor(){_(Ft).isBrowser&&(this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0))}ngOnDestroy(){this.focusTrap?.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap?.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap&&!this.focusTrap.hasAttached()&&this.focusTrap.attachAnchors()}ngOnChanges(e){let n=e.autoCapture;n&&!n.firstChange&&this.autoCapture&&this.focusTrap?.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=Za(),this.focusTrap?.focusInitialElementWhenReady()}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:[2,"cdkTrapFocus","enabled",J],autoCapture:[2,"cdkTrapFocusAutoCapture","autoCapture",J]},exportAs:["cdkTrapFocus"],features:[_t]})}return t})(),j2=new G("liveAnnouncerElement",{providedIn:"root",factory:U2});function U2(){return null}var H2=new G("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),DK=0,EI=(()=>{class t{_ngZone=_(Ce);_defaultOptions=_(H2,{optional:!0});_liveElement;_document=_(He);_previousTimeout;_currentPromise;_currentResolve;constructor(){let e=_(j2,{optional:!0});this._liveElement=e||this._createLiveElement()}announce(e,...n){let r=this._defaultOptions,a,o;return n.length===1&&typeof n[0]=="number"?o=n[0]:[a,o]=n,this.clear(),clearTimeout(this._previousTimeout),a||(a=r&&r.politeness?r.politeness:"polite"),o==null&&r&&(o=r.duration),this._liveElement.setAttribute("aria-live",a),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(s=>this._currentResolve=s)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,typeof o=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),o)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let e="cdk-live-announcer-element",n=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let a=0;a<n.length;a++)n[a].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id=`cdk-live-announcer-${DK++}`,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(e){let n=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<n.length;r++){let a=n[r],o=a.getAttribute("aria-owns");o?o.indexOf(e)===-1&&a.setAttribute("aria-owns",o+" "+e):a.setAttribute("aria-owns",e)}}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var ad=function(t){return t[t.NONE=0]="NONE",t[t.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",t[t.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",t}(ad||{}),V2="cdk-high-contrast-black-on-white",B2="cdk-high-contrast-white-on-black",MI="cdk-high-contrast-active",U0=(()=>{class t{_platform=_(Ft);_hasCheckedHighContrastMode;_document=_(He);_breakpointSubscription;constructor(){this._breakpointSubscription=_(ts).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return ad.NONE;let e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);let n=this._document.defaultView||window,r=n&&n.getComputedStyle?n.getComputedStyle(e):null,a=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),a){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return ad.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return ad.BLACK_ON_WHITE}return ad.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let e=this._document.body.classList;e.remove(MI,V2,B2),this._hasCheckedHighContrastMode=!0;let n=this.getHighContrastMode();n===ad.BLACK_ON_WHITE?e.add(MI,V2):n===ad.WHITE_ON_BLACK&&e.add(MI,B2)}}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),sb=(()=>{class t{constructor(){_(U0)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(n){return new(n||t)};static \u0275mod=Se({type:t});static \u0275inj=De({imports:[Tm]})}return t})();var TI={},Kt=(()=>{class t{_appId=_(fg);getId(e){return this._appId!=="ng"&&(e+=this._appId),TI.hasOwnProperty(e)||(TI[e]=0),`${e}${TI[e]++}`}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var SK=200,H0=class{_letterKeyStream=new oe;_items=[];_selectedItemIndex=-1;_pressedLetters=[];_skipPredicateFn;_selectedItem=new oe;selectedItem=this._selectedItem;constructor(i,e){let n=typeof e?.debounceInterval=="number"?e.debounceInterval:SK;e?.skipPredicate&&(this._skipPredicateFn=e.skipPredicate),this.setItems(i),this._setupKeyHandler(n)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(i){this._selectedItemIndex=i}setItems(i){this._items=i}handleKey(i){let e=i.keyCode;i.key&&i.key.length===1?this._letterKeyStream.next(i.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(i){this._letterKeyStream.pipe(Ki(e=>this._pressedLetters.push(e)),$c(i),kt(()=>this._pressedLetters.length>0),Re(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(e=>{for(let n=1;n<this._items.length+1;n++){let r=(this._selectedItemIndex+n)%this._items.length,a=this._items[r];if(!this._skipPredicateFn?.(a)&&a.getLabel?.().toLocaleUpperCase().trim().indexOf(e)===0){this._selectedItem.next(a);break}}this._pressedLetters=[]})}};function pi(t,...i){return i.length?i.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}var Rm=class{_items;_activeItemIndex=-1;_activeItem=yn(null);_wrap=!1;_typeaheadSubscription=xt.EMPTY;_itemChangesSubscription;_vertical=!0;_horizontal;_allowedModifierKeys=[];_homeAndEnd=!1;_pageUpAndDown={enabled:!1,delta:10};_effectRef;_typeahead;_skipPredicateFn=i=>i.disabled;constructor(i,e){this._items=i,i instanceof jl?this._itemChangesSubscription=i.changes.subscribe(n=>this._itemsChanged(n.toArray())):pu(i)&&(this._effectRef=$s(()=>this._itemsChanged(i()),{injector:e}))}tabOut=new oe;change=new oe;skipPredicate(i){return this._skipPredicateFn=i,this}withWrap(i=!0){return this._wrap=i,this}withVerticalOrientation(i=!0){return this._vertical=i,this}withHorizontalOrientation(i){return this._horizontal=i,this}withAllowedModifierKeys(i){return this._allowedModifierKeys=i,this}withTypeAhead(i=200){this._typeaheadSubscription.unsubscribe();let e=this._getItemsArray();return this._typeahead=new H0(e,{debounceInterval:typeof i=="number"?i:void 0,skipPredicate:n=>this._skipPredicateFn(n)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(n=>{this.setActiveItem(n)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(i=!0){return this._homeAndEnd=i,this}withPageUpDown(i=!0,e=10){return this._pageUpAndDown={enabled:i,delta:e},this}setActiveItem(i){let e=this._activeItem();this.updateActiveItem(i),this._activeItem()!==e&&this.change.next(this._activeItemIndex)}onKeydown(i){let e=i.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(a=>!i[a]||this._allowedModifierKeys.indexOf(a)>-1);switch(e){case 9:this.tabOut.next();return;case 40:if(this._vertical&&r){this.setNextItemActive();break}else return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&r){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&r){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&r){let a=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(a>0?a:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&r){let a=this._activeItemIndex+this._pageUpAndDown.delta,o=this._getItemsArray().length;this._setActiveItemByIndex(a<o?a:o-1,-1);break}else return;default:(r||pi(i,"shiftKey"))&&this._typeahead?.handleKey(i);return}this._typeahead?.reset(),i.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem()}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(i){let e=this._getItemsArray(),n=typeof i=="number"?i:e.indexOf(i),r=e[n];this._activeItem.set(r??null),this._activeItemIndex=n,this._typeahead?.setCurrentSelectedItemIndex(n)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(i){this._wrap?this._setActiveInWrapMode(i):this._setActiveInDefaultMode(i)}_setActiveInWrapMode(i){let e=this._getItemsArray();for(let n=1;n<=e.length;n++){let r=(this._activeItemIndex+i*n+e.length)%e.length,a=e[r];if(!this._skipPredicateFn(a)){this.setActiveItem(r);return}}}_setActiveInDefaultMode(i){this._setActiveItemByIndex(this._activeItemIndex+i,i)}_setActiveItemByIndex(i,e){let n=this._getItemsArray();if(n[i]){for(;this._skipPredicateFn(n[i]);)if(i+=e,!n[i])return;this.setActiveItem(i)}}_getItemsArray(){return pu(this._items)?this._items():this._items instanceof jl?this._items.toArray():this._items}_itemsChanged(i){this._typeahead?.setItems(i);let e=this._activeItem();if(e){let n=i.indexOf(e);n>-1&&n!==this._activeItemIndex&&(this._activeItemIndex=n,this._typeahead?.setCurrentSelectedItemIndex(n))}}};var Ru=class extends Rm{setActiveItem(i){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(i),this.activeItem&&this.activeItem.setActiveStyles()}};var Ql=class extends Rm{_origin="program";setFocusOrigin(i){return this._origin=i,this}setActiveItem(i){super.setActiveItem(i),this.activeItem&&this.activeItem.focus(this._origin)}};var $2=" ";function Y2(t,i,e){let n=K2(t,i);e=e.trim(),!n.some(r=>r.trim()===e)&&(n.push(e),t.setAttribute(i,n.join($2)))}function RI(t,i,e){let n=K2(t,i);e=e.trim();let r=n.filter(a=>a!==e);r.length?t.setAttribute(i,r.join($2)):t.removeAttribute(i)}function K2(t,i){return t.getAttribute(i)?.match(/\S+/g)??[]}var Qe=(()=>{class t{constructor(){_(U0)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(n){return new(n||t)};static \u0275mod=Se({type:t});static \u0275inj=De({imports:[nd,nd]})}return t})();function Cn(t){return t==null?"":typeof t=="string"?t:`${t}px`}function q2(t,i=/\s+/){let e=[];if(t!=null){let n=Array.isArray(t)?t:`${t}`.split(i);for(let r of n){let a=`${r}`.trim();a&&e.push(a)}}return e}var MK=[[["caption"]],[["colgroup"],["col"]],"*"],IK=["caption","colgroup, col","*"];function kK(t,i){t&1&&Ie(0,2)}function AK(t,i){t&1&&(M(0,"thead",0),xa(1,1),I(),M(2,"tbody",2),xa(3,3)(4,4),I(),M(5,"tfoot",0),xa(6,5),I())}function EK(t,i){t&1&&xa(0,1)(1,3)(2,4)(3,5)}var Om=(()=>{class t extends CI{stickyCssClass="mat-mdc-table-sticky";needsPositionStickyOnElement=!1;static \u0275fac=(()=>{let e;return function(r){return(e||(e=Dt(t)))(r||t)}})();static \u0275cmp=X({type:t,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(n,r){n&2&&de("mdc-table-fixed-layout",r.fixedLayout)},exportAs:["matTable"],features:[Ue([{provide:CI,useExisting:t},{provide:ns,useExisting:t},{provide:O0,useClass:mI},{provide:Im,useClass:Mu},{provide:L0,useValue:null}]),Ve],ngContentSelectors:IK,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["role","rowgroup",1,"mdc-data-table__content"],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(n,r){n&1&&(ut(MK),Ie(0),Ie(1,1),ae(2,kK,1,0)(3,AK,7,0)(4,EK,4,0)),n&2&&(T(2),At(r._isServer?2:-1),T(),At(r._isNativeHtmlTable?3:4))},dependencies:[vI,yI,xI,_I],styles:[`.mat-mdc-table-sticky{position:sticky !important}mat-table{display:block}mat-header-row{min-height:var(--mat-table-header-container-height, 56px)}mat-row{min-height:var(--mat-table-row-item-container-height, 52px)}mat-footer-row{min-height:var(--mat-table-footer-container-height, 52px)}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table{min-width:100%;border:0;border-spacing:0;table-layout:auto;white-space:normal;background-color:var(--mat-table-background-color, var(--mat-sys-surface))}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell{text-align:right}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px}.mat-mdc-header-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-header-container-height, 56px);color:var(--mat-table-header-headline-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-table-header-headline-font, var(--mat-sys-title-small-font, Roboto, sans-serif));line-height:var(--mat-table-header-headline-line-height, var(--mat-sys-title-small-line-height));font-size:var(--mat-table-header-headline-size, var(--mat-sys-title-small-size, 14px));font-weight:var(--mat-table-header-headline-weight, var(--mat-sys-title-small-weight, 500))}.mat-mdc-row{height:var(--mat-table-row-item-container-height, 52px);color:var(--mat-table-row-item-label-text-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)))}.mat-mdc-row,.mdc-data-table__content{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-table-row-item-label-text-font, var(--mat-sys-body-medium-font, Roboto, sans-serif));line-height:var(--mat-table-row-item-label-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-table-row-item-label-text-size, var(--mat-sys-body-medium-size, 14px));font-weight:var(--mat-table-row-item-label-text-weight, var(--mat-sys-body-medium-weight))}.mat-mdc-footer-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-footer-container-height, 52px);color:var(--mat-table-row-item-label-text-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-table-footer-supporting-text-font, var(--mat-sys-body-medium-font, Roboto, sans-serif));line-height:var(--mat-table-footer-supporting-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-table-footer-supporting-text-size, var(--mat-sys-body-medium-size, 14px));font-weight:var(--mat-table-footer-supporting-text-weight, var(--mat-sys-body-medium-weight));letter-spacing:var(--mat-table-footer-supporting-text-tracking, var(--mat-sys-body-medium-tracking))}.mat-mdc-header-cell{border-bottom-color:var(--mat-table-row-item-outline-color, var(--mat-sys-outline, rgba(0, 0, 0, 0.12)));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-header-headline-tracking, var(--mat-sys-title-small-tracking));font-weight:inherit;line-height:inherit;box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mat-mdc-header-cell{text-align:right}.mdc-data-table__row:last-child>.mat-mdc-header-cell{border-bottom:none}.mat-mdc-cell{border-bottom-color:var(--mat-table-row-item-outline-color, var(--mat-sys-outline, rgba(0, 0, 0, 0.12)));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-row-item-label-text-tracking, var(--mat-sys-body-medium-tracking));line-height:inherit}.mdc-data-table__row:last-child>.mat-mdc-cell{border-bottom:none}.mat-mdc-footer-cell{letter-spacing:var(--mat-table-row-item-label-text-tracking, var(--mat-sys-body-medium-tracking))}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}
`],encapsulation:2})}return t})(),Lm=(()=>{class t extends N0{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Dt(t)))(r||t)}})();static \u0275dir=Y({type:t,selectors:[["","matCellDef",""]],features:[Ue([{provide:N0,useExisting:t}]),Ve]})}return t})(),Nm=(()=>{class t extends P0{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Dt(t)))(r||t)}})();static \u0275dir=Y({type:t,selectors:[["","matHeaderCellDef",""]],features:[Ue([{provide:P0,useExisting:t}]),Ve]})}return t})();var Pm=(()=>{class t extends Am{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Dt(t)))(r||t)}})();static \u0275dir=Y({type:t,selectors:[["","matColumnDef",""]],inputs:{name:[0,"matColumnDef","name"]},features:[Ue([{provide:Am,useExisting:t},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:t}]),Ve]})}return t})(),Fm=(()=>{class t extends D2{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Dt(t)))(r||t)}})();static \u0275dir=Y({type:t,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],features:[Ve]})}return t})();var Vm=(()=>{class t extends S2{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Dt(t)))(r||t)}})();static \u0275dir=Y({type:t,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],features:[Ve]})}return t})();var Bm=(()=>{class t extends ib{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Dt(t)))(r||t)}})();static \u0275dir=Y({type:t,selectors:[["","matHeaderRowDef",""]],inputs:{columns:[0,"matHeaderRowDef","columns"],sticky:[2,"matHeaderRowDefSticky","sticky",J]},features:[Ue([{provide:ib,useExisting:t}]),Ve]})}return t})();var zm=(()=>{class t extends F0{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Dt(t)))(r||t)}})();static \u0275dir=Y({type:t,selectors:[["","matRowDef",""]],inputs:{columns:[0,"matRowDefColumns","columns"],when:[0,"matRowDefWhen","when"]},features:[Ue([{provide:F0,useExisting:t}]),Ve]})}return t})(),jm=(()=>{class t extends gI{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Dt(t)))(r||t)}})();static \u0275cmp=X({type:t,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],features:[Ue([{provide:gI,useExisting:t}]),Ve],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(n,r){n&1&&xa(0,0)},dependencies:[ku],encapsulation:2})}return t})();var Um=(()=>{class t extends bI{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Dt(t)))(r||t)}})();static \u0275cmp=X({type:t,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],features:[Ue([{provide:bI,useExisting:t}]),Ve],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(n,r){n&1&&xa(0,0)},dependencies:[ku],encapsulation:2})}return t})();var Z2=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Se({type:t});static \u0275inj=De({imports:[Qe,I2,Qe]})}return t})(),TK=9007199254740991,rl=class extends Jg{_data;_renderData=new Xi([]);_filter=new Xi("");_internalPageChanges=new oe;_renderChangesSubscription=null;filteredData;get data(){return this._data.value}set data(i){i=Array.isArray(i)?i:[],this._data.next(i),this._renderChangesSubscription||this._filterData(i)}get filter(){return this._filter.value}set filter(i){this._filter.next(i),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(i){this._sort=i,this._updateChangeSubscription()}_sort;get paginator(){return this._paginator}set paginator(i){this._paginator=i,this._updateChangeSubscription()}_paginator;sortingDataAccessor=(i,e)=>{let n=i[e];if(M0(n)){let r=Number(n);return r<TK?r:n}return n};sortData=(i,e)=>{let n=e.active,r=e.direction;return!n||r==""?i:i.sort((a,o)=>{let s=this.sortingDataAccessor(a,n),l=this.sortingDataAccessor(o,n),c=typeof s,d=typeof l;c!==d&&(c==="number"&&(s+=""),d==="number"&&(l+=""));let u=0;return s!=null&&l!=null?s>l?u=1:s<l&&(u=-1):s!=null?u=1:l!=null&&(u=-1),u*(r=="asc"?1:-1)})};filterPredicate=(i,e)=>{let n=e.trim().toLowerCase();return Object.values(i).some(r=>`${r}`.toLowerCase().includes(n))};constructor(i=[]){super(),this._data=new Xi(i),this._updateChangeSubscription()}_updateChangeSubscription(){let i=this._sort?ri(this._sort.sortChange,this._sort.initialized):ke(null),e=this._paginator?ri(this._paginator.page,this._internalPageChanges,this._paginator.initialized):ke(null),n=this._data,r=Gs([n,this._filter]).pipe(Re(([s])=>this._filterData(s))),a=Gs([r,i]).pipe(Re(([s])=>this._orderData(s))),o=Gs([a,e]).pipe(Re(([s])=>this._pageData(s)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=o.subscribe(s=>this._renderData.next(s))}_filterData(i){return this.filteredData=this.filter==null||this.filter===""?i:i.filter(e=>this.filterPredicate(e,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(i){return this.sort?this.sortData(i.slice(),this.sort):i}_pageData(i){if(!this.paginator)return i;let e=this.paginator.pageIndex*this.paginator.pageSize;return i.slice(e,e+this.paginator.pageSize)}_updatePaginator(i){Promise.resolve().then(()=>{let e=this.paginator;if(e&&(e.length=i,e.pageIndex>0)){let n=Math.ceil(e.length/e.pageSize)-1||0,r=Math.min(e.pageIndex,n);r!==e.pageIndex&&(e.pageIndex=r,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}};var Q2=()=>{};var NI={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var be=function(t,i){if(!t)throw Ou(i)},Ou=function(t){return new Error("Firebase Database ("+NI.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};var eF=function(t){let i=[],e=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?i[e++]=r:r<2048?(i[e++]=r>>6|192,i[e++]=r&63|128):(r&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++n)&1023),i[e++]=r>>18|240,i[e++]=r>>12&63|128,i[e++]=r>>6&63|128,i[e++]=r&63|128):(i[e++]=r>>12|224,i[e++]=r>>6&63|128,i[e++]=r&63|128)}return i},RK=function(t){let i=[],e=0,n=0;for(;e<t.length;){let r=t[e++];if(r<128)i[n++]=String.fromCharCode(r);else if(r>191&&r<224){let a=t[e++];i[n++]=String.fromCharCode((r&31)<<6|a&63)}else if(r>239&&r<365){let a=t[e++],o=t[e++],s=t[e++],l=((r&7)<<18|(a&63)<<12|(o&63)<<6|s&63)-65536;i[n++]=String.fromCharCode(55296+(l>>10)),i[n++]=String.fromCharCode(56320+(l&1023))}else{let a=t[e++],o=t[e++];i[n++]=String.fromCharCode((r&15)<<12|(a&63)<<6|o&63)}}return i.join("")},Wm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,i){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let e=i?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let r=0;r<t.length;r+=3){let a=t[r],o=r+1<t.length,s=o?t[r+1]:0,l=r+2<t.length,c=l?t[r+2]:0,d=a>>2,u=(a&3)<<4|s>>4,h=(s&15)<<2|c>>6,m=c&63;l||(m=64,o||(h=64)),n.push(e[d],e[u],e[h],e[m])}return n.join("")},encodeString(t,i){return this.HAS_NATIVE_SUPPORT&&!i?btoa(t):this.encodeByteArray(eF(t),i)},decodeString(t,i){return this.HAS_NATIVE_SUPPORT&&!i?atob(t):RK(this.decodeStringToByteArray(t,i))},decodeStringToByteArray(t,i){this.init_();let e=i?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let r=0;r<t.length;){let a=e[t.charAt(r++)],s=r<t.length?e[t.charAt(r)]:0;++r;let c=r<t.length?e[t.charAt(r)]:64;++r;let u=r<t.length?e[t.charAt(r)]:64;if(++r,a==null||s==null||c==null||u==null)throw new PI;let h=a<<2|s>>4;if(n.push(h),c!==64){let m=s<<4&240|c>>2;if(n.push(m),u!==64){let p=c<<6&192|u;n.push(p)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},PI=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},VI=function(t){let i=eF(t);return Wm.encodeByteArray(i,!0)},ub=function(t){return VI(t).replace(/\./g,"")},Hm=function(t){try{return Wm.decodeString(t,!0)}catch(i){console.error("base64Decode failed: ",i)}return null};function tF(t){return iF(void 0,t)}function iF(t,i){if(!(i instanceof Object))return i;switch(i.constructor){case Date:let e=i;return new Date(e.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return i}for(let e in i)!i.hasOwnProperty(e)||!OK(e)||(t[e]=iF(t[e],i[e]));return t}function OK(t){return t!=="__proto__"}function nF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var LK=()=>nF().__FIREBASE_DEFAULTS__,NK=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},PK=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let i=t&&Hm(t[1]);return i&&JSON.parse(i)},BI=()=>{try{return Q2()||LK()||NK()||PK()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},zI=t=>{var i,e;return(e=(i=BI())===null||i===void 0?void 0:i.emulatorHosts)===null||e===void 0?void 0:e[t]},rF=t=>{let i=zI(t);if(!i)return;let e=i.lastIndexOf(":");if(e<=0||e+1===i.length)throw new Error(`Invalid host ${i} with no separate hostname and port!`);let n=parseInt(i.substring(e+1),10);return i[0]==="["?[i.substring(1,e-1),n]:[i.substring(0,e),n]},jI=()=>{var t;return(t=BI())===null||t===void 0?void 0:t.config},UI=t=>{var i;return(i=BI())===null||i===void 0?void 0:i[`_${t}`]};var rs=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((i,e)=>{this.resolve=i,this.reject=e})}wrapCallback(i){return(e,n)=>{e?this.reject(e):this.resolve(n),typeof i=="function"&&(this.promise.catch(()=>{}),i.length===1?i(e):i(e,n))}}};function od(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}function Y0(t){return L(this,null,function*(){return(yield fetch(t,{credentials:"include"})).ok})}function aF(t,i){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let e={alg:"none",type:"JWT"},n=i||"demo-project",r=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ub(JSON.stringify(e)),ub(JSON.stringify(o)),""].join(".")}var db={};function FK(){let t={prod:[],emulator:[]};for(let i of Object.keys(db))db[i]?t.emulator.push(i):t.prod.push(i);return t}function VK(t){let i=document.getElementById(t),e=!1;return i||(i=document.createElement("div"),i.setAttribute("id",t),e=!0),{created:e,element:i}}var X2=!1;function K0(t,i){if(typeof window>"u"||typeof document>"u"||!od(window.location.host)||db[t]===i||db[t]||X2)return;db[t]=i;function e(h){return`__firebase__banner__${h}`}let n="__firebase__banner",a=FK().prod.length>0;function o(){let h=document.getElementById(n);h&&h.remove()}function s(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,m){h.setAttribute("width","24"),h.setAttribute("id",m),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){let h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{X2=!0,o()},h}function d(h,m){h.setAttribute("id",m),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function u(){let h=VK(n),m=e("text"),p=document.getElementById(m)||document.createElement("span"),g=e("learnmore"),y=document.getElementById(g)||document.createElement("a"),v=e("preprendIcon"),x=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){let w=h.element;s(w),d(y,g);let D=c();l(x,v),w.append(x,p,y,D),document.body.appendChild(w)}a?(p.innerText="Preview backend disconnected.",x.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(x.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,p.innerText="Preview backend running in this workspace."),p.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",u):u()}function Fr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fr())}function oF(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function sF(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function q0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lF(){let t=Fr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function al(){return NI.NODE_CLIENT===!0||NI.NODE_ADMIN===!0}function Z0(){try{return typeof indexedDB=="object"}catch{return!1}}function cF(){return new Promise((t,i)=>{try{let e=!0,n="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(n);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(n),t(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{var a;i(((a=r.error)===null||a===void 0?void 0:a.message)||"")}}catch(e){i(e)}})}var BK="FirebaseError",as=class t extends Error{constructor(i,e,n){super(e),this.code=i,this.customData=n,this.name=BK,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,os.prototype.create)}},os=class{constructor(i,e,n){this.service=i,this.serviceName=e,this.errors=n}create(i,...e){let n=e[0]||{},r=`${this.service}/${i}`,a=this.errors[i],o=a?zK(a,n):"Error",s=`${this.serviceName}: ${o} (${r}).`;return new as(r,s,n)}};function zK(t,i){return t.replace(jK,(e,n)=>{let r=i[n];return r!=null?String(r):`<${n}?>`})}var jK=/\{\$([^}]+)}/g;function Gm(t){return JSON.parse(t)}function In(t){return JSON.stringify(t)}var dF=function(t){let i={},e={},n={},r="";try{let a=t.split(".");i=Gm(Hm(a[0])||""),e=Gm(Hm(a[1])||""),r=a[2],n=e.d||{},delete e.d}catch{}return{header:i,claims:e,data:n,signature:r}};var uF=function(t){let i=dF(t),e=i.claims;return!!e&&typeof e=="object"&&e.hasOwnProperty("iat")},hF=function(t){let i=dF(t).claims;return typeof i=="object"&&i.admin===!0};function ol(t,i){return Object.prototype.hasOwnProperty.call(t,i)}function Lu(t,i){if(Object.prototype.hasOwnProperty.call(t,i))return t[i]}function mb(t){for(let i in t)if(Object.prototype.hasOwnProperty.call(t,i))return!1;return!0}function pb(t,i,e){let n={};for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=i.call(e,t[r],r,t));return n}function sl(t,i){if(t===i)return!0;let e=Object.keys(t),n=Object.keys(i);for(let r of e){if(!n.includes(r))return!1;let a=t[r],o=i[r];if(J2(a)&&J2(o)){if(!sl(a,o))return!1}else if(a!==o)return!1}for(let r of n)if(!e.includes(r))return!1;return!0}function J2(t){return t!==null&&typeof t=="object"}function sd(t){let i=[];for(let[e,n]of Object.entries(t))Array.isArray(n)?n.forEach(r=>{i.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):i.push(encodeURIComponent(e)+"="+encodeURIComponent(n));return i.length?"&"+i.join("&"):""}function $m(t){let i={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){let[r,a]=n.split("=");i[decodeURIComponent(r)]=decodeURIComponent(a)}}),i}function Ym(t){let i=t.indexOf("?");if(!i)return"";let e=t.indexOf("#",i);return t.substring(i,e>0?e:void 0)}var $0=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let i=1;i<this.blockSize;++i)this.pad_[i]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(i,e){e||(e=0);let n=this.W_;if(typeof i=="string")for(let u=0;u<16;u++)n[u]=i.charCodeAt(e)<<24|i.charCodeAt(e+1)<<16|i.charCodeAt(e+2)<<8|i.charCodeAt(e+3),e+=4;else for(let u=0;u<16;u++)n[u]=i[e]<<24|i[e+1]<<16|i[e+2]<<8|i[e+3],e+=4;for(let u=16;u<80;u++){let h=n[u-3]^n[u-8]^n[u-14]^n[u-16];n[u]=(h<<1|h>>>31)&4294967295}let r=this.chain_[0],a=this.chain_[1],o=this.chain_[2],s=this.chain_[3],l=this.chain_[4],c,d;for(let u=0;u<80;u++){u<40?u<20?(c=s^a&(o^s),d=1518500249):(c=a^o^s,d=1859775393):u<60?(c=a&o|s&(a|o),d=2400959708):(c=a^o^s,d=3395469782);let h=(r<<5|r>>>27)+c+l+d+n[u]&4294967295;l=s,s=o,o=(a<<30|a>>>2)&4294967295,a=r,r=h}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+s&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(i,e){if(i==null)return;e===void 0&&(e=i.length);let n=e-this.blockSize,r=0,a=this.buf_,o=this.inbuf_;for(;r<e;){if(o===0)for(;r<=n;)this.compress_(i,r),r+=this.blockSize;if(typeof i=="string"){for(;r<e;)if(a[o]=i.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(a),o=0;break}}else for(;r<e;)if(a[o]=i[r],++o,++r,o===this.blockSize){this.compress_(a),o=0;break}}this.inbuf_=o,this.total_+=e}digest(){let i=[],e=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=e&255,e/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let a=24;a>=0;a-=8)i[n]=this.chain_[r]>>a&255,++n;return i}};function mF(t,i){let e=new FI(t,i);return e.subscribe.bind(e)}var FI=class{constructor(i,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{i(this)}).catch(n=>{this.error(n)})}next(i){this.forEachObserver(e=>{e.next(i)})}error(i){this.forEachObserver(e=>{e.error(i)}),this.close(i)}complete(){this.forEachObserver(i=>{i.complete()}),this.close()}subscribe(i,e,n){let r;if(i===void 0&&e===void 0&&n===void 0)throw new Error("Missing Observer.");UK(i,["next","error","complete"])?r=i:r={next:i,error:e,complete:n},r.next===void 0&&(r.next=LI),r.error===void 0&&(r.error=LI),r.complete===void 0&&(r.complete=LI);let a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),a}unsubscribeOne(i){this.observers===void 0||this.observers[i]===void 0||(delete this.observers[i],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(i){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,i)}sendOne(i,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[i]!==void 0)try{e(this.observers[i])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(i){this.finalized||(this.finalized=!0,i!==void 0&&(this.finalError=i),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function UK(t,i){if(typeof t!="object"||t===null)return!1;for(let e of i)if(e in t&&typeof t[e]=="function")return!0;return!1}function LI(){}function Q0(t,i){return`${t} failed: ${i} argument `}var pF=function(t){let i=[],e=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r>=55296&&r<=56319){let a=r-55296;n++,be(n<t.length,"Surrogate pair missing trail surrogate.");let o=t.charCodeAt(n)-56320;r=65536+(a<<10)+o}r<128?i[e++]=r:r<2048?(i[e++]=r>>6|192,i[e++]=r&63|128):r<65536?(i[e++]=r>>12|224,i[e++]=r>>6&63|128,i[e++]=r&63|128):(i[e++]=r>>18|240,i[e++]=r>>12&63|128,i[e++]=r>>6&63|128,i[e++]=r&63|128)}return i},fb=function(t){let i=0;for(let e=0;e<t.length;e++){let n=t.charCodeAt(e);n<128?i++:n<2048?i+=2:n>=55296&&n<=56319?(i+=4,e++):i+=3}return i};var VDe=4*60*60*1e3;function kn(t){return t&&t._delegate?t._delegate:t}var sa=class{constructor(i,e,n){this.name=i,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(i){return this.instantiationMode=i,this}setMultipleInstances(i){return this.multipleInstances=i,this}setServiceProps(i){return this.serviceProps=i,this}setInstanceCreatedCallback(i){return this.onInstanceCreated=i,this}};var Nu="[DEFAULT]";var X0=class{constructor(i,e){this.name=i,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(i){let e=this.normalizeInstanceIdentifier(i);if(!this.instancesDeferred.has(e)){let n=new rs;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(i){var e;let n=this.normalizeInstanceIdentifier(i?.identifier),r=(e=i?.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(i){if(i.name!==this.name)throw Error(`Mismatching Component ${i.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=i,!!this.shouldAutoInitialize()){if(GK(i))try{this.getOrInitializeService({instanceIdentifier:Nu})}catch{}for(let[e,n]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(e);try{let a=this.getOrInitializeService({instanceIdentifier:r});n.resolve(a)}catch{}}}}clearInstance(i=Nu){this.instancesDeferred.delete(i),this.instancesOptions.delete(i),this.instances.delete(i)}delete(){return L(this,null,function*(){let i=Array.from(this.instances.values());yield Promise.all([...i.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...i.filter(e=>"_delete"in e).map(e=>e._delete())])})}isComponentSet(){return this.component!=null}isInitialized(i=Nu){return this.instances.has(i)}getOptions(i=Nu){return this.instancesOptions.get(i)||{}}initialize(i={}){let{options:e={}}=i,n=this.normalizeInstanceIdentifier(i.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:n,options:e});for(let[a,o]of this.instancesDeferred.entries()){let s=this.normalizeInstanceIdentifier(a);n===s&&o.resolve(r)}return r}onInit(i,e){var n;let r=this.normalizeInstanceIdentifier(e),a=(n=this.onInitCallbacks.get(r))!==null&&n!==void 0?n:new Set;a.add(i),this.onInitCallbacks.set(r,a);let o=this.instances.get(r);return o&&i(o,r),()=>{a.delete(i)}}invokeOnInitCallbacks(i,e){let n=this.onInitCallbacks.get(e);if(n)for(let r of n)try{r(i,e)}catch{}}getOrInitializeService({instanceIdentifier:i,options:e={}}){let n=this.instances.get(i);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:HK(i),options:e}),this.instances.set(i,n),this.instancesOptions.set(i,e),this.invokeOnInitCallbacks(n,i),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,i,n)}catch{}return n||null}normalizeInstanceIdentifier(i=Nu){return this.component?this.component.multipleInstances?i:Nu:i}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function HK(t){return t===Nu?void 0:t}function GK(t){return t.instantiationMode==="EAGER"}var gb=class{constructor(i){this.name=i,this.providers=new Map}addComponent(i){let e=this.getProvider(i.name);if(e.isComponentSet())throw new Error(`Component ${i.name} has already been registered with ${this.name}`);e.setComponent(i)}addOrOverwriteComponent(i){this.getProvider(i.name).isComponentSet()&&this.providers.delete(i.name),this.addComponent(i)}getProvider(i){if(this.providers.has(i))return this.providers.get(i);let e=new X0(i,this);return this.providers.set(i,e),e}getProviders(){return Array.from(this.providers.values())}};var WK=[],xi=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(xi||{}),$K={debug:xi.DEBUG,verbose:xi.VERBOSE,info:xi.INFO,warn:xi.WARN,error:xi.ERROR,silent:xi.SILENT},YK=xi.INFO,KK={[xi.DEBUG]:"log",[xi.VERBOSE]:"log",[xi.INFO]:"info",[xi.WARN]:"warn",[xi.ERROR]:"error"},qK=(t,i,...e)=>{if(i<t.logLevel)return;let n=new Date().toISOString(),r=KK[i];if(r)console[r](`[${n}]  ${t.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${i})`)},ll=class{constructor(i){this.name=i,this._logLevel=YK,this._logHandler=qK,this._userLogHandler=null,WK.push(this)}get logLevel(){return this._logLevel}set logLevel(i){if(!(i in xi))throw new TypeError(`Invalid value "${i}" assigned to \`logLevel\``);this._logLevel=i}setLogLevel(i){this._logLevel=typeof i=="string"?$K[i]:i}get logHandler(){return this._logHandler}set logHandler(i){if(typeof i!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=i}get userLogHandler(){return this._userLogHandler}set userLogHandler(i){this._userLogHandler=i}debug(...i){this._userLogHandler&&this._userLogHandler(this,xi.DEBUG,...i),this._logHandler(this,xi.DEBUG,...i)}log(...i){this._userLogHandler&&this._userLogHandler(this,xi.VERBOSE,...i),this._logHandler(this,xi.VERBOSE,...i)}info(...i){this._userLogHandler&&this._userLogHandler(this,xi.INFO,...i),this._logHandler(this,xi.INFO,...i)}warn(...i){this._userLogHandler&&this._userLogHandler(this,xi.WARN,...i),this._logHandler(this,xi.WARN,...i)}error(...i){this._userLogHandler&&this._userLogHandler(this,xi.ERROR,...i),this._logHandler(this,xi.ERROR,...i)}};var ZK=(t,i)=>i.some(e=>t instanceof e),fF,gF;function QK(){return fF||(fF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XK(){return gF||(gF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var bF=new WeakMap,GI=new WeakMap,yF=new WeakMap,HI=new WeakMap,$I=new WeakMap;function JK(t){let i=new Promise((e,n)=>{let r=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{e(cl(t.result)),r()},o=()=>{n(t.error),r()};t.addEventListener("success",a),t.addEventListener("error",o)});return i.then(e=>{e instanceof IDBCursor&&bF.set(e,t)}).catch(()=>{}),$I.set(i,t),i}function eq(t){if(GI.has(t))return;let i=new Promise((e,n)=>{let r=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{e(),r()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});GI.set(t,i)}var WI={get(t,i,e){if(t instanceof IDBTransaction){if(i==="done")return GI.get(t);if(i==="objectStoreNames")return t.objectStoreNames||yF.get(t);if(i==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return cl(t[i])},set(t,i,e){return t[i]=e,!0},has(t,i){return t instanceof IDBTransaction&&(i==="done"||i==="store")?!0:i in t}};function vF(t){WI=t(WI)}function tq(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(i,...e){let n=t.call(J0(this),i,...e);return yF.set(n,i.sort?i.sort():[i]),cl(n)}:XK().includes(t)?function(...i){return t.apply(J0(this),i),cl(bF.get(this))}:function(...i){return cl(t.apply(J0(this),i))}}function iq(t){return typeof t=="function"?tq(t):(t instanceof IDBTransaction&&eq(t),ZK(t,QK())?new Proxy(t,WI):t)}function cl(t){if(t instanceof IDBRequest)return JK(t);if(HI.has(t))return HI.get(t);let i=iq(t);return i!==t&&(HI.set(t,i),$I.set(i,t)),i}var J0=t=>$I.get(t);function xF(t,i,{blocked:e,upgrade:n,blocking:r,terminated:a}={}){let o=indexedDB.open(t,i),s=cl(o);return n&&o.addEventListener("upgradeneeded",l=>{n(cl(o.result),l.oldVersion,l.newVersion,cl(o.transaction),l)}),e&&o.addEventListener("blocked",l=>e(l.oldVersion,l.newVersion,l)),s.then(l=>{a&&l.addEventListener("close",()=>a()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),s}var nq=["get","getKey","getAll","getAllKeys","count"],rq=["put","add","delete","clear"],YI=new Map;function _F(t,i){if(!(t instanceof IDBDatabase&&!(i in t)&&typeof i=="string"))return;if(YI.get(i))return YI.get(i);let e=i.replace(/FromIndex$/,""),n=i!==e,r=rq.includes(e);if(!(e in(n?IDBIndex:IDBObjectStore).prototype)||!(r||nq.includes(e)))return;let a=function(o,...s){return L(this,null,function*(){let l=this.transaction(o,r?"readwrite":"readonly"),c=l.store;return n&&(c=c.index(s.shift())),(yield Promise.all([c[e](...s),r&&l.done]))[0]})};return YI.set(i,a),a}vF(t=>S(f({},t),{get:(i,e,n)=>_F(i,e)||t.get(i,e,n),has:(i,e)=>!!_F(i,e)||t.has(i,e)}));var qI=class{constructor(i){this.container=i}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(aq(e)){let n=e.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(e=>e).join(" ")}};function aq(t){let i=t.getComponent();return i?.type==="VERSION"}var ZI="@firebase/app",CF="0.13.2";var Xl=new ll("@firebase/app"),oq="@firebase/app-compat",sq="@firebase/analytics-compat",lq="@firebase/analytics",cq="@firebase/app-check-compat",dq="@firebase/app-check",uq="@firebase/auth",hq="@firebase/auth-compat",mq="@firebase/database",pq="@firebase/data-connect",fq="@firebase/database-compat",gq="@firebase/functions",bq="@firebase/functions-compat",yq="@firebase/installations",vq="@firebase/installations-compat",_q="@firebase/messaging",xq="@firebase/messaging-compat",Cq="@firebase/performance",wq="@firebase/performance-compat",Dq="@firebase/remote-config",Sq="@firebase/remote-config-compat",Mq="@firebase/storage",Iq="@firebase/storage-compat",kq="@firebase/firestore",Aq="@firebase/ai",Eq="@firebase/firestore-compat",Tq="firebase",Rq="11.10.0";var QI="[DEFAULT]",Oq={[ZI]:"fire-core",[oq]:"fire-core-compat",[lq]:"fire-analytics",[sq]:"fire-analytics-compat",[dq]:"fire-app-check",[cq]:"fire-app-check-compat",[uq]:"fire-auth",[hq]:"fire-auth-compat",[mq]:"fire-rtdb",[pq]:"fire-data-connect",[fq]:"fire-rtdb-compat",[gq]:"fire-fn",[bq]:"fire-fn-compat",[yq]:"fire-iid",[vq]:"fire-iid-compat",[_q]:"fire-fcm",[xq]:"fire-fcm-compat",[Cq]:"fire-perf",[wq]:"fire-perf-compat",[Dq]:"fire-rc",[Sq]:"fire-rc-compat",[Mq]:"fire-gcs",[Iq]:"fire-gcs-compat",[kq]:"fire-fst",[Eq]:"fire-fst-compat",[Aq]:"fire-vertex","fire-js":"fire-js",[Tq]:"fire-js-all"};var bb=new Map,Lq=new Map,XI=new Map;function wF(t,i){try{t.container.addComponent(i)}catch(e){Xl.debug(`Component ${i.name} failed to register with FirebaseApp ${t.name}`,e)}}function ss(t){let i=t.name;if(XI.has(i))return Xl.debug(`There were multiple attempts to register component ${i}.`),!1;XI.set(i,t);for(let e of bb.values())wF(e,t);for(let e of Lq.values())wF(e,t);return!0}function Km(t,i){let e=t.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),t.container.getProvider(i)}function la(t){return t==null?!1:t.settings!==void 0}var Nq={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ld=new os("app","Firebase",Nq);var JI=class{constructor(i,e,n){this._isDeleted=!1,this._options=Object.assign({},i),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new sa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(i){this.checkDestroyed(),this._automaticDataCollectionEnabled=i}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(i){this._isDeleted=i}checkDestroyed(){if(this.isDeleted)throw ld.create("app-deleted",{appName:this._name})}};var cd=Rq;function ik(t,i={}){let e=t;typeof i!="object"&&(i={name:i});let n=Object.assign({name:QI,automaticDataCollectionEnabled:!0},i),r=n.name;if(typeof r!="string"||!r)throw ld.create("bad-app-name",{appName:String(r)});if(e||(e=jI()),!e)throw ld.create("no-options");let a=bb.get(r);if(a){if(sl(e,a.options)&&sl(n,a.config))return a;throw ld.create("duplicate-app",{appName:r})}let o=new gb(r);for(let l of XI.values())o.addComponent(l);let s=new JI(e,n,o);return bb.set(r,s),s}function Pu(t=QI){let i=bb.get(t);if(!i&&t===QI&&jI())return ik();if(!i)throw ld.create("no-app",{appName:t});return i}function ex(){return Array.from(bb.values())}function un(t,i,e){var n;let r=(n=Oq[t])!==null&&n!==void 0?n:t;e&&(r+=`-${e}`);let a=r.match(/\s|\//),o=i.match(/\s|\//);if(a||o){let s=[`Unable to register library "${r}" with version "${i}":`];a&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&o&&s.push("and"),o&&s.push(`version name "${i}" contains illegal characters (whitespace or "/")`),Xl.warn(s.join(" "));return}ss(new sa(`${r}-version`,()=>({library:r,version:i}),"VERSION"))}var Pq="firebase-heartbeat-database",Fq=1,yb="firebase-heartbeat-store",KI=null;function IF(){return KI||(KI=xF(Pq,Fq,{upgrade:(t,i)=>{switch(i){case 0:try{t.createObjectStore(yb)}catch(e){console.warn(e)}}}}).catch(t=>{throw ld.create("idb-open",{originalErrorMessage:t.message})})),KI}function Vq(t){return L(this,null,function*(){try{let e=(yield IF()).transaction(yb),n=yield e.objectStore(yb).get(kF(t));return yield e.done,n}catch(i){if(i instanceof as)Xl.warn(i.message);else{let e=ld.create("idb-get",{originalErrorMessage:i?.message});Xl.warn(e.message)}}})}function DF(t,i){return L(this,null,function*(){try{let n=(yield IF()).transaction(yb,"readwrite");yield n.objectStore(yb).put(i,kF(t)),yield n.done}catch(e){if(e instanceof as)Xl.warn(e.message);else{let n=ld.create("idb-set",{originalErrorMessage:e?.message});Xl.warn(n.message)}}})}function kF(t){return`${t.name}!${t.options.appId}`}var Bq=1024,zq=30,ek=class{constructor(i){this.container=i,this._heartbeatsCache=null;let e=this.container.getProvider("app").getImmediate();this._storage=new tk(e),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}triggerHeartbeat(){return L(this,null,function*(){var i,e;try{let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=SF();if(((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:r}),this._heartbeatsCache.heartbeats.length>zq){let o=Uq(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Xl.warn(n)}})}getHeartbeatsHeader(){return L(this,null,function*(){var i;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let e=SF(),{heartbeatsToSend:n,unsentEntries:r}=jq(this._heartbeatsCache.heartbeats),a=ub(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Xl.warn(e),""}})}};function SF(){return new Date().toISOString().substring(0,10)}function jq(t,i=Bq){let e=[],n=t.slice();for(let r of t){let a=e.find(o=>o.agent===r.agent);if(a){if(a.dates.push(r.date),MF(e)>i){a.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),MF(e)>i){e.pop();break}n=n.slice(1)}return{heartbeatsToSend:e,unsentEntries:n}}var tk=class{constructor(i){this.app=i,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return L(this,null,function*(){return Z0()?cF().then(()=>!0).catch(()=>!1):!1})}read(){return L(this,null,function*(){if(yield this._canUseIndexedDBPromise){let e=yield Vq(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(i){return L(this,null,function*(){var e;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return DF(this.app,{lastSentHeartbeatDate:(e=i.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:i.heartbeats})}else return})}add(i){return L(this,null,function*(){var e;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return DF(this.app,{lastSentHeartbeatDate:(e=i.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...i.heartbeats]})}else return})}};function MF(t){return ub(JSON.stringify({version:2,heartbeats:t})).length}function Uq(t){if(t.length===0)return-1;let i=0,e=t[0].date;for(let n=1;n<t.length;n++)t[n].date<e&&(e=t[n].date,i=n);return i}function Hq(t){ss(new sa("platform-logger",i=>new qI(i),"PRIVATE")),ss(new sa("heartbeat",i=>new ek(i),"PRIVATE")),un(ZI,CF,t),un(ZI,CF,"esm2017"),un("fire-js","")}Hq("");var Gq="firebase",Wq="11.10.0";un(Gq,Wq,"app");function nk(t){t===void 0&&(HS(nk),t=_(Ye));let i=t.get(b_);return e=>new nr(n=>{let r=i.add(),a=!1;function o(){a||(r(),a=!0)}let s=e.subscribe({next:l=>{n.next(l),o()},complete:()=>{n.complete(),o()},error:l=>{n.error(l),o()}});return s.add(()=>{n.unsubscribe(),o()}),s})}var dd=new um("ANGULARFIRE2_VERSION");function vb(t,i,e){if(i){if(i.length===1)return i[0];let a=i.filter(o=>o.app===e);if(a.length===1)return a[0]}return e.container.getProvider(t).getImmediate({optional:!0})}var Zm=(t,i)=>{let e=i?[i]:ex(),n=[];return e.forEach(r=>{r.container.getProvider(t).instances.forEach(o=>{n.includes(o)||n.push(o)})}),n},qm=function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t}(qm||{}),AF=JS()&&typeof Zone<"u"?qm.WARN:qm.SILENT;var tx=class{zone;delegate;constructor(i,e=BL){this.zone=i,this.delegate=e}now(){return this.delegate.now()}schedule(i,e,n){let r=this.zone,a=function(o){r?r.runGuarded(()=>{i.apply(this,[o])}):i.apply(this,[o])};return this.delegate.schedule(a,e,n)}},ud=(()=>{class t{outsideAngular;insideAngular;constructor(){let e=_(Ce);this.outsideAngular=e.runOutsideAngular(()=>new tx(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=e.run(()=>new tx(typeof Zone>"u"?void 0:Zone.current,VL))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),EF=!1;function $q(t,i){!EF&&(AF>qm.SILENT||JS())&&(EF=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),AF>=i&&console.warn(`Firebase API called outside injection context: ${t.name}`)}function Yq(t){let i=_(Ce,{optional:!0});return i?i.runOutsideAngular(()=>t()):t()}function Fu(t){let i=_(Ce,{optional:!0});return i?i.run(()=>t()):t()}var Kq=(t,i,e)=>(...n)=>(i&&setTimeout(i,0),ia(e,()=>Fu(()=>t.apply(void 0,n)))),Hn=(t,i,e)=>(e||=i?qm.WARN:qm.VERBOSE,function(){let n,r=arguments,a,o,s;try{a=_(ud),o=_(b_),s=_(ta)}catch{return $q(t,e),t.apply(this,r)}for(let c=0;c<arguments.length;c++)typeof r[c]=="function"&&(i&&(n||=Fu(()=>o.add())),r[c]=Kq(r[c],n,s));let l=Yq(()=>t.apply(this,r));return i?l instanceof nr?l.pipe(NS(a.outsideAngular),LS(a.insideAngular),nk(s)):l instanceof Promise?Fu(()=>new Promise((c,d)=>{o.run(()=>l).then(u=>ia(s,()=>Fu(()=>c(u))),u=>ia(s,()=>Fu(()=>d(u))))})):typeof l=="function"&&n?function(){return setTimeout(n,0),l.apply(this,arguments)}:Fu(()=>l):l instanceof nr?l.pipe(NS(a.outsideAngular),LS(a.insideAngular)):Fu(()=>l)});var Jl=class{constructor(i){return i}},Vu=class{constructor(){return ex()}};function qq(t){return t&&t.length===1?t[0]:new Jl(Pu())}var rk=new G("angularfire2._apps"),Zq={provide:Jl,useFactory:qq,deps:[[new Bn,rk]]},Qq={provide:Vu,deps:[[new Bn,rk]]};function Xq(t){return(i,e)=>{let n=e.get(Ws);un("angularfire",dd.full,"core"),un("angularfire",dd.full,"app"),un("angular",_g.full,n.toString());let r=i.runOutsideAngular(()=>t(e));return new Jl(r)}}function TF(t,...i){return fo([Zq,Qq,{provide:rk,useFactory:Xq(t),multi:!0,deps:[Ce,Ye,ud,...i]}])}var RF=Hn(ik,!0);var Jq=new Map,eZ={activated:!1,tokenObservers:[]},tZ={initialized:!1,enabled:!1};function ls(t){return Jq.get(t)||Object.assign({},eZ)}function PF(){return tZ}var iZ="https://content-firebaseappcheck.googleapis.com/v1";var nZ="exchangeDebugToken",OF={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},USe=24*60*60*1e3;var sk=class{constructor(i,e,n,r,a){if(this.operation=i,this.retryPolicy=e,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=r,r>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(i){return L(this,null,function*(){this.stop();try{this.pending=new rs,this.pending.promise.catch(e=>{}),yield rZ(this.getNextRun(i)),this.pending.resolve(),yield this.pending.promise,this.pending=new rs,this.pending.promise.catch(e=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(e){this.retryPolicy(e)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(i){if(i)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}};function rZ(t){return new Promise(i=>{setTimeout(i,t)})}var aZ={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},hd=new os("appCheck","AppCheck",aZ);function FF(t){if(!ls(t).activated)throw hd.create("use-before-activation",{appName:t.name})}function VF(n,r){return L(this,arguments,function*({url:t,body:i},e){let a={"Content-Type":"application/json"},o=e.getImmediate({optional:!0});if(o){let m=yield o.getHeartbeatsHeader();m&&(a["X-Firebase-Client"]=m)}let s={method:"POST",body:JSON.stringify(i),headers:a},l;try{l=yield fetch(t,s)}catch(m){throw hd.create("fetch-network-error",{originalErrorMessage:m?.message})}if(l.status!==200)throw hd.create("fetch-status-error",{httpStatus:l.status});let c;try{c=yield l.json()}catch(m){throw hd.create("fetch-parse-error",{originalErrorMessage:m?.message})}let d=c.ttl.match(/^([\d.]+)(s)$/);if(!d||!d[2]||isNaN(Number(d[1])))throw hd.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});let u=Number(d[1])*1e3,h=Date.now();return{token:c.token,expireTimeMillis:h+u,issuedAtTimeMillis:h}})}function BF(t,i){let{projectId:e,appId:n,apiKey:r}=t.options;return{url:`${iZ}/projects/${e}/apps/${n}:${nZ}?key=${r}`,body:{debug_token:i}}}var oZ="firebase-app-check-database",sZ=1,lk="firebase-app-check-store";var ix=null;function lZ(){return ix||(ix=new Promise((t,i)=>{try{let e=indexedDB.open(oZ,sZ);e.onsuccess=n=>{t(n.target.result)},e.onerror=n=>{var r;i(hd.create("storage-open",{originalErrorMessage:(r=n.target.error)===null||r===void 0?void 0:r.message}))},e.onupgradeneeded=n=>{let r=n.target.result;switch(n.oldVersion){case 0:r.createObjectStore(lk,{keyPath:"compositeKey"})}}}catch(e){i(hd.create("storage-open",{originalErrorMessage:e?.message}))}}),ix)}function cZ(t,i){return dZ(uZ(t),i)}function dZ(t,i){return L(this,null,function*(){let n=(yield lZ()).transaction(lk,"readwrite"),a=n.objectStore(lk).put({compositeKey:t,value:i});return new Promise((o,s)=>{a.onsuccess=l=>{o()},n.onerror=l=>{var c;s(hd.create("storage-set",{originalErrorMessage:(c=l.target.error)===null||c===void 0?void 0:c.message}))}})})}function uZ(t){return`${t.options.appId}-${t.name}`}var _b=new ll("@firebase/app-check");function ak(t,i){return Z0()?cZ(t,i).catch(e=>{_b.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function zF(){return PF().enabled}function jF(){return L(this,null,function*(){let t=PF();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var hZ={error:"UNKNOWN_ERROR"};function mZ(t){return Wm.encodeString(JSON.stringify(t),!1)}function ck(t,i=!1,e=!1){return L(this,null,function*(){let n=t.app;FF(n);let r=ls(n),a=r.token,o;if(a&&!xb(a)&&(r.token=void 0,a=void 0),!a){let c=yield r.cachedTokenPromise;c&&(xb(c)?a=c:yield ak(n,void 0))}if(!i&&a&&xb(a))return{token:a.token};let s=!1;if(zF())try{r.exchangeTokenPromise||(r.exchangeTokenPromise=VF(BF(n,yield jF()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);let c=yield r.exchangeTokenPromise;return yield ak(n,c),r.token=c,{token:c.token}}catch(c){return c.code==="appCheck/throttled"||c.code==="appCheck/initial-throttle"?_b.warn(c.message):e&&_b.error(c),ok(c)}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),a=yield ls(n).exchangeTokenPromise}catch(c){c.code==="appCheck/throttled"||c.code==="appCheck/initial-throttle"?_b.warn(c.message):e&&_b.error(c),o=c}let l;return a?o?xb(a)?l={token:a.token,internalError:o}:l=ok(o):(l={token:a.token},r.token=a,yield ak(n,a)):l=ok(o),s&&bZ(n,l),l})}function pZ(t){return L(this,null,function*(){let i=t.app;FF(i);let{provider:e}=ls(i);if(zF()){let n=yield jF(),{token:r}=yield VF(BF(i,n),t.heartbeatServiceProvider);return{token:r}}else{let{token:n}=yield e.getToken();return{token:n}}})}function fZ(t,i,e,n){let{app:r}=t,a=ls(r),o={next:e,error:n,type:i};if(a.tokenObservers=[...a.tokenObservers,o],a.token&&xb(a.token)){let s=a.token;Promise.resolve().then(()=>{e({token:s.token}),LF(t)}).catch(()=>{})}a.cachedTokenPromise.then(()=>LF(t))}function UF(t,i){let e=ls(t),n=e.tokenObservers.filter(r=>r.next!==i);n.length===0&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=n}function LF(t){let{app:i}=t,e=ls(i),n=e.tokenRefresher;n||(n=gZ(t),e.tokenRefresher=n),!n.isRunning()&&e.isTokenAutoRefreshEnabled&&n.start()}function gZ(t){let{app:i}=t;return new sk(()=>L(null,null,function*(){let e=ls(i),n;if(e.token?n=yield ck(t,!0):n=yield ck(t),n.error)throw n.error;if(n.internalError)throw n.internalError}),()=>!0,()=>{let e=ls(i);if(e.token){let n=e.token.issuedAtTimeMillis+(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)*.5+3e5,r=e.token.expireTimeMillis-5*60*1e3;return n=Math.min(n,r),Math.max(0,n-Date.now())}else return 0},OF.RETRIAL_MIN_WAIT,OF.RETRIAL_MAX_WAIT)}function bZ(t,i){let e=ls(t).tokenObservers;for(let n of e)try{n.type==="EXTERNAL"&&i.error!=null?n.error(i.error):n.next(i)}catch{}}function xb(t){return t.expireTimeMillis-Date.now()>0}function ok(t){return{token:mZ(hZ),error:t}}var dk=class{constructor(i,e){this.app=i,this.heartbeatServiceProvider=e}_delete(){let{tokenObservers:i}=ls(this.app);for(let e of i)UF(this.app,e.next);return Promise.resolve()}};function yZ(t,i){return new dk(t,i)}function vZ(t){return{getToken:i=>ck(t,i),getLimitedUseToken:()=>pZ(t),addTokenListener:i=>fZ(t,"INTERNAL",i),removeTokenListener:i=>UF(t.app,i)}}var _Z="@firebase/app-check",xZ="0.10.1";var CZ="app-check",NF="app-check-internal";function wZ(){ss(new sa(CZ,t=>{let i=t.getProvider("app").getImmediate(),e=t.getProvider("heartbeat");return yZ(i,e)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,e)=>{t.getProvider(NF).initialize()})),ss(new sa(NF,t=>{let i=t.getProvider("app-check").getImmediate();return vZ(i)},"PUBLIC").setInstantiationMode("EXPLICIT")),un(_Z,xZ)}wZ();var DZ="app-check";var Qm=class{constructor(){return Zm(DZ)}};var SZ=["localhost","0.0.0.0","127.0.0.1"],tMe=typeof window<"u"&&SZ.includes(window.location.hostname);function rV(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var aV=rV,oV=new os("auth","Firebase",rV());var lx=new ll("@firebase/auth");function MZ(t,...i){lx.logLevel<=xi.WARN&&lx.warn(`Auth (${cd}): ${t}`,...i)}function rx(t,...i){lx.logLevel<=xi.ERROR&&lx.error(`Auth (${cd}): ${t}`,...i)}function yo(t,...i){throw Ok(t,...i)}function cs(t,...i){return Ok(t,...i)}function Rk(t,i,e){let n=Object.assign(Object.assign({},aV()),{[i]:e});return new os("auth","Firebase",n).create(i,{appName:t.name})}function ic(t){return Rk(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function IZ(t,i,e){let n=e;if(!(i instanceof n))throw n.name!==i.constructor.name&&yo(t,"argument-error"),Rk(t,"argument-error",`Type of ${i.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ok(t,...i){if(typeof t!="string"){let e=i[0],n=[...i.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(e,...n)}return oV.create(t,...i)}function ct(t,i,...e){if(!t)throw Ok(i,...e)}function ec(t){let i="INTERNAL ASSERTION FAILED: "+t;throw rx(i),new Error(i)}function nc(t,i){t||ec(i)}function mk(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function kZ(){return HF()==="http:"||HF()==="https:"}function HF(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function AZ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kZ()||sF()||"connection"in navigator)?navigator.onLine:!0}function EZ(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Bu=class{constructor(i,e){this.shortDelay=i,this.longDelay=e,nc(e>i,"Short delay should be less than long delay!"),this.isMobile=hb()||q0()}get(){return AZ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Lk(t,i){nc(t.emulator,"Emulator should always be set here");let{url:e}=t.emulator;return i?`${e}${i.startsWith("/")?i.slice(1):i}`:e}var cx=class{static initialize(i,e,n){this.fetchImpl=i,e&&(this.headersImpl=e),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ec("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ec("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ec("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var TZ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var RZ=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],OZ=new Bu(3e4,6e4);function fd(t,i){return t.tenantId&&!i.tenantId?Object.assign(Object.assign({},i),{tenantId:t.tenantId}):i}function rc(a,o,s,l){return L(this,arguments,function*(t,i,e,n,r={}){return sV(t,r,()=>L(null,null,function*(){let c={},d={};n&&(i==="GET"?d=n:c={body:JSON.stringify(n)});let u=sd(Object.assign({key:t.config.apiKey},d)).slice(1),h=yield t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);let m=Object.assign({method:i,headers:h},c);return oF()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&od(t.emulatorConfig.host)&&(m.credentials="include"),cx.fetch()(yield lV(t,t.config.apiHost,e,u),m)}))})}function sV(t,i,e){return L(this,null,function*(){t._canInitEmulator=!1;let n=Object.assign(Object.assign({},TZ),i);try{let r=new pk(t),a=yield Promise.race([e(),r.promise]);r.clearNetworkTimeout();let o=yield a.json();if("needConfirmation"in o)throw nx(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{let s=a.ok?o.errorMessage:o.error.message,[l,c]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw nx(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw nx(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw nx(t,"user-disabled",o);let d=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Rk(t,d,c);yo(t,d)}}catch(r){if(r instanceof as)throw r;yo(t,"network-request-failed",{message:String(r)})}})}function Ab(a,o,s,l){return L(this,arguments,function*(t,i,e,n,r={}){let c=yield rc(t,i,e,n,r);return"mfaPendingCredential"in c&&yo(t,"multi-factor-auth-required",{_serverResponse:c}),c})}function lV(t,i,e,n){return L(this,null,function*(){let r=`${i}${e}?${n}`,a=t,o=a.config.emulator?Lk(t.config,r):`${t.config.apiScheme}://${r}`;return RZ.includes(e)&&(yield a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o})}function LZ(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var pk=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(i){this.auth=i,this.timer=null,this.promise=new Promise((e,n)=>{this.timer=setTimeout(()=>n(cs(this.auth,"network-request-failed")),OZ.get())})}};function nx(t,i,e){let n={appName:t.name};e.email&&(n.email=e.email),e.phoneNumber&&(n.phoneNumber=e.phoneNumber);let r=cs(t,i,n);return r.customData._tokenResponse=e,r}function GF(t){return t!==void 0&&t.enterprise!==void 0}var fk=class{constructor(i){if(this.siteKey="",this.recaptchaEnforcementState=[],i.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=i.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=i.recaptchaEnforcementState}getProviderEnforcementState(i){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let e of this.recaptchaEnforcementState)if(e.provider&&e.provider===i)return LZ(e.enforcementState);return null}isProviderEnabled(i){return this.getProviderEnforcementState(i)==="ENFORCE"||this.getProviderEnforcementState(i)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function NZ(t,i){return L(this,null,function*(){return rc(t,"GET","/v2/recaptchaConfig",fd(t,i))})}function PZ(t,i){return L(this,null,function*(){return rc(t,"POST","/v1/accounts:delete",i)})}function dx(t,i){return L(this,null,function*(){return rc(t,"POST","/v1/accounts:lookup",i)})}function wb(t){if(t)try{let i=new Date(Number(t));if(!isNaN(i.getTime()))return i.toUTCString()}catch{}}function Nk(t,i=!1){return L(this,null,function*(){let e=kn(t),n=yield e.getIdToken(i),r=Pk(n);ct(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");let a=typeof r.firebase=="object"?r.firebase:void 0,o=a?.sign_in_provider;return{claims:r,token:n,authTime:wb(uk(r.auth_time)),issuedAtTime:wb(uk(r.iat)),expirationTime:wb(uk(r.exp)),signInProvider:o||null,signInSecondFactor:a?.sign_in_second_factor||null}})}function uk(t){return Number(t)*1e3}function Pk(t){let[i,e,n]=t.split(".");if(i===void 0||e===void 0||n===void 0)return rx("JWT malformed, contained fewer than 3 sections"),null;try{let r=Hm(e);return r?JSON.parse(r):(rx("Failed to decode base64 JWT payload"),null)}catch(r){return rx("Caught error parsing JWT payload as JSON",r?.toString()),null}}function WF(t){let i=Pk(t);return ct(i,"internal-error"),ct(typeof i.exp<"u","internal-error"),ct(typeof i.iat<"u","internal-error"),Number(i.exp)-Number(i.iat)}function Jm(t,i,e=!1){return L(this,null,function*(){if(e)return i;try{return yield i}catch(n){throw n instanceof as&&FZ(n)&&t.auth.currentUser===t&&(yield t.auth.signOut()),n}})}function FZ({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var gk=class{constructor(i){this.user=i,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(i){var e;if(i){let n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;let r=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(i=!1){if(!this.isRunning)return;let e=this.getInterval(i);this.timerId=setTimeout(()=>L(this,null,function*(){yield this.iteration()}),e)}iteration(){return L(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(i){i?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Sb=class{constructor(i,e){this.createdAt=i,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=wb(this.lastLoginAt),this.creationTime=wb(this.createdAt)}_copy(i){this.createdAt=i.createdAt,this.lastLoginAt=i.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function ux(t){return L(this,null,function*(){var i;let e=t.auth,n=yield t.getIdToken(),r=yield Jm(t,dx(e,{idToken:n}));ct(r?.users.length,e,"internal-error");let a=r.users[0];t._notifyReloadListener(a);let o=!((i=a.providerUserInfo)===null||i===void 0)&&i.length?cV(a.providerUserInfo):[],s=VZ(t.providerData,o),l=t.isAnonymous,c=!(t.email&&a.passwordHash)&&!s?.length,d=l?c:!1,u={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new Sb(a.createdAt,a.lastLoginAt),isAnonymous:d};Object.assign(t,u)})}function Fk(t){return L(this,null,function*(){let i=kn(t);yield ux(i),yield i.auth._persistUserIfCurrent(i),i.auth._notifyListenersIfCurrent(i)})}function VZ(t,i){return[...t.filter(n=>!i.some(r=>r.providerId===n.providerId)),...i]}function cV(t){return t.map(i=>{var{providerId:e}=i,n=h_(i,["providerId"]);return{providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}function BZ(t,i){return L(this,null,function*(){let e=yield sV(t,{},()=>L(null,null,function*(){let n=sd({grant_type:"refresh_token",refresh_token:i}).slice(1),{tokenApiHost:r,apiKey:a}=t.config,o=yield lV(t,r,"/v1/token",`key=${a}`),s=yield t._getAdditionalHeaders();s["Content-Type"]="application/x-www-form-urlencoded";let l={method:"POST",headers:s,body:n};return t.emulatorConfig&&od(t.emulatorConfig.host)&&(l.credentials="include"),cx.fetch()(o,l)}));return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}})}function zZ(t,i){return L(this,null,function*(){return rc(t,"POST","/v2/accounts:revokeToken",fd(t,i))})}var Db=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(i){ct(i.idToken,"internal-error"),ct(typeof i.idToken<"u","internal-error"),ct(typeof i.refreshToken<"u","internal-error");let e="expiresIn"in i&&typeof i.expiresIn<"u"?Number(i.expiresIn):WF(i.idToken);this.updateTokensAndExpiration(i.idToken,i.refreshToken,e)}updateFromIdToken(i){ct(i.length!==0,"internal-error");let e=WF(i);this.updateTokensAndExpiration(i,null,e)}getToken(i,e=!1){return L(this,null,function*(){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(ct(this.refreshToken,i,"user-token-expired"),this.refreshToken?(yield this.refresh(i,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(i,e){return L(this,null,function*(){let{accessToken:n,refreshToken:r,expiresIn:a}=yield BZ(i,e);this.updateTokensAndExpiration(n,r,Number(a))})}updateTokensAndExpiration(i,e,n){this.refreshToken=e||null,this.accessToken=i||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(i,e){let{refreshToken:n,accessToken:r,expirationTime:a}=e,o=new t;return n&&(ct(typeof n=="string","internal-error",{appName:i}),o.refreshToken=n),r&&(ct(typeof r=="string","internal-error",{appName:i}),o.accessToken=r),a&&(ct(typeof a=="number","internal-error",{appName:i}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(i){this.accessToken=i.accessToken,this.refreshToken=i.refreshToken,this.expirationTime=i.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return ec("not implemented")}};function md(t,i){ct(typeof t=="string"||typeof t>"u","internal-error",{appName:i})}var pd=class t{constructor(i){var{uid:e,auth:n,stsTokenManager:r}=i,a=h_(i,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Sb(a.createdAt||void 0,a.lastLoginAt||void 0)}getIdToken(i){return L(this,null,function*(){let e=yield Jm(this,this.stsTokenManager.getToken(this.auth,i));return ct(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e})}getIdTokenResult(i){return Nk(this,i)}reload(){return Fk(this)}_assign(i){this!==i&&(ct(this.uid===i.uid,this.auth,"internal-error"),this.displayName=i.displayName,this.photoURL=i.photoURL,this.email=i.email,this.emailVerified=i.emailVerified,this.phoneNumber=i.phoneNumber,this.isAnonymous=i.isAnonymous,this.tenantId=i.tenantId,this.providerData=i.providerData.map(e=>Object.assign({},e)),this.metadata._copy(i.metadata),this.stsTokenManager._assign(i.stsTokenManager))}_clone(i){let e=new t(Object.assign(Object.assign({},this),{auth:i,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(i){ct(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=i,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(i){this.reloadListener?this.reloadListener(i):this.reloadUserInfo=i}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(i,e=!1){return L(this,null,function*(){let n=!1;i.idToken&&i.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(i),n=!0),e&&(yield ux(this)),yield this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)})}delete(){return L(this,null,function*(){if(la(this.auth.app))return Promise.reject(ic(this.auth));let i=yield this.getIdToken();return yield Jm(this,PZ(this.auth,{idToken:i})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(i=>Object.assign({},i)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(i,e){var n,r,a,o,s,l,c,d;let u=(n=e.displayName)!==null&&n!==void 0?n:void 0,h=(r=e.email)!==null&&r!==void 0?r:void 0,m=(a=e.phoneNumber)!==null&&a!==void 0?a:void 0,p=(o=e.photoURL)!==null&&o!==void 0?o:void 0,g=(s=e.tenantId)!==null&&s!==void 0?s:void 0,y=(l=e._redirectEventId)!==null&&l!==void 0?l:void 0,v=(c=e.createdAt)!==null&&c!==void 0?c:void 0,x=(d=e.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:w,emailVerified:D,isAnonymous:k,providerData:E,stsTokenManager:A}=e;ct(w&&A,i,"internal-error");let N=Db.fromJSON(this.name,A);ct(typeof w=="string",i,"internal-error"),md(u,i.name),md(h,i.name),ct(typeof D=="boolean",i,"internal-error"),ct(typeof k=="boolean",i,"internal-error"),md(m,i.name),md(p,i.name),md(g,i.name),md(y,i.name),md(v,i.name),md(x,i.name);let F=new t({uid:w,auth:i,email:h,emailVerified:D,displayName:u,isAnonymous:k,photoURL:p,phoneNumber:m,tenantId:g,stsTokenManager:N,createdAt:v,lastLoginAt:x});return E&&Array.isArray(E)&&(F.providerData=E.map(P=>Object.assign({},P))),y&&(F._redirectEventId=y),F}static _fromIdTokenResponse(i,e,n=!1){return L(this,null,function*(){let r=new Db;r.updateFromServerResponse(e);let a=new t({uid:e.localId,auth:i,stsTokenManager:r,isAnonymous:n});return yield ux(a),a})}static _fromGetAccountInfoResponse(i,e,n){return L(this,null,function*(){let r=e.users[0];ct(r.localId!==void 0,"internal-error");let a=r.providerUserInfo!==void 0?cV(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!a?.length,s=new Db;s.updateFromIdToken(n);let l=new t({uid:r.localId,auth:i,stsTokenManager:s,isAnonymous:o}),c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new Sb(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!a?.length};return Object.assign(l,c),l})}};var $F=new Map;function tc(t){nc(t instanceof Function,"Expected a class definition");let i=$F.get(t);return i?(nc(i instanceof t,"Instance stored in cache mismatched with class"),i):(i=new t,$F.set(t,i),i)}var jZ=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return L(this,null,function*(){return!0})}_set(e,n){return L(this,null,function*(){this.storage[e]=n})}_get(e){return L(this,null,function*(){let n=this.storage[e];return n===void 0?null:n})}_remove(e){return L(this,null,function*(){delete this.storage[e]})}_addListener(e,n){}_removeListener(e,n){}}return t.type="NONE",t})(),bk=jZ;function ax(t,i,e){return`firebase:${t}:${i}:${e}`}var hx=class t{constructor(i,e,n){this.persistence=i,this.auth=e,this.userKey=n;let{config:r,name:a}=this.auth;this.fullUserKey=ax(this.userKey,r.apiKey,a),this.fullPersistenceKey=ax("persistence",r.apiKey,a),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(i){return this.persistence._set(this.fullUserKey,i.toJSON())}getCurrentUser(){return L(this,null,function*(){let i=yield this.persistence._get(this.fullUserKey);if(!i)return null;if(typeof i=="string"){let e=yield dx(this.auth,{idToken:i}).catch(()=>{});return e?pd._fromGetAccountInfoResponse(this.auth,e,i):null}return pd._fromJSON(this.auth,i)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(i){return L(this,null,function*(){if(this.persistence===i)return;let e=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=i,e)return this.setCurrentUser(e)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(i,e,n="authUser"){return L(this,null,function*(){if(!e.length)return new t(tc(bk),i,n);let r=(yield Promise.all(e.map(c=>L(null,null,function*(){if(yield c._isAvailable())return c})))).filter(c=>c),a=r[0]||tc(bk),o=ax(n,i.config.apiKey,i.name),s=null;for(let c of e)try{let d=yield c._get(o);if(d){let u;if(typeof d=="string"){let h=yield dx(i,{idToken:d}).catch(()=>{});if(!h)break;u=yield pd._fromGetAccountInfoResponse(i,h,d)}else u=pd._fromJSON(i,d);c!==a&&(s=u),a=c;break}}catch{}let l=r.filter(c=>c._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new t(a,i,n):(a=l[0],s&&(yield a._set(o,s.toJSON())),yield Promise.all(e.map(c=>L(null,null,function*(){if(c!==a)try{yield c._remove(o)}catch{}}))),new t(a,i,n))})}};function YF(t){let i=t.toLowerCase();if(i.includes("opera/")||i.includes("opr/")||i.includes("opios/"))return"Opera";if(mV(i))return"IEMobile";if(i.includes("msie")||i.includes("trident/"))return"IE";if(i.includes("edge/"))return"Edge";if(dV(i))return"Firefox";if(i.includes("silk/"))return"Silk";if(fV(i))return"Blackberry";if(gV(i))return"Webos";if(uV(i))return"Safari";if((i.includes("chrome/")||hV(i))&&!i.includes("edge/"))return"Chrome";if(pV(i))return"Android";{let e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(e);if(n?.length===2)return n[1]}return"Other"}function dV(t=Fr()){return/firefox\//i.test(t)}function uV(t=Fr()){let i=t.toLowerCase();return i.includes("safari/")&&!i.includes("chrome/")&&!i.includes("crios/")&&!i.includes("android")}function hV(t=Fr()){return/crios\//i.test(t)}function mV(t=Fr()){return/iemobile/i.test(t)}function pV(t=Fr()){return/android/i.test(t)}function fV(t=Fr()){return/blackberry/i.test(t)}function gV(t=Fr()){return/webos/i.test(t)}function Vk(t=Fr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function UZ(t=Fr()){var i;return Vk(t)&&!!(!((i=window.navigator)===null||i===void 0)&&i.standalone)}function HZ(){return lF()&&document.documentMode===10}function bV(t=Fr()){return Vk(t)||pV(t)||gV(t)||fV(t)||/windows phone/i.test(t)||mV(t)}function yV(t,i=[]){let e;switch(t){case"Browser":e=YF(Fr());break;case"Worker":e=`${YF(Fr())}-${t}`;break;default:e=t}let n=i.length?i.join(","):"FirebaseCore-web";return`${e}/JsCore/${cd}/${n}`}var yk=class{constructor(i){this.auth=i,this.queue=[]}pushCallback(i,e){let n=a=>new Promise((o,s)=>{try{let l=i(a);o(l)}catch(l){s(l)}});n.onAbort=e,this.queue.push(n);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(i){return L(this,null,function*(){if(this.auth.currentUser===i)return;let e=[];try{for(let n of this.queue)yield n(i),n.onAbort&&e.push(n.onAbort)}catch(n){e.reverse();for(let r of e)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}})}};function GZ(e){return L(this,arguments,function*(t,i={}){return rc(t,"GET","/v2/passwordPolicy",fd(t,i))})}var WZ=6,vk=class{constructor(i){var e,n,r,a;let o=i.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=o.minPasswordLength)!==null&&e!==void 0?e:WZ,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=i.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(n=i.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(a=i.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=i.schemaVersion}validatePassword(i){var e,n,r,a,o,s;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(i,l),this.validatePasswordCharacterOptions(i,l),l.isValid&&(l.isValid=(e=l.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),l.isValid&&(l.isValid=(n=l.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.containsLowercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(a=l.containsUppercaseLetter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNonAlphanumericCharacter)!==null&&s!==void 0?s:!0),l}validatePasswordLengthOptions(i,e){let n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(e.meetsMinPasswordLength=i.length>=n),r&&(e.meetsMaxPasswordLength=i.length<=r)}validatePasswordCharacterOptions(i,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let n;for(let r=0;r<i.length;r++)n=i.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(i,e,n,r,a){this.customStrengthOptions.containsLowercaseLetter&&(i.containsLowercaseLetter||(i.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(i.containsUppercaseLetter||(i.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(i.containsNumericCharacter||(i.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(i.containsNonAlphanumericCharacter||(i.containsNonAlphanumericCharacter=a))}};var _k=class{constructor(i,e,n,r){this.app=i,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mx(this),this.idTokenSubscription=new mx(this),this.beforeStateQueue=new yk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=oV,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=i.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(i,e){return e&&(this._popupRedirectResolver=tc(e)),this._initializationPromise=this.queue(()=>L(this,null,function*(){var n,r,a;if(!this._deleted&&(this.persistenceManager=yield hx.create(this,i),(n=this._resolvePersistenceManagerAvailable)===null||n===void 0||n.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(e),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return L(this,null,function*(){if(this._deleted)return;let i=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!i)){if(this.currentUser&&i&&this.currentUser.uid===i.uid){this._currentUser._assign(i),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(i,!0)}})}initializeCurrentUserFromIdToken(i){return L(this,null,function*(){try{let e=yield dx(this,{idToken:i}),n=yield pd._fromGetAccountInfoResponse(this,e,i);yield this.directlySetCurrentUser(n)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(i){return L(this,null,function*(){var e;if(la(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(s,s))}):this.directlySetCurrentUser(null)}let n=yield this.assertedPersistence.getCurrentUser(),r=n,a=!1;if(i&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,s=r?._redirectEventId,l=yield this.tryRedirectSignIn(i);(!o||o===s)&&l?.user&&(r=l.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{yield this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ct(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(i){return L(this,null,function*(){let e=null;try{e=yield this._popupRedirectResolver._completeRedirectFn(this,i,!0)}catch{yield this._setRedirectUser(null)}return e})}reloadAndSetCurrentUserOrClear(i){return L(this,null,function*(){try{yield ux(i)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(i)})}useDeviceLanguage(){this.languageCode=EZ()}_delete(){return L(this,null,function*(){this._deleted=!0})}updateCurrentUser(i){return L(this,null,function*(){if(la(this.app))return Promise.reject(ic(this));let e=i?kn(i):null;return e&&ct(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))})}_updateCurrentUser(i,e=!1){return L(this,null,function*(){if(!this._deleted)return i&&ct(this.tenantId===i.tenantId,this,"tenant-id-mismatch"),e||(yield this.beforeStateQueue.runMiddleware(i)),this.queue(()=>L(this,null,function*(){yield this.directlySetCurrentUser(i),this.notifyAuthListeners()}))})}signOut(){return L(this,null,function*(){return la(this.app)?Promise.reject(ic(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(i){return la(this.app)?Promise.reject(ic(this)):this.queue(()=>L(this,null,function*(){yield this.assertedPersistence.setPersistence(tc(i))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(i){return L(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(i)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return L(this,null,function*(){let i=yield GZ(this),e=new vk(i);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(i){this._errorFactory=new os("auth","Firebase",i())}onAuthStateChanged(i,e,n){return this.registerStateListener(this.authStateSubscription,i,e,n)}beforeAuthStateChanged(i,e){return this.beforeStateQueue.pushCallback(i,e)}onIdTokenChanged(i,e,n){return this.registerStateListener(this.idTokenSubscription,i,e,n)}authStateReady(){return new Promise((i,e)=>{if(this.currentUser)i();else{let n=this.onAuthStateChanged(()=>{n(),i()},e)}})}revokeAccessToken(i){return L(this,null,function*(){if(this.currentUser){let e=yield this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:i,idToken:e};this.tenantId!=null&&(n.tenantId=this.tenantId),yield zZ(this,n)}})}toJSON(){var i;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(i=this._currentUser)===null||i===void 0?void 0:i.toJSON()}}_setRedirectUser(i,e){return L(this,null,function*(){let n=yield this.getOrInitRedirectPersistenceManager(e);return i===null?n.removeCurrentUser():n.setCurrentUser(i)})}getOrInitRedirectPersistenceManager(i){return L(this,null,function*(){if(!this.redirectPersistenceManager){let e=i&&tc(i)||this._popupRedirectResolver;ct(e,this,"argument-error"),this.redirectPersistenceManager=yield hx.create(this,[tc(e._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(i){return L(this,null,function*(){var e,n;return this._isInitialized&&(yield this.queue(()=>L(this,null,function*(){}))),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===i?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===i?this.redirectUser:null})}_persistUserIfCurrent(i){return L(this,null,function*(){if(i===this.currentUser)return this.queue(()=>L(this,null,function*(){return this.directlySetCurrentUser(i)}))})}_notifyListenersIfCurrent(i){i===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var i,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let n=(e=(i=this.currentUser)===null||i===void 0?void 0:i.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(i,e,n,r){if(this._deleted)return()=>{};let a=typeof e=="function"?e:e.next.bind(e),o=!1,s=this._isInitialized?Promise.resolve():this._initializationPromise;if(ct(s,this,"internal-error"),s.then(()=>{o||a(this.currentUser)}),typeof e=="function"){let l=i.addObserver(e,n,r);return()=>{o=!0,l()}}else{let l=i.addObserver(e);return()=>{o=!0,l()}}}directlySetCurrentUser(i){return L(this,null,function*(){this.currentUser&&this.currentUser!==i&&this._currentUser._stopProactiveRefresh(),i&&this.isProactiveRefreshEnabled&&i._startProactiveRefresh(),this.currentUser=i,i?yield this.assertedPersistence.setCurrentUser(i):yield this.assertedPersistence.removeCurrentUser()})}queue(i){return this.operations=this.operations.then(i,i),this.operations}get assertedPersistence(){return ct(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(i){!i||this.frameworks.includes(i)||(this.frameworks.push(i),this.frameworks.sort(),this.clientVersion=yV(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return L(this,null,function*(){var i;let e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);let n=yield(i=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||i===void 0?void 0:i.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);let r=yield this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e})}_getAppCheckToken(){return L(this,null,function*(){var i;if(la(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=yield(i=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||i===void 0?void 0:i.getToken();return e?.error&&MZ(`Error while retrieving App Check token: ${e.error}`),e?.token})}};function gd(t){return kn(t)}var mx=class{constructor(i){this.auth=i,this.observer=null,this.addObserver=mF(e=>this.observer=e)}get next(){return ct(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Cx={loadJS(){return L(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $Z(t){Cx=t}function vV(t){return Cx.loadJS(t)}function YZ(){return Cx.recaptchaEnterpriseScript}function KZ(){return Cx.gapiScript}function _V(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var xk=class{constructor(){this.enterprise=new Ck}ready(i){i()}execute(i,e){return Promise.resolve("token")}render(i,e){return""}},Ck=class{ready(i){i()}execute(i,e){return Promise.resolve("token")}render(i,e){return""}};var qZ="recaptcha-enterprise",xV="NO_RECAPTCHA",wk=class{constructor(i){this.type=qZ,this.auth=gd(i)}verify(i="verify",e=!1){return L(this,null,function*(){function n(a){return L(this,null,function*(){if(!e){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise((o,s)=>L(null,null,function*(){NZ(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)s(new Error("recaptcha Enterprise site key undefined"));else{let c=new fk(l);return a.tenantId==null?a._agentRecaptchaConfig=c:a._tenantRecaptchaConfigs[a.tenantId]=c,o(c.siteKey)}}).catch(l=>{s(l)})}))})}function r(a,o,s){let l=window.grecaptcha;GF(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:i}).then(c=>{o(c)}).catch(()=>{o(xV)})}):s(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new xk().execute("siteKey",{action:"verify"}):new Promise((a,o)=>{n(this.auth).then(s=>{if(!e&&GF(window.grecaptcha))r(s,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=YZ();l.length!==0&&(l+=s),vV(l).then(()=>{r(s,a,o)}).catch(c=>{o(c)})}}).catch(s=>{o(s)})})})}};function Cb(t,i,e,n=!1,r=!1){return L(this,null,function*(){let a=new wk(t),o;if(r)o=xV;else try{o=yield a.verify(e)}catch{o=yield a.verify(e,!0)}let s=Object.assign({},i);if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in s){let l=s.phoneEnrollmentInfo.phoneNumber,c=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in s){let l=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return s}return n?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})}function Dk(t,i,e,n,r){return L(this,null,function*(){var a,o;if(r==="EMAIL_PASSWORD_PROVIDER")if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield Cb(t,i,e,e==="getOobCode");return n(t,s)}else return n(t,i).catch(s=>L(null,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let l=yield Cb(t,i,e,e==="getOobCode");return n(t,l)}else return Promise.reject(s)}));else if(r==="PHONE_PROVIDER")if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("PHONE_PROVIDER")){let s=yield Cb(t,i,e);return n(t,s).catch(l=>L(null,null,function*(){var c;if(((c=t._getRecaptchaConfig())===null||c===void 0?void 0:c.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${e} flow.`);let d=yield Cb(t,i,e,!1,!0);return n(t,d)}return Promise.reject(l)}))}else{let s=yield Cb(t,i,e,!1,!0);return n(t,s)}else return Promise.reject(r+" provider is not supported.")})}function Bk(t,i){let e=Km(t,"auth");if(e.isInitialized()){let r=e.getImmediate(),a=e.getOptions();if(sl(a,i??{}))return r;yo(r,"already-initialized")}return e.initialize({options:i})}function ZZ(t,i){let e=i?.persistence||[],n=(Array.isArray(e)?e:[e]).map(tc);i?.errorMap&&t._updateErrorMap(i.errorMap),t._initializeWithPersistence(n,i?.popupRedirectResolver)}function zk(t,i,e){let n=gd(t);ct(/^https?:\/\//.test(i),n,"invalid-emulator-scheme");let r=!!e?.disableWarnings,a=CV(i),{host:o,port:s}=QZ(i),l=s===null?"":`:${s}`,c={url:`${a}//${o}${l}/`},d=Object.freeze({host:o,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!n._canInitEmulator){ct(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),ct(sl(c,n.config.emulator)&&sl(d,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=c,n.emulatorConfig=d,n.settings.appVerificationDisabledForTesting=!0,od(o)?(Y0(`${a}//${o}${l}`),K0("Auth",!0)):r||XZ()}function CV(t){let i=t.indexOf(":");return i<0?"":t.substr(0,i+1)}function QZ(t){let i=CV(t),e=/(\/\/)?([^?#/]+)/.exec(t.substr(i.length));if(!e)return{host:"",port:null};let n=e[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(n);if(r){let a=r[1];return{host:a,port:KF(n.substr(a.length+1))}}else{let[a,o]=n.split(":");return{host:a,port:KF(o)}}}function KF(t){if(!t)return null;let i=Number(t);return isNaN(i)?null:i}function XZ(){function t(){let i=document.createElement("p"),e=i.style;i.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",i.classList.add("firebase-emulator-warning"),document.body.appendChild(i)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var ep=class{constructor(i,e){this.providerId=i,this.signInMethod=e}toJSON(){return ec("not implemented")}_getIdTokenResponse(i){return ec("not implemented")}_linkToIdToken(i,e){return ec("not implemented")}_getReauthenticationResolver(i){return ec("not implemented")}};function JZ(t,i){return L(this,null,function*(){return rc(t,"POST","/v1/accounts:signUp",i)})}function eQ(t,i){return L(this,null,function*(){return Ab(t,"POST","/v1/accounts:signInWithPassword",fd(t,i))})}function tQ(t,i){return L(this,null,function*(){return Ab(t,"POST","/v1/accounts:signInWithEmailLink",fd(t,i))})}function iQ(t,i){return L(this,null,function*(){return Ab(t,"POST","/v1/accounts:signInWithEmailLink",fd(t,i))})}var Mb=class t extends ep{constructor(i,e,n,r=null){super("password",n),this._email=i,this._password=e,this._tenantId=r}static _fromEmailAndPassword(i,e){return new t(i,e,"password")}static _fromEmailAndCode(i,e,n=null){return new t(i,e,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(i){let e=typeof i=="string"?JSON.parse(i):i;if(e?.email&&e?.password){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}_getIdTokenResponse(i){return L(this,null,function*(){switch(this.signInMethod){case"password":let e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Dk(i,e,"signInWithPassword",eQ,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return tQ(i,{email:this._email,oobCode:this._password});default:yo(i,"internal-error")}})}_linkToIdToken(i,e){return L(this,null,function*(){switch(this.signInMethod){case"password":let n={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Dk(i,n,"signUpPassword",JZ,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return iQ(i,{idToken:e,email:this._email,oobCode:this._password});default:yo(i,"internal-error")}})}_getReauthenticationResolver(i){return this._getIdTokenResponse(i)}};function Xm(t,i){return L(this,null,function*(){return Ab(t,"POST","/v1/accounts:signInWithIdp",fd(t,i))})}var nQ="http://localhost",px=class t extends ep{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(i){let e=new t(i.providerId,i.signInMethod);return i.idToken||i.accessToken?(i.idToken&&(e.idToken=i.idToken),i.accessToken&&(e.accessToken=i.accessToken),i.nonce&&!i.pendingToken&&(e.nonce=i.nonce),i.pendingToken&&(e.pendingToken=i.pendingToken)):i.oauthToken&&i.oauthTokenSecret?(e.accessToken=i.oauthToken,e.secret=i.oauthTokenSecret):yo("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(i){let e=typeof i=="string"?JSON.parse(i):i,{providerId:n,signInMethod:r}=e,a=h_(e,["providerId","signInMethod"]);if(!n||!r)return null;let o=new t(n,r);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(i){let e=this.buildRequest();return Xm(i,e)}_linkToIdToken(i,e){let n=this.buildRequest();return n.idToken=e,Xm(i,n)}_getReauthenticationResolver(i){let e=this.buildRequest();return e.autoCreate=!1,Xm(i,e)}buildRequest(){let i={requestUri:nQ,returnSecureToken:!0};if(this.pendingToken)i.pendingToken=this.pendingToken;else{let e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),i.postBody=sd(e)}return i}};function rQ(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function aQ(t){let i=$m(Ym(t)).link,e=i?$m(Ym(i)).deep_link_id:null,n=$m(Ym(t)).deep_link_id;return(n?$m(Ym(n)).link:null)||n||e||i||t}var fx=class t{constructor(i){var e,n,r,a,o,s;let l=$m(Ym(i)),c=(e=l.apiKey)!==null&&e!==void 0?e:null,d=(n=l.oobCode)!==null&&n!==void 0?n:null,u=rQ((r=l.mode)!==null&&r!==void 0?r:null);ct(c&&d&&u,"argument-error"),this.apiKey=c,this.operation=u,this.code=d,this.continueUrl=(a=l.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(o=l.lang)!==null&&o!==void 0?o:null,this.tenantId=(s=l.tenantId)!==null&&s!==void 0?s:null}static parseLink(i){let e=aQ(i);try{return new t(e)}catch{return null}}};var wV=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(e,n){return Mb._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){let r=fx.parseLink(n);return ct(r,"argument-error"),Mb._fromEmailAndCode(e,r.code,r.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Ib=class{constructor(i){this.providerId=i,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(i){this.defaultLanguageCode=i}setCustomParameters(i){return this.customParameters=i,this}getCustomParameters(){return this.customParameters}};var gx=class extends Ib{constructor(){super(...arguments),this.scopes=[]}addScope(i){return this.scopes.includes(i)||this.scopes.push(i),this}getScopes(){return[...this.scopes]}};var jk=(()=>{class t extends gx{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return px._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return t.credentialFromTaggedObject(e)}static credentialFromError(e){return t.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return t.credential(n,r)}catch{return null}}}t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com";return t})();function oQ(t,i){return L(this,null,function*(){return Ab(t,"POST","/v1/accounts:signUp",fd(t,i))})}var tp=class t{constructor(i){this.user=i.user,this.providerId=i.providerId,this._tokenResponse=i._tokenResponse,this.operationType=i.operationType}static _fromIdTokenResponse(i,e,n,r=!1){return L(this,null,function*(){let a=yield pd._fromIdTokenResponse(i,n,r),o=qF(n);return new t({user:a,providerId:o,_tokenResponse:n,operationType:e})})}static _forOperation(i,e,n){return L(this,null,function*(){yield i._updateTokensIfNecessary(n,!0);let r=qF(n);return new t({user:i,providerId:r,_tokenResponse:n,operationType:e})})}};function qF(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Sk=class t extends as{constructor(i,e,n,r){var a;super(e.code,e.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,t.prototype),this.customData={appName:i.name,tenantId:(a=i.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:e.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(i,e,n,r){return new t(i,e,n,r)}};function DV(t,i,e,n){return(i==="reauthenticate"?e._getReauthenticationResolver(t):e._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Sk._fromErrorAndOperation(t,a,i,n):a})}function sQ(t,i,e=!1){return L(this,null,function*(){let n=yield Jm(t,i._linkToIdToken(t.auth,yield t.getIdToken()),e);return tp._forOperation(t,"link",n)})}function lQ(t,i,e=!1){return L(this,null,function*(){let{auth:n}=t;if(la(n.app))return Promise.reject(ic(n));let r="reauthenticate";try{let a=yield Jm(t,DV(n,r,i,t),e);ct(a.idToken,n,"internal-error");let o=Pk(a.idToken);ct(o,n,"internal-error");let{sub:s}=o;return ct(t.uid===s,n,"user-mismatch"),tp._forOperation(t,r,a)}catch(a){throw a?.code==="auth/user-not-found"&&yo(n,"user-mismatch"),a}})}function SV(t,i,e=!1){return L(this,null,function*(){if(la(t.app))return Promise.reject(ic(t));let n="signIn",r=yield DV(t,n,i),a=yield tp._fromIdTokenResponse(t,n,r);return e||(yield t._updateCurrentUser(a.user)),a})}function Uk(t,i){return L(this,null,function*(){return SV(gd(t),i)})}function MV(t){return L(this,null,function*(){let i=gd(t);i._getPasswordPolicyInternal()&&(yield i._updatePasswordPolicy())})}function Hk(t,i,e){return L(this,null,function*(){if(la(t.app))return Promise.reject(ic(t));let n=gd(t),o=yield Dk(n,{returnSecureToken:!0,email:i,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",oQ,"EMAIL_PASSWORD_PROVIDER").catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&MV(t),l}),s=yield tp._fromIdTokenResponse(n,"signIn",o);return yield n._updateCurrentUser(s.user),s})}function Gk(t,i,e){return la(t.app)?Promise.reject(ic(t)):Uk(kn(t),wV.credential(i,e)).catch(n=>L(null,null,function*(){throw n.code==="auth/password-does-not-meet-requirements"&&MV(t),n}))}function cQ(t,i){return L(this,null,function*(){return rc(t,"POST","/v1/accounts:update",i)})}function Wk(n,r){return L(this,arguments,function*(t,{displayName:i,photoURL:e}){if(i===void 0&&e===void 0)return;let a=kn(t),s={idToken:yield a.getIdToken(),displayName:i,photoUrl:e,returnSecureToken:!0},l=yield Jm(a,cQ(a.auth,s));a.displayName=l.displayName||null,a.photoURL=l.photoUrl||null;let c=a.providerData.find(({providerId:d})=>d==="password");c&&(c.displayName=a.displayName,c.photoURL=a.photoURL),yield a._updateTokensIfNecessary(l)})}function $k(t,i,e,n){return kn(t).onIdTokenChanged(i,e,n)}function Yk(t,i,e){return kn(t).beforeAuthStateChanged(i,e)}function Kk(t,i,e,n){return kn(t).onAuthStateChanged(i,e,n)}function qk(t){return kn(t).signOut()}var bx="__sak";var yx=class{constructor(i,e){this.storageRetriever=i,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(bx,"1"),this.storage.removeItem(bx),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(i,e){return this.storage.setItem(i,JSON.stringify(e)),Promise.resolve()}_get(i){let e=this.storage.getItem(i);return Promise.resolve(e?JSON.parse(e):null)}_remove(i){return this.storage.removeItem(i),Promise.resolve()}get storage(){return this.storageRetriever()}};var dQ=1e3,uQ=10,hQ=(()=>{class t extends yx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bV(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(let n of Object.keys(this.listeners)){let r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,l,c)=>{this.notifyListeners(s,c)});return}let r=e.key;n?this.detachListener():this.stopPolling();let a=()=>{let s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);HZ()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,uQ):a()}notifyListeners(e,n){this.localCache[e]=n;let r=this.listeners[e];if(r)for(let a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},dQ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(e,n){return L(this,null,function*(){yield Hs(t.prototype,this,"_set").call(this,e,n),this.localCache[e]=JSON.stringify(n)})}_get(e){return L(this,null,function*(){let n=yield Hs(t.prototype,this,"_get").call(this,e);return this.localCache[e]=JSON.stringify(n),n})}_remove(e){return L(this,null,function*(){yield Hs(t.prototype,this,"_remove").call(this,e),delete this.localCache[e]})}}return t.type="LOCAL",t})(),IV=hQ;var mQ=(()=>{class t extends yx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}return t.type="SESSION",t})(),Zk=mQ;function pQ(t){return Promise.all(t.map(i=>L(null,null,function*(){try{return{fulfilled:!0,value:yield i}}catch(e){return{fulfilled:!1,reason:e}}})))}var fQ=(()=>{class t{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){let n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;let r=new t(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}handleEvent(e){return L(this,null,function*(){let n=e,{eventId:r,eventType:a,data:o}=n.data,s=this.handlersMap[a];if(!s?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});let l=Array.from(s).map(d=>L(this,null,function*(){return d(n.origin,o)})),c=yield pQ(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:c})})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function Qk(t="",i=10){let e="";for(let n=0;n<i;n++)e+=Math.floor(Math.random()*10);return t+e}var Mk=class{constructor(i){this.target=i,this.handlers=new Set}removeMessageHandler(i){i.messageChannel&&(i.messageChannel.port1.removeEventListener("message",i.onMessage),i.messageChannel.port1.close()),this.handlers.delete(i)}_send(i,e,n=50){return L(this,null,function*(){let r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let a,o;return new Promise((s,l)=>{let c=Qk("",20);r.port1.start();let d=setTimeout(()=>{l(new Error("unsupported_event"))},n);o={messageChannel:r,onMessage(u){let h=u;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(d),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),s(h.data.response);break;default:clearTimeout(d),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:i,eventId:c,data:e},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function dl(){return window}function gQ(t){dl().location.href=t}function kV(){return typeof dl().WorkerGlobalScope<"u"&&typeof dl().importScripts=="function"}function bQ(){return L(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function yQ(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function vQ(){return kV()?self:null}var AV="firebaseLocalStorageDb",_Q=1,vx="firebaseLocalStorage",EV="fbase_key",zu=class{constructor(i){this.request=i}toPromise(){return new Promise((i,e)=>{this.request.addEventListener("success",()=>{i(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}};function wx(t,i){return t.transaction([vx],i?"readwrite":"readonly").objectStore(vx)}function xQ(){let t=indexedDB.deleteDatabase(AV);return new zu(t).toPromise()}function Ik(){let t=indexedDB.open(AV,_Q);return new Promise((i,e)=>{t.addEventListener("error",()=>{e(t.error)}),t.addEventListener("upgradeneeded",()=>{let n=t.result;try{n.createObjectStore(vx,{keyPath:EV})}catch(r){e(r)}}),t.addEventListener("success",()=>L(null,null,function*(){let n=t.result;n.objectStoreNames.contains(vx)?i(n):(n.close(),yield xQ(),i(yield Ik()))}))})}function ZF(t,i,e){return L(this,null,function*(){let n=wx(t,!0).put({[EV]:i,value:e});return new zu(n).toPromise()})}function CQ(t,i){return L(this,null,function*(){let e=wx(t,!1).get(i),n=yield new zu(e).toPromise();return n===void 0?null:n.value})}function QF(t,i){let e=wx(t,!0).delete(i);return new zu(e).toPromise()}var wQ=800,DQ=3,SQ=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return L(this,null,function*(){return this.db?this.db:(this.db=yield Ik(),this.db)})}_withRetries(e){return L(this,null,function*(){let n=0;for(;;)try{let r=yield this._openDb();return yield e(r)}catch(r){if(n++>DQ)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return L(this,null,function*(){return kV()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return L(this,null,function*(){this.receiver=fQ._getInstance(vQ()),this.receiver._subscribe("keyChanged",(e,n)=>L(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(n.key)}})),this.receiver._subscribe("ping",(e,n)=>L(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return L(this,null,function*(){var e,n;if(this.activeServiceWorker=yield bQ(),!this.activeServiceWorker)return;this.sender=new Mk(this.activeServiceWorker);let r=yield this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(e){return L(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||yQ()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return L(this,null,function*(){try{if(!indexedDB)return!1;let e=yield Ik();return yield ZF(e,bx,"1"),yield QF(e,bx),!0}catch{}return!1})}_withPendingWrite(e){return L(this,null,function*(){this.pendingWrites++;try{yield e()}finally{this.pendingWrites--}})}_set(e,n){return L(this,null,function*(){return this._withPendingWrite(()=>L(this,null,function*(){return yield this._withRetries(r=>ZF(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)}))})}_get(e){return L(this,null,function*(){let n=yield this._withRetries(r=>CQ(r,e));return this.localCache[e]=n,n})}_remove(e){return L(this,null,function*(){return this._withPendingWrite(()=>L(this,null,function*(){return yield this._withRetries(n=>QF(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)}))})}_poll(){return L(this,null,function*(){let e=yield this._withRetries(a=>{let o=wx(a,!1).getAll();return new zu(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];let n=[],r=new Set;if(e.length!==0)for(let{fbase_key:a,value:o}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),n.push(a));for(let a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n})}notifyListeners(e,n){this.localCache[e]=n;let r=this.listeners[e];if(r)for(let a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>L(this,null,function*(){return this._poll()}),wQ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),TV=SQ;var cMe=_V("rcb"),dMe=new Bu(3e4,6e4);function RV(t,i){return i?tc(i):(ct(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var kb=class extends ep{constructor(i){super("custom","custom"),this.params=i}_getIdTokenResponse(i){return Xm(i,this._buildIdpRequest())}_linkToIdToken(i,e){return Xm(i,this._buildIdpRequest(e))}_getReauthenticationResolver(i){return Xm(i,this._buildIdpRequest())}_buildIdpRequest(i){let e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return i&&(e.idToken=i),e}};function MQ(t){return SV(t.auth,new kb(t),t.bypassAuthState)}function IQ(t){let{auth:i,user:e}=t;return ct(e,i,"internal-error"),lQ(e,new kb(t),t.bypassAuthState)}function kQ(t){return L(this,null,function*(){let{auth:i,user:e}=t;return ct(e,i,"internal-error"),sQ(e,new kb(t),t.bypassAuthState)})}var _x=class{constructor(i,e,n,r,a=!1){this.auth=i,this.resolver=n,this.user=r,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise((i,e)=>L(this,null,function*(){this.pendingPromise={resolve:i,reject:e};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}onAuthEvent(i){return L(this,null,function*(){let{urlResponse:e,sessionId:n,postBody:r,tenantId:a,error:o,type:s}=i;if(o){this.reject(o);return}let l={auth:this.auth,requestUri:e,sessionId:n,tenantId:a||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(s)(l))}catch(c){this.reject(c)}})}onError(i){this.reject(i)}getIdpTask(i){switch(i){case"signInViaPopup":case"signInViaRedirect":return MQ;case"linkViaPopup":case"linkViaRedirect":return kQ;case"reauthViaPopup":case"reauthViaRedirect":return IQ;default:yo(this.auth,"internal-error")}}resolve(i){nc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(i),this.unregisterAndCleanUp()}reject(i){nc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(i),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var AQ=new Bu(2e3,1e4);function Xk(t,i,e){return L(this,null,function*(){if(la(t.app))return Promise.reject(cs(t,"operation-not-supported-in-this-environment"));let n=gd(t);IZ(t,i,Ib);let r=RV(n,e);return new EQ(n,"signInViaPopup",i,r).executeNotNull()})}var EQ=(()=>{class t extends _x{constructor(e,n,r,a,o){super(e,n,a,o),this.provider=r,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){return L(this,null,function*(){let e=yield this.execute();return ct(e,this.auth,"internal-error"),e})}onExecution(){return L(this,null,function*(){nc(this.filter.length===1,"Popup operations only handle one event");let e=Qk();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(cs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(cs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){let e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(cs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,AQ.get())};e()}}t.currentPopupAction=null;return t})(),TQ="pendingRedirect",ox=new Map,kk=class t extends _x{constructor(i,e,n=!1){super(i,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,n),this.eventId=null}execute(){return L(this,null,function*(){let i=ox.get(this.auth._key());if(!i){try{let n=(yield RQ(this.resolver,this.auth))?yield Hs(t.prototype,this,"execute").call(this):null;i=()=>Promise.resolve(n)}catch(e){i=()=>Promise.reject(e)}ox.set(this.auth._key(),i)}return this.bypassAuthState||ox.set(this.auth._key(),()=>Promise.resolve(null)),i()})}onAuthEvent(i){return L(this,null,function*(){if(i.type==="signInViaRedirect")return Hs(t.prototype,this,"onAuthEvent").call(this,i);if(i.type==="unknown"){this.resolve(null);return}if(i.eventId){let e=yield this.auth._redirectUserForId(i.eventId);if(e)return this.user=e,Hs(t.prototype,this,"onAuthEvent").call(this,i);this.resolve(null)}})}onExecution(){return L(this,null,function*(){})}cleanUp(){}};function RQ(t,i){return L(this,null,function*(){let e=NQ(i),n=LQ(t);if(!(yield n._isAvailable()))return!1;let r=(yield n._get(e))==="true";return yield n._remove(e),r})}function OQ(t,i){ox.set(t._key(),i)}function LQ(t){return tc(t._redirectPersistence)}function NQ(t){return ax(TQ,t.config.apiKey,t.name)}function PQ(t,i,e=!1){return L(this,null,function*(){if(la(t.app))return Promise.reject(ic(t));let n=gd(t),r=RV(n,i),o=yield new kk(n,r,e).execute();return o&&!e&&(delete o.user._redirectEventId,yield n._persistUserIfCurrent(o.user),yield n._setRedirectUser(null,i)),o})}var FQ=10*60*1e3,Ak=class{constructor(i){this.auth=i,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(i){this.consumers.add(i),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,i)&&(this.sendToConsumer(this.queuedRedirectEvent,i),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(i){this.consumers.delete(i)}onEvent(i){if(this.hasEventBeenHandled(i))return!1;let e=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(i,n)&&(e=!0,this.sendToConsumer(i,n),this.saveEventToCache(i))}),this.hasHandledPotentialRedirect||!VQ(i)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=i,e=!0)),e}sendToConsumer(i,e){var n;if(i.error&&!OV(i)){let r=((n=i.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";e.onError(cs(this.auth,r))}else e.onAuthEvent(i)}isEventForConsumer(i,e){let n=e.eventId===null||!!i.eventId&&i.eventId===e.eventId;return e.filter.includes(i.type)&&n}hasEventBeenHandled(i){return Date.now()-this.lastProcessedEventTime>=FQ&&this.cachedEventUids.clear(),this.cachedEventUids.has(XF(i))}saveEventToCache(i){this.cachedEventUids.add(XF(i)),this.lastProcessedEventTime=Date.now()}};function XF(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(i=>i).join("-")}function OV({type:t,error:i}){return t==="unknown"&&i?.code==="auth/no-auth-event"}function VQ(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return OV(t);default:return!1}}function BQ(e){return L(this,arguments,function*(t,i={}){return rc(t,"GET","/v1/projects",i)})}var zQ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jQ=/^https?/;function UQ(t){return L(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:i}=yield BQ(t);for(let e of i)try{if(HQ(e))return}catch{}yo(t,"unauthorized-domain")})}function HQ(t){let i=mk(),{protocol:e,hostname:n}=new URL(i);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&n===""?e==="chrome-extension:"&&t.replace("chrome-extension://","")===i.replace("chrome-extension://",""):e==="chrome-extension:"&&o.hostname===n}if(!jQ.test(e))return!1;if(zQ.test(t))return n===t;let r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(n)}var GQ=new Bu(3e4,6e4);function JF(){let t=dl().___jsl;if(t?.H){for(let i of Object.keys(t.H))if(t.H[i].r=t.H[i].r||[],t.H[i].L=t.H[i].L||[],t.H[i].r=[...t.H[i].L],t.CP)for(let e=0;e<t.CP.length;e++)t.CP[e]=null}}function WQ(t){return new Promise((i,e)=>{var n,r,a;function o(){JF(),gapi.load("gapi.iframes",{callback:()=>{i(gapi.iframes.getContext())},ontimeout:()=>{JF(),e(cs(t,"network-request-failed"))},timeout:GQ.get()})}if(!((r=(n=dl().gapi)===null||n===void 0?void 0:n.iframes)===null||r===void 0)&&r.Iframe)i(gapi.iframes.getContext());else if(!((a=dl().gapi)===null||a===void 0)&&a.load)o();else{let s=_V("iframefcb");return dl()[s]=()=>{gapi.load?o():e(cs(t,"network-request-failed"))},vV(`${KZ()}?onload=${s}`).catch(l=>e(l))}}).catch(i=>{throw sx=null,i})}var sx=null;function $Q(t){return sx=sx||WQ(t),sx}var YQ=new Bu(5e3,15e3),KQ="__/auth/iframe",qQ="emulator/auth/iframe",ZQ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},QQ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function XQ(t){let i=t.config;ct(i.authDomain,t,"auth-domain-config-required");let e=i.emulator?Lk(i,qQ):`https://${t.config.authDomain}/${KQ}`,n={apiKey:i.apiKey,appName:t.name,v:cd},r=QQ.get(t.config.apiHost);r&&(n.eid=r);let a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${e}?${sd(n).slice(1)}`}function JQ(t){return L(this,null,function*(){let i=yield $Q(t),e=dl().gapi;return ct(e,t,"internal-error"),i.open({where:document.body,url:XQ(t),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ZQ,dontclear:!0},n=>new Promise((r,a)=>L(null,null,function*(){yield n.restyle({setHideOnLeave:!1});let o=cs(t,"network-request-failed"),s=dl().setTimeout(()=>{a(o)},YQ.get());function l(){dl().clearTimeout(s),r(n)}n.ping(l).then(l,()=>{a(o)})})))})}var eX={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tX=500,iX=600,nX="_blank",rX="http://localhost",xx=class{constructor(i){this.window=i,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function aX(t,i,e,n=tX,r=iX){let a=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString(),s="",l=Object.assign(Object.assign({},eX),{width:n.toString(),height:r.toString(),top:a,left:o}),c=Fr().toLowerCase();e&&(s=hV(c)?nX:e),dV(c)&&(i=i||rX,l.scrollbars="yes");let d=Object.entries(l).reduce((h,[m,p])=>`${h}${m}=${p},`,"");if(UZ(c)&&s!=="_self")return oX(i||"",s),new xx(null);let u=window.open(i||"",s,d);ct(u,t,"popup-blocked");try{u.focus()}catch{}return new xx(u)}function oX(t,i){let e=document.createElement("a");e.href=t,e.target=i;let n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(n)}var sX="__/auth/handler",lX="emulator/auth/handler",cX=encodeURIComponent("fac");function eV(t,i,e,n,r,a){return L(this,null,function*(){ct(t.config.authDomain,t,"auth-domain-config-required"),ct(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:e,redirectUrl:n,v:cd,eventId:r};if(i instanceof Ib){i.setDefaultLanguage(t.languageCode),o.providerId=i.providerId||"",mb(i.getCustomParameters())||(o.customParameters=JSON.stringify(i.getCustomParameters()));for(let[d,u]of Object.entries(a||{}))o[d]=u}if(i instanceof gx){let d=i.getScopes().filter(u=>u!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);let s=o;for(let d of Object.keys(s))s[d]===void 0&&delete s[d];let l=yield t._getAppCheckToken(),c=l?`#${cX}=${encodeURIComponent(l)}`:"";return`${dX(t)}?${sd(s).slice(1)}${c}`})}function dX({config:t}){return t.emulator?Lk(t,lX):`https://${t.authDomain}/${sX}`}var hk="webStorageSupport",Ek=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Zk,this._completeRedirectFn=PQ,this._overrideRedirectResult=OQ}_openPopup(i,e,n,r){return L(this,null,function*(){var a;nc((a=this.eventManagers[i._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");let o=yield eV(i,e,n,mk(),r);return aX(i,o,Qk())})}_openRedirect(i,e,n,r){return L(this,null,function*(){yield this._originValidation(i);let a=yield eV(i,e,n,mk(),r);return gQ(a),new Promise(()=>{})})}_initialize(i){let e=i._key();if(this.eventManagers[e]){let{manager:r,promise:a}=this.eventManagers[e];return r?Promise.resolve(r):(nc(a,"If manager is not set, promise should be"),a)}let n=this.initAndGetManager(i);return this.eventManagers[e]={promise:n},n.catch(()=>{delete this.eventManagers[e]}),n}initAndGetManager(i){return L(this,null,function*(){let e=yield JQ(i),n=new Ak(i);return e.register("authEvent",r=>(ct(r?.authEvent,i,"invalid-auth-event"),{status:n.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[i._key()]={manager:n},this.iframes[i._key()]=e,n})}_isIframeWebStorageSupported(i,e){this.iframes[i._key()].send(hk,{type:hk},r=>{var a;let o=(a=r?.[0])===null||a===void 0?void 0:a[hk];o!==void 0&&e(!!o),yo(i,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(i){let e=i._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=UQ(i)),this.originValidationPromises[e]}get _shouldInitProactively(){return bV()||uV()||Vk()}},LV=Ek;var tV="@firebase/auth",iV="1.10.8";var Tk=class{constructor(i){this.auth=i,this.internalListeners=new Map}getUid(){var i;return this.assertAuthConfigured(),((i=this.auth.currentUser)===null||i===void 0?void 0:i.uid)||null}getToken(i){return L(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(i)}:null})}addAuthTokenListener(i){if(this.assertAuthConfigured(),this.internalListeners.has(i))return;let e=this.auth.onIdTokenChanged(n=>{i(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(i,e),this.updateProactiveRefresh()}removeAuthTokenListener(i){this.assertAuthConfigured();let e=this.internalListeners.get(i);e&&(this.internalListeners.delete(i),e(),this.updateProactiveRefresh())}assertAuthConfigured(){ct(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function uX(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function hX(t){ss(new sa("auth",(i,{options:e})=>{let n=i.getProvider("app").getImmediate(),r=i.getProvider("heartbeat"),a=i.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=n.options;ct(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});let l={apiKey:o,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yV(t)},c=new _k(n,r,a,l);return ZZ(c,e),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((i,e,n)=>{i.getProvider("auth-internal").initialize()})),ss(new sa("auth-internal",i=>{let e=gd(i.getProvider("auth").getImmediate());return(n=>new Tk(n))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),un(tV,iV,uX(t)),un(tV,iV,"esm2017")}var mX=5*60,pX=UI("authIdTokenMaxAge")||mX,nV=null,fX=t=>i=>L(null,null,function*(){let e=i&&(yield i.getIdTokenResult()),n=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(n&&n>pX)return;let r=e?.token;nV!==r&&(nV=r,yield fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});function Jk(t=Pu()){let i=Km(t,"auth");if(i.isInitialized())return i.getImmediate();let e=Bk(t,{popupRedirectResolver:LV,persistence:[TV,IV,Zk]}),n=UI("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){let a=new URL(n,location.origin);if(location.origin===a.origin){let o=fX(a.toString());Yk(e,o,()=>o(e.currentUser)),$k(e,s=>o(s))}}let r=zI("auth");return r&&zk(e,`http://${r}`),e}function gX(){var t,i;return(i=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&i!==void 0?i:document}$Z({loadJS(t){return new Promise((i,e)=>{let n=document.createElement("script");n.setAttribute("src",t),n.onload=i,n.onerror=r=>{let a=cs("internal-error");a.customData=r,e(a)},n.type="text/javascript",n.charset="UTF-8",gX().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});hX("Browser");var NV="auth",ju=class{constructor(i){return i}},Eb=class{constructor(){return Zm(NV)}};var eA=new G("angularfire2.auth-instances");function iJ(t,i){let e=vb(NV,t,i);return e&&new ju(e)}function nJ(t){return(i,e)=>{let n=i.runOutsideAngular(()=>t(e));return new ju(n)}}var rJ={provide:Eb,deps:[[new Bn,eA]]},aJ={provide:ju,useFactory:iJ,deps:[[new Bn,eA],Jl]};function PV(t,...i){return un("angularfire",dd.full,"auth"),fo([aJ,rJ,{provide:eA,useFactory:nJ(t),multi:!0,deps:[Ce,Ye,ud,Vu,[new Bn,Qm],...i]}])}var FV=Hn(Hk,!0,2);var VV=Hn(Jk,!0);var BV=Hn(Kk,!0);var zV=Hn(Gk,!0,2);var jV=Hn(Xk,!0,2);var UV=Hn(qk,!0,2);var HV=Hn(Wk,!0,2);var GV="@firebase/database",WV="1.0.20";var tE="";function sJ(t){tE=t}var lA=class{constructor(i){this.domStorage_=i,this.prefix_="firebase:"}set(i,e){e==null?this.domStorage_.removeItem(this.prefixedName_(i)):this.domStorage_.setItem(this.prefixedName_(i),In(e))}get(i){let e=this.domStorage_.getItem(this.prefixedName_(i));return e==null?null:Gm(e)}remove(i){this.domStorage_.removeItem(this.prefixedName_(i))}prefixedName_(i){return this.prefix_+i}toString(){return this.domStorage_.toString()}};var cA=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(i,e){e==null?delete this.cache_[i]:this.cache_[i]=e}get(i){return ol(this.cache_,i)?this.cache_[i]:null}remove(i){delete this.cache_[i]}};var wB=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let i=window[t];return i.setItem("firebase:sentinel","cache"),i.removeItem("firebase:sentinel"),new lA(i)}}catch{}return new cA},Hu=wB("localStorage"),dA=wB("sessionStorage");var rp=new ll("@firebase/database"),lJ=function(){let t=1;return function(){return t++}}(),DB=function(t){let i=pF(t),e=new $0;e.update(i);let n=e.digest();return Wm.encodeByteArray(n)},Zb=function(...t){let i="";for(let e=0;e<t.length;e++){let n=t[e];Array.isArray(n)||n&&typeof n=="object"&&typeof n.length=="number"?i+=Zb.apply(null,n):typeof n=="object"?i+=In(n):i+=n,i+=" "}return i},Wu=null,$V=!0,cJ=function(t,i){be(!i||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(rp.logLevel=xi.VERBOSE,Wu=rp.log.bind(rp),i&&dA.set("logging_enabled",!0)):typeof t=="function"?Wu=t:(Wu=null,dA.remove("logging_enabled"))},Vr=function(...t){if($V===!0&&($V=!1,Wu===null&&dA.get("logging_enabled")===!0&&cJ(!0)),Wu){let i=Zb.apply(null,t);Wu(i)}},Qb=function(t){return function(...i){Vr(t,...i)}},uA=function(...t){let i="FIREBASE INTERNAL ERROR: "+Zb(...t);rp.error(i)},ac=function(...t){let i=`FIREBASE FATAL ERROR: ${Zb(...t)}`;throw rp.error(i),new Error(i)},ka=function(...t){let i="FIREBASE WARNING: "+Zb(...t);rp.warn(i)},dJ=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ka("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},SB=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},uJ=function(t){if(al()||document.readyState==="complete")t();else{let i=!1,e=function(){if(!document.body){setTimeout(e,Math.floor(10));return}i||(i=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&e()}),window.attachEvent("onload",e))}},op="[MIN_NAME]",$u="[MAX_NAME]",mp=function(t,i){if(t===i)return 0;if(t===op||i===$u)return-1;if(i===op||t===$u)return 1;{let e=YV(t),n=YV(i);return e!==null?n!==null?e-n===0?t.length-i.length:e-n:-1:n!==null?1:t<i?-1:1}},hJ=function(t,i){return t===i?0:t<i?-1:1},Tb=function(t,i){if(i&&t in i)return i[t];throw new Error("Missing required key ("+t+") in object: "+In(i))},iE=function(t){if(typeof t!="object"||t===null)return In(t);let i=[];for(let n in t)i.push(n);i.sort();let e="{";for(let n=0;n<i.length;n++)n!==0&&(e+=","),e+=In(i[n]),e+=":",e+=iE(t[i[n]]);return e+="}",e},MB=function(t,i){let e=t.length;if(e<=i)return[t];let n=[];for(let r=0;r<e;r+=i)r+i>e?n.push(t.substring(r,e)):n.push(t.substring(r,r+i));return n};function Aa(t,i){for(let e in t)t.hasOwnProperty(e)&&i(e,t[e])}var IB=function(t){be(!SB(t),"Invalid JSON number");let i=11,e=52,n=(1<<i-1)-1,r,a,o,s,l;t===0?(a=0,o=0,r=1/t===-1/0?1:0):(r=t<0,t=Math.abs(t),t>=Math.pow(2,1-n)?(s=Math.min(Math.floor(Math.log(t)/Math.LN2),n),a=s+n,o=Math.round(t*Math.pow(2,e-s)-Math.pow(2,e))):(a=0,o=Math.round(t/Math.pow(2,1-n-e))));let c=[];for(l=e;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=i;l;l-=1)c.push(a%2?1:0),a=Math.floor(a/2);c.push(r?1:0),c.reverse();let d=c.join(""),u="";for(l=0;l<64;l+=8){let h=parseInt(d.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),u=u+h}return u.toLowerCase()},mJ=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},pJ=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function fJ(t,i){let e="Unknown Error";t==="too_big"?e="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?e="Client doesn't have permission to access the desired data.":t==="unavailable"&&(e="The service is unavailable");let n=new Error(t+" at "+i._path.toString()+": "+e);return n.code=t.toUpperCase(),n}var gJ=new RegExp("^-?(0*)\\d{1,10}$"),bJ=-2147483648,yJ=2147483647,YV=function(t){if(gJ.test(t)){let i=Number(t);if(i>=bJ&&i<=yJ)return i}return null},pp=function(t){try{t()}catch(i){setTimeout(()=>{let e=i.stack||"";throw ka("Exception was thrown by user callback.",e),i},Math.floor(0))}},vJ=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Pb=function(t,i){let e=setTimeout(t,i);return typeof e=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):typeof e=="object"&&e.unref&&e.unref(),e};var hA=class{constructor(i,e){this.appCheckProvider=e,this.appName=i.name,la(i)&&i.settings.appCheckToken&&(this.serverAppAppCheckToken=i.settings.appCheckToken),this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(n=>this.appCheck=n)}getToken(i){if(this.serverAppAppCheckToken){if(i)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(i):new Promise((e,n)=>{setTimeout(()=>{this.appCheck?this.getToken(i).then(e,n):e(null)},0)})}addTokenChangeListener(i){var e;(e=this.appCheckProvider)===null||e===void 0||e.get().then(n=>n.addTokenListener(i))}notifyForInvalidToken(){ka(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}};var mA=class{constructor(i,e,n){this.appName_=i,this.firebaseOptions_=e,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(r=>this.auth_=r)}getToken(i){return this.auth_?this.auth_.getToken(i).catch(e=>e&&e.code==="auth/token-not-initialized"?(Vr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,n)=>{setTimeout(()=>{this.auth_?this.getToken(i).then(e,n):e(null)},0)})}addTokenChangeListener(i){this.auth_?this.auth_.addAuthTokenListener(i):this.authProvider_.get().then(e=>e.addAuthTokenListener(i))}removeTokenChangeListener(i){this.authProvider_.get().then(e=>e.removeAuthTokenListener(i))}notifyForInvalidToken(){let i='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?i+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?i+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':i+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ka(i)}},Fb=(()=>{class t{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),Sx="5",kB="v",AB="s",EB="r",TB="f",RB=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,OB="ls",LB="p",pA="ac",NB="websocket",PB="long_polling";var Mx=class{constructor(i,e,n,r,a=!1,o="",s=!1,l=!1,c=null){this.secure=e,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.isUsingEmulator=l,this.emulatorOptions=c,this._host=i.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Hu.get("host:"+i)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(i){i!==this.internalHost&&(this.internalHost=i,this.isCacheableHost()&&Hu.set("host:"+this._host,this.internalHost))}toString(){let i=this.toURLString();return this.persistenceKey&&(i+="<"+this.persistenceKey+">"),i}toURLString(){let i=this.secure?"https://":"http://",e=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${i}${this.host}/${e}`}};function _J(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function FB(t,i,e){be(typeof i=="string","typeof type must == string"),be(typeof e=="object","typeof params must == object");let n;if(i===NB)n=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(i===PB)n=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+i);_J(t)&&(e.ns=t.namespace);let r=[];return Aa(e,(a,o)=>{r.push(a+"="+o)}),n+r.join("&")}var fA=class{constructor(){this.counters_={}}incrementCounter(i,e=1){ol(this.counters_,i)||(this.counters_[i]=0),this.counters_[i]+=e}get(){return tF(this.counters_)}};var tA={},iA={};function nE(t){let i=t.toString();return tA[i]||(tA[i]=new fA),tA[i]}function xJ(t,i){let e=t.toString();return iA[e]||(iA[e]=i()),iA[e]}var gA=class{constructor(i){this.onMessage_=i,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(i,e){this.closeAfterResponse=i,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(i,e){for(this.pendingResponses[i]=e;this.pendingResponses[this.currentResponseNum];){let n=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<n.length;++r)n[r]&&pp(()=>{this.onMessage_(n[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var KV="start",CJ="close",wJ="pLPCommand",DJ="pRTLPCB",VB="id",BB="pw",zB="ser",SJ="cb",MJ="seg",IJ="ts",kJ="d",AJ="dframe",jB=1870,UB=30,EJ=jB-UB,TJ=25e3,RJ=3e4,bA=class t{constructor(i,e,n,r,a,o,s){this.connId=i,this.repoInfo=e,this.applicationId=n,this.appCheckToken=r,this.authToken=a,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Qb(i),this.stats_=nE(e),this.urlFn=l=>(this.appCheckToken&&(l[pA]=this.appCheckToken),FB(e,PB,l))}open(i,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new gA(i),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(RJ)),uJ(()=>{if(this.isClosed_)return;this.scriptTagHolder=new yA((...a)=>{let[o,s,l,c,d]=a;if(this.incrementIncomingBytes_(a),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===KV)this.id=s,this.password=l;else if(o===CJ)s?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(s,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...a)=>{let[o,s]=a;this.incrementIncomingBytes_(a),this.myPacketOrderer.handleResponse(o,s)},()=>{this.onClosed_()},this.urlFn);let n={};n[KV]="t",n[zB]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(n[SJ]=this.scriptTagHolder.uniqueCallbackIdentifier),n[kB]=Sx,this.transportSessionId&&(n[AB]=this.transportSessionId),this.lastSessionId&&(n[OB]=this.lastSessionId),this.applicationId&&(n[LB]=this.applicationId),this.appCheckToken&&(n[pA]=this.appCheckToken),typeof location<"u"&&location.hostname&&RB.test(location.hostname)&&(n[EB]=TB);let r=this.urlFn(n);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return al()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!mJ()&&!pJ()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(i){let e=In(i);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);let n=VI(e),r=MB(n,EJ);for(let a=0;a<r.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[a]),this.curSegmentNum++}addDisconnectPingFrame(i,e){if(al())return;this.myDisconnFrame=document.createElement("iframe");let n={};n[AJ]="t",n[VB]=i,n[BB]=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(i){let e=In(i).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}},yA=class t{constructor(i,e,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,al())this.commandCB=i,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=lJ(),window[wJ+this.uniqueCallbackIdentifier]=i,window[DJ+this.uniqueCallbackIdentifier]=e,this.myIFrame=t.createIFrame_();let a="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(a='<script>document.domain="'+document.domain+'";<\/script>');let o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(s){Vr("frame writing exception"),s.stack&&Vr(s.stack),Vr(s)}}}static createIFrame_(){let i=document.createElement("iframe");if(i.style.display="none",document.body){document.body.appendChild(i);try{i.contentWindow.document||Vr("No IE domain setting required")}catch{let n=document.domain;i.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return i.contentDocument?i.doc=i.contentDocument:i.contentWindow?i.doc=i.contentWindow.document:i.document&&(i.doc=i.document),i}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let i=this.onDisconnect;i&&(this.onDisconnect=null,i())}startLongPoll(i,e){for(this.myID=i,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let i={};i[VB]=this.myID,i[BB]=this.myPW,i[zB]=this.currentSerial;let e=this.urlFn(i),n="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+UB+n.length<=jB;){let o=this.pendingSegs.shift();n=n+"&"+MJ+r+"="+o.seg+"&"+IJ+r+"="+o.ts+"&"+kJ+r+"="+o.d,r++}return e=e+n,this.addLongPollTag_(e,this.currentSerial),!0}else return!1}enqueueSegment(i,e,n){this.pendingSegs.push({seg:i,ts:e,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(i,e){this.outstandingRequests.add(e);let n=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(n,Math.floor(TJ)),a=()=>{clearTimeout(r),n()};this.addTag(i,a)}addTag(i,e){al()?this.doNodeLongPoll(i,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;let n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=i,n.onload=n.onreadystatechange=function(){let r=n.readyState;(!r||r==="loaded"||r==="complete")&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),e())},n.onerror=()=>{Vr("Long-poll script failed to load: "+i),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch{}},Math.floor(1))}};var OJ=16384,LJ=45e3,Ix=null;typeof MozWebSocket<"u"?Ix=MozWebSocket:typeof WebSocket<"u"&&(Ix=WebSocket);var Rb=(()=>{class t{constructor(e,n,r,a,o,s,l){this.connId=e,this.applicationId=r,this.appCheckToken=a,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Qb(this.connId),this.stats_=nE(n),this.connURL=t.connectionURL_(n,s,l,a,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,a,o){let s={};return s[kB]=Sx,!al()&&typeof location<"u"&&location.hostname&&RB.test(location.hostname)&&(s[EB]=TB),n&&(s[AB]=n),r&&(s[OB]=r),a&&(s[pA]=a),o&&(s[LB]=o),FB(e,NB,s)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Hu.set("previous_websocket_failure",!0);try{let r;if(al()){let a=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":`Firebase/${Sx}/${tE}/${process.platform}/${a}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);let o=process.env,s=this.connURL.indexOf("wss://")===0?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;s&&(r.proxy={origin:s})}this.mySock=new Ix(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");let a=r.message||r.data;a&&this.log_(a),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");let a=r.message||r.data;a&&this.log_(a),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){let n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Ix!==null&&!t.forceDisallow_}static previouslyFailed(){return Hu.isInMemoryStorage||Hu.get("previous_websocket_failure")===!0}markConnectionHealthy(){Hu.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){let n=this.frames.join("");this.frames=null;let r=Gm(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(be(this.frames===null,"We already have a frame buffer"),e.length<=6){let n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;let n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{let r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();let n=In(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=MB(n,OJ);r.length>1&&this.sendString_(String(r.length));for(let a=0;a<r.length;a++)this.sendString_(r[a])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(LJ))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),NJ=(()=>{class t{static get ALL_TRANSPORTS(){return[bA,Rb]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){let n=Rb&&Rb.isAvailable(),r=n&&!Rb.previouslyFailed();if(e.webSocketOnly&&(n||ka("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Rb];else{let a=this.transports_=[];for(let o of t.ALL_TRANSPORTS)o&&o.isAvailable()&&a.push(o);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),PJ=6e4,FJ=5e3,VJ=10*1024,BJ=100*1024,nA="t",qV="d",zJ="s",ZV="r",jJ="e",QV="o",XV="a",JV="n",eB="p",UJ="h",vA=class{constructor(i,e,n,r,a,o,s,l,c,d){this.id=i,this.repoInfo_=e,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=a,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Qb("c:"+this.id+":"),this.transportManager_=new NJ(e),this.log_("Connection created"),this.start_()}start_(){let i=this.transportManager_.initialTransport();this.conn_=new i(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=i.responsesRequiredToBeHealthy||0;let e=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,n)},Math.floor(0));let r=i.healthyTimeout||0;r>0&&(this.healthyTimeout_=Pb(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>BJ?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>VJ?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(i){return e=>{i===this.conn_?this.onConnectionLost_(e):i===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(i){return e=>{this.state_!==2&&(i===this.rx_?this.onPrimaryMessageReceived_(e):i===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(i){let e={t:"d",d:i};this.sendData_(e)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(i){if(nA in i){let e=i[nA];e===XV?this.upgradeIfSecondaryHealthy_():e===ZV?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):e===QV&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(i){let e=Tb("t",i),n=Tb("d",i);if(e==="c")this.onSecondaryControl_(n);else if(e==="d")this.pendingDataMessages.push(n);else throw new Error("Unknown protocol layer: "+e)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:eB,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:XV,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:JV,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(i){let e=Tb("t",i),n=Tb("d",i);e==="c"?this.onControl_(n):e==="d"&&this.onDataMessage_(n)}onDataMessage_(i){this.onPrimaryResponse_(),this.onMessage_(i)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(i){let e=Tb(nA,i);if(qV in i){let n=i[qV];if(e===UJ){let r=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(e===JV){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else e===zJ?this.onConnectionShutdown_(n):e===ZV?this.onReset_(n):e===jJ?uA("Server Error: "+n):e===QV?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):uA("Unknown control packet command: "+e)}}onHandshake_(i){let e=i.ts,n=i.v,r=i.h;this.sessionId=i.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),Sx!==n&&ka("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let i=this.transportManager_.upgradeTransport();i&&this.startUpgrade_(i)}startUpgrade_(i){this.secondaryConn_=new i(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=i.responsesRequiredToBeHealthy||0;let e=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,n),Pb(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(PJ))}onReset_(i){this.log_("Reset packet received.  New host: "+i),this.repoInfo_.host=i,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(i,e){this.log_("Realtime connection established."),this.conn_=i,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Pb(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(FJ))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:eB,d:{}}}))}onSecondaryConnectionLost_(){let i=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===i||this.rx_===i)&&this.close()}onConnectionLost_(i){this.conn_=null,!i&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Hu.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(i){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(i),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(i){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(i)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var kx=class{put(i,e,n,r){}merge(i,e,n,r){}refreshAuthToken(i){}refreshAppCheckToken(i){}onDisconnectPut(i,e,n){}onDisconnectMerge(i,e,n){}onDisconnectCancel(i,e){}reportStats(i){}};var Ax=class{constructor(i){this.allowedEvents_=i,this.listeners_={},be(Array.isArray(i)&&i.length>0,"Requires a non-empty array")}trigger(i,...e){if(Array.isArray(this.listeners_[i])){let n=[...this.listeners_[i]];for(let r=0;r<n.length;r++)n[r].callback.apply(n[r].context,e)}}on(i,e,n){this.validateEventType_(i),this.listeners_[i]=this.listeners_[i]||[],this.listeners_[i].push({callback:e,context:n});let r=this.getInitialEvent(i);r&&e.apply(n,r)}off(i,e,n){this.validateEventType_(i);let r=this.listeners_[i]||[];for(let a=0;a<r.length;a++)if(r[a].callback===e&&(!n||n===r[a].context)){r.splice(a,1);return}}validateEventType_(i){be(this.allowedEvents_.find(e=>e===i),"Unknown event: "+i)}};var Ex=class t extends Ax{static getInstance(){return new t}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!hb()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(i){return be(i==="online","Unknown event type: "+i),[this.online_]}currentlyOnline(){return this.online_}};var tB=32,iB=768,Ci=class{constructor(i,e){if(e===void 0){this.pieces_=i.split("/");let n=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=i,this.pieceNum_=e}toString(){let i="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)this.pieces_[e]!==""&&(i+="/"+this.pieces_[e]);return i||"/"}};function ai(){return new Ci("")}function Vt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function vd(t){return t.pieces_.length-t.pieceNum_}function Bi(t){let i=t.pieceNum_;return i<t.pieces_.length&&i++,new Ci(t.pieces_,i)}function HB(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function HJ(t){let i="";for(let e=t.pieceNum_;e<t.pieces_.length;e++)t.pieces_[e]!==""&&(i+="/"+encodeURIComponent(String(t.pieces_[e])));return i||"/"}function GB(t,i=0){return t.pieces_.slice(t.pieceNum_+i)}function WB(t){if(t.pieceNum_>=t.pieces_.length)return null;let i=[];for(let e=t.pieceNum_;e<t.pieces_.length-1;e++)i.push(t.pieces_[e]);return new Ci(i,0)}function Gn(t,i){let e=[];for(let n=t.pieceNum_;n<t.pieces_.length;n++)e.push(t.pieces_[n]);if(i instanceof Ci)for(let n=i.pieceNum_;n<i.pieces_.length;n++)e.push(i.pieces_[n]);else{let n=i.split("/");for(let r=0;r<n.length;r++)n[r].length>0&&e.push(n[r])}return new Ci(e,0)}function Gt(t){return t.pieceNum_>=t.pieces_.length}function ca(t,i){let e=Vt(t),n=Vt(i);if(e===null)return i;if(e===n)return ca(Bi(t),Bi(i));throw new Error("INTERNAL ERROR: innerPath ("+i+") is not within outerPath ("+t+")")}function rE(t,i){if(vd(t)!==vd(i))return!1;for(let e=t.pieceNum_,n=i.pieceNum_;e<=t.pieces_.length;e++,n++)if(t.pieces_[e]!==i.pieces_[n])return!1;return!0}function us(t,i){let e=t.pieceNum_,n=i.pieceNum_;if(vd(t)>vd(i))return!1;for(;e<t.pieces_.length;){if(t.pieces_[e]!==i.pieces_[n])return!1;++e,++n}return!0}var _A=class{constructor(i,e){this.errorPrefix_=e,this.parts_=GB(i,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=fb(this.parts_[n]);$B(this)}};function GJ(t,i){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(i),t.byteLength_+=fb(i),$B(t)}function WJ(t){let i=t.parts_.pop();t.byteLength_-=fb(i),t.parts_.length>0&&(t.byteLength_-=1)}function $B(t){if(t.byteLength_>iB)throw new Error(t.errorPrefix_+"has a key path longer than "+iB+" bytes ("+t.byteLength_+").");if(t.parts_.length>tB)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+tB+") or object contains a cycle "+Uu(t))}function Uu(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var xA=class t extends Ax{static getInstance(){return new t}constructor(){super(["visible"]);let i,e;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",i="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",i="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",i="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",i="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{let n=!document[i];n!==this.visible_&&(this.visible_=n,this.trigger("visible",n))},!1)}getInitialEvent(i){return be(i==="visible","Unknown event type: "+i),[this.visible_]}};var Ob=1e3,$J=60*5*1e3,nB=30*1e3,YJ=1.3,KJ=3e4,qJ="server_kill",rB=3,aE=(()=>{class t extends kx{constructor(e,n,r,a,o,s,l,c){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=a,this.onServerInfoUpdate_=o,this.authTokenProvider_=s,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=t.nextPersistentConnectionId_++,this.log_=Qb("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ob,this.maxReconnectDelay_=$J,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!al())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");xA.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Ex.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){let a=++this.requestNumber_,o={r:a,a:e,b:n};this.log_(In(o)),be(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[a]=r)}get(e){this.initConnection_();let n=new rs,a={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:s=>{let l=s.d;s.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;let o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),n.promise}listen(e,n,r,a){this.initConnection_();let o=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+o),this.listens.has(s)||this.listens.set(s,new Map),be(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),be(!this.listens.get(s).has(o),"listen() called twice for same path/queryId.");let l={onComplete:a,hashFn:n,query:e,tag:r};this.listens.get(s).set(o,l),this.connected_&&this.sendListen_(l)}sendGet_(e){let n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){let n=e.query,r=n._path.toString(),a=n._queryIdentifier;this.log_("Listen on "+r+" for "+a);let o={p:r},s="q";e.tag&&(o.q=n._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(s,o,l=>{let c=l.d,d=l.s;t.warnOnListenWarnings_(c,n),(this.listens.get(r)&&this.listens.get(r).get(a))===e&&(this.log_("listen response",l),d!=="ok"&&this.removeListen_(r,a),e.onComplete&&e.onComplete(d,c))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&ol(e,"w")){let r=Lu(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){let a='".indexOn": "'+n._queryParams.getIndex().toString()+'"',o=n._path.toString();ka(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${a} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||hF(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=nB)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let e=this.authToken_,n=uF(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,a=>{let o=a.s,s=a.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,s))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{let n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){let r=e._path.toString(),a=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+a),be(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,a)&&this.connected_&&this.sendUnlisten_(r,a,e._queryObject,n)}sendUnlisten_(e,n,r,a){this.log_("Unlisten on "+e+" for "+n);let o={p:e},s="n";a&&(o.q=r,o.t=a),this.sendRequest(s,o)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,a){let o={p:n,d:r};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,s=>{a&&setTimeout(()=>{a(s.s,s.d)},Math.floor(0))})}put(e,n,r,a){this.putInternal("p",e,n,r,a)}merge(e,n,r,a){this.putInternal("m",e,n,r,a)}putInternal(e,n,r,a,o){this.initConnection_();let s={p:n,d:r};o!==void 0&&(s.h=o),this.outstandingPuts_.push({action:e,request:s,onComplete:a}),this.outstandingPutCount_++;let l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){let n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,a=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,o=>{this.log_(n+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),a&&a(o.s,o.d)})}reportStats(e){if(this.connected_){let n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){let o=r.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+In(e));let n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):uA("Unrecognized action received from server: "+In(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){be(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ob,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ob,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>KJ&&(this.reconnectDelay_=Ob),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_),n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*YJ)}this.onConnectStatus_(!1)}establishConnection_(){return L(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+t.nextConnectionId_++,o=this.lastSessionId,s=!1,l=null,c=function(){l?l.close():(s=!0,r())},d=function(h){be(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(h)};this.realtime_={close:c,sendRequest:d};let u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[h,m]=yield Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);s?Vr("getToken() completed but was canceled"):(Vr("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=m&&m.token,l=new vA(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{ka(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(qJ)},o))}catch(h){this.log_("Failed to get token: "+h),s||(this.repoInfo_.nodeAdmin&&ka(h),c())}}})}interrupt(e){Vr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Vr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],mb(this.interruptReasons_)&&(this.reconnectDelay_=Ob,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){let n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){let n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(o=>iE(o)).join("$"):r="default";let a=this.removeListen_(e,r);a&&a.onComplete&&a.onComplete("permission_denied")}removeListen_(e,n){let r=new Ci(e).toString(),a;if(this.listens.has(r)){let o=this.listens.get(r);a=o.get(n),o.delete(n),o.size===0&&this.listens.delete(r)}else a=void 0;return a}onAuthRevoked_(e,n){Vr("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=rB&&(this.reconnectDelay_=nB,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Vr("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=rB&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let e of this.listens.values())for(let n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){let e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){let e={},n="js";al()&&(this.repoInfo_.nodeAdmin?n="admin_node":n="node"),e["sdk."+n+"."+tE.replace(/\./g,"-")]=1,hb()?e["framework.cordova"]=1:q0()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){let e=Ex.getInstance().currentlyOnline();return mb(this.interruptReasons_)&&e}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),Bt=class t{constructor(i,e){this.name=i,this.node=e}static Wrap(i,e){return new t(i,e)}};var sp=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(i,e){let n=new Bt(op,i),r=new Bt(op,e);return this.compare(n,r)!==0}minPost(){return Bt.MIN}};var Dx,Tx=class extends sp{static get __EMPTY_NODE(){return Dx}static set __EMPTY_NODE(i){Dx=i}compare(i,e){return mp(i.name,e.name)}isDefinedOn(i){throw Ou("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(i,e){return!1}minPost(){return Bt.MIN}maxPost(){return new Bt($u,Dx)}makePost(i,e){return be(typeof i=="string","KeyIndex indexValue must always be a string."),new Bt(i,Dx)}toString(){return".key"}},ap=new Tx;var np=class{constructor(i,e,n,r,a=null){this.isReverse_=r,this.resultGenerator_=a,this.nodeStack_=[];let o=1;for(;!i.isEmpty();)if(i=i,o=e?n(i.key,e):1,r&&(o*=-1),o<0)this.isReverse_?i=i.left:i=i.right;else if(o===0){this.nodeStack_.push(i);break}else this.nodeStack_.push(i),this.isReverse_?i=i.right:i=i.left}getNext(){if(this.nodeStack_.length===0)return null;let i=this.nodeStack_.pop(),e;if(this.resultGenerator_?e=this.resultGenerator_(i.key,i.value):e={key:i.key,value:i.value},this.isReverse_)for(i=i.left;!i.isEmpty();)this.nodeStack_.push(i),i=i.right;else for(i=i.right;!i.isEmpty();)this.nodeStack_.push(i),i=i.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let i=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(i.key,i.value):{key:i.key,value:i.value}}},ds=(()=>{class t{constructor(e,n,r,a,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=a??vo.EMPTY_NODE,this.right=o??vo.EMPTY_NODE}copy(e,n,r,a,o){return new t(e??this.key,n??this.value,r??this.color,a??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this,o=r(e,a.key);return o<0?a=a.copy(null,null,null,a.left.insert(e,n,r),null):o===0?a=a.copy(null,n,null,null,null):a=a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp_()}removeMin_(){if(this.left.isEmpty())return vo.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,a;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return vo.EMPTY_NODE;a=r.right.min_(),r=r.copy(a.key,a.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){let e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),CA=class{copy(i,e,n,r,a){return this}insert(i,e,n){return new ds(i,e,null)}remove(i,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},vo=class t{constructor(i,e=t.EMPTY_NODE){this.comparator_=i,this.root_=e}insert(i,e){return new t(this.comparator_,this.root_.insert(i,e,this.comparator_).copy(null,null,ds.BLACK,null,null))}remove(i){return new t(this.comparator_,this.root_.remove(i,this.comparator_).copy(null,null,ds.BLACK,null,null))}get(i){let e,n=this.root_;for(;!n.isEmpty();){if(e=this.comparator_(i,n.key),e===0)return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null}getPredecessorKey(i){let e,n=this.root_,r=null;for(;!n.isEmpty();)if(e=this.comparator_(i,n.key),e===0){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}else e<0?n=n.left:e>0&&(r=n,n=n.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(i){return this.root_.inorderTraversal(i)}reverseTraversal(i){return this.root_.reverseTraversal(i)}getIterator(i){return new np(this.root_,null,this.comparator_,!1,i)}getIteratorFrom(i,e){return new np(this.root_,i,this.comparator_,!1,e)}getReverseIteratorFrom(i,e){return new np(this.root_,i,this.comparator_,!0,e)}getReverseIterator(i){return new np(this.root_,null,this.comparator_,!0,i)}};vo.EMPTY_NODE=new CA;function ZJ(t,i){return mp(t.name,i.name)}function oE(t,i){return mp(t,i)}var wA;function QJ(t){wA=t}var YB=function(t){return typeof t=="number"?"number:"+IB(t):"string:"+t},KB=function(t){if(t.isLeafNode()){let i=t.val();be(typeof i=="string"||typeof i=="number"||typeof i=="object"&&ol(i,".sv"),"Priority must be a string or number.")}else be(t===wA||t.isEmpty(),"priority of unexpected type.");be(t===wA||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var aB,lp=(()=>{class t{static set __childrenNodeConstructor(e){aB=e}static get __childrenNodeConstructor(){return aB}constructor(e,n=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,be(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),KB(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new t(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Gt(e)?this:Vt(e)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){let r=Vt(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(be(r!==".priority"||vd(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(Bi(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+YB(this.priorityNode_.val())+":");let n=typeof this.value_;e+=n+":",n==="number"?e+=IB(this.value_):e+=this.value_,this.lazyHash_=DB(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(be(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){let n=typeof e.value_,r=typeof this.value_,a=t.VALUE_TYPE_ORDER.indexOf(n),o=t.VALUE_TYPE_ORDER.indexOf(r);return be(a>=0,"Unknown leaf type: "+n),be(o>=0,"Unknown leaf type: "+r),a===o?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-a}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){let n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),qB,ZB;function XJ(t){qB=t}function JJ(t){ZB=t}var DA=class extends sp{compare(i,e){let n=i.node.getPriority(),r=e.node.getPriority(),a=n.compareTo(r);return a===0?mp(i.name,e.name):a}isDefinedOn(i){return!i.getPriority().isEmpty()}indexedValueChanged(i,e){return!i.getPriority().equals(e.getPriority())}minPost(){return Bt.MIN}maxPost(){return new Bt($u,new lp("[PRIORITY-POST]",ZB))}makePost(i,e){let n=qB(i);return new Bt(e,new lp("[PRIORITY-POST]",n))}toString(){return".priority"}},hn=new DA;var eee=Math.log(2),SA=class{constructor(i){let e=a=>parseInt(Math.log(a)/eee,10),n=a=>parseInt(Array(a+1).join("1"),2);this.count=e(i+1),this.current_=this.count-1;let r=n(this.count);this.bits_=i+1&r}nextBitIsOne(){let i=!(this.bits_&1<<this.current_);return this.current_--,i}},Rx=function(t,i,e,n){t.sort(i);let r=function(l,c){let d=c-l,u,h;if(d===0)return null;if(d===1)return u=t[l],h=e?e(u):u,new ds(h,u.node,ds.BLACK,null,null);{let m=parseInt(d/2,10)+l,p=r(l,m),g=r(m+1,c);return u=t[m],h=e?e(u):u,new ds(h,u.node,ds.BLACK,p,g)}},a=function(l){let c=null,d=null,u=t.length,h=function(p,g){let y=u-p,v=u;u-=p;let x=r(y+1,v),w=t[y],D=e?e(w):w;m(new ds(D,w.node,g,null,x))},m=function(p){c?(c.left=p,c=p):(d=p,c=p)};for(let p=0;p<l.count;++p){let g=l.nextBitIsOne(),y=Math.pow(2,l.count-(p+1));g?h(y,ds.BLACK):(h(y,ds.BLACK),h(y,ds.RED))}return d},o=new SA(t.length),s=a(o);return new vo(n||i,s)};var rA,ip={},cp=class t{static get Default(){return be(ip&&hn,"ChildrenNode.ts has not been loaded"),rA=rA||new t({".priority":ip},{".priority":hn}),rA}constructor(i,e){this.indexes_=i,this.indexSet_=e}get(i){let e=Lu(this.indexes_,i);if(!e)throw new Error("No index defined for "+i);return e instanceof vo?e:null}hasIndex(i){return ol(this.indexSet_,i.toString())}addIndex(i,e){be(i!==ap,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let n=[],r=!1,a=e.getIterator(Bt.Wrap),o=a.getNext();for(;o;)r=r||i.isDefinedOn(o.node),n.push(o),o=a.getNext();let s;r?s=Rx(n,i.getCompare()):s=ip;let l=i.toString(),c=Object.assign({},this.indexSet_);c[l]=i;let d=Object.assign({},this.indexes_);return d[l]=s,new t(d,c)}addToIndexes(i,e){let n=pb(this.indexes_,(r,a)=>{let o=Lu(this.indexSet_,a);if(be(o,"Missing index implementation for "+a),r===ip)if(o.isDefinedOn(i.node)){let s=[],l=e.getIterator(Bt.Wrap),c=l.getNext();for(;c;)c.name!==i.name&&s.push(c),c=l.getNext();return s.push(i),Rx(s,o.getCompare())}else return ip;else{let s=e.get(i.name),l=r;return s&&(l=l.remove(new Bt(i.name,s))),l.insert(i,i.node)}});return new t(n,this.indexSet_)}removeFromIndexes(i,e){let n=pb(this.indexes_,r=>{if(r===ip)return r;{let a=e.get(i.name);return a?r.remove(new Bt(i.name,a)):r}});return new t(n,this.indexSet_)}};var Lb,It=(()=>{class t{static get EMPTY_NODE(){return Lb||(Lb=new t(new vo(oE),null,cp.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&KB(this.priorityNode_),this.children_.isEmpty()&&be(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Lb}updatePriority(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{let n=this.children_.get(e);return n===null?Lb:n}}getChild(e){let n=Vt(e);return n===null?this:this.getImmediateChild(n).getChild(Bi(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(be(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{let r=new Bt(e,n),a,o;n.isEmpty()?(a=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(a=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_));let s=a.isEmpty()?Lb:this.priorityNode_;return new t(a,s,o)}}updateChild(e,n){let r=Vt(e);if(r===null)return n;{be(Vt(e)!==".priority"||vd(e)===1,".priority must be the last token in a path");let a=this.getImmediateChild(r).updateChild(Bi(e),n);return this.updateImmediateChild(r,a)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;let n={},r=0,a=0,o=!0;if(this.forEachChild(hn,(s,l)=>{n[s]=l.val(e),r++,o&&t.INTEGER_REGEXP_.test(s)?a=Math.max(a,Number(s)):o=!1}),!e&&o&&a<2*r){let s=[];for(let l in n)s[l]=n[l];return s}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+YB(this.getPriority().val())+":"),this.forEachChild(hn,(n,r)=>{let a=r.hash();a!==""&&(e+=":"+n+":"+a)}),this.lazyHash_=e===""?"":DB(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){let a=this.resolveIndex_(r);if(a){let o=a.getPredecessorKey(new Bt(e,n));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){let n=this.resolveIndex_(e);if(n){let r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){let n=this.getFirstChildName(e);return n?new Bt(n,this.children_.get(n)):null}getLastChildName(e){let n=this.resolveIndex_(e);if(n){let r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){let n=this.getLastChildName(e);return n?new Bt(n,this.children_.get(n)):null}forEachChild(e,n){let r=this.resolveIndex_(e);return r?r.inorderTraversal(a=>n(a.name,a.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){let r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,a=>a);{let a=this.children_.getIteratorFrom(e.name,Bt.Wrap),o=a.peek();for(;o!=null&&n.compare(o,e)<0;)a.getNext(),o=a.peek();return a}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){let r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,a=>a);{let a=this.children_.getReverseIteratorFrom(e.name,Bt.Wrap),o=a.peek();for(;o!=null&&n.compare(o,e)>0;)a.getNext(),o=a.peek();return a}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Xb?-1:0}withIndex(e){if(e===ap||this.indexMap_.hasIndex(e))return this;{let n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===ap||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{let n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){let r=this.getIterator(hn),a=n.getIterator(hn),o=r.getNext(),s=a.getNext();for(;o&&s;){if(o.name!==s.name||!o.node.equals(s.node))return!1;o=r.getNext(),s=a.getNext()}return o===null&&s===null}else return!1;else return!1}}resolveIndex_(e){return e===ap?null:this.indexMap_.get(e.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),MA=class extends It{constructor(){super(new vo(oE),It.EMPTY_NODE,cp.Default)}compareTo(i){return i===this?0:1}equals(i){return i===this}getPriority(){return this}getImmediateChild(i){return It.EMPTY_NODE}isEmpty(){return!1}},Xb=new MA;Object.defineProperties(Bt,{MIN:{value:new Bt(op,It.EMPTY_NODE)},MAX:{value:new Bt($u,Xb)}});Tx.__EMPTY_NODE=It.EMPTY_NODE;lp.__childrenNodeConstructor=It;QJ(Xb);JJ(Xb);var tee=!0;function or(t,i=null){if(t===null)return It.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(i=t[".priority"]),be(i===null||typeof i=="string"||typeof i=="number"||typeof i=="object"&&".sv"in i,"Invalid priority type found: "+typeof i),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let e=t;return new lp(e,or(i))}if(!(t instanceof Array)&&tee){let e=[],n=!1;if(Aa(t,(o,s)=>{if(o.substring(0,1)!=="."){let l=or(s);l.isEmpty()||(n=n||!l.getPriority().isEmpty(),e.push(new Bt(o,l)))}}),e.length===0)return It.EMPTY_NODE;let a=Rx(e,ZJ,o=>o.name,oE);if(n){let o=Rx(e,hn.getCompare());return new It(a,or(i),new cp({".priority":o},{".priority":hn}))}else return new It(a,or(i),cp.Default)}else{let e=It.EMPTY_NODE;return Aa(t,(n,r)=>{if(ol(t,n)&&n.substring(0,1)!=="."){let a=or(r);(a.isLeafNode()||!a.isEmpty())&&(e=e.updateImmediateChild(n,a))}}),e.updatePriority(or(i))}}XJ(or);var IA=class extends sp{constructor(i){super(),this.indexPath_=i,be(!Gt(i)&&Vt(i)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(i){return i.getChild(this.indexPath_)}isDefinedOn(i){return!i.getChild(this.indexPath_).isEmpty()}compare(i,e){let n=this.extractChild(i.node),r=this.extractChild(e.node),a=n.compareTo(r);return a===0?mp(i.name,e.name):a}makePost(i,e){let n=or(i),r=It.EMPTY_NODE.updateChild(this.indexPath_,n);return new Bt(e,r)}maxPost(){let i=It.EMPTY_NODE.updateChild(this.indexPath_,Xb);return new Bt($u,i)}toString(){return GB(this.indexPath_,0).join("/")}};var kA=class extends sp{compare(i,e){let n=i.node.compareTo(e.node);return n===0?mp(i.name,e.name):n}isDefinedOn(i){return!0}indexedValueChanged(i,e){return!i.equals(e)}minPost(){return Bt.MIN}maxPost(){return Bt.MAX}makePost(i,e){let n=or(i);return new Bt(e,n)}toString(){return".value"}},iee=new kA;function QB(t){return{type:"value",snapshotNode:t}}function dp(t,i){return{type:"child_added",snapshotNode:i,childName:t}}function jb(t,i){return{type:"child_removed",snapshotNode:i,childName:t}}function Ub(t,i,e){return{type:"child_changed",snapshotNode:i,childName:t,oldSnap:e}}function nee(t,i){return{type:"child_moved",snapshotNode:i,childName:t}}var Hb=class{constructor(i){this.index_=i}updateChild(i,e,n,r,a,o){be(i.isIndexed(this.index_),"A node must be indexed if only a child is updated");let s=i.getImmediateChild(e);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()||(o!=null&&(n.isEmpty()?i.hasChild(e)?o.trackChildChange(jb(e,s)):be(i.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?o.trackChildChange(dp(e,n)):o.trackChildChange(Ub(e,n,s))),i.isLeafNode()&&n.isEmpty())?i:i.updateImmediateChild(e,n).withIndex(this.index_)}updateFullNode(i,e,n){return n!=null&&(i.isLeafNode()||i.forEachChild(hn,(r,a)=>{e.hasChild(r)||n.trackChildChange(jb(r,a))}),e.isLeafNode()||e.forEachChild(hn,(r,a)=>{if(i.hasChild(r)){let o=i.getImmediateChild(r);o.equals(a)||n.trackChildChange(Ub(r,a,o))}else n.trackChildChange(dp(r,a))})),e.withIndex(this.index_)}updatePriority(i,e){return i.isEmpty()?It.EMPTY_NODE:i.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var Ox=class t{constructor(i){this.indexedFilter_=new Hb(i.getIndex()),this.index_=i.getIndex(),this.startPost_=t.getStartPost_(i),this.endPost_=t.getEndPost_(i),this.startIsInclusive_=!i.startAfterSet_,this.endIsInclusive_=!i.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(i){let e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),i)<=0:this.index_.compare(this.getStartPost(),i)<0,n=this.endIsInclusive_?this.index_.compare(i,this.getEndPost())<=0:this.index_.compare(i,this.getEndPost())<0;return e&&n}updateChild(i,e,n,r,a,o){return this.matches(new Bt(e,n))||(n=It.EMPTY_NODE),this.indexedFilter_.updateChild(i,e,n,r,a,o)}updateFullNode(i,e,n){e.isLeafNode()&&(e=It.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(It.EMPTY_NODE);let a=this;return e.forEachChild(hn,(o,s)=>{a.matches(new Bt(o,s))||(r=r.updateImmediateChild(o,It.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(i,r,n)}updatePriority(i,e){return i}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(i){if(i.hasStart()){let e=i.getIndexStartName();return i.getIndex().makePost(i.getIndexStartValue(),e)}else return i.getIndex().minPost()}static getEndPost_(i){if(i.hasEnd()){let e=i.getIndexEndName();return i.getIndex().makePost(i.getIndexEndValue(),e)}else return i.getIndex().maxPost()}};var AA=class{constructor(i){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{let n=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?n<=0:n<0},this.withinEndPost=e=>{let n=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?n<=0:n<0},this.rangedFilter_=new Ox(i),this.index_=i.getIndex(),this.limit_=i.getLimit(),this.reverse_=!i.isViewFromLeft(),this.startIsInclusive_=!i.startAfterSet_,this.endIsInclusive_=!i.endBeforeSet_}updateChild(i,e,n,r,a,o){return this.rangedFilter_.matches(new Bt(e,n))||(n=It.EMPTY_NODE),i.getImmediateChild(e).equals(n)?i:i.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(i,e,n,r,a,o):this.fullLimitUpdateChild_(i,e,n,a,o)}updateFullNode(i,e,n){let r;if(e.isLeafNode()||e.isEmpty())r=It.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<e.numChildren()&&e.isIndexed(this.index_)){r=It.EMPTY_NODE.withIndex(this.index_);let a;this.reverse_?a=e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):a=e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;a.hasNext()&&o<this.limit_;){let s=a.getNext();if(this.withinDirectionalStart(s))if(this.withinDirectionalEnd(s))r=r.updateImmediateChild(s.name,s.node),o++;else break;else continue}}else{r=e.withIndex(this.index_),r=r.updatePriority(It.EMPTY_NODE);let a;this.reverse_?a=r.getReverseIterator(this.index_):a=r.getIterator(this.index_);let o=0;for(;a.hasNext();){let s=a.getNext();o<this.limit_&&this.withinDirectionalStart(s)&&this.withinDirectionalEnd(s)?o++:r=r.updateImmediateChild(s.name,It.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(i,r,n)}updatePriority(i,e){return i}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(i,e,n,r,a){let o;if(this.reverse_){let u=this.index_.getCompare();o=(h,m)=>u(m,h)}else o=this.index_.getCompare();let s=i;be(s.numChildren()===this.limit_,"");let l=new Bt(e,n),c=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),d=this.rangedFilter_.matches(l);if(s.hasChild(e)){let u=s.getImmediateChild(e),h=r.getChildAfterChild(this.index_,c,this.reverse_);for(;h!=null&&(h.name===e||s.hasChild(h.name));)h=r.getChildAfterChild(this.index_,h,this.reverse_);let m=h==null?1:o(h,l);if(d&&!n.isEmpty()&&m>=0)return a?.trackChildChange(Ub(e,n,u)),s.updateImmediateChild(e,n);{a?.trackChildChange(jb(e,u));let g=s.updateImmediateChild(e,It.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(a?.trackChildChange(dp(h.name,h.node)),g.updateImmediateChild(h.name,h.node)):g}}else return n.isEmpty()?i:d&&o(c,l)>=0?(a!=null&&(a.trackChildChange(jb(c.name,c.node)),a.trackChildChange(dp(e,n))),s.updateImmediateChild(e,n).updateImmediateChild(c.name,It.EMPTY_NODE)):i}};var EA=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=hn}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return be(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return be(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:op}hasEnd(){return this.endSet_}getIndexEndValue(){return be(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return be(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:$u}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return be(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===hn}copy(){let i=new t;return i.limitSet_=this.limitSet_,i.limit_=this.limit_,i.startSet_=this.startSet_,i.startAfterSet_=this.startAfterSet_,i.indexStartValue_=this.indexStartValue_,i.startNameSet_=this.startNameSet_,i.indexStartName_=this.indexStartName_,i.endSet_=this.endSet_,i.endBeforeSet_=this.endBeforeSet_,i.indexEndValue_=this.indexEndValue_,i.endNameSet_=this.endNameSet_,i.indexEndName_=this.indexEndName_,i.index_=this.index_,i.viewFrom_=this.viewFrom_,i}};function ree(t){return t.loadsAllData()?new Hb(t.getIndex()):t.hasLimit()?new AA(t):new Ox(t)}function oB(t){let i={};if(t.isDefault())return i;let e;if(t.index_===hn?e="$priority":t.index_===iee?e="$value":t.index_===ap?e="$key":(be(t.index_ instanceof IA,"Unrecognized index type!"),e=t.index_.toString()),i.orderBy=In(e),t.startSet_){let n=t.startAfterSet_?"startAfter":"startAt";i[n]=In(t.indexStartValue_),t.startNameSet_&&(i[n]+=","+In(t.indexStartName_))}if(t.endSet_){let n=t.endBeforeSet_?"endBefore":"endAt";i[n]=In(t.indexEndValue_),t.endNameSet_&&(i[n]+=","+In(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?i.limitToFirst=t.limit_:i.limitToLast=t.limit_),i}function sB(t){let i={};if(t.startSet_&&(i.sp=t.indexStartValue_,t.startNameSet_&&(i.sn=t.indexStartName_),i.sin=!t.startAfterSet_),t.endSet_&&(i.ep=t.indexEndValue_,t.endNameSet_&&(i.en=t.indexEndName_),i.ein=!t.endBeforeSet_),t.limitSet_){i.l=t.limit_;let e=t.viewFrom_;e===""&&(t.isViewFromLeft()?e="l":e="r"),i.vf=e}return t.index_!==hn&&(i.i=t.index_.toString()),i}var TA=class t extends kx{reportStats(i){throw new Error("Method not implemented.")}static getListenId_(i,e){return e!==void 0?"tag$"+e:(be(i._queryParams.isDefault(),"should have a tag if it's not a default query."),i._path.toString())}constructor(i,e,n,r){super(),this.repoInfo_=i,this.onDataUpdate_=e,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=Qb("p:rest:"),this.listens_={}}listen(i,e,n,r){let a=i._path.toString();this.log_("Listen called for "+a+" "+i._queryIdentifier);let o=t.getListenId_(i,n),s={};this.listens_[o]=s;let l=oB(i._queryParams);this.restRequest_(a+".json",l,(c,d)=>{let u=d;if(c===404&&(u=null,c=null),c===null&&this.onDataUpdate_(a,u,!1,n),Lu(this.listens_,o)===s){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",r(h,null)}})}unlisten(i,e){let n=t.getListenId_(i,e);delete this.listens_[n]}get(i){let e=oB(i._queryParams),n=i._path.toString(),r=new rs;return this.restRequest_(n+".json",e,(a,o)=>{let s=o;a===404&&(s=null,a=null),a===null?(this.onDataUpdate_(n,s,!1,null),r.resolve(s)):r.reject(new Error(s))}),r.promise}refreshAuthToken(i){}restRequest_(i,e={},n){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,a])=>{r&&r.accessToken&&(e.auth=r.accessToken),a&&a.token&&(e.ac=a.token);let o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+i+"?ns="+this.repoInfo_.namespace+sd(e);this.log_("Sending REST request for "+o);let s=new XMLHttpRequest;s.onreadystatechange=()=>{if(n&&s.readyState===4){this.log_("REST Response for "+o+" received. status:",s.status,"response:",s.responseText);let l=null;if(s.status>=200&&s.status<300){try{l=Gm(s.responseText)}catch{ka("Failed to parse JSON response for "+o+": "+s.responseText)}n(null,l)}else s.status!==401&&s.status!==404&&ka("Got unsuccessful REST response for "+o+" Status: "+s.status),n(s.status);n=null}},s.open("GET",o,!0),s.send()})}};var RA=class{constructor(){this.rootNode_=It.EMPTY_NODE}getNode(i){return this.rootNode_.getChild(i)}updateSnapshot(i,e){this.rootNode_=this.rootNode_.updateChild(i,e)}};function Lx(){return{value:null,children:new Map}}function XB(t,i,e){if(Gt(i))t.value=e,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(i,e);else{let n=Vt(i);t.children.has(n)||t.children.set(n,Lx());let r=t.children.get(n);i=Bi(i),XB(r,i,e)}}function OA(t,i,e){t.value!==null?e(i,t.value):aee(t,(n,r)=>{let a=new Ci(i.toString()+"/"+n);OA(r,a,e)})}function aee(t,i){t.children.forEach((e,n)=>{i(n,e)})}var LA=class{constructor(i){this.collection_=i,this.last_=null}get(){let i=this.collection_.get(),e=Object.assign({},i);return this.last_&&Aa(this.last_,(n,r)=>{e[n]=e[n]-r}),this.last_=i,e}};var lB=10*1e3,oee=30*1e3,see=5*60*1e3,NA=class{constructor(i,e){this.server_=e,this.statsToReport_={},this.statsListener_=new LA(i);let n=lB+(oee-lB)*Math.random();Pb(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){let i=this.statsListener_.get(),e={},n=!1;Aa(i,(r,a)=>{a>0&&ol(this.statsToReport_,r)&&(e[r]=a,n=!0)}),n&&this.server_.reportStats(e),Pb(this.reportStats_.bind(this),Math.floor(Math.random()*2*see))}};var ul=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(ul||{});function JB(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function sE(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function lE(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var PA=class t{constructor(i,e,n){this.path=i,this.affectedTree=e,this.revert=n,this.type=ul.ACK_USER_WRITE,this.source=JB()}operationForChild(i){if(Gt(this.path)){if(this.affectedTree.value!=null)return be(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let e=this.affectedTree.subtree(new Ci(i));return new t(ai(),e,this.revert)}}else return be(Vt(this.path)===i,"operationForChild called for unrelated child."),new t(Bi(this.path),this.affectedTree,this.revert)}};var Nx=class t{constructor(i,e){this.source=i,this.path=e,this.type=ul.LISTEN_COMPLETE}operationForChild(i){return Gt(this.path)?new t(this.source,ai()):new t(this.source,Bi(this.path))}};var up=class t{constructor(i,e,n){this.source=i,this.path=e,this.snap=n,this.type=ul.OVERWRITE}operationForChild(i){return Gt(this.path)?new t(this.source,ai(),this.snap.getImmediateChild(i)):new t(this.source,Bi(this.path),this.snap)}};var Px=class t{constructor(i,e,n){this.source=i,this.path=e,this.children=n,this.type=ul.MERGE}operationForChild(i){if(Gt(this.path)){let e=this.children.subtree(new Ci(i));return e.isEmpty()?null:e.value?new up(this.source,ai(),e.value):new t(this.source,ai(),e)}else return be(Vt(this.path)===i,"Can't get a merge for a child not on the path of the operation"),new t(this.source,Bi(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var hl=class{constructor(i,e,n){this.node_=i,this.fullyInitialized_=e,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(i){if(Gt(i))return this.isFullyInitialized()&&!this.filtered_;let e=Vt(i);return this.isCompleteForChild(e)}isCompleteForChild(i){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(i)}getNode(){return this.node_}};var FA=class{constructor(i){this.query_=i,this.index_=this.query_._queryParams.getIndex()}};function lee(t,i,e,n){let r=[],a=[];return i.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&a.push(nee(o.childName,o.snapshotNode))}),Nb(t,r,"child_removed",i,n,e),Nb(t,r,"child_added",i,n,e),Nb(t,r,"child_moved",a,n,e),Nb(t,r,"child_changed",i,n,e),Nb(t,r,"value",i,n,e),r}function Nb(t,i,e,n,r,a){let o=n.filter(s=>s.type===e);o.sort((s,l)=>dee(t,s,l)),o.forEach(s=>{let l=cee(t,s,a);r.forEach(c=>{c.respondsTo(s.type)&&i.push(c.createEvent(l,t.query_))})})}function cee(t,i,e){return i.type==="value"||i.type==="child_removed"||(i.prevName=e.getPredecessorChildName(i.childName,i.snapshotNode,t.index_)),i}function dee(t,i,e){if(i.childName==null||e.childName==null)throw Ou("Should only compare child_ events.");let n=new Bt(i.childName,i.snapshotNode),r=new Bt(e.childName,e.snapshotNode);return t.index_.compare(n,r)}function qx(t,i){return{eventCache:t,serverCache:i}}function Vb(t,i,e,n){return qx(new hl(i,e,n),t.serverCache)}function e4(t,i,e,n){return qx(t.eventCache,new hl(i,e,n))}function Fx(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Yu(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var aA,uee=()=>(aA||(aA=new vo(hJ)),aA),Ea=class t{static fromObject(i){let e=new t(null);return Aa(i,(n,r)=>{e=e.set(new Ci(n),r)}),e}constructor(i,e=uee()){this.value=i,this.children=e}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(i,e){if(this.value!=null&&e(this.value))return{path:ai(),value:this.value};if(Gt(i))return null;{let n=Vt(i),r=this.children.get(n);if(r!==null){let a=r.findRootMostMatchingPathAndValue(Bi(i),e);return a!=null?{path:Gn(new Ci(n),a.path),value:a.value}:null}else return null}}findRootMostValueAndPath(i){return this.findRootMostMatchingPathAndValue(i,()=>!0)}subtree(i){if(Gt(i))return this;{let e=Vt(i),n=this.children.get(e);return n!==null?n.subtree(Bi(i)):new t(null)}}set(i,e){if(Gt(i))return new t(e,this.children);{let n=Vt(i),a=(this.children.get(n)||new t(null)).set(Bi(i),e),o=this.children.insert(n,a);return new t(this.value,o)}}remove(i){if(Gt(i))return this.children.isEmpty()?new t(null):new t(null,this.children);{let e=Vt(i),n=this.children.get(e);if(n){let r=n.remove(Bi(i)),a;return r.isEmpty()?a=this.children.remove(e):a=this.children.insert(e,r),this.value===null&&a.isEmpty()?new t(null):new t(this.value,a)}else return this}}get(i){if(Gt(i))return this.value;{let e=Vt(i),n=this.children.get(e);return n?n.get(Bi(i)):null}}setTree(i,e){if(Gt(i))return e;{let n=Vt(i),a=(this.children.get(n)||new t(null)).setTree(Bi(i),e),o;return a.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,a),new t(this.value,o)}}fold(i){return this.fold_(ai(),i)}fold_(i,e){let n={};return this.children.inorderTraversal((r,a)=>{n[r]=a.fold_(Gn(i,r),e)}),e(i,this.value,n)}findOnPath(i,e){return this.findOnPath_(i,ai(),e)}findOnPath_(i,e,n){let r=this.value?n(e,this.value):!1;if(r)return r;if(Gt(i))return null;{let a=Vt(i),o=this.children.get(a);return o?o.findOnPath_(Bi(i),Gn(e,a),n):null}}foreachOnPath(i,e){return this.foreachOnPath_(i,ai(),e)}foreachOnPath_(i,e,n){if(Gt(i))return this;{this.value&&n(e,this.value);let r=Vt(i),a=this.children.get(r);return a?a.foreachOnPath_(Bi(i),Gn(e,r),n):new t(null)}}foreach(i){this.foreach_(ai(),i)}foreach_(i,e){this.children.inorderTraversal((n,r)=>{r.foreach_(Gn(i,n),e)}),this.value&&e(i,this.value)}foreachChild(i){this.children.inorderTraversal((e,n)=>{n.value&&i(e,n.value)})}};var hs=class t{constructor(i){this.writeTree_=i}static empty(){return new t(new Ea(null))}};function Bb(t,i,e){if(Gt(i))return new hs(new Ea(e));{let n=t.writeTree_.findRootMostValueAndPath(i);if(n!=null){let r=n.path,a=n.value,o=ca(r,i);return a=a.updateChild(o,e),new hs(t.writeTree_.set(r,a))}else{let r=new Ea(e),a=t.writeTree_.setTree(i,r);return new hs(a)}}}function cB(t,i,e){let n=t;return Aa(e,(r,a)=>{n=Bb(n,Gn(i,r),a)}),n}function dB(t,i){if(Gt(i))return hs.empty();{let e=t.writeTree_.setTree(i,new Ea(null));return new hs(e)}}function VA(t,i){return qu(t,i)!=null}function qu(t,i){let e=t.writeTree_.findRootMostValueAndPath(i);return e!=null?t.writeTree_.get(e.path).getChild(ca(e.path,i)):null}function uB(t){let i=[],e=t.writeTree_.value;return e!=null?e.isLeafNode()||e.forEachChild(hn,(n,r)=>{i.push(new Bt(n,r))}):t.writeTree_.children.inorderTraversal((n,r)=>{r.value!=null&&i.push(new Bt(n,r.value))}),i}function bd(t,i){if(Gt(i))return t;{let e=qu(t,i);return e!=null?new hs(new Ea(e)):new hs(t.writeTree_.subtree(i))}}function BA(t){return t.writeTree_.isEmpty()}function hp(t,i){return t4(ai(),t.writeTree_,i)}function t4(t,i,e){if(i.value!=null)return e.updateChild(t,i.value);{let n=null;return i.children.inorderTraversal((r,a)=>{r===".priority"?(be(a.value!==null,"Priority writes must always be leaf nodes"),n=a.value):e=t4(Gn(t,r),a,e)}),!e.getChild(t).isEmpty()&&n!==null&&(e=e.updateChild(Gn(t,".priority"),n)),e}}function Zx(t,i){return a4(i,t)}function hee(t,i,e,n,r){be(n>t.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),t.allWrites.push({path:i,snap:e,writeId:n,visible:r}),r&&(t.visibleWrites=Bb(t.visibleWrites,i,e)),t.lastWriteId=n}function mee(t,i){for(let e=0;e<t.allWrites.length;e++){let n=t.allWrites[e];if(n.writeId===i)return n}return null}function pee(t,i){let e=t.allWrites.findIndex(s=>s.writeId===i);be(e>=0,"removeWrite called with nonexistent writeId.");let n=t.allWrites[e];t.allWrites.splice(e,1);let r=n.visible,a=!1,o=t.allWrites.length-1;for(;r&&o>=0;){let s=t.allWrites[o];s.visible&&(o>=e&&fee(s,n.path)?r=!1:us(n.path,s.path)&&(a=!0)),o--}if(r){if(a)return gee(t),!0;if(n.snap)t.visibleWrites=dB(t.visibleWrites,n.path);else{let s=n.children;Aa(s,l=>{t.visibleWrites=dB(t.visibleWrites,Gn(n.path,l))})}return!0}else return!1}function fee(t,i){if(t.snap)return us(t.path,i);for(let e in t.children)if(t.children.hasOwnProperty(e)&&us(Gn(t.path,e),i))return!0;return!1}function gee(t){t.visibleWrites=i4(t.allWrites,bee,ai()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function bee(t){return t.visible}function i4(t,i,e){let n=hs.empty();for(let r=0;r<t.length;++r){let a=t[r];if(i(a)){let o=a.path,s;if(a.snap)us(e,o)?(s=ca(e,o),n=Bb(n,s,a.snap)):us(o,e)&&(s=ca(o,e),n=Bb(n,ai(),a.snap.getChild(s)));else if(a.children){if(us(e,o))s=ca(e,o),n=cB(n,s,a.children);else if(us(o,e))if(s=ca(o,e),Gt(s))n=cB(n,ai(),a.children);else{let l=Lu(a.children,Vt(s));if(l){let c=l.getChild(Bi(s));n=Bb(n,ai(),c)}}}else throw Ou("WriteRecord should have .snap or .children")}}return n}function n4(t,i,e,n,r){if(!n&&!r){let a=qu(t.visibleWrites,i);if(a!=null)return a;{let o=bd(t.visibleWrites,i);if(BA(o))return e;if(e==null&&!VA(o,ai()))return null;{let s=e||It.EMPTY_NODE;return hp(o,s)}}}else{let a=bd(t.visibleWrites,i);if(!r&&BA(a))return e;if(!r&&e==null&&!VA(a,ai()))return null;{let o=function(c){return(c.visible||r)&&(!n||!~n.indexOf(c.writeId))&&(us(c.path,i)||us(i,c.path))},s=i4(t.allWrites,o,i),l=e||It.EMPTY_NODE;return hp(s,l)}}}function yee(t,i,e){let n=It.EMPTY_NODE,r=qu(t.visibleWrites,i);if(r)return r.isLeafNode()||r.forEachChild(hn,(a,o)=>{n=n.updateImmediateChild(a,o)}),n;if(e){let a=bd(t.visibleWrites,i);return e.forEachChild(hn,(o,s)=>{let l=hp(bd(a,new Ci(o)),s);n=n.updateImmediateChild(o,l)}),uB(a).forEach(o=>{n=n.updateImmediateChild(o.name,o.node)}),n}else{let a=bd(t.visibleWrites,i);return uB(a).forEach(o=>{n=n.updateImmediateChild(o.name,o.node)}),n}}function vee(t,i,e,n,r){be(n||r,"Either existingEventSnap or existingServerSnap must exist");let a=Gn(i,e);if(VA(t.visibleWrites,a))return null;{let o=bd(t.visibleWrites,a);return BA(o)?r.getChild(e):hp(o,r.getChild(e))}}function _ee(t,i,e,n){let r=Gn(i,e),a=qu(t.visibleWrites,r);if(a!=null)return a;if(n.isCompleteForChild(e)){let o=bd(t.visibleWrites,r);return hp(o,n.getNode().getImmediateChild(e))}else return null}function xee(t,i){return qu(t.visibleWrites,i)}function Cee(t,i,e,n,r,a,o){let s,l=bd(t.visibleWrites,i),c=qu(l,ai());if(c!=null)s=c;else if(e!=null)s=hp(l,e);else return[];if(s=s.withIndex(o),!s.isEmpty()&&!s.isLeafNode()){let d=[],u=o.getCompare(),h=a?s.getReverseIteratorFrom(n,o):s.getIteratorFrom(n,o),m=h.getNext();for(;m&&d.length<r;)u(m,n)!==0&&d.push(m),m=h.getNext();return d}else return[]}function wee(){return{visibleWrites:hs.empty(),allWrites:[],lastWriteId:-1}}function Vx(t,i,e,n){return n4(t.writeTree,t.treePath,i,e,n)}function cE(t,i){return yee(t.writeTree,t.treePath,i)}function hB(t,i,e,n){return vee(t.writeTree,t.treePath,i,e,n)}function Bx(t,i){return xee(t.writeTree,Gn(t.treePath,i))}function Dee(t,i,e,n,r,a){return Cee(t.writeTree,t.treePath,i,e,n,r,a)}function dE(t,i,e){return _ee(t.writeTree,t.treePath,i,e)}function r4(t,i){return a4(Gn(t.treePath,i),t.writeTree)}function a4(t,i){return{treePath:t,writeTree:i}}var zA=class{constructor(){this.changeMap=new Map}trackChildChange(i){let e=i.type,n=i.childName;be(e==="child_added"||e==="child_changed"||e==="child_removed","Only child changes supported for tracking"),be(n!==".priority","Only non-priority child changes can be tracked.");let r=this.changeMap.get(n);if(r){let a=r.type;if(e==="child_added"&&a==="child_removed")this.changeMap.set(n,Ub(n,i.snapshotNode,r.snapshotNode));else if(e==="child_removed"&&a==="child_added")this.changeMap.delete(n);else if(e==="child_removed"&&a==="child_changed")this.changeMap.set(n,jb(n,r.oldSnap));else if(e==="child_changed"&&a==="child_added")this.changeMap.set(n,dp(n,i.snapshotNode));else if(e==="child_changed"&&a==="child_changed")this.changeMap.set(n,Ub(n,i.snapshotNode,r.oldSnap));else throw Ou("Illegal combination of changes: "+i+" occurred after "+r)}else this.changeMap.set(n,i)}getChanges(){return Array.from(this.changeMap.values())}};var jA=class{getCompleteChild(i){return null}getChildAfterChild(i,e,n){return null}},o4=new jA,Gb=class{constructor(i,e,n=null){this.writes_=i,this.viewCache_=e,this.optCompleteServerCache_=n}getCompleteChild(i){let e=this.viewCache_.eventCache;if(e.isCompleteForChild(i))return e.getNode().getImmediateChild(i);{let n=this.optCompleteServerCache_!=null?new hl(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return dE(this.writes_,i,n)}}getChildAfterChild(i,e,n){let r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Yu(this.viewCache_),a=Dee(this.writes_,r,e,1,n,i);return a.length===0?null:a[0]}};function See(t){return{filter:t}}function Mee(t,i){be(i.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),be(i.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function Iee(t,i,e,n,r){let a=new zA,o,s;if(e.type===ul.OVERWRITE){let c=e;c.source.fromUser?o=UA(t,i,c.path,c.snap,n,r,a):(be(c.source.fromServer,"Unknown source."),s=c.source.tagged||i.serverCache.isFiltered()&&!Gt(c.path),o=zx(t,i,c.path,c.snap,n,r,s,a))}else if(e.type===ul.MERGE){let c=e;c.source.fromUser?o=Aee(t,i,c.path,c.children,n,r,a):(be(c.source.fromServer,"Unknown source."),s=c.source.tagged||i.serverCache.isFiltered(),o=HA(t,i,c.path,c.children,n,r,s,a))}else if(e.type===ul.ACK_USER_WRITE){let c=e;c.revert?o=Ree(t,i,c.path,n,r,a):o=Eee(t,i,c.path,c.affectedTree,n,r,a)}else if(e.type===ul.LISTEN_COMPLETE)o=Tee(t,i,e.path,n,a);else throw Ou("Unknown operation type: "+e.type);let l=a.getChanges();return kee(i,o,l),{viewCache:o,changes:l}}function kee(t,i,e){let n=i.eventCache;if(n.isFullyInitialized()){let r=n.getNode().isLeafNode()||n.getNode().isEmpty(),a=Fx(t);(e.length>0||!t.eventCache.isFullyInitialized()||r&&!n.getNode().equals(a)||!n.getNode().getPriority().equals(a.getPriority()))&&e.push(QB(Fx(i)))}}function s4(t,i,e,n,r,a){let o=i.eventCache;if(Bx(n,e)!=null)return i;{let s,l;if(Gt(e))if(be(i.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),i.serverCache.isFiltered()){let c=Yu(i),d=c instanceof It?c:It.EMPTY_NODE,u=cE(n,d);s=t.filter.updateFullNode(i.eventCache.getNode(),u,a)}else{let c=Vx(n,Yu(i));s=t.filter.updateFullNode(i.eventCache.getNode(),c,a)}else{let c=Vt(e);if(c===".priority"){be(vd(e)===1,"Can't have a priority with additional path components");let d=o.getNode();l=i.serverCache.getNode();let u=hB(n,e,d,l);u!=null?s=t.filter.updatePriority(d,u):s=o.getNode()}else{let d=Bi(e),u;if(o.isCompleteForChild(c)){l=i.serverCache.getNode();let h=hB(n,e,o.getNode(),l);h!=null?u=o.getNode().getImmediateChild(c).updateChild(d,h):u=o.getNode().getImmediateChild(c)}else u=dE(n,c,i.serverCache);u!=null?s=t.filter.updateChild(o.getNode(),c,u,d,r,a):s=o.getNode()}}return Vb(i,s,o.isFullyInitialized()||Gt(e),t.filter.filtersNodes())}}function zx(t,i,e,n,r,a,o,s){let l=i.serverCache,c,d=o?t.filter:t.filter.getIndexedFilter();if(Gt(e))c=d.updateFullNode(l.getNode(),n,null);else if(d.filtersNodes()&&!l.isFiltered()){let m=l.getNode().updateChild(e,n);c=d.updateFullNode(l.getNode(),m,null)}else{let m=Vt(e);if(!l.isCompleteForPath(e)&&vd(e)>1)return i;let p=Bi(e),y=l.getNode().getImmediateChild(m).updateChild(p,n);m===".priority"?c=d.updatePriority(l.getNode(),y):c=d.updateChild(l.getNode(),m,y,p,o4,null)}let u=e4(i,c,l.isFullyInitialized()||Gt(e),d.filtersNodes()),h=new Gb(r,u,a);return s4(t,u,e,r,h,s)}function UA(t,i,e,n,r,a,o){let s=i.eventCache,l,c,d=new Gb(r,i,a);if(Gt(e))c=t.filter.updateFullNode(i.eventCache.getNode(),n,o),l=Vb(i,c,!0,t.filter.filtersNodes());else{let u=Vt(e);if(u===".priority")c=t.filter.updatePriority(i.eventCache.getNode(),n),l=Vb(i,c,s.isFullyInitialized(),s.isFiltered());else{let h=Bi(e),m=s.getNode().getImmediateChild(u),p;if(Gt(h))p=n;else{let g=d.getCompleteChild(u);g!=null?HB(h)===".priority"&&g.getChild(WB(h)).isEmpty()?p=g:p=g.updateChild(h,n):p=It.EMPTY_NODE}if(m.equals(p))l=i;else{let g=t.filter.updateChild(s.getNode(),u,p,h,d,o);l=Vb(i,g,s.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function mB(t,i){return t.eventCache.isCompleteForChild(i)}function Aee(t,i,e,n,r,a,o){let s=i;return n.foreach((l,c)=>{let d=Gn(e,l);mB(i,Vt(d))&&(s=UA(t,s,d,c,r,a,o))}),n.foreach((l,c)=>{let d=Gn(e,l);mB(i,Vt(d))||(s=UA(t,s,d,c,r,a,o))}),s}function pB(t,i,e){return e.foreach((n,r)=>{i=i.updateChild(n,r)}),i}function HA(t,i,e,n,r,a,o,s){if(i.serverCache.getNode().isEmpty()&&!i.serverCache.isFullyInitialized())return i;let l=i,c;Gt(e)?c=n:c=new Ea(null).setTree(e,n);let d=i.serverCache.getNode();return c.children.inorderTraversal((u,h)=>{if(d.hasChild(u)){let m=i.serverCache.getNode().getImmediateChild(u),p=pB(t,m,h);l=zx(t,l,new Ci(u),p,r,a,o,s)}}),c.children.inorderTraversal((u,h)=>{let m=!i.serverCache.isCompleteForChild(u)&&h.value===null;if(!d.hasChild(u)&&!m){let p=i.serverCache.getNode().getImmediateChild(u),g=pB(t,p,h);l=zx(t,l,new Ci(u),g,r,a,o,s)}}),l}function Eee(t,i,e,n,r,a,o){if(Bx(r,e)!=null)return i;let s=i.serverCache.isFiltered(),l=i.serverCache;if(n.value!=null){if(Gt(e)&&l.isFullyInitialized()||l.isCompleteForPath(e))return zx(t,i,e,l.getNode().getChild(e),r,a,s,o);if(Gt(e)){let c=new Ea(null);return l.getNode().forEachChild(ap,(d,u)=>{c=c.set(new Ci(d),u)}),HA(t,i,e,c,r,a,s,o)}else return i}else{let c=new Ea(null);return n.foreach((d,u)=>{let h=Gn(e,d);l.isCompleteForPath(h)&&(c=c.set(d,l.getNode().getChild(h)))}),HA(t,i,e,c,r,a,s,o)}}function Tee(t,i,e,n,r){let a=i.serverCache,o=e4(i,a.getNode(),a.isFullyInitialized()||Gt(e),a.isFiltered());return s4(t,o,e,n,o4,r)}function Ree(t,i,e,n,r,a){let o;if(Bx(n,e)!=null)return i;{let s=new Gb(n,i,r),l=i.eventCache.getNode(),c;if(Gt(e)||Vt(e)===".priority"){let d;if(i.serverCache.isFullyInitialized())d=Vx(n,Yu(i));else{let u=i.serverCache.getNode();be(u instanceof It,"serverChildren would be complete if leaf node"),d=cE(n,u)}d=d,c=t.filter.updateFullNode(l,d,a)}else{let d=Vt(e),u=dE(n,d,i.serverCache);u==null&&i.serverCache.isCompleteForChild(d)&&(u=l.getImmediateChild(d)),u!=null?c=t.filter.updateChild(l,d,u,Bi(e),s,a):i.eventCache.getNode().hasChild(d)?c=t.filter.updateChild(l,d,It.EMPTY_NODE,Bi(e),s,a):c=l,c.isEmpty()&&i.serverCache.isFullyInitialized()&&(o=Vx(n,Yu(i)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,a)))}return o=i.serverCache.isFullyInitialized()||Bx(n,ai())!=null,Vb(i,c,o,t.filter.filtersNodes())}}var GA=class{constructor(i,e){this.query_=i,this.eventRegistrations_=[];let n=this.query_._queryParams,r=new Hb(n.getIndex()),a=ree(n);this.processor_=See(a);let o=e.serverCache,s=e.eventCache,l=r.updateFullNode(It.EMPTY_NODE,o.getNode(),null),c=a.updateFullNode(It.EMPTY_NODE,s.getNode(),null),d=new hl(l,o.isFullyInitialized(),r.filtersNodes()),u=new hl(c,s.isFullyInitialized(),a.filtersNodes());this.viewCache_=qx(u,d),this.eventGenerator_=new FA(this.query_)}get query(){return this.query_}};function Oee(t){return t.viewCache_.serverCache.getNode()}function Lee(t){return Fx(t.viewCache_)}function Nee(t,i){let e=Yu(t.viewCache_);return e&&(t.query._queryParams.loadsAllData()||!Gt(i)&&!e.getImmediateChild(Vt(i)).isEmpty())?e.getChild(i):null}function fB(t){return t.eventRegistrations_.length===0}function Pee(t,i){t.eventRegistrations_.push(i)}function gB(t,i,e){let n=[];if(e){be(i==null,"A cancel should cancel all event registrations.");let r=t.query._path;t.eventRegistrations_.forEach(a=>{let o=a.createCancelEvent(e,r);o&&n.push(o)})}if(i){let r=[];for(let a=0;a<t.eventRegistrations_.length;++a){let o=t.eventRegistrations_[a];if(!o.matches(i))r.push(o);else if(i.hasAnyCallback()){r=r.concat(t.eventRegistrations_.slice(a+1));break}}t.eventRegistrations_=r}else t.eventRegistrations_=[];return n}function bB(t,i,e,n){i.type===ul.MERGE&&i.source.queryId!==null&&(be(Yu(t.viewCache_),"We should always have a full cache before handling merges"),be(Fx(t.viewCache_),"Missing event cache, even though we have a server cache"));let r=t.viewCache_,a=Iee(t.processor_,r,i,e,n);return Mee(t.processor_,a.viewCache),be(a.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=a.viewCache,l4(t,a.changes,a.viewCache.eventCache.getNode(),null)}function Fee(t,i){let e=t.viewCache_.eventCache,n=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(hn,(a,o)=>{n.push(dp(a,o))}),e.isFullyInitialized()&&n.push(QB(e.getNode())),l4(t,n,e.getNode(),i)}function l4(t,i,e,n){let r=n?[n]:t.eventRegistrations_;return lee(t.eventGenerator_,i,e,r)}var jx,Ux=class{constructor(){this.views=new Map}};function Vee(t){be(!jx,"__referenceConstructor has already been defined"),jx=t}function Bee(){return be(jx,"Reference.ts has not been loaded"),jx}function zee(t){return t.views.size===0}function uE(t,i,e,n){let r=i.source.queryId;if(r!==null){let a=t.views.get(r);return be(a!=null,"SyncTree gave us an op for an invalid query."),bB(a,i,e,n)}else{let a=[];for(let o of t.views.values())a=a.concat(bB(o,i,e,n));return a}}function c4(t,i,e,n,r){let a=i._queryIdentifier,o=t.views.get(a);if(!o){let s=Vx(e,r?n:null),l=!1;s?l=!0:n instanceof It?(s=cE(e,n),l=!1):(s=It.EMPTY_NODE,l=!1);let c=qx(new hl(s,l,!1),new hl(n,r,!1));return new GA(i,c)}return o}function jee(t,i,e,n,r,a){let o=c4(t,i,n,r,a);return t.views.has(i._queryIdentifier)||t.views.set(i._queryIdentifier,o),Pee(o,e),Fee(o,e)}function Uee(t,i,e,n){let r=i._queryIdentifier,a=[],o=[],s=_d(t);if(r==="default")for(let[l,c]of t.views.entries())o=o.concat(gB(c,e,n)),fB(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||a.push(c.query));else{let l=t.views.get(r);l&&(o=o.concat(gB(l,e,n)),fB(l)&&(t.views.delete(r),l.query._queryParams.loadsAllData()||a.push(l.query)))}return s&&!_d(t)&&a.push(new(Bee())(i._repo,i._path)),{removed:a,events:o}}function d4(t){let i=[];for(let e of t.views.values())e.query._queryParams.loadsAllData()||i.push(e);return i}function yd(t,i){let e=null;for(let n of t.views.values())e=e||Nee(n,i);return e}function u4(t,i){if(i._queryParams.loadsAllData())return Qx(t);{let n=i._queryIdentifier;return t.views.get(n)}}function h4(t,i){return u4(t,i)!=null}function _d(t){return Qx(t)!=null}function Qx(t){for(let i of t.views.values())if(i.query._queryParams.loadsAllData())return i;return null}var Hx;function Hee(t){be(!Hx,"__referenceConstructor has already been defined"),Hx=t}function Gee(){return be(Hx,"Reference.ts has not been loaded"),Hx}var Wee=1,Gx=class{constructor(i){this.listenProvider_=i,this.syncPointTree_=new Ea(null),this.pendingWriteTree_=wee(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function m4(t,i,e,n,r){return hee(t.pendingWriteTree_,i,e,n,r),r?ey(t,new up(JB(),i,e)):[]}function Gu(t,i,e=!1){let n=mee(t.pendingWriteTree_,i);if(pee(t.pendingWriteTree_,i)){let a=new Ea(null);return n.snap!=null?a=a.set(ai(),!0):Aa(n.children,o=>{a=a.set(new Ci(o),!0)}),ey(t,new PA(n.path,a,e))}else return[]}function Jb(t,i,e){return ey(t,new up(sE(),i,e))}function $ee(t,i,e){let n=Ea.fromObject(e);return ey(t,new Px(sE(),i,n))}function Yee(t,i){return ey(t,new Nx(sE(),i))}function Kee(t,i,e){let n=mE(t,e);if(n){let r=pE(n),a=r.path,o=r.queryId,s=ca(a,i),l=new Nx(lE(o),s);return fE(t,a,l)}else return[]}function Wx(t,i,e,n,r=!1){let a=i._path,o=t.syncPointTree_.get(a),s=[];if(o&&(i._queryIdentifier==="default"||h4(o,i))){let l=Uee(o,i,e,n);zee(o)&&(t.syncPointTree_=t.syncPointTree_.remove(a));let c=l.removed;if(s=l.events,!r){let d=c.findIndex(h=>h._queryParams.loadsAllData())!==-1,u=t.syncPointTree_.findOnPath(a,(h,m)=>_d(m));if(d&&!u){let h=t.syncPointTree_.subtree(a);if(!h.isEmpty()){let m=Qee(h);for(let p=0;p<m.length;++p){let g=m[p],y=g.query,v=b4(t,g);t.listenProvider_.startListening(zb(y),Wb(t,y),v.hashFn,v.onComplete)}}}!u&&c.length>0&&!n&&(d?t.listenProvider_.stopListening(zb(i),null):c.forEach(h=>{let m=t.queryToTagMap.get(Xx(h));t.listenProvider_.stopListening(zb(h),m)}))}Xee(t,c)}return s}function p4(t,i,e,n){let r=mE(t,n);if(r!=null){let a=pE(r),o=a.path,s=a.queryId,l=ca(o,i),c=new up(lE(s),l,e);return fE(t,o,c)}else return[]}function qee(t,i,e,n){let r=mE(t,n);if(r){let a=pE(r),o=a.path,s=a.queryId,l=ca(o,i),c=Ea.fromObject(e),d=new Px(lE(s),l,c);return fE(t,o,d)}else return[]}function WA(t,i,e,n=!1){let r=i._path,a=null,o=!1;t.syncPointTree_.foreachOnPath(r,(h,m)=>{let p=ca(h,r);a=a||yd(m,p),o=o||_d(m)});let s=t.syncPointTree_.get(r);s?(o=o||_d(s),a=a||yd(s,ai())):(s=new Ux,t.syncPointTree_=t.syncPointTree_.set(r,s));let l;a!=null?l=!0:(l=!1,a=It.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild((m,p)=>{let g=yd(p,ai());g&&(a=a.updateImmediateChild(m,g))}));let c=h4(s,i);if(!c&&!i._queryParams.loadsAllData()){let h=Xx(i);be(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");let m=Jee();t.queryToTagMap.set(h,m),t.tagToQueryMap.set(m,h)}let d=Zx(t.pendingWriteTree_,r),u=jee(s,i,e,d,a,l);if(!c&&!o&&!n){let h=u4(s,i);u=u.concat(ete(t,i,h))}return u}function hE(t,i,e){let r=t.pendingWriteTree_,a=t.syncPointTree_.findOnPath(i,(o,s)=>{let l=ca(o,i),c=yd(s,l);if(c)return c});return n4(r,i,a,e,!0)}function Zee(t,i){let e=i._path,n=null;t.syncPointTree_.foreachOnPath(e,(c,d)=>{let u=ca(c,e);n=n||yd(d,u)});let r=t.syncPointTree_.get(e);r?n=n||yd(r,ai()):(r=new Ux,t.syncPointTree_=t.syncPointTree_.set(e,r));let a=n!=null,o=a?new hl(n,!0,!1):null,s=Zx(t.pendingWriteTree_,i._path),l=c4(r,i,s,a?o.getNode():It.EMPTY_NODE,a);return Lee(l)}function ey(t,i){return f4(i,t.syncPointTree_,null,Zx(t.pendingWriteTree_,ai()))}function f4(t,i,e,n){if(Gt(t.path))return g4(t,i,e,n);{let r=i.get(ai());e==null&&r!=null&&(e=yd(r,ai()));let a=[],o=Vt(t.path),s=t.operationForChild(o),l=i.children.get(o);if(l&&s){let c=e?e.getImmediateChild(o):null,d=r4(n,o);a=a.concat(f4(s,l,c,d))}return r&&(a=a.concat(uE(r,t,n,e))),a}}function g4(t,i,e,n){let r=i.get(ai());e==null&&r!=null&&(e=yd(r,ai()));let a=[];return i.children.inorderTraversal((o,s)=>{let l=e?e.getImmediateChild(o):null,c=r4(n,o),d=t.operationForChild(o);d&&(a=a.concat(g4(d,s,l,c)))}),r&&(a=a.concat(uE(r,t,n,e))),a}function b4(t,i){let e=i.query,n=Wb(t,e);return{hashFn:()=>(Oee(i)||It.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return n?Kee(t,e._path,n):Yee(t,e._path);{let a=fJ(r,e);return Wx(t,e,null,a)}}}}function Wb(t,i){let e=Xx(i);return t.queryToTagMap.get(e)}function Xx(t){return t._path.toString()+"$"+t._queryIdentifier}function mE(t,i){return t.tagToQueryMap.get(i)}function pE(t){let i=t.indexOf("$");return be(i!==-1&&i<t.length-1,"Bad queryKey."),{queryId:t.substr(i+1),path:new Ci(t.substr(0,i))}}function fE(t,i,e){let n=t.syncPointTree_.get(i);be(n,"Missing sync point for query tag that we're tracking");let r=Zx(t.pendingWriteTree_,i);return uE(n,e,r,null)}function Qee(t){return t.fold((i,e,n)=>{if(e&&_d(e))return[Qx(e)];{let r=[];return e&&(r=d4(e)),Aa(n,(a,o)=>{r=r.concat(o)}),r}})}function zb(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(Gee())(t._repo,t._path):t}function Xee(t,i){for(let e=0;e<i.length;++e){let n=i[e];if(!n._queryParams.loadsAllData()){let r=Xx(n),a=t.queryToTagMap.get(r);t.queryToTagMap.delete(r),t.tagToQueryMap.delete(a)}}}function Jee(){return Wee++}function ete(t,i,e){let n=i._path,r=Wb(t,i),a=b4(t,e),o=t.listenProvider_.startListening(zb(i),r,a.hashFn,a.onComplete),s=t.syncPointTree_.subtree(n);if(r)be(!_d(s.value),"If we're adding a query, it shouldn't be shadowed");else{let l=s.fold((c,d,u)=>{if(!Gt(c)&&d&&_d(d))return[Qx(d).query];{let h=[];return d&&(h=h.concat(d4(d).map(m=>m.query))),Aa(u,(m,p)=>{h=h.concat(p)}),h}});for(let c=0;c<l.length;++c){let d=l[c];t.listenProvider_.stopListening(zb(d),Wb(t,d))}}return o}var $A=class t{constructor(i){this.node_=i}getImmediateChild(i){let e=this.node_.getImmediateChild(i);return new t(e)}node(){return this.node_}},YA=class t{constructor(i,e){this.syncTree_=i,this.path_=e}getImmediateChild(i){let e=Gn(this.path_,i);return new t(this.syncTree_,e)}node(){return hE(this.syncTree_,this.path_)}},tte=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},yB=function(t,i,e){if(!t||typeof t!="object")return t;if(be(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return ite(t[".sv"],i,e);if(typeof t[".sv"]=="object")return nte(t[".sv"],i);be(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},ite=function(t,i,e){switch(t){case"timestamp":return e.timestamp;default:be(!1,"Unexpected server value: "+t)}},nte=function(t,i,e){t.hasOwnProperty("increment")||be(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let n=t.increment;typeof n!="number"&&be(!1,"Unexpected increment value: "+n);let r=i.node();if(be(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return n;let o=r.getValue();return typeof o!="number"?n:o+n},rte=function(t,i,e,n){return gE(i,new YA(e,t),n)},y4=function(t,i,e){return gE(t,new $A(i),e)};function gE(t,i,e){let n=t.getPriority().val(),r=yB(n,i.getImmediateChild(".priority"),e),a;if(t.isLeafNode()){let o=t,s=yB(o.getValue(),i,e);return s!==o.getValue()||r!==o.getPriority().val()?new lp(s,or(r)):t}else{let o=t;return a=o,r!==o.getPriority().val()&&(a=a.updatePriority(new lp(r))),o.forEachChild(hn,(s,l)=>{let c=gE(l,i.getImmediateChild(s),e);c!==l&&(a=a.updateImmediateChild(s,c))}),a}}var $b=class{constructor(i="",e=null,n={children:{},childCount:0}){this.name=i,this.parent=e,this.node=n}};function bE(t,i){let e=i instanceof Ci?i:new Ci(i),n=t,r=Vt(e);for(;r!==null;){let a=Lu(n.node.children,r)||{children:{},childCount:0};n=new $b(r,n,a),e=Bi(e),r=Vt(e)}return n}function fp(t){return t.node.value}function v4(t,i){t.node.value=i,KA(t)}function _4(t){return t.node.childCount>0}function ate(t){return fp(t)===void 0&&!_4(t)}function Jx(t,i){Aa(t.node.children,(e,n)=>{i(new $b(e,t,n))})}function x4(t,i,e,n){e&&!n&&i(t),Jx(t,r=>{x4(r,i,!0,n)}),e&&n&&i(t)}function ote(t,i,e){let n=e?t:t.parent;for(;n!==null;){if(i(n))return!0;n=n.parent}return!1}function ty(t){return new Ci(t.parent===null?t.name:ty(t.parent)+"/"+t.name)}function KA(t){t.parent!==null&&ste(t.parent,t.name,t)}function ste(t,i,e){let n=ate(e),r=ol(t.node.children,i);n&&r?(delete t.node.children[i],t.node.childCount--,KA(t)):!n&&!r&&(t.node.children[i]=e.node,t.node.childCount++,KA(t))}var lte=/[\[\].#$\/\u0000-\u001F\u007F]/,cte=/[\[\].#$\u0000-\u001F\u007F]/,oA=10*1024*1024,C4=function(t){return typeof t=="string"&&t.length!==0&&!lte.test(t)},w4=function(t){return typeof t=="string"&&t.length!==0&&!cte.test(t)},dte=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),w4(t)};var D4=function(t,i,e,n){n&&i===void 0||yE(Q0(t,"value"),i,e)},yE=function(t,i,e){let n=e instanceof Ci?new _A(e,t):e;if(i===void 0)throw new Error(t+"contains undefined "+Uu(n));if(typeof i=="function")throw new Error(t+"contains a function "+Uu(n)+" with contents = "+i.toString());if(SB(i))throw new Error(t+"contains "+i.toString()+" "+Uu(n));if(typeof i=="string"&&i.length>oA/3&&fb(i)>oA)throw new Error(t+"contains a string greater than "+oA+" utf8 bytes "+Uu(n)+" ('"+i.substring(0,50)+"...')");if(i&&typeof i=="object"){let r=!1,a=!1;if(Aa(i,(o,s)=>{if(o===".value")r=!0;else if(o!==".priority"&&o!==".sv"&&(a=!0,!C4(o)))throw new Error(t+" contains an invalid key ("+o+") "+Uu(n)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);GJ(n,o),yE(t,s,n),WJ(n)}),r&&a)throw new Error(t+' contains ".value" child '+Uu(n)+" in addition to actual children.")}};var S4=function(t,i,e,n){if(!(n&&e===void 0)&&!w4(e))throw new Error(Q0(t,i)+'was an invalid path = "'+e+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},ute=function(t,i,e,n){e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),S4(t,i,e,n)},vE=function(t,i){if(Vt(i)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},hte=function(t,i){let e=i.path.toString();if(typeof i.repoInfo.host!="string"||i.repoInfo.host.length===0||!C4(i.repoInfo.namespace)&&i.repoInfo.host.split(":")[0]!=="localhost"||e.length!==0&&!dte(e))throw new Error(Q0(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var qA=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function _E(t,i){let e=null;for(let n=0;n<i.length;n++){let r=i[n],a=r.getPath();e!==null&&!rE(a,e.path)&&(t.eventLists_.push(e),e=null),e===null&&(e={events:[],path:a}),e.events.push(r)}e&&t.eventLists_.push(e)}function M4(t,i,e){_E(t,e),I4(t,n=>rE(n,i))}function ml(t,i,e){_E(t,e),I4(t,n=>us(n,i)||us(i,n))}function I4(t,i){t.recursionDepth_++;let e=!0;for(let n=0;n<t.eventLists_.length;n++){let r=t.eventLists_[n];if(r){let a=r.path;i(a)?(mte(t.eventLists_[n]),t.eventLists_[n]=null):e=!1}}e&&(t.eventLists_=[]),t.recursionDepth_--}function mte(t){for(let i=0;i<t.events.length;i++){let e=t.events[i];if(e!==null){t.events[i]=null;let n=e.getEventRunner();Wu&&Vr("event: "+e.toString()),pp(n)}}}var pte="repo_interrupt",fte=25,ZA=class{constructor(i,e,n,r){this.repoInfo_=i,this.forceRestClient_=e,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new qA,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Lx(),this.transactionQueueTree_=new $b,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function gte(t,i,e){if(t.stats_=nE(t.repoInfo_),t.forceRestClient_||vJ())t.server_=new TA(t.repoInfo_,(n,r,a,o)=>{vB(t,n,r,a,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>_B(t,!0),0);else{if(typeof e<"u"&&e!==null){if(typeof e!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{In(e)}catch(n){throw new Error("Invalid authOverride provided: "+n)}}t.persistentConnection_=new aE(t.repoInfo_,i,(n,r,a,o)=>{vB(t,n,r,a,o)},n=>{_B(t,n)},n=>{bte(t,n)},t.authTokenProvider_,t.appCheckProvider_,e),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(n=>{t.server_.refreshAuthToken(n)}),t.appCheckProvider_.addTokenChangeListener(n=>{t.server_.refreshAppCheckToken(n.token)}),t.statsReporter_=xJ(t.repoInfo_,()=>new NA(t.stats_,t.server_)),t.infoData_=new RA,t.infoSyncTree_=new Gx({startListening:(n,r,a,o)=>{let s=[],l=t.infoData_.getNode(n._path);return l.isEmpty()||(s=Jb(t.infoSyncTree_,n._path,l),setTimeout(()=>{o("ok")},0)),s},stopListening:()=>{}}),CE(t,"connected",!1),t.serverSyncTree_=new Gx({startListening:(n,r,a,o)=>(t.server_.listen(n,a,r,(s,l)=>{let c=o(s,l);ml(t.eventQueue_,n._path,c)}),[]),stopListening:(n,r)=>{t.server_.unlisten(n,r)}})}function k4(t){let e=t.infoData_.getNode(new Ci(".info/serverTimeOffset")).val()||0;return new Date().getTime()+e}function xE(t){return tte({timestamp:k4(t)})}function vB(t,i,e,n,r){t.dataUpdateCount++;let a=new Ci(i);e=t.interceptServerDataCallback_?t.interceptServerDataCallback_(i,e):e;let o=[];if(r)if(n){let l=pb(e,c=>or(c));o=qee(t.serverSyncTree_,a,l,r)}else{let l=or(e);o=p4(t.serverSyncTree_,a,l,r)}else if(n){let l=pb(e,c=>or(c));o=$ee(t.serverSyncTree_,a,l)}else{let l=or(e);o=Jb(t.serverSyncTree_,a,l)}let s=a;o.length>0&&(s=tC(t,a)),ml(t.eventQueue_,s,o)}function _B(t,i){CE(t,"connected",i),i===!1&&_te(t)}function bte(t,i){Aa(i,(e,n)=>{CE(t,e,n)})}function CE(t,i,e){let n=new Ci("/.info/"+i),r=or(e);t.infoData_.updateSnapshot(n,r);let a=Jb(t.infoSyncTree_,n,r);ml(t.eventQueue_,n,a)}function A4(t){return t.nextWriteId_++}function yte(t,i,e){let n=Zee(t.serverSyncTree_,i);return n!=null?Promise.resolve(n):t.server_.get(i).then(r=>{let a=or(r).withIndex(i._queryParams.getIndex());WA(t.serverSyncTree_,i,e,!0);let o;if(i._queryParams.loadsAllData())o=Jb(t.serverSyncTree_,i._path,a);else{let s=Wb(t.serverSyncTree_,i);o=p4(t.serverSyncTree_,i._path,a,s)}return ml(t.eventQueue_,i._path,o),Wx(t.serverSyncTree_,i,e,null,!0),a},r=>(eC(t,"get for query "+In(i)+" failed: "+r),Promise.reject(new Error(r))))}function vte(t,i,e,n,r){eC(t,"set",{path:i.toString(),value:e,priority:n});let a=xE(t),o=or(e,n),s=hE(t.serverSyncTree_,i),l=y4(o,s,a),c=A4(t),d=m4(t.serverSyncTree_,i,l,c,!0);_E(t.eventQueue_,d),t.server_.put(i.toString(),o.val(!0),(h,m)=>{let p=h==="ok";p||ka("set at "+i+" failed: "+h);let g=Gu(t.serverSyncTree_,c,!p);ml(t.eventQueue_,i,g),wte(t,r,h,m)});let u=L4(t,i);tC(t,u),ml(t.eventQueue_,u,[])}function _te(t){eC(t,"onDisconnectEvents");let i=xE(t),e=Lx();OA(t.onDisconnect_,ai(),(r,a)=>{let o=rte(r,a,t.serverSyncTree_,i);XB(e,r,o)});let n=[];OA(e,ai(),(r,a)=>{n=n.concat(Jb(t.serverSyncTree_,r,a));let o=L4(t,r);tC(t,o)}),t.onDisconnect_=Lx(),ml(t.eventQueue_,ai(),n)}function xte(t,i,e){let n;Vt(i._path)===".info"?n=WA(t.infoSyncTree_,i,e):n=WA(t.serverSyncTree_,i,e),M4(t.eventQueue_,i._path,n)}function QA(t,i,e){let n;Vt(i._path)===".info"?n=Wx(t.infoSyncTree_,i,e):n=Wx(t.serverSyncTree_,i,e),M4(t.eventQueue_,i._path,n)}function Cte(t){t.persistentConnection_&&t.persistentConnection_.interrupt(pte)}function eC(t,...i){let e="";t.persistentConnection_&&(e=t.persistentConnection_.id+":"),Vr(e,...i)}function wte(t,i,e,n){i&&pp(()=>{if(e==="ok")i(null);else{let r=(e||"error").toUpperCase(),a=r;n&&(a+=": "+n);let o=new Error(a);o.code=r,i(o)}})}function E4(t,i,e){return hE(t.serverSyncTree_,i,e)||It.EMPTY_NODE}function wE(t,i=t.transactionQueueTree_){if(i||iC(t,i),fp(i)){let e=R4(t,i);be(e.length>0,"Sending zero length transaction queue"),e.every(r=>r.status===0)&&Dte(t,ty(i),e)}else _4(i)&&Jx(i,e=>{wE(t,e)})}function Dte(t,i,e){let n=e.map(c=>c.currentWriteId),r=E4(t,i,n),a=r,o=r.hash();for(let c=0;c<e.length;c++){let d=e[c];be(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;let u=ca(i,d.path);a=a.updateChild(u,d.currentOutputSnapshotRaw)}let s=a.val(!0),l=i;t.server_.put(l.toString(),s,c=>{eC(t,"transaction put response",{path:l.toString(),status:c});let d=[];if(c==="ok"){let u=[];for(let h=0;h<e.length;h++)e[h].status=2,d=d.concat(Gu(t.serverSyncTree_,e[h].currentWriteId)),e[h].onComplete&&u.push(()=>e[h].onComplete(null,!0,e[h].currentOutputSnapshotResolved)),e[h].unwatcher();iC(t,bE(t.transactionQueueTree_,i)),wE(t,t.transactionQueueTree_),ml(t.eventQueue_,i,d);for(let h=0;h<u.length;h++)pp(u[h])}else{if(c==="datastale")for(let u=0;u<e.length;u++)e[u].status===3?e[u].status=4:e[u].status=0;else{ka("transaction at "+l.toString()+" failed: "+c);for(let u=0;u<e.length;u++)e[u].status=4,e[u].abortReason=c}tC(t,i)}},o)}function tC(t,i){let e=T4(t,i),n=ty(e),r=R4(t,e);return Ste(t,r,n),n}function Ste(t,i,e){if(i.length===0)return;let n=[],r=[],o=i.filter(s=>s.status===0).map(s=>s.currentWriteId);for(let s=0;s<i.length;s++){let l=i[s],c=ca(e,l.path),d=!1,u;if(be(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)d=!0,u=l.abortReason,r=r.concat(Gu(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=fte)d=!0,u="maxretry",r=r.concat(Gu(t.serverSyncTree_,l.currentWriteId,!0));else{let h=E4(t,l.path,o);l.currentInputSnapshot=h;let m=i[s].update(h.val());if(m!==void 0){yE("transaction failed: Data returned ",m,l.path);let p=or(m);typeof m=="object"&&m!=null&&ol(m,".priority")||(p=p.updatePriority(h.getPriority()));let y=l.currentWriteId,v=xE(t),x=y4(p,h,v);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=x,l.currentWriteId=A4(t),o.splice(o.indexOf(y),1),r=r.concat(m4(t.serverSyncTree_,l.path,x,l.currentWriteId,l.applyLocally)),r=r.concat(Gu(t.serverSyncTree_,y,!0))}else d=!0,u="nodata",r=r.concat(Gu(t.serverSyncTree_,l.currentWriteId,!0))}ml(t.eventQueue_,e,r),r=[],d&&(i[s].status=2,function(h){setTimeout(h,Math.floor(0))}(i[s].unwatcher),i[s].onComplete&&(u==="nodata"?n.push(()=>i[s].onComplete(null,!1,i[s].currentInputSnapshot)):n.push(()=>i[s].onComplete(new Error(u),!1,null))))}iC(t,t.transactionQueueTree_);for(let s=0;s<n.length;s++)pp(n[s]);wE(t,t.transactionQueueTree_)}function T4(t,i){let e,n=t.transactionQueueTree_;for(e=Vt(i);e!==null&&fp(n)===void 0;)n=bE(n,e),i=Bi(i),e=Vt(i);return n}function R4(t,i){let e=[];return O4(t,i,e),e.sort((n,r)=>n.order-r.order),e}function O4(t,i,e){let n=fp(i);if(n)for(let r=0;r<n.length;r++)e.push(n[r]);Jx(i,r=>{O4(t,r,e)})}function iC(t,i){let e=fp(i);if(e){let n=0;for(let r=0;r<e.length;r++)e[r].status!==2&&(e[n]=e[r],n++);e.length=n,v4(i,e.length>0?e:void 0)}Jx(i,n=>{iC(t,n)})}function L4(t,i){let e=ty(T4(t,i)),n=bE(t.transactionQueueTree_,i);return ote(n,r=>{sA(t,r)}),sA(t,n),x4(n,r=>{sA(t,r)}),e}function sA(t,i){let e=fp(i);if(e){let n=[],r=[],a=-1;for(let o=0;o<e.length;o++)e[o].status===3||(e[o].status===1?(be(a===o-1,"All SENT items should be at beginning of queue."),a=o,e[o].status=3,e[o].abortReason="set"):(be(e[o].status===0,"Unexpected transaction status in abort"),e[o].unwatcher(),r=r.concat(Gu(t.serverSyncTree_,e[o].currentWriteId,!0)),e[o].onComplete&&n.push(e[o].onComplete.bind(null,new Error("set"),!1,null))));a===-1?v4(i,void 0):e.length=a+1,ml(t.eventQueue_,ty(i),r);for(let o=0;o<n.length;o++)pp(n[o])}}function Mte(t){let i="",e=t.split("/");for(let n=0;n<e.length;n++)if(e[n].length>0){let r=e[n];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}i+="/"+r}return i}function Ite(t){let i={};t.charAt(0)==="?"&&(t=t.substring(1));for(let e of t.split("&")){if(e.length===0)continue;let n=e.split("=");n.length===2?i[decodeURIComponent(n[0])]=decodeURIComponent(n[1]):ka(`Invalid query segment '${e}' in query '${t}'`)}return i}var xB=function(t,i){let e=kte(t),n=e.namespace;e.domain==="firebase.com"&&ac(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!n||n==="undefined")&&e.domain!=="localhost"&&ac("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||dJ();let r=e.scheme==="ws"||e.scheme==="wss";return{repoInfo:new Mx(e.host,e.secure,n,r,i,"",n!==e.subdomain),path:new Ci(e.pathString)}},kte=function(t){let i="",e="",n="",r="",a="",o=!0,s="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(s=t.substring(0,c-1),t=t.substring(c+2));let d=t.indexOf("/");d===-1&&(d=t.length);let u=t.indexOf("?");u===-1&&(u=t.length),i=t.substring(0,Math.min(d,u)),d<u&&(r=Mte(t.substring(d,u)));let h=Ite(t.substring(Math.min(t.length,u)));c=i.indexOf(":"),c>=0?(o=s==="https"||s==="wss",l=parseInt(i.substring(c+1),10)):c=i.length;let m=i.slice(0,c);if(m.toLowerCase()==="localhost")e="localhost";else if(m.split(".").length<=2)e=m;else{let p=i.indexOf(".");n=i.substring(0,p).toLowerCase(),e=i.substring(p+1),a=n}"ns"in h&&(a=h.ns)}return{host:i,port:l,domain:e,subdomain:n,secure:o,scheme:s,pathString:r,namespace:a}};var CB="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Ate=function(){let t=0,i=[];return function(e){let n=e===t;t=e;let r,a=new Array(8);for(r=7;r>=0;r--)a[r]=CB.charAt(e%64),e=Math.floor(e/64);be(e===0,"Cannot push at time == 0");let o=a.join("");if(n){for(r=11;r>=0&&i[r]===63;r--)i[r]=0;i[r]++}else for(r=0;r<12;r++)i[r]=Math.floor(Math.random()*64);for(r=0;r<12;r++)o+=CB.charAt(i[r]);return be(o.length===20,"nextPushId: Length should be 20."),o}}();var $x=class{constructor(i,e,n,r){this.eventType=i,this.eventRegistration=e,this.snapshot=n,this.prevName=r}getPath(){let i=this.snapshot.ref;return this.eventType==="value"?i._path:i.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+In(this.snapshot.exportVal())}},Yx=class{constructor(i,e,n){this.eventRegistration=i,this.error=e,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var Yb=class{constructor(i,e){this.snapshotCallback=i,this.cancelCallback=e}onValue(i,e){this.snapshotCallback.call(null,i,e)}onCancel(i){return be(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,i)}get hasCancelCallback(){return!!this.cancelCallback}matches(i){return this.snapshotCallback===i.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===i.snapshotCallback.userCallback&&this.snapshotCallback.context===i.snapshotCallback.context}};var XA=class t{constructor(i,e,n,r){this._repo=i,this._path=e,this._queryParams=n,this._orderByCalled=r}get key(){return Gt(this._path)?null:HB(this._path)}get ref(){return new pl(this._repo,this._path)}get _queryIdentifier(){let i=sB(this._queryParams),e=iE(i);return e==="{}"?"default":e}get _queryObject(){return sB(this._queryParams)}isEqual(i){if(i=kn(i),!(i instanceof t))return!1;let e=this._repo===i._repo,n=rE(this._path,i._path),r=this._queryIdentifier===i._queryIdentifier;return e&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+HJ(this._path)}};var pl=class t extends XA{constructor(i,e){super(i,e,new EA,!1)}get parent(){let i=WB(this._path);return i===null?null:new t(this._repo,i)}get root(){let i=this;for(;i.parent!==null;)i=i.parent;return i}},Kb=class t{constructor(i,e,n){this._node=i,this.ref=e,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(i){let e=new Ci(i),n=Ku(this.ref,i);return new t(this._node.getChild(e),n,hn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(i){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(n,r)=>i(new t(r,Ku(this.ref,n),hn)))}hasChild(i){let e=new Ci(i);return!this._node.getChild(e).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function N4(t,i){return t=kn(t),t._checkNotDeleted("ref"),i!==void 0?Ku(t._root,i):t._root}function Ku(t,i){return t=kn(t),Vt(t._path)===null?ute("child","path",i,!1):S4("child","path",i,!1),new pl(t._repo,Gn(t._path,i))}function P4(t,i){t=kn(t),vE("push",t._path),D4("push",i,t._path,!0);let e=k4(t._repo),n=Ate(e),r=Ku(t,n),a=Ku(t,n),o;return i!=null?o=nC(a,i).then(()=>a):o=Promise.resolve(a),r.then=o.then.bind(o),r.catch=o.then.bind(o,void 0),r}function F4(t){return vE("remove",t._path),nC(t,null)}function nC(t,i){t=kn(t),vE("set",t._path),D4("set",i,t._path,!1);let e=new rs;return vte(t._repo,t._path,i,null,e.wrapCallback(()=>{})),e.promise}function DE(t){t=kn(t);let i=new Yb(()=>{}),e=new qb(i);return yte(t._repo,t,e).then(n=>new Kb(n,new pl(t._repo,t._path),t._queryParams.getIndex()))}var qb=class t{constructor(i){this.callbackContext=i}respondsTo(i){return i==="value"}createEvent(i,e){let n=e._queryParams.getIndex();return new $x("value",this,new Kb(i.snapshotNode,new pl(e._repo,e._path),n))}getEventRunner(i){return i.getEventType()==="cancel"?()=>this.callbackContext.onCancel(i.error):()=>this.callbackContext.onValue(i.snapshot,null)}createCancelEvent(i,e){return this.callbackContext.hasCancelCallback?new Yx(this,i,e):null}matches(i){return i instanceof t?!i.callbackContext||!this.callbackContext?!0:i.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},Kx=class t{constructor(i,e){this.eventType=i,this.callbackContext=e}respondsTo(i){let e=i==="children_added"?"child_added":i;return e=e==="children_removed"?"child_removed":e,this.eventType===e}createCancelEvent(i,e){return this.callbackContext.hasCancelCallback?new Yx(this,i,e):null}createEvent(i,e){be(i.childName!=null,"Child events should have a childName.");let n=Ku(new pl(e._repo,e._path),i.childName),r=e._queryParams.getIndex();return new $x(i.type,this,new Kb(i.snapshotNode,n,r),i.prevName)}getEventRunner(i){return i.getEventType()==="cancel"?()=>this.callbackContext.onCancel(i.error):()=>this.callbackContext.onValue(i.snapshot,i.prevName)}matches(i){return i instanceof t?this.eventType===i.eventType&&(!this.callbackContext||!i.callbackContext||this.callbackContext.matches(i.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function iy(t,i,e,n,r){let a;if(typeof n=="object"&&(a=void 0,r=n),typeof n=="function"&&(a=n),r&&r.onlyOnce){let l=e,c=(d,u)=>{QA(t._repo,t,s),l(d,u)};c.userCallback=e.userCallback,c.context=e.context,e=c}let o=new Yb(e,a||void 0),s=i==="value"?new qb(o):new Kx(i,o);return xte(t._repo,t,s),()=>QA(t._repo,t,s)}function SE(t,i,e,n){return iy(t,"value",i,e,n)}function ME(t,i,e,n){return iy(t,"child_added",i,e,n)}function IE(t,i,e,n){return iy(t,"child_changed",i,e,n)}function kE(t,i,e,n){return iy(t,"child_moved",i,e,n)}function AE(t,i,e,n){return iy(t,"child_removed",i,e,n)}function EE(t,i,e){let n=null,r=e?new Yb(e):null;i==="value"?n=new qb(r):i&&(n=new Kx(i,r)),QA(t._repo,t,n)}Vee(pl);Hee(pl);var Ete="FIREBASE_DATABASE_EMULATOR_HOST",JA={},Tte=!1;function Rte(t,i,e,n){let r=i.lastIndexOf(":"),a=i.substring(0,r),o=od(a);t.repoInfo_=new Mx(i,o,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,e),n&&(t.authTokenProvider_=n)}function Ote(t,i,e,n,r){let a=n||t.options.databaseURL;a===void 0&&(t.options.projectId||ac("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Vr("Using default host for project ",t.options.projectId),a=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=xB(a,r),s=o.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[Ete]),c?(l=!0,a=`http://${c}?ns=${s.namespace}`,o=xB(a,r),s=o.repoInfo):l=!o.repoInfo.secure;let d=r&&l?new Fb(Fb.OWNER):new mA(t.name,t.options,i);hte("Invalid Firebase Database URL",o),Gt(o.path)||ac("Database URL must point to the root of a Firebase Database (not including a child path).");let u=Nte(s,t,d,new hA(t,e));return new eE(u,t)}function Lte(t,i){let e=JA[i];(!e||e[t.key]!==t)&&ac(`Database ${i}(${t.repoInfo_}) has already been deleted.`),Cte(t),delete e[t.key]}function Nte(t,i,e,n){let r=JA[i.name];r||(r={},JA[i.name]=r);let a=r[t.toURLString()];return a&&ac("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new ZA(t,Tte,e,n),r[t.toURLString()]=a,a}var eE=class{constructor(i,e){this._repoInternal=i,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(gte(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new pl(this._repo,ai())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Lte(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(i){this._rootInternal===null&&ac("Cannot call "+i+" on a deleted database.")}};function V4(t=Pu(),i){let e=Km(t,"database").getImmediate({identifier:i});if(!e._instanceStarted){let n=rF("database");n&&B4(e,...n)}return e}function B4(t,i,e,n={}){t=kn(t),t._checkNotDeleted("useEmulator");let r=`${i}:${e}`,a=t._repoInternal;if(t._instanceStarted){if(r===t._repoInternal.repoInfo_.host&&sl(n,a.repoInfo_.emulatorOptions))return;ac("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(a.repoInfo_.nodeAdmin)n.mockUserToken&&ac('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Fb(Fb.OWNER);else if(n.mockUserToken){let s=typeof n.mockUserToken=="string"?n.mockUserToken:aF(n.mockUserToken,t.app.options.projectId);o=new Fb(s)}od(i)&&(Y0(i),K0("Database",!0)),Rte(a,r,n,o)}function Pte(t){sJ(cd),ss(new sa("database",(i,{instanceIdentifier:e})=>{let n=i.getProvider("app").getImmediate(),r=i.getProvider("auth-internal"),a=i.getProvider("app-check-internal");return Ote(n,r,a,e)},"PUBLIC").setMultipleInstances(!0)),un(GV,WV,t),un(GV,WV,"esm2017")}aE.prototype.simpleListen=function(t,i){this.sendRequest("q",{p:t},i)};aE.prototype.echo=function(t,i){this.sendRequest("echo",{d:t},i)};Pte();var Zu,sr=function(t){return t.added="child_added",t.removed="child_removed",t.changed="child_changed",t.moved="child_moved",t.value="value",t}(sr||{}),Fte=Object.freeze((Zu={},Zu[sr.added]=ME,Zu[sr.removed]=AE,Zu[sr.changed]=IE,Zu[sr.moved]=kE,Zu[sr.value]=SE,Zu));function RE(t,i){return new nr(function(e){var n=Fte[i](t,function(r,a){e.next({snapshot:r,prevKey:a,event:i})},e.error.bind(e));return{unsubscribe:function(){EE(t,i,n)}}}).pipe(UL(0))}var rC=function(){return rC=Object.assign||function(i){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(i[a]=e[a])}return i},rC.apply(this,arguments)};function TE(t,i,e){if(e||arguments.length===2)for(var n=0,r=i.length,a;n<r;n++)(a||!(n in i))&&(a||(a=Array.prototype.slice.call(i,0,n)),a[n]=i[n]);return t.concat(a||Array.prototype.slice.call(i))}function Vte(t){return(t==null||t.length===0)&&(t=[sr.added,sr.removed,sr.changed,sr.moved]),t}function z4(t,i){return i===void 0&&(i={}),RE(t,sr.value).pipe(Re(function(e){return OE(e,i)}))}function OE(t,i){var e;i===void 0&&(i={});var n=t.snapshot.val();return!t.snapshot.exists()||typeof n!="object"?n:rC(rC({},n),i.keyField?(e={},e[i.keyField]=t.snapshot.key,e):null)}function Bte(t){return Vn(DE(t)).pipe(Re(function(i){var e=sr.value;return{snapshot:i,prevKey:null,event:e}}))}function j4(t,i){i===void 0&&(i={});var e=Vte(i.events);return Bte(t).pipe(Ji(function(n){var r=[ke(n)];return e.forEach(function(a){r.push(RE(t,a))}),ri.apply(void 0,r).pipe(f_(jte,[]))}),mg())}function U4(t,i){return i===void 0&&(i={}),j4(t).pipe(Re(function(e){return e.map(function(n){return OE(n,i)})}))}function H4(t,i){for(var e=t.length,n=0;n<e;n++)if(t[n].snapshot.key===i)return n;return-1}function zte(t,i){if(i==null)return 0;var e=H4(t,i);return e===-1?t.length:e+1}function jte(t,i){var e=i.snapshot,n=i.prevKey,r=i.event,a=e.key,o=H4(t,a),s=zte(t,n||void 0);switch(r){case sr.value:if(i.snapshot&&i.snapshot.exists()){var l=null;i.snapshot.forEach(function(u){var h={snapshot:u,event:sr.value,prevKey:l};return l=u.key,t=TE(TE([],t,!0),[h],!1),!1})}return t;case sr.added:if(o>-1){var c=t[o-1];(c&&c.snapshot.key||null)!==n&&(t=t.filter(function(u){return u.snapshot.key!==e.key}),t.splice(s,0,i))}else{if(n==null)return TE([i],t,!0);t=t.slice(),t.splice(s,0,i)}return t;case sr.removed:return t.filter(function(u){return u.snapshot.key!==e.key});case sr.changed:return t.map(function(u){return u.snapshot.key===a?i:u});case sr.moved:if(o>-1){var d=t.splice(o,1)[0];return t=t.slice(),t.splice(s,0,d),t}return t;default:return t}}var Qu=class{constructor(i){return i}},G4="database",LE=class{constructor(){return Zm(G4)}};var NE=new G("angularfire2.database-instances");function Ute(t,i){let e=vb(G4,t,i);return e&&new Qu(e)}function Hte(t){return(i,e)=>{let n=i.runOutsideAngular(()=>t(e));return new Qu(n)}}var Gte={provide:LE,deps:[[new Bn,NE]]},Wte={provide:Qu,useFactory:Ute,deps:[[new Bn,NE],Jl]};function W4(t,...i){return un("angularfire",dd.full,"rtdb"),fo([Wte,Gte,{provide:NE,useFactory:Hte(t),multi:!0,deps:[Ce,Ye,ud,Vu,[new Bn,Eb],[new Bn,Qm],...i]}])}var $4=Hn(U4,!0);var Y4=Hn(z4,!0);var K4=Hn(V4,!0);var q4=Hn(P4,!0,2);var gp=Hn(N4,!0,2);var Z4=Hn(F4,!0,2);var PE=Hn(nC,!0,2);var xd=(()=>{class t{constructor(e){this.db=e}setData(e,n){return PE(gp(this.db,e),n)}getData(e){return Y4(gp(this.db,e))}getList(e){return $4(gp(this.db,e))}pushData(e,n){return PE(q4(gp(this.db,e)),n).then(()=>{console.log("Player added successfully.")}).catch(r=>{console.error("Error during push operation:",r)})}deleteData(e){return Z4(gp(this.db,e))}static{this.\u0275fac=function(n){return new(n||t)(Te(Qu))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Cd=(()=>{class t{constructor(e){this.storageService=e,this.months=["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"]}getQuotasForMonth(e){return this.storageService.getData(`quotas/${e}`)}isUserInPayments(e,n){for(var r in n)if(r===e)return n[r].data;return null}getUnpaidQuotasForUser(e){return this.storageService.getData("quotas").pipe(Re(n=>{var r=[];for(var a in n){var o=n[a].pagamentos;this.isUserInPayments(e,o)||r.push({month:a,valor:n[a].valor})}return r.sort((s,l)=>{var c=this.convertThreeCharacterMonthIntoIndex(s.month.substring(0,3)),d=s.month.substring(3),u=this.convertThreeCharacterMonthIntoIndex(l.month.substring(0,3)),h=l.month.substring(3);return d<h?-1:d>h?1:c<u?-1:u>c?1:0}),r}))}getPaidQuotasForUser(e){return this.storageService.getData("quotas").pipe(Re(n=>{var r=[];for(var a in n){var o=n[a].pagamentos,s=this.isUserInPayments(e,o);s&&r.push({month:a,valor:n[a].valor,paymentDate:new Date(s)})}return r.sort((l,c)=>{var d=this.convertThreeCharacterMonthIntoIndex(l.month.substring(0,3)),u=l.month.substring(3),h=this.convertThreeCharacterMonthIntoIndex(c.month.substring(0,3)),m=c.month.substring(3);return u<m?-1:u>m?1:d<h?-1:h>d?1:0}),r}))}setQuotaPayment(e,n,r){return this.storageService.setData(`quotas/${e}/pagamentos/${n}`,{data:r})}deleteQuotaPayment(e,n){return this.storageService.deleteData(`quotas/${e}/pagamentos/${n}`)}convertThreeCharacterMonthIntoIndex(e){return this.months.indexOf(e)}calculateFineForDate(e,n){var r=this.convertThreeCharacterMonthIntoIndex(n.substring(0,3)),a=parseInt(n.substring(3));return e.getFullYear()<a||e.getFullYear()==a&&e.getMonth()<=r?0:e.getFullYear()==a&&e.getMonth()==r+1&&e.getDate()<=10?e.getDate():e.getFullYear()==a&&e.getMonth()==r+1?10:20}static{this.\u0275fac=function(n){return new(n||t)(Te(xd))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var _o=(()=>{class t{constructor(e){this.storageService=e,this.usersType=[{tipo:"Comiss\xE3o"},{tipo:"Comunica\xE7\xE3o e Imagem"},{tipo:"Conv\xEDvios"},{tipo:"Brindes"},{tipo:"Jantares de Curso"}]}getAllUsers(){return this.storageService.getData("users").pipe(Re(e=>{var n=[];for(var r in e){var a=e[r];a.id=r,a.ready&&n.push(a)}return n}))}getAllInactiveUsers(){return this.storageService.getData("users").pipe(Re(e=>{var n=[];for(var r in e){var a=e[r];a.id=r,a.ready||n.push(a)}return n}))}getUserInfo(e){return this.storageService.getData(`users/${e}`)}getUserTypeByNumber(e){return this.usersType[e]}getAllUserTypes(){for(var e=[],n=0;n<this.usersType.length;n++)e.push({id:n,type:this.usersType[n].tipo});return e}getNumberByUserType(e){for(var n=0;n<this.usersType.length;n++)if(this.usersType[n].tipo===e)return n;return-1}registerUser(e,n){return this.storageService.setData(`users/${e}`,{name:n,ready:!1})}finishRegistration(e,n){return this.storageService.setData(`users/${e}`,n)}static{this.\u0275fac=function(n){return new(n||t)(Te(xd))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var xo=(()=>{class t{constructor(e,n){this.auth=e,this.userService=n,this.user$=new Xi(null),this.ready=!1,BV(this.auth,r=>{r?this.userService.getUserInfo(r.uid).subscribe(a=>{this.userData=a,this.user$.next(r)}):(this.userData=null,this.user$.next(r))}),e.authStateReady().then(()=>{this.ready=!0})}getUserData(){return new Promise(e=>{let n=()=>{this.userData||this.ready?e(this.userData):setTimeout(n,50)};n()})}registerUser(e,n){return po(()=>FV(this.auth,e,n))}login(e,n){return po(()=>zV(this.auth,e,n))}logOut(){return this.userData=null,UV(this.auth)}logInGoogle(){var e=new jk;return jV(this.auth,e)}updateUserProfile(e){return HV(this.auth.currentUser,{displayName:e})}static{this.\u0275fac=function(n){return new(n||t)(Te(ju),Te(_o))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var FE=class{_box;_destroyed=new oe;_resizeSubject=new oe;_resizeObserver;_elementObservables=new Map;constructor(i){this._box=i,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(i){return this._elementObservables.has(i)||this._elementObservables.set(i,new nr(e=>{let n=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(i,{box:this._box}),()=>{this._resizeObserver?.unobserve(i),n.unsubscribe(),this._elementObservables.delete(i)}}).pipe(kt(e=>e.some(n=>n.target===i)),jS({bufferSize:1,refCount:!0}),di(this._destroyed))),this._elementObservables.get(i)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},sC=(()=>{class t{_cleanupErrorListener;_observers=new Map;_ngZone=_(Ce);constructor(){typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,e]of this._observers)e.destroy();this._observers.clear(),this._cleanupErrorListener?.()}observe(e,n){let r=n?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new FE(r)),this._observers.get(r).observe(e)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function VE(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var vp,Q4=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function BE(){if(vp)return vp;if(typeof document!="object"||!document)return vp=new Set(Q4),vp;let t=document.createElement("input");return vp=new Set(Q4.filter(i=>(t.setAttribute("type",i),t.type===i))),vp}var _p=class{_attachedHost;attach(i){return this._attachedHost=i,i.attach(this)}detach(){let i=this._attachedHost;i!=null&&(this._attachedHost=null,i.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(i){this._attachedHost=i}},fl=class extends _p{component;viewContainerRef;injector;componentFactoryResolver;projectableNodes;constructor(i,e,n,r,a){super(),this.component=i,this.viewContainerRef=e,this.injector=n,this.projectableNodes=a}},Wn=class extends _p{templateRef;viewContainerRef;context;injector;constructor(i,e,n,r){super(),this.templateRef=i,this.viewContainerRef=e,this.context=n,this.injector=r}get origin(){return this.templateRef.elementRef}attach(i,e=this.context){return this.context=e,super.attach(i)}detach(){return this.context=void 0,super.detach()}},lC=class extends _p{element;constructor(i){super(),this.element=i instanceof me?i.nativeElement:i}},Xu=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(i){if(i instanceof fl)return this._attachedPortal=i,this.attachComponentPortal(i);if(i instanceof Wn)return this._attachedPortal=i,this.attachTemplatePortal(i);if(this.attachDomPortal&&i instanceof lC)return this._attachedPortal=i,this.attachDomPortal(i)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(i){this._disposeFn=i}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var Ju=class extends Xu{outletElement;_appRef;_defaultInjector;_document;constructor(i,e,n,r,a){super(),this.outletElement=i,this._appRef=n,this._defaultInjector=r,this._document=a}attachComponentPortal(i){let e;if(i.viewContainerRef){let n=i.injector||i.viewContainerRef.injector,r=n.get(__,null,{optional:!0})||void 0;e=i.viewContainerRef.createComponent(i.component,{index:i.viewContainerRef.length,injector:n,ngModuleRef:r,projectableNodes:i.projectableNodes||void 0}),this.setDisposeFn(()=>e.destroy())}else{let n=this._appRef,r=i.injector||this._defaultInjector||Ye.NULL,a=r.get(ta,n.injector);e=I_(i.component,{elementInjector:r,environmentInjector:a,projectableNodes:i.projectableNodes||void 0}),n.attachView(e.hostView),this.setDisposeFn(()=>{n.viewCount>0&&n.detachView(e.hostView),e.destroy()})}return this.outletElement.appendChild(this._getComponentRootNode(e)),this._attachedPortal=i,e}attachTemplatePortal(i){let e=i.viewContainerRef,n=e.createEmbeddedView(i.templateRef,i.context,{injector:i.injector});return n.rootNodes.forEach(r=>this.outletElement.appendChild(r)),n.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(n);r!==-1&&e.remove(r)}),this._attachedPortal=i,n}attachDomPortal=i=>{let e=i.element;e.parentNode;let n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),this._attachedPortal=i,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(i){return i.hostView.rootNodes[0]}};var zE=(()=>{class t extends Wn{constructor(){let e=_(vi),n=_(_i);super(e,n)}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[Ve]})}return t})();var Ta=(()=>{class t extends Xu{_moduleRef=_(__,{optional:!0});_document=_(He);_viewContainerRef=_(_i);_isInitialized=!1;_attachedRef;constructor(){super()}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}attached=new ie;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);let n=e.viewContainerRef!=null?e.viewContainerRef:this._viewContainerRef,r=n.createComponent(e.component,{index:n.length,injector:e.injector||n.injector,projectableNodes:e.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return n!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),super.setDisposeFn(()=>r.destroy()),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(e){e.setAttachedHost(this);let n=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=n,this.attached.emit(n),n}attachDomPortal=e=>{let n=e.element;n.parentNode;let r=this._document.createComment("dom-portal");e.setAttachedHost(this),n.parentNode.insertBefore(r,n),this._getRootNode().appendChild(n),this._attachedPortal=e,super.setDisposeFn(()=>{r.parentNode&&r.parentNode.replaceChild(n,r)})};_getRootNode(){let e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Ve]})}return t})();var Co=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Se({type:t});static \u0275inj=De({})}return t})();var lr=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=X({type:t,selectors:[["structural-styles"]],decls:0,vars:0,template:function(n,r){},styles:[`.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}
`],encapsulation:2,changeDetection:0})}return t})();var wo=function(t){return t[t.FADING_IN=0]="FADING_IN",t[t.VISIBLE=1]="VISIBLE",t[t.FADING_OUT=2]="FADING_OUT",t[t.HIDDEN=3]="HIDDEN",t}(wo||{}),jE=class{_renderer;element;config;_animationForciblyDisabledThroughCss;state=wo.HIDDEN;constructor(i,e,n,r=!1){this._renderer=i,this.element=e,this.config=n,this._animationForciblyDisabledThroughCss=r}fadeOut(){this._renderer.fadeOutRipple(this)}},X4=Em({passive:!0,capture:!0}),UE=class{_events=new Map;addHandler(i,e,n,r){let a=this._events.get(e);if(a){let o=a.get(n);o?o.add(r):a.set(n,new Set([r]))}else this._events.set(e,new Map([[n,new Set([r])]])),i.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,X4)})}removeHandler(i,e,n){let r=this._events.get(i);if(!r)return;let a=r.get(e);a&&(a.delete(n),a.size===0&&r.delete(e),r.size===0&&(this._events.delete(i),document.removeEventListener(i,this._delegateEventHandler,X4)))}_delegateEventHandler=i=>{let e=yr(i);e&&this._events.get(i.type)?.forEach((n,r)=>{(r===e||r.contains(e))&&n.forEach(a=>a.handleEvent(i))})}},ny={enterDuration:225,exitDuration:150},Yte=800,J4=Em({passive:!0,capture:!0}),ez=["mousedown","touchstart"],tz=["mouseup","mouseleave","touchend","touchcancel"],Kte=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=X({type:t,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(n,r){},styles:[`.mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}
`],encapsulation:2,changeDetection:0})}return t})(),eh=class t{_target;_ngZone;_platform;_containerElement;_triggerElement;_isPointerDown=!1;_activeRipples=new Map;_mostRecentTransientRipple;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect;static _eventManager=new UE;constructor(i,e,n,r,a){this._target=i,this._ngZone=e,this._platform=r,r.isBrowser&&(this._containerElement=oa(n)),a&&a.get(hi).load(Kte)}fadeInRipple(i,e,n={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a=f(f({},ny),n.animation);n.centered&&(i=r.left+r.width/2,e=r.top+r.height/2);let o=n.radius||qte(i,e,r),s=i-r.left,l=e-r.top,c=a.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=`${s-o}px`,d.style.top=`${l-o}px`,d.style.height=`${o*2}px`,d.style.width=`${o*2}px`,n.color!=null&&(d.style.backgroundColor=n.color),d.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(d);let u=window.getComputedStyle(d),h=u.transitionProperty,m=u.transitionDuration,p=h==="none"||m==="0s"||m==="0s, 0s"||r.width===0&&r.height===0,g=new jE(this,d,n,p);d.style.transform="scale3d(1, 1, 1)",g.state=wo.FADING_IN,n.persistent||(this._mostRecentTransientRipple=g);let y=null;return!p&&(c||a.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let v=()=>{y&&(y.fallbackTimer=null),clearTimeout(w),this._finishRippleTransition(g)},x=()=>this._destroyRipple(g),w=setTimeout(x,c+100);d.addEventListener("transitionend",v),d.addEventListener("transitioncancel",x),y={onTransitionEnd:v,onTransitionCancel:x,fallbackTimer:w}}),this._activeRipples.set(g,y),(p||!c)&&this._finishRippleTransition(g),g}fadeOutRipple(i){if(i.state===wo.FADING_OUT||i.state===wo.HIDDEN)return;let e=i.element,n=f(f({},ny),i.config.animation);e.style.transitionDuration=`${n.exitDuration}ms`,e.style.opacity="0",i.state=wo.FADING_OUT,(i._animationForciblyDisabledThroughCss||!n.exitDuration)&&this._finishRippleTransition(i)}fadeOutAll(){this._getActiveRipples().forEach(i=>i.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(i=>{i.config.persistent||i.fadeOut()})}setupTriggerEvents(i){let e=oa(i);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,ez.forEach(n=>{t._eventManager.addHandler(this._ngZone,n,e,this)}))}handleEvent(i){i.type==="mousedown"?this._onMousedown(i):i.type==="touchstart"?this._onTouchStart(i):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{tz.forEach(e=>{this._triggerElement.addEventListener(e,this,J4)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(i){i.state===wo.FADING_IN?this._startFadeOutTransition(i):i.state===wo.FADING_OUT&&this._destroyRipple(i)}_startFadeOutTransition(i){let e=i===this._mostRecentTransientRipple,{persistent:n}=i.config;i.state=wo.VISIBLE,!n&&(!e||!this._isPointerDown)&&i.fadeOut()}_destroyRipple(i){let e=this._activeRipples.get(i)??null;this._activeRipples.delete(i),this._activeRipples.size||(this._containerRect=null),i===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),i.state=wo.HIDDEN,e!==null&&(i.element.removeEventListener("transitionend",e.onTransitionEnd),i.element.removeEventListener("transitioncancel",e.onTransitionCancel),e.fallbackTimer!==null&&clearTimeout(e.fallbackTimer)),i.element.remove()}_onMousedown(i){let e=Eu(i),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+Yte;!this._target.rippleDisabled&&!e&&!n&&(this._isPointerDown=!0,this.fadeInRipple(i.clientX,i.clientY,this._target.rippleConfig))}_onTouchStart(i){if(!this._target.rippleDisabled&&!Tu(i)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let e=i.changedTouches;if(e)for(let n=0;n<e.length;n++)this.fadeInRipple(e[n].clientX,e[n].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(i=>{let e=i.state===wo.VISIBLE||i.config.terminateOnPointerUp&&i.state===wo.FADING_IN;!i.config.persistent&&e&&i.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let i=this._triggerElement;i&&(ez.forEach(e=>t._eventManager.removeHandler(e,i,this)),this._pointerUpEventsRegistered&&(tz.forEach(e=>i.removeEventListener(e,this,J4)),this._pointerUpEventsRegistered=!1))}};function qte(t,i,e){let n=Math.max(Math.abs(t-e.left),Math.abs(t-e.right)),r=Math.max(Math.abs(i-e.top),Math.abs(i-e.bottom));return Math.sqrt(n*n+r*r)}var xp=new G("mat-ripple-global-options"),ms=(()=>{class t{_elementRef=_(me);_animationMode=_(Ut,{optional:!0});color;unbounded;centered;radius=0;animation;get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}_disabled=!1;get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}_trigger;_rippleRenderer;_globalOptions;_isInitialized=!1;constructor(){let e=_(Ce),n=_(Ft),r=_(xp,{optional:!0}),a=_(Ye);this._globalOptions=r||{},this._rippleRenderer=new eh(this,e,this._elementRef,n,a)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:f(f(f({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,n=0,r){return typeof e=="number"?this._rippleRenderer.fadeInRipple(e,n,f(f({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,f(f({},this.rippleConfig),e))}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(n,r){n&2&&de("mat-ripple-unbounded",r.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return t})();var YE=["*"];function Zte(t,i){t&1&&Ie(0)}var Qte=["tabListContainer"],Xte=["tabList"],Jte=["tabListInner"],eie=["nextPaginator"],tie=["previousPaginator"],iie=["content"];function nie(t,i){}var rie=["tabBodyWrapper"],aie=["tabHeader"];function oie(t,i){}function sie(t,i){if(t&1&&ae(0,oie,0,0,"ng-template",12),t&2){let e=xe().$implicit;W("cdkPortalOutlet",e.templateLabel)}}function lie(t,i){if(t&1&&V(0),t&2){let e=xe().$implicit;qe(e.textLabel)}}function cie(t,i){if(t&1){let e=Rt();M(0,"div",7,2),Q("click",function(){let r=ye(e),a=r.$implicit,o=r.$index,s=xe(),l=ar(1);return ve(s._handleClick(a,l,o))})("cdkFocusChange",function(r){let a=ye(e).$index,o=xe();return ve(o._tabFocusChanged(r,a))}),re(2,"span",8)(3,"div",9),M(4,"span",10)(5,"span",11),ae(6,sie,1,1,null,12)(7,lie,1,1),I()()()}if(t&2){let e=i.$implicit,n=i.$index,r=ar(1),a=xe();zn(e.labelClass),de("mdc-tab--active",a.selectedIndex===n),W("id",a._getTabLabelId(e,n))("disabled",e.disabled)("fitInkBarToContent",a.fitInkBarToContent),Ee("tabIndex",a._getTabIndex(n))("aria-posinset",n+1)("aria-setsize",a._tabs.length)("aria-controls",a._getTabContentId(n))("aria-selected",a.selectedIndex===n)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null),T(3),W("matRippleTrigger",r)("matRippleDisabled",e.disabled||a.disableRipple),T(3),At(e.templateLabel?6:7)}}function die(t,i){t&1&&Ie(0)}function uie(t,i){if(t&1){let e=Rt();M(0,"mat-tab-body",13),Q("_onCentered",function(){ye(e);let r=xe();return ve(r._removeTabBodyWrapperHeight())})("_onCentering",function(r){ye(e);let a=xe();return ve(a._setTabBodyWrapperHeight(r))})("_beforeCentering",function(r){ye(e);let a=xe();return ve(a._bodyCentered(r))}),I()}if(t&2){let e=i.$implicit,n=i.$index,r=xe();zn(e.bodyClass),W("id",r._getTabContentId(n))("content",e.content)("position",e.position)("animationDuration",r.animationDuration)("preserveContent",r.preserveContent),Ee("tabindex",r.contentTabIndex!=null&&r.selectedIndex===n?r.contentTabIndex:null)("aria-labelledby",r._getTabLabelId(e,n))("aria-hidden",r.selectedIndex!==n)}}var hie=new G("MatTabContent"),mie=(()=>{class t{template=_(vi);constructor(){}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["","matTabContent",""]],features:[Ue([{provide:hie,useExisting:t}])]})}return t})(),pie=new G("MatTabLabel"),az=new G("MAT_TAB"),fie=(()=>{class t extends zE{_closestTab=_(az,{optional:!0});static \u0275fac=(()=>{let e;return function(r){return(e||(e=Dt(t)))(r||t)}})();static \u0275dir=Y({type:t,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[Ue([{provide:pie,useExisting:t}]),Ve]})}return t})(),oz=new G("MAT_TAB_GROUP"),th=(()=>{class t{_viewContainerRef=_(_i);_closestTabGroup=_(oz,{optional:!0});disabled=!1;get templateLabel(){return this._templateLabel}set templateLabel(e){this._setTemplateLabelInput(e)}_templateLabel;_explicitContent=void 0;_implicitContent;textLabel="";ariaLabel;ariaLabelledby;labelClass;bodyClass;id=null;_contentPortal=null;get content(){return this._contentPortal}_stateChanges=new oe;position=null;origin=null;isActive=!1;constructor(){_(hi).load(lr)}ngOnChanges(e){(e.hasOwnProperty("textLabel")||e.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new Wn(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(e){e&&e._closestTab===this&&(this._templateLabel=e)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=X({type:t,selectors:[["mat-tab"]],contentQueries:function(n,r,a){if(n&1&&(St(a,fie,5),St(a,mie,7,vi)),n&2){let o;pe(o=fe())&&(r.templateLabel=o.first),pe(o=fe())&&(r._explicitContent=o.first)}},viewQuery:function(n,r){if(n&1&&Ke(vi,7),n&2){let a;pe(a=fe())&&(r._implicitContent=a.first)}},hostAttrs:["hidden",""],hostVars:1,hostBindings:function(n,r){n&2&&Ee("id",null)},inputs:{disabled:[2,"disabled","disabled",J],textLabel:[0,"label","textLabel"],ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass",id:"id"},exportAs:["matTab"],features:[Ue([{provide:az,useExisting:t}]),_t],ngContentSelectors:YE,decls:1,vars:0,template:function(n,r){n&1&&(ut(),ae(0,Zte,1,0,"ng-template"))},encapsulation:2})}return t})(),HE="mdc-tab-indicator--active",iz="mdc-tab-indicator--no-transition",GE=class{_items;_currentItem;constructor(i){this._items=i}hide(){this._items.forEach(i=>i.deactivateInkBar()),this._currentItem=void 0}alignToElement(i){let e=this._items.find(r=>r.elementRef.nativeElement===i),n=this._currentItem;if(e!==n&&(n?.deactivateInkBar(),e)){let r=n?.elementRef.nativeElement.getBoundingClientRect?.();e.activateInkBar(r),this._currentItem=e}}},gie=(()=>{class t{_elementRef=_(me);_inkBarElement;_inkBarContentElement;_fitToContent=!1;get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(e){this._fitToContent!==e&&(this._fitToContent=e,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(e){let n=this._elementRef.nativeElement;if(!e||!n.getBoundingClientRect||!this._inkBarContentElement){n.classList.add(HE);return}let r=n.getBoundingClientRect(),a=e.width/r.width,o=e.left-r.left;n.classList.add(iz),this._inkBarContentElement.style.setProperty("transform",`translateX(${o}px) scaleX(${a})`),n.getBoundingClientRect(),n.classList.remove(iz),n.classList.add(HE),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this._elementRef.nativeElement.classList.remove(HE)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){let e=this._elementRef.nativeElement.ownerDocument||document,n=this._inkBarElement=e.createElement("span"),r=this._inkBarContentElement=e.createElement("span");n.className="mdc-tab-indicator",r.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",n.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){this._inkBarElement;let e=this._fitToContent?this._elementRef.nativeElement.querySelector(".mdc-tab__content"):this._elementRef.nativeElement;e.appendChild(this._inkBarElement)}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,inputs:{fitInkBarToContent:[2,"fitInkBarToContent","fitInkBarToContent",J]}})}return t})();var sz=(()=>{class t extends gie{elementRef=_(me);disabled=!1;focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Dt(t)))(r||t)}})();static \u0275dir=Y({type:t,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(n,r){n&2&&(Ee("aria-disabled",!!r.disabled),de("mat-mdc-tab-disabled",r.disabled))},inputs:{disabled:[2,"disabled","disabled",J]},features:[Ve]})}return t})(),nz={passive:!0},bie=650,yie=100,vie=(()=>{class t{_elementRef=_(me);_changeDetectorRef=_(et);_viewportRuler=_(Zl);_dir=_(Oi,{optional:!0});_ngZone=_(Ce);_platform=_(Ft);_sharedResizeObserver=_(sC);_injector=_(Ye);_renderer=_(Yt);_animationMode=_(Ut,{optional:!0});_eventCleanups;_scrollDistance=0;_selectedIndexChanged=!1;_destroyed=new oe;_showPaginationControls=!1;_disableScrollAfter=!0;_disableScrollBefore=!0;_tabLabelCount;_scrollDistanceChanged;_keyManager;_currentTextContent;_stopScrolling=new oe;disablePagination=!1;get selectedIndex(){return this._selectedIndex}set selectedIndex(e){let n=isNaN(e)?0:e;this._selectedIndex!=n&&(this._selectedIndexChanged=!0,this._selectedIndex=n,this._keyManager&&this._keyManager.updateActiveItem(n))}_selectedIndex=0;selectFocusedIndex=new ie;indexFocused=new ie;constructor(){this._eventCleanups=this._ngZone.runOutsideAngular(()=>[this._renderer.listen(this._elementRef.nativeElement,"mouseleave",()=>this._stopInterval())])}ngAfterViewInit(){this._eventCleanups.push(Li(this._renderer,this._previousPaginator.nativeElement,"touchstart",()=>this._handlePaginatorPress("before"),nz),Li(this._renderer,this._nextPaginator.nativeElement,"touchstart",()=>this._handlePaginatorPress("after"),nz))}ngAfterContentInit(){let e=this._dir?this._dir.change:ke("ltr"),n=this._sharedResizeObserver.observe(this._elementRef.nativeElement).pipe($c(32),di(this._destroyed)),r=this._viewportRuler.change(150).pipe(di(this._destroyed)),a=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new Ql(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(Math.max(this._selectedIndex,0)),qi(a,{injector:this._injector}),ri(e,r,n,this._items.changes,this._itemsResized()).pipe(di(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),a()})}),this._keyManager?.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(o=>{this.indexFocused.emit(o),this._setTabFocus(o)})}_itemsResized(){return typeof ResizeObserver!="function"?ea:this._items.changes.pipe(yi(this._items),Ji(e=>new nr(n=>this._ngZone.runOutsideAngular(()=>{let r=new ResizeObserver(a=>n.next(a));return e.forEach(a=>r.observe(a.elementRef.nativeElement)),()=>{r.disconnect()}}))),lm(1),kt(e=>e.some(n=>n.contentRect.width>0&&n.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._eventCleanups.forEach(e=>e()),this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(e){if(!pi(e))switch(e.keyCode){case 13:case 32:if(this.focusIndex!==this.selectedIndex){let n=this._items.get(this.focusIndex);n&&!n.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(e))}break;default:this._keyManager?.onKeydown(e)}}_onContentChanges(){let e=this._elementRef.nativeElement.textContent;e!==this._currentTextContent&&(this._currentTextContent=e||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(e){!this._isValidIndex(e)||this.focusIndex===e||!this._keyManager||this._keyManager.setActiveItem(e)}_isValidIndex(e){return this._items?!!this._items.toArray()[e]:!0}_setTabFocus(e){if(this._showPaginationControls&&this._scrollToLabel(e),this._items&&this._items.length){this._items.toArray()[e].focus();let n=this._tabListContainer.nativeElement;this._getLayoutDirection()=="ltr"?n.scrollLeft=0:n.scrollLeft=n.scrollWidth-n.offsetWidth}}_getLayoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;let e=this.scrollDistance,n=this._getLayoutDirection()==="ltr"?-e:e;this._tabList.nativeElement.style.transform=`translateX(${Math.round(n)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(e){this._scrollTo(e)}_scrollHeader(e){let n=this._tabListContainer.nativeElement.offsetWidth,r=(e=="before"?-1:1)*n/3;return this._scrollTo(this._scrollDistance+r)}_handlePaginatorClick(e){this._stopInterval(),this._scrollHeader(e)}_scrollToLabel(e){if(this.disablePagination)return;let n=this._items?this._items.toArray()[e]:null;if(!n)return;let r=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:a,offsetWidth:o}=n.elementRef.nativeElement,s,l;this._getLayoutDirection()=="ltr"?(s=a,l=s+o):(l=this._tabListInner.nativeElement.offsetWidth-a,s=l-o);let c=this.scrollDistance,d=this.scrollDistance+r;s<c?this.scrollDistance-=c-s:l>d&&(this.scrollDistance+=Math.min(l-d,s-c))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{let e=this._tabListInner.nativeElement.scrollWidth,n=this._elementRef.nativeElement.offsetWidth,r=e-n>=5;r||(this.scrollDistance=0),r!==this._showPaginationControls&&(this._showPaginationControls=r,this._changeDetectorRef.markForCheck())}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=this.scrollDistance==0,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){let e=this._tabListInner.nativeElement.scrollWidth,n=this._tabListContainer.nativeElement.offsetWidth;return e-n||0}_alignInkBarToSelectedTab(){let e=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,n=e?e.elementRef.nativeElement:null;n?this._inkBar.alignToElement(n):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(e,n){n&&n.button!=null&&n.button!==0||(this._stopInterval(),jL(bie,yie).pipe(di(ri(this._stopScrolling,this._destroyed))).subscribe(()=>{let{maxScrollDistance:r,distance:a}=this._scrollHeader(e);(a===0||a>=r)&&this._stopInterval()}))}_scrollTo(e){if(this.disablePagination)return{maxScrollDistance:0,distance:0};let n=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(n,e)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:n,distance:this._scrollDistance}}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,inputs:{disablePagination:[2,"disablePagination","disablePagination",J],selectedIndex:[2,"selectedIndex","selectedIndex",Nr]},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"}})}return t})(),_ie=(()=>{class t extends vie{_items;_tabListContainer;_tabList;_tabListInner;_nextPaginator;_previousPaginator;_inkBar;ariaLabel;ariaLabelledby;disableRipple=!1;ngAfterContentInit(){this._inkBar=new GE(this._items),super.ngAfterContentInit()}_itemSelected(e){e.preventDefault()}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Dt(t)))(r||t)}})();static \u0275cmp=X({type:t,selectors:[["mat-tab-header"]],contentQueries:function(n,r,a){if(n&1&&St(a,sz,4),n&2){let o;pe(o=fe())&&(r._items=o)}},viewQuery:function(n,r){if(n&1&&(Ke(Qte,7),Ke(Xte,7),Ke(Jte,7),Ke(eie,5),Ke(tie,5)),n&2){let a;pe(a=fe())&&(r._tabListContainer=a.first),pe(a=fe())&&(r._tabList=a.first),pe(a=fe())&&(r._tabListInner=a.first),pe(a=fe())&&(r._nextPaginator=a.first),pe(a=fe())&&(r._previousPaginator=a.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(n,r){n&2&&de("mat-mdc-tab-header-pagination-controls-enabled",r._showPaginationControls)("mat-mdc-tab-header-rtl",r._getLayoutDirection()=="rtl")},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],disableRipple:[2,"disableRipple","disableRipple",J]},features:[Ve],ngContentSelectors:YE,decls:13,vars:10,consts:[["previousPaginator",""],["tabListContainer",""],["tabList",""],["tabListInner",""],["nextPaginator",""],["mat-ripple","",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"click","mousedown","touchend","matRippleDisabled"],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],[1,"mat-mdc-tab-labels"],["mat-ripple","",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"mousedown","click","touchend","matRippleDisabled"]],template:function(n,r){if(n&1){let a=Rt();ut(),M(0,"div",5,0),Q("click",function(){return ye(a),ve(r._handlePaginatorClick("before"))})("mousedown",function(s){return ye(a),ve(r._handlePaginatorPress("before",s))})("touchend",function(){return ye(a),ve(r._stopInterval())}),re(2,"div",6),I(),M(3,"div",7,1),Q("keydown",function(s){return ye(a),ve(r._handleKeydown(s))}),M(5,"div",8,2),Q("cdkObserveContent",function(){return ye(a),ve(r._onContentChanges())}),M(7,"div",9,3),Ie(9),I()()(),M(10,"div",10,4),Q("mousedown",function(s){return ye(a),ve(r._handlePaginatorPress("after",s))})("click",function(){return ye(a),ve(r._handlePaginatorClick("after"))})("touchend",function(){return ye(a),ve(r._stopInterval())}),re(12,"div",6),I()}n&2&&(de("mat-mdc-tab-header-pagination-disabled",r._disableScrollBefore),W("matRippleDisabled",r._disableScrollBefore||r.disableRipple),T(3),de("_mat-animation-noopable",r._animationMode==="NoopAnimations"),T(2),Ee("aria-label",r.ariaLabel||null)("aria-labelledby",r.ariaLabelledby||null),T(5),de("mat-mdc-tab-header-pagination-disabled",r._disableScrollAfter),W("matRippleDisabled",r._disableScrollAfter||r.disableRipple))},dependencies:[ms,z0],styles:[`.mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;outline:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-header-pagination-icon-color, var(--mat-sys-on-surface))}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1;border-bottom-style:solid;border-bottom-width:var(--mat-tab-header-divider-height, 1px);border-bottom-color:var(--mat-tab-header-divider-color, var(--mat-sys-surface-variant))}.mat-mdc-tab-group-inverted-header .mat-mdc-tab-label-container{border-bottom:none;border-top-style:solid;border-top-width:var(--mat-tab-header-divider-height, 1px);border-top-color:var(--mat-tab-header-divider-color, var(--mat-sys-surface-variant))}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.cdk-drop-list .mat-mdc-tab-labels,.mat-mdc-tab-labels.cdk-drop-list{min-height:var(--mdc-secondary-navigation-tab-container-height, 48px)}.mat-mdc-tab::before{margin:5px}@media(forced-colors: active){.mat-mdc-tab[aria-disabled=true]{color:GrayText}}
`],encapsulation:2})}return t})(),xie=new G("MAT_TABS_CONFIG"),rz=(()=>{class t extends Ta{_host=_(WE);_centeringSub=xt.EMPTY;_leavingSub=xt.EMPTY;constructor(){super()}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(yi(this._host._isCenterPosition())).subscribe(e=>{this._host._content&&e&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["","matTabBodyHost",""]],features:[Ve]})}return t})(),WE=(()=>{class t{_elementRef=_(me);_dir=_(Oi,{optional:!0});_ngZone=_(Ce);_injector=_(Ye);_renderer=_(Yt);_animationsModule=_(Ut,{optional:!0});_eventCleanups;_initialized;_fallbackTimer;_positionIndex;_dirChangeSubscription=xt.EMPTY;_position;_previousPosition;_onCentering=new ie;_beforeCentering=new ie;_afterLeavingCenter=new ie;_onCentered=new ie(!0);_portalHost;_contentElement;_content;animationDuration="500ms";preserveContent=!1;set position(e){this._positionIndex=e,this._computePositionAnimationState()}constructor(){if(this._dir){let e=_(et);this._dirChangeSubscription=this._dir.change.subscribe(n=>{this._computePositionAnimationState(n),e.markForCheck()})}}ngOnInit(){this._bindTransitionEvents(),this._position==="center"&&(this._setActiveClass(!0),qi(()=>this._onCentering.emit(this._elementRef.nativeElement.clientHeight),{injector:this._injector})),this._initialized=!0}ngOnDestroy(){clearTimeout(this._fallbackTimer),this._eventCleanups?.forEach(e=>e()),this._dirChangeSubscription.unsubscribe()}_bindTransitionEvents(){this._ngZone.runOutsideAngular(()=>{let e=this._elementRef.nativeElement,n=r=>{r.target===this._contentElement?.nativeElement&&(this._elementRef.nativeElement.classList.remove("mat-tab-body-animating"),r.type==="transitionend"&&this._transitionDone())};this._eventCleanups=[this._renderer.listen(e,"transitionstart",r=>{r.target===this._contentElement?.nativeElement&&(this._elementRef.nativeElement.classList.add("mat-tab-body-animating"),this._transitionStarted())}),this._renderer.listen(e,"transitionend",n),this._renderer.listen(e,"transitioncancel",n)]})}_transitionStarted(){clearTimeout(this._fallbackTimer);let e=this._position==="center";this._beforeCentering.emit(e),e&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_transitionDone(){this._position==="center"?this._onCentered.emit():this._previousPosition==="center"&&this._afterLeavingCenter.emit()}_setActiveClass(e){this._elementRef.nativeElement.classList.toggle("mat-mdc-tab-body-active",e)}_getLayoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_isCenterPosition(){return this._positionIndex===0}_computePositionAnimationState(e=this._getLayoutDirection()){this._previousPosition=this._position,this._positionIndex<0?this._position=e=="ltr"?"left":"right":this._positionIndex>0?this._position=e=="ltr"?"right":"left":this._position="center",this._animationsDisabled()?this._simulateTransitionEvents():this._initialized&&(this._position==="center"||this._previousPosition==="center")&&(clearTimeout(this._fallbackTimer),this._fallbackTimer=this._ngZone.runOutsideAngular(()=>setTimeout(()=>this._simulateTransitionEvents(),100)))}_simulateTransitionEvents(){this._transitionStarted(),qi(()=>this._transitionDone(),{injector:this._injector})}_animationsDisabled(){return this._animationsModule==="NoopAnimations"||this.animationDuration==="0ms"||this.animationDuration==="0s"}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=X({type:t,selectors:[["mat-tab-body"]],viewQuery:function(n,r){if(n&1&&(Ke(rz,5),Ke(iie,5)),n&2){let a;pe(a=fe())&&(r._portalHost=a.first),pe(a=fe())&&(r._contentElement=a.first)}},hostAttrs:[1,"mat-mdc-tab-body"],hostVars:1,hostBindings:function(n,r){n&2&&Ee("inert",r._position==="center"?null:"")},inputs:{_content:[0,"content","_content"],animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_onCentered:"_onCentered"},decls:3,vars:6,consts:[["content",""],["cdkScrollable","",1,"mat-mdc-tab-body-content"],["matTabBodyHost",""]],template:function(n,r){n&1&&(M(0,"div",1,0),ae(2,nie,0,0,"ng-template",2),I()),n&2&&de("mat-tab-body-content-left",r._position==="left")("mat-tab-body-content-right",r._position==="right")("mat-tab-body-content-can-animate",r._position==="center"||r._previousPosition==="center")},dependencies:[rz,A0],styles:[`.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto;transform:none;visibility:hidden}.mat-tab-body-animating>.mat-mdc-tab-body-content,.mat-mdc-tab-body-active>.mat-mdc-tab-body-content{visibility:visible}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-tab-body-content-can-animate{transition:transform var(--mat-tab-animation-duration) 1ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable .mat-tab-body-content-can-animate{transition:none}.mat-tab-body-content-left{transform:translate3d(-100%, 0, 0)}.mat-tab-body-content-right{transform:translate3d(100%, 0, 0)}
`],encapsulation:2})}return t})(),Cp=(()=>{class t{_elementRef=_(me);_changeDetectorRef=_(et);_ngZone=_(Ce);_tabsSubscription=xt.EMPTY;_tabLabelSubscription=xt.EMPTY;_tabBodySubscription=xt.EMPTY;_diAnimationsDisabled=_(Ut,{optional:!0})==="NoopAnimations";_allTabs;_tabBodies;_tabBodyWrapper;_tabHeader;_tabs=new jl;_indexToSelect=0;_lastFocusedTabIndex=null;_tabBodyWrapperHeight=0;color;get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(e){this._fitInkBarToContent=e,this._changeDetectorRef.markForCheck()}_fitInkBarToContent=!1;stretchTabs=!0;alignTabs=null;dynamicHeight=!1;get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._indexToSelect=isNaN(e)?null:e}_selectedIndex=null;headerPosition="above";get animationDuration(){return this._animationDuration}set animationDuration(e){let n=e+"";this._animationDuration=/^\d+$/.test(n)?e+"ms":n}_animationDuration;get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(e){this._contentTabIndex=isNaN(e)?null:e}_contentTabIndex;disablePagination=!1;disableRipple=!1;preserveContent=!1;get backgroundColor(){return this._backgroundColor}set backgroundColor(e){let n=this._elementRef.nativeElement.classList;n.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),e&&n.add("mat-tabs-with-background",`mat-background-${e}`),this._backgroundColor=e}_backgroundColor;ariaLabel;ariaLabelledby;selectedIndexChange=new ie;focusChange=new ie;animationDone=new ie;selectedTabChange=new ie(!0);_groupId;_isServer=!_(Ft).isBrowser;constructor(){let e=_(xie,{optional:!0});this._groupId=_(Kt).getId("mat-tab-group-"),this.animationDuration=e&&e.animationDuration?e.animationDuration:"500ms",this.disablePagination=e&&e.disablePagination!=null?e.disablePagination:!1,this.dynamicHeight=e&&e.dynamicHeight!=null?e.dynamicHeight:!1,e?.contentTabIndex!=null&&(this.contentTabIndex=e.contentTabIndex),this.preserveContent=!!e?.preserveContent,this.fitInkBarToContent=e&&e.fitInkBarToContent!=null?e.fitInkBarToContent:!1,this.stretchTabs=e&&e.stretchTabs!=null?e.stretchTabs:!0,this.alignTabs=e&&e.alignTabs!=null?e.alignTabs:null}ngAfterContentChecked(){let e=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=e){let n=this._selectedIndex==null;if(!n){this.selectedTabChange.emit(this._createChangeEvent(e));let r=this._tabBodyWrapper.nativeElement;r.style.minHeight=r.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((r,a)=>r.isActive=a===e),n||(this.selectedIndexChange.emit(e),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((n,r)=>{n.position=r-e,this._selectedIndex!=null&&n.position==0&&!n.origin&&(n.origin=e-this._selectedIndex)}),this._selectedIndex!==e&&(this._selectedIndex=e,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{let e=this._clampTabIndex(this._indexToSelect);if(e===this._selectedIndex){let n=this._tabs.toArray(),r;for(let a=0;a<n.length;a++)if(n[a].isActive){this._indexToSelect=this._selectedIndex=a,this._lastFocusedTabIndex=null,r=n[a];break}!r&&n[e]&&Promise.resolve().then(()=>{n[e].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(e))})}this._changeDetectorRef.markForCheck()})}ngAfterViewInit(){this._tabBodySubscription=this._tabBodies.changes.subscribe(()=>this._bodyCentered(!0))}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(yi(this._allTabs)).subscribe(e=>{this._tabs.reset(e.filter(n=>n._closestTabGroup===this||!n._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe(),this._tabBodySubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(e){let n=this._tabHeader;n&&(n.focusIndex=e)}_focusChanged(e){this._lastFocusedTabIndex=e,this.focusChange.emit(this._createChangeEvent(e))}_createChangeEvent(e){let n=new $E;return n.index=e,this._tabs&&this._tabs.length&&(n.tab=this._tabs.toArray()[e]),n}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=ri(...this._tabs.map(e=>e._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(e){return Math.min(this._tabs.length-1,Math.max(e||0,0))}_getTabLabelId(e,n){return e.id||`${this._groupId}-label-${n}`}_getTabContentId(e){return`${this._groupId}-content-${e}`}_setTabBodyWrapperHeight(e){if(!this.dynamicHeight||!this._tabBodyWrapperHeight){this._tabBodyWrapperHeight=e;return}let n=this._tabBodyWrapper.nativeElement;n.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(n.style.height=e+"px")}_removeTabBodyWrapperHeight(){let e=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=e.clientHeight,e.style.height="",this._ngZone.run(()=>this.animationDone.emit())}_handleClick(e,n,r){n.focusIndex=r,e.disabled||(this.selectedIndex=r)}_getTabIndex(e){let n=this._lastFocusedTabIndex??this.selectedIndex;return e===n?0:-1}_tabFocusChanged(e,n){e&&e!=="mouse"&&e!=="touch"&&(this._tabHeader.focusIndex=n)}_bodyCentered(e){e&&this._tabBodies?.forEach((n,r)=>n._setActiveClass(r===this._selectedIndex))}_animationsDisabled(){return this._diAnimationsDisabled||this.animationDuration==="0"||this.animationDuration==="0ms"}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=X({type:t,selectors:[["mat-tab-group"]],contentQueries:function(n,r,a){if(n&1&&St(a,th,5),n&2){let o;pe(o=fe())&&(r._allTabs=o)}},viewQuery:function(n,r){if(n&1&&(Ke(rie,5),Ke(aie,5),Ke(WE,5)),n&2){let a;pe(a=fe())&&(r._tabBodyWrapper=a.first),pe(a=fe())&&(r._tabHeader=a.first),pe(a=fe())&&(r._tabBodies=a)}},hostAttrs:[1,"mat-mdc-tab-group"],hostVars:11,hostBindings:function(n,r){n&2&&(Ee("mat-align-tabs",r.alignTabs),zn("mat-"+(r.color||"primary")),Ko("--mat-tab-animation-duration",r.animationDuration),de("mat-mdc-tab-group-dynamic-height",r.dynamicHeight)("mat-mdc-tab-group-inverted-header",r.headerPosition==="below")("mat-mdc-tab-group-stretch-tabs",r.stretchTabs))},inputs:{color:"color",fitInkBarToContent:[2,"fitInkBarToContent","fitInkBarToContent",J],stretchTabs:[2,"mat-stretch-tabs","stretchTabs",J],alignTabs:[0,"mat-align-tabs","alignTabs"],dynamicHeight:[2,"dynamicHeight","dynamicHeight",J],selectedIndex:[2,"selectedIndex","selectedIndex",Nr],headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:[2,"contentTabIndex","contentTabIndex",Nr],disablePagination:[2,"disablePagination","disablePagination",J],disableRipple:[2,"disableRipple","disableRipple",J],preserveContent:[2,"preserveContent","preserveContent",J],backgroundColor:"backgroundColor",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"]},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},exportAs:["matTabGroup"],features:[Ue([{provide:oz,useExisting:t}])],ngContentSelectors:YE,decls:9,vars:8,consts:[["tabHeader",""],["tabBodyWrapper",""],["tabNode",""],[3,"indexFocused","selectFocusedIndex","selectedIndex","disableRipple","disablePagination","aria-label","aria-labelledby"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-focus-indicator",3,"id","mdc-tab--active","class","disabled","fitInkBarToContent"],[1,"mat-mdc-tab-body-wrapper"],["role","tabpanel",3,"id","class","content","position","animationDuration","preserveContent"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-focus-indicator",3,"click","cdkFocusChange","id","disabled","fitInkBarToContent"],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"_onCentered","_onCentering","_beforeCentering","id","content","position","animationDuration","preserveContent"]],template:function(n,r){if(n&1){let a=Rt();ut(),M(0,"mat-tab-header",3,0),Q("indexFocused",function(s){return ye(a),ve(r._focusChanged(s))})("selectFocusedIndex",function(s){return ye(a),ve(r.selectedIndex=s)}),Ul(2,cie,8,17,"div",4,ZS),I(),ae(4,die,1,0),M(5,"div",5,1),Ul(7,uie,1,10,"mat-tab-body",6,ZS),I()}n&2&&(W("selectedIndex",r.selectedIndex||0)("disableRipple",r.disableRipple)("disablePagination",r.disablePagination)("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledby),T(2),Hl(r._tabs),T(2),At(r._isServer?4:-1),T(),de("_mat-animation-noopable",r._animationsDisabled()),T(2),Hl(r._tabs))},dependencies:[_ie,sz,ob,ms,Ta,WE],styles:[`.mdc-tab{min-width:90px;padding:0 24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;z-index:1}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab--active .mdc-tab__text-label{transition-delay:100ms}._mat-animation-noopable .mdc-tab__text-label{transition:none}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transition:var(--mat-tab-animation-duration, 250ms) transform cubic-bezier(0.4, 0, 0.2, 1);transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}._mat-animation-noopable .mdc-tab-indicator__content,.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mat-mdc-tab-ripple.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;height:var(--mdc-secondary-navigation-tab-container-height, 48px);font-family:var(--mat-tab-header-label-text-font, var(--mat-sys-title-small-font));font-size:var(--mat-tab-header-label-text-size, var(--mat-sys-title-small-size));letter-spacing:var(--mat-tab-header-label-text-tracking, var(--mat-sys-title-small-tracking));line-height:var(--mat-tab-header-label-text-line-height, var(--mat-sys-title-small-line-height));font-weight:var(--mat-tab-header-label-text-weight, var(--mat-sys-title-small-weight))}.mat-mdc-tab.mdc-tab{flex-grow:0}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-color:var(--mdc-tab-indicator-active-indicator-color, var(--mat-sys-primary));border-top-width:var(--mdc-tab-indicator-active-indicator-height, 2px);border-radius:var(--mdc-tab-indicator-active-indicator-shape, 0)}.mat-mdc-tab:hover .mdc-tab__text-label{color:var(--mat-tab-header-inactive-hover-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab:focus .mdc-tab__text-label{color:var(--mat-tab-header-inactive-focus-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-header-active-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-header-active-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-header-active-hover-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-hover-indicator-color, var(--mat-sys-primary))}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-header-active-focus-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-focus-indicator-color, var(--mat-sys-primary))}.mat-mdc-tab.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-header-disabled-ripple-color)}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-inactive-label-text-color, var(--mat-sys-on-surface));display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-header-with-background-background-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-focus-indicator::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-focus-indicator::before{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}
`],encapsulation:2})}return t})(),$E=class{index;tab};var lz=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Se({type:t});static \u0275inj=De({imports:[Qe,Qe]})}return t})();var Cie=new G("MAT_SORT_DEFAULT_OPTIONS"),wp=(()=>{class t{_defaultOptions;_initializedStream=new OS(1);sortables=new Map;_stateChanges=new oe;active;start="asc";get direction(){return this._direction}set direction(e){this._direction=e}_direction="";disableClear;disabled=!1;sortChange=new ie;initialized=this._initializedStream;constructor(e){this._defaultOptions=e}register(e){this.sortables.set(e.id,e)}deregister(e){this.sortables.delete(e.id)}sort(e){this.active!=e.id?(this.active=e.id,this.direction=e.start?e.start:this.start):this.direction=this.getNextSortDirection(e),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(e){if(!e)return"";let n=e?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear,r=wie(e.start||this.start,n),a=r.indexOf(this.direction)+1;return a>=r.length&&(a=0),r[a]}ngOnInit(){this._initializedStream.next()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete(),this._initializedStream.complete()}static \u0275fac=function(n){return new(n||t)(ee(Cie,8))};static \u0275dir=Y({type:t,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{active:[0,"matSortActive","active"],start:[0,"matSortStart","start"],direction:[0,"matSortDirection","direction"],disableClear:[2,"matSortDisableClear","disableClear",J],disabled:[2,"matSortDisabled","disabled",J]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[_t]})}return t})();function wie(t,i){let e=["asc","desc"];return t=="desc"&&e.reverse(),i||e.push(""),e}var qE=(()=>{class t{changes=new oe;static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Die(t){return t||new qE}var Sie={provide:qE,deps:[[new Bn,new pg,qE]],useFactory:Die};var cz=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Se({type:t});static \u0275inj=De({providers:[Sie],imports:[Qe]})}return t})();var dz=()=>["month","valor"];function Mie(t,i){t&1&&(M(0,"th",17),V(1,"M\xEAs"),I())}function Iie(t,i){if(t&1&&(M(0,"td",18),V(1),I()),t&2){let e=i.$implicit;T(),qe(e.month)}}function kie(t,i){t&1&&(M(0,"th",17),V(1,"Valor"),I())}function Aie(t,i){if(t&1&&(M(0,"td",18),V(1),I()),t&2){let e=i.$implicit;T(),qe(e.valor+"\u20AC")}}function Eie(t,i){t&1&&(M(0,"th",17),V(1,"Data de pagamento"),I())}function Tie(t,i){if(t&1&&(M(0,"td",18),V(1),na(2,"date"),I()),t&2){let e=i.$implicit;T(),qe(ra(2,1,e.paymentDate,"longDate"))}}function Rie(t,i){t&1&&re(0,"tr",19)}function Oie(t,i){t&1&&re(0,"tr",20)}function Lie(t,i){if(t&1&&(M(0,"table",9),vn(1,10),ae(2,Mie,2,0,"th",11)(3,Iie,2,1,"td",12),_n(),vn(4,13),ae(5,kie,2,0,"th",11)(6,Aie,2,1,"td",12),_n(),vn(7,14),ae(8,Eie,2,0,"th",11)(9,Tie,3,4,"td",12),_n(),ae(10,Rie,1,0,"tr",15)(11,Oie,1,0,"tr",16),I()),t&2){let e=xe();W("dataSource",e.dataSourcePaid),T(10),W("matHeaderRowDef",e.displayedColumnsPaid),T(),W("matRowDefColumns",e.displayedColumnsPaid)}}function Nie(t,i){t&1&&(M(0,"h2",21),V(1,"Sem quotas pagas."),I())}function Pie(t,i){t&1&&(M(0,"th",17),V(1,"M\xEAs"),I())}function Fie(t,i){if(t&1&&(M(0,"td",18),V(1),I()),t&2){let e=i.$implicit;T(),qe(e.month)}}function Vie(t,i){t&1&&(M(0,"th",17),V(1,"Valor"),I())}function Bie(t,i){if(t&1&&(M(0,"td",18),V(1),I()),t&2){let e=i.$implicit;T(),qe(e.valor+"\u20AC")}}function zie(t,i){t&1&&re(0,"tr",19)}function jie(t,i){t&1&&re(0,"tr",20)}function Uie(t,i){if(t&1&&(M(0,"table",9),vn(1,10),ae(2,Pie,2,0,"th",11)(3,Fie,2,1,"td",12),_n(),vn(4,13),ae(5,Vie,2,0,"th",11)(6,Bie,2,1,"td",12),_n(),ae(7,zie,1,0,"tr",15)(8,jie,1,0,"tr",16),I()),t&2){let e=xe();W("dataSource",e.dataSourceUnpaid),T(7),W("matHeaderRowDef",Lr(3,dz)),T(),W("matRowDefColumns",Lr(4,dz))}}function Hie(t,i){t&1&&(M(0,"h2",21),V(1,"Sem quotas por pagar."),I())}var uz=(()=>{class t{constructor(e,n,r,a,o){this.quotasService=e,this.breakPointObserver=n,this.userService=r,this.authService=a,this.ref=o,this.paidQuotas=[],this.unpaidQuotas=[],this.initials="",this.displayedColumnsPaid=["month","valor","paymentDate"]}ngOnInit(){this.authService.user$.subscribe(e=>{e&&(this.userId=e.uid,this.userService.getUserInfo(this.userId).subscribe(n=>{this.userData=n,this.userData.type=this.userService.getUserTypeByNumber(n.type).tipo,this.initials=this.getInitials(this.userData.name)}),this.breakPointObserver.observe([ql.Small,ql.Handset]).subscribe(n=>{n.matches?this.displayedColumnsPaid=["month","paymentDate"]:this.displayedColumnsPaid=["month","valor","paymentDate"]}),this.quotasService.getUnpaidQuotasForUser(this.userId).subscribe(n=>{for(var r of n){var a=this.quotasService.calculateFineForDate(new Date,r.month),o=r.valor+a;r.valor=o,r.month=this.getMonthStringFromMonthCode(r.month)}this.unpaidQuotas=n,this.dataSourceUnpaid=new rl(this.unpaidQuotas),this.ref.detectChanges()}),this.quotasService.getPaidQuotasForUser(this.userId).subscribe(n=>{for(var r of n){var a=this.quotasService.calculateFineForDate(r.paymentDate,r.month),o=r.valor+a;r.valor=o,r.month=this.getMonthStringFromMonthCode(r.month)}this.paidQuotas=n,this.dataSourcePaid=new rl(this.paidQuotas),this.ref.detectChanges()}))})}getMonthStringFromMonthCode(e){var n=parseInt(e.substring(3)),r=this.quotasService.convertThreeCharacterMonthIntoIndex(e.substring(0,3)),a=new Date(n,r,1),o=a.toLocaleDateString("pt-PT",{month:"long",year:"numeric"}),s=o.charAt(0).toUpperCase()+o.slice(1);return s}getInitials(e){if(!e)return"";var n=e.split(" ");let r="";return n.length>0&&(r+=n[0].charAt(0).toUpperCase()),n.length>1&&(r+=n[n.length-1].charAt(0).toUpperCase()),r}static{this.\u0275fac=function(n){return new(n||t)(ee(Cd),ee(ts),ee(_o),ee(xo),ee(et))}}static{this.\u0275cmp=X({type:t,selectors:[["app-quotas"]],standalone:!1,decls:17,vars:7,consts:[[1,"quotas-container"],[1,"avatar"],[1,"name-container"],[1,"type-container"],[1,"tabs-container"],["label","Pagas"],["mat-table","","matSort","","class","mat-elevation-z8",3,"dataSource",4,"ngIf"],["class","no-quotas-message",4,"ngIf"],["label","Por pagar"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","month"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","valor"],["matColumnDef","paymentDate"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],[1,"no-quotas-message"]],template:function(n,r){n&1&&(M(0,"div",0)(1,"div",1),V(2),I(),M(3,"div",2),V(4),I(),re(5,"br"),M(6,"div",3)(7,"h3"),V(8),I()(),M(9,"div",4)(10,"mat-tab-group")(11,"mat-tab",5),ae(12,Lie,12,3,"table",6)(13,Nie,2,0,"h2",7),I(),M(14,"mat-tab",8),ae(15,Uie,9,5,"table",6)(16,Hie,2,0,"h2",7),I()()()()),n&2&&(T(2),Ht(" ",r.initials," "),T(2),Ht(" ",r.userData==null?null:r.userData.name," "),T(4),qe(r.userData==null?null:r.userData.type),T(4),W("ngIf",(r.dataSourcePaid==null||r.dataSourcePaid.data==null?null:r.dataSourcePaid.data.length)>0),T(),W("ngIf",(r.dataSourcePaid==null||r.dataSourcePaid.data==null?null:r.dataSourcePaid.data.length)===0),T(2),W("ngIf",(r.dataSourceUnpaid==null||r.dataSourceUnpaid.data==null?null:r.dataSourceUnpaid.data.length)>0),T(),W("ngIf",(r.dataSourceUnpaid==null||r.dataSourceUnpaid.data==null?null:r.dataSourceUnpaid.data.length)===0))},dependencies:[Xo,th,Cp,Om,Nm,Bm,Pm,Lm,zm,Fm,Vm,jm,Um,wp,Yl],styles:[".quotas-container[_ngcontent-%COMP%]{max-width:1200px;height:fit-content;box-shadow:0 2px 4px #0000001a;background-color:#fff;border-radius:5px;margin:20px auto;grid-column:2;padding:10px;overflow:hidden}.name-container[_ngcontent-%COMP%]{text-align:center;font-family:var(--font-family);font-weight:600;font-size:x-large}.type-container[_ngcontent-%COMP%]{text-align:center}.no-quotas-message[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.avatar[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100px;height:100px;background-color:#e6e6e9;border-radius:100px;margin:25px auto;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;font-weight:700;font-size:xxx-large;border:5px black solid}@media screen and (max-width: 599px){.quotas-container[_ngcontent-%COMP%]{box-sizing:border-box;margin:20px 15px;width:calc(100% - 30px)}.avatar[_ngcontent-%COMP%]{margin:25px auto}}@media screen and (min-width: 600px) and (max-width: 1400px){.quotas-container[_ngcontent-%COMP%]{margin-left:20px;margin-right:10px;margin-bottom:20px;padding:15px;max-width:100vw}.avatar[_ngcontent-%COMP%]{margin:25px auto}}"]})}}return t})();var hz=k0(),cC=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(i,e){this._viewportRuler=i,this._document=e}attach(){}enable(){if(this._canBeEnabled()){let i=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=i.style.left||"",this._previousHTMLStyles.top=i.style.top||"",i.style.left=Cn(-this._previousScrollPosition.left),i.style.top=Cn(-this._previousScrollPosition.top),i.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let i=this._document.documentElement,e=this._document.body,n=i.style,r=e.style,a=n.scrollBehavior||"",o=r.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,i.classList.remove("cdk-global-scrollblock"),hz&&(n.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),hz&&(n.scrollBehavior=a,r.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let e=this._document.documentElement,n=this._viewportRuler.getViewportSize();return e.scrollHeight>n.height||e.scrollWidth>n.width}};var dC=class{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(i,e,n,r){this._scrollDispatcher=i,this._ngZone=e,this._viewportRuler=n,this._config=r}attach(i){this._overlayRef,this._overlayRef=i}enable(){if(this._scrollSubscription)return;let i=this._scrollDispatcher.scrolled(0).pipe(kt(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=i.subscribe(()=>{let e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=i.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}},ry=class{enable(){}disable(){}attach(){}};function QE(t,i){return i.some(e=>{let n=t.bottom<e.top,r=t.top>e.bottom,a=t.right<e.left,o=t.left>e.right;return n||r||a||o})}function mz(t,i){return i.some(e=>{let n=t.top<e.top,r=t.bottom>e.bottom,a=t.left<e.left,o=t.right>e.right;return n||r||a||o})}var uC=class{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(i,e,n,r){this._scrollDispatcher=i,this._viewportRuler=e,this._ngZone=n,this._config=r}attach(i){this._overlayRef,this._overlayRef=i}enable(){if(!this._scrollSubscription){let i=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(i).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:n,height:r}=this._viewportRuler.getViewportSize();QE(e,[{width:n,height:r,bottom:r,right:n,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},vz=(()=>{class t{_scrollDispatcher=_(uI);_viewportRuler=_(Zl);_ngZone=_(Ce);_document=_(He);constructor(){}noop=()=>new ry;close=e=>new dC(this._scrollDispatcher,this._ngZone,this._viewportRuler,e);block=()=>new cC(this._viewportRuler,this._document);reposition=e=>new uC(this._scrollDispatcher,this._viewportRuler,this._ngZone,e);static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ps=class{positionStrategy;scrollStrategy=new ry;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;constructor(i){if(i){let e=Object.keys(i);for(let n of e)i[n]!==void 0&&(this[n]=i[n])}}};var hC=class{connectionPair;scrollableViewProperties;constructor(i,e){this.connectionPair=i,this.scrollableViewProperties=e}};var _z=(()=>{class t{_attachedOverlays=[];_document=_(He);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){let n=this._attachedOverlays.indexOf(e);n>-1&&this._attachedOverlays.splice(n,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),xz=(()=>{class t extends _z{_ngZone=_(Ce);_renderer=_(gr).createRenderer(null,null);_cleanupKeydown;add(e){super.add(e),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=e=>{let n=this._attachedOverlays;for(let r=n.length-1;r>-1;r--)if(n[r]._keydownEvents.observers.length>0){this._ngZone.run(()=>n[r]._keydownEvents.next(e));break}};static \u0275fac=(()=>{let e;return function(r){return(e||(e=Dt(t)))(r||t)}})();static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Cz=(()=>{class t extends _z{_platform=_(Ft);_ngZone=_(Ce);_renderer=_(gr).createRenderer(null,null);_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;_cleanups;add(e){if(super.add(e),!this._isAttached){let n=this._document.body,r={capture:!0};this._cleanups=this._ngZone.runOutsideAngular(()=>[Li(this._renderer,n,"pointerdown",this._pointerDownListener,r),Li(this._renderer,n,"click",this._clickListener,r),Li(this._renderer,n,"auxclick",this._clickListener,r),Li(this._renderer,n,"contextmenu",this._clickListener,r)]),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=n.style.cursor,n.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){this._isAttached&&(this._cleanups?.forEach(e=>e()),this._cleanups=void 0,this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}_pointerDownListener=e=>{this._pointerDownEventTarget=yr(e)};_clickListener=e=>{let n=yr(e),r=e.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:n;this._pointerDownEventTarget=null;let a=this._attachedOverlays.slice();for(let o=a.length-1;o>-1;o--){let s=a[o];if(s._outsidePointerEvents.observers.length<1||!s.hasAttached())continue;if(pz(s.overlayElement,n)||pz(s.overlayElement,r))break;let l=s._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>l.next(e)):l.next(e)}};static \u0275fac=(()=>{let e;return function(r){return(e||(e=Dt(t)))(r||t)}})();static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function pz(t,i){let e=typeof ShadowRoot<"u"&&ShadowRoot,n=i;for(;n;){if(n===t)return!0;n=e&&n instanceof ShadowRoot?n.host:n.parentNode}return!1}var wz=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=X({type:t,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(n,r){},styles:[`.cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0;touch-action:manipulation}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}@media(prefers-reduced-motion){.cdk-overlay-backdrop{transition-duration:1ms}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}
`],encapsulation:2,changeDetection:0})}return t})(),pC=(()=>{class t{_platform=_(Ft);_containerElement;_document=_(He);_styleLoader=_(hi);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e="cdk-overlay-container";if(this._platform.isBrowser||VE()){let r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let a=0;a<r.length;a++)r[a].remove()}let n=this._document.createElement("div");n.classList.add(e),VE()?n.setAttribute("platform","test"):this._platform.isBrowser||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}_loadStyles(){this._styleLoader.load(wz)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),XE=class{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(i,e,n,r){this._renderer=e,this._ngZone=n,this.element=i.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=e.listen(this.element,"click",r)}detach(){this._ngZone.runOutsideAngular(()=>{let i=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(i,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),i.style.pointerEvents="none",i.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}},nh=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new oe;_attachments=new oe;_detachments=new oe;_positionStrategy;_scrollStrategy;_locationChanges=xt.EMPTY;_backdropRef=null;_previousHostParent;_keydownEvents=new oe;_outsidePointerEvents=new oe;_renders=new oe;_afterRenderRef;_afterNextRenderRef;constructor(i,e,n,r,a,o,s,l,c,d=!1,u,h){this._portalOutlet=i,this._host=e,this._pane=n,this._config=r,this._ngZone=a,this._keyboardDispatcher=o,this._document=s,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=d,this._injector=u,this._renderer=h,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy,this._afterRenderRef=br(()=>v_(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(i){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let e=this._portalOutlet.attach(i);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=qi(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof e?.onDestroy=="function"&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let i=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),i}dispose(){let i=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,i&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(i){i!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=i,this.hasAttached()&&(i.attach(this),this.updatePosition()))}updateSize(i){this._config=f(f({},this._config),i),this._updateElementSize()}setDirection(i){this._config=S(f({},this._config),{direction:i}),this._updateElementDirection()}addPanelClass(i){this._pane&&this._toggleClasses(this._pane,i,!0)}removePanelClass(i){this._pane&&this._toggleClasses(this._pane,i,!1)}getDirection(){let i=this._config.direction;return i?typeof i=="string"?i:i.value:"ltr"}updateScrollStrategy(i){i!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=i,this.hasAttached()&&(i.attach(this),i.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let i=this._pane.style;i.width=Cn(this._config.width),i.height=Cn(this._config.height),i.minWidth=Cn(this._config.minWidth),i.minHeight=Cn(this._config.minHeight),i.maxWidth=Cn(this._config.maxWidth),i.maxHeight=Cn(this._config.maxHeight)}_togglePointerEvents(i){this._pane.style.pointerEvents=i?"":"none"}_attachBackdrop(){let i="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new XE(this._document,this._renderer,this._ngZone,e=>{this._backdropClick.next(e)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(i))}):this._backdropRef.element.classList.add(i)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(i,e,n){let r=Mm(e||[]).filter(a=>!!a);r.length&&(n?i.classList.add(...r):i.classList.remove(...r))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let i=this._renders.pipe(di(ri(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),i.unsubscribe())})})}_disposeScrollStrategy(){let i=this._scrollStrategy;i?.disable(),i?.detach?.()}},fz="cdk-overlay-connected-position-bounding-box",Gie=/([A-Za-z%]+)$/,Dp=class{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new oe;_resizeSubscription=xt.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(i,e,n,r,a){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=a,this.setOrigin(i)}attach(i){this._overlayRef&&this._overlayRef,this._validatePositions(),i.hostElement.classList.add(fz),this._overlayRef=i,this._boundingBox=i.hostElement,this._pane=i.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let i=this._originRect,e=this._overlayRect,n=this._viewportRect,r=this._containerRect,a=[],o;for(let s of this._preferredPositions){let l=this._getOriginPoint(i,r,s),c=this._getOverlayPoint(l,e,s),d=this._getOverlayFit(c,e,n,s);if(d.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(s,l);return}if(this._canFitWithFlexibleDimensions(d,c,n)){a.push({position:s,origin:l,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(l,s)});continue}(!o||o.overlayFit.visibleArea<d.visibleArea)&&(o={overlayFit:d,overlayPoint:c,originPoint:l,position:s,overlayRect:e})}if(a.length){let s=null,l=-1;for(let c of a){let d=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);d>l&&(l=d,s=c)}this._isPushed=!1,this._applyPosition(s.position,s.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(o.position,o.originPoint);return}this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&ih(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(fz),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let i=this._lastPosition;if(i){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._getOriginPoint(this._originRect,this._containerRect,i);this._applyPosition(i,e)}else this.apply()}withScrollableContainers(i){return this._scrollables=i,this}withPositions(i){return this._preferredPositions=i,i.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(i){return this._viewportMargin=i,this}withFlexibleDimensions(i=!0){return this._hasFlexibleDimensions=i,this}withGrowAfterOpen(i=!0){return this._growAfterOpen=i,this}withPush(i=!0){return this._canPush=i,this}withLockedPosition(i=!0){return this._positionLocked=i,this}setOrigin(i){return this._origin=i,this}withDefaultOffsetX(i){return this._offsetX=i,this}withDefaultOffsetY(i){return this._offsetY=i,this}withTransformOriginOn(i){return this._transformOriginSelector=i,this}_getOriginPoint(i,e,n){let r;if(n.originX=="center")r=i.left+i.width/2;else{let o=this._isRtl()?i.right:i.left,s=this._isRtl()?i.left:i.right;r=n.originX=="start"?o:s}e.left<0&&(r-=e.left);let a;return n.originY=="center"?a=i.top+i.height/2:a=n.originY=="top"?i.top:i.bottom,e.top<0&&(a-=e.top),{x:r,y:a}}_getOverlayPoint(i,e,n){let r;n.overlayX=="center"?r=-e.width/2:n.overlayX==="start"?r=this._isRtl()?-e.width:0:r=this._isRtl()?0:-e.width;let a;return n.overlayY=="center"?a=-e.height/2:a=n.overlayY=="top"?0:-e.height,{x:i.x+r,y:i.y+a}}_getOverlayFit(i,e,n,r){let a=bz(e),{x:o,y:s}=i,l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(o+=l),c&&(s+=c);let d=0-o,u=o+a.width-n.width,h=0-s,m=s+a.height-n.height,p=this._subtractOverflows(a.width,d,u),g=this._subtractOverflows(a.height,h,m),y=p*g;return{visibleArea:y,isCompletelyWithinViewport:a.width*a.height===y,fitsInViewportVertically:g===a.height,fitsInViewportHorizontally:p==a.width}}_canFitWithFlexibleDimensions(i,e,n){if(this._hasFlexibleDimensions){let r=n.bottom-e.y,a=n.right-e.x,o=gz(this._overlayRef.getConfig().minHeight),s=gz(this._overlayRef.getConfig().minWidth),l=i.fitsInViewportVertically||o!=null&&o<=r,c=i.fitsInViewportHorizontally||s!=null&&s<=a;return l&&c}return!1}_pushOverlayOnScreen(i,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:i.x+this._previousPushAmount.x,y:i.y+this._previousPushAmount.y};let r=bz(e),a=this._viewportRect,o=Math.max(i.x+r.width-a.width,0),s=Math.max(i.y+r.height-a.height,0),l=Math.max(a.top-n.top-i.y,0),c=Math.max(a.left-n.left-i.x,0),d=0,u=0;return r.width<=a.width?d=c||-o:d=i.x<this._viewportMargin?a.left-n.left-i.x:0,r.height<=a.height?u=l||-s:u=i.y<this._viewportMargin?a.top-n.top-i.y:0,this._previousPushAmount={x:d,y:u},{x:i.x+d,y:i.y+u}}_applyPosition(i,e){if(this._setTransformOrigin(i),this._setOverlayElementStyles(e,i),this._setBoundingBoxStyles(e,i),i.panelClass&&this._addPanelClasses(i.panelClass),this._positionChanges.observers.length){let n=this._getScrollVisibility();if(i!==this._lastPosition||!this._lastScrollVisibility||!Wie(this._lastScrollVisibility,n)){let r=new hC(i,n);this._positionChanges.next(r)}this._lastScrollVisibility=n}this._lastPosition=i,this._isInitialRender=!1}_setTransformOrigin(i){if(!this._transformOriginSelector)return;let e=this._boundingBox.querySelectorAll(this._transformOriginSelector),n,r=i.overlayY;i.overlayX==="center"?n="center":this._isRtl()?n=i.overlayX==="start"?"right":"left":n=i.overlayX==="start"?"left":"right";for(let a=0;a<e.length;a++)e[a].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(i,e){let n=this._viewportRect,r=this._isRtl(),a,o,s;if(e.overlayY==="top")o=i.y,a=n.height-o+this._viewportMargin;else if(e.overlayY==="bottom")s=n.height-i.y+this._viewportMargin*2,a=n.height-s+this._viewportMargin;else{let m=Math.min(n.bottom-i.y+n.top,i.y),p=this._lastBoundingBoxSize.height;a=m*2,o=i.y-m,a>p&&!this._isInitialRender&&!this._growAfterOpen&&(o=i.y-p/2)}let l=e.overlayX==="start"&&!r||e.overlayX==="end"&&r,c=e.overlayX==="end"&&!r||e.overlayX==="start"&&r,d,u,h;if(c)h=n.width-i.x+this._viewportMargin*2,d=i.x-this._viewportMargin;else if(l)u=i.x,d=n.right-i.x;else{let m=Math.min(n.right-i.x+n.left,i.x),p=this._lastBoundingBoxSize.width;d=m*2,u=i.x-m,d>p&&!this._isInitialRender&&!this._growAfterOpen&&(u=i.x-p/2)}return{top:o,left:u,bottom:s,right:h,width:d,height:a}}_setBoundingBoxStyles(i,e){let n=this._calculateBoundingBoxRect(i,e);!this._isInitialRender&&!this._growAfterOpen&&(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));let r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{let a=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;r.height=Cn(n.height),r.top=Cn(n.top),r.bottom=Cn(n.bottom),r.width=Cn(n.width),r.left=Cn(n.left),r.right=Cn(n.right),e.overlayX==="center"?r.alignItems="center":r.alignItems=e.overlayX==="end"?"flex-end":"flex-start",e.overlayY==="center"?r.justifyContent="center":r.justifyContent=e.overlayY==="bottom"?"flex-end":"flex-start",a&&(r.maxHeight=Cn(a)),o&&(r.maxWidth=Cn(o))}this._lastBoundingBoxSize=n,ih(this._boundingBox.style,r)}_resetBoundingBoxStyles(){ih(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){ih(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(i,e){let n={},r=this._hasExactPosition(),a=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(r){let d=this._viewportRuler.getViewportScrollPosition();ih(n,this._getExactOverlayY(e,i,d)),ih(n,this._getExactOverlayX(e,i,d))}else n.position="static";let s="",l=this._getOffset(e,"x"),c=this._getOffset(e,"y");l&&(s+=`translateX(${l}px) `),c&&(s+=`translateY(${c}px)`),n.transform=s.trim(),o.maxHeight&&(r?n.maxHeight=Cn(o.maxHeight):a&&(n.maxHeight="")),o.maxWidth&&(r?n.maxWidth=Cn(o.maxWidth):a&&(n.maxWidth="")),ih(this._pane.style,n)}_getExactOverlayY(i,e,n){let r={top:"",bottom:""},a=this._getOverlayPoint(e,this._overlayRect,i);if(this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,n)),i.overlayY==="bottom"){let o=this._document.documentElement.clientHeight;r.bottom=`${o-(a.y+this._overlayRect.height)}px`}else r.top=Cn(a.y);return r}_getExactOverlayX(i,e,n){let r={left:"",right:""},a=this._getOverlayPoint(e,this._overlayRect,i);this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,n));let o;if(this._isRtl()?o=i.overlayX==="end"?"left":"right":o=i.overlayX==="end"?"right":"left",o==="right"){let s=this._document.documentElement.clientWidth;r.right=`${s-(a.x+this._overlayRect.width)}px`}else r.left=Cn(a.x);return r}_getScrollVisibility(){let i=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:mz(i,n),isOriginOutsideView:QE(i,n),isOverlayClipped:mz(e,n),isOverlayOutsideView:QE(e,n)}}_subtractOverflows(i,...e){return e.reduce((n,r)=>n-Math.max(r,0),i)}_getNarrowedViewportRect(){let i=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+i-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:i-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(i,e){return e==="x"?i.offsetX==null?this._offsetX:i.offsetX:i.offsetY==null?this._offsetY:i.offsetY}_validatePositions(){}_addPanelClasses(i){this._pane&&Mm(i).forEach(e=>{e!==""&&this._appliedPanelClasses.indexOf(e)===-1&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(i=>{this._pane.classList.remove(i)}),this._appliedPanelClasses=[])}_getOriginRect(){let i=this._origin;if(i instanceof me)return i.nativeElement.getBoundingClientRect();if(i instanceof Element)return i.getBoundingClientRect();let e=i.width||0,n=i.height||0;return{top:i.y,bottom:i.y+n,left:i.x,right:i.x+e,height:n,width:e}}};function ih(t,i){for(let e in i)i.hasOwnProperty(e)&&(t[e]=i[e]);return t}function gz(t){if(typeof t!="number"&&t!=null){let[i,e]=t.split(Gie);return!e||e==="px"?parseFloat(i):null}return t||null}function bz(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}function Wie(t,i){return t===i?!0:t.isOriginClipped===i.isOriginClipped&&t.isOriginOutsideView===i.isOriginOutsideView&&t.isOverlayClipped===i.isOverlayClipped&&t.isOverlayOutsideView===i.isOverlayOutsideView}var yz="cdk-global-overlay-wrapper",mC=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(i){let e=i.getConfig();this._overlayRef=i,this._width&&!e.width&&i.updateSize({width:this._width}),this._height&&!e.height&&i.updateSize({height:this._height}),i.hostElement.classList.add(yz),this._isDisposed=!1}top(i=""){return this._bottomOffset="",this._topOffset=i,this._alignItems="flex-start",this}left(i=""){return this._xOffset=i,this._xPosition="left",this}bottom(i=""){return this._topOffset="",this._bottomOffset=i,this._alignItems="flex-end",this}right(i=""){return this._xOffset=i,this._xPosition="right",this}start(i=""){return this._xOffset=i,this._xPosition="start",this}end(i=""){return this._xOffset=i,this._xPosition="end",this}width(i=""){return this._overlayRef?this._overlayRef.updateSize({width:i}):this._width=i,this}height(i=""){return this._overlayRef?this._overlayRef.updateSize({height:i}):this._height=i,this}centerHorizontally(i=""){return this.left(i),this._xPosition="center",this}centerVertically(i=""){return this.top(i),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let i=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:a,maxWidth:o,maxHeight:s}=n,l=(r==="100%"||r==="100vw")&&(!o||o==="100%"||o==="100vw"),c=(a==="100%"||a==="100vh")&&(!s||s==="100%"||s==="100vh"),d=this._xPosition,u=this._xOffset,h=this._overlayRef.getConfig().direction==="rtl",m="",p="",g="";l?g="flex-start":d==="center"?(g="center",h?p=u:m=u):h?d==="left"||d==="end"?(g="flex-end",m=u):(d==="right"||d==="start")&&(g="flex-start",p=u):d==="left"||d==="start"?(g="flex-start",m=u):(d==="right"||d==="end")&&(g="flex-end",p=u),i.position=this._cssPosition,i.marginLeft=l?"0":m,i.marginTop=c?"0":this._topOffset,i.marginBottom=this._bottomOffset,i.marginRight=l?"0":p,e.justifyContent=g,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let i=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(yz),n.justifyContent=n.alignItems=i.marginTop=i.marginBottom=i.marginLeft=i.marginRight=i.position="",this._overlayRef=null,this._isDisposed=!0}},Dz=(()=>{class t{_viewportRuler=_(Zl);_document=_(He);_platform=_(Ft);_overlayContainer=_(pC);constructor(){}global(){return new mC}flexibleConnectedTo(e){return new Dp(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Hi=(()=>{class t{scrollStrategies=_(vz);_overlayContainer=_(pC);_positionBuilder=_(Dz);_keyboardDispatcher=_(xz);_injector=_(Ye);_ngZone=_(Ce);_document=_(He);_directionality=_(Oi);_location=_(Ys);_outsideClickDispatcher=_(Cz);_animationsModuleType=_(Ut,{optional:!0});_idGenerator=_(Kt);_renderer=_(gr).createRenderer(null,null);_appRef;_styleLoader=_(hi);constructor(){}create(e){this._styleLoader.load(wz);let n=this._createHostElement(),r=this._createPaneElement(n),a=this._createPortalOutlet(r),o=new ps(e);return o.direction=o.direction||this._directionality.value,new nh(a,n,r,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(ta),this._renderer)}position(){return this._positionBuilder}_createPaneElement(e){let n=this._document.createElement("div");return n.id=this._idGenerator.getId("cdk-overlay-"),n.classList.add("cdk-overlay-pane"),e.appendChild(n),n}_createHostElement(){let e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(Yo)),new Ju(e,null,this._appRef,this._injector,this._document)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),$ie=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Sz=new G("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let t=_(Hi);return()=>t.scrollStrategies.reposition()}}),Sp=(()=>{class t{elementRef=_(me);constructor(){}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]})}return t})(),fC=(()=>{class t{_overlay=_(Hi);_dir=_(Oi,{optional:!0});_overlayRef;_templatePortal;_backdropSubscription=xt.EMPTY;_attachSubscription=xt.EMPTY;_detachSubscription=xt.EMPTY;_positionSubscription=xt.EMPTY;_offsetX;_offsetY;_position;_scrollStrategyFactory=_(Sz);_disposeOnNavigation=!1;_ngZone=_(Ce);origin;positions;positionStrategy;get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}width;height;minWidth;minHeight;backdropClass;panelClass;viewportMargin=0;scrollStrategy;open=!1;disableClose=!1;transformOriginSelector;hasBackdrop=!1;lockPosition=!1;flexibleDimensions=!1;growAfterOpen=!1;push=!1;get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(e){this._disposeOnNavigation=e}backdropClick=new ie;positionChange=new ie;attach=new ie;detach=new ie;overlayKeydown=new ie;overlayOutsideClick=new ie;constructor(){let e=_(vi),n=_(_i);this._templatePortal=new Wn(e,n),this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef?.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef?.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this.attachOverlay():this.detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=$ie);let e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(n=>{this.overlayKeydown.next(n),n.keyCode===27&&!this.disableClose&&!pi(n)&&(n.preventDefault(),this.detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(n=>{let r=this._getOriginElement(),a=yr(n);(!r||r!==a&&!r.contains(a))&&this.overlayOutsideClick.next(n)})}_buildConfig(){let e=this._position=this.positionStrategy||this._createPositionStrategy(),n=new ps({direction:this._dir||"ltr",positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||this.width===0)&&(n.width=this.width),(this.height||this.height===0)&&(n.height=this.height),(this.minWidth||this.minWidth===0)&&(n.minWidth=this.minWidth),(this.minHeight||this.minHeight===0)&&(n.minHeight=this.minHeight),this.backdropClass&&(n.backdropClass=this.backdropClass),this.panelClass&&(n.panelClass=this.panelClass),n}_updatePositionStrategy(e){let n=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getOrigin()).withPositions(n).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){let e=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(e),e}_getOrigin(){return this.origin instanceof Sp?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof Sp?this.origin.elementRef.nativeElement:this.origin instanceof me?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(WL(()=>this.positionChange.observers.length>0)).subscribe(e=>{this._ngZone.run(()=>this.positionChange.emit(e)),this.positionChange.observers.length===0&&this._positionSubscription.unsubscribe()})),this.open=!0}detachOverlay(){this._overlayRef?.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.open=!1}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",J],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",J],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",J],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",J],push:[2,"cdkConnectedOverlayPush","push",J],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",J]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[_t]})}return t})();function Yie(t){return()=>t.scrollStrategies.reposition()}var Kie={provide:Sz,deps:[Hi],useFactory:Yie},fs=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Se({type:t});static \u0275inj=De({providers:[Hi,Kie],imports:[nd,Co,tb,tb]})}return t})();function qie(t,i){}var wd=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;width="";height="";minWidth;minHeight;maxWidth;maxHeight;positionStrategy;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;scrollStrategy;closeOnNavigation=!0;closeOnDestroy=!0;closeOnOverlayDetachments=!0;componentFactoryResolver;providers;container;templateContext};var eT=(()=>{class t extends Xu{_elementRef=_(me);_focusTrapFactory=_(j0);_config;_interactivityChecker=_(kI);_ngZone=_(Ce);_overlayRef=_(nh);_focusMonitor=_(Ia);_renderer=_(Yt);_changeDetectorRef=_(et);_injector=_(Ye);_platform=_(Ft);_document=_(He,{optional:!0});_portalOutlet;_focusTrapped=new oe;_focusTrap=null;_elementFocusedBeforeDialogWasOpened=null;_closeInteractionType=null;_ariaLabelledByQueue=[];_isDestroyed=!1;constructor(){super(),this._config=_(wd,{optional:!0})||new wd,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(e){this._ariaLabelledByQueue.push(e),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(e){let n=this._ariaLabelledByQueue.indexOf(e);n>-1&&(this._ariaLabelledByQueue.splice(n,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._focusTrapped.complete(),this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();let n=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),n}attachTemplatePortal(e){this._portalOutlet.hasAttached();let n=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),n}attachDomPortal=e=>{this._portalOutlet.hasAttached();let n=this._portalOutlet.attachDomPortal(e);return this._contentAttached(),n};_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,n){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let r=()=>{a(),o(),e.removeAttribute("tabindex")},a=this._renderer.listen(e,"blur",r),o=this._renderer.listen(e,"mousedown",r)})),e.focus(n)}_focusByCssSelector(e,n){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,n)}_trapFocus(e){this._isDestroyed||qi(()=>{let n=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||n.focus(e);break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement(e)||this._focusDialogContainer(e);break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]',e);break;default:this._focusByCssSelector(this._config.autoFocus,e);break}this._focusTrapped.next()},{injector:this._injector})}_restoreFocus(){let e=this._config.restoreFocus,n=null;if(typeof e=="string"?n=this._document.querySelector(e):typeof e=="boolean"?n=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(n=e),this._config.restoreFocus&&n&&typeof n.focus=="function"){let r=Za(),a=this._elementRef.nativeElement;(!r||r===this._document.body||r===a||a.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(n,this._closeInteractionType),this._closeInteractionType=null):n.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(e){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus(e)}_containsFocus(){let e=this._elementRef.nativeElement,n=Za();return e===n||e.contains(n)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Za()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=X({type:t,selectors:[["cdk-dialog-container"]],viewQuery:function(n,r){if(n&1&&Ke(Ta,7),n&2){let a;pe(a=fe())&&(r._portalOutlet=a.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(n,r){n&2&&Ee("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},features:[Ve],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(n,r){n&1&&ae(0,qie,0,0,"ng-template",0)},dependencies:[Ta],styles:[`.cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}
`],encapsulation:2})}return t})(),ay=class{overlayRef;config;componentInstance;componentRef;containerInstance;disableClose;closed=new oe;backdropClick;keydownEvents;outsidePointerEvents;id;_detachSubscription;constructor(i,e){this.overlayRef=i,this.config=e,this.disableClose=e.disableClose,this.backdropClick=i.backdropClick(),this.keydownEvents=i.keydownEvents(),this.outsidePointerEvents=i.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(n=>{n.keyCode===27&&!this.disableClose&&!pi(n)&&(n.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=i.detachments().subscribe(()=>{e.closeOnOverlayDetachments!==!1&&this.close()})}close(i,e){if(this.containerInstance){let n=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),n.next(i),n.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(i="",e=""){return this.overlayRef.updateSize({width:i,height:e}),this}addPanelClass(i){return this.overlayRef.addPanelClass(i),this}removePanelClass(i){return this.overlayRef.removePanelClass(i),this}},Zie=new G("DialogScrollStrategy",{providedIn:"root",factory:()=>{let t=_(Hi);return()=>t.scrollStrategies.block()}}),Qie=new G("DialogData"),Xie=new G("DefaultDialogConfig");var tT=(()=>{class t{_overlay=_(Hi);_injector=_(Ye);_defaultOptions=_(Xie,{optional:!0});_parentDialog=_(t,{optional:!0,skipSelf:!0});_overlayContainer=_(pC);_idGenerator=_(Kt);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new oe;_afterOpenedAtThisLevel=new oe;_ariaHiddenElements=new Map;_scrollStrategy=_(Zie);get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}afterAllClosed=po(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(yi(void 0)));constructor(){}open(e,n){let r=this._defaultOptions||new wd;n=f(f({},r),n),n.id=n.id||this._idGenerator.getId("cdk-dialog-"),n.id&&this.getDialogById(n.id);let a=this._getOverlayConfig(n),o=this._overlay.create(a),s=new ay(o,n),l=this._attachContainer(o,s,n);if(s.containerInstance=l,!this.openDialogs.length){let c=this._overlayContainer.getContainerElement();l._focusTrapped?l._focusTrapped.pipe(Yi(1)).subscribe(()=>{this._hideNonDialogContentFromAssistiveTechnology(c)}):this._hideNonDialogContentFromAssistiveTechnology(c)}return this._attachDialogContent(e,s,l,n),this.openDialogs.push(s),s.closed.subscribe(()=>this._removeOpenDialog(s,!0)),this.afterOpened.next(s),s}closeAll(){JE(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(n=>n.id===e)}ngOnDestroy(){JE(this._openDialogsAtThisLevel,e=>{e.config.closeOnDestroy===!1&&this._removeOpenDialog(e,!1)}),JE(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){let n=new ps({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(n.backdropClass=e.backdropClass),n}_attachContainer(e,n,r){let a=r.injector||r.viewContainerRef?.injector,o=[{provide:wd,useValue:r},{provide:ay,useValue:n},{provide:nh,useValue:e}],s;r.container?typeof r.container=="function"?s=r.container:(s=r.container.type,o.push(...r.container.providers(r))):s=eT;let l=new fl(s,r.viewContainerRef,Ye.create({parent:a||this._injector,providers:o}));return e.attach(l).instance}_attachDialogContent(e,n,r,a){if(e instanceof vi){let o=this._createInjector(a,n,r,void 0),s={$implicit:a.data,dialogRef:n};a.templateContext&&(s=f(f({},s),typeof a.templateContext=="function"?a.templateContext():a.templateContext)),r.attachTemplatePortal(new Wn(e,null,s,o))}else{let o=this._createInjector(a,n,r,this._injector),s=r.attachComponentPortal(new fl(e,a.viewContainerRef,o));n.componentRef=s,n.componentInstance=s.instance}}_createInjector(e,n,r,a){let o=e.injector||e.viewContainerRef?.injector,s=[{provide:Qie,useValue:e.data},{provide:ay,useValue:n}];return e.providers&&(typeof e.providers=="function"?s.push(...e.providers(n,e,r)):s.push(...e.providers)),e.direction&&(!o||!o.get(Oi,null,{optional:!0}))&&s.push({provide:Oi,useValue:{value:e.direction,change:ke()}}),Ye.create({parent:o||a,providers:s})}_removeOpenDialog(e,n){let r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((a,o)=>{a?o.setAttribute("aria-hidden",a):o.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),n&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(e){if(e.parentElement){let n=e.parentElement.children;for(let r=n.length-1;r>-1;r--){let a=n[r];a!==e&&a.nodeName!=="SCRIPT"&&a.nodeName!=="STYLE"&&!a.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(a,a.getAttribute("aria-hidden")),a.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function JE(t,i){let e=t.length;for(;e--;)i(t[e])}var Mz=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Se({type:t});static \u0275inj=De({providers:[tT],imports:[fs,Co,sb,Co]})}return t})();function Jie(t,i){}var sy=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;width="";height="";minWidth;minHeight;maxWidth;maxHeight;position;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;delayFocusTrap=!0;scrollStrategy;closeOnNavigation=!0;componentFactoryResolver;enterAnimationDuration;exitAnimationDuration},iT="mdc-dialog--open",Iz="mdc-dialog--opening",kz="mdc-dialog--closing",ene=150,tne=75,Tz=(()=>{class t extends eT{_animationMode=_(Ut,{optional:!0});_animationStateChanged=new ie;_animationsEnabled=this._animationMode!=="NoopAnimations";_actionSectionCount=0;_hostElement=this._elementRef.nativeElement;_enterAnimationDuration=this._animationsEnabled?Ez(this._config.enterAnimationDuration)??ene:0;_exitAnimationDuration=this._animationsEnabled?Ez(this._config.exitAnimationDuration)??tne:0;_animationTimer=null;_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(Az,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Iz,iT)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(iT),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(iT),this._animationsEnabled?(this._hostElement.style.setProperty(Az,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(kz)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(e){this._actionSectionCount+=e,this._changeDetectorRef.markForCheck()}_finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)};_finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})};_clearAnimationClasses(){this._hostElement.classList.remove(Iz,kz)}_waitForAnimationToComplete(e,n){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(n,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(e):e()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(e){let n=super.attachComponentPortal(e);return n.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),n}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Dt(t)))(r||t)}})();static \u0275cmp=X({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(n,r){n&2&&(Ca("id",r._config.id),Ee("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),de("_mat-animation-noopable",!r._animationsEnabled)("mat-mdc-dialog-container-with-actions",r._actionSectionCount>0))},features:[Ve],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(n,r){n&1&&(M(0,"div",0)(1,"div",1),ae(2,Jie,0,0,"ng-template",2),I()())},dependencies:[Ta],styles:[`.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 560px);min-width:var(--mat-dialog-container-min-width, 280px)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, calc(100vw - 32px))}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, none);border-radius:var(--mdc-dialog-container-shape, var(--mat-sys-corner-extra-large, 4px));background-color:var(--mdc-dialog-container-color, var(--mat-sys-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 6px 24px 13px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mdc-dialog-subhead-font, var(--mat-sys-headline-small-font, inherit));line-height:var(--mdc-dialog-subhead-line-height, var(--mat-sys-headline-small-line-height, 1.5rem));font-size:var(--mdc-dialog-subhead-size, var(--mat-sys-headline-small-size, 1rem));font-weight:var(--mdc-dialog-subhead-weight, var(--mat-sys-headline-small-weight, 400));letter-spacing:var(--mdc-dialog-subhead-tracking, var(--mat-sys-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, var(--mat-sys-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mdc-dialog-supporting-text-font, var(--mat-sys-body-medium-font, inherit));line-height:var(--mdc-dialog-supporting-text-line-height, var(--mat-sys-body-medium-line-height, 1.5rem));font-size:var(--mdc-dialog-supporting-text-size, var(--mat-sys-body-medium-size, 1rem));font-weight:var(--mdc-dialog-supporting-text-weight, var(--mat-sys-body-medium-weight, 400));letter-spacing:var(--mdc-dialog-supporting-text-tracking, var(--mat-sys-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px 0)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 16px 24px);justify-content:var(--mat-dialog-actions-alignment, flex-end)}@media(forced-colors: active){.mat-mdc-dialog-actions{border-top-color:CanvasText}}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}
`],encapsulation:2})}return t})(),Az="--mat-dialog-transition-duration";function Ez(t){return t==null?null:typeof t=="number"?t:t.endsWith("ms")?el(t.substring(0,t.length-2)):t.endsWith("s")?el(t.substring(0,t.length-1))*1e3:t==="0"?0:null}var oy=function(t){return t[t.OPEN=0]="OPEN",t[t.CLOSING=1]="CLOSING",t[t.CLOSED=2]="CLOSED",t}(oy||{}),Yn=class{_ref;_containerInstance;componentInstance;componentRef;disableClose;id;_afterOpened=new oe;_beforeClosed=new oe;_result;_closeFallbackTimeout;_state=oy.OPEN;_closeInteractionType;constructor(i,e,n){this._ref=i,this._containerInstance=n,this.disableClose=e.disableClose,this.id=i.id,i.addPanelClass("mat-mdc-dialog-panel"),n._animationStateChanged.pipe(kt(r=>r.state==="opened"),Yi(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),n._animationStateChanged.pipe(kt(r=>r.state==="closed"),Yi(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),i.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),ri(this.backdropClick(),this.keydownEvents().pipe(kt(r=>r.keyCode===27&&!this.disableClose&&!pi(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),Rz(this,r.type==="keydown"?"keyboard":"mouse"))})}close(i){this._result=i,this._containerInstance._animationStateChanged.pipe(kt(e=>e.state==="closing"),Yi(1)).subscribe(e=>{this._beforeClosed.next(i),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=oy.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(i){let e=this._ref.config.positionStrategy;return i&&(i.left||i.right)?i.left?e.left(i.left):e.right(i.right):e.centerHorizontally(),i&&(i.top||i.bottom)?i.top?e.top(i.top):e.bottom(i.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(i="",e=""){return this._ref.updateSize(i,e),this}addPanelClass(i){return this._ref.addPanelClass(i),this}removePanelClass(i){return this._ref.removePanelClass(i),this}getState(){return this._state}_finishDialogClose(){this._state=oy.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function Rz(t,i,e){return t._closeInteractionType=i,t.close(e)}var Do=new G("MatMdcDialogData"),Oz=new G("mat-mdc-dialog-default-options"),Lz=new G("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let t=_(Hi);return()=>t.scrollStrategies.block()}});var gs=(()=>{class t{_overlay=_(Hi);_defaultOptions=_(Oz,{optional:!0});_scrollStrategy=_(Lz);_parentDialog=_(t,{optional:!0,skipSelf:!0});_idGenerator=_(Kt);_dialog=_(tT);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new oe;_afterOpenedAtThisLevel=new oe;dialogConfigClass=sy;_dialogRefConstructor;_dialogContainerType;_dialogDataToken;get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}afterAllClosed=po(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(yi(void 0)));constructor(){this._dialogRefConstructor=Yn,this._dialogContainerType=Tz,this._dialogDataToken=Do}open(e,n){let r;n=f(f({},this._defaultOptions||new sy),n),n.id=n.id||this._idGenerator.getId("mat-mdc-dialog-"),n.scrollStrategy=n.scrollStrategy||this._scrollStrategy();let a=this._dialog.open(e,S(f({},n),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:n},{provide:wd,useValue:n}]},templateContext:()=>({dialogRef:r}),providers:(o,s,l)=>(r=new this._dialogRefConstructor(o,n,l),r.updatePosition(n?.position),[{provide:this._dialogContainerType,useValue:l},{provide:this._dialogDataToken,useValue:s.data},{provide:this._dialogRefConstructor,useValue:r}])}));return r.componentRef=a.componentRef,r.componentInstance=a.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{let o=this.openDialogs.indexOf(r);o>-1&&(this.openDialogs.splice(o,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(n=>n.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let n=e.length;for(;n--;)e[n].close()}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var ine=(()=>{class t{_dialogRef=_(Yn,{optional:!0});_elementRef=_(me);_dialog=_(gs);constructor(){}ngOnInit(){this._dialogRef||(this._dialogRef=nne(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t})}return t})();var da=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],features:[hN([A0])]})}return t})(),ly=(()=>{class t extends ine{align;_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Dt(t)))(r||t)}})();static \u0275dir=Y({type:t,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(n,r){n&2&&de("mat-mdc-dialog-actions-align-start",r.align==="start")("mat-mdc-dialog-actions-align-center",r.align==="center")("mat-mdc-dialog-actions-align-end",r.align==="end")},inputs:{align:"align"},features:[Ve]})}return t})();function nne(t,i){let e=t.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-mdc-dialog-container");)e=e.parentElement;return e?i.find(n=>n.id===e.id):null}var nT=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Se({type:t});static \u0275inj=De({providers:[gs],imports:[Mz,fs,Co,Qe,Qe]})}return t})();var Dd=(()=>{class t{constructor(e){this.storageService=e,this.eventTypes=[{name:"Conv\xEDvio",color:"#00ff00"},{name:"Reuni\xE3o",color:"#0000ff"},{name:"Prazo",color:"#ff0000"},{name:"Jantar de Curso",color:"#00ffff"}]}getEvents(){return this.storageService.getData("events").pipe(Re(e=>{var n=[];for(var r in e){var a=e[r];a.id=r,n.push(a)}return n}))}getEventsForDay(e){return this.getEvents().pipe(Re(n=>{var r=n.filter(a=>{var o=new Date(a.data);return o.getDate()===e.getDate()&&o.getMonth()===e.getMonth()&&o.getFullYear()===e.getFullYear()});return r}))}getEventType(e){return this.eventTypes[e]}getEventTypes(){return this.eventTypes}addEvent(e){return this.storageService.pushData("events",e)}deleteEvent(e){return this.storageService.deleteData(`events/${e.id}`)}static{this.\u0275fac=function(n){return new(n||t)(Te(xd))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Sd=(()=>{class t{constructor(e){this.breakpointObserver=e}getGenericDialogConfig(){let e={},n=this.breakpointObserver.isMatched("(max-width: 599px)"),r=this.breakpointObserver.isMatched("(min-width: 600px) and (max-width: 1400px)");return n?e={width:"90vw",maxWidth:"none"}:r?e={width:"60vw",maxWidth:"none"}:!n&&!r?e={width:"60vw",maxWidth:"800px"}:e={width:"600px"},e}static{this.\u0275fac=function(n){return new(n||t)(Te(ts))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var rT=new G("CdkAccordion"),Nz=(()=>{class t{_stateChanges=new oe;_openCloseAllActions=new oe;id=_(Kt).getId("cdk-accordion-");multi=!1;openAll(){this.multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(e){this._stateChanges.next(e)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:[2,"multi","multi",J]},exportAs:["cdkAccordion"],features:[Ue([{provide:rT,useExisting:t}]),_t]})}return t})(),Pz=(()=>{class t{accordion=_(rT,{optional:!0,skipSelf:!0});_changeDetectorRef=_(et);_expansionDispatcher=_(Au);_openCloseAllSubscription=xt.EMPTY;closed=new ie;opened=new ie;destroyed=new ie;expandedChange=new ie;id=_(Kt).getId("cdk-accordion-child-");get expanded(){return this._expanded}set expanded(e){if(this._expanded!==e){if(this._expanded=e,this.expandedChange.emit(e),e){this.opened.emit();let n=this.accordion?this.accordion.id:this.id;this._expansionDispatcher.notify(this.id,n)}else this.closed.emit();this._changeDetectorRef.markForCheck()}}_expanded=!1;disabled=!1;_removeUniqueSelectionListener=()=>{};constructor(){}ngOnInit(){this._removeUniqueSelectionListener=this._expansionDispatcher.listen((e,n)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===n&&this.id!==e&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(e=>{this.disabled||(this.expanded=e)})}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:[2,"expanded","expanded",J],disabled:[2,"disabled","disabled",J]},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[Ue([{provide:rT,useValue:void 0}])]})}return t})(),Fz=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Se({type:t});static \u0275inj=De({})}return t})();var rne=["body"],ane=["bodyWrapper"],one=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],sne=["mat-expansion-panel-header","*","mat-action-row"];function lne(t,i){}var cne=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],dne=["mat-panel-title","mat-panel-description","*"];function une(t,i){t&1&&(M(0,"span",1),Ai(),M(1,"svg",2),re(2,"path",3),I()())}var aT=new G("MAT_ACCORDION"),Vz=new G("MAT_EXPANSION_PANEL"),hne=(()=>{class t{_template=_(vi);_expansionPanel=_(Vz,{optional:!0});constructor(){}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["ng-template","matExpansionPanelContent",""]]})}return t})(),Bz=new G("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS"),rh=(()=>{class t extends Pz{_viewContainerRef=_(_i);_animationsDisabled=_(Ut,{optional:!0})==="NoopAnimations";_document=_(He);_ngZone=_(Ce);_elementRef=_(me);_renderer=_(Yt);_cleanupTransitionEnd;get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(e){this._hideToggle=e}_hideToggle=!1;get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(e){this._togglePosition=e}_togglePosition;afterExpand=new ie;afterCollapse=new ie;_inputChanges=new oe;accordion=_(aT,{optional:!0,skipSelf:!0});_lazyContent;_body;_bodyWrapper;_portal;_headerId=_(Kt).getId("mat-expansion-panel-header-");constructor(){super();let e=_(Bz,{optional:!0});this._expansionDispatcher=_(Au),e&&(this.hideToggle=e.hideToggle)}_hasSpacing(){return this.accordion?this.expanded&&this.accordion.displayMode==="default":!1}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(yi(null),kt(()=>this.expanded&&!this._portal),Yi(1)).subscribe(()=>{this._portal=new Wn(this._lazyContent._template,this._viewContainerRef)}),this._setupAnimationEvents()}ngOnChanges(e){this._inputChanges.next(e)}ngOnDestroy(){super.ngOnDestroy(),this._cleanupTransitionEnd?.(),this._inputChanges.complete()}_containsFocus(){if(this._body){let e=this._document.activeElement,n=this._body.nativeElement;return e===n||n.contains(e)}return!1}_transitionEndListener=({target:e,propertyName:n})=>{e===this._bodyWrapper?.nativeElement&&n==="grid-template-rows"&&this._ngZone.run(()=>{this.expanded?this.afterExpand.emit():this.afterCollapse.emit()})};_setupAnimationEvents(){this._ngZone.runOutsideAngular(()=>{this._animationsDisabled?(this.opened.subscribe(()=>this._ngZone.run(()=>this.afterExpand.emit())),this.closed.subscribe(()=>this._ngZone.run(()=>this.afterCollapse.emit()))):setTimeout(()=>{let e=this._elementRef.nativeElement;this._cleanupTransitionEnd=this._renderer.listen(e,"transitionend",this._transitionEndListener),e.classList.add("mat-expansion-panel-animations-enabled")},200)})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=X({type:t,selectors:[["mat-expansion-panel"]],contentQueries:function(n,r,a){if(n&1&&St(a,hne,5),n&2){let o;pe(o=fe())&&(r._lazyContent=o.first)}},viewQuery:function(n,r){if(n&1&&(Ke(rne,5),Ke(ane,5)),n&2){let a;pe(a=fe())&&(r._body=a.first),pe(a=fe())&&(r._bodyWrapper=a.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:4,hostBindings:function(n,r){n&2&&de("mat-expanded",r.expanded)("mat-expansion-panel-spacing",r._hasSpacing())},inputs:{hideToggle:[2,"hideToggle","hideToggle",J],togglePosition:"togglePosition"},outputs:{afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[Ue([{provide:aT,useValue:void 0},{provide:Vz,useExisting:t}]),Ve,_t],ngContentSelectors:sne,decls:9,vars:4,consts:[["bodyWrapper",""],["body",""],[1,"mat-expansion-panel-content-wrapper"],["role","region",1,"mat-expansion-panel-content",3,"id"],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(n,r){n&1&&(ut(one),Ie(0),M(1,"div",2,0)(3,"div",3,1)(5,"div",4),Ie(6,1),ae(7,lne,0,0,"ng-template",5),I(),Ie(8,2),I()()),n&2&&(T(),Ee("inert",r.expanded?null:""),T(2),W("id",r.id),Ee("aria-labelledby",r._headerId),T(4),W("cdkPortalOutlet",r._portal))},dependencies:[Ta],styles:[`.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;overflow:hidden;position:relative;background:var(--mat-expansion-container-background-color, var(--mat-sys-surface));color:var(--mat-expansion-container-text-color, var(--mat-sys-on-surface));border-radius:var(--mat-expansion-container-shape, 12px)}.mat-expansion-panel.mat-expansion-panel-animations-enabled{transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:var(--mat-expansion-container-shape, 12px);border-top-left-radius:var(--mat-expansion-container-shape, 12px)}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:var(--mat-expansion-container-shape, 12px);border-bottom-left-radius:var(--mat-expansion-container-shape, 12px)}@media(forced-colors: active){.mat-expansion-panel{outline:solid 1px}}.mat-expansion-panel-content-wrapper{display:grid;grid-template-rows:0fr;grid-template-columns:100%}.mat-expansion-panel-animations-enabled .mat-expansion-panel-content-wrapper{transition:grid-template-rows 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel.mat-expanded>.mat-expansion-panel-content-wrapper{grid-template-rows:1fr}@supports not (grid-template-rows: 0fr){.mat-expansion-panel-content-wrapper{height:0}.mat-expansion-panel.mat-expanded>.mat-expansion-panel-content-wrapper{height:auto}}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible;min-height:0;visibility:hidden;font-family:var(--mat-expansion-container-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-expansion-container-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-expansion-container-text-weight, var(--mat-sys-body-large-weight));line-height:var(--mat-expansion-container-text-line-height, var(--mat-sys-body-large-line-height));letter-spacing:var(--mat-expansion-container-text-tracking, var(--mat-sys-body-large-tracking))}.mat-expansion-panel-animations-enabled .mat-expansion-panel-content{transition:visibility 190ms linear}.mat-expansion-panel.mat-expanded>.mat-expansion-panel-content-wrapper>.mat-expansion-panel-content{visibility:visible}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px;border-top-color:var(--mat-expansion-actions-divider-color, var(--mat-sys-outline))}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}
`],encapsulation:2,changeDetection:0})}return t})();var ah=(()=>{class t{panel=_(rh,{host:!0});_element=_(me);_focusMonitor=_(Ia);_changeDetectorRef=_(et);_parentChangeSubscription=xt.EMPTY;constructor(){_(hi).load(lr);let e=this.panel,n=_(Bz,{optional:!0}),r=_(new fr("tabindex"),{optional:!0}),a=e.accordion?e.accordion._stateChanges.pipe(kt(o=>!!(o.hideToggle||o.togglePosition))):ea;this.tabIndex=parseInt(r||"")||0,this._parentChangeSubscription=ri(e.opened,e.closed,a,e._inputChanges.pipe(kt(o=>!!(o.hideToggle||o.disabled||o.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),e.closed.pipe(kt(()=>e._containsFocus())).subscribe(()=>this._focusMonitor.focusVia(this._element,"program")),n&&(this.expandedHeight=n.expandedHeight,this.collapsedHeight=n.collapsedHeight)}expandedHeight;collapsedHeight;tabIndex=0;get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){let e=this._isExpanded();return e&&this.expandedHeight?this.expandedHeight:!e&&this.collapsedHeight?this.collapsedHeight:null}_keydown(e){switch(e.keyCode){case 32:case 13:pi(e)||(e.preventDefault(),this._toggle());break;default:this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(e);return}}focus(e,n){e?this._focusMonitor.focusVia(this._element,e,n):this._element.nativeElement.focus(n)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(e=>{e&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=X({type:t,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:13,hostBindings:function(n,r){n&1&&Q("click",function(){return r._toggle()})("keydown",function(o){return r._keydown(o)}),n&2&&(Ee("id",r.panel._headerId)("tabindex",r.disabled?-1:r.tabIndex)("aria-controls",r._getPanelId())("aria-expanded",r._isExpanded())("aria-disabled",r.panel.disabled),Ko("height",r._getHeaderHeight()),de("mat-expanded",r._isExpanded())("mat-expansion-toggle-indicator-after",r._getTogglePosition()==="after")("mat-expansion-toggle-indicator-before",r._getTogglePosition()==="before"))},inputs:{expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight",tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:Nr(e)]},ngContentSelectors:dne,decls:5,vars:3,consts:[[1,"mat-content"],[1,"mat-expansion-indicator"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","aria-hidden","true","focusable","false"],["d","M480-345 240-585l56-56 184 184 184-184 56 56-240 240Z"]],template:function(n,r){n&1&&(ut(cne),M(0,"span",0),Ie(1),Ie(2,1),Ie(3,2),I(),ae(4,une,3,0,"span",1)),n&2&&(de("mat-content-hide-toggle",!r._showToggle()),T(4),At(r._showToggle()?4:-1))},styles:[`.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;height:var(--mat-expansion-header-collapsed-state-height, 48px);font-family:var(--mat-expansion-header-text-font, var(--mat-sys-title-medium-font));font-size:var(--mat-expansion-header-text-size, var(--mat-sys-title-medium-size));font-weight:var(--mat-expansion-header-text-weight, var(--mat-sys-title-medium-weight));line-height:var(--mat-expansion-header-text-line-height, var(--mat-sys-title-medium-line-height));letter-spacing:var(--mat-expansion-header-text-tracking, var(--mat-sys-title-medium-tracking))}.mat-expansion-panel-animations-enabled .mat-expansion-panel-header{transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header::before{border-radius:inherit}.mat-expansion-panel-header.mat-expanded{height:var(--mat-expansion-header-expanded-state-height, 64px)}.mat-expansion-panel-header[aria-disabled=true]{color:var(--mat-expansion-header-disabled-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-header-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}@media(hover: none){.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-container-background-color, var(--mat-sys-surface))}}.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-keyboard-focused,.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-program-focused{background:var(--mat-expansion-header-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent))}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title{color:var(--mat-expansion-header-text-color, var(--mat-sys-on-surface))}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-title,.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-description{color:inherit}.mat-expansion-panel-header-description{flex-grow:2;color:var(--mat-expansion-header-description-color, var(--mat-sys-on-surface-variant))}.mat-expansion-panel-animations-enabled .mat-expansion-indicator{transition:transform 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header.mat-expanded .mat-expansion-indicator{transform:rotate(180deg)}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle;color:var(--mat-expansion-header-indicator-color, var(--mat-sys-on-surface-variant));display:var(--mat-expansion-legacy-header-indicator-display, none)}.mat-expansion-indicator svg{width:24px;height:24px;margin:0 -8px;vertical-align:middle;fill:var(--mat-expansion-header-indicator-color, var(--mat-sys-on-surface-variant));display:var(--mat-expansion-header-indicator-display, inline-block)}@media(forced-colors: active){.mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}}
`],encapsulation:2,changeDetection:0})}return t})(),yC=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["mat-panel-description"]],hostAttrs:[1,"mat-expansion-panel-header-description"]})}return t})(),Mp=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]})}return t})(),Ip=(()=>{class t extends Nz{_keyManager;_ownHeaders=new jl;_headers;hideToggle=!1;displayMode="default";togglePosition="after";ngAfterContentInit(){this._headers.changes.pipe(yi(this._headers)).subscribe(e=>{this._ownHeaders.reset(e.filter(n=>n.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new Ql(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(e){this._keyManager.onKeydown(e)}_handleHeaderFocus(e){this._keyManager.updateActiveItem(e)}ngOnDestroy(){super.ngOnDestroy(),this._keyManager?.destroy(),this._ownHeaders.destroy()}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Dt(t)))(r||t)}})();static \u0275dir=Y({type:t,selectors:[["mat-accordion"]],contentQueries:function(n,r,a){if(n&1&&St(a,ah,5),n&2){let o;pe(o=fe())&&(r._headers=o)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(n,r){n&2&&de("mat-accordion-multi",r.multi)},inputs:{hideToggle:[2,"hideToggle","hideToggle",J],displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[Ue([{provide:aT,useExisting:t}]),Ve]})}return t})(),zz=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Se({type:t});static \u0275inj=De({imports:[Qe,Fz,Co]})}return t})();var vC;function mne(){if(vC===void 0&&(vC=null,typeof window<"u")){let t=window;t.trustedTypes!==void 0&&(vC=t.trustedTypes.createPolicy("angular#components",{createHTML:i=>i}))}return vC}function cy(t){return mne()?.createHTML(t)||t}function jz(t){return Error(`Unable to find icon with the name "${t}"`)}function pne(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function Uz(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function Hz(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}var oc=class{url;svgText;options;svgElement;constructor(i,e,n){this.url=i,this.svgText=e,this.options=n}},Wz=(()=>{class t{_httpClient;_sanitizer;_errorHandler;_document;_svgIconConfigs=new Map;_iconSetConfigs=new Map;_cachedIconsByUrl=new Map;_inProgressUrlFetches=new Map;_fontCssClassesByAlias=new Map;_resolvers=[];_defaultFontSetClass=["material-icons","mat-ligature-font"];constructor(e,n,r,a){this._httpClient=e,this._sanitizer=n,this._errorHandler=a,this._document=r}addSvgIcon(e,n,r){return this.addSvgIconInNamespace("",e,n,r)}addSvgIconLiteral(e,n,r){return this.addSvgIconLiteralInNamespace("",e,n,r)}addSvgIconInNamespace(e,n,r,a){return this._addSvgIconConfig(e,n,new oc(r,null,a))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,n,r,a){let o=this._sanitizer.sanitize(Ga.HTML,r);if(!o)throw Hz(r);let s=cy(o);return this._addSvgIconConfig(e,n,new oc("",s,a))}addSvgIconSet(e,n){return this.addSvgIconSetInNamespace("",e,n)}addSvgIconSetLiteral(e,n){return this.addSvgIconSetLiteralInNamespace("",e,n)}addSvgIconSetInNamespace(e,n,r){return this._addSvgIconSetConfig(e,new oc(n,null,r))}addSvgIconSetLiteralInNamespace(e,n,r){let a=this._sanitizer.sanitize(Ga.HTML,n);if(!a)throw Hz(n);let o=cy(a);return this._addSvgIconSetConfig(e,new oc("",o,r))}registerFontClassAlias(e,n=e){return this._fontCssClassesByAlias.set(e,n),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){let n=this._sanitizer.sanitize(Ga.RESOURCE_URL,e);if(!n)throw Uz(e);let r=this._cachedIconsByUrl.get(n);return r?ke(_C(r)):this._loadSvgIconFromConfig(new oc(e,null)).pipe(Ki(a=>this._cachedIconsByUrl.set(n,a)),Re(a=>_C(a)))}getNamedSvgIcon(e,n=""){let r=Gz(n,e),a=this._svgIconConfigs.get(r);if(a)return this._getSvgFromConfig(a);if(a=this._getIconConfigFromResolvers(n,e),a)return this._svgIconConfigs.set(r,a),this._getSvgFromConfig(a);let o=this._iconSetConfigs.get(n);return o?this._getSvgFromIconSetConfigs(e,o):hu(jz(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?ke(_C(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(Re(n=>_C(n)))}_getSvgFromIconSetConfigs(e,n){let r=this._extractIconWithNameFromAnySet(e,n);if(r)return ke(r);let a=n.filter(o=>!o.svgText).map(o=>this._loadSvgIconSetFromConfig(o).pipe(Ha(s=>{let c=`Loading icon set URL: ${this._sanitizer.sanitize(Ga.RESOURCE_URL,o.url)} failed: ${s.message}`;return this._errorHandler.handleError(new Error(c)),ke(null)})));return p_(a).pipe(Re(()=>{let o=this._extractIconWithNameFromAnySet(e,n);if(!o)throw jz(e);return o}))}_extractIconWithNameFromAnySet(e,n){for(let r=n.length-1;r>=0;r--){let a=n[r];if(a.svgText&&a.svgText.toString().indexOf(e)>-1){let o=this._svgElementFromConfig(a),s=this._extractSvgIconFromSet(o,e,a.options);if(s)return s}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(Ki(n=>e.svgText=n),Re(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?ke(null):this._fetchIcon(e).pipe(Ki(n=>e.svgText=n))}_extractSvgIconFromSet(e,n,r){let a=e.querySelector(`[id="${n}"]`);if(!a)return null;let o=a.cloneNode(!0);if(o.removeAttribute("id"),o.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(o,r);if(o.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(o),r);let s=this._svgElementFromString(cy("<svg></svg>"));return s.appendChild(o),this._setSvgAttributes(s,r)}_svgElementFromString(e){let n=this._document.createElement("DIV");n.innerHTML=e;let r=n.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){let n=this._svgElementFromString(cy("<svg></svg>")),r=e.attributes;for(let a=0;a<r.length;a++){let{name:o,value:s}=r[a];o!=="id"&&n.setAttribute(o,s)}for(let a=0;a<e.childNodes.length;a++)e.childNodes[a].nodeType===this._document.ELEMENT_NODE&&n.appendChild(e.childNodes[a].cloneNode(!0));return n}_setSvgAttributes(e,n){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),n&&n.viewBox&&e.setAttribute("viewBox",n.viewBox),e}_fetchIcon(e){let{url:n,options:r}=e,a=r?.withCredentials??!1;if(!this._httpClient)throw pne();if(n==null)throw Error(`Cannot fetch icon from URL "${n}".`);let o=this._sanitizer.sanitize(Ga.RESOURCE_URL,n);if(!o)throw Uz(n);let s=this._inProgressUrlFetches.get(o);if(s)return s;let l=this._httpClient.get(o,{responseType:"text",withCredentials:a}).pipe(Re(c=>cy(c)),mu(()=>this._inProgressUrlFetches.delete(o)),GL());return this._inProgressUrlFetches.set(o,l),l}_addSvgIconConfig(e,n,r){return this._svgIconConfigs.set(Gz(e,n),r),this}_addSvgIconSetConfig(e,n){let r=this._iconSetConfigs.get(e);return r?r.push(n):this._iconSetConfigs.set(e,[n]),this}_svgElementFromConfig(e){if(!e.svgElement){let n=this._svgElementFromString(e.svgText);this._setSvgAttributes(n,e.options),e.svgElement=n}return e.svgElement}_getIconConfigFromResolvers(e,n){for(let r=0;r<this._resolvers.length;r++){let a=this._resolvers[r](n,e);if(a)return fne(a)?new oc(a.url,null,a.options):new oc(a,null)}}static \u0275fac=function(n){return new(n||t)(Te(EM,8),Te(OM),Te(He,8),Te(Kc))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function _C(t){return t.cloneNode(!0)}function Gz(t,i){return t+":"+i}function fne(t){return!!(t.url&&t.options)}var gne=["*"],bne=new G("MAT_ICON_DEFAULT_OPTIONS"),yne=new G("mat-icon-location",{providedIn:"root",factory:vne});function vne(){let t=_(He),i=t?t.location:null;return{getPathname:()=>i?i.pathname+i.search:""}}var $z=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],_ne=$z.map(t=>`[${t}]`).join(", "),xne=/^url\(['"]?#(.*?)['"]?\)$/,Br=(()=>{class t{_elementRef=_(me);_iconRegistry=_(Wz);_location=_(yne);_errorHandler=_(Kc);_defaultColor;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;inline=!1;get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}_svgIcon;get fontSet(){return this._fontSet}set fontSet(e){let n=this._cleanupFontValue(e);n!==this._fontSet&&(this._fontSet=n,this._updateFontIconClasses())}_fontSet;get fontIcon(){return this._fontIcon}set fontIcon(e){let n=this._cleanupFontValue(e);n!==this._fontIcon&&(this._fontIcon=n,this._updateFontIconClasses())}_fontIcon;_previousFontSetClass=[];_previousFontIconClass;_svgName;_svgNamespace;_previousPath;_elementsWithExternalReferences;_currentIconFetch=xt.EMPTY;constructor(){let e=_(new fr("aria-hidden"),{optional:!0}),n=_(bne,{optional:!0});n&&(n.color&&(this.color=this._defaultColor=n.color),n.fontSet&&(this.fontSet=n.fontSet)),e||this._elementRef.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];let n=e.split(":");switch(n.length){case 1:return["",n[0]];case 2:return n;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let e=this._elementsWithExternalReferences;if(e&&e.size){let n=this._location.getPathname();n!==this._previousPath&&(this._previousPath=n,this._prependPathToReferences(n))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();let n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){let e=this._elementRef.nativeElement,n=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();n--;){let r=e.childNodes[n];(r.nodeType!==1||r.nodeName.toLowerCase()==="svg")&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let e=this._elementRef.nativeElement,n=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),n.forEach(r=>e.classList.add(r)),this._previousFontSetClass=n,this.fontIcon!==this._previousFontIconClass&&!n.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return typeof e=="string"?e.trim().split(" ")[0]:e}_prependPathToReferences(e){let n=this._elementsWithExternalReferences;n&&n.forEach((r,a)=>{r.forEach(o=>{a.setAttribute(o.name,`url('${e}#${o.value}')`)})})}_cacheChildrenWithExternalReferences(e){let n=e.querySelectorAll(_ne),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let a=0;a<n.length;a++)$z.forEach(o=>{let s=n[a],l=s.getAttribute(o),c=l?l.match(xne):null;if(c){let d=r.get(s);d||(d=[],r.set(s,d)),d.push({name:o,value:c[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){let[n,r]=this._splitIconName(e);n&&(this._svgNamespace=n),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,n).pipe(Yi(1)).subscribe(a=>this._setSvgElement(a),a=>{let o=`Error retrieving icon ${n}:${r}! ${a.message}`;this._errorHandler.handleError(new Error(o))})}}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=X({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(n,r){n&2&&(Ee("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),zn(r.color?"mat-"+r.color:""),de("mat-icon-inline",r.inline)("mat-icon-no-color",r.color!=="primary"&&r.color!=="accent"&&r.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",J],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],ngContentSelectors:gne,decls:1,vars:0,template:function(n,r){n&1&&(ut(),Ie(0))},styles:[`mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color, inherit)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}
`],encapsulation:2,changeDetection:0})}return t})(),Yz=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Se({type:t});static \u0275inj=De({imports:[Qe,Qe]})}return t})();var Cne={capture:!0},wne=["focus","mousedown","mouseenter","touchstart"],sT="mat-ripple-loader-uninitialized",lT="mat-ripple-loader-class-name",Kz="mat-ripple-loader-centered",xC="mat-ripple-loader-disabled",qz=(()=>{class t{_document=_(He);_animationMode=_(Ut,{optional:!0});_globalRippleOptions=_(xp,{optional:!0});_platform=_(Ft);_ngZone=_(Ce);_injector=_(Ye);_eventCleanups;_hosts=new Map;constructor(){let e=_(gr).createRenderer(null,null);this._eventCleanups=this._ngZone.runOutsideAngular(()=>wne.map(n=>Li(e,this._document,n,this._onInteraction,Cne)))}ngOnDestroy(){let e=this._hosts.keys();for(let n of e)this.destroyRipple(n);this._eventCleanups.forEach(n=>n())}configureRipple(e,n){e.setAttribute(sT,this._globalRippleOptions?.namespace??""),(n.className||!e.hasAttribute(lT))&&e.setAttribute(lT,n.className||""),n.centered&&e.setAttribute(Kz,""),n.disabled&&e.setAttribute(xC,"")}setDisabled(e,n){let r=this._hosts.get(e);r?(r.target.rippleDisabled=n,!n&&!r.hasSetUpEvents&&(r.hasSetUpEvents=!0,r.renderer.setupTriggerEvents(e))):n?e.setAttribute(xC,""):e.removeAttribute(xC)}_onInteraction=e=>{let n=yr(e);if(n instanceof HTMLElement){let r=n.closest(`[${sT}="${this._globalRippleOptions?.namespace??""}"]`);r&&this._createRipple(r)}};_createRipple(e){if(!this._document||this._hosts.has(e))return;e.querySelector(".mat-ripple")?.remove();let n=this._document.createElement("span");n.classList.add("mat-ripple",e.getAttribute(lT)),e.append(n);let r=this._animationMode==="NoopAnimations",a=this._globalRippleOptions,o=r?0:a?.animation?.enterDuration??ny.enterDuration,s=r?0:a?.animation?.exitDuration??ny.exitDuration,l={rippleDisabled:r||a?.disabled||e.hasAttribute(xC),rippleConfig:{centered:e.hasAttribute(Kz),terminateOnPointerUp:a?.terminateOnPointerUp,animation:{enterDuration:o,exitDuration:s}}},c=new eh(l,this._ngZone,n,this._platform,this._injector),d=!l.rippleDisabled;d&&c.setupTriggerEvents(e),this._hosts.set(e,{target:l,renderer:c,hasSetUpEvents:d}),e.removeAttribute(sT)}destroyRipple(e){let n=this._hosts.get(e);n&&(n.renderer._removeTriggerEvents(),this._hosts.delete(e))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Dne=["mat-icon-button",""],Sne=["*"];var Mne=new G("MAT_BUTTON_CONFIG");var Ine=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],dy=(()=>{class t{_elementRef=_(me);_ngZone=_(Ce);_animationMode=_(Ut,{optional:!0});_focusMonitor=_(Ia);_rippleLoader=_(qz);_isFab=!1;color;get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=e,this._updateRippleDisabled()}_disableRipple=!1;get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._updateRippleDisabled()}_disabled=!1;ariaDisabled;disabledInteractive;constructor(){_(hi).load(lr);let e=_(Mne,{optional:!0}),n=this._elementRef.nativeElement,r=n.classList;this.disabledInteractive=e?.disabledInteractive??!1,this.color=e?.color??null,this._rippleLoader?.configureRipple(n,{className:"mat-mdc-button-ripple"});for(let{attribute:a,mdcClasses:o}of Ine)n.hasAttribute(a)&&r.add(...o)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(e="program",n){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,n):this._elementRef.nativeElement.focus(n)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",J],disabled:[2,"disabled","disabled",J],ariaDisabled:[2,"aria-disabled","ariaDisabled",J],disabledInteractive:[2,"disabledInteractive","disabledInteractive",J]}})}return t})();var cr=(()=>{class t extends dy{constructor(){super(),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=X({type:t,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(n,r){n&2&&(Ee("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),zn(r.color?"mat-"+r.color:""),de("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable",r._animationMode==="NoopAnimations")("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[Ve],attrs:Dne,ngContentSelectors:Sne,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,r){n&1&&(ut(),re(0,"span",0),Ie(1),re(2,"span",1)(3,"span",2))},styles:[`.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 40px);height:var(--mdc-icon-button-state-layer-size, 40px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 40px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size, 24px);color:var(--mdc-icon-button-icon-color, var(--mat-sys-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-icon-button:focus>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface-variant) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-icon-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display, block)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size, 24px);height:var(--mdc-icon-button-icon-size, 24px);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0})}return t})();var bl=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Se({type:t});static \u0275inj=De({imports:[Qe,Qe]})}return t})();var kne=["mat-button",""],cT=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],dT=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var Ane=["mat-fab",""],Ene=["mat-mini-fab",""],Tne=`.mat-mdc-fab-base{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1);flex-shrink:0;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-fab-base .mat-mdc-button-ripple,.mat-mdc-fab-base .mat-mdc-button-persistent-ripple,.mat-mdc-fab-base .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab-base .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-fab-base .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-fab-base .mdc-button__label,.mat-mdc-fab-base .mat-icon{z-index:1;position:relative}.mat-mdc-fab-base .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab-base:focus>.mat-focus-indicator::before{content:""}.mat-mdc-fab-base._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab-base::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-fab-base[hidden]{display:none}.mat-mdc-fab-base::-moz-focus-inner{padding:0;border:0}.mat-mdc-fab-base:active,.mat-mdc-fab-base:focus{outline:none}.mat-mdc-fab-base:hover{cursor:pointer}.mat-mdc-fab-base>svg{width:100%}.mat-mdc-fab-base .mat-icon,.mat-mdc-fab-base .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab-base .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-fab-base[disabled],.mat-mdc-fab-base.mat-mdc-button-disabled{cursor:default;pointer-events:none}.mat-mdc-fab-base[disabled],.mat-mdc-fab-base[disabled]:focus,.mat-mdc-fab-base.mat-mdc-button-disabled,.mat-mdc-fab-base.mat-mdc-button-disabled:focus{box-shadow:none}.mat-mdc-fab-base.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-fab{background-color:var(--mdc-fab-container-color, var(--mat-sys-primary-container));border-radius:var(--mdc-fab-container-shape, var(--mat-sys-corner-large));color:var(--mat-fab-foreground-color, var(--mat-sys-on-primary-container, inherit));box-shadow:var(--mdc-fab-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-fab:hover{box-shadow:var(--mdc-fab-hover-container-elevation-shadow, var(--mat-sys-level4))}.mat-mdc-fab:focus{box-shadow:var(--mdc-fab-focus-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-fab:active,.mat-mdc-fab:focus:active{box-shadow:var(--mdc-fab-pressed-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-fab[disabled],.mat-mdc-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-fab-disabled-state-foreground-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-fab-disabled-state-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-fab-touch-target-display, block)}.mat-mdc-fab .mat-ripple-element{background-color:var(--mat-fab-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary-container) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-state-layer-color, var(--mat-sys-on-primary-container))}.mat-mdc-fab.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-disabled-state-layer-color)}.mat-mdc-fab:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-fab.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-fab.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-fab.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-fab:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-mini-fab{width:40px;height:40px;background-color:var(--mdc-fab-small-container-color, var(--mat-sys-primary-container));border-radius:var(--mdc-fab-small-container-shape, var(--mat-sys-corner-medium));color:var(--mat-fab-small-foreground-color, var(--mat-sys-on-primary-container, inherit));box-shadow:var(--mdc-fab-small-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-mini-fab:hover{box-shadow:var(--mdc-fab-small-hover-container-elevation-shadow, var(--mat-sys-level4))}.mat-mdc-mini-fab:focus{box-shadow:var(--mdc-fab-small-focus-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:var(--mdc-fab-small-pressed-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-mini-fab[disabled],.mat-mdc-mini-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-fab-small-disabled-state-foreground-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-fab-small-disabled-state-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-fab-small-touch-target-display)}.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-fab-small-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary-container) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-small-state-layer-color, var(--mat-sys-on-primary-container))}.mat-mdc-mini-fab.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-small-disabled-state-layer-color)}.mat-mdc-mini-fab:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-mini-fab.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-mini-fab:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-extended-fab{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;line-height:normal;height:var(--mdc-extended-fab-container-height, 56px);border-radius:var(--mdc-extended-fab-container-shape, var(--mat-sys-corner-large));font-family:var(--mdc-extended-fab-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-extended-fab-label-text-size, var(--mat-sys-label-large-size));font-weight:var(--mdc-extended-fab-label-text-weight, var(--mat-sys-label-large-weight));letter-spacing:var(--mdc-extended-fab-label-text-tracking, var(--mat-sys-label-large-tracking));box-shadow:var(--mdc-extended-fab-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-extended-fab:hover{box-shadow:var(--mdc-extended-fab-hover-container-elevation-shadow, var(--mat-sys-level4))}.mat-mdc-extended-fab:focus{box-shadow:var(--mdc-extended-fab-focus-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-extended-fab:active,.mat-mdc-extended-fab:focus:active{box-shadow:var(--mdc-extended-fab-pressed-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-extended-fab[disabled],.mat-mdc-extended-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none}.mat-mdc-extended-fab[disabled],.mat-mdc-extended-fab[disabled]:focus,.mat-mdc-extended-fab.mat-mdc-button-disabled,.mat-mdc-extended-fab.mat-mdc-button-disabled:focus{box-shadow:none}.mat-mdc-extended-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:-8px;margin-right:12px}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons,[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons{margin-left:12px;margin-right:-8px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}
`,_r=(()=>{class t extends dy{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Dt(t)))(r||t)}})();static \u0275cmp=X({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(n,r){n&2&&(Ee("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),zn(r.color?"mat-"+r.color:""),de("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable",r._animationMode==="NoopAnimations")("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[Ve],attrs:kne,ngContentSelectors:dT,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,r){n&1&&(ut(cT),re(0,"span",0),Ie(1),M(2,"span",1),Ie(3,1),I(),Ie(4,2),re(5,"span",2)(6,"span",3)),n&2&&de("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:[`.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 12px);height:var(--mdc-text-button-container-height, 40px);font-family:var(--mdc-text-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-sys-label-large-weight))}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-sys-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 16px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display, block)}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-filled-button-container-height, 40px);font-family:var(--mdc-filled-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-filled-button-horizontal-padding, 24px)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-sys-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-unelevated-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display, block)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-sys-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-sys-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-filled-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-sys-level1));height:var(--mdc-protected-button-container-height, 40px);font-family:var(--mdc-protected-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-protected-button-horizontal-padding, 24px)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-raised-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-raised-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display, block)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-sys-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-sys-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-sys-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-protected-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-sys-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-outlined-button-container-height, 40px);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-sys-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-sys-corner-full));border-width:var(--mdc-outlined-button-outline-width, 1px);padding:0 var(--mat-outlined-button-horizontal-padding, 24px)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-outlined-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-outlined-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display, block)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-sys-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-sys-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:var(--mdc-outlined-button-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-focus-indicator,.mat-mdc-unelevated-button .mat-focus-indicator,.mat-mdc-raised-button .mat-focus-indicator,.mat-mdc-outlined-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-button:focus>.mat-focus-indicator::before,.mat-mdc-unelevated-button:focus>.mat-focus-indicator::before,.mat-mdc-raised-button:focus>.mat-focus-indicator::before,.mat-mdc-outlined-button:focus>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-focus-indicator::before,.mat-mdc-raised-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0})}return t})();var Zz=new G("mat-mdc-fab-default-options",{providedIn:"root",factory:Qz});function Qz(){return{color:"accent"}}var CC=Qz(),Xz=(()=>{class t extends dy{_options=_(Zz,{optional:!0});_isFab=!0;extended;constructor(){super(),this._options=this._options||CC,this.color=this._options.color||CC.color}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=X({type:t,selectors:[["button","mat-fab",""]],hostVars:18,hostBindings:function(n,r){n&2&&(Ee("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),zn(r.color?"mat-"+r.color:""),de("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable",r._animationMode==="NoopAnimations")("mat-unthemed",!r.color)("mat-mdc-button-base",!0)("mdc-fab--extended",r.extended)("mat-mdc-extended-fab",r.extended))},inputs:{extended:[2,"extended","extended",J]},exportAs:["matButton"],features:[Ve],attrs:Ane,ngContentSelectors:dT,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,r){n&1&&(ut(cT),re(0,"span",0),Ie(1),M(2,"span",1),Ie(3,1),I(),Ie(4,2),re(5,"span",2)(6,"span",3)),n&2&&de("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:[`.mat-mdc-fab-base{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1);flex-shrink:0;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-fab-base .mat-mdc-button-ripple,.mat-mdc-fab-base .mat-mdc-button-persistent-ripple,.mat-mdc-fab-base .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab-base .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-fab-base .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-fab-base .mdc-button__label,.mat-mdc-fab-base .mat-icon{z-index:1;position:relative}.mat-mdc-fab-base .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab-base:focus>.mat-focus-indicator::before{content:""}.mat-mdc-fab-base._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab-base::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-fab-base[hidden]{display:none}.mat-mdc-fab-base::-moz-focus-inner{padding:0;border:0}.mat-mdc-fab-base:active,.mat-mdc-fab-base:focus{outline:none}.mat-mdc-fab-base:hover{cursor:pointer}.mat-mdc-fab-base>svg{width:100%}.mat-mdc-fab-base .mat-icon,.mat-mdc-fab-base .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab-base .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-fab-base[disabled],.mat-mdc-fab-base.mat-mdc-button-disabled{cursor:default;pointer-events:none}.mat-mdc-fab-base[disabled],.mat-mdc-fab-base[disabled]:focus,.mat-mdc-fab-base.mat-mdc-button-disabled,.mat-mdc-fab-base.mat-mdc-button-disabled:focus{box-shadow:none}.mat-mdc-fab-base.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-fab{background-color:var(--mdc-fab-container-color, var(--mat-sys-primary-container));border-radius:var(--mdc-fab-container-shape, var(--mat-sys-corner-large));color:var(--mat-fab-foreground-color, var(--mat-sys-on-primary-container, inherit));box-shadow:var(--mdc-fab-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-fab:hover{box-shadow:var(--mdc-fab-hover-container-elevation-shadow, var(--mat-sys-level4))}.mat-mdc-fab:focus{box-shadow:var(--mdc-fab-focus-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-fab:active,.mat-mdc-fab:focus:active{box-shadow:var(--mdc-fab-pressed-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-fab[disabled],.mat-mdc-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-fab-disabled-state-foreground-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-fab-disabled-state-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-fab-touch-target-display, block)}.mat-mdc-fab .mat-ripple-element{background-color:var(--mat-fab-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary-container) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-state-layer-color, var(--mat-sys-on-primary-container))}.mat-mdc-fab.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-disabled-state-layer-color)}.mat-mdc-fab:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-fab.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-fab.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-fab.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-fab:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-mini-fab{width:40px;height:40px;background-color:var(--mdc-fab-small-container-color, var(--mat-sys-primary-container));border-radius:var(--mdc-fab-small-container-shape, var(--mat-sys-corner-medium));color:var(--mat-fab-small-foreground-color, var(--mat-sys-on-primary-container, inherit));box-shadow:var(--mdc-fab-small-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-mini-fab:hover{box-shadow:var(--mdc-fab-small-hover-container-elevation-shadow, var(--mat-sys-level4))}.mat-mdc-mini-fab:focus{box-shadow:var(--mdc-fab-small-focus-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:var(--mdc-fab-small-pressed-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-mini-fab[disabled],.mat-mdc-mini-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-fab-small-disabled-state-foreground-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-fab-small-disabled-state-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-fab-small-touch-target-display)}.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-fab-small-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary-container) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-small-state-layer-color, var(--mat-sys-on-primary-container))}.mat-mdc-mini-fab.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-small-disabled-state-layer-color)}.mat-mdc-mini-fab:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-mini-fab.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-mini-fab:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-extended-fab{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;line-height:normal;height:var(--mdc-extended-fab-container-height, 56px);border-radius:var(--mdc-extended-fab-container-shape, var(--mat-sys-corner-large));font-family:var(--mdc-extended-fab-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-extended-fab-label-text-size, var(--mat-sys-label-large-size));font-weight:var(--mdc-extended-fab-label-text-weight, var(--mat-sys-label-large-weight));letter-spacing:var(--mdc-extended-fab-label-text-tracking, var(--mat-sys-label-large-tracking));box-shadow:var(--mdc-extended-fab-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-extended-fab:hover{box-shadow:var(--mdc-extended-fab-hover-container-elevation-shadow, var(--mat-sys-level4))}.mat-mdc-extended-fab:focus{box-shadow:var(--mdc-extended-fab-focus-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-extended-fab:active,.mat-mdc-extended-fab:focus:active{box-shadow:var(--mdc-extended-fab-pressed-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-extended-fab[disabled],.mat-mdc-extended-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none}.mat-mdc-extended-fab[disabled],.mat-mdc-extended-fab[disabled]:focus,.mat-mdc-extended-fab.mat-mdc-button-disabled,.mat-mdc-extended-fab.mat-mdc-button-disabled:focus{box-shadow:none}.mat-mdc-extended-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:-8px;margin-right:12px}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons,[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons{margin-left:12px;margin-right:-8px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}
`],encapsulation:2,changeDetection:0})}return t})(),wC=(()=>{class t extends dy{_options=_(Zz,{optional:!0});_isFab=!0;constructor(){super(),this._options=this._options||CC,this.color=this._options.color||CC.color}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=X({type:t,selectors:[["button","mat-mini-fab",""]],hostVars:14,hostBindings:function(n,r){n&2&&(Ee("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),zn(r.color?"mat-"+r.color:""),de("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable",r._animationMode==="NoopAnimations")("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[Ve],attrs:Ene,ngContentSelectors:dT,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,r){n&1&&(ut(cT),re(0,"span",0),Ie(1),M(2,"span",1),Ie(3,1),I(),Ie(4,2),re(5,"span",2)(6,"span",3)),n&2&&de("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:[Tne],encapsulation:2,changeDetection:0})}return t})();var DC=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Se({type:t});static \u0275inj=De({imports:[Qe,bl,Qe]})}return t})();var Rne=t=>({"background-color":t});function One(t,i){t&1&&(M(0,"h3"),V(1," Eventos :"),I())}function Lne(t,i){t&1&&(M(0,"h4"),V(1,"Sem eventos planeados"),I())}function Nne(t,i){if(t&1&&(M(0,"mat-accordion")(1,"mat-expansion-panel")(2,"mat-expansion-panel-header")(3,"mat-panel-title"),re(4,"div",6),V(5),I(),M(6,"mat-panel-description",7)(7,"mat-icon"),V(8,"access_time"),I(),V(9),na(10,"date"),I()(),M(11,"div",8),V(12),I()()()),t&2){let e=i.$implicit,n=xe();T(4),W("ngStyle",qc(7,Rne,n.getColorForEvent(e))),T(),Ht(" ",e.titulo," "),T(4),Ht(" ",ra(10,4,e.data,"shortTime")," "),T(3),Ht(" ",e.descricao," ")}}var Jz=(()=>{class t{constructor(e,n,r,a,o){this.dialogRef=e,this.data=n,this.calendarioService=r,this.matDialog=a,this.dialogService=o}ngOnInit(){this.calendarioService.getEventsForDay(this.data.dia).subscribe(e=>{this.events=e})}fecharDialogo(){this.dialogRef.close()}getColorForEvent(e){return this.calendarioService.getEventType(e.tipo).color}static{this.\u0275fac=function(n){return new(n||t)(ee(Yn),ee(Do),ee(Dd),ee(gs),ee(Sd))}}static{this.\u0275cmp=X({type:t,selectors:[["app-show-day-dialog"]],standalone:!1,decls:10,vars:7,consts:[[1,"header"],[1,"header-date"],["mat-icon-button","",2,"align-self","end",3,"click"],["fontIcon","close"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"has-event",3,"ngStyle"],[1,"mat-panel-description"],[1,"event-container"]],template:function(n,r){n&1&&(M(0,"mat-dialog-content")(1,"div",0)(2,"h2",1),V(3),na(4,"date"),I(),M(5,"button",2),Q("click",function(){return r.fecharDialogo()}),re(6,"mat-icon",3),I()(),ae(7,One,2,0,"h3",4)(8,Lne,2,0,"h4",4)(9,Nne,13,9,"mat-accordion",5),I()),n&2&&(T(3),qe(ra(4,4,r.data.dia,"longDate")),T(4),W("ngIf",r.events&&r.events.length!=0),T(),W("ngIf",!r.events||r.events.length==0),T(),W("ngForOf",r.events))},dependencies:[Sa,Xo,$l,Ip,rh,ah,Mp,yC,Br,da,cr,Yl],styles:[".header[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center}.header-date[_ngcontent-%COMP%]{margin:0}.displayer-eventos[_ngcontent-%COMP%]{display:flex;flex-direction:column}.has-event[_ngcontent-%COMP%]{width:7px;height:30px;border-radius:50px;margin-right:15px}.event-header-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.mat-panel-description[_ngcontent-%COMP%]{justify-content:flex-end}.mat-expansion-panel.mat-expanded[_ngcontent-%COMP%]   .mat-expansion-panel-header[_ngcontent-%COMP%]{border-bottom:1px solid rgba(0,0,0,.4);margin-bottom:auto}.event-container[_ngcontent-%COMP%]{margin-top:12px}.mat-expansion-panel-header-title[_ngcontent-%COMP%]{flex-grow:4}"]})}}return t})();var Pne=()=>({"background-color":"var(--calendar-blue)"}),ej=()=>({"background-color":"#ffffff00"}),Fne=()=>({"background-color":"purple"});function Vne(t,i){if(t&1){let e=Rt();M(0,"div",12),Q("click",function(){let r=ye(e).$implicit,a=xe();return ve(a.openDay(r.day))}),M(1,"div",13),V(2),I(),re(3,"div",14),I()}if(t&2){let e=i.$implicit,n=xe();de("valid-day",e.day!=="")("day-selected",n.dateSelected===e+" "+n.monthAndYear),T(),W("ngStyle",e.day===n.today.getDate()&&n.month===n.today.getMonth()&&n.year===n.today.getFullYear()?Lr(7,Pne):Lr(8,ej)),T(),qe(e.day),T(),W("ngStyle",e.day&&e.hasEvents?Lr(9,Fne):Lr(10,ej))}}var tj=(()=>{class t{constructor(e,n,r,a){this.calendarService=e,this.matDialog=n,this.dialogService=r,this.ref=a,this.month=new Date().getMonth(),this.year=new Date().getFullYear(),this.eventsShown=!1,this.monthNames=["Janeiro","Fevereiro","Mar\xE7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],this.calendarDays=[],this.today=new Date,this.monthAndYear="",this.dateSelected="",this.eventList=[]}ngOnInit(){this.calendarService.getEvents().subscribe(e=>{this.eventList=e,this.updateMonth(),this.buildCalendar()})}prevMonth(){this.month=this.month-1,this.month<0&&(this.month=11,this.year=this.year-1),this.updateMonth(),this.buildCalendar()}nextMonth(){this.month=this.month+1,this.month>11&&(this.month=0,this.year=this.year+1),this.updateMonth(),this.buildCalendar()}updateMonth(){var e=this.monthNames[this.month];this.monthAndYear=e+" "+this.year}buildCalendar(){var e=new Date(this.year,this.month,1),n=new Date(this.year,this.month+1,0),r=n.getDate(),a=42;this.calendarDays=[];for(var o=0;o<a;o++){var s=o-e.getDay()+1;s>=1&&s<=r?this.calendarDays.push({day:s,hasEvents:this.eventList.some(l=>{var c=new Date(l.data);return c.getDate()===s&&c.getMonth()===this.month&&c.getFullYear()===this.year})}):this.calendarDays.push({day:""})}this.ref.detectChanges()}openDay(e){this.matDialog.open(Jz,S(f({},this.dialogService.getGenericDialogConfig()),{data:{dia:new Date(this.year,this.month,e)}}))}static{this.\u0275fac=function(n){return new(n||t)(ee(Dd),ee(gs),ee(Sd),ee(et))}}static{this.\u0275cmp=X({type:t,selectors:[["app-calendario"]],standalone:!1,decls:27,vars:2,consts:[[1,"calendar-container"],[1,"calendar"],[1,"choose-month"],["id","month-n-year",1,"current-month"],[1,"month-buttons"],["aria-hidden","false","aria-label","Previous month","fontIcon","chevron_left",1,"change-month-buttons",3,"click"],["aria-hidden","false","aria-label","Previous month","fontIcon","chevron_right",1,"change-month-buttons",3,"click"],[1,"inner-calendar"],[1,"week-days","calendar-grid"],[1,"week-day"],["id","calendar-days",1,"days","calendar-grid"],["class","day",3,"valid-day","day-selected","click",4,"ngFor","ngForOf"],[1,"day",3,"click"],[1,"circle-day",3,"ngStyle"],[1,"has-event",3,"ngStyle"]],template:function(n,r){n&1&&(M(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div"),V(5),I()(),M(6,"div",4)(7,"mat-icon",5),Q("click",function(){return r.prevMonth()}),I(),M(8,"mat-icon",6),Q("click",function(){return r.nextMonth()}),I()()(),M(9,"div",7)(10,"div",8)(11,"div",9),V(12,"Dom"),I(),M(13,"div",9),V(14,"Seg"),I(),M(15,"div",9),V(16,"Ter"),I(),M(17,"div",9),V(18,"Qua"),I(),M(19,"div",9),V(20,"Qui"),I(),M(21,"div",9),V(22,"Sex"),I(),M(23,"div",9),V(24,"S\xE1b"),I()(),M(25,"div",10),ae(26,Vne,4,11,"div",11),I()()()()),n&2&&(T(5),qe(r.monthAndYear),T(21),W("ngForOf",r.calendarDays))},dependencies:[Sa,$l,Br],styles:[".container[_ngcontent-%COMP%]{width:100%}.calendar-container[_ngcontent-%COMP%]{max-width:800px;height:fit-content;background-color:var(--containers-bg);box-shadow:0 2px 4px #0000001a;border-radius:10px;margin:20px auto;grid-column:2}.calendar[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.choose-month[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:90%;margin-top:10px}.current-month[_ngcontent-%COMP%]{font-family:var(--font-family);font-size:25px;font-weight:600}.week-day[_ngcontent-%COMP%]{color:var(--text-color)}.month-buttons[_ngcontent-%COMP%]{margin:auto 2px;cursor:pointer;-webkit-user-select:none;user-select:none;color:var(--text-color)}.change-month-buttons[_ngcontent-%COMP%]:hover{background-color:var(--calendar-blue);transition:.5s;border-radius:50%}.inner-calendar[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:90%;font-family:var(--font-family);font-size:20px}.calendar-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);text-align:center}.material-symbols-rounded[_ngcontent-%COMP%]:hover{background-color:var(--logo-color);border-radius:50%;height:100%;transition:.3s}.days[_ngcontent-%COMP%]{margin:6px 0;text-align:center;-webkit-user-select:none;user-select:none}.day[_ngcontent-%COMP%]{margin:3px;background-color:#cdcccc;border-radius:5px;height:75px;display:flex;flex-direction:column}.day-selected[_ngcontent-%COMP%]{background-color:var(--calendar-blue)}.valid-day[_ngcontent-%COMP%]:hover{background-color:var(--calendar-blue);transition:.5s;cursor:pointer}.circle-day[_ngcontent-%COMP%]{background-color:var(--calendar-blue);height:30px;width:30px;border-radius:50%;margin:auto}.has-event[_ngcontent-%COMP%]{width:7px;height:7px;border-radius:50px;margin:auto;background-color:purple}.add-event-button[_ngcontent-%COMP%]{margin-right:20px;padding-bottom:20px;display:flex;justify-content:flex-end;flex-wrap:wrap}@media screen and (max-width: 599px){.calendar-container[_ngcontent-%COMP%]{box-sizing:border-box;margin-top:20px;margin-left:15px;margin-right:15px;width:calc(100% - 30px)}.inner-calendar[_ngcontent-%COMP%]{width:96%;font-size:medium}}@media screen and (min-width: 600px) and (max-width: 1400px){.calendar-container[_ngcontent-%COMP%]{margin-left:20px;margin-right:10px;margin-bottom:20px;padding:15px;max-width:100vw}.inner-calendar[_ngcontent-%COMP%]{width:96%}}"]})}}return t})();var ij=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=X({type:t,selectors:[["app-perfil"]],standalone:!1,decls:1,vars:0,template:function(n,r){n&1&&V(0,`perfil
`)},encapsulation:2})}}return t})();function Bne(t,i){if(t&1&&(M(0,"li"),V(1),I()),t&2){let e=i.$implicit;T(),qe(e)}}function zne(t,i){if(t&1&&(M(0,"mat-accordion")(1,"mat-expansion-panel",3)(2,"mat-expansion-panel-header")(3,"mat-panel-title"),V(4),I()(),M(5,"div",4)(6,"ul"),ae(7,Bne,2,1,"li",2),I()()()()),t&2){let e=i.$implicit;T(4),Ht(" ",e.titulo," "),T(3),W("ngForOf",e.regras)}}var nj=(()=>{class t{constructor(){this.tipoRegraSelecionado="",this.regrasExibidas=[],this.todasAsRegras=[{titulo:"Regras de Quotas",regras:["Regra 1: O pagamento das quotas, sem multa, tem de ser feito at\xE9 ao fim do m\xEAs corrente.","Regra 2: A partir do 1\xBAdia do m\xEAs seguinte adiciona 1\u20AC a cada dia at\xE9 ao 10\xBA dia.","Regra 3: Do 10\xBA ao \xFAltimo dia do m\xEAs o valor da multa \xE9 10\u20AC.","Regra 4: Ao passarem 2 meses a multa passa para 20\u20AC.","EXEMPLO: Se a quota de ABRIL for paga a 4 de MAIO a multa ser\xE1 de 4\u20AC totalizando 14\u20AC de quota"]},{titulo:"Regras de Conv\xEDvios",regras:["Regra 1: \xC9 PRO\xCDBIDO a qualquer membro, exceto os da comiss\xE3o, oferecer bebidas. Os membros da comiss\xE3o s\xF3 podem oferecer bebidas a membros de outras comiss\xF5es. O incumprimento desta regra implicar\xE1 uma multa de 5\u20AC.","Regra 2: Em caso de aus\xEAncia a um turno marcado, ser\xE1 aplicada uma multa de 5\u20AC na primeira ocorr\xEAncia. As aus\xEAncias subsequentes ser\xE3o multadas em 10\u20AC.","Regra 3: A presen\xE7a dos membros nos conv\xEDvios \xE9 obrigat\xF3ria, sendo que a aus\xEAncia a dois conv\xEDvios consecutivos implicar\xE1 uma multa de 2\u20AC, e a acumula\xE7\xE3o de quatro aus\xEAncias ao longo do ano letivo resultar\xE1 numa multa de 10\u20AC","Regra 4: A pontualidade no in\xEDcio dos turnos \xE9 exigida. Ap\xF3s 5 minutos da hora marcada, ser\xE1 aplicada uma multa de 5\u20AC.","Regra 5: Caso um membro se apresente incapacitado(a) por embriaguez para realizar o turno, ser\xE1 aplicada uma multa de 2\u20AC."]},{titulo:"Regras de Reuni\xF5es",regras:["Regra 1: Ap\xF3s uma toler\xE2ncia de 15 minutos no in\xEDcio das reuni\xF5es, ser\xE1 aplicada uma multa de 2\u20AC por atraso.","Regra 2: A presen\xE7a em reuni\xF5es \xE9 obrigat\xF3ria para todos os membros. A primeira e a segunda faltas implicar\xE3o uma multa de 2\u20AC cada. A partir da terceira e quarta faltas, a multa ser\xE1 de 5\u20AC cada, e da quinta falta em diante, a multa ser\xE1 de 10\u20AC","Regra 3: A pontualidade no in\xEDcio dos turnos \xE9 exigida. Ap\xF3s 5 minutos da hora marcada, ser\xE1 aplicada uma multa de 5\u20AC.","Regra 4: Caso um membro se apresente incapacitado(a) por embriaguez para realizar o turno, ser\xE1 aplicada uma multa de 2\u20AC."]},{titulo:"Regras de Rifas",regras:["Regra 1: O valor correspondente \xE0 totalidade das rifas entregues como obrigat\xF3rias deve ser devolvido em dinheiro.","Regra 2: As rifas opcionais n\xE3o s\xE3o sujeitas \xE0 regra 1"]},{titulo:"Regras de Jantares de Curso",regras:["Regra 1: Os membros que faltarem a um jantar de curso ter\xE3o de pagar a diferen\xE7a entre o custo real por pessoa do evento e o pre\xE7o definido para os participantes.","EXEMPLO: Se o restaurante cobrar 14\u20AC por pessoa e o pre\xE7o para os participantes for 15\u20AC, o membro ausente pagar\xE1 1\u20AC."]}]}ngOnInit(){}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=X({type:t,selectors:[["app-regras"]],standalone:!1,decls:9,vars:1,consts:[[1,"regras-container"],[1,"highlight-bioquimica"],[4,"ngFor","ngForOf"],[1,"tipo-container"],[1,"conteudo-regras"]],template:function(n,r){n&1&&(M(0,"div",0)(1,"h2"),V(2,"Regras "),M(3,"p"),V(4,"Carro "),M(5,"span",1),V(6,"Bioqu\xEDmica"),I(),V(7," 2027 "),I()(),ae(8,zne,8,2,"mat-accordion",2),I()),n&2&&(T(8),W("ngForOf",r.todasAsRegras))},dependencies:[Sa,Ip,rh,ah,Mp],styles:[".regras-container[_ngcontent-%COMP%]{max-width:1200px;height:fit-content;box-shadow:0 2px 4px #0000001a;background-color:#fff;border-radius:5px;margin:20px auto;grid-column:2;padding:10px;overflow:hidden}h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{color:#333;margin-bottom:20px;font-size:2em}h3[_ngcontent-%COMP%]{font-size:1.5em}p[_ngcontent-%COMP%]{margin-top:0}.highlight-bioquimica[_ngcontent-%COMP%]{color:#0095d7}.conteudo-regras[_ngcontent-%COMP%]{border-top:1px solid #eee;padding-top:20px}.conteudo-regras[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0}.conteudo-regras[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#f9f9f9;border:1px solid #e5e5e5;margin-bottom:10px;padding:15px;border-radius:5px;line-height:1.6;color:#555;font-size:1em}.conteudo-regras[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;color:#777;font-style:italic;font-size:1em}.tipo-container[_ngcontent-%COMP%]{margin-bottom:10px}@media screen and (max-width: 599px){.regras-container[_ngcontent-%COMP%]{box-sizing:border-box;margin:20px 15px;width:calc(100% - 30px)}h2[_ngcontent-%COMP%]{margin-bottom:15px}.conteudo-regras[_ngcontent-%COMP%]{padding-top:15px}.conteudo-regras[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:12px}}@media screen and (min-width: 600px) and (max-width: 1400px){.regras-container[_ngcontent-%COMP%]{margin-left:20px;margin-right:10px;margin-bottom:20px;padding:15px;max-width:100vw}h2[_ngcontent-%COMP%]{margin-bottom:15px}.conteudo-regras[_ngcontent-%COMP%]{padding-top:15px}.conteudo-regras[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:12px}}"]})}}return t})();var rj=()=>["month","valor"];function jne(t,i){t&1&&(M(0,"th",16),V(1,"M\xEAs"),I())}function Une(t,i){if(t&1&&(M(0,"td",17),V(1),I()),t&2){let e=i.$implicit;T(),qe(e.month)}}function Hne(t,i){t&1&&(M(0,"th",16),V(1,"Valor"),I())}function Gne(t,i){if(t&1&&(M(0,"td",17),V(1),I()),t&2){let e=i.$implicit;T(),qe(e.valor+"\u20AC")}}function Wne(t,i){t&1&&(M(0,"th",16),V(1,"Data de pagamento"),I())}function $ne(t,i){if(t&1&&(M(0,"td",17),V(1),na(2,"date"),I()),t&2){let e=i.$implicit;T(),qe(ra(2,1,e.paymentDate,"longDate"))}}function Yne(t,i){t&1&&re(0,"tr",18)}function Kne(t,i){t&1&&re(0,"tr",19)}function qne(t,i){if(t&1&&(M(0,"table",8),vn(1,9),ae(2,jne,2,0,"th",10)(3,Une,2,1,"td",11),_n(),vn(4,12),ae(5,Hne,2,0,"th",10)(6,Gne,2,1,"td",11),_n(),vn(7,13),ae(8,Wne,2,0,"th",10)(9,$ne,3,4,"td",11),_n(),ae(10,Yne,1,0,"tr",14)(11,Kne,1,0,"tr",15),I()),t&2){let e=xe();W("dataSource",e.dataSourcePaid),T(10),W("matHeaderRowDef",e.displayedColumnsPaid),T(),W("matRowDefColumns",e.displayedColumnsPaid)}}function Zne(t,i){t&1&&(M(0,"h2",20),V(1,"Sem quotas pagas."),I())}function Qne(t,i){t&1&&(M(0,"th",16),V(1,"M\xEAs"),I())}function Xne(t,i){if(t&1&&(M(0,"td",17),V(1),I()),t&2){let e=i.$implicit;T(),qe(e.month)}}function Jne(t,i){t&1&&(M(0,"th",16),V(1,"Valor"),I())}function ere(t,i){if(t&1&&(M(0,"td",17),V(1),I()),t&2){let e=i.$implicit;T(),qe(e.valor+"\u20AC")}}function tre(t,i){t&1&&re(0,"tr",18)}function ire(t,i){t&1&&re(0,"tr",19)}function nre(t,i){if(t&1&&(M(0,"table",8),vn(1,9),ae(2,Qne,2,0,"th",10)(3,Xne,2,1,"td",11),_n(),vn(4,12),ae(5,Jne,2,0,"th",10)(6,ere,2,1,"td",11),_n(),ae(7,tre,1,0,"tr",14)(8,ire,1,0,"tr",15),I()),t&2){let e=xe();W("dataSource",e.dataSourceUnpaid),T(7),W("matHeaderRowDef",Lr(3,rj)),T(),W("matRowDefColumns",Lr(4,rj))}}function rre(t,i){t&1&&(M(0,"h2",20),V(1,"Sem quotas por pagar."),I())}var aj=(()=>{class t{constructor(e,n,r,a){this.dialogRef=e,this.data=n,this.quotasService=r,this.breakPointObserver=a,this.paidQuotas=[],this.unpaidQuotas=[],this.displayedColumnsPaid=["month","valor","paymentDate"]}ngOnInit(){this.breakPointObserver.observe([ql.Small,ql.Handset]).subscribe(e=>{e.matches?this.displayedColumnsPaid=["month","paymentDate"]:this.displayedColumnsPaid=["month","valor","paymentDate"]}),this.quotasService.getUnpaidQuotasForUser(this.data.id).subscribe(e=>{for(var n of e){var r=this.quotasService.calculateFineForDate(new Date,n.month),a=n.valor+r;n.valor=a,n.month=this.getMonthStringFromMonthCode(n.month)}this.unpaidQuotas=e,this.dataSourceUnpaid=new rl(this.unpaidQuotas)}),this.quotasService.getPaidQuotasForUser(this.data.id).subscribe(e=>{for(var n of e){var r=this.quotasService.calculateFineForDate(n.paymentDate,n.month),a=n.valor+r;n.valor=a,n.month=this.getMonthStringFromMonthCode(n.month)}this.paidQuotas=e,this.dataSourcePaid=new rl(this.paidQuotas)})}getMonthStringFromMonthCode(e){var n=parseInt(e.substring(3)),r=this.quotasService.convertThreeCharacterMonthIntoIndex(e.substring(0,3)),a=new Date(n,r,1),o=a.toLocaleDateString("pt-PT",{month:"long",year:"numeric"}),s=o.charAt(0).toUpperCase()+o.slice(1);return s}fecharDialogo(){this.dialogRef.close()}static{this.\u0275fac=function(n){return new(n||t)(ee(Yn),ee(Do),ee(Cd),ee(ts))}}static{this.\u0275cmp=X({type:t,selectors:[["app-see-account-dialog"]],standalone:!1,decls:18,vars:6,consts:[[1,"header"],["mat-icon-button","",2,"align-self","end",3,"click"],["fontIcon","close"],[1,"tabs-container"],["label","Pagas"],["mat-table","","matSort","","class","mat-elevation-z8",3,"dataSource",4,"ngIf"],["class","no-quotas-message",4,"ngIf"],["label","Por pagar"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","month"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","valor"],["matColumnDef","paymentDate"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],[1,"no-quotas-message"]],template:function(n,r){n&1&&(M(0,"mat-dialog-content")(1,"div",0)(2,"h1"),V(3),I(),M(4,"button",1),Q("click",function(){return r.fecharDialogo()}),re(5,"mat-icon",2),I()(),M(6,"h2"),V(7),I(),M(8,"h3"),V(9,"Hist\xF3rico de quotas"),I(),M(10,"div",3)(11,"mat-tab-group")(12,"mat-tab",4),ae(13,qne,12,3,"table",5)(14,Zne,2,0,"h2",6),I(),M(15,"mat-tab",7),ae(16,nre,9,5,"table",5)(17,rre,2,0,"h2",6),I()()()()),n&2&&(T(3),qe(r.data.name),T(4),qe(r.data.type),T(6),W("ngIf",(r.dataSourcePaid==null||r.dataSourcePaid.data==null?null:r.dataSourcePaid.data.length)>0),T(),W("ngIf",(r.dataSourcePaid==null||r.dataSourcePaid.data==null?null:r.dataSourcePaid.data.length)===0),T(2),W("ngIf",(r.dataSourceUnpaid==null||r.dataSourceUnpaid.data==null?null:r.dataSourceUnpaid.data.length)>0),T(),W("ngIf",(r.dataSourceUnpaid==null||r.dataSourceUnpaid.data==null?null:r.dataSourceUnpaid.data.length)===0))},dependencies:[Xo,Br,da,cr,th,Cp,Om,Nm,Bm,Pm,Lm,zm,Fm,Vm,jm,Um,wp,Yl],styles:[".header[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center}.tabs-container[_ngcontent-%COMP%]{max-width:1200px;height:fit-content;background-color:var(--bg-color);border-radius:5px;margin-top:20px;margin-left:auto;margin-right:auto;grid-column:2;padding:10px;overflow:hidden}.no-quotas-message[_ngcontent-%COMP%]{text-align:center;margin-top:20px}"]})}}return t})();var SC=(()=>{class t{constructor(e){this.storageService=e}getAccountBalance(){return this.storageService.getData("balance")}setIncomeValue(e){return this.storageService.setData("balance/income",e)}setExpensesValue(e){return this.storageService.setData("balance/expenses",e)}setHandValue(e){return this.storageService.setData("balance/handTotal",e)}static{this.\u0275fac=function(n){return new(n||t)(Te(xd))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var are=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=X({type:t,selectors:[["ng-component"]],hostAttrs:["cdk-text-field-style-loader",""],decls:0,vars:0,template:function(n,r){},styles:[`textarea.cdk-textarea-autosize{resize:none}textarea.cdk-textarea-autosize-measuring{padding:2px 0 !important;box-sizing:content-box !important;height:auto !important;overflow:hidden !important}textarea.cdk-textarea-autosize-measuring-firefox{padding:2px 0 !important;box-sizing:content-box !important;height:0 !important}@keyframes cdk-text-field-autofill-start{/*!*/}@keyframes cdk-text-field-autofill-end{/*!*/}.cdk-text-field-autofill-monitored:-webkit-autofill{animation:cdk-text-field-autofill-start 0s 1ms}.cdk-text-field-autofill-monitored:not(:-webkit-autofill){animation:cdk-text-field-autofill-end 0s 1ms}
`],encapsulation:2,changeDetection:0})}return t})(),ore={passive:!0},sj=(()=>{class t{_platform=_(Ft);_ngZone=_(Ce);_renderer=_(gr).createRenderer(null,null);_styleLoader=_(hi);_monitoredElements=new Map;constructor(){}monitor(e){if(!this._platform.isBrowser)return ea;this._styleLoader.load(are);let n=oa(e),r=this._monitoredElements.get(n);if(r)return r.subject;let a=new oe,o="cdk-text-field-autofilled",s=c=>{c.animationName==="cdk-text-field-autofill-start"&&!n.classList.contains(o)?(n.classList.add(o),this._ngZone.run(()=>a.next({target:c.target,isAutofilled:!0}))):c.animationName==="cdk-text-field-autofill-end"&&n.classList.contains(o)&&(n.classList.remove(o),this._ngZone.run(()=>a.next({target:c.target,isAutofilled:!1})))},l=this._ngZone.runOutsideAngular(()=>(n.classList.add("cdk-text-field-autofill-monitored"),Li(this._renderer,n,"animationstart",s,ore)));return this._monitoredElements.set(n,{subject:a,unlisten:l}),a}stopMonitoring(e){let n=oa(e),r=this._monitoredElements.get(n);r&&(r.unlisten(),r.subject.complete(),n.classList.remove("cdk-text-field-autofill-monitored"),n.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(n))}ngOnDestroy(){this._monitoredElements.forEach((e,n)=>this.stopMonitoring(n))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var lj=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Se({type:t});static \u0275inj=De({})}return t})();var gj=(()=>{class t{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,n){this._renderer=e,this._elementRef=n}setProperty(e,n){this._renderer.setProperty(this._elementRef.nativeElement,e,n)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(n){return new(n||t)(ee(Yt),ee(me))};static \u0275dir=Y({type:t})}return t})(),bj=(()=>{class t extends gj{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Dt(t)))(r||t)}})();static \u0275dir=Y({type:t,features:[Ve]})}return t})(),bs=new G("");var sre={provide:bs,useExisting:Rr(()=>So),multi:!0};function lre(){let t=$a()?$a().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var cre=new G(""),So=(()=>{class t extends gj{_compositionMode;_composing=!1;constructor(e,n,r){super(e,n),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!lre())}writeValue(e){let n=e??"";this.setProperty("value",n)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(n){return new(n||t)(ee(Yt),ee(me),ee(cre,8))};static \u0275dir=Y({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){n&1&&Q("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},standalone:!1,features:[Ue([sre]),Ve]})}return t})();function hT(t){return t==null||mT(t)===0}function mT(t){return t==null?null:Array.isArray(t)||typeof t=="string"?t.length:t instanceof Set?t.size:null}var _l=new G(""),pT=new G(""),dre=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,yl=class{static min(i){return ure(i)}static max(i){return hre(i)}static required(i){return yj(i)}static requiredTrue(i){return mre(i)}static email(i){return pre(i)}static minLength(i){return fre(i)}static maxLength(i){return gre(i)}static pattern(i){return bre(i)}static nullValidator(i){return IC()}static compose(i){return Dj(i)}static composeAsync(i){return Sj(i)}};function ure(t){return i=>{if(i.value==null||t==null)return null;let e=parseFloat(i.value);return!isNaN(e)&&e<t?{min:{min:t,actual:i.value}}:null}}function hre(t){return i=>{if(i.value==null||t==null)return null;let e=parseFloat(i.value);return!isNaN(e)&&e>t?{max:{max:t,actual:i.value}}:null}}function yj(t){return hT(t.value)?{required:!0}:null}function mre(t){return t.value===!0?null:{required:!0}}function pre(t){return hT(t.value)||dre.test(t.value)?null:{email:!0}}function fre(t){return i=>{let e=i.value?.length??mT(i.value);return e===null||e===0?null:e<t?{minlength:{requiredLength:t,actualLength:e}}:null}}function gre(t){return i=>{let e=i.value?.length??mT(i.value);return e!==null&&e>t?{maxlength:{requiredLength:t,actualLength:e}}:null}}function bre(t){if(!t)return IC;let i,e;return typeof t=="string"?(e="",t.charAt(0)!=="^"&&(e+="^"),e+=t,t.charAt(t.length-1)!=="$"&&(e+="$"),i=new RegExp(e)):(e=t.toString(),i=t),n=>{if(hT(n.value))return null;let r=n.value;return i.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}function IC(t){return null}function vj(t){return t!=null}function _j(t){return yg(t)?Vn(t):t}function xj(t){let i={};return t.forEach(e=>{i=e!=null?f(f({},i),e):i}),Object.keys(i).length===0?null:i}function Cj(t,i){return i.map(e=>e(t))}function yre(t){return!t.validate}function wj(t){return t.map(i=>yre(i)?i:e=>i.validate(e))}function Dj(t){if(!t)return null;let i=t.filter(vj);return i.length==0?null:function(e){return xj(Cj(e,i))}}function fT(t){return t!=null?Dj(wj(t)):null}function Sj(t){if(!t)return null;let i=t.filter(vj);return i.length==0?null:function(e){let n=Cj(e,i).map(_j);return p_(n).pipe(Re(xj))}}function gT(t){return t!=null?Sj(wj(t)):null}function cj(t,i){return t===null?[i]:Array.isArray(t)?[...t,i]:[t,i]}function Mj(t){return t._rawValidators}function Ij(t){return t._rawAsyncValidators}function uT(t){return t?Array.isArray(t)?t:[t]:[]}function kC(t,i){return Array.isArray(t)?t.includes(i):t===i}function dj(t,i){let e=uT(i);return uT(t).forEach(r=>{kC(e,r)||e.push(r)}),e}function uj(t,i){return uT(i).filter(e=>!kC(t,e))}var AC=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(i){this._rawValidators=i||[],this._composedValidatorFn=fT(this._rawValidators)}_setAsyncValidators(i){this._rawAsyncValidators=i||[],this._composedAsyncValidatorFn=gT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(i){this._onDestroyCallbacks.push(i)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(i=>i()),this._onDestroyCallbacks=[]}reset(i=void 0){this.control&&this.control.reset(i)}hasError(i,e){return this.control?this.control.hasError(i,e):!1}getError(i,e){return this.control?this.control.getError(i,e):null}},lc=class extends AC{name;get formDirective(){return null}get path(){return null}},vl=class extends AC{_parent=null;name=null;valueAccessor=null},EC=class{_cd;constructor(i){this._cd=i}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},vre={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},uRe=S(f({},vre),{"[class.ng-submitted]":"isSubmitted"}),Ra=(()=>{class t extends EC{constructor(e){super(e)}static \u0275fac=function(n){return new(n||t)(ee(vl,2))};static \u0275dir=Y({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){n&2&&de("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[Ve]})}return t})(),Ep=(()=>{class t extends EC{constructor(e){super(e)}static \u0275fac=function(n){return new(n||t)(ee(lc,10))};static \u0275dir=Y({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){n&2&&de("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},standalone:!1,features:[Ve]})}return t})();var uy="VALID",MC="INVALID",kp="PENDING",hy="DISABLED",Id=class{},TC=class extends Id{value;source;constructor(i,e){super(),this.value=i,this.source=e}},py=class extends Id{pristine;source;constructor(i,e){super(),this.pristine=i,this.source=e}},fy=class extends Id{touched;source;constructor(i,e){super(),this.touched=i,this.source=e}},Ap=class extends Id{status;source;constructor(i,e){super(),this.status=i,this.source=e}},RC=class extends Id{source;constructor(i){super(),this.source=i}},OC=class extends Id{source;constructor(i){super(),this.source=i}};function kj(t){return(BC(t)?t.validators:t)||null}function _re(t){return Array.isArray(t)?fT(t):t||null}function Aj(t,i){return(BC(i)?i.asyncValidators:t)||null}function xre(t){return Array.isArray(t)?gT(t):t||null}function BC(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function Cre(t,i,e){let n=t.controls;if(!(i?Object.keys(n):n).length)throw new gt(1e3,"");if(!n[e])throw new gt(1001,"")}function wre(t,i,e){t._forEachChild((n,r)=>{if(e[r]===void 0)throw new gt(1002,"")})}var LC=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(i,e){this._assignValidators(i),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(i){this._rawValidators=this._composedValidatorFn=i}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(i){this._rawAsyncValidators=this._composedAsyncValidatorFn=i}get parent(){return this._parent}get status(){return br(this.statusReactive)}set status(i){br(()=>this.statusReactive.set(i))}_status=jn(()=>this.statusReactive());statusReactive=yn(void 0);get valid(){return this.status===uy}get invalid(){return this.status===MC}get pending(){return this.status==kp}get disabled(){return this.status===hy}get enabled(){return this.status!==hy}errors;get pristine(){return br(this.pristineReactive)}set pristine(i){br(()=>this.pristineReactive.set(i))}_pristine=jn(()=>this.pristineReactive());pristineReactive=yn(!0);get dirty(){return!this.pristine}get touched(){return br(this.touchedReactive)}set touched(i){br(()=>this.touchedReactive.set(i))}_touched=jn(()=>this.touchedReactive());touchedReactive=yn(!1);get untouched(){return!this.touched}_events=new oe;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(i){this._assignValidators(i)}setAsyncValidators(i){this._assignAsyncValidators(i)}addValidators(i){this.setValidators(dj(i,this._rawValidators))}addAsyncValidators(i){this.setAsyncValidators(dj(i,this._rawAsyncValidators))}removeValidators(i){this.setValidators(uj(i,this._rawValidators))}removeAsyncValidators(i){this.setAsyncValidators(uj(i,this._rawAsyncValidators))}hasValidator(i){return kC(this._rawValidators,i)}hasAsyncValidator(i){return kC(this._rawAsyncValidators,i)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(i={}){let e=this.touched===!1;this.touched=!0;let n=i.sourceControl??this;this._parent&&!i.onlySelf&&this._parent.markAsTouched(S(f({},i),{sourceControl:n})),e&&i.emitEvent!==!1&&this._events.next(new fy(!0,n))}markAllAsTouched(i={}){this.markAsTouched({onlySelf:!0,emitEvent:i.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(i))}markAsUntouched(i={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let n=i.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:i.emitEvent,sourceControl:n})}),this._parent&&!i.onlySelf&&this._parent._updateTouched(i,n),e&&i.emitEvent!==!1&&this._events.next(new fy(!1,n))}markAsDirty(i={}){let e=this.pristine===!0;this.pristine=!1;let n=i.sourceControl??this;this._parent&&!i.onlySelf&&this._parent.markAsDirty(S(f({},i),{sourceControl:n})),e&&i.emitEvent!==!1&&this._events.next(new py(!1,n))}markAsPristine(i={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let n=i.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:i.emitEvent})}),this._parent&&!i.onlySelf&&this._parent._updatePristine(i,n),e&&i.emitEvent!==!1&&this._events.next(new py(!0,n))}markAsPending(i={}){this.status=kp;let e=i.sourceControl??this;i.emitEvent!==!1&&(this._events.next(new Ap(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!i.onlySelf&&this._parent.markAsPending(S(f({},i),{sourceControl:e}))}disable(i={}){let e=this._parentMarkedDirty(i.onlySelf);this.status=hy,this.errors=null,this._forEachChild(r=>{r.disable(S(f({},i),{onlySelf:!0}))}),this._updateValue();let n=i.sourceControl??this;i.emitEvent!==!1&&(this._events.next(new TC(this.value,n)),this._events.next(new Ap(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(S(f({},i),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(i={}){let e=this._parentMarkedDirty(i.onlySelf);this.status=uy,this._forEachChild(n=>{n.enable(S(f({},i),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent}),this._updateAncestors(S(f({},i),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(i,e){this._parent&&!i.onlySelf&&(this._parent.updateValueAndValidity(i),i.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(i){this._parent=i}getRawValue(){return this.value}updateValueAndValidity(i={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let n=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===uy||this.status===kp)&&this._runAsyncValidator(n,i.emitEvent)}let e=i.sourceControl??this;i.emitEvent!==!1&&(this._events.next(new TC(this.value,e)),this._events.next(new Ap(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!i.onlySelf&&this._parent.updateValueAndValidity(S(f({},i),{sourceControl:e}))}_updateTreeValidity(i={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(i)),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?hy:uy}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(i,e){if(this.asyncValidator){this.status=kp,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let n=_j(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:e,shouldHaveEmitted:i})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let i=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,i}return!1}setErrors(i,e={}){this.errors=i,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(i){let e=i;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((n,r)=>n&&n._find(r),this)}getError(i,e){let n=e?this.get(e):this;return n&&n.errors?n.errors[i]:null}hasError(i,e){return!!this.getError(i,e)}get root(){let i=this;for(;i._parent;)i=i._parent;return i}_updateControlsErrors(i,e,n){this.status=this._calculateStatus(),i&&this.statusChanges.emit(this.status),(i||n)&&this._events.next(new Ap(this.status,e)),this._parent&&this._parent._updateControlsErrors(i,e,n)}_initObservables(){this.valueChanges=new ie,this.statusChanges=new ie}_calculateStatus(){return this._allControlsDisabled()?hy:this.errors?MC:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(kp)?kp:this._anyControlsHaveStatus(MC)?MC:uy}_anyControlsHaveStatus(i){return this._anyControls(e=>e.status===i)}_anyControlsDirty(){return this._anyControls(i=>i.dirty)}_anyControlsTouched(){return this._anyControls(i=>i.touched)}_updatePristine(i,e){let n=!this._anyControlsDirty(),r=this.pristine!==n;this.pristine=n,this._parent&&!i.onlySelf&&this._parent._updatePristine(i,e),r&&this._events.next(new py(this.pristine,e))}_updateTouched(i={},e){this.touched=this._anyControlsTouched(),this._events.next(new fy(this.touched,e)),this._parent&&!i.onlySelf&&this._parent._updateTouched(i,e)}_onDisabledChange=[];_registerOnCollectionChange(i){this._onCollectionChange=i}_setUpdateStrategy(i){BC(i)&&i.updateOn!=null&&(this._updateOn=i.updateOn)}_parentMarkedDirty(i){let e=this._parent&&this._parent.dirty;return!i&&!!e&&!this._parent._anyControlsDirty()}_find(i){return null}_assignValidators(i){this._rawValidators=Array.isArray(i)?i.slice():i,this._composedValidatorFn=_re(this._rawValidators)}_assignAsyncValidators(i){this._rawAsyncValidators=Array.isArray(i)?i.slice():i,this._composedAsyncValidatorFn=xre(this._rawAsyncValidators)}},NC=class extends LC{constructor(i,e,n){super(kj(e),Aj(n,e)),this.controls=i,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(i,e){return this.controls[i]?this.controls[i]:(this.controls[i]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(i,e,n={}){this.registerControl(i,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(i,e={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(i,e,n={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],e&&this.registerControl(i,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(i){return this.controls.hasOwnProperty(i)&&this.controls[i].enabled}setValue(i,e={}){wre(this,!0,i),Object.keys(i).forEach(n=>{Cre(this,!0,n),this.controls[n].setValue(i[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(i,e={}){i!=null&&(Object.keys(i).forEach(n=>{let r=this.controls[n];r&&r.patchValue(i[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(i={},e={}){this._forEachChild((n,r)=>{n.reset(i?i[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(i,e,n)=>(i[n]=e.getRawValue(),i))}_syncPendingControls(){let i=this._reduceChildren(!1,(e,n)=>n._syncPendingControls()?!0:e);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_forEachChild(i){Object.keys(this.controls).forEach(e=>{let n=this.controls[e];n&&i(n,e)})}_setUpControls(){this._forEachChild(i=>{i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(i){for(let[e,n]of Object.entries(this.controls))if(this.contains(e)&&i(n))return!0;return!1}_reduceValue(){let i={};return this._reduceChildren(i,(e,n,r)=>((n.enabled||this.disabled)&&(e[r]=n.value),e))}_reduceChildren(i,e){let n=i;return this._forEachChild((r,a)=>{n=e(n,r,a)}),n}_allControlsDisabled(){for(let i of Object.keys(this.controls))if(this.controls[i].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(i){return this.controls.hasOwnProperty(i)?this.controls[i]:null}};var zC=new G("",{providedIn:"root",factory:()=>bT}),bT="always";function Dre(t,i){return[...i.path,t]}function PC(t,i,e=bT){yT(t,i),i.valueAccessor.writeValue(t.value),(t.disabled||e==="always")&&i.valueAccessor.setDisabledState?.(t.disabled),Mre(t,i),kre(t,i),Ire(t,i),Sre(t,i)}function hj(t,i,e=!0){let n=()=>{};i.valueAccessor&&(i.valueAccessor.registerOnChange(n),i.valueAccessor.registerOnTouched(n)),VC(t,i),t&&(i._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function FC(t,i){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(i)})}function Sre(t,i){if(i.valueAccessor.setDisabledState){let e=n=>{i.valueAccessor.setDisabledState(n)};t.registerOnDisabledChange(e),i._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}function yT(t,i){let e=Mj(t);i.validator!==null?t.setValidators(cj(e,i.validator)):typeof e=="function"&&t.setValidators([e]);let n=Ij(t);i.asyncValidator!==null?t.setAsyncValidators(cj(n,i.asyncValidator)):typeof n=="function"&&t.setAsyncValidators([n]);let r=()=>t.updateValueAndValidity();FC(i._rawValidators,r),FC(i._rawAsyncValidators,r)}function VC(t,i){let e=!1;if(t!==null){if(i.validator!==null){let r=Mj(t);if(Array.isArray(r)&&r.length>0){let a=r.filter(o=>o!==i.validator);a.length!==r.length&&(e=!0,t.setValidators(a))}}if(i.asyncValidator!==null){let r=Ij(t);if(Array.isArray(r)&&r.length>0){let a=r.filter(o=>o!==i.asyncValidator);a.length!==r.length&&(e=!0,t.setAsyncValidators(a))}}}let n=()=>{};return FC(i._rawValidators,n),FC(i._rawAsyncValidators,n),e}function Mre(t,i){i.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&Ej(t,i)})}function Ire(t,i){i.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&Ej(t,i),t.updateOn!=="submit"&&t.markAsTouched()})}function Ej(t,i){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),i.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function kre(t,i){let e=(n,r)=>{i.valueAccessor.writeValue(n),r&&i.viewToModelUpdate(n)};t.registerOnChange(e),i._registerOnDestroy(()=>{t._unregisterOnChange(e)})}function Tj(t,i){t==null,yT(t,i)}function Are(t,i){return VC(t,i)}function Ere(t,i){if(!t.hasOwnProperty("model"))return!1;let e=t.model;return e.isFirstChange()?!0:!Object.is(i,e.currentValue)}function Tre(t){return Object.getPrototypeOf(t.constructor)===bj}function Rj(t,i){t._syncPendingControls(),i.forEach(e=>{let n=e.control;n.updateOn==="submit"&&n._pendingChange&&(e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function Rre(t,i){if(!i)return null;Array.isArray(i);let e,n,r;return i.forEach(a=>{a.constructor===So?e=a:Tre(a)?n=a:r=a}),r||n||e||null}function Ore(t,i){let e=t.indexOf(i);e>-1&&t.splice(e,1)}var Lre={provide:lc,useExisting:Rr(()=>Mo)},my=Promise.resolve(),Mo=(()=>{class t extends lc{callSetDisabledState;get submitted(){return br(this.submittedReactive)}_submitted=jn(()=>this.submittedReactive());submittedReactive=yn(!1);_directives=new Set;form;ngSubmit=new ie;options;constructor(e,n,r){super(),this.callSetDisabledState=r,this.form=new NC({},fT(e),gT(n))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){my.then(()=>{let n=this._findContainer(e.path);e.control=n.registerControl(e.name,e.control),PC(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){my.then(()=>{let n=this._findContainer(e.path);n&&n.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){my.then(()=>{let n=this._findContainer(e.path),r=new NC({});Tj(r,e),n.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){my.then(()=>{let n=this._findContainer(e.path);n&&n.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,n){my.then(()=>{this.form.get(e.path).setValue(n)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),Rj(this.form,this._directives),this.ngSubmit.emit(e),this.form._events.next(new RC(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1),this.form._events.next(new OC(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static \u0275fac=function(n){return new(n||t)(ee(_l,10),ee(pT,10),ee(zC,8))};static \u0275dir=Y({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,r){n&1&&Q("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Ue([Lre]),Ve]})}return t})();function mj(t,i){let e=t.indexOf(i);e>-1&&t.splice(e,1)}function pj(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Oj=class extends LC{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(i=null,e,n){super(kj(e),Aj(n,e)),this._applyFormState(i),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),BC(e)&&(e.nonNullable||e.initialValueIsDefault)&&(pj(i)?this.defaultValue=i.value:this.defaultValue=i)}setValue(i,e={}){this.value=this._pendingValue=i,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(i,e={}){this.setValue(i,e)}reset(i=this.defaultValue,e={}){this._applyFormState(i),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(i){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(i){this._onChange.push(i)}_unregisterOnChange(i){mj(this._onChange,i)}registerOnDisabledChange(i){this._onDisabledChange.push(i)}_unregisterOnDisabledChange(i){mj(this._onDisabledChange,i)}_forEachChild(i){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(i){pj(i)?(this.value=this._pendingValue=i.value,i.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=i}};var Nre=t=>t instanceof Oj;var Pre={provide:vl,useExisting:Rr(()=>ua)},fj=Promise.resolve(),ua=(()=>{class t extends vl{_changeDetectorRef;callSetDisabledState;control=new Oj;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new ie;constructor(e,n,r,a,o,s){super(),this._changeDetectorRef=o,this.callSetDisabledState=s,this._parent=e,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=Rre(this,a)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let n=e.name.previousValue;this.formDirective.removeControl({name:n,path:this._getPath(n)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),Ere(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){PC(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){fj.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let n=e.isDisabled.currentValue,r=n!==0&&J(n);fj.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?Dre(e,this._parent):[e]}static \u0275fac=function(n){return new(n||t)(ee(lc,9),ee(_l,10),ee(pT,10),ee(bs,10),ee(et,8),ee(zC,8))};static \u0275dir=Y({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Ue([Pre]),Ve,_t]})}return t})();var Tp=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})(),Fre={provide:bs,useExisting:Rr(()=>vT),multi:!0},vT=(()=>{class t extends bj{writeValue(e){let n=e??"";this.setProperty("value",n)}registerOnChange(e){this.onChange=n=>{e(n==""?null:parseFloat(n))}}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Dt(t)))(r||t)}})();static \u0275dir=Y({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(n,r){n&1&&Q("input",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},standalone:!1,features:[Ue([Fre]),Ve]})}return t})();var Vre={provide:lc,useExisting:Rr(()=>Rp)},Rp=(()=>{class t extends lc{callSetDisabledState;get submitted(){return br(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}_submitted=jn(()=>this._submittedReactive());_submittedReactive=yn(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new ie;constructor(e,n,r){super(),this.callSetDisabledState=r,this._setValidators(e),this._setAsyncValidators(n)}ngOnChanges(e){e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(VC(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let n=this.form.get(e.path);return PC(n,e,this.callSetDisabledState),n.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),n}getControl(e){return this.form.get(e.path)}removeControl(e){hj(e.control||null,e,!1),Ore(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,n){this.form.get(e.path).setValue(n)}onSubmit(e){return this._submittedReactive.set(!0),Rj(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new RC(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this._submittedReactive.set(!1),this.form._events.next(new OC(this.form))}_updateDomValue(){this.directives.forEach(e=>{let n=e.control,r=this.form.get(e.path);n!==r&&(hj(n||null,e),Nre(r)&&(PC(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let n=this.form.get(e.path);Tj(n,e),n.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let n=this.form.get(e.path);n&&Are(n,e)&&n.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){yT(this.form,this),this._oldForm&&VC(this._oldForm,this)}static \u0275fac=function(n){return new(n||t)(ee(_l,10),ee(pT,10),ee(zC,8))};static \u0275dir=Y({type:t,selectors:[["","formGroup",""]],hostBindings:function(n,r){n&1&&Q("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Ue([Vre]),Ve,_t]})}return t})();var Bre=(()=>{class t{_validator=IC;_onChange;_enabled;ngOnChanges(e){if(this.inputName in e){let n=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(n),this._validator=this._enabled?this.createValidator(n):IC,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,features:[_t]})}return t})();var zre={provide:_l,useExisting:Rr(()=>gy),multi:!0};var gy=(()=>{class t extends Bre{required;inputName="required";normalizeInput=J;createValidator=e=>yj;enabled(e){return e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Dt(t)))(r||t)}})();static \u0275dir=Y({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(n,r){n&2&&Ee("required",r._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Ue([zre]),Ve]})}return t})();var jre=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Se({type:t});static \u0275inj=De({})}return t})();var Lj=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:zC,useValue:e.callSetDisabledState??bT}]}}static \u0275fac=function(n){return new(n||t)};static \u0275mod=Se({type:t});static \u0275inj=De({imports:[jre]})}return t})();var Op=new G("MAT_INPUT_VALUE_ACCESSOR");var Ure=["notch"],Hre=["matFormFieldNotchedOutline",""],Gre=["*"],Wre=["textField"],$re=["iconPrefixContainer"],Yre=["textPrefixContainer"],Kre=["iconSuffixContainer"],qre=["textSuffixContainer"],Zre=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Qre=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function Xre(t,i){t&1&&re(0,"span",20)}function Jre(t,i){if(t&1&&(M(0,"label",19),Ie(1,1),ae(2,Xre,1,0,"span",20),I()),t&2){let e=xe(2);W("floating",e._shouldLabelFloat())("monitorResize",e._hasOutline())("id",e._labelId),Ee("for",e._control.disableAutomaticLabeling?null:e._control.id),T(2),At(!e.hideRequiredMarker&&e._control.required?2:-1)}}function eae(t,i){if(t&1&&ae(0,Jre,3,5,"label",19),t&2){let e=xe();At(e._hasFloatingLabel()?0:-1)}}function tae(t,i){t&1&&re(0,"div",7)}function iae(t,i){}function nae(t,i){if(t&1&&ae(0,iae,0,0,"ng-template",13),t&2){xe(2);let e=ar(1);W("ngTemplateOutlet",e)}}function rae(t,i){if(t&1&&(M(0,"div",9),ae(1,nae,1,1,null,13),I()),t&2){let e=xe();W("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat()),T(),At(e._forceDisplayInfixLabel()?-1:1)}}function aae(t,i){t&1&&(M(0,"div",10,2),Ie(2,2),I())}function oae(t,i){t&1&&(M(0,"div",11,3),Ie(2,3),I())}function sae(t,i){}function lae(t,i){if(t&1&&ae(0,sae,0,0,"ng-template",13),t&2){xe();let e=ar(1);W("ngTemplateOutlet",e)}}function cae(t,i){t&1&&(M(0,"div",14,4),Ie(2,4),I())}function dae(t,i){t&1&&(M(0,"div",15,5),Ie(2,5),I())}function uae(t,i){t&1&&re(0,"div",16)}function hae(t,i){t&1&&Ie(0,6)}function mae(t,i){if(t&1&&(M(0,"mat-hint",21),V(1),I()),t&2){let e=xe(2);W("id",e._hintLabelId),T(),qe(e.hintLabel)}}function pae(t,i){if(t&1&&(ae(0,mae,2,2,"mat-hint",21),Ie(1,7),re(2,"div",22),Ie(3,8)),t&2){let e=xe();At(e.hintLabel?0:-1)}}var xr=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["mat-label"]]})}return t})(),fae=new G("MatError");var _T=(()=>{class t{align="start";id=_(Kt).getId("mat-mdc-hint-");static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(n,r){n&2&&(Ca("id",r.id),Ee("align",null),de("mat-mdc-form-field-hint-end",r.align==="end"))},inputs:{align:"align",id:"id"}})}return t})(),gae=new G("MatPrefix");var jj=new G("MatSuffix"),cc=(()=>{class t{set _isTextSelector(e){this._isText=!0}_isText=!1;static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:[0,"matTextSuffix","_isTextSelector"]},features:[Ue([{provide:jj,useExisting:t}])]})}return t})(),Uj=new G("FloatingLabelParent"),Nj=(()=>{class t{_elementRef=_(me);get floating(){return this._floating}set floating(e){this._floating=e,this.monitorResize&&this._handleResize()}_floating=!1;get monitorResize(){return this._monitorResize}set monitorResize(e){this._monitorResize=e,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}_monitorResize=!1;_resizeObserver=_(sC);_ngZone=_(Ce);_parent=_(Uj);_resizeSubscription=new xt;constructor(){}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return bae(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(n,r){n&2&&de("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return t})();function bae(t){let i=t;if(i.offsetParent!==null)return i.scrollWidth;let e=i.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);let n=e.scrollWidth;return e.remove(),n}var Pj="mdc-line-ripple--active",jC="mdc-line-ripple--deactivating",Fj=(()=>{class t{_elementRef=_(me);_cleanupTransitionEnd;constructor(){let e=_(Ce),n=_(Yt);e.runOutsideAngular(()=>{this._cleanupTransitionEnd=n.listen(this._elementRef.nativeElement,"transitionend",this._handleTransitionEnd)})}activate(){let e=this._elementRef.nativeElement.classList;e.remove(jC),e.add(Pj)}deactivate(){this._elementRef.nativeElement.classList.add(jC)}_handleTransitionEnd=e=>{let n=this._elementRef.nativeElement.classList,r=n.contains(jC);e.propertyName==="opacity"&&r&&n.remove(Pj,jC)};ngOnDestroy(){this._cleanupTransitionEnd()}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return t})(),Vj=(()=>{class t{_elementRef=_(me);_ngZone=_(Ce);open=!1;_notch;constructor(){}ngAfterViewInit(){let e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(e){!this.open||!e?this._notch.nativeElement.style.width="":this._notch.nativeElement.style.width=`calc(${e}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=X({type:t,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(n,r){if(n&1&&Ke(Ure,5),n&2){let a;pe(a=fe())&&(r._notch=a.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(n,r){n&2&&de("mdc-notched-outline--notched",r.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},attrs:Hre,ngContentSelectors:Gre,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(n,r){n&1&&(ut(),re(0,"div",1),M(1,"div",2,0),Ie(3),I(),re(4,"div",3))},encapsulation:2,changeDetection:0})}return t})(),Lp=(()=>{class t{value;stateChanges;id;placeholder;ngControl;focused;empty;shouldLabelFloat;required;disabled;errorState;controlType;autofilled;userAriaDescribedBy;disableAutomaticLabeling;static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t})}return t})();var dc=new G("MatFormField"),yae=new G("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Bj="fill",vae="auto",zj="fixed",_ae="translateY(-50%)",ha=(()=>{class t{_elementRef=_(me);_changeDetectorRef=_(et);_dir=_(Oi);_platform=_(Ft);_idGenerator=_(Kt);_ngZone=_(Ce);_injector=_(Ye);_defaults=_(yae,{optional:!0});_textField;_iconPrefixContainer;_textPrefixContainer;_iconSuffixContainer;_textSuffixContainer;_floatingLabel;_notchedOutline;_lineRipple;_formFieldControl;_prefixChildren;_suffixChildren;_errorChildren;_hintChildren;_labelChild=cN(xr);get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=qa(e)}_hideRequiredMarker=!1;color="primary";get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||vae}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}_floatLabel;get appearance(){return this._appearance}set appearance(e){let n=this._appearance,r=e||this._defaults?.appearance||Bj;this._appearance=r,this._appearance==="outline"&&this._appearance!==n&&(this._needsOutlineLabelOffsetUpdate=!0)}_appearance=Bj;get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||zj}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||zj}_subscriptSizing=null;get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}_hintLabel="";_hasIconPrefix=!1;_hasTextPrefix=!1;_hasIconSuffix=!1;_hasTextSuffix=!1;_labelId=this._idGenerator.getId("mat-mdc-form-field-label-");_hintLabelId=this._idGenerator.getId("mat-mdc-hint-");get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}_destroyed=new oe;_isFocused=null;_explicitFormFieldControl;_needsOutlineLabelOffsetUpdate=!1;_previousControl=null;_previousControlValidatorFn=null;_stateChanges;_valueChanges;_describedByChanges;_animationsDisabled;constructor(){let e=this._defaults;e&&(e.appearance&&(this.appearance=e.appearance),this._hideRequiredMarker=!!e?.hideRequiredMarker,e.color&&(this.color=e.color)),this._animationsDisabled=_(Ut,{optional:!0})==="NoopAnimations"}ngAfterViewInit(){this._updateFocusState(),this._animationsDisabled||this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-form-field-animations-enabled")},300)}),this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._control.ngControl&&this._control.ngControl.control&&(this._previousControlValidatorFn=this._control.ngControl.control.validator),this._previousControl=this._control),this._control.ngControl&&this._control.ngControl.control&&this._control.ngControl.control.validator!==this._previousControlValidatorFn&&this._changeDetectorRef.markForCheck()}ngOnDestroy(){this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._describedByChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}getLabelId=jn(()=>this._hasFloatingLabel()?this._labelId:null);getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(e){let n=this._control,r="mat-mdc-form-field-type-";e&&this._elementRef.nativeElement.classList.remove(r+e.controlType),n.controlType&&this._elementRef.nativeElement.classList.add(r+n.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=n.stateChanges.subscribe(()=>{this._updateFocusState(),this._changeDetectorRef.markForCheck()}),this._describedByChanges?.unsubscribe(),this._describedByChanges=n.stateChanges.pipe(yi([void 0,void 0]),Re(()=>[n.errorState,n.userAriaDescribedBy]),zS(),kt(([[a,o],[s,l]])=>a!==s||o!==l)).subscribe(()=>this._syncDescribedByIds()),this._valueChanges?.unsubscribe(),n.ngControl&&n.ngControl.valueChanges&&(this._valueChanges=n.ngControl.valueChanges.pipe(di(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()))}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),ri(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),v_(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe(di(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel=jn(()=>!!this._labelChild());_shouldLabelFloat(){return this._hasFloatingLabel()?this._control.shouldLabelFloat||this._shouldAlwaysFloat():!1}_shouldForward(e){let n=this._control?this._control.ngControl:null;return n&&n[e]}_getSubscriptMessageType(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&e.push(...this._control.userAriaDescribedBy.split(" ")),this._getSubscriptMessageType()==="hint"){let n=this._hintChildren?this._hintChildren.find(a=>a.align==="start"):null,r=this._hintChildren?this._hintChildren.find(a=>a.align==="end"):null;n?e.push(n.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(n=>n.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;let e=this._floatingLabel.element;if(!(this._iconPrefixContainer||this._textPrefixContainer)){e.style.transform="";return}if(!this._isAttachedToDom()){this._needsOutlineLabelOffsetUpdate=!0;return}let n=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,a=this._iconSuffixContainer?.nativeElement,o=this._textSuffixContainer?.nativeElement,s=n?.getBoundingClientRect().width??0,l=r?.getBoundingClientRect().width??0,c=a?.getBoundingClientRect().width??0,d=o?.getBoundingClientRect().width??0,u=this._dir.value==="rtl"?"-1":"1",h=`${s+l}px`,p=`calc(${u} * (${h} + var(--mat-mdc-form-field-label-offset-x, 0px)))`;e.style.transform=`var(
        --mat-mdc-form-field-label-transform,
        ${_ae} translateX(${p})
    )`;let g=s+l+c+d;this._elementRef.nativeElement.style.setProperty("--mat-form-field-notch-max-width",`calc(100% - ${g}px)`)}_isAttachedToDom(){let e=this._elementRef.nativeElement;if(e.getRootNode){let n=e.getRootNode();return n&&n!==e}return document.documentElement.contains(e)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=X({type:t,selectors:[["mat-form-field"]],contentQueries:function(n,r,a){if(n&1&&(gN(a,r._labelChild,xr,5),St(a,Lp,5),St(a,gae,5),St(a,jj,5),St(a,fae,5),St(a,_T,5)),n&2){M_();let o;pe(o=fe())&&(r._formFieldControl=o.first),pe(o=fe())&&(r._prefixChildren=o),pe(o=fe())&&(r._suffixChildren=o),pe(o=fe())&&(r._errorChildren=o),pe(o=fe())&&(r._hintChildren=o)}},viewQuery:function(n,r){if(n&1&&(Ke(Wre,5),Ke($re,5),Ke(Yre,5),Ke(Kre,5),Ke(qre,5),Ke(Nj,5),Ke(Vj,5),Ke(Fj,5)),n&2){let a;pe(a=fe())&&(r._textField=a.first),pe(a=fe())&&(r._iconPrefixContainer=a.first),pe(a=fe())&&(r._textPrefixContainer=a.first),pe(a=fe())&&(r._iconSuffixContainer=a.first),pe(a=fe())&&(r._textSuffixContainer=a.first),pe(a=fe())&&(r._floatingLabel=a.first),pe(a=fe())&&(r._notchedOutline=a.first),pe(a=fe())&&(r._lineRipple=a.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:40,hostBindings:function(n,r){n&2&&de("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-appearance-fill",r.appearance=="fill")("mat-form-field-appearance-outline",r.appearance=="outline")("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary",r.color!=="accent"&&r.color!=="warn")("mat-accent",r.color==="accent")("mat-warn",r.color==="warn")("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[Ue([{provide:dc,useExisting:t},{provide:Uj,useExisting:t}])],ngContentSelectors:Qre,decls:20,vars:25,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],["textSuffixContainer",""],["iconSuffixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],["aria-atomic","true","aria-live","polite"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(n,r){if(n&1){let a=Rt();ut(Zre),ae(0,eae,1,1,"ng-template",null,0,vg),M(2,"div",6,1),Q("click",function(s){return ye(a),ve(r._control.onContainerClick(s))}),ae(4,tae,1,0,"div",7),M(5,"div",8),ae(6,rae,2,2,"div",9)(7,aae,3,0,"div",10)(8,oae,3,0,"div",11),M(9,"div",12),ae(10,lae,1,1,null,13),Ie(11),I(),ae(12,cae,3,0,"div",14)(13,dae,3,0,"div",15),I(),ae(14,uae,1,0,"div",16),I(),M(15,"div",17),bN(16),M(17,"div",18),ae(18,hae,1,0)(19,pae,4,1),I()()}if(n&2){let a;T(2),de("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),T(2),At(!r._hasOutline()&&!r._control.disabled?4:-1),T(2),At(r._hasOutline()?6:-1),T(),At(r._hasIconPrefix?7:-1),T(),At(r._hasTextPrefix?8:-1),T(2),At(!r._hasOutline()||r._forceDisplayInfixLabel()?10:-1),T(2),At(r._hasTextSuffix?12:-1),T(),At(r._hasIconSuffix?13:-1),T(),At(r._hasOutline()?-1:14),T(),de("mat-mdc-form-field-subscript-dynamic-size",r.subscriptSizing==="dynamic");let o=r._getSubscriptMessageType();T(2),de("mat-mdc-form-field-error-wrapper",o==="error")("mat-mdc-form-field-hint-wrapper",o==="hint"),T(),At((a=o)==="error"?18:a==="hint"?19:-1)}},dependencies:[Nj,Vj,dM,Fj,_T],styles:[`.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-moz-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-webkit-input-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive:-ms-input-placeholder{opacity:0}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mdc-filled-text-field-caret-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mdc-outlined-text-field-caret-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mdc-filled-text-field-container-shape, var(--mat-sys-corner-extra-small));border-top-right-radius:var(--mdc-filled-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color, var(--mat-sys-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 4%, transparent))}.mdc-text-field--outlined{height:56px;overflow:visible;padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)));padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)) + 4px);padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)))}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}@media(forced-colors: active){.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-filled-text-field-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-filled-text-field-hover-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-filled-text-field-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-filled-text-field-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-filled-text-field-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mdc-filled-text-field-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mdc-filled-text-field-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mdc-filled-text-field-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-outlined-text-field-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-hover-label-text-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-outlined-text-field-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-outlined-text-field-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mdc-outlined-text-field-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mdc-outlined-text-field-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mdc-outlined-text-field-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-outline-color, var(--mat-sys-outline));border-width:var(--mdc-outlined-text-field-outline-width, 1px)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-hover-outline-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-focus-outline-color, var(--mat-sys-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-hover-outline-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-focus-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mdc-outlined-text-field-focus-outline-width, 2px)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)))}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:min(var(--mat-form-field-notch-max-width, 100%),100% - max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)))*2)}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none;--mat-form-field-notch-max-width: 100%}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mdc-filled-text-field-active-indicator-height, 1px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color, var(--mat-sys-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color, var(--mat-sys-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height, 2px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color, var(--mat-sys-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color, var(--mat-sys-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height, 56px);padding-top:var(--mat-form-field-filled-with-label-container-padding-top, 24px);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom, 8px)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding, 16px);padding-bottom:var(--mat-form-field-container-vertical-padding, 16px)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height, 56px)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height, 56px) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}@keyframes _mat-form-field-subscript-animation{from{opacity:0;transform:translateY(-5px)}to{opacity:1;transform:translateY(0)}}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px;opacity:1;transform:translateY(0);animation:_mat-form-field-subscript-animation 0ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-sys-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-sys-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-sys-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-sys-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-sys-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-sys-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-sys-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity, 0)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color, var(--mat-sys-neutral10))}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color, color-mix(in srgb, var(--mat-sys-neutral10) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-sys-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}@media(forced-colors: active){.mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}}@media(forced-colors: active){.mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-sys-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-sys-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-sys-body-large-weight))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-sys-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-sys-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-sys-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field-infix:has(textarea[cols]){width:auto}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field.mat-form-field-animations-enabled .mat-mdc-form-field-error-wrapper{animation-duration:300ms}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}
`],encapsulation:2,changeDetection:0})}return t})();var UC=(()=>{class t{isErrorState(e,n){return!!(e&&e.invalid&&(e.touched||n&&n.submitted))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Np=class{_defaultMatcher;ngControl;_parentFormGroup;_parentForm;_stateChanges;errorState=!1;matcher;constructor(i,e,n,r,a){this._defaultMatcher=i,this.ngControl=e,this._parentFormGroup=n,this._parentForm=r,this._stateChanges=a}updateErrorState(){let i=this.errorState,e=this._parentFormGroup||this._parentForm,n=this.matcher||this._defaultMatcher,r=this.ngControl?this.ngControl.control:null,a=n?.isErrorState(r,e)??!1;a!==i&&(this.errorState=a,this._stateChanges.next())}};var kd=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Se({type:t});static \u0275inj=De({imports:[Qe,Tm,Qe]})}return t})();var xae=["button","checkbox","file","hidden","image","radio","range","reset","submit"],Cae=new G("MAT_INPUT_CONFIG"),Io=(()=>{class t{_elementRef=_(me);_platform=_(Ft);ngControl=_(vl,{optional:!0,self:!0});_autofillMonitor=_(sj);_ngZone=_(Ce);_formField=_(dc,{optional:!0});_renderer=_(Yt);_uid=_(Kt).getId("mat-input-");_previousNativeValue;_inputValueAccessor;_signalBasedValueAccessor;_previousPlaceholder;_errorStateTracker;_config=_(Cae,{optional:!0});_cleanupIosKeyup;_cleanupWebkitWheel;_formFieldDescribedBy;_isServer;_isNativeSelect;_isTextarea;_isInFormField;focused=!1;stateChanges=new oe;controlType="mat-input";autofilled=!1;get disabled(){return this._disabled}set disabled(e){this._disabled=qa(e),this.focused&&(this.focused=!1,this.stateChanges.next())}_disabled=!1;get id(){return this._id}set id(e){this._id=e||this._uid}_id;placeholder;name;get required(){return this._required??this.ngControl?.control?.hasValidator(yl.required)??!1}set required(e){this._required=qa(e)}_required;get type(){return this._type}set type(e){let n=this._type;this._type=e||"text",this._validateType(),!this._isTextarea&&BE().has(this._type)&&(this._elementRef.nativeElement.type=this._type),this._type!==n&&this._ensureWheelDefaultBehavior()}_type="text";get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}userAriaDescribedBy;get value(){return this._signalBasedValueAccessor?this._signalBasedValueAccessor.value():this._inputValueAccessor.value}set value(e){e!==this.value&&(this._signalBasedValueAccessor?this._signalBasedValueAccessor.value.set(e):this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=qa(e)}_readonly=!1;disabledInteractive;get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}_neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(e=>BE().has(e));constructor(){let e=_(Mo,{optional:!0}),n=_(Rp,{optional:!0}),r=_(UC),a=_(Op,{optional:!0,self:!0}),o=this._elementRef.nativeElement,s=o.nodeName.toLowerCase();a?pu(a.value)?this._signalBasedValueAccessor=a:this._inputValueAccessor=a:this._inputValueAccessor=o,this._previousNativeValue=this.value,this.id=this.id,this._platform.IOS&&this._ngZone.runOutsideAngular(()=>{this._cleanupIosKeyup=this._renderer.listen(o,"keyup",this._iOSKeyupListener)}),this._errorStateTracker=new Np(r,this.ngControl,n,e,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=s==="select",this._isTextarea=s==="textarea",this._isInFormField=!!this._formField,this.disabledInteractive=this._config?.disabledInteractive||!1,this._isNativeSelect&&(this.controlType=o.multiple?"mat-native-select-multiple":"mat-native-select"),this._signalBasedValueAccessor&&$s(()=>{this._signalBasedValueAccessor.value(),this.stateChanges.next()})}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._cleanupIosKeyup?.(),this._cleanupWebkitWheel?.()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(e){if(e!==this.focused){if(!this._isNativeSelect&&e&&this.disabled&&this.disabledInteractive){let n=this._elementRef.nativeElement;n.type==="number"?(n.type="text",n.setSelectionRange(0,0),n.type="number"):n.setSelectionRange(0,0)}this.focused=e,this.stateChanges.next()}}_onInput(){}_dirtyCheckNativeValue(){let e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){let e=this._getPlaceholder();if(e!==this._previousPlaceholder){let n=this._elementRef.nativeElement;this._previousPlaceholder=e,e?n.setAttribute("placeholder",e):n.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){xae.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let e=this._elementRef.nativeElement,n=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&n&&n.label)}else return this.focused&&!this.disabled||!this.empty}setDescribedByIds(e){let n=this._elementRef.nativeElement,r=n.getAttribute("aria-describedby"),a;if(r){let o=this._formFieldDescribedBy||e;a=e.concat(r.split(" ").filter(s=>s&&!o.includes(s)))}else a=e;this._formFieldDescribedBy=e,a.length?n.setAttribute("aria-describedby",a.join(" ")):n.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}_iOSKeyupListener=e=>{let n=e.target;!n.value&&n.selectionStart===0&&n.selectionEnd===0&&(n.setSelectionRange(1,1),n.setSelectionRange(0,0))};_webkitBlinkWheelListener=()=>{};_ensureWheelDefaultBehavior(){this._cleanupWebkitWheel?.(),this._type==="number"&&(this._platform.BLINK||this._platform.WEBKIT)&&(this._cleanupWebkitWheel=this._renderer.listen(this._elementRef.nativeElement,"wheel",this._webkitBlinkWheelListener))}_getReadonlyAttribute(){return this._isNativeSelect?null:this.readonly||this.disabled&&this.disabledInteractive?"true":null}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:21,hostBindings:function(n,r){n&1&&Q("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),n&2&&(Ca("id",r.id)("disabled",r.disabled&&!r.disabledInteractive)("required",r.required),Ee("name",r.name||null)("readonly",r._getReadonlyAttribute())("aria-disabled",r.disabled&&r.disabledInteractive?"true":null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),de("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mat-mdc-input-disabled-interactive",r.disabledInteractive)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly",disabledInteractive:[2,"disabledInteractive","disabledInteractive",J]},exportAs:["matInput"],features:[Ue([{provide:Lp,useExisting:t}]),_t]})}return t})(),Hj=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Se({type:t});static \u0275inj=De({imports:[Qe,kd,kd,lj,Qe]})}return t})();var xT=new G("MAT_DATE_LOCALE",{providedIn:"root",factory:wae});function wae(){return _(yu)}var Pp="Method not implemented",Kn=class{locale;_localeChanges=new oe;localeChanges=this._localeChanges;setTime(i,e,n,r){throw new Error(Pp)}getHours(i){throw new Error(Pp)}getMinutes(i){throw new Error(Pp)}getSeconds(i){throw new Error(Pp)}parseTime(i,e){throw new Error(Pp)}addSeconds(i,e){throw new Error(Pp)}getValidDateOrNull(i){return this.isDateInstance(i)&&this.isValid(i)?i:null}deserialize(i){return i==null||this.isDateInstance(i)&&this.isValid(i)?i:this.invalid()}setLocale(i){this.locale=i,this._localeChanges.next()}compareDate(i,e){return this.getYear(i)-this.getYear(e)||this.getMonth(i)-this.getMonth(e)||this.getDate(i)-this.getDate(e)}compareTime(i,e){return this.getHours(i)-this.getHours(e)||this.getMinutes(i)-this.getMinutes(e)||this.getSeconds(i)-this.getSeconds(e)}sameDate(i,e){if(i&&e){let n=this.isValid(i),r=this.isValid(e);return n&&r?!this.compareDate(i,e):n==r}return i==e}sameTime(i,e){if(i&&e){let n=this.isValid(i),r=this.isValid(e);return n&&r?!this.compareTime(i,e):n==r}return i==e}clampDate(i,e,n){return e&&this.compareDate(i,e)<0?e:n&&this.compareDate(i,n)>0?n:i}},ys=new G("mat-date-formats");var Dae=["mat-calendar-body",""];function Sae(t,i){return this._trackRow(i)}var Zj=(t,i)=>i.id;function Mae(t,i){if(t&1&&(M(0,"tr",0)(1,"td",3),V(2),I()()),t&2){let e=xe();T(),Ko("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),Ee("colspan",e.numCols),T(),Ht(" ",e.label," ")}}function Iae(t,i){if(t&1&&(M(0,"td",3),V(1),I()),t&2){let e=xe(2);Ko("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),Ee("colspan",e._firstRowOffset),T(),Ht(" ",e._firstRowOffset>=e.labelMinRequiredCells?e.label:""," ")}}function kae(t,i){if(t&1){let e=Rt();M(0,"td",6)(1,"button",7),Q("click",function(r){let a=ye(e).$implicit,o=xe(2);return ve(o._cellClicked(a,r))})("focus",function(r){let a=ye(e).$implicit,o=xe(2);return ve(o._emitActiveDateChange(a,r))}),M(2,"span",8),V(3),I(),re(4,"span",9),I()()}if(t&2){let e=i.$implicit,n=i.$index,r=xe().$index,a=xe();Ko("width",a._cellWidth)("padding-top",a._cellPadding)("padding-bottom",a._cellPadding),Ee("data-mat-row",r)("data-mat-col",n),T(),de("mat-calendar-body-disabled",!e.enabled)("mat-calendar-body-active",a._isActiveCell(r,n))("mat-calendar-body-range-start",a._isRangeStart(e.compareValue))("mat-calendar-body-range-end",a._isRangeEnd(e.compareValue))("mat-calendar-body-in-range",a._isInRange(e.compareValue))("mat-calendar-body-comparison-bridge-start",a._isComparisonBridgeStart(e.compareValue,r,n))("mat-calendar-body-comparison-bridge-end",a._isComparisonBridgeEnd(e.compareValue,r,n))("mat-calendar-body-comparison-start",a._isComparisonStart(e.compareValue))("mat-calendar-body-comparison-end",a._isComparisonEnd(e.compareValue))("mat-calendar-body-in-comparison-range",a._isInComparisonRange(e.compareValue))("mat-calendar-body-preview-start",a._isPreviewStart(e.compareValue))("mat-calendar-body-preview-end",a._isPreviewEnd(e.compareValue))("mat-calendar-body-in-preview",a._isInPreview(e.compareValue)),W("ngClass",e.cssClasses)("tabindex",a._isActiveCell(r,n)?0:-1),Ee("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null)("aria-pressed",a._isSelected(e.compareValue))("aria-current",a.todayValue===e.compareValue?"date":null)("aria-describedby",a._getDescribedby(e.compareValue)),T(),de("mat-calendar-body-selected",a._isSelected(e.compareValue))("mat-calendar-body-comparison-identical",a._isComparisonIdentical(e.compareValue))("mat-calendar-body-today",a.todayValue===e.compareValue),T(),Ht(" ",e.displayValue," ")}}function Aae(t,i){if(t&1&&(M(0,"tr",1),ae(1,Iae,2,6,"td",4),Ul(2,kae,5,48,"td",5,Zj),I()),t&2){let e=i.$implicit,n=i.$index,r=xe();T(),At(n===0&&r._firstRowOffset?1:-1),T(),Hl(e)}}function Eae(t,i){if(t&1&&(M(0,"th",2)(1,"span",6),V(2),I(),M(3,"span",3),V(4),I()()),t&2){let e=i.$implicit;T(2),qe(e.long),T(2),qe(e.narrow)}}var Tae=["*"];function Rae(t,i){}function Oae(t,i){if(t&1){let e=Rt();M(0,"mat-month-view",4),Ri("activeDateChange",function(r){ye(e);let a=xe();return Ti(a.activeDate,r)||(a.activeDate=r),ve(r)}),Q("_userSelection",function(r){ye(e);let a=xe();return ve(a._dateSelected(r))})("dragStarted",function(r){ye(e);let a=xe();return ve(a._dragStarted(r))})("dragEnded",function(r){ye(e);let a=xe();return ve(a._dragEnded(r))}),I()}if(t&2){let e=xe();Ei("activeDate",e.activeDate),W("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)("startDateAccessibleName",e.startDateAccessibleName)("endDateAccessibleName",e.endDateAccessibleName)("activeDrag",e._activeDrag)}}function Lae(t,i){if(t&1){let e=Rt();M(0,"mat-year-view",5),Ri("activeDateChange",function(r){ye(e);let a=xe();return Ti(a.activeDate,r)||(a.activeDate=r),ve(r)}),Q("monthSelected",function(r){ye(e);let a=xe();return ve(a._monthSelectedInYearView(r))})("selectedChange",function(r){ye(e);let a=xe();return ve(a._goToDateInView(r,"month"))}),I()}if(t&2){let e=xe();Ei("activeDate",e.activeDate),W("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function Nae(t,i){if(t&1){let e=Rt();M(0,"mat-multi-year-view",6),Ri("activeDateChange",function(r){ye(e);let a=xe();return Ti(a.activeDate,r)||(a.activeDate=r),ve(r)}),Q("yearSelected",function(r){ye(e);let a=xe();return ve(a._yearSelectedInMultiYearView(r))})("selectedChange",function(r){ye(e);let a=xe();return ve(a._goToDateInView(r,"year"))}),I()}if(t&2){let e=xe();Ei("activeDate",e.activeDate),W("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function Pae(t,i){}var Fae=["button"],Vae=[[["","matDatepickerToggleIcon",""]]],Bae=["[matDatepickerToggleIcon]"];function zae(t,i){t&1&&(Ai(),M(0,"svg",2),re(1,"path",3),I())}var Bp=(()=>{class t{changes=new oe;calendarLabel="Calendar";openCalendarLabel="Open calendar";closeCalendarLabel="Close calendar";prevMonthLabel="Previous month";nextMonthLabel="Next month";prevYearLabel="Previous year";nextYearLabel="Next year";prevMultiYearLabel="Previous 24 years";nextMultiYearLabel="Next 24 years";switchToMonthViewLabel="Choose date";switchToMultiYearViewLabel="Choose month and year";startDateLabel="Start date";endDateLabel="End date";comparisonDateLabel="Comparison range";formatYearRange(e,n){return`${e} \u2013 ${n}`}formatYearRangeLabel(e,n){return`${e} to ${n}`}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),jae=0,yy=class{value;displayValue;ariaLabel;enabled;cssClasses;compareValue;rawValue;id=jae++;constructor(i,e,n,r,a={},o=i,s){this.value=i,this.displayValue=e,this.ariaLabel=n,this.enabled=r,this.cssClasses=a,this.compareValue=o,this.rawValue=s}},Uae={passive:!1,capture:!0},HC={passive:!0,capture:!0},Gj={passive:!0},Vp=(()=>{class t{_elementRef=_(me);_ngZone=_(Ce);_platform=_(Ft);_intl=_(Bp);_eventCleanups;_skipNextFocus;_focusActiveCellAfterViewChecked=!1;label;rows;todayValue;startValue;endValue;labelMinRequiredCells;numCols=7;activeCell=0;ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}isRange=!1;cellAspectRatio=1;comparisonStart;comparisonEnd;previewStart=null;previewEnd=null;startDateAccessibleName;endDateAccessibleName;selectedValueChange=new ie;previewChange=new ie;activeDateChange=new ie;dragStarted=new ie;dragEnded=new ie;_firstRowOffset;_cellPadding;_cellWidth;_startDateLabelId;_endDateLabelId;_comparisonStartDateLabelId;_comparisonEndDateLabelId;_didDragSinceMouseDown=!1;_injector=_(Ye);comparisonDateAccessibleName=this._intl.comparisonDateLabel;_trackRow=e=>e;constructor(){let e=_(Yt),n=_(Kt);this._startDateLabelId=n.getId("mat-calendar-body-start-"),this._endDateLabelId=n.getId("mat-calendar-body-end-"),this._comparisonStartDateLabelId=n.getId("mat-calendar-body-comparison-start-"),this._comparisonEndDateLabelId=n.getId("mat-calendar-body-comparison-end-"),_(hi).load(lr),this._ngZone.runOutsideAngular(()=>{let r=this._elementRef.nativeElement,a=[Li(e,r,"touchmove",this._touchmoveHandler,Uae),Li(e,r,"mouseenter",this._enterHandler,HC),Li(e,r,"focus",this._enterHandler,HC),Li(e,r,"mouseleave",this._leaveHandler,HC),Li(e,r,"blur",this._leaveHandler,HC),Li(e,r,"mousedown",this._mousedownHandler,Gj),Li(e,r,"touchstart",this._mousedownHandler,Gj)];this._platform.isBrowser&&a.push(e.listen("window","mouseup",this._mouseupHandler),e.listen("window","touchend",this._touchendHandler)),this._eventCleanups=a})}_cellClicked(e,n){this._didDragSinceMouseDown||e.enabled&&this.selectedValueChange.emit({value:e.value,event:n})}_emitActiveDateChange(e,n){e.enabled&&this.activeDateChange.emit({value:e.value,event:n})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){let n=e.numCols,{rows:r,numCols:a}=this;(e.rows||n)&&(this._firstRowOffset=r&&r.length&&r[0].length?a-r[0].length:0),(e.cellAspectRatio||n||!this._cellPadding)&&(this._cellPadding=`${50*this.cellAspectRatio/a}%`),(n||!this._cellWidth)&&(this._cellWidth=`${100/a}%`)}ngOnDestroy(){this._eventCleanups.forEach(e=>e())}_isActiveCell(e,n){let r=e*this.numCols+n;return e&&(r-=this._firstRowOffset),r==this.activeCell}_focusActiveCell(e=!0){qi(()=>{setTimeout(()=>{let n=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");n&&(e||(this._skipNextFocus=!0),n.focus())})},{injector:this._injector})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(e){return DT(e,this.startValue,this.endValue)}_isRangeEnd(e){return ST(e,this.startValue,this.endValue)}_isInRange(e){return MT(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return DT(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,n,r){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let a=this.rows[n][r-1];if(!a){let o=this.rows[n-1];a=o&&o[o.length-1]}return a&&!this._isRangeEnd(a.compareValue)}_isComparisonBridgeEnd(e,n,r){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let a=this.rows[n][r+1];if(!a){let o=this.rows[n+1];a=o&&o[0]}return a&&!this._isRangeStart(a.compareValue)}_isComparisonEnd(e){return ST(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return MT(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return DT(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return ST(e,this.previewStart,this.previewEnd)}_isInPreview(e){return MT(e,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(e){if(!this.isRange)return null;if(this.startValue===e&&this.endValue===e)return`${this._startDateLabelId} ${this._endDateLabelId}`;if(this.startValue===e)return this._startDateLabelId;if(this.endValue===e)return this._endDateLabelId;if(this.comparisonStart!==null&&this.comparisonEnd!==null){if(e===this.comparisonStart&&e===this.comparisonEnd)return`${this._comparisonStartDateLabelId} ${this._comparisonEndDateLabelId}`;if(e===this.comparisonStart)return this._comparisonStartDateLabelId;if(e===this.comparisonEnd)return this._comparisonEndDateLabelId}return null}_enterHandler=e=>{if(this._skipNextFocus&&e.type==="focus"){this._skipNextFocus=!1;return}if(e.target&&this.isRange){let n=this._getCellFromElement(e.target);n&&this._ngZone.run(()=>this.previewChange.emit({value:n.enabled?n:null,event:e}))}};_touchmoveHandler=e=>{if(!this.isRange)return;let n=Wj(e),r=n?this._getCellFromElement(n):null;n!==e.target&&(this._didDragSinceMouseDown=!0),wT(e.target)&&e.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:r?.enabled?r:null,event:e}))};_leaveHandler=e=>{this.previewEnd!==null&&this.isRange&&(e.type!=="blur"&&(this._didDragSinceMouseDown=!0),e.target&&this._getCellFromElement(e.target)&&!(e.relatedTarget&&this._getCellFromElement(e.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:e})))};_mousedownHandler=e=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;let n=e.target&&this._getCellFromElement(e.target);!n||!this._isInRange(n.compareValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:n.rawValue,event:e})})};_mouseupHandler=e=>{if(!this.isRange)return;let n=wT(e.target);if(!n){this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:e})});return}n.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{let r=this._getCellFromElement(n);this.dragEnded.emit({value:r?.rawValue??null,event:e})})};_touchendHandler=e=>{let n=Wj(e);n&&this._mouseupHandler({target:n})};_getCellFromElement(e){let n=wT(e);if(n){let r=n.getAttribute("data-mat-row"),a=n.getAttribute("data-mat-col");if(r&&a)return this.rows[parseInt(r)][parseInt(a)]}return null}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=X({type:t,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],features:[_t],attrs:Dae,decls:11,vars:11,consts:[["aria-hidden","true"],["role","row"],[1,"mat-calendar-body-hidden-label",3,"id"],[1,"mat-calendar-body-label"],[1,"mat-calendar-body-label",3,"paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"click","focus","ngClass","tabindex"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(n,r){n&1&&(ae(0,Mae,3,6,"tr",0),Ul(1,Aae,4,1,"tr",1,Sae,!0),M(3,"span",2),V(4),I(),M(5,"span",2),V(6),I(),M(7,"span",2),V(8),I(),M(9,"span",2),V(10),I()),n&2&&(At(r._firstRowOffset<r.labelMinRequiredCells?0:-1),T(),Hl(r.rows),T(2),W("id",r._startDateLabelId),T(),Ht(" ",r.startDateAccessibleName,`
`),T(),W("id",r._endDateLabelId),T(),Ht(" ",r.endDateAccessibleName,`
`),T(),W("id",r._comparisonStartDateLabelId),T(),XS(" ",r.comparisonDateAccessibleName," ",r.startDateAccessibleName,`
`),T(),W("id",r._comparisonEndDateLabelId),T(),XS(" ",r.comparisonDateAccessibleName," ",r.endDateAccessibleName,`
`))},dependencies:[Ig],styles:[`.mat-calendar-body{min-width:224px}.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-outline-color, var(--mat-sys-primary))}.mat-calendar-body-label{height:0;line-height:0;text-align:start;padding-left:4.7142857143%;padding-right:4.7142857143%;font-size:var(--mat-datepicker-calendar-body-label-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-body-label-text-weight, var(--mat-sys-title-small-weight));color:var(--mat-datepicker-calendar-body-label-text-color, var(--mat-sys-on-surface))}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-sys-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-sys-body-medium-size));-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview{color:var(--mat-datepicker-calendar-date-preview-state-outline-color, var(--mat-sys-primary))}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-disabled>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){color:var(--mat-datepicker-calendar-date-disabled-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-calendar-body-disabled>.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-disabled-state-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mat-calendar-body-disabled{opacity:.5}}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px;color:var(--mat-datepicker-calendar-date-text-color, var(--mat-sys-on-surface));border-color:var(--mat-datepicker-calendar-date-outline-color, transparent)}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}@media(forced-colors: active){.mat-calendar-body-cell-content{border:none}}.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-focus-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent))}@media(hover: hover){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-hover-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}}.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-state-background-color, var(--mat-sys-primary));color:var(--mat-datepicker-calendar-date-selected-state-text-color, var(--mat-sys-on-primary))}.mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-disabled-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-calendar-body-selected.mat-calendar-body-today{box-shadow:inset 0 0 0 1px var(--mat-datepicker-calendar-date-today-selected-state-outline-color, var(--mat-sys-primary))}.mat-calendar-body-in-range::before{background:var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container))}.mat-calendar-body-comparison-bridge-start::before,[dir=rtl] .mat-calendar-body-comparison-bridge-end::before{background:linear-gradient(to right, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container)) 50%)}.mat-calendar-body-comparison-bridge-end::before,[dir=rtl] .mat-calendar-body-comparison-bridge-start::before{background:linear-gradient(to left, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container)) 50%)}.mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range.mat-calendar-body-in-range::after{background:var(--mat-datepicker-calendar-date-in-overlap-range-state-background-color, var(--mat-sys-secondary-container))}.mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:var(--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color, var(--mat-sys-secondary))}@media(forced-colors: active){.mat-datepicker-popup:not(:empty),.mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.mat-calendar-body-today{outline:dotted 1px}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-selected{background:none}.mat-calendar-body-in-range::before,.mat-calendar-body-comparison-bridge-start::before,.mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}}
`],encapsulation:2,changeDetection:0})}return t})();function CT(t){return t?.nodeName==="TD"}function wT(t){let i;return CT(t)?i=t:CT(t.parentNode)?i=t.parentNode:CT(t.parentNode?.parentNode)&&(i=t.parentNode.parentNode),i?.getAttribute("data-mat-row")!=null?i:null}function DT(t,i,e){return e!==null&&i!==e&&t<e&&t===i}function ST(t,i,e){return i!==null&&i!==e&&t>=i&&t===e}function MT(t,i,e,n){return n&&i!==null&&e!==null&&i!==e&&t>=i&&t<=e}function Wj(t){let i=t.changedTouches[0];return document.elementFromPoint(i.clientX,i.clientY)}var ko=class{start;end;_disableStructuralEquivalency;constructor(i,e){this.start=i,this.end=e}},vy=(()=>{class t{selection;_adapter;_selectionChanged=new oe;selectionChanged=this._selectionChanged;constructor(e,n){this.selection=e,this._adapter=n,this.selection=e}updateSelection(e,n){let r=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:n,oldValue:r})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}static \u0275fac=function(n){dm()};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})(),Hae=(()=>{class t extends vy{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return this.selection!=null&&this._isValidDateInstance(this.selection)}isComplete(){return this.selection!=null}clone(){let e=new t(this._adapter);return e.updateSelection(this.selection,this),e}static \u0275fac=function(n){return new(n||t)(Te(Kn))};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})();function Gae(t,i){return t||new Hae(i)}var Qj={provide:vy,deps:[[new Bn,new pg,vy],Kn],useFactory:Gae};var Xj=new G("MAT_DATE_RANGE_SELECTION_STRATEGY");var IT=7,Wae=0,$j=(()=>{class t{_changeDetectorRef=_(et);_dateFormats=_(ys,{optional:!0});_dateAdapter=_(Kn,{optional:!0});_dir=_(Oi,{optional:!0});_rangeStrategy=_(Xj,{optional:!0});_rerenderSubscription=xt.EMPTY;_selectionKeyPressed;get activeDate(){return this._activeDate}set activeDate(e){let n=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._hasSameMonthAndYear(n,this._activeDate)||this._init()}_activeDate;get selected(){return this._selected}set selected(e){e instanceof ko?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}_selected;get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_minDate;get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_maxDate;dateFilter;dateClass;comparisonStart;comparisonEnd;startDateAccessibleName;endDateAccessibleName;activeDrag=null;selectedChange=new ie;_userSelection=new ie;dragStarted=new ie;dragEnded=new ie;activeDateChange=new ie;_matCalendarBody;_monthLabel;_weeks;_firstWeekOffset;_rangeStart;_rangeEnd;_comparisonRangeStart;_comparisonRangeEnd;_previewStart;_previewEnd;_isRange;_todayDate;_weekdays;constructor(){_(hi).load(rd),this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(yi(null)).subscribe(()=>this._init())}ngOnChanges(e){let n=e.comparisonStart||e.comparisonEnd;n&&!n.firstChange&&this._setRanges(this.selected),e.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){let n=e.value,r=this._getDateFromDayOfMonth(n),a,o;this._selected instanceof ko?(a=this._getDateInCurrentMonth(this._selected.start),o=this._getDateInCurrentMonth(this._selected.end)):a=o=this._getDateInCurrentMonth(this._selected),(a!==n||o!==n)&&this.selectedChange.emit(r),this._userSelection.emit({value:r,event:e.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(e){let n=e.value,r=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(n),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(e){let n=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:this._selectionKeyPressed=!0,this._canSelect(this._activeDate)&&e.preventDefault();return;case 27:this._previewEnd!=null&&!pi(e)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:e}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e})),e.preventDefault(),e.stopPropagation());return;default:return}this._dateAdapter.compareDate(n,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(IT+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%IT,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:e,value:n}){if(this._rangeStrategy){let r=n?n.rawValue:null,a=this._rangeStrategy.createPreview(r,this.selected,e);if(this._previewStart=this._getCellCompareValue(a.start),this._previewEnd=this._getCellCompareValue(a.end),this.activeDrag&&r){let o=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,r,e);o&&(this._previewStart=this._getCellCompareValue(o.start),this._previewEnd=this._getCellCompareValue(o.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(e){if(this.activeDrag)if(e.value){let n=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,e.value,e.event);this.dragEnded.emit({value:n??null,event:e.event})}else this.dragEnded.emit({value:null,event:e.event})}_getDateFromDayOfMonth(e){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),e)}_initWeekdays(){let e=this._dateAdapter.getFirstDayOfWeek(),n=this._dateAdapter.getDayOfWeekNames("narrow"),a=this._dateAdapter.getDayOfWeekNames("long").map((o,s)=>({long:o,narrow:n[s],id:Wae++}));this._weekdays=a.slice(e).concat(a.slice(0,e))}_createWeekCells(){let e=this._dateAdapter.getNumDaysInMonth(this.activeDate),n=this._dateAdapter.getDateNames();this._weeks=[[]];for(let r=0,a=this._firstWeekOffset;r<e;r++,a++){a==IT&&(this._weeks.push([]),a=0);let o=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),r+1),s=this._shouldEnableDate(o),l=this._dateAdapter.format(o,this._dateFormats.display.dateA11yLabel),c=this.dateClass?this.dateClass(o,"month"):void 0;this._weeks[this._weeks.length-1].push(new yy(r+1,n[r],l,s,c,this._getCellCompareValue(o),o))}}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,n){return!!(e&&n&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(n)&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(n))}_getCellCompareValue(e){if(e){let n=this._dateAdapter.getYear(e),r=this._dateAdapter.getMonth(e),a=this._dateAdapter.getDate(e);return new Date(n,r,a).getTime()}return null}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setRanges(e){e instanceof ko?(this._rangeStart=this._getCellCompareValue(e.start),this._rangeEnd=this._getCellCompareValue(e.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(e),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(e){return!this.dateFilter||this.dateFilter(e)}_clearPreview(){this._previewStart=this._previewEnd=null}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=X({type:t,selectors:[["mat-month-view"]],viewQuery:function(n,r){if(n&1&&Ke(Vp,5),n&2){let a;pe(a=fe())&&(r._matCalendarBody=a.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[_t],decls:8,vars:14,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col"],["aria-hidden","true"],["colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown","label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName"],[1,"cdk-visually-hidden"]],template:function(n,r){n&1&&(M(0,"table",0)(1,"thead",1)(2,"tr"),Ul(3,Eae,5,2,"th",2,Zj),I(),M(5,"tr",3),re(6,"th",4),I()(),M(7,"tbody",5),Q("selectedValueChange",function(o){return r._dateSelected(o)})("activeDateChange",function(o){return r._updateActiveDate(o)})("previewChange",function(o){return r._previewChanged(o)})("dragStarted",function(o){return r.dragStarted.emit(o)})("dragEnded",function(o){return r._dragEnded(o)})("keyup",function(o){return r._handleCalendarBodyKeyup(o)})("keydown",function(o){return r._handleCalendarBodyKeydown(o)}),I()()),n&2&&(T(3),Hl(r._weekdays),T(4),W("label",r._monthLabel)("rows",r._weeks)("todayValue",r._todayDate)("startValue",r._rangeStart)("endValue",r._rangeEnd)("comparisonStart",r._comparisonRangeStart)("comparisonEnd",r._comparisonRangeEnd)("previewStart",r._previewStart)("previewEnd",r._previewEnd)("isRange",r._isRange)("labelMinRequiredCells",3)("activeCell",r._dateAdapter.getDate(r.activeDate)-1)("startDateAccessibleName",r.startDateAccessibleName)("endDateAccessibleName",r.endDateAccessibleName))},dependencies:[Vp],encapsulation:2,changeDetection:0})}return t})(),eo=24,kT=4,Yj=(()=>{class t{_changeDetectorRef=_(et);_dateAdapter=_(Kn,{optional:!0});_dir=_(Oi,{optional:!0});_rerenderSubscription=xt.EMPTY;_selectionKeyPressed;get activeDate(){return this._activeDate}set activeDate(e){let n=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),Jj(this._dateAdapter,n,this._activeDate,this.minDate,this.maxDate)||this._init()}_activeDate;get selected(){return this._selected}set selected(e){e instanceof ko?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}_selected;get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_minDate;get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_maxDate;dateFilter;dateClass;selectedChange=new ie;yearSelected=new ie;activeDateChange=new ie;_matCalendarBody;_years;_todayYear;_selectedYear;constructor(){this._dateAdapter,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(yi(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());let n=this._dateAdapter.getYear(this._activeDate)-by(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let r=0,a=[];r<eo;r++)a.push(n+r),a.length==kT&&(this._years.push(a.map(o=>this._createCellForYear(o))),a=[]);this._changeDetectorRef.markForCheck()}_yearSelected(e){let n=e.value,r=this._dateAdapter.createDate(n,0,1),a=this._getDateFromYear(n);this.yearSelected.emit(r),this.selectedChange.emit(a)}_updateActiveDate(e){let n=e.value,r=this._activeDate;this.activeDate=this._getDateFromYear(n),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){let n=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-kT);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,kT);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-by(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,eo-by(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-eo*10:-eo);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?eo*10:eo);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(n,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_getActiveCell(){return by(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(e){let n=this._dateAdapter.getMonth(this.activeDate),r=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(e,n,1));return this._dateAdapter.createDate(e,n,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForYear(e){let n=this._dateAdapter.createDate(e,0,1),r=this._dateAdapter.getYearName(n),a=this.dateClass?this.dateClass(n,"multi-year"):void 0;return new yy(e,r,r,this._shouldEnableYear(e),a)}_shouldEnableYear(e){if(e==null||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;let n=this._dateAdapter.createDate(e,0,1);for(let r=n;this._dateAdapter.getYear(r)==e;r=this._dateAdapter.addCalendarDays(r,1))if(this.dateFilter(r))return!0;return!1}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setSelectedYear(e){if(this._selectedYear=null,e instanceof ko){let n=e.start||e.end;n&&(this._selectedYear=this._dateAdapter.getYear(n))}else e&&(this._selectedYear=this._dateAdapter.getYear(e))}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=X({type:t,selectors:[["mat-multi-year-view"]],viewQuery:function(n,r){if(n&1&&Ke(Vp,5),n&2){let a;pe(a=fe())&&(r._matCalendarBody=a.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell"]],template:function(n,r){n&1&&(M(0,"table",0)(1,"thead",1)(2,"tr"),re(3,"th",2),I()(),M(4,"tbody",3),Q("selectedValueChange",function(o){return r._yearSelected(o)})("activeDateChange",function(o){return r._updateActiveDate(o)})("keyup",function(o){return r._handleCalendarBodyKeyup(o)})("keydown",function(o){return r._handleCalendarBodyKeydown(o)}),I()()),n&2&&(T(4),W("rows",r._years)("todayValue",r._todayYear)("startValue",r._selectedYear)("endValue",r._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",r._getActiveCell()))},dependencies:[Vp],encapsulation:2,changeDetection:0})}return t})();function Jj(t,i,e,n,r){let a=t.getYear(i),o=t.getYear(e),s=e3(t,n,r);return Math.floor((a-s)/eo)===Math.floor((o-s)/eo)}function by(t,i,e,n){let r=t.getYear(i);return $ae(r-e3(t,e,n),eo)}function e3(t,i,e){let n=0;return e?n=t.getYear(e)-eo+1:i&&(n=t.getYear(i)),n}function $ae(t,i){return(t%i+i)%i}var Kj=(()=>{class t{_changeDetectorRef=_(et);_dateFormats=_(ys,{optional:!0});_dateAdapter=_(Kn,{optional:!0});_dir=_(Oi,{optional:!0});_rerenderSubscription=xt.EMPTY;_selectionKeyPressed;get activeDate(){return this._activeDate}set activeDate(e){let n=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._dateAdapter.getYear(n)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}_activeDate;get selected(){return this._selected}set selected(e){e instanceof ko?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}_selected;get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_minDate;get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_maxDate;dateFilter;dateClass;selectedChange=new ie;monthSelected=new ie;activeDateChange=new ie;_matCalendarBody;_months;_yearLabel;_todayMonth;_selectedMonth;constructor(){this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(yi(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){let n=e.value,r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),n,1);this.monthSelected.emit(r);let a=this._getDateFromMonth(n);this.selectedChange.emit(a)}_updateActiveDate(e){let n=e.value,r=this._activeDate;this.activeDate=this._getDateFromMonth(n),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){let n=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(n,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(n=>n.map(r=>this._createCellForMonth(r,e[r]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_getDateFromMonth(e){let n=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),r=this._dateAdapter.getNumDaysInMonth(n);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForMonth(e,n){let r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),a=this._dateAdapter.format(r,this._dateFormats.display.monthYearA11yLabel),o=this.dateClass?this.dateClass(r,"year"):void 0;return new yy(e,n.toLocaleUpperCase(),a,this._shouldEnableMonth(e),o)}_shouldEnableMonth(e){let n=this._dateAdapter.getYear(this.activeDate);if(e==null||this._isYearAndMonthAfterMaxDate(n,e)||this._isYearAndMonthBeforeMinDate(n,e))return!1;if(!this.dateFilter)return!0;let r=this._dateAdapter.createDate(n,e,1);for(let a=r;this._dateAdapter.getMonth(a)==e;a=this._dateAdapter.addCalendarDays(a,1))if(this.dateFilter(a))return!0;return!1}_isYearAndMonthAfterMaxDate(e,n){if(this.maxDate){let r=this._dateAdapter.getYear(this.maxDate),a=this._dateAdapter.getMonth(this.maxDate);return e>r||e===r&&n>a}return!1}_isYearAndMonthBeforeMinDate(e,n){if(this.minDate){let r=this._dateAdapter.getYear(this.minDate),a=this._dateAdapter.getMonth(this.minDate);return e<r||e===r&&n<a}return!1}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setSelectedMonth(e){e instanceof ko?this._selectedMonth=this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end):this._selectedMonth=this._getMonthInCurrentYear(e)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=X({type:t,selectors:[["mat-year-view"]],viewQuery:function(n,r){if(n&1&&Ke(Vp,5),n&2){let a;pe(a=fe())&&(r._matCalendarBody=a.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell"]],template:function(n,r){n&1&&(M(0,"table",0)(1,"thead",1)(2,"tr"),re(3,"th",2),I()(),M(4,"tbody",3),Q("selectedValueChange",function(o){return r._monthSelected(o)})("activeDateChange",function(o){return r._updateActiveDate(o)})("keyup",function(o){return r._handleCalendarBodyKeyup(o)})("keydown",function(o){return r._handleCalendarBodyKeydown(o)}),I()()),n&2&&(T(4),W("label",r._yearLabel)("rows",r._months)("todayValue",r._todayMonth)("startValue",r._selectedMonth)("endValue",r._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",r._dateAdapter.getMonth(r.activeDate)))},dependencies:[Vp],encapsulation:2,changeDetection:0})}return t})(),t3=(()=>{class t{_intl=_(Bp);calendar=_(AT);_dateAdapter=_(Kn,{optional:!0});_dateFormats=_(ys,{optional:!0});constructor(){_(hi).load(rd);let e=_(et);this.calendar.stateChanges.subscribe(()=>e.markForCheck())}get periodButtonText(){return this.calendar.currentView=="month"?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():this.calendar.currentView=="year"?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return this.calendar.currentView=="month"?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():this.calendar.currentView=="year"?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return this.calendar.currentView=="month"?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView=this.calendar.currentView=="month"?"multi-year":"month"}previousClicked(){this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?-1:-eo)}nextClicked(){this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?1:eo)}previousEnabled(){return this.calendar.minDate?!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate):!0}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(e,n){return this.calendar.currentView=="month"?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(n)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(n):this.calendar.currentView=="year"?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(n):Jj(this._dateAdapter,e,n,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){let n=this._dateAdapter.getYear(this.calendar.activeDate)-by(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),r=n+eo-1,a=this._dateAdapter.getYearName(this._dateAdapter.createDate(n,0,1)),o=this._dateAdapter.getYearName(this._dateAdapter.createDate(r,0,1));return[a,o]}_periodButtonLabelId=_(Kt).getId("mat-calendar-period-label-");static \u0275fac=function(n){return new(n||t)};static \u0275cmp=X({type:t,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:Tae,decls:17,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["aria-live","polite",1,"cdk-visually-hidden",3,"id"],["mat-button","","type","button",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"click","disabled"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"click","disabled"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"]],template:function(n,r){n&1&&(ut(),M(0,"div",0)(1,"div",1)(2,"span",2),V(3),I(),M(4,"button",3),Q("click",function(){return r.currentPeriodClicked()}),M(5,"span",4),V(6),I(),Ai(),M(7,"svg",5),re(8,"polygon",6),I()(),Or(),re(9,"div",7),Ie(10),M(11,"button",8),Q("click",function(){return r.previousClicked()}),Ai(),M(12,"svg",9),re(13,"path",10),I()(),Or(),M(14,"button",11),Q("click",function(){return r.nextClicked()}),Ai(),M(15,"svg",9),re(16,"path",12),I()()()()),n&2&&(T(2),W("id",r._periodButtonLabelId),T(),qe(r.periodButtonDescription),T(),Ee("aria-label",r.periodButtonLabel)("aria-describedby",r._periodButtonLabelId),T(2),qe(r.periodButtonText),T(),de("mat-calendar-invert",r.calendar.currentView!=="month"),T(4),W("disabled",!r.previousEnabled()),Ee("aria-label",r.prevButtonLabel),T(3),W("disabled",!r.nextEnabled()),Ee("aria-label",r.nextButtonLabel))},dependencies:[_r,cr],encapsulation:2,changeDetection:0})}return t})(),AT=(()=>{class t{_dateAdapter=_(Kn,{optional:!0});_dateFormats=_(ys,{optional:!0});_changeDetectorRef=_(et);_elementRef=_(me);headerComponent;_calendarHeaderPortal;_intlChanges;_moveFocusOnNextTick=!1;get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_startAt;startView="month";get selected(){return this._selected}set selected(e){e instanceof ko?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_selected;get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_minDate;get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_maxDate;dateFilter;dateClass;comparisonStart;comparisonEnd;startDateAccessibleName;endDateAccessibleName;selectedChange=new ie;yearSelected=new ie;monthSelected=new ie;viewChanged=new ie(!0);_userSelection=new ie;_userDragDrop=new ie;monthView;yearView;multiYearView;get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}_clampedActiveDate;get currentView(){return this._currentView}set currentView(e){let n=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),n&&this.viewChanged.emit(n)}_currentView;_activeDrag=null;stateChanges=new oe;constructor(){this._intlChanges=_(Bp).changes.subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new fl(this.headerComponent||t3),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){let n=e.minDate&&!this._dateAdapter.sameDate(e.minDate.previousValue,e.minDate.currentValue)?e.minDate:void 0,r=e.maxDate&&!this._dateAdapter.sameDate(e.maxDate.previousValue,e.maxDate.currentValue)?e.maxDate:void 0,a=n||r||e.dateFilter;if(a&&!a.firstChange){let o=this._getCurrentViewComponent();o&&(this._elementRef.nativeElement.contains(Za())&&(this._moveFocusOnNextTick=!0),this._changeDetectorRef.detectChanges(),o._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(e){let n=e.value;(this.selected instanceof ko||n&&!this._dateAdapter.sameDate(n,this.selected))&&this.selectedChange.emit(n),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,n){this.activeDate=e,this.currentView=n}_dragStarted(e){this._activeDrag=e}_dragEnded(e){this._activeDrag&&(e.value&&this._userDragDrop.emit(e),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=X({type:t,selectors:[["mat-calendar"]],viewQuery:function(n,r){if(n&1&&(Ke($j,5),Ke(Kj,5),Ke(Yj,5)),n&2){let a;pe(a=fe())&&(r.monthView=a.first),pe(a=fe())&&(r.yearView=a.first),pe(a=fe())&&(r.multiYearView=a.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],features:[Ue([Qj]),_t],decls:5,vars:2,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","_userSelection","dragStarted","dragEnded","activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDateChange","monthSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","yearSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"]],template:function(n,r){if(n&1&&(ae(0,Rae,0,0,"ng-template",0),M(1,"div",1),ae(2,Oae,1,11,"mat-month-view",2)(3,Lae,1,6,"mat-year-view",3)(4,Nae,1,6,"mat-multi-year-view",3),I()),n&2){let a;W("cdkPortalOutlet",r._calendarHeaderPortal),T(2),At((a=r.currentView)==="month"?2:a==="year"?3:a==="multi-year"?4:-1)}},dependencies:[Ta,ob,$j,Kj,Yj],styles:[`.mat-calendar{display:block;line-height:normal;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-sys-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-sys-body-medium-size))}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px;font-size:var(--mat-datepicker-calendar-period-button-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-period-button-text-weight, var(--mat-sys-title-small-weight));--mdc-text-button-label-text-color:var(--mat-datepicker-calendar-period-button-text-color, var(--mat-sys-on-surface-variant))}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle;fill:var(--mat-datepicker-calendar-period-button-icon-color, var(--mat-sys-on-surface-variant))}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}@media(forced-colors: active){.mat-calendar-arrow{fill:CanvasText}}.mat-datepicker-content .mat-calendar-previous-button:not(.mat-mdc-button-disabled),.mat-datepicker-content .mat-calendar-next-button:not(.mat-mdc-button-disabled){color:var(--mat-datepicker-calendar-navigation-button-icon-color, var(--mat-sys-on-surface-variant))}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0;color:var(--mat-datepicker-calendar-header-text-color, var(--mat-sys-on-surface-variant));font-size:var(--mat-datepicker-calendar-header-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-header-text-weight, var(--mat-sys-title-small-weight))}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px;background:var(--mat-datepicker-calendar-header-divider-color, transparent)}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}
`],encapsulation:2,changeDetection:0})}return t})(),i3=new G("mat-datepicker-scroll-strategy",{providedIn:"root",factory:()=>{let t=_(Hi);return()=>t.scrollStrategies.reposition()}});function Yae(t){return()=>t.scrollStrategies.reposition()}var Kae={provide:i3,deps:[Hi],useFactory:Yae},n3=(()=>{class t{_elementRef=_(me);_animationsDisabled=_(Ut,{optional:!0})==="NoopAnimations";_changeDetectorRef=_(et);_globalModel=_(vy);_dateAdapter=_(Kn);_ngZone=_(Ce);_rangeSelectionStrategy=_(Xj,{optional:!0});_stateChanges;_model;_eventCleanups;_animationFallback;_calendar;color;datepicker;comparisonStart;comparisonEnd;startDateAccessibleName;endDateAccessibleName;_isAbove;_animationDone=new oe;_isAnimating=!1;_closeButtonText;_closeButtonFocused;_actionsPortal=null;_dialogLabelId;constructor(){if(_(hi).load(rd),this._closeButtonText=_(Bp).closeCalendarLabel,!this._animationsDisabled){let e=this._elementRef.nativeElement,n=_(Yt);this._eventCleanups=this._ngZone.runOutsideAngular(()=>[n.listen(e,"animationstart",this._handleAnimationEvent),n.listen(e,"animationend",this._handleAnimationEvent),n.listen(e,"animationcancel",this._handleAnimationEvent)])}}ngAfterViewInit(){this._stateChanges=this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()}),this._calendar.focusActiveCell()}ngOnDestroy(){clearTimeout(this._animationFallback),this._eventCleanups?.forEach(e=>e()),this._stateChanges?.unsubscribe(),this._animationDone.complete()}_handleUserSelection(e){let n=this._model.selection,r=e.value,a=n instanceof ko;if(a&&this._rangeSelectionStrategy){let o=this._rangeSelectionStrategy.selectionFinished(r,n,e.event);this._model.updateSelection(o,this)}else r&&(a||!this._dateAdapter.sameDate(r,n))&&this._model.add(r);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(e){this._model.updateSelection(e.value,this)}_startExitAnimation(){this._elementRef.nativeElement.classList.add("mat-datepicker-content-exit"),this._animationsDisabled?this._animationDone.next():(clearTimeout(this._animationFallback),this._animationFallback=setTimeout(()=>{this._isAnimating||this._animationDone.next()},200))}_handleAnimationEvent=e=>{let n=this._elementRef.nativeElement;e.target!==n||!e.animationName.startsWith("_mat-datepicker-content")||(clearTimeout(this._animationFallback),this._isAnimating=e.type==="animationstart",n.classList.toggle("mat-datepicker-content-animating",this._isAnimating),this._isAnimating||this._animationDone.next())};_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(e,n){this._model=e?this._globalModel.clone():this._globalModel,this._actionsPortal=e,n&&this._changeDetectorRef.detectChanges()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=X({type:t,selectors:[["mat-datepicker-content"]],viewQuery:function(n,r){if(n&1&&Ke(AT,5),n&2){let a;pe(a=fe())&&(r._calendar=a.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:6,hostBindings:function(n,r){n&2&&(zn(r.color?"mat-"+r.color:""),de("mat-datepicker-content-touch",r.datepicker.touchUi)("mat-datepicker-content-animations-enabled",!r._animationsDisabled))},inputs:{color:"color"},exportAs:["matDatepickerContent"],decls:5,vars:26,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop","id","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"focus","blur","click","color"]],template:function(n,r){if(n&1&&(M(0,"div",0)(1,"mat-calendar",1),Q("yearSelected",function(o){return r.datepicker._selectYear(o)})("monthSelected",function(o){return r.datepicker._selectMonth(o)})("viewChanged",function(o){return r.datepicker._viewChanged(o)})("_userSelection",function(o){return r._handleUserSelection(o)})("_userDragDrop",function(o){return r._handleUserDragDrop(o)}),I(),ae(2,Pae,0,0,"ng-template",2),M(3,"button",3),Q("focus",function(){return r._closeButtonFocused=!0})("blur",function(){return r._closeButtonFocused=!1})("click",function(){return r.datepicker.close()}),V(4),I()()),n&2){let a;de("mat-datepicker-content-container-with-custom-header",r.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",r._actionsPortal),Ee("aria-modal",!0)("aria-labelledby",(a=r._dialogLabelId)!==null&&a!==void 0?a:void 0),T(),zn(r.datepicker.panelClass),W("id",r.datepicker.id)("startAt",r.datepicker.startAt)("startView",r.datepicker.startView)("minDate",r.datepicker._getMinDate())("maxDate",r.datepicker._getMaxDate())("dateFilter",r.datepicker._getDateFilter())("headerComponent",r.datepicker.calendarHeaderComponent)("selected",r._getSelected())("dateClass",r.datepicker.dateClass)("comparisonStart",r.comparisonStart)("comparisonEnd",r.comparisonEnd)("startDateAccessibleName",r.startDateAccessibleName)("endDateAccessibleName",r.endDateAccessibleName),T(),W("cdkPortalOutlet",r._actionsPortal),T(),de("cdk-visually-hidden",!r._closeButtonFocused),W("color",r.color||"primary"),T(),qe(r._closeButtonText)}},dependencies:[AI,AT,Ta,_r],styles:[`@keyframes _mat-datepicker-content-dropdown-enter{from{opacity:0;transform:scaleY(0.8)}to{opacity:1;transform:none}}@keyframes _mat-datepicker-content-dialog-enter{from{opacity:0;transform:scale(0.8)}to{opacity:1;transform:none}}@keyframes _mat-datepicker-content-exit{from{opacity:1}to{opacity:0}}.mat-datepicker-content{display:block;border-radius:4px;background-color:var(--mat-datepicker-calendar-container-background-color, var(--mat-sys-surface-container-high));color:var(--mat-datepicker-calendar-container-text-color, var(--mat-sys-on-surface));box-shadow:var(--mat-datepicker-calendar-container-elevation-shadow, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12));border-radius:var(--mat-datepicker-calendar-container-shape, var(--mat-sys-corner-large))}.mat-datepicker-content.mat-datepicker-content-animations-enabled{animation:_mat-datepicker-content-dropdown-enter 120ms cubic-bezier(0, 0, 0.2, 1)}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.mat-datepicker-content-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;box-shadow:var(--mat-datepicker-calendar-container-touch-elevation-shadow, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12));border-radius:var(--mat-datepicker-calendar-container-touch-shape, var(--mat-sys-corner-extra-large));position:relative;overflow:visible}.mat-datepicker-content-touch.mat-datepicker-content-animations-enabled{animation:_mat-datepicker-content-dialog-enter 150ms cubic-bezier(0, 0, 0.2, 1)}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}.mat-datepicker-content-exit.mat-datepicker-content-animations-enabled{animation:_mat-datepicker-content-exit 100ms linear}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}
`],encapsulation:2,changeDetection:0})}return t})(),qj=(()=>{class t{_overlay=_(Hi);_viewContainerRef=_(_i);_dateAdapter=_(Kn,{optional:!0});_dir=_(Oi,{optional:!0});_model=_(vy);_scrollStrategy=_(i3);_inputStateChanges=xt.EMPTY;_document=_(He);calendarHeaderComponent;get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_startAt;startView="month";get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(e){this._color=e}_color;touchUi=!1;get disabled(){return this._disabled===void 0&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(e){e!==this._disabled&&(this._disabled=e,this.stateChanges.next(void 0))}_disabled;xPosition="start";yPosition="below";restoreFocus=!0;yearSelected=new ie;monthSelected=new ie;viewChanged=new ie(!0);dateClass;openedStream=new ie;closedStream=new ie;get panelClass(){return this._panelClass}set panelClass(e){this._panelClass=q2(e)}_panelClass;get opened(){return this._opened}set opened(e){e?this.open():this.close()}_opened=!1;id=_(Kt).getId("mat-datepicker-");_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}_overlayRef;_componentRef;_focusedElementBeforeOpen=null;_backdropHarnessClass=`${this.id}-backdrop`;_actionsPortal;datepickerInput;stateChanges=new oe;_injector=_(Ye);_changeDetectorRef=_(et);constructor(){this._dateAdapter,this._model.selectionChanged.subscribe(()=>{this._changeDetectorRef.markForCheck()})}ngOnChanges(e){let n=e.xPosition||e.yPosition;if(n&&!n.firstChange&&this._overlayRef){let r=this._overlayRef.getConfig().positionStrategy;r instanceof Dp&&(this._setConnectedPositions(r),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(e){this._model.add(e)}_selectYear(e){this.yearSelected.emit(e)}_selectMonth(e){this.monthSelected.emit(e)}_viewChanged(e){this.viewChanged.emit(e)}registerInput(e){return this.datepickerInput,this._inputStateChanges.unsubscribe(),this.datepickerInput=e,this._inputStateChanges=e.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(e){this._actionsPortal,this._actionsPortal=e,this._componentRef?.instance._assignActions(e,!0)}removeActions(e){e===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||this._componentRef?.instance._isAnimating||(this.datepickerInput,this._focusedElementBeforeOpen=Za(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened||this._componentRef?.instance._isAnimating)return;let e=this.restoreFocus&&this._focusedElementBeforeOpen&&typeof this._focusedElementBeforeOpen.focus=="function",n=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){let{instance:r,location:a}=this._componentRef;r._animationDone.pipe(Yi(1)).subscribe(()=>{let o=this._document.activeElement;e&&(!o||o===this._document.activeElement||a.nativeElement.contains(o))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()}),r._startExitAnimation()}e?setTimeout(n):n()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(e){e.datepicker=this,e.color=this.color,e._dialogLabelId=this.datepickerInput.getOverlayLabelId(),e._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();let e=this.touchUi,n=new fl(n3,this._viewContainerRef),r=this._overlayRef=this._overlay.create(new ps({positionStrategy:e?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[e?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir||"ltr",scrollStrategy:e?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:`mat-datepicker-${e?"dialog":"popup"}`}));this._getCloseStream(r).subscribe(a=>{a&&a.preventDefault(),this.close()}),r.keydownEvents().subscribe(a=>{let o=a.keyCode;(o===38||o===40||o===37||o===39||o===33||o===34)&&a.preventDefault()}),this._componentRef=r.attach(n),this._forwardContentValues(this._componentRef.instance),e||qi(()=>{r.updatePosition()},{injector:this._injector})}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){let e=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(e)}_setConnectedPositions(e){let n=this.xPosition==="end"?"end":"start",r=n==="start"?"end":"start",a=this.yPosition==="above"?"bottom":"top",o=a==="top"?"bottom":"top";return e.withPositions([{originX:n,originY:o,overlayX:n,overlayY:a},{originX:n,originY:a,overlayX:n,overlayY:o},{originX:r,originY:o,overlayX:r,overlayY:a},{originX:r,originY:a,overlayX:r,overlayY:o}])}_getCloseStream(e){let n=["ctrlKey","shiftKey","metaKey"];return ri(e.backdropClick(),e.detachments(),e.keydownEvents().pipe(kt(r=>r.keyCode===27&&!pi(r)||this.datepickerInput&&pi(r,"altKey")&&r.keyCode===38&&n.every(a=>!pi(r,a)))))}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:[2,"touchUi","touchUi",J],disabled:[2,"disabled","disabled",J],xPosition:"xPosition",yPosition:"yPosition",restoreFocus:[2,"restoreFocus","restoreFocus",J],dateClass:"dateClass",panelClass:"panelClass",opened:[2,"opened","opened",J]},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[_t]})}return t})(),GC=(()=>{class t extends qj{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Dt(t)))(r||t)}})();static \u0275cmp=X({type:t,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[Ue([Qj,{provide:qj,useExisting:t}]),Ve],decls:0,vars:0,template:function(n,r){},encapsulation:2,changeDetection:0})}return t})(),Fp=class{target;targetElement;value;constructor(i,e){this.target=i,this.targetElement=e,this.value=this.target.value}},qae=(()=>{class t{_elementRef=_(me);_dateAdapter=_(Kn,{optional:!0});_dateFormats=_(ys,{optional:!0});_isInitialized;get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(e){this._assignValueProgrammatically(e)}_model;get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(e){let n=e,r=this._elementRef.nativeElement;this._disabled!==n&&(this._disabled=n,this.stateChanges.next(void 0)),n&&this._isInitialized&&r.blur&&r.blur()}_disabled;dateChange=new ie;dateInput=new ie;stateChanges=new oe;_onTouched=()=>{};_validatorOnChange=()=>{};_cvaOnChange=()=>{};_valueChangesSubscription=xt.EMPTY;_localeSubscription=xt.EMPTY;_pendingValue;_parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}};_filterValidator=e=>{let n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e.value));return!n||this._matchesFilter(n)?null:{matDatepickerFilter:!0}};_minValidator=e=>{let n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e.value)),r=this._getMinDate();return!r||!n||this._dateAdapter.compareDate(r,n)<=0?null:{matDatepickerMin:{min:r,actual:n}}};_maxValidator=e=>{let n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e.value)),r=this._getMaxDate();return!r||!n||this._dateAdapter.compareDate(r,n)>=0?null:{matDatepickerMax:{max:r,actual:n}}};_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(e){this._model=e,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(n=>{if(this._shouldHandleChangeEvent(n)){let r=this._getValueFromModel(n.selection);this._lastValueValid=this._isValidValue(r),this._cvaOnChange(r),this._onTouched(),this._formatValue(r),this.dateInput.emit(new Fp(this,this._elementRef.nativeElement)),this.dateChange.emit(new Fp(this,this._elementRef.nativeElement))}})}_lastValueValid=!1;constructor(){this._localeSubscription=this._dateAdapter.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(e){Zae(e,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}writeValue(e){this._assignValueProgrammatically(e)}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onKeydown(e){let n=["ctrlKey","shiftKey","metaKey"];pi(e,"altKey")&&e.keyCode===40&&n.every(a=>!pi(e,a))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),e.preventDefault())}_onInput(e){let n=this._lastValueValid,r=this._dateAdapter.parse(e,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(r),r=this._dateAdapter.getValidDateOrNull(r);let a=!this._dateAdapter.sameDate(r,this.value);!r||a?this._cvaOnChange(r):(e&&!this.value&&this._cvaOnChange(r),n!==this._lastValueValid&&this._validatorOnChange()),a&&(this._assignValue(r),this.dateInput.emit(new Fp(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new Fp(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(e){this._elementRef.nativeElement.value=e!=null?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}_assignValue(e){this._model?(this._assignValueToModel(e),this._pendingValue=null):this._pendingValue=e}_isValidValue(e){return!e||this._dateAdapter.isValid(e)}_parentDisabled(){return!1}_assignValueProgrammatically(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=this._isValidValue(e),e=this._dateAdapter.getValidDateOrNull(e),this._assignValue(e),this._formatValue(e)}_matchesFilter(e){let n=this._getDateFilter();return!n||n(e)}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,inputs:{value:"value",disabled:[2,"disabled","disabled",J]},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[_t]})}return t})();function Zae(t,i){let e=Object.keys(t);for(let n of e){let{previousValue:r,currentValue:a}=t[n];if(i.isDateInstance(r)&&i.isDateInstance(a)){if(!i.sameDate(r,a))return!0}else return!0}return!1}var Qae={provide:bs,useExisting:Rr(()=>zp),multi:!0},Xae={provide:_l,useExisting:Rr(()=>zp),multi:!0},zp=(()=>{class t extends qae{_formField=_(dc,{optional:!0});_closedSubscription=xt.EMPTY;_openedSubscription=xt.EMPTY;set matDatepicker(e){e&&(this._datepicker=e,this._ariaOwns.set(e.opened?e.id:null),this._closedSubscription=e.closedStream.subscribe(()=>{this._onTouched(),this._ariaOwns.set(null)}),this._openedSubscription=e.openedStream.subscribe(()=>{this._ariaOwns.set(e.id)}),this._registerModel(e.registerInput(this)))}_datepicker;_ariaOwns=yn(null);get min(){return this._min}set min(e){let n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(n,this._min)||(this._min=n,this._validatorOnChange())}_min;get max(){return this._max}set max(e){let n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(n,this._max)||(this._max=n,this._validatorOnChange())}_max;get dateFilter(){return this._dateFilter}set dateFilter(e){let n=this._matchesFilter(this.value);this._dateFilter=e,this._matchesFilter(this.value)!==n&&this._validatorOnChange()}_dateFilter;_validator;constructor(){super(),this._validator=yl.compose(super._getValidators())}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe(),this._openedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(e){return e}_assignValueToModel(e){this._model&&this._model.updateSelection(e,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(e){return e.source!==this}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(n,r){n&1&&Q("input",function(o){return r._onInput(o.target.value)})("change",function(){return r._onChange()})("blur",function(){return r._onBlur()})("keydown",function(o){return r._onKeydown(o)}),n&2&&(Ca("disabled",r.disabled),Ee("aria-haspopup",r._datepicker?"dialog":null)("aria-owns",r._ariaOwns())("min",r.min?r._dateAdapter.toIso8601(r.min):null)("max",r.max?r._dateAdapter.toIso8601(r.max):null)("data-mat-calendar",r._datepicker?r._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:[0,"matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[Ue([Qae,Xae,{provide:Op,useExisting:t}]),Ve]})}return t})(),Jae=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["","matDatepickerToggleIcon",""]]})}return t})(),_y=(()=>{class t{_intl=_(Bp);_changeDetectorRef=_(et);_stateChanges=xt.EMPTY;datepicker;tabIndex;ariaLabel;get disabled(){return this._disabled===void 0&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=e}_disabled;disableRipple;_customIcon;_button;constructor(){let e=_(new fr("tabindex"),{optional:!0}),n=Number(e);this.tabIndex=n||n===0?n:null}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){let e=this.datepicker?this.datepicker.stateChanges:ke(),n=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:ke(),r=this.datepicker?ri(this.datepicker.openedStream,this.datepicker.closedStream):ke();this._stateChanges.unsubscribe(),this._stateChanges=ri(this._intl.changes,e,n,r).subscribe(()=>this._changeDetectorRef.markForCheck())}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=X({type:t,selectors:[["mat-datepicker-toggle"]],contentQueries:function(n,r,a){if(n&1&&St(a,Jae,5),n&2){let o;pe(o=fe())&&(r._customIcon=o.first)}},viewQuery:function(n,r){if(n&1&&Ke(Fae,5),n&2){let a;pe(a=fe())&&(r._button=a.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(n,r){n&1&&Q("click",function(o){return r._open(o)}),n&2&&(Ee("tabindex",null)("data-mat-calendar",r.datepicker?r.datepicker.id:null),de("mat-datepicker-toggle-active",r.datepicker&&r.datepicker.opened)("mat-accent",r.datepicker&&r.datepicker.color==="accent")("mat-warn",r.datepicker&&r.datepicker.color==="warn"))},inputs:{datepicker:[0,"for","datepicker"],tabIndex:"tabIndex",ariaLabel:[0,"aria-label","ariaLabel"],disabled:[2,"disabled","disabled",J],disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[_t],ngContentSelectors:Bae,decls:4,vars:7,consts:[["button",""],["mat-icon-button","","type","button",3,"disabled","disableRipple"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(n,r){n&1&&(ut(Vae),M(0,"button",1,0),ae(2,zae,2,0,":svg:svg",2),Ie(3),I()),n&2&&(W("disabled",r.disabled)("disableRipple",r.disableRipple),Ee("aria-haspopup",r.datepicker?"dialog":null)("aria-label",r.ariaLabel||r._intl.openCalendarLabel)("tabindex",r.disabled?-1:r.tabIndex)("aria-expanded",r.datepicker?r.datepicker.opened:null),T(2),At(r._customIcon?-1:2))},dependencies:[cr],styles:[`.mat-datepicker-toggle{pointer-events:auto;color:var(--mat-datepicker-toggle-icon-color, var(--mat-sys-on-surface-variant))}.mat-datepicker-toggle-active{color:var(--mat-datepicker-toggle-active-state-icon-color, var(--mat-sys-on-surface-variant))}@media(forced-colors: active){.mat-datepicker-toggle-default-icon{color:CanvasText}}
`],encapsulation:2,changeDetection:0})}return t})();var r3=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Se({type:t});static \u0275inj=De({providers:[Bp,Kae],imports:[DC,fs,sb,Co,Qe,n3,_y,t3,tl]})}return t})();var eoe=["mat-internal-form-field",""],toe=["*"],WC=(()=>{class t{labelPosition;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=X({type:t,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(n,r){n&2&&de("mdc-form-field--align-end",r.labelPosition==="before")},inputs:{labelPosition:"labelPosition"},attrs:eoe,ngContentSelectors:toe,decls:1,vars:0,template:function(n,r){n&1&&(ut(),Ie(0))},styles:[`.mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}
`],encapsulation:2,changeDetection:0})}return t})();var ioe=["input"],noe=["formField"],roe=["*"],$C=class{source;value;constructor(i,e){this.source=i,this.value=e}},aoe={provide:bs,useExisting:Rr(()=>ET),multi:!0},o3=new G("MatRadioGroup"),ooe=new G("mat-radio-default-options",{providedIn:"root",factory:soe});function soe(){return{color:"accent",disabledInteractive:!1}}var ET=(()=>{class t{_changeDetector=_(et);_value=null;_name=_(Kt).getId("mat-radio-group-");_selected=null;_isInitialized=!1;_labelPosition="after";_disabled=!1;_required=!1;_buttonChanges;_controlValueAccessorChangeFn=()=>{};onTouched=()=>{};change=new ie;_radios;color;get name(){return this._name}set name(e){this._name=e,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(e){this._labelPosition=e==="before"?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(e){this._selected=e,this.value=e?e.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._markRadiosForCheck()}get required(){return this._required}set required(e){this._required=e,this._markRadiosForCheck()}get disabledInteractive(){return this._disabledInteractive}set disabledInteractive(e){this._disabledInteractive=e,this._markRadiosForCheck()}_disabledInteractive=!1;constructor(){}ngAfterContentInit(){this._isInitialized=!0,this._buttonChanges=this._radios.changes.subscribe(()=>{this.selected&&!this._radios.find(e=>e===this.selected)&&(this._selected=null)})}ngOnDestroy(){this._buttonChanges?.unsubscribe()}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(e=>{e.name=this.name,e._markForCheck()})}_updateSelectedRadioFromValue(){let e=this._selected!==null&&this._selected.value===this._value;this._radios&&!e&&(this._selected=null,this._radios.forEach(n=>{n.checked=this.value===n.value,n.checked&&(this._selected=n)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new $C(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(e=>e._markForCheck())}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetector.markForCheck()}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["mat-radio-group"]],contentQueries:function(n,r,a){if(n&1&&St(a,YC,5),n&2){let o;pe(o=fe())&&(r._radios=o)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:[2,"disabled","disabled",J],required:[2,"required","required",J],disabledInteractive:[2,"disabledInteractive","disabledInteractive",J]},outputs:{change:"change"},exportAs:["matRadioGroup"],features:[Ue([aoe,{provide:o3,useExisting:t}])]})}return t})(),YC=(()=>{class t{_elementRef=_(me);_changeDetector=_(et);_focusMonitor=_(Ia);_radioDispatcher=_(Au);_defaultOptions=_(ooe,{optional:!0});_ngZone=_(Ce);_renderer=_(Yt);_uniqueId=_(Kt).getId("mat-radio-");_cleanupClick;id=this._uniqueId;name;ariaLabel;ariaLabelledby;ariaDescribedby;disableRipple=!1;tabIndex=0;get checked(){return this._checked}set checked(e){this._checked!==e&&(this._checked=e,e&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!e&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),e&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,this.radioGroup!==null&&(this.checked||(this.checked=this.radioGroup.value===e),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(e){this._labelPosition=e}_labelPosition;get disabled(){return this._disabled||this.radioGroup!==null&&this.radioGroup.disabled}set disabled(e){this._setDisabled(e)}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(e){e!==this._required&&this._changeDetector.markForCheck(),this._required=e}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._defaultOptions&&this._defaultOptions.color||"accent"}set color(e){this._color=e}_color;get disabledInteractive(){return this._disabledInteractive||this.radioGroup!==null&&this.radioGroup.disabledInteractive}set disabledInteractive(e){this._disabledInteractive=e}_disabledInteractive;change=new ie;radioGroup;get inputId(){return`${this.id||this._uniqueId}-input`}_checked=!1;_disabled;_required;_value=null;_removeUniqueSelectionListener=()=>{};_previousTabIndex;_inputElement;_rippleTrigger;_noopAnimations;_injector=_(Ye);constructor(){_(hi).load(lr);let e=_(o3,{optional:!0}),n=_(Ut,{optional:!0}),r=_(new fr("tabindex"),{optional:!0});this.radioGroup=e,this._noopAnimations=n==="NoopAnimations",this._disabledInteractive=this._defaultOptions?.disabledInteractive??!1,r&&(this.tabIndex=Nr(r,0))}focus(e,n){n?this._focusMonitor.focusVia(this._inputElement,n,e):this._inputElement.nativeElement.focus(e)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((e,n)=>{e!==this.id&&n===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{!e&&this.radioGroup&&this.radioGroup._touch()}),this._ngZone.runOutsideAngular(()=>{this._cleanupClick=this._renderer.listen(this._inputElement.nativeElement,"click",this._onInputClick)})}ngOnDestroy(){this._cleanupClick?.(),this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new $C(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputInteraction(e){if(e.stopPropagation(),!this.checked&&!this.disabled){let n=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),n&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(e){this._onInputInteraction(e),(!this.disabled||this.disabledInteractive)&&this._inputElement?.nativeElement.focus()}_setDisabled(e){this._disabled!==e&&(this._disabled=e,this._changeDetector.markForCheck())}_onInputClick=e=>{this.disabled&&this.disabledInteractive&&e.preventDefault()};_updateTabIndex(){let e=this.radioGroup,n;if(!e||!e.selected||this.disabled?n=this.tabIndex:n=e.selected===this?this.tabIndex:-1,n!==this._previousTabIndex){let r=this._inputElement?.nativeElement;r&&(r.setAttribute("tabindex",n+""),this._previousTabIndex=n,qi(()=>{queueMicrotask(()=>{e&&e.selected&&e.selected!==this&&document.activeElement===r&&(e.selected?._inputElement.nativeElement.focus(),document.activeElement===r&&this._inputElement.nativeElement.blur())})},{injector:this._injector}))}}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=X({type:t,selectors:[["mat-radio-button"]],viewQuery:function(n,r){if(n&1&&(Ke(ioe,5),Ke(noe,7,me)),n&2){let a;pe(a=fe())&&(r._inputElement=a.first),pe(a=fe())&&(r._rippleTrigger=a.first)}},hostAttrs:[1,"mat-mdc-radio-button"],hostVars:19,hostBindings:function(n,r){n&1&&Q("focus",function(){return r._inputElement.nativeElement.focus()}),n&2&&(Ee("id",r.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),de("mat-primary",r.color==="primary")("mat-accent",r.color==="accent")("mat-warn",r.color==="warn")("mat-mdc-radio-checked",r.checked)("mat-mdc-radio-disabled",r.disabled)("mat-mdc-radio-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable",r._noopAnimations))},inputs:{id:"id",name:"name",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],disableRipple:[2,"disableRipple","disableRipple",J],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:Nr(e)],checked:[2,"checked","checked",J],value:"value",labelPosition:"labelPosition",disabled:[2,"disabled","disabled",J],required:[2,"required","required",J],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",J]},outputs:{change:"change"},exportAs:["matRadioButton"],ngContentSelectors:roe,decls:13,vars:17,consts:[["formField",""],["input",""],["mat-internal-form-field","",3,"labelPosition"],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio","aria-invalid","false",1,"mdc-radio__native-control",3,"change","id","checked","disabled","required"],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(n,r){if(n&1){let a=Rt();ut(),M(0,"div",2,0)(2,"div",3)(3,"div",4),Q("click",function(s){return ye(a),ve(r._onTouchTargetClick(s))}),I(),M(4,"input",5,1),Q("change",function(s){return ye(a),ve(r._onInputInteraction(s))}),I(),M(6,"div",6),re(7,"div",7)(8,"div",8),I(),M(9,"div",9),re(10,"div",10),I()(),M(11,"label",11),Ie(12),I()()}n&2&&(W("labelPosition",r.labelPosition),T(2),de("mdc-radio--disabled",r.disabled),T(2),W("id",r.inputId)("checked",r.checked)("disabled",r.disabled&&!r.disabledInteractive)("required",r.required),Ee("name",r.name)("value",r.value)("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby)("aria-disabled",r.disabled&&r.disabledInteractive?"true":null),T(5),W("matRippleTrigger",r._rippleTrigger.nativeElement)("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",!0),T(2),W("for",r.inputId))},dependencies:[ms,WC],styles:[`.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color;padding:calc((var(--mdc-radio-state-layer-size, 40px) - 20px)/2)}.mat-mdc-radio-button .mdc-radio:hover>.mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button .mdc-radio:hover>.mdc-radio__native-control:not([disabled])~.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button .mdc-radio:hover>.mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:hover>.mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color, var(--mat-sys-primary))}.mat-mdc-radio-button .mdc-radio:active>.mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button .mdc-radio:active>.mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:active>.mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color, var(--mat-sys-primary))}.mat-mdc-radio-button .mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mat-mdc-radio-button .mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);width:var(--mdc-radio-state-layer-size, 40px);height:var(--mdc-radio-state-layer-size, 40px);top:calc(-1*(var(--mdc-radio-state-layer-size, 40px) - 20px)/2);left:calc(-1*(var(--mdc-radio-state-layer-size, 40px) - 20px)/2)}.mat-mdc-radio-button .mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;top:0;right:0;left:0;cursor:inherit;z-index:1;width:var(--mdc-radio-state-layer-size, 40px);height:var(--mdc-radio-state-layer-size, 40px)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__outer-circle{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__inner-circle{transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-radio-disabled-unselected-icon-opacity, 0.38)}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{cursor:default}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-radio-button .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color, var(--mat-sys-primary))}.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color, var(--mat-sys-primary))}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__inner-circle{transform:scale(0.5);transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled{pointer-events:auto}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-radio-disabled-unselected-icon-opacity, 0.38)}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled:hover .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled:hover .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:checked:focus+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:checked:focus+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element,.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color, var(--mat-sys-primary))}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mat-ripple-element,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button .mat-internal-form-field{color:var(--mat-radio-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-radio-label-text-font, var(--mat-sys-body-medium-font));line-height:var(--mat-radio-label-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-radio-label-text-size, var(--mat-sys-body-medium-size));letter-spacing:var(--mat-radio-label-text-tracking, var(--mat-sys-body-medium-tracking));font-weight:var(--mat-radio-label-text-weight, var(--mat-sys-body-medium-weight))}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple>.mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button .mdc-radio>.mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button.cdk-focused .mat-focus-indicator::before{content:""}.mat-mdc-radio-disabled{cursor:default;pointer-events:none}.mat-mdc-radio-disabled.mat-mdc-radio-disabled-interactive{pointer-events:auto}.mat-mdc-radio-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-radio-touch-target-display, block)}[dir=rtl] .mat-mdc-radio-touch-target{left:auto;right:50%;transform:translate(50%, -50%)}
`],encapsulation:2,changeDetection:0})}return t})(),s3=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Se({type:t});static \u0275inj=De({imports:[Qe,bl,YC,Qe]})}return t})();var l3=(()=>{class t{constructor(e,n,r,a){this.dialogRef=e,this.data=n,this.quotasService=r,this.accountService=a,this.today=new Date}ngOnInit(){this.paymentDate=new Date,this.updateTotalValue(),this.updateChart()}updateTotalValue(){this.totalValue=this.data.valor+this.quotasService.calculateFineForDate(this.paymentDate,this.data.month.id)}updateChart(){this.chartOptions={data:[{amount:this.data.valor,source:"valor base"},{amount:this.totalValue-this.data.valor,source:"multa"}],series:[{type:"pie",angleKey:"amount",calloutLabelKey:"source",sectorLabelKey:"amount",sectorLabel:{color:"white",fontWeight:"bold"}}]}}dateChanged(){this.updateTotalValue(),this.updateChart()}addPayment(){if(!this.typeOfPayment){alert("Escolhe um tipo de pagamento");return}this.quotasService.setQuotaPayment(this.data.month.id,this.data.id,this.paymentDate.getTime()).then(()=>{this.accountService.getAccountBalance().subscribe(e=>{this.typeOfPayment===1?this.accountService.setIncomeValue(e.income+this.totalValue):this.typeOfPayment===2&&this.accountService.setHandValue(e.handTotal+this.totalValue)}),this.dialogRef.close()})}static{this.\u0275fac=function(n){return new(n||t)(ee(Yn),ee(Do),ee(Cd),ee(SC))}}static{this.\u0275cmp=X({type:t,selectors:[["app-add-payment-dialog"]],standalone:!1,decls:22,vars:7,consts:[["picker",""],["matInput","",3,"ngModelChange","dateChange","matDatepicker","ngModel"],["matIconSuffix","",3,"for"],["aria-label","Select an option",3,"ngModelChange","ngModel"],["value","1"],["value","2"],[1,"add-button"],["mat-raised-button","","color","primary","cdkFocusInitial","",3,"click"]],template:function(n,r){if(n&1){let a=Rt();M(0,"mat-dialog-content")(1,"h3"),V(2),I(),M(3,"h4"),V(4),I(),M(5,"mat-form-field")(6,"mat-label"),V(7,"Data de pagamento"),I(),M(8,"input",1),Ri("ngModelChange",function(s){return ye(a),Ti(r.paymentDate,s)||(r.paymentDate=s),ve(s)}),Q("dateChange",function(){return ye(a),ve(r.dateChanged())}),I(),re(9,"mat-datepicker-toggle",2)(10,"mat-datepicker",null,0),I(),M(12,"mat-radio-group",3),Ri("ngModelChange",function(s){return ye(a),Ti(r.typeOfPayment,s)||(r.typeOfPayment=s),ve(s)}),M(13,"mat-radio-button",4),V(14,"MbWay"),I(),M(15,"mat-radio-button",5),V(16,"Entregue em M\xE3o"),I()(),M(17,"h4"),V(18),I(),M(19,"div",6)(20,"button",7),Q("click",function(){return ye(a),ve(r.addPayment())}),V(21,"Adicionar pagamento"),I()()()}if(n&2){let a=ar(11);T(2),Ht("Pagamento de ",r.data.month.mes,""),T(2),Ht("Utilizador: ",r.data.name,""),T(4),W("matDatepicker",a),Ei("ngModel",r.paymentDate),T(),W("for",a),T(3),Ei("ngModel",r.typeOfPayment),T(6),Ht("Valor do pagamento: ",r.totalValue,"")}},dependencies:[da,_r,Io,ha,xr,cc,GC,zp,_y,So,Ra,ua,ET,YC],encapsulation:2})}}return t})();var c3=(()=>{class t{_animationMode=_(Ut,{optional:!0});state="unchecked";disabled=!1;appearance="full";constructor(){}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=X({type:t,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(n,r){n&2&&de("mat-pseudo-checkbox-indeterminate",r.state==="indeterminate")("mat-pseudo-checkbox-checked",r.state==="checked")("mat-pseudo-checkbox-disabled",r.disabled)("mat-pseudo-checkbox-minimal",r.appearance==="minimal")("mat-pseudo-checkbox-full",r.appearance==="full")("_mat-animation-noopable",r._animationMode==="NoopAnimations")},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(n,r){},styles:[`.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color, var(--mat-sys-primary))}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color, var(--mat-sys-on-surface-variant));border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color, var(--mat-sys-primary));border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color, var(--mat-sys-on-primary))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color, var(--mat-sys-surface))}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}
`],encapsulation:2,changeDetection:0})}return t})();var coe=["text"],doe=[[["mat-icon"]],"*"],uoe=["mat-icon","*"];function hoe(t,i){if(t&1&&re(0,"mat-pseudo-checkbox",1),t&2){let e=xe();W("disabled",e.disabled)("state",e.selected?"checked":"unchecked")}}function moe(t,i){if(t&1&&re(0,"mat-pseudo-checkbox",3),t&2){let e=xe();W("disabled",e.disabled)}}function poe(t,i){if(t&1&&(M(0,"span",4),V(1),I()),t&2){let e=xe();T(),Ht("(",e.group.label,")")}}var xy=new G("MAT_OPTION_PARENT_COMPONENT"),RT=new G("MatOptgroup");var TT=class{source;isUserInput;constructor(i,e=!1){this.source=i,this.isUserInput=e}},to=(()=>{class t{_element=_(me);_changeDetectorRef=_(et);_parent=_(xy,{optional:!0});group=_(RT,{optional:!0});_signalDisableRipple=!1;_selected=!1;_active=!1;_disabled=!1;_mostRecentViewValue="";get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}value;id=_(Kt).getId("mat-option-");get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=e}get disableRipple(){return this._signalDisableRipple?this._parent.disableRipple():!!this._parent?.disableRipple}get hideSingleSelectionIndicator(){return!!(this._parent&&this._parent.hideSingleSelectionIndicator)}onSelectionChange=new ie;_text;_stateChanges=new oe;constructor(){let e=_(hi);e.load(lr),e.load(rd),this._signalDisableRipple=!!this._parent&&pu(this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(e=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}deselect(e=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}focus(e,n){let r=this._getHostElement();typeof r.focus=="function"&&r.focus(n)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(e.keyCode===13||e.keyCode===32)&&!pi(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=this.multiple?!this._selected:!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){let e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=e)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new TT(this,e))}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=X({type:t,selectors:[["mat-option"]],viewQuery:function(n,r){if(n&1&&Ke(coe,7),n&2){let a;pe(a=fe())&&(r._text=a.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(n,r){n&1&&Q("click",function(){return r._selectViaInteraction()})("keydown",function(o){return r._handleKeydown(o)}),n&2&&(Ca("id",r.id),Ee("aria-selected",r.selected)("aria-disabled",r.disabled.toString()),de("mdc-list-item--selected",r.selected)("mat-mdc-option-multiple",r.multiple)("mat-mdc-option-active",r.active)("mdc-list-item--disabled",r.disabled))},inputs:{value:"value",id:"id",disabled:[2,"disabled","disabled",J]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],ngContentSelectors:uoe,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(n,r){n&1&&(ut(doe),ae(0,hoe,1,2,"mat-pseudo-checkbox",1),Ie(1),M(2,"span",2,0),Ie(4,1),I(),ae(5,moe,1,1,"mat-pseudo-checkbox",3)(6,poe,2,1,"span",4),re(7,"div",5)),n&2&&(At(r.multiple?0:-1),T(5),At(!r.multiple&&r.selected&&!r.hideSingleSelectionIndicator?5:-1),T(),At(r.group&&r.group._inert?6:-1),T(),W("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disabled||r.disableRipple))},dependencies:[c3,ms],styles:[`.mat-mdc-option{-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-option-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mat-option-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mat-option-label-text-size, var(--mat-sys-body-large-size));letter-spacing:var(--mat-option-label-text-tracking, var(--mat-sys-label-large-tracking));font-weight:var(--mat-option-label-text-weight, var(--mat-sys-body-large-weight))}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent));outline:0}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color, var(--mat-sys-secondary-container))}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-option .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-option-selected-state-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}@media(forced-colors: active){.mat-mdc-option.mdc-list-item--selected:not(:has(.mat-mdc-option-pseudo-checkbox))::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .mat-mdc-option.mdc-list-item--selected:not(:has(.mat-mdc-option-pseudo-checkbox))::after{right:auto;left:16px}}.mat-mdc-option-multiple{--mdc-list-list-item-selected-container-color:var(--mdc-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-focus-indicator::before{content:""}
`],encapsulation:2,changeDetection:0})}return t})();function d3(t,i,e){if(e.length){let n=i.toArray(),r=e.toArray(),a=0;for(let o=0;o<t+1;o++)n[o].group&&n[o].group===r[a]&&a++;return a}return 0}function u3(t,i,e,n){return t<e?t:t+i>e+n?Math.max(0,t-n+i):e}var KC=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Se({type:t});static \u0275inj=De({imports:[Qe]})}return t})();var OT=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Se({type:t});static \u0275inj=De({imports:[bl,Qe,KC]})}return t})();var foe=["trigger"],goe=["panel"],boe=[[["mat-select-trigger"]],"*"],yoe=["mat-select-trigger","*"];function voe(t,i){if(t&1&&(M(0,"span",4),V(1),I()),t&2){let e=xe();T(),qe(e.placeholder)}}function _oe(t,i){t&1&&Ie(0)}function xoe(t,i){if(t&1&&(M(0,"span",11),V(1),I()),t&2){let e=xe(2);T(),qe(e.triggerValue)}}function Coe(t,i){if(t&1&&(M(0,"span",5),ae(1,_oe,1,0)(2,xoe,2,1,"span",11),I()),t&2){let e=xe();T(),At(e.customTrigger?1:2)}}function woe(t,i){if(t&1){let e=Rt();M(0,"div",12,1),Q("keydown",function(r){ye(e);let a=xe();return ve(a._handleKeydown(r))}),Ie(2,1),I()}if(t&2){let e=xe();pN("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",e._getPanelTheme(),""),de("mat-select-panel-animations-enabled",!e._animationsDisabled),W("ngClass",e.panelClass),Ee("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}var LT=new G("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{let t=_(Hi);return()=>t.scrollStrategies.reposition()}});function h3(t){return()=>t.scrollStrategies.reposition()}var m3=new G("MAT_SELECT_CONFIG"),p3={provide:LT,deps:[Hi],useFactory:h3},f3=new G("MatSelectTrigger"),qC=class{source;value;constructor(i,e){this.source=i,this.value=e}},lh=(()=>{class t{_viewportRuler=_(Zl);_changeDetectorRef=_(et);_elementRef=_(me);_dir=_(Oi,{optional:!0});_idGenerator=_(Kt);_renderer=_(Yt);_parentFormField=_(dc,{optional:!0});ngControl=_(vl,{self:!0,optional:!0});_liveAnnouncer=_(EI);_defaultOptions=_(m3,{optional:!0});_animationsDisabled=_(Ut,{optional:!0})==="NoopAnimations";_initialized=new oe;_cleanupDetach;options;optionGroups;customTrigger;_positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}];_scrollOptionIntoView(e){let n=this.options.toArray()[e];if(n){let r=this.panel.nativeElement,a=d3(e,this.options,this.optionGroups),o=n._getHostElement();e===0&&a===1?r.scrollTop=0:r.scrollTop=u3(o.offsetTop,o.offsetHeight,r.scrollTop,r.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(e){return new qC(this,e)}_scrollStrategyFactory=_(LT);_panelOpen=!1;_compareWith=(e,n)=>e===n;_uid=this._idGenerator.getId("mat-select-");_triggerAriaLabelledBy=null;_previousControl;_destroy=new oe;_errorStateTracker;stateChanges=new oe;disableAutomaticLabeling=!0;userAriaDescribedBy;_selectionModel;_keyManager;_preferredOverlayOrigin;_overlayWidth;_onChange=()=>{};_onTouched=()=>{};_valueId=this._idGenerator.getId("mat-select-value-");_scrollStrategy;_overlayPanelClass=this._defaultOptions?.overlayPanelClass||"";get focused(){return this._focused||this._panelOpen}_focused=!1;controlType="mat-select";trigger;panel;_overlayDir;panelClass;disabled=!1;disableRipple=!1;tabIndex=0;get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._syncParentProperties()}_hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1;get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}_placeholder;get required(){return this._required??this.ngControl?.control?.hasValidator(yl.required)??!1}set required(e){this._required=e,this.stateChanges.next()}_required;get multiple(){return this._multiple}set multiple(e){this._selectionModel,this._multiple=e}_multiple=!1;disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1;get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}_value;ariaLabel="";ariaLabelledby;get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}typeaheadDebounceInterval;sortComparator;get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}_id;get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto";canSelectNullableOptions=this._defaultOptions?.canSelectNullableOptions??!1;optionSelectionChanges=po(()=>{let e=this.options;return e?e.changes.pipe(yi(e),Ji(()=>ri(...e.map(n=>n.onSelectionChange)))):this._initialized.pipe(Ji(()=>this.optionSelectionChanges))});openedChange=new ie;_openedStream=this.openedChange.pipe(kt(e=>e),Re(()=>{}));_closedStream=this.openedChange.pipe(kt(e=>!e),Re(()=>{}));selectionChange=new ie;valueChange=new ie;constructor(){let e=_(UC),n=_(Mo,{optional:!0}),r=_(Rp,{optional:!0}),a=_(new fr("tabindex"),{optional:!0});this.ngControl&&(this.ngControl.valueAccessor=this),this._defaultOptions?.typeaheadDebounceInterval!=null&&(this.typeaheadDebounceInterval=this._defaultOptions.typeaheadDebounceInterval),this._errorStateTracker=new Np(e,this.ngControl,r,n,this.stateChanges),this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=a==null?0:parseInt(a)||0,this.id=this.id}ngOnInit(){this._selectionModel=new nb(this.multiple),this.stateChanges.next(),this._viewportRuler.change().pipe(di(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe(di(this._destroy)).subscribe(e=>{e.added.forEach(n=>n.select()),e.removed.forEach(n=>n.deselect())}),this.options.changes.pipe(yi(null),di(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){let e=this._getTriggerAriaLabelledby(),n=this.ngControl;if(e!==this._triggerAriaLabelledBy){let r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}n&&(this._previousControl!==n.control&&(this._previousControl!==void 0&&n.disabled!==null&&n.disabled!==this.disabled&&(this.disabled=n.disabled),this._previousControl=n.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._cleanupDetach?.(),this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._cleanupDetach?.(),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._overlayDir.positionChange.pipe(Yi(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()}),this._overlayDir.attachOverlay(),this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next(),Promise.resolve().then(()=>this.openedChange.emit(!0)))}_trackedModal=null;_applyModalPanelOwnership(){let e=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;let n=`${this.id}-panel`;this._trackedModal&&RI(this._trackedModal,"aria-owns",n),Y2(e,"aria-owns",n),this._trackedModal=e}_clearFromModal(){if(!this._trackedModal)return;let e=`${this.id}-panel`;RI(this._trackedModal,"aria-owns",e),this._trackedModal=null}close(){this._panelOpen&&(this._panelOpen=!1,this._exitAndDetach(),this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next(),Promise.resolve().then(()=>this.openedChange.emit(!1)))}_exitAndDetach(){if(this._animationsDisabled||!this.panel){this._detachOverlay();return}this._cleanupDetach?.(),this._cleanupDetach=()=>{n(),clearTimeout(r),this._cleanupDetach=void 0};let e=this.panel.nativeElement,n=this._renderer.listen(e,"animationend",a=>{a.animationName==="_mat-select-exit"&&(this._cleanupDetach?.(),this._detachOverlay())}),r=setTimeout(()=>{this._cleanupDetach?.(),this._detachOverlay()},200);e.classList.add("mat-select-panel-exit")}_detachOverlay(){this._overlayDir.detachOverlay(),this._changeDetectorRef.markForCheck()}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){let e=this._selectionModel.selected.map(n=>n.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return this._dir?this._dir.value==="rtl":!1}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){let n=e.keyCode,r=n===40||n===38||n===37||n===39,a=n===13||n===32,o=this._keyManager;if(!o.isTyping()&&a&&!pi(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){let s=this.selected;o.onKeydown(e);let l=this.selected;l&&s!==l&&this._liveAnnouncer.announce(l.viewValue,1e4)}}_handleOpenKeydown(e){let n=this._keyManager,r=e.keyCode,a=r===40||r===38,o=n.isTyping();if(a&&e.altKey)e.preventDefault(),this.close();else if(!o&&(r===13||r===32)&&n.activeItem&&!pi(e))e.preventDefault(),n.activeItem._selectViaInteraction();else if(!o&&this._multiple&&r===65&&e.ctrlKey){e.preventDefault();let s=this.options.some(l=>!l.disabled&&!l.selected);this.options.forEach(l=>{l.disabled||(s?l.select():l.deselect())})}else{let s=n.activeItemIndex;n.onKeydown(e),this._multiple&&a&&e.shiftKey&&n.activeItem&&n.activeItemIndex!==s&&n.activeItem._selectViaInteraction()}}_handleOverlayKeydown(e){e.keyCode===27&&!pi(e)&&(e.preventDefault(),this.close())}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.options.forEach(n=>n.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(n=>this._selectOptionByValue(n)),this._sortValues();else{let n=this._selectOptionByValue(e);n?this._keyManager.updateActiveItem(n):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){let n=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return(r.value!=null||this.canSelectNullableOptions)&&this._compareWith(r.value,e)}catch{return!1}});return n&&this._selectionModel.select(n),n}_assignValue(e){return e!==this._value||this._multiple&&Array.isArray(e)?(this.options&&this._setSelectionByValue(e),this._value=e,!0):!1}_skipPredicate=e=>this.panelOpen?!1:e.disabled;_getOverlayWidth(e){return this.panelWidth==="auto"?(e instanceof Sp?e.elementRef:e||this._elementRef).nativeElement.getBoundingClientRect().width:this.panelWidth===null?"":this.panelWidth}_syncParentProperties(){if(this.options)for(let e of this.options)e._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new Ru(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){let e=ri(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(di(e)).subscribe(n=>{this._onSelect(n.source,n.isUserInput),n.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),ri(...this.options.map(n=>n._stateChanges)).pipe(di(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,n){let r=this._selectionModel.isSelected(e);!this.canSelectNullableOptions&&e.value==null&&!this._multiple?(e.deselect(),this._selectionModel.clear(),this.value!=null&&this._propagateChanges(e.value)):(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),n&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),n&&this.focus())),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){let e=this.options.toArray();this._selectionModel.sort((n,r)=>this.sortComparator?this.sortComparator(n,r,e):e.indexOf(n)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let n;this.multiple?n=this.selected.map(r=>r.value):n=this.selected?this.selected.value:e,this._value=n,this.valueChange.emit(n),this._onChange(n),this.selectionChange.emit(this._getChangeEvent(n)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let e=-1;for(let n=0;n<this.options.length;n++)if(!this.options.get(n).disabled){e=n;break}this._keyManager.setActiveItem(e)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0&&!!this._overlayDir}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;let e=this._parentFormField?.getLabelId()||null,n=e?e+" ":"";return this.ariaLabelledby?n+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;let e=this._parentFormField?.getLabelId()||"";return this.ariaLabelledby&&(e+=" "+this.ariaLabelledby),e||(e=this._valueId),e}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=X({type:t,selectors:[["mat-select"]],contentQueries:function(n,r,a){if(n&1&&(St(a,f3,5),St(a,to,5),St(a,RT,5)),n&2){let o;pe(o=fe())&&(r.customTrigger=o.first),pe(o=fe())&&(r.options=o),pe(o=fe())&&(r.optionGroups=o)}},viewQuery:function(n,r){if(n&1&&(Ke(foe,5),Ke(goe,5),Ke(fC,5)),n&2){let a;pe(a=fe())&&(r.trigger=a.first),pe(a=fe())&&(r.panel=a.first),pe(a=fe())&&(r._overlayDir=a.first)}},hostAttrs:["role","combobox","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(n,r){n&1&&Q("keydown",function(o){return r._handleKeydown(o)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),n&2&&(Ee("id",r.id)("tabindex",r.disabled?-1:r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-activedescendant",r._getAriaActiveDescendant()),de("mat-mdc-select-disabled",r.disabled)("mat-mdc-select-invalid",r.errorState)("mat-mdc-select-required",r.required)("mat-mdc-select-empty",r.empty)("mat-mdc-select-multiple",r.multiple))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",J],disableRipple:[2,"disableRipple","disableRipple",J],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:Nr(e)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",J],placeholder:"placeholder",required:[2,"required","required",J],multiple:[2,"multiple","multiple",J],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",J],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",Nr],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth",canSelectNullableOptions:[2,"canSelectNullableOptions","canSelectNullableOptions",J]},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],features:[Ue([{provide:Lp,useExisting:t},{provide:xy,useExisting:t}]),_t],ngContentSelectors:yoe,decls:11,vars:9,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"detach","backdropClick","overlayKeydown","cdkConnectedOverlayDisableClose","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","cdkConnectedOverlayFlexibleDimensions"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(n,r){if(n&1){let a=Rt();ut(boe),M(0,"div",2,0),Q("click",function(){return ye(a),ve(r.open())}),M(3,"div",3),ae(4,voe,2,1,"span",4)(5,Coe,3,1,"span",5),I(),M(6,"div",6)(7,"div",7),Ai(),M(8,"svg",8),re(9,"path",9),I()()()(),ae(10,woe,3,10,"ng-template",10),Q("detach",function(){return ye(a),ve(r.close())})("backdropClick",function(){return ye(a),ve(r.close())})("overlayKeydown",function(s){return ye(a),ve(r._handleOverlayKeydown(s))})}if(n&2){let a=ar(1);T(3),Ee("id",r._valueId),T(),At(r.empty?4:5),T(6),W("cdkConnectedOverlayDisableClose",!0)("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",r._preferredOverlayOrigin||a)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayWidth",r._overlayWidth)("cdkConnectedOverlayFlexibleDimensions",!0)}},dependencies:[Sp,fC,Ig],styles:[`@keyframes _mat-select-enter{from{opacity:0;transform:scaleY(0.8)}to{opacity:1;transform:none}}@keyframes _mat-select-exit{from{opacity:1}to{opacity:0}}.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color, var(--mat-sys-on-surface));font-family:var(--mat-select-trigger-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-select-trigger-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-select-trigger-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-select-trigger-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-select-trigger-text-tracking, var(--mat-sys-body-large-tracking))}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-disabled .mat-mdc-select-placeholder{color:var(--mat-select-disabled-trigger-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color, var(--mat-sys-error))}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color, var(--mat-sys-on-surface-variant))}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}@media(forced-colors: active){.mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .mat-mdc-select-arrow svg{fill:GrayText}}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:relative;background-color:var(--mat-select-panel-background-color, var(--mat-sys-surface-container))}@media(forced-colors: active){div.mat-mdc-select-panel{outline:solid 1px}}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-select-panel-animations-enabled{animation:_mat-select-enter 120ms cubic-bezier(0, 0, 0.2, 1)}.mat-select-panel-animations-enabled.mat-select-panel-exit{animation:_mat-select-exit 100ms linear}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color, var(--mat-sys-on-surface-variant))}.mat-mdc-form-field:not(.mat-form-field-animations-enabled) .mat-mdc-select-placeholder,._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform, translateY(-8px))}
`],encapsulation:2,changeDetection:0})}return t})();var NT=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Se({type:t});static \u0275inj=De({providers:[p3],imports:[fs,OT,Qe,tl,kd,OT,Qe]})}return t})();var Doe=["panelTemplate"],Soe=(t,i)=>i.value;function Moe(t,i){if(t&1){let e=Rt();M(0,"mat-option",3),Q("onSelectionChange",function(r){ye(e);let a=xe(2);return ve(a._selectValue(r.source))}),V(1),I()}if(t&2){let e=i.$implicit;W("value",e.value),T(),qe(e.label)}}function Ioe(t,i){if(t&1){let e=Rt();M(0,"div",1),Q("animationend",function(r){ye(e);let a=xe();return ve(a._handleAnimationEnd(r))}),Ul(1,Moe,2,2,"mat-option",2,Soe),I()}if(t&2){let e=xe();de("mat-timepicker-panel-animations-enabled",!e._animationsDisabled)("mat-timepicker-panel-exit",!e.isOpen()),W("id",e.panelId),Ee("aria-label",e.ariaLabel()||null)("aria-labelledby",e._getAriaLabelledby()),T(),Hl(e._timeOptions)}}var koe=[[["","matTimepickerToggleIcon",""]]],Aoe=["[matTimepickerToggleIcon]"];function Eoe(t,i){t&1&&(Ai(),M(0,"svg",1),re(1,"path",2),I())}var Toe=/^(\d*\.?\d+)\s*(h|hour|hours|m|min|minute|minutes|s|second|seconds)?$/i,b3=new G("MAT_TIMEPICKER_CONFIG");function g3(t){let i;if(t===null)return null;if(typeof t=="number")i=t;else{if(t.trim().length===0)return null;let e=t.match(Toe),n=e?parseFloat(e[1]):null,r=e?.[2]?.toLowerCase()||null;if(!e||n===null||isNaN(n))return null;r==="h"||r==="hour"||r==="hours"?i=n*3600:r==="m"||r==="min"||r==="minute"||r==="minutes"?i=n*60:i=n}return i}function Roe(t,i,e,n,r){let a=[],o=t.compareTime(e,n)<1?e:n;for(;t.sameDate(o,e)&&t.compareTime(o,n)<1&&t.isValid(o);)a.push({value:o,label:t.format(o,i.display.timeOptionLabel)}),o=t.addSeconds(o,r);return a}var Ooe=new G("MAT_TIMEPICKER_SCROLL_STRATEGY",{providedIn:"root",factory:()=>{let t=_(Hi);return()=>t.scrollStrategies.reposition()}}),VT=(()=>{class t{_overlay=_(Hi);_dir=_(Oi,{optional:!0});_viewContainerRef=_(_i);_injector=_(Ye);_defaultConfig=_(b3,{optional:!0});_dateAdapter=_(Kn,{optional:!0});_dateFormats=_(ys,{optional:!0});_scrollStrategyFactory=_(Ooe);_animationsDisabled=_(Ut,{optional:!0})==="NoopAnimations";_isOpen=yn(!1);_activeDescendant=yn(null);_input=yn(null);_overlayRef=null;_portal=null;_optionsCacheKey=null;_localeChanges;_onOpenRender=null;_panelTemplate=sN.required("panelTemplate");_timeOptions=[];_options=lN(to);_keyManager=new Ru(this._options,this._injector).withHomeAndEnd(!0).withPageUpDown(!0).withVerticalOrientation(!0);interval=rr(g3(this._defaultConfig?.interval||null),{transform:g3});options=rr(null);isOpen=this._isOpen.asReadonly();selected=y_();opened=y_();closed=y_();activeDescendant=this._activeDescendant.asReadonly();panelId=_(Kt).getId("mat-timepicker-panel-");disableRipple=rr(this._defaultConfig?.disableRipple??!1,{transform:J});ariaLabel=rr(null,{alias:"aria-label"});ariaLabelledby=rr(null,{alias:"aria-labelledby"});disabled=jn(()=>!!this._input()?.disabled());constructor(){_(me).nativeElement.setAttribute("mat-timepicker-panel-id",this.panelId),this._handleLocaleChanges(),this._handleInputStateChanges(),this._keyManager.change.subscribe(()=>this._activeDescendant.set(this._keyManager.activeItem?.id||null))}open(){let e=this._input();if(!e||(e.focus(),this._isOpen()))return;this._isOpen.set(!0),this._generateOptions();let n=this._getOverlayRef();n.updateSize({width:e.getOverlayOrigin().nativeElement.offsetWidth}),this._portal??=new Wn(this._panelTemplate(),this._viewContainerRef),n.hasAttached()||n.attach(this._portal),this._onOpenRender?.destroy(),this._onOpenRender=qi(()=>{let r=this._options();this._syncSelectedState(e.value(),r,r[0]),this._onOpenRender=null},{injector:this._injector}),this.opened.emit()}close(){this._isOpen()&&(this._isOpen.set(!1),this.closed.emit(),this._animationsDisabled&&this._overlayRef?.detach())}registerInput(e){let n=this._input();this._input.set(e)}ngOnDestroy(){this._keyManager.destroy(),this._localeChanges.unsubscribe(),this._onOpenRender?.destroy(),this._overlayRef?.dispose()}_selectValue(e){this.close(),this._keyManager.setActiveItem(e),this._options().forEach(n=>{n!==e&&n.deselect(!1)}),this.selected.emit({value:e.value,source:this}),this._input()?.focus()}_getAriaLabelledby(){return this.ariaLabel()?null:this.ariaLabelledby()||this._input()?._getLabelId()||null}_handleAnimationEnd(e){e.animationName==="_mat-timepicker-exit"&&this._overlayRef?.detach()}_getOverlayRef(){if(this._overlayRef)return this._overlayRef;let e=this._overlay.position().flexibleConnectedTo(this._input().getOverlayOrigin()).withFlexibleDimensions(!1).withPush(!1).withTransformOriginOn(".mat-timepicker-panel").withPositions([{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-timepicker-above"}]);return this._overlayRef=this._overlay.create({positionStrategy:e,scrollStrategy:this._scrollStrategyFactory(),direction:this._dir||"ltr",hasBackdrop:!1}),this._overlayRef.detachments().subscribe(()=>this.close()),this._overlayRef.keydownEvents().subscribe(n=>this._handleKeydown(n)),this._overlayRef.outsidePointerEvents().subscribe(n=>{let r=yr(n),a=this._input()?.getOverlayOrigin().nativeElement;r&&a&&r!==a&&!a.contains(r)&&this.close()}),this._overlayRef}_generateOptions(){let e=this.interval()??1800,n=this.options();if(n!==null)this._timeOptions=n;else{let r=this._input(),a=this._dateAdapter,o=this._dateFormats.display.timeInput,s=r?.min()||a.setTime(a.today(),0,0,0),l=r?.max()||a.setTime(a.today(),23,59,0),c=e+"/"+a.format(s,o)+"/"+a.format(l,o);c!==this._optionsCacheKey&&(this._optionsCacheKey=c,this._timeOptions=Roe(a,this._dateFormats,s,l,e))}}_syncSelectedState(e,n,r){let a=!1;for(let o of n)e&&this._dateAdapter.sameTime(o.value,e)?(o.select(!1),FT(o,"center"),br(()=>this._keyManager.setActiveItem(o)),a=!0):o.deselect(!1);a||(r?(br(()=>this._keyManager.setActiveItem(r)),FT(r,"center")):br(()=>this._keyManager.setActiveItem(-1)))}_handleKeydown(e){let n=e.keyCode;if(n===9)this.close();else if(n===27&&!pi(e))e.preventDefault(),this.close();else if(n===13)e.preventDefault(),this._keyManager.activeItem?this._selectValue(this._keyManager.activeItem):this.close();else{let r=this._keyManager.activeItem;this._keyManager.onKeydown(e);let a=this._keyManager.activeItem;a&&a!==r&&FT(a,"nearest")}}_handleLocaleChanges(){this._localeChanges=this._dateAdapter.localeChanges.subscribe(()=>{this._optionsCacheKey=null,this.isOpen()&&this._generateOptions()})}_handleInputStateChanges(){$s(()=>{let e=this._input(),n=this._options();this._isOpen()&&e&&this._syncSelectedState(e.value(),n,null)})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=X({type:t,selectors:[["mat-timepicker"]],viewQuery:function(n,r){n&1&&(QS(r._panelTemplate,Doe,5),QS(r._options,to,5)),n&2&&M_(2)},inputs:{interval:[1,"interval"],options:[1,"options"],disableRipple:[1,"disableRipple"],ariaLabel:[1,"aria-label","ariaLabel"],ariaLabelledby:[1,"aria-labelledby","ariaLabelledby"]},outputs:{selected:"selected",opened:"opened",closed:"closed"},exportAs:["matTimepicker"],features:[Ue([{provide:xy,useExisting:t}])],decls:2,vars:0,consts:[["panelTemplate",""],["role","listbox",1,"mat-timepicker-panel",3,"animationend","id"],[3,"value"],[3,"onSelectionChange","value"]],template:function(n,r){n&1&&ae(0,Ioe,3,7,"ng-template",null,0,vg)},dependencies:[to],styles:[`@keyframes _mat-timepicker-enter{from{opacity:0;transform:scaleY(0.8)}to{opacity:1;transform:none}}@keyframes _mat-timepicker-exit{from{opacity:1}to{opacity:0}}mat-timepicker{display:none}.mat-timepicker-panel{width:100%;max-height:256px;transform-origin:center top;overflow:auto;padding:8px 0;box-sizing:border-box;position:relative;border-bottom-left-radius:var(--mat-timepicker-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mat-timepicker-container-shape, var(--mat-sys-corner-extra-small));box-shadow:var(--mat-timepicker-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12));background-color:var(--mat-timepicker-container-background-color, var(--mat-sys-surface-container))}@media(forced-colors: active){.mat-timepicker-panel{outline:solid 1px}}.mat-timepicker-above .mat-timepicker-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mat-timepicker-container-shape, var(--mat-sys-corner-extra-small));border-top-right-radius:var(--mat-timepicker-container-shape, var(--mat-sys-corner-extra-small))}.mat-timepicker-panel-animations-enabled{animation:_mat-timepicker-enter 120ms cubic-bezier(0, 0, 0.2, 1)}.mat-timepicker-panel-animations-enabled.mat-timepicker-panel-exit{animation:_mat-timepicker-exit 100ms linear}.mat-timepicker-input[readonly]{cursor:pointer}@media(forced-colors: active){.mat-timepicker-toggle-default-icon{color:CanvasText}}
`],encapsulation:2,changeDetection:0})}return t})();function FT(t,i){t._getHostElement().scrollIntoView({block:i,inline:i})}var y3=(()=>{class t{_elementRef=_(me);_dateAdapter=_(Kn,{optional:!0});_dateFormats=_(ys,{optional:!0});_formField=_(dc,{optional:!0});_onChange;_onTouched;_validatorOnChange;_cleanupClick;_accessorDisabled=yn(!1);_localeSubscription;_timepickerSubscription;_validator;_lastValueValid=!0;_lastValidDate=null;_ariaActiveDescendant=jn(()=>{let e=this.timepicker(),n=e.isOpen(),r=e.activeDescendant();return n&&r?r:null});_ariaExpanded=jn(()=>this.timepicker().isOpen()+"");_ariaControls=jn(()=>{let e=this.timepicker();return e.isOpen()?e.panelId:null});value=dN(null);timepicker=rr.required({alias:"matTimepicker"});min=rr(null,{alias:"matTimepickerMin",transform:e=>this._transformDateInput(e)});max=rr(null,{alias:"matTimepickerMax",transform:e=>this._transformDateInput(e)});disabled=jn(()=>this.disabledInput()||this._accessorDisabled());disabledInput=rr(!1,{transform:J,alias:"disabled"});constructor(){let e=_(Yt);this._validator=this._getValidator(),this._respondToValueChanges(),this._respondToMinMaxChanges(),this._registerTimepicker(),this._localeSubscription=this._dateAdapter.localeChanges.subscribe(()=>{this._hasFocus()||this._formatValue(this.value())}),this._cleanupClick=e.listen(this.getOverlayOrigin().nativeElement,"click",this._handleClick)}writeValue(e){let n=this._dateAdapter.deserialize(e);this.value.set(this._dateAdapter.getValidDateOrNull(n))}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this._accessorDisabled.set(e)}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._validatorOnChange=e}getOverlayOrigin(){return this._formField?.getConnectedOverlayOrigin()||this._elementRef}focus(){this._elementRef.nativeElement.focus()}ngOnDestroy(){this._cleanupClick(),this._timepickerSubscription?.unsubscribe(),this._localeSubscription.unsubscribe()}_getLabelId(){return this._formField?.getLabelId()||null}_handleClick=()=>{this.disabled()||this.timepicker().open()};_handleInput(e){let n=this.value(),r=this._dateAdapter.parseTime(e,this._dateFormats.parse.timeInput),a=!this._dateAdapter.sameTime(r,n);!r||a||e&&!n?this._assignUserSelection(r,!0):this._validatorOnChange?.()}_handleBlur(){let e=this.value();e&&this._isValid(e)&&this._formatValue(e),this.timepicker().isOpen()||this._onTouched?.()}_handleKeydown(e){this.timepicker().isOpen()||this.disabled()||(e.keyCode===27&&!pi(e)&&this.value()!==null?(e.preventDefault(),this.value.set(null),this._formatValue(null)):(e.keyCode===40||e.keyCode===38)&&(e.preventDefault(),this.timepicker().open()))}_respondToValueChanges(){$s(()=>{let e=this._dateAdapter.deserialize(this.value()),n=this._lastValueValid;this._lastValueValid=this._isValid(e),this._hasFocus()||this._formatValue(e),e&&this._lastValueValid&&(this._lastValidDate=e),n!==this._lastValueValid&&this._validatorOnChange?.()})}_registerTimepicker(){$s(()=>{let e=this.timepicker();e.registerInput(this),e.closed.subscribe(()=>this._onTouched?.()),e.selected.subscribe(({value:n})=>{this._dateAdapter.sameTime(n,this.value())||(this._assignUserSelection(n,!0),this._formatValue(n))})})}_respondToMinMaxChanges(){$s(()=>{this.min(),this.max(),this._validatorOnChange?.()})}_assignUserSelection(e,n){if(e==null||!this._isValid(e))this.value.set(e);else{let r=this._dateAdapter,a=r.getValidDateOrNull(this._lastValidDate||this.value()),o=r.getHours(e),s=r.getMinutes(e),l=r.getSeconds(e);this.value.set(a?r.setTime(a,o,s,l):e)}n&&this._onChange?.(this.value())}_formatValue(e){e=this._dateAdapter.getValidDateOrNull(e),this._elementRef.nativeElement.value=e==null?"":this._dateAdapter.format(e,this._dateFormats.display.timeInput)}_isValid(e){return!e||this._dateAdapter.isValid(e)}_transformDateInput(e){let n=typeof e=="string"?this._dateAdapter.parseTime(e,this._dateFormats.parse.timeInput):this._dateAdapter.deserialize(e);return n&&this._dateAdapter.isValid(n)?n:null}_hasFocus(){return Za()===this._elementRef.nativeElement}_getValidator(){return yl.compose([()=>this._lastValueValid?null:{matTimepickerParse:{text:this._elementRef.nativeElement.value}},e=>{let n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e.value)),r=this.min();return!r||!n||this._dateAdapter.compareTime(r,n)<=0?null:{matTimepickerMin:{min:r,actual:n}}},e=>{let n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e.value)),r=this.max();return!r||!n||this._dateAdapter.compareTime(r,n)>=0?null:{matTimepickerMax:{max:r,actual:n}}}])}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["input","matTimepicker",""]],hostAttrs:["role","combobox","type","text","aria-haspopup","listbox",1,"mat-timepicker-input"],hostVars:5,hostBindings:function(n,r){if(n&1&&Q("blur",function(){return r._handleBlur()})("input",function(o){return r._handleInput(o.target.value)})("keydown",function(o){return r._handleKeydown(o)}),n&2){let a;Ca("disabled",r.disabled()),Ee("aria-activedescendant",r._ariaActiveDescendant())("aria-expanded",r._ariaExpanded())("aria-controls",r._ariaControls())("mat-timepicker-id",(a=r.timepicker())==null?null:a.panelId)}},inputs:{value:[1,"value"],timepicker:[1,"matTimepicker","timepicker"],min:[1,"matTimepickerMin","min"],max:[1,"matTimepickerMax","max"],disabledInput:[1,"disabled","disabledInput"]},outputs:{value:"valueChange"},exportAs:["matTimepickerInput"],features:[Ue([{provide:bs,useExisting:t,multi:!0},{provide:_l,useExisting:t,multi:!0},{provide:Op,useExisting:t}])]})}return t})(),BT=(()=>{class t{_defaultConfig=_(b3,{optional:!0});_defaultTabIndex=(()=>{let e=_(new fr("tabindex"),{optional:!0}),n=Number(e);return isNaN(n)?null:n})();_isDisabled=jn(()=>{let e=this.timepicker();return this.disabled()||e.disabled()});timepicker=rr.required({alias:"for"});ariaLabel=rr(void 0,{alias:"aria-label"});ariaLabelledby=rr(void 0,{alias:"aria-labelledby"});_defaultAriaLabel="Open timepicker options";disabled=rr(!1,{transform:J,alias:"disabled"});tabIndex=rr(this._defaultTabIndex);disableRipple=rr(this._defaultConfig?.disableRipple??!1,{transform:J});_open(e){this.timepicker()&&!this._isDisabled()&&(this.timepicker().open(),e.stopPropagation())}getAriaLabel(){return this.ariaLabelledby()?null:this.ariaLabel()||this._defaultAriaLabel}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=X({type:t,selectors:[["mat-timepicker-toggle"]],hostAttrs:[1,"mat-timepicker-toggle"],hostVars:1,hostBindings:function(n,r){n&1&&Q("click",function(o){return r._open(o)}),n&2&&Ee("tabindex",null)},inputs:{timepicker:[1,"for","timepicker"],ariaLabel:[1,"aria-label","ariaLabel"],ariaLabelledby:[1,"aria-labelledby","ariaLabelledby"],disabled:[1,"disabled"],tabIndex:[1,"tabIndex"],disableRipple:[1,"disableRipple"]},exportAs:["matTimepickerToggle"],ngContentSelectors:Aoe,decls:3,vars:6,consts:[["mat-icon-button","","type","button","aria-haspopup","listbox",3,"disabled","disableRipple"],["height","24px","width","24px","viewBox","0 -960 960 960","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-timepicker-toggle-default-icon"],["d","m612-292 56-56-148-148v-184h-80v216l172 172ZM480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-400Zm0 320q133 0 226.5-93.5T800-480q0-133-93.5-226.5T480-800q-133 0-226.5 93.5T160-480q0 133 93.5 226.5T480-160Z"]],template:function(n,r){n&1&&(ut(koe),M(0,"button",0),Ie(1,0,null,Eoe,2,0),I()),n&2&&(W("disabled",r._isDisabled())("disableRipple",r.disableRipple()),Ee("aria-label",r.getAriaLabel())("aria-labelledby",r.ariaLabelledby())("aria-expanded",r.timepicker().isOpen())("tabindex",r._isDisabled()?-1:r.tabIndex()))},dependencies:[cr],encapsulation:2,changeDetection:0})}return t})(),v3=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Se({type:t});static \u0275inj=De({imports:[VT,BT,tl]})}return t})();function Noe(t,i){if(t&1&&(M(0,"mat-option",18),V(1),I()),t&2){let e=i.$implicit;S_("value",e.id),T(),qe(e.name)}}var _3=(()=>{class t{constructor(e,n){this.dialogRef=e,this.calendarioService=n,this.eventTypes=[]}ngOnInit(){this.eventTypes=this.calendarioService.getEventTypes().map((e,n)=>(e.id=n,e)),this.tipo="0",this.eventTime=new Date}fecharDialogo(){this.dialogRef.close()}addEvent(){if(!this.titulo||this.titulo===""){alert("Obrigat\xF3rio preencher o t\xEDtulo");return}else(!this.descricao||this.descricao==="")&&(this.descricao="Sem descri\xE7\xE3o");var e={data:this.eventTime.getTime(),descricao:this.descricao,tipo:this.tipo,titulo:this.titulo};this.calendarioService.addEvent(e).then(n=>{this.dialogRef.close()})}static{this.\u0275fac=function(n){return new(n||t)(ee(Yn),ee(Dd))}}static{this.\u0275cmp=X({type:t,selectors:[["app-create-event-dialog"]],standalone:!1,decls:39,vars:10,consts:[["datepicker",""],["timepicker",""],[1,"header"],[1,"header-date"],["mat-icon-button","",2,"align-self","end",3,"click"],["fontIcon","close"],[1,"event-creator-container"],[3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["matInput","",3,"ngModelChange","ngModel"],[1,"horario-picker"],[2,"margin-right","16px"],["matInput","",3,"ngModelChange","matDatepicker","ngModel"],["matIconSuffix","",3,"for"],["matInput","",3,"ngModelChange","matTimepicker","ngModel"],[1,"example-full-width"],[1,"add-button"],["mat-raised-button","","color","primary",3,"click"],[3,"value"]],template:function(n,r){if(n&1){let a=Rt();M(0,"mat-dialog-content")(1,"div",2)(2,"h2",3),V(3,"Adicionar evento"),I(),M(4,"button",4),Q("click",function(){return ye(a),ve(r.fecharDialogo())}),re(5,"mat-icon",5),I()(),M(6,"div",6)(7,"mat-form-field")(8,"mat-label"),V(9,"Tipo de evento"),I(),M(10,"mat-select",7),Ri("ngModelChange",function(s){return ye(a),Ti(r.tipo,s)||(r.tipo=s),ve(s)}),ae(11,Noe,2,2,"mat-option",8),I()(),M(12,"mat-form-field")(13,"mat-label"),V(14,"T\xEDtulo"),I(),M(15,"input",9),Ri("ngModelChange",function(s){return ye(a),Ti(r.titulo,s)||(r.titulo=s),ve(s)}),I()(),M(16,"div",10)(17,"mat-form-field",11)(18,"mat-label"),V(19,"Escolher data"),I(),M(20,"input",12),Ri("ngModelChange",function(s){return ye(a),Ti(r.eventTime,s)||(r.eventTime=s),ve(s)}),I(),re(21,"mat-datepicker-toggle",13)(22,"mat-datepicker",null,0),I(),M(24,"mat-form-field")(25,"mat-label"),V(26,"Escolher horas"),I(),M(27,"input",14),Ri("ngModelChange",function(s){return ye(a),Ti(r.eventTime,s)||(r.eventTime=s),ve(s)}),I(),re(28,"mat-timepicker-toggle",13)(29,"mat-timepicker",null,1),I()(),M(31,"mat-form-field",15)(32,"mat-label"),V(33,"Descri\xE7\xE3o"),I(),M(34,"textarea",9),Ri("ngModelChange",function(s){return ye(a),Ti(r.descricao,s)||(r.descricao=s),ve(s)}),I()()()(),M(35,"mat-dialog-actions")(36,"div",16)(37,"button",17),Q("click",function(){return ye(a),ve(r.addEvent())}),V(38,"Adicionar"),I()()()}if(n&2){let a=ar(23),o=ar(30);T(10),Ei("ngModel",r.tipo),T(),W("ngForOf",r.eventTypes),T(4),Ei("ngModel",r.titulo),T(5),W("matDatepicker",a),Ei("ngModel",r.eventTime),T(),W("for",a),T(6),W("matTimepicker",o),Ei("ngModel",r.eventTime),T(),W("for",o),T(6),Ei("ngModel",r.descricao)}},dependencies:[Sa,Br,ly,da,_r,cr,Io,ha,xr,cc,lh,to,GC,zp,_y,VT,y3,BT,So,Ra,ua],styles:[".header[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center}.header-date[_ngcontent-%COMP%]{margin:0}.event-creator-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.horario-picker[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:left}.add-button[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:end}@media screen and (max-width: 599px){.horario-picker[_ngcontent-%COMP%]{justify-content:space-between}}"]})}}return t})();function Poe(t,i){if(t&1&&(M(0,"mat-option",7),V(1),I()),t&2){let e=i.$implicit;S_("value",e.id),T(),qe(e.type)}}var x3=(()=>{class t{constructor(e,n,r){this.userService=e,this.dialogRef=n,this.data=r}ngOnInit(){this.userTypes=this.userService.getAllUserTypes()}finishRegister(){this.userService.finishRegistration(this.data.id,{type:this.type,ready:!0,role:this.role,name:this.data.name}).then(()=>{this.dialogRef.close()})}static{this.\u0275fac=function(n){return new(n||t)(ee(_o),ee(Yn),ee(Do))}}static{this.\u0275cmp=X({type:t,selectors:[["app-complete-register-dialog"]],standalone:!1,decls:22,vars:4,consts:[[1,"selects-container"],[3,"ngModelChange","ngModel"],["value","user"],["value","admin"],[3,"value",4,"ngFor","ngForOf"],[1,"add-button"],["mat-raised-button","",3,"click"],[3,"value"]],template:function(n,r){n&1&&(M(0,"mat-dialog-content")(1,"h2"),V(2,"Finalizar registo"),I(),M(3,"h3"),V(4),I(),M(5,"div",0)(6,"mat-form-field")(7,"mat-label"),V(8,"Nivel do utilizador"),I(),M(9,"mat-select",1),Ri("ngModelChange",function(o){return Ti(r.role,o)||(r.role=o),o}),M(10,"mat-option",2),V(11,"Utilizador"),I(),M(12,"mat-option",3),V(13,"Comiss\xE3o"),I()()(),M(14,"mat-form-field")(15,"mat-label"),V(16,"Pelouro"),I(),M(17,"mat-select",1),Ri("ngModelChange",function(o){return Ti(r.type,o)||(r.type=o),o}),ae(18,Poe,2,2,"mat-option",4),I()()(),M(19,"div",5)(20,"button",6),Q("click",function(){return r.finishRegister()}),V(21,"Ativar conta"),I()()()),n&2&&(T(4),Ht("Utilizador: ",r.data.name,""),T(5),Ei("ngModel",r.role),T(8),Ei("ngModel",r.type),T(),W("ngForOf",r.userTypes))},dependencies:[Sa,da,_r,ha,xr,lh,to,Ra,ua],styles:[".selects-container[_ngcontent-%COMP%]{display:flex}.mat-mdc-form-field[_ngcontent-%COMP%]{margin-right:10px}.add-button[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:right}"]})}}return t})();var C3=(()=>{class t{constructor(e,n){this.dialogRef=e,this.data=n}fecharDialogo(){this.dialogRef.close()}finishAdding(){this.dialogRef.close(this.valorAdicionar)}static{this.\u0275fac=function(n){return new(n||t)(ee(Yn),ee(Do))}}static{this.\u0275cmp=X({type:t,selectors:[["app-add-money-dialog"]],standalone:!1,decls:17,vars:3,consts:[[1,"header"],[1,"header-title"],["mat-icon-button","",2,"align-self","end",3,"click"],["fontIcon","close"],[1,"example-form"],[1,"example-full-width"],["matInput","","placeholder","Ex. 100\u20AC","name","valorAdicionar","type","number",3,"ngModelChange","ngModel"],[1,"add-button"],["mat-raised-button","","color","primary",3,"click"]],template:function(n,r){n&1&&(M(0,"mat-dialog-content")(1,"div",0)(2,"h1",1),V(3),I(),M(4,"button",2),Q("click",function(){return r.fecharDialogo()}),re(5,"mat-icon",3),I()(),M(6,"h2"),V(7),I(),M(8,"form",4)(9,"mat-form-field",5)(10,"mat-label"),V(11,"Quantia"),I(),M(12,"input",6),Ri("ngModelChange",function(o){return Ti(r.valorAdicionar,o)||(r.valorAdicionar=o),o}),I()()(),M(13,"mat-dialog-actions")(14,"div",7)(15,"button",8),Q("click",function(){return r.finishAdding()}),V(16,"Adicionar"),I()()()()),n&2&&(T(3),qe(r.data.title),T(4),Ht(" Valor atual: ",r.data.value,"\u20AC"),T(5),Ei("ngModel",r.valorAdicionar))},dependencies:[Br,ly,da,_r,cr,Io,ha,xr,Tp,So,vT,Ra,Ep,ua,Mo],styles:[".add-button[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:end}.header[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center}.header-title[_ngcontent-%COMP%]{margin:0}"]})}}return t})();var Foe=["mat-menu-item",""],Voe=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],Boe=["mat-icon, [matMenuItemIcon]","*"];function zoe(t,i){t&1&&(Ai(),M(0,"svg",2),re(1,"polygon",3),I())}var joe=["*"];function Uoe(t,i){if(t&1){let e=Rt();M(0,"div",0),Q("click",function(){ye(e);let r=xe();return ve(r.closed.emit("click"))})("animationstart",function(r){ye(e);let a=xe();return ve(a._onAnimationStart(r.animationName))})("animationend",function(r){ye(e);let a=xe();return ve(a._onAnimationDone(r.animationName))})("animationcancel",function(r){ye(e);let a=xe();return ve(a._onAnimationDone(r.animationName))}),M(1,"div",1),Ie(2),I()()}if(t&2){let e=xe();zn(e._classList),de("mat-menu-panel-animations-disabled",e._animationsDisabled)("mat-menu-panel-exit-animation",e._panelAnimationState==="void")("mat-menu-panel-animating",e._isAnimating),W("id",e.panelId),Ee("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}var jT=new G("MAT_MENU_PANEL"),wy=(()=>{class t{_elementRef=_(me);_document=_(He);_focusMonitor=_(Ia);_parentMenu=_(jT,{optional:!0});_changeDetectorRef=_(et);role="menuitem";disabled=!1;disableRipple=!1;_hovered=new oe;_focused=new oe;_highlighted=!1;_triggersSubmenu=!1;constructor(){_(hi).load(lr),this._parentMenu?.addItem?.(this)}focus(e,n){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,n):this._getHostElement().focus(n),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){let e=this._elementRef.nativeElement.cloneNode(!0),n=e.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<n.length;r++)n[r].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef.markForCheck()}_setTriggersSubmenu(e){this._triggersSubmenu=e,this._changeDetectorRef.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=X({type:t,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-focus-indicator"],hostVars:8,hostBindings:function(n,r){n&1&&Q("click",function(o){return r._checkDisabled(o)})("mouseenter",function(){return r._handleMouseEnter()}),n&2&&(Ee("role",r.role)("tabindex",r._getTabIndex())("aria-disabled",r.disabled)("disabled",r.disabled||null),de("mat-mdc-menu-item-highlighted",r._highlighted)("mat-mdc-menu-item-submenu-trigger",r._triggersSubmenu))},inputs:{role:"role",disabled:[2,"disabled","disabled",J],disableRipple:[2,"disableRipple","disableRipple",J]},exportAs:["matMenuItem"],attrs:Foe,ngContentSelectors:Boe,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(n,r){n&1&&(ut(Voe),Ie(0),M(1,"span",0),Ie(2,1),I(),re(3,"div",1),ae(4,zoe,2,0,":svg:svg",2)),n&2&&(T(3),W("matRippleDisabled",r.disableRipple||r.disabled)("matRippleTrigger",r._getHostElement()),T(),At(r._triggersSubmenu?4:-1))},dependencies:[ms],encapsulation:2,changeDetection:0})}return t})();var w3=new G("MatMenuContent"),D3=(()=>{class t{_template=_(vi);_appRef=_(Yo);_injector=_(Ye);_viewContainerRef=_(_i);_document=_(He);_changeDetectorRef=_(et);_portal;_outlet;_attached=new oe;constructor(){}attach(e={}){this._portal||(this._portal=new Wn(this._template,this._viewContainerRef)),this.detach(),this._outlet||(this._outlet=new Ju(this._document.createElement("div"),null,this._appRef,this._injector));let n=this._template.elementRef.nativeElement;n.parentNode.insertBefore(this._outlet.outletElement,n),this._changeDetectorRef.markForCheck(),this._portal.attach(this._outlet,e),this._attached.next()}detach(){this._portal?.isAttached&&this._portal.detach()}ngOnDestroy(){this.detach(),this._outlet?.dispose()}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["ng-template","matMenuContent",""]],features:[Ue([{provide:w3,useExisting:t}])]})}return t})(),Hoe=new G("mat-menu-default-options",{providedIn:"root",factory:Goe});function Goe(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}var zT="_mat-menu-enter",ZC="_mat-menu-exit",jp=(()=>{class t{_elementRef=_(me);_changeDetectorRef=_(et);_injector=_(Ye);_keyManager;_xPosition;_yPosition;_firstItemFocusRef;_exitFallbackTimeout;_animationsDisabled;_allItems;_directDescendantItems=new jl;_classList={};_panelAnimationState="void";_animationDone=new oe;_isAnimating=!1;parentMenu;direction;overlayPanelClass;backdropClass;ariaLabel;ariaLabelledby;ariaDescribedby;get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}templateRef;items;lazyContent;overlapTrigger;hasBackdrop;set panelClass(e){let n=this._previousPanelClass,r=f({},this._classList);n&&n.length&&n.split(" ").forEach(a=>{r[a]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(a=>{r[a]=!0}),this._elementRef.nativeElement.className=""),this._classList=r}_previousPanelClass;get classList(){return this.panelClass}set classList(e){this.panelClass=e}closed=new ie;close=this.closed;panelId=_(Kt).getId("mat-menu-panel-");constructor(){let e=_(Hoe);this.overlayPanelClass=e.overlayPanelClass||"",this._xPosition=e.xPosition,this._yPosition=e.yPosition,this.backdropClass=e.backdropClass,this.overlapTrigger=e.overlapTrigger,this.hasBackdrop=e.hasBackdrop,this._animationsDisabled=_(Ut,{optional:!0})==="NoopAnimations"}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new Ql(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(yi(this._directDescendantItems),Ji(e=>ri(...e.map(n=>n._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{let n=this._keyManager;if(this._panelAnimationState==="enter"&&n.activeItem?._hasFocus()){let r=e.toArray(),a=Math.max(0,Math.min(r.length-1,n.activeItemIndex||0));r[a]&&!r[a].disabled?n.setActiveItem(a):n.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusRef?.destroy(),clearTimeout(this._exitFallbackTimeout)}_hovered(){return this._directDescendantItems.changes.pipe(yi(this._directDescendantItems),Ji(n=>ri(...n.map(r=>r._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){let n=e.keyCode,r=this._keyManager;switch(n){case 27:pi(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&this.direction==="ltr"&&this.closed.emit("keydown");break;case 39:this.parentMenu&&this.direction==="rtl"&&this.closed.emit("keydown");break;default:(n===38||n===40)&&r.setFocusOrigin("keyboard"),r.onKeydown(e);return}}focusFirstItem(e="program"){this._firstItemFocusRef?.destroy(),this._firstItemFocusRef=qi(()=>{let n=this._resolvePanel();if(!n||!n.contains(document.activeElement)){let r=this._keyManager;r.setFocusOrigin(e).setFirstItemActive(),!r.activeItem&&n&&n.focus()}},{injector:this._injector})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){}setPositionClasses(e=this.xPosition,n=this.yPosition){this._classList=S(f({},this._classList),{"mat-menu-before":e==="before","mat-menu-after":e==="after","mat-menu-above":n==="above","mat-menu-below":n==="below"}),this._changeDetectorRef.markForCheck()}_onAnimationDone(e){let n=e===ZC;(n||e===zT)&&(n&&(clearTimeout(this._exitFallbackTimeout),this._exitFallbackTimeout=void 0),this._animationDone.next(n?"void":"enter"),this._isAnimating=!1)}_onAnimationStart(e){(e===zT||e===ZC)&&(this._isAnimating=!0)}_setIsOpen(e){if(this._panelAnimationState=e?"enter":"void",e){if(this._keyManager.activeItemIndex===0){let n=this._resolvePanel();n&&(n.scrollTop=0)}}else this._animationsDisabled||(this._exitFallbackTimeout=setTimeout(()=>this._onAnimationDone(ZC),200));this._animationsDisabled&&setTimeout(()=>{this._onAnimationDone(e?zT:ZC)}),this._changeDetectorRef.markForCheck()}_updateDirectDescendants(){this._allItems.changes.pipe(yi(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(n=>n._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}_resolvePanel(){let e=null;return this._directDescendantItems.length&&(e=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),e}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=X({type:t,selectors:[["mat-menu"]],contentQueries:function(n,r,a){if(n&1&&(St(a,w3,5),St(a,wy,5),St(a,wy,4)),n&2){let o;pe(o=fe())&&(r.lazyContent=o.first),pe(o=fe())&&(r._allItems=o),pe(o=fe())&&(r.items=o)}},viewQuery:function(n,r){if(n&1&&Ke(vi,5),n&2){let a;pe(a=fe())&&(r.templateRef=a.first)}},hostVars:3,hostBindings:function(n,r){n&2&&Ee("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[2,"overlapTrigger","overlapTrigger",J],hasBackdrop:[2,"hasBackdrop","hasBackdrop",e=>e==null?null:J(e)],panelClass:[0,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],features:[Ue([{provide:jT,useExisting:t}])],ngContentSelectors:joe,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel",3,"click","animationstart","animationend","animationcancel","id"],[1,"mat-mdc-menu-content"]],template:function(n,r){n&1&&(ut(),ae(0,Uoe,3,12,"ng-template"))},styles:[`mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;outline:0}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mat-menu-item-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mat-menu-item-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-menu-item-label-text-tracking, var(--mat-sys-label-large-tracking));font-weight:var(--mat-menu-item-label-text-weight, var(--mat-sys-label-large-weight))}@keyframes _mat-menu-enter{from{opacity:0;transform:scale(0.8)}to{opacity:1;transform:none}}@keyframes _mat-menu-exit{from{opacity:1}to{opacity:0}}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;box-sizing:border-box;outline:0;animation:_mat-menu-enter 120ms cubic-bezier(0, 0, 0.2, 1);border-radius:var(--mat-menu-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mat-menu-container-color, var(--mat-sys-surface-container));box-shadow:var(--mat-menu-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12));will-change:transform,opacity}.mat-mdc-menu-panel.mat-menu-panel-exit-animation{animation:_mat-menu-exit 100ms 25ms linear forwards}.mat-mdc-menu-panel.mat-menu-panel-animations-disabled{animation:none}.mat-mdc-menu-panel.mat-menu-panel-animating{pointer-events:none}.mat-mdc-menu-panel.mat-menu-panel-animating:has(.mat-mdc-menu-content:empty){display:none}@media(forced-colors: active){.mat-mdc-menu-panel{outline:solid 1px}}.mat-mdc-menu-panel .mat-divider{color:var(--mat-menu-divider-color, var(--mat-sys-surface-variant));margin-bottom:var(--mat-menu-divider-bottom-spacing, 8px);margin-top:var(--mat-menu-divider-top-spacing, 8px)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px;padding-left:var(--mat-menu-item-leading-spacing, 12px);padding-right:var(--mat-menu-item-trailing-spacing, 12px);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-menu-item::-moz-focus-inner{border:0}[dir=rtl] .mat-mdc-menu-item{padding-left:var(--mat-menu-item-trailing-spacing, 12px);padding-right:var(--mat-menu-item-leading-spacing, 12px)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing, 12px);padding-right:var(--mat-menu-item-with-icon-trailing-spacing, 12px)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-trailing-spacing, 12px);padding-right:var(--mat-menu-item-with-icon-leading-spacing, 12px)}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item:focus{outline:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing, 12px);height:var(--mat-menu-item-icon-size, 24px);width:var(--mat-menu-item-icon-size, 24px)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing, 12px)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent))}@media(forced-colors: active){.mat-mdc-menu-item{margin-top:1px}}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size, 24px);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing, 12px)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing, 12px);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1);transform-origin:center}@media(forced-colors: active){.mat-mdc-menu-submenu-icon{fill:CanvasText}}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}
`],encapsulation:2,changeDetection:0})}return t})(),S3=new G("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{let t=_(Hi);return()=>t.scrollStrategies.reposition()}});function Woe(t){return()=>t.scrollStrategies.reposition()}var $oe={provide:S3,deps:[Hi],useFactory:Woe},Yoe={passive:!0};var Cy=new WeakMap,M3=(()=>{class t{_overlay=_(Hi);_element=_(me);_viewContainerRef=_(_i);_menuItemInstance=_(wy,{optional:!0,self:!0});_dir=_(Oi,{optional:!0});_focusMonitor=_(Ia);_ngZone=_(Ce);_scrollStrategy=_(S3);_changeDetectorRef=_(et);_cleanupTouchstart;_portal;_overlayRef=null;_menuOpen=!1;_closingActionsSubscription=xt.EMPTY;_hoverSubscription=xt.EMPTY;_menuCloseSubscription=xt.EMPTY;_pendingRemoval;_parentMaterialMenu;_parentInnerPadding;_openedBy=void 0;get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._parentMaterialMenu,this._menuCloseSubscription=e.close.subscribe(n=>{this._destroyMenu(n),(n==="click"||n==="tab")&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(n)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}_menu;menuData;restoreFocus=!0;menuOpened=new ie;onMenuOpen=this.menuOpened;menuClosed=new ie;onMenuClose=this.menuClosed;constructor(){let e=_(jT,{optional:!0}),n=_(Yt);this._parentMaterialMenu=e instanceof jp?e:void 0,this._cleanupTouchstart=Li(n,this._element.nativeElement,"touchstart",r=>{Tu(r)||(this._openedBy="touch")},Yoe)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this.menu&&this._ownsMenu(this.menu)&&Cy.delete(this.menu),this._cleanupTouchstart(),this._pendingRemoval?.unsubscribe(),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe(),this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null)}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){let e=this.menu;if(this._menuOpen||!e)return;this._pendingRemoval?.unsubscribe();let n=Cy.get(e);Cy.set(e,this),n&&n!==this&&n.closeMenu();let r=this._createOverlay(e),a=r.getConfig(),o=a.positionStrategy;this._setPosition(e,o),a.hasBackdrop=e.hasBackdrop==null?!this.triggersSubmenu():e.hasBackdrop,r.hasAttached()||(r.attach(this._getPortal(e)),e.lazyContent?.attach(this.menuData)),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0),e instanceof jp&&(e._setIsOpen(!0),e._directDescendantItems.changes.pipe(di(e.close)).subscribe(()=>{o.withLockedPosition(!1).reapplyLastPosition(),o.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(e,n){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,n):this._element.nativeElement.focus(n)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){let n=this._overlayRef,r=this._menu;!n||!this.menuOpen||(this._closingActionsSubscription.unsubscribe(),this._pendingRemoval?.unsubscribe(),r instanceof jp&&this._ownsMenu(r)?(this._pendingRemoval=r._animationDone.pipe(Yi(1)).subscribe(()=>{n.detach(),r.lazyContent?.detach()}),r._setIsOpen(!1)):(n.detach(),r?.lazyContent?.detach()),r&&this._ownsMenu(r)&&Cy.delete(r),this.restoreFocus&&(e==="keydown"||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,this._setIsMenuOpen(!1))}_setIsMenuOpen(e){e!==this._menuOpen&&(this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e),this._changeDetectorRef.markForCheck())}_createOverlay(e){if(!this._overlayRef){let n=this._getOverlayConfig(e);this._subscribeToPositions(e,n.positionStrategy),this._overlayRef=this._overlay.create(n),this._overlayRef.keydownEvents().subscribe(r=>{this.menu instanceof jp&&this.menu._handleKeydown(r)})}return this._overlayRef}_getOverlayConfig(e){return new ps({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir||"ltr"})}_subscribeToPositions(e,n){e.setPositionClasses&&n.positionChanges.subscribe(r=>{this._ngZone.run(()=>{let a=r.connectionPair.overlayX==="start"?"after":"before",o=r.connectionPair.overlayY==="top"?"below":"above";e.setPositionClasses(a,o)})})}_setPosition(e,n){let[r,a]=e.xPosition==="before"?["end","start"]:["start","end"],[o,s]=e.yPosition==="above"?["bottom","top"]:["top","bottom"],[l,c]=[o,s],[d,u]=[r,a],h=0;if(this.triggersSubmenu()){if(u=r=e.xPosition==="before"?"start":"end",a=d=r==="end"?"start":"end",this._parentMaterialMenu){if(this._parentInnerPadding==null){let m=this._parentMaterialMenu.items.first;this._parentInnerPadding=m?m._getHostElement().offsetTop:0}h=o==="bottom"?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(l=o==="top"?"bottom":"top",c=s==="top"?"bottom":"top");n.withPositions([{originX:r,originY:l,overlayX:d,overlayY:o,offsetY:h},{originX:a,originY:l,overlayX:u,overlayY:o,offsetY:h},{originX:r,originY:c,overlayX:d,overlayY:s,offsetY:-h},{originX:a,originY:c,overlayX:u,overlayY:s,offsetY:-h}])}_menuClosingActions(){let e=this._overlayRef.backdropClick(),n=this._overlayRef.detachments(),r=this._parentMaterialMenu?this._parentMaterialMenu.closed:ke(),a=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(kt(o=>this._menuOpen&&o!==this._menuItemInstance)):ke();return ri(e,r,a,n)}_handleMousedown(e){Eu(e)||(this._openedBy=e.button===0?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){let n=e.keyCode;(n===13||n===32)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(n===39&&this.dir==="ltr"||n===37&&this.dir==="rtl")&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){this.triggersSubmenu()&&this._parentMaterialMenu&&(this._hoverSubscription=this._parentMaterialMenu._hovered().subscribe(e=>{e===this._menuItemInstance&&!e.disabled&&(this._openedBy="mouse",this.openMenu())}))}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new Wn(e.templateRef,this._viewContainerRef)),this._portal}_ownsMenu(e){return Cy.get(e)===this}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(n,r){n&1&&Q("click",function(o){return r._handleClick(o)})("mousedown",function(o){return r._handleMousedown(o)})("keydown",function(o){return r._handleKeydown(o)}),n&2&&Ee("aria-haspopup",r.menu?"menu":null)("aria-expanded",r.menuOpen)("aria-controls",r.menuOpen?r.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[0,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[0,"matMenuTriggerFor","menu"],menuData:[0,"matMenuTriggerData","menuData"],restoreFocus:[0,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"]})}return t})(),I3=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Se({type:t});static \u0275inj=De({providers:[$oe],imports:[bl,Qe,fs,tl,Qe]})}return t})(),k3={transformMenu:{type:7,name:"transformMenu",definitions:[{type:0,name:"void",styles:{type:6,styles:{opacity:0,transform:"scale(0.8)"},offset:null}},{type:1,expr:"void => enter",animation:{type:4,styles:{type:6,styles:{opacity:1,transform:"scale(1)"},offset:null},timings:"120ms cubic-bezier(0, 0, 0.2, 1)"},options:null},{type:1,expr:"* => void",animation:{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"100ms 25ms linear"},options:null}],options:{}},fadeInItems:{type:7,name:"fadeInItems",definitions:[{type:0,name:"showing",styles:{type:6,styles:{opacity:1},offset:null}},{type:1,expr:"void => *",animation:[{type:6,styles:{opacity:0},offset:null},{type:4,styles:null,timings:"400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"}],options:null}],options:{}}},cPe=k3.fadeInItems,dPe=k3.transformMenu;var A3=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Se({type:t});static \u0275inj=De({imports:[Qe,Qe]})}return t})();var qoe=["*"],Zoe=`.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item{display:flex;position:relative;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer;padding-left:16px;padding-right:16px;background-color:var(--mdc-list-list-item-container-color, transparent);border-radius:var(--mdc-list-list-item-container-shape, var(--mat-sys-corner-none))}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item:focus{outline:0}.mdc-list-item.mdc-list-item--disabled{cursor:auto}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height, 48px)}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height, 64px)}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height, 88px)}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--selected::before,.mdc-list-item.mdc-list-item--selected:focus::before,.mdc-list-item:not(.mdc-list-item--selected):focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;content:"";pointer-events:none}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color, var(--mat-sys-on-surface-variant));width:var(--mdc-list-list-item-leading-icon-size, 24px);height:var(--mdc-list-list-item-leading-icon-size, 24px);margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size, 40px);height:var(--mdc-list-list-item-leading-avatar-size, 40px);margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item--with-leading-avatar .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font, var(--mat-sys-label-small-font));line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height, var(--mat-sys-label-small-line-height));font-size:var(--mdc-list-list-item-trailing-supporting-text-size, var(--mat-sys-label-small-size));font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight, var(--mat-sys-label-small-weight));letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking, var(--mat-sys-label-small-tracking))}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color, var(--mat-sys-on-surface-variant));width:var(--mdc-list-list-item-trailing-icon-size, 24px);height:var(--mdc-list-list-item-trailing-icon-size, 24px)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color, var(--mat-sys-on-surface-variant))}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color, var(--mat-sys-primary))}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;color:var(--mdc-list-list-item-label-text-color, var(--mat-sys-on-surface));font-family:var(--mdc-list-list-item-label-text-font, var(--mat-sys-body-large-font));line-height:var(--mdc-list-list-item-label-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mdc-list-list-item-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mdc-list-list-item-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mdc-list-list-item-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;color:var(--mdc-list-list-item-supporting-text-color, var(--mat-sys-on-surface-variant));font-family:var(--mdc-list-list-item-supporting-text-font, var(--mat-sys-body-medium-font));line-height:var(--mdc-list-list-item-supporting-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mdc-list-list-item-supporting-text-size, var(--mat-sys-body-medium-size));font-weight:var(--mdc-list-list-item-supporting-text-weight, var(--mat-sys-body-medium-weight));letter-spacing:var(--mdc-list-list-item-supporting-text-tracking, var(--mat-sys-body-medium-tracking))}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:16px}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:16px;padding-right:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-trailing-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:0;padding-right:0}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-webkit-user-select:none;user-select:none;margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;line-height:normal;align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-left:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-right:0}.mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-group__subheader{margin:.75rem 16px}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity, 0.3)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity, 0.38)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity, 0.38)}.mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing,[dir=rtl] .mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing{padding-left:0;padding-right:0}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-disabled-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity, 0.3)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape, var(--mat-sys-corner-full));background-color:var(--mdc-list-list-item-leading-avatar-color, var(--mat-sys-primary-container))}.mat-mdc-list-item-icon{font-size:var(--mdc-list-list-item-leading-icon-size, 24px)}@media(forced-colors: active){a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none;border-radius:inherit}.mat-mdc-list-item>.mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:start}mat-action-list button::-moz-focus-inner{border:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-inline-start:var(--mat-list-list-item-leading-icon-start-space, 16px);margin-inline-end:var(--mat-list-list-item-leading-icon-end-space, 16px)}.mat-mdc-nav-list .mat-mdc-list-item{border-radius:var(--mat-list-active-indicator-shape, var(--mat-sys-corner-full));--mat-focus-indicator-border-radius:var(--mat-list-active-indicator-shape, var(--mat-sys-corner-full))}.mat-mdc-nav-list .mat-mdc-list-item.mdc-list-item--activated{background-color:var(--mat-list-active-indicator-color, var(--mat-sys-secondary-container))}
`,Qoe=["unscopedContent"],Xoe=["text"],Joe=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],ese=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"];var tse=new G("ListOption"),ise=(()=>{class t{_elementRef=_(me);constructor(){}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"]})}return t})(),nse=(()=>{class t{_elementRef=_(me);constructor(){}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"]})}return t})(),rse=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"]})}return t})(),E3=(()=>{class t{_listOption=_(tse,{optional:!0});constructor(){}_isAlignedAtStart(){return!this._listOption||this._listOption?._getTogglePosition()==="after"}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,hostVars:4,hostBindings:function(n,r){n&2&&de("mdc-list-item__start",r._isAlignedAtStart())("mdc-list-item__end",!r._isAlignedAtStart())}})}return t})(),ase=(()=>{class t extends E3{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Dt(t)))(r||t)}})();static \u0275dir=Y({type:t,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],features:[Ve]})}return t})(),ose=(()=>{class t extends E3{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Dt(t)))(r||t)}})();static \u0275dir=Y({type:t,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],features:[Ve]})}return t})(),sse=new G("MAT_LIST_CONFIG"),UT=(()=>{class t{_isNonInteractive=!0;get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=qa(e)}_disableRipple=!1;get disabled(){return this._disabled}set disabled(e){this._disabled=qa(e)}_disabled=!1;_defaultOptions=_(sse,{optional:!0});static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,hostVars:1,hostBindings:function(n,r){n&2&&Ee("aria-disabled",r.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"}})}return t})(),lse=(()=>{class t{_elementRef=_(me);_ngZone=_(Ce);_listBase=_(UT,{optional:!0});_platform=_(Ft);_hostElement;_isButtonElement;_noopAnimations;_avatars;_icons;set lines(e){this._explicitLines=el(e,null),this._updateItemLines(!1)}_explicitLines=null;get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(e){this._disableRipple=qa(e)}_disableRipple=!1;get disabled(){return this._disabled||!!this._listBase?.disabled}set disabled(e){this._disabled=qa(e)}_disabled=!1;_subscriptions=new xt;_rippleRenderer=null;_hasUnscopedTextContent=!1;rippleConfig;get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(){_(hi).load(lr);let e=_(xp,{optional:!0}),n=_(Ut,{optional:!0});this.rippleConfig=e||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement=this._hostElement.nodeName.toLowerCase()==="button",this._noopAnimations=n==="NoopAnimations",this._listBase&&!this._listBase._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),this._rippleRenderer!==null&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!!(this._avatars.length||this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new eh(this,this._ngZone,this._hostElement,this._platform,_(Ye)),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add(ri(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(e){if(!this._lines||!this._titles||!this._unscopedContent)return;e&&this._checkDomForUnscopedTextContent();let n=this._explicitLines??this._inferLinesFromContent(),r=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",n<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",n<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",n===2),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",n===3),this._hasUnscopedTextContent){let a=this._titles.length===0&&n===1;r.classList.toggle("mdc-list-item__primary-text",a),r.classList.toggle("mdc-list-item__secondary-text",!a)}else r.classList.remove("mdc-list-item__primary-text"),r.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let e=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(e+=1),e}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(e=>e.nodeType!==e.COMMENT_NODE).some(e=>!!(e.textContent&&e.textContent.trim()))}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,contentQueries:function(n,r,a){if(n&1&&(St(a,ase,4),St(a,ose,4)),n&2){let o;pe(o=fe())&&(r._avatars=o),pe(o=fe())&&(r._icons=o)}},hostVars:4,hostBindings:function(n,r){n&2&&(Ee("aria-disabled",r.disabled)("disabled",r._isButtonElement&&r.disabled||null),de("mdc-list-item--disabled",r.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"}})}return t})();var T3=(()=>{class t extends lse{_lines;_titles;_meta;_unscopedContent;_itemText;get activated(){return this._activated}set activated(e){this._activated=qa(e)}_activated=!1;_getAriaCurrent(){return this._hostElement.nodeName==="A"&&this._activated?"page":null}_hasBothLeadingAndTrailing(){return this._meta.length!==0&&(this._avatars.length!==0||this._icons.length!==0)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Dt(t)))(r||t)}})();static \u0275cmp=X({type:t,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(n,r,a){if(n&1&&(St(a,nse,5),St(a,ise,5),St(a,rse,5)),n&2){let o;pe(o=fe())&&(r._lines=o),pe(o=fe())&&(r._titles=o),pe(o=fe())&&(r._meta=o)}},viewQuery:function(n,r){if(n&1&&(Ke(Qoe,5),Ke(Xoe,5)),n&2){let a;pe(a=fe())&&(r._unscopedContent=a.first),pe(a=fe())&&(r._itemText=a.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:13,hostBindings:function(n,r){n&2&&(Ee("aria-current",r._getAriaCurrent()),de("mdc-list-item--activated",r.activated)("mdc-list-item--with-leading-avatar",r._avatars.length!==0)("mdc-list-item--with-leading-icon",r._icons.length!==0)("mdc-list-item--with-trailing-meta",r._meta.length!==0)("mat-mdc-list-item-both-leading-and-trailing",r._hasBothLeadingAndTrailing())("_mat-animation-noopable",r._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],features:[Ve],ngContentSelectors:ese,decls:10,vars:0,consts:[["unscopedContent",""],[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],[1,"mat-focus-indicator"]],template:function(n,r){if(n&1){let a=Rt();ut(Joe),Ie(0),M(1,"span",1),Ie(2,1),Ie(3,2),M(4,"span",2,0),Q("cdkObserveContent",function(){return ye(a),ve(r._updateItemLines(!0))}),Ie(6,3),I()(),Ie(7,4),Ie(8,5),re(9,"div",3)}},dependencies:[z0],encapsulation:2,changeDetection:0})}return t})();var R3=(()=>{class t extends UT{_isNonInteractive=!1;static \u0275fac=(()=>{let e;return function(r){return(e||(e=Dt(t)))(r||t)}})();static \u0275cmp=X({type:t,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-mdc-nav-list","mat-mdc-list-base","mdc-list"],exportAs:["matNavList"],features:[Ue([{provide:UT,useExisting:t}]),Ve],ngContentSelectors:qoe,decls:1,vars:0,template:function(n,r){n&1&&(ut(),Ie(0))},styles:[Zoe],encapsulation:2,changeDetection:0})}return t})();var O3=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Se({type:t});static \u0275inj=De({imports:[Tm,Qe,bl,KC,A3]})}return t})();var dse=t=>({elem:t}),use=t=>({"background-color":t});function hse(t,i){if(t&1&&(M(0,"mat-option",37),V(1),I()),t&2){let e=i.$implicit;W("value",e.id),T(),Ht(" ",e.mes," ")}}function mse(t,i){t&1&&(M(0,"th",38),V(1,"Tipo de utilizador"),I())}function pse(t,i){if(t&1&&(M(0,"td",39),V(1),I()),t&2){let e=i.$implicit;T(),qe(e.type)}}function fse(t,i){t&1&&(M(0,"th",38),V(1,"Nome"),I())}function gse(t,i){if(t&1&&(M(0,"td",39),V(1),I()),t&2){let e=i.$implicit;T(),qe(e.name)}}function bse(t,i){t&1&&(M(0,"th",38),V(1,"Estado do pagamento"),I())}function yse(t,i){if(t&1&&(M(0,"td",39),V(1),I()),t&2){let e=i.$implicit;T(),qe(e.paymentStatus?"\u2705":"\u274C")}}function vse(t,i){t&1&&(M(0,"th",38),V(1,"Data de pagamento"),I())}function _se(t,i){if(t&1&&(M(0,"td",39),V(1),na(2,"date"),I()),t&2){let e=i.$implicit;T(),qe(e.paymentDate?ra(2,1,e.paymentDate,"longDate"):"-")}}function xse(t,i){t&1&&(M(0,"th",38),V(1,"Multa"),I())}function Cse(t,i){if(t&1&&(M(0,"td",39),V(1),I()),t&2){let e=i.$implicit;T(),qe(e.fine||e.fine===0?e.fine+"\u20AC":"-")}}function wse(t,i){t&1&&re(0,"th",38)}function Dse(t,i){if(t&1){let e=Rt();M(0,"button",42),Q("click",function(){let r=ye(e).elem,a=xe(2);return ve(a.seeAccount(r))}),M(1,"mat-icon"),V(2,"account_circle"),I(),M(3,"span"),V(4,"Ver conta"),I()(),M(5,"button",42),Q("click",function(){let r=ye(e).elem,a=xe(2);return ve(a.addPayment(r))}),M(6,"mat-icon"),V(7,"check_circle"),I(),M(8,"span"),V(9,"Adicionar pagamento"),I()(),M(10,"button",42),Q("click",function(){let r=ye(e).elem,a=xe(2);return ve(a.deletePayment(r))}),M(11,"mat-icon"),V(12,"delete"),I(),M(13,"span"),V(14,"Remover pagamento"),I()()}}function Sse(t,i){if(t&1&&(M(0,"td",39)(1,"button",40)(2,"mat-icon"),V(3,"more_vert"),I()(),M(4,"mat-menu",null,1),ae(6,Dse,15,0,"ng-template",41),I()()),t&2){let e=i.$implicit,n=ar(5);T(),W("matMenuTriggerFor",n)("matMenuTriggerData",qc(2,dse,e))}}function Mse(t,i){t&1&&re(0,"tr",43)}function Ise(t,i){t&1&&re(0,"tr",44)}function kse(t,i){if(t&1){let e=Rt();M(0,"mat-accordion")(1,"mat-expansion-panel")(2,"mat-expansion-panel-header")(3,"mat-panel-title"),re(4,"div",45),V(5),I(),M(6,"mat-panel-description",46)(7,"mat-icon"),V(8,"access_time"),I(),V(9),na(10,"date"),I()(),M(11,"div",47),V(12),I(),M(13,"div",48)(14,"button",49),Q("click",function(){let r=ye(e).$implicit,a=xe();return ve(a.deleteEvent(r))}),V(15,"Eliminar Evento"),I()()()()}if(t&2){let e=i.$implicit,n=xe();T(4),W("ngStyle",qc(7,use,n.getColorForEvent(e))),T(),Ht(" ",e.titulo," "),T(4),Ht(" ",ra(10,4,e.data,"shortTime")," "),T(3),Ht(" ",e.descricao," ")}}function Ase(t,i){if(t&1){let e=Rt();M(0,"a",52),Q("click",function(){let r=ye(e).$implicit,a=xe(2);return ve(a.finishRegisterUser(r))}),V(1),I()}if(t&2){let e=i.$implicit;T(),qe(e.name)}}function Ese(t,i){if(t&1&&(M(0,"mat-tab",50)(1,"h2"),V(2,"Utilizadores por Ativar"),I(),M(3,"mat-nav-list"),ae(4,Ase,2,1,"a",51),I()()),t&2){let e=xe();T(4),W("ngForOf",e.usersToActivate)}}var L3=(()=>{class t{constructor(e,n,r,a,o,s,l,c){this.userService=e,this.calendarioService=n,this.quotasService=r,this.matDialog=a,this.dialogService=o,this.breakPointObserver=s,this.accountService=l,this.ref=c,this.meses=[],this.monthCodes=["set2025","out2025","nov2025","dez2025","jan2026","feb2026","mar2026","abr2026","mai2026","jun2026","jul2026"],this.eventList=[],this.displayedColumns=["type","name","paymentStatus","paymentDate","fine","opt"]}ngOnInit(){this.breakPointObserver.observe([ql.Small,ql.Handset]).subscribe(e=>{e.matches?this.displayedColumns=["name","paymentStatus","fine","opt"]:this.displayedColumns=["type","name","paymentStatus","paymentDate","fine","opt"]}),this.getAccountBalance(),this.calendarioService.getEvents().subscribe(e=>{this.eventList=e}),this.getInactiveUserList(),this.gerarMeses(),this.getAllUsers()}gerarMeses(){for(var e=new Date(2025,8,1),n=2026,r=6,a=0,o=new Date(n,r+1,1),s=new Date,l=new Date(e.getFullYear(),e.getMonth(),1);l<o;l.setMonth(l.getMonth()+1)){var c=l.toLocaleDateString("pt-PT",{month:"long",year:"numeric"}),d=c.charAt(0).toUpperCase()+c.slice(1);this.meses.push({id:this.monthCodes[a],mes:d}),!this.selectedMonth&&l.getMonth()===s.getMonth()&&l.getFullYear()===s.getFullYear()&&(this.selectedMonth=this.monthCodes[a]),a++}}getMonthForId(e){for(var n of this.meses)if(n.id===e)return n;return null}getAccountBalance(){this.accountService.getAccountBalance().subscribe(e=>{this.accountInfo={income:e.income,expenses:e.expenses,handTotal:e.handTotal,accountTotal:e.income-e.expenses,totalValue:e.income-e.expenses+e.handTotal},this.ref.detectChanges()})}getAllUsers(){this.userService.getAllUsers().subscribe(e=>{this.users=e,this.getAllUsersQuotas()})}hasUserPayedQuota(e,n){for(var r in e.pagamentos)if(r===n)return e.pagamentos[r].data;return null}getAllUsersQuotas(){this.quotasService.getQuotasForMonth(this.selectedMonth).subscribe(e=>{var n=[];for(var r of this.users){var a=this.hasUserPayedQuota(e,r.id),o=a?new Date(a):null,s={id:r.id,type:this.userService.getUserTypeByNumber(r.type).tipo,name:r.name,paymentStatus:!!a,paymentDate:o,fine:o?this.quotasService.calculateFineForDate(o,this.selectedMonth):null};n.push(s)}n.sort((l,c)=>l.name.localeCompare(c.name)),n.sort((l,c)=>l.paymentStatus&&!c.paymentStatus?1:!l.paymentStatus&&c.paymentStatus?-1:0),n.sort((l,c)=>this.userService.getNumberByUserType(l.type)-this.userService.getNumberByUserType(c.type)),this.usersPayments=n,this.dataSource=new rl(this.usersPayments),this.valor=e.valor,this.ref.detectChanges()})}monthChanged(){this.getAllUsers()}seeAccount(e){this.matDialog.open(aj,S(f({},this.dialogService.getGenericDialogConfig()),{data:{id:e.id,name:e.name,type:e.type}}))}addPayment(e){this.matDialog.open(l3,S(f({},this.dialogService.getGenericDialogConfig()),{data:{id:e.id,name:e.name,month:this.getMonthForId(this.selectedMonth),valor:this.valor}}))}deletePayment(e){var n=confirm("Queres apagar o pagamento do utilizador "+e.name);n&&this.quotasService.deleteQuotaPayment(this.selectedMonth,e.id)}applyFilter(e){let n=e.target.value;this.dataSource.filter=n.trim().toLowerCase()}openEventCreator(){this.matDialog.open(_3,f({},this.dialogService.getGenericDialogConfig()))}getColorForEvent(e){return this.calendarioService.getEventType(e.tipo).color}getInactiveUserList(){this.userService.getAllInactiveUsers().subscribe(e=>{this.usersToActivate=e})}finishRegisterUser(e){this.matDialog.open(x3,S(f({},this.dialogService.getGenericDialogConfig()),{data:{id:e.id,name:e.name}}))}deleteEvent(e){var n=confirm("Queres apagar o evento "+e.titulo);n&&this.calendarioService.deleteEvent(e)}changeValue(e){var n,r;switch(e){case 0:n="Entradas",r=this.accountInfo.income;break;case 1:n="Sa\xEDdas",r=this.accountInfo.expenses;break;case 2:n="Valor em M\xE3o",r=this.accountInfo.handTotal;break;case 3:n="Tranferir valor em m\xE3o para conta",r=this.accountInfo.handTotal;break}console.log(this.accountInfo);var a=this.matDialog.open(C3,S(f({},this.dialogService.getGenericDialogConfig()),{data:{value:r,title:n}}));a.afterClosed().subscribe(o=>{if(o)switch(e){case 0:this.accountService.setIncomeValue(r+o);break;case 1:this.accountService.setExpensesValue(r+o);break;case 2:this.accountService.setHandValue(r+o);break;case 3:this.accountService.setHandValue(this.accountInfo.handTotal-o),this.accountService.setIncomeValue(this.accountInfo.income+o);break}})}static{this.\u0275fac=function(n){return new(n||t)(ee(_o),ee(Dd),ee(Cd),ee(gs),ee(Sd),ee(ts),ee(SC),ee(et))}}static{this.\u0275cmp=X({type:t,selectors:[["app-admin"]],standalone:!1,decls:87,vars:27,consts:[["input",""],["menu","matMenu"],[1,"tabs-container"],["label","Dashboard"],[1,"grid-container"],[1,"dashboard-grid"],[1,"total-container","grid-element"],[1,"element-title"],[1,"element-value"],[1,"lucros-container","grid-element"],["mat-mini-fab","","color","primary",1,"add-value-button",3,"click"],[1,"despesas-container","grid-element"],[1,"mao-container","grid-element"],[1,"add-value-button"],["mat-mini-fab","","color","primary",1,"transfer-value-button",3,"click"],[1,"conta-container","grid-element"],["label","Quotas"],[1,"select-month"],["name","month",3,"ngModelChange","selectionChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["matInput","","placeholder","Nome",3,"change"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","type"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","paymentStatus"],["matColumnDef","paymentDate"],["matColumnDef","fine"],["matColumnDef","opt"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["label","Eventos"],[1,"add-event-button-container"],["mat-flat-button","","color","primary",1,"add-event-button",3,"click"],[4,"ngFor","ngForOf"],["label","Utilizadores",4,"ngIf"],[3,"value"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","aria-label","Example icon button with a vertical three dot icon",3,"matMenuTriggerFor","matMenuTriggerData"],["matMenuContent",""],["mat-menu-item","",3,"click"],["mat-header-row",""],["mat-row",""],[1,"has-event",3,"ngStyle"],[1,"mat-panel-description"],[1,"event-container"],[1,"delete-event-button"],["mat-raised-button","",3,"click"],["label","Utilizadores"],["mat-list-item","","class","user-button",3,"click",4,"ngFor","ngForOf"],["mat-list-item","",1,"user-button",3,"click"]],template:function(n,r){if(n&1){let a=Rt();M(0,"div",2)(1,"mat-tab-group")(2,"mat-tab",3)(3,"div",4)(4,"div",5)(5,"div",6)(6,"h3",7),V(7,"Valor Total:"),I(),M(8,"h2",8),V(9),na(10,"number"),I()(),M(11,"div",9)(12,"h3",7),V(13,"Entradas:"),I(),M(14,"h2",8),V(15),na(16,"number"),I(),M(17,"button",10),Q("click",function(){return ye(a),ve(r.changeValue(0))}),M(18,"mat-icon"),V(19,"add"),I()()(),M(20,"div",11)(21,"h3",7),V(22,"Sa\xEDdas:"),I(),M(23,"h2",8),V(24),na(25,"number"),I(),M(26,"button",10),Q("click",function(){return ye(a),ve(r.changeValue(1))}),M(27,"mat-icon"),V(28,"add"),I()()(),M(29,"div",12)(30,"h3",7),V(31,"Valor em m\xE3o:"),I(),M(32,"h2",8),V(33),na(34,"number"),I(),M(35,"div",13)(36,"button",14),Q("click",function(){return ye(a),ve(r.changeValue(3))}),M(37,"mat-icon"),V(38,"compare_arrows"),I()(),M(39,"button",10),Q("click",function(){return ye(a),ve(r.changeValue(2))}),M(40,"mat-icon"),V(41,"add"),I()()()(),M(42,"div",15)(43,"h3",7),V(44,"valor conta:"),I(),M(45,"h2",8),V(46),na(47,"number"),I()()()()(),M(48,"mat-tab",16)(49,"div",17)(50,"mat-form-field")(51,"mat-label"),V(52,"Seleciona um m\xEAs"),I(),M(53,"mat-select",18),Ri("ngModelChange",function(s){return ye(a),Ti(r.selectedMonth,s)||(r.selectedMonth=s),ve(s)}),Q("selectionChange",function(){return ye(a),ve(r.monthChanged())}),ae(54,hse,2,2,"mat-option",19),I()()(),M(55,"mat-form-field")(56,"mat-label"),V(57,"Procurar"),I(),M(58,"input",20,0),Q("change",function(s){return ye(a),ve(r.applyFilter(s))}),I()(),M(60,"table",21),vn(61,22),ae(62,mse,2,0,"th",23)(63,pse,2,1,"td",24),_n(),vn(64,25),ae(65,fse,2,0,"th",23)(66,gse,2,1,"td",24),_n(),vn(67,26),ae(68,bse,2,0,"th",23)(69,yse,2,1,"td",24),_n(),vn(70,27),ae(71,vse,2,0,"th",23)(72,_se,3,4,"td",24),_n(),vn(73,28),ae(74,xse,2,0,"th",23)(75,Cse,2,1,"td",24),_n(),vn(76,29),ae(77,wse,1,0,"th",23)(78,Sse,7,4,"td",24),_n(),ae(79,Mse,1,0,"tr",30)(80,Ise,1,0,"tr",31),I()(),M(81,"mat-tab",32)(82,"div",33)(83,"button",34),Q("click",function(){return ye(a),ve(r.openEventCreator())}),V(84," Adicionar Evento "),I()(),ae(85,kse,16,9,"mat-accordion",35),I(),ae(86,Ese,5,1,"mat-tab",36),I()()}n&2&&(T(9),Ht("",ra(10,12,r.accountInfo==null?null:r.accountInfo.totalValue,"1.2-2"),"\u20AC"),T(6),Ht("",ra(16,15,r.accountInfo==null?null:r.accountInfo.income,"1.2-2"),"\u20AC"),T(9),Ht("",ra(25,18,r.accountInfo==null?null:r.accountInfo.expenses,"1.2-2"),"\u20AC"),T(9),Ht("",ra(34,21,r.accountInfo==null?null:r.accountInfo.handTotal,"1.2-2"),"\u20AC"),T(13),Ht("",ra(47,24,r.accountInfo==null?null:r.accountInfo.accountTotal,"1.2-2"),"\u20AC"),T(7),Ei("ngModel",r.selectedMonth),T(),W("ngForOf",r.meses),T(6),W("dataSource",r.dataSource),T(19),W("matHeaderRowDef",r.displayedColumns),T(),W("matRowDefColumns",r.displayedColumns),T(5),W("ngForOf",r.eventList),T(),W("ngIf",r.usersToActivate&&r.usersToActivate.length>0))},dependencies:[Sa,Xo,$l,Ip,rh,ah,Mp,yC,Br,_r,cr,wC,Io,ha,xr,lh,to,Ra,ua,th,Cp,Om,Nm,Bm,Pm,Lm,zm,Fm,Vm,jm,Um,jp,wy,D3,M3,wp,R3,T3,uM,Yl],styles:[".tabs-container[_ngcontent-%COMP%]{max-width:1200px;height:fit-content;box-shadow:0 2px 4px #0000001a;background-color:#fff;border-radius:5px;margin-top:20px;margin-left:auto;margin-right:auto;grid-column:2;padding:10px;overflow:hidden}.select-month[_ngcontent-%COMP%]{margin-top:20PX}[_nghost-%COMP%]     .mat-mdc-tab-body-content{overflow:hidden}.add-button[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:end}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{text-align:center}.mat-mdc-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}.add-event-button-container[_ngcontent-%COMP%]{margin-top:20px;margin-right:20px;padding-bottom:20px;display:flex;flex-wrap:wrap}.has-event[_ngcontent-%COMP%]{width:7px;height:30px;border-radius:50px;margin-right:15px}.mat-panel-description[_ngcontent-%COMP%]{justify-content:flex-end}.mat-expansion-panel.mat-expanded[_ngcontent-%COMP%]   .mat-expansion-panel-header[_ngcontent-%COMP%]{border-bottom:1px solid rgba(0,0,0,.4);margin-bottom:auto}.mat-expansion-panel-header-title[_ngcontent-%COMP%]{flex-grow:4}.grid-container[_ngcontent-%COMP%]{display:flex;justify-content:center}.dashboard-grid[_ngcontent-%COMP%]{align-self:center;display:grid;grid-template-columns:.333fr .333fr .333fr;grid-template-rows:.333fr .333fr .333fr;width:70%;margin:20px 0;grid-gap:5px}.total-container[_ngcontent-%COMP%]{grid-row:1;grid-column:1 / 4}.lucros-container[_ngcontent-%COMP%]{grid-row:3;grid-column:1}.despesas-container[_ngcontent-%COMP%]{grid-row:3;grid-column:2}.mao-container[_ngcontent-%COMP%]{grid-row:2 / 4;grid-column:3}.conta-container[_ngcontent-%COMP%]{grid-row:2;grid-column:1 / 3}.grid-element[_ngcontent-%COMP%]{border:2px solid black;border-radius:10px;width:100%;box-sizing:border-box;padding:5px 7px;position:relative;background-color:#e6e6e9;display:flex;flex-direction:column}.element-title[_ngcontent-%COMP%]{font-weight:500;font-size:large}.element-value[_ngcontent-%COMP%]{font-weight:800;font-size:x-large}.add-value-button[_ngcontent-%COMP%]{align-self:flex-end;margin-top:auto}.transfer-value-button[_ngcontent-%COMP%]{margin-right:5px}.user-button[_ngcontent-%COMP%]{border:1px solid #000;border-radius:5px;box-shadow:0 1px 5px #0000004d;background-color:#0000000a}.delete-event-button[_ngcontent-%COMP%]{margin-top:10px}@media screen and (max-width: 599px){.tabs-container[_ngcontent-%COMP%]{box-sizing:border-box;margin:20px 15px;width:calc(100% - 30px)}.add-event-button-container[_ngcontent-%COMP%]{margin:20px;flex-wrap:wrap;width:calc(100% - 40px)}.add-event-button[_ngcontent-%COMP%]{width:-webkit-fill-available}.dashboard-grid[_ngcontent-%COMP%]{width:100%}}@media screen and (min-width: 600px) and (max-width: 1400px){.tabs-container[_ngcontent-%COMP%]{margin-left:20px;margin-right:10px;margin-bottom:20px;padding:15px;max-width:100vw}}"]})}}return t})();var N3=(()=>{class t{constructor(e,n,r){this.dialogRef=e,this.authService=n,this.userService=r,this.hide=yn(!0)}clickEvent(e){this.hide.set(!this.hide()),e.stopPropagation()}signUp(){if(!this.nome||this.nome===""){alert("Obrigat\xF3rio preencher o nome");return}else if(!this.email||this.email===""){alert("Obrigat\xF3rio preencher o email");return}else if(!this.password||this.password===""){alert("Obrigat\xF3rio definir uma password");return}else this.password.length<6&&alert("A password precisa de ter pelo menos 6 caracteres");this.authService.registerUser(this.email,this.password).pipe(Ha((e,n)=>{throw e.code==="auth/email-already-in-use"&&(alert("Email j\xE1 registado!"),this.dialogRef.close()),e})).subscribe(e=>{var n=this.nome,r=n.indexOf(" "),a=r<0?n:n.substring(0,n.indexOf(" ")),o=n.substring(n.length-n.split("").reverse().join("").indexOf(" "));this.authService.updateUserProfile(n),this.userService.registerUser(e.user.uid,a+" "+o).then(()=>{this.authService.logOut().then(()=>{alert("O utlizador foi resgistado. Espera que a comiss\xE3o te adicione"),this.dialogRef.close()})})})}static{this.\u0275fac=function(n){return new(n||t)(ee(Yn),ee(xo),ee(_o))}}static{this.\u0275cmp=X({type:t,selectors:[["app-register-dialog"]],standalone:!1,decls:27,vars:6,consts:[[1,"login-form"],["appearance","fill"],["matInput","","name","name","placeholder","Nome","required","","type","text",3,"ngModelChange","ngModel"],["matSuffix",""],["matInput","","name","email","placeholder","exmplo@email.com","required","","type","email",3,"ngModelChange","ngModel"],["matInput","","name","password","required","",3,"ngModelChange","type","ngModel"],["mat-icon-button","","matSuffix","",3,"click"],["mat-raised-button","","color","primary",1,"login-button",3,"click"]],template:function(n,r){n&1&&(M(0,"mat-dialog-content")(1,"h1"),V(2,"Registo"),I(),M(3,"form",0)(4,"mat-form-field",1)(5,"mat-label"),V(6,"Nome"),I(),M(7,"input",2),Ri("ngModelChange",function(o){return Ti(r.nome,o)||(r.nome=o),o}),I(),M(8,"mat-icon",3),V(9,"account_circle"),I()(),M(10,"mat-form-field",1)(11,"mat-label"),V(12,"Email"),I(),M(13,"input",4),Ri("ngModelChange",function(o){return Ti(r.email,o)||(r.email=o),o}),I(),M(14,"mat-icon",3),V(15,"email"),I()(),M(16,"mat-form-field",1)(17,"mat-label"),V(18,"Senha"),I(),M(19,"input",5),Ri("ngModelChange",function(o){return Ti(r.password,o)||(r.password=o),o}),I(),M(20,"button",6),Q("click",function(o){return r.clickEvent(o)}),M(21,"mat-icon"),V(22),I()(),M(23,"mat-icon",3),V(24,"lock"),I()(),M(25,"button",7),Q("click",function(){return r.signUp()}),V(26,"Registar"),I()()()),n&2&&(T(7),Ei("ngModel",r.nome),T(6),Ei("ngModel",r.email),T(6),W("type",r.hide()?"password":"text"),Ei("ngModel",r.password),T(),Ee("aria-pressed",r.hide()),T(2),qe(r.hide()?"visibility_off":"visibility"))},dependencies:[Br,da,_r,cr,Io,ha,xr,cc,Tp,So,Ra,Ep,gy,ua,Mo],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%;margin-top:20px}h1[_ngcontent-%COMP%]{font-weight:550}.highlight-bioquimica[_ngcontent-%COMP%]{color:#0095d7}.login-card[_ngcontent-%COMP%]{width:100%;max-width:400px;padding:20px;box-shadow:0 4px 8px #0000001a}mat-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:15px}.login-button[_ngcontent-%COMP%]{width:100%;margin-top:15px}"]})}}return t})();var Tse=["*"];var Rse=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],Ose=["[mat-card-avatar], [matCardAvatar]",`mat-card-title, mat-card-subtitle,
      [mat-card-title], [mat-card-subtitle],
      [matCardTitle], [matCardSubtitle]`,"*"],Lse=new G("MAT_CARD_CONFIG"),P3=(()=>{class t{appearance;constructor(){let e=_(Lse,{optional:!0});this.appearance=e?.appearance||"raised"}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=X({type:t,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(n,r){n&2&&de("mat-mdc-card-outlined",r.appearance==="outlined")("mdc-card--outlined",r.appearance==="outlined")},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:Tse,decls:1,vars:0,template:function(n,r){n&1&&(ut(),Ie(0))},styles:[`.mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mdc-elevated-card-container-color, var(--mat-sys-surface-container-low));border-color:var(--mdc-elevated-card-container-color, var(--mat-sys-surface-container-low));border-radius:var(--mdc-elevated-card-container-shape, var(--mat-sys-corner-medium));box-shadow:var(--mdc-elevated-card-container-elevation, var(--mat-sys-level1))}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:"";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mdc-elevated-card-container-shape, var(--mat-sys-corner-medium))}.mat-mdc-card-outlined{background-color:var(--mdc-outlined-card-container-color, var(--mat-sys-surface));border-radius:var(--mdc-outlined-card-container-shape, var(--mat-sys-corner-medium));border-width:var(--mdc-outlined-card-outline-width, 1px);border-color:var(--mdc-outlined-card-outline-color, var(--mat-sys-outline-variant));box-shadow:var(--mdc-outlined-card-container-elevation, var(--mat-sys-level0))}.mat-mdc-card-outlined::after{border:none}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font, var(--mat-sys-title-large-font));line-height:var(--mat-card-title-text-line-height, var(--mat-sys-title-large-line-height));font-size:var(--mat-card-title-text-size, var(--mat-sys-title-large-size));letter-spacing:var(--mat-card-title-text-tracking, var(--mat-sys-title-large-tracking));font-weight:var(--mat-card-title-text-weight, var(--mat-sys-title-large-weight))}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color, var(--mat-sys-on-surface));font-family:var(--mat-card-subtitle-text-font, var(--mat-sys-title-medium-font));line-height:var(--mat-card-subtitle-text-line-height, var(--mat-sys-title-medium-line-height));font-size:var(--mat-card-subtitle-text-size, var(--mat-sys-title-medium-size));letter-spacing:var(--mat-card-subtitle-text-tracking, var(--mat-sys-title-medium-tracking));font-weight:var(--mat-card-subtitle-text-weight, var(--mat-sys-title-medium-weight))}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}
`],encapsulation:2,changeDetection:0})}return t})(),F3=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]})}return t})();var V3=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275dir=Y({type:t,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]})}return t})();var B3=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=X({type:t,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:Ose,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(n,r){n&1&&(ut(Rse),Ie(0),M(1,"div",0),Ie(2,1),I(),Ie(3,2))},encapsulation:2,changeDetection:0})}return t})();var z3=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Se({type:t});static \u0275inj=De({imports:[Qe,Qe]})}return t})();var j3=(()=>{class t{constructor(e,n,r,a,o,s){this.dialogService=e,this.matDialog=n,this.authService=r,this.userService=a,this.router=o,this.activatedRoute=s}ngOnInit(){this.finishLogin()}openRegisterDialog(){this.matDialog.open(N3,f({},this.dialogService.getGenericDialogConfig()))}loginWithEmailAndPassword(){if(!this.email||this.email===""){alert("Obrigat\xF3rio preencher o email");return}else if(!this.password||this.password===""){alert("Obrigat\xF3rio colocar password");return}this.authService.login(this.email,this.password).pipe(Ha((e,n)=>{throw e.code==="auth/invalid-credential"&&alert("Credenciais inv\xE1lidas"),e})).subscribe(e=>{this.userService.getUserInfo(e.user.uid).subscribe(n=>{n?n.ready?this.finishLogin():alert("Esta conta ainda n\xE3o est\xE1 ativa! Aguarda que a comiss\xE3o a ative."):alert("Erro interno. Fala com a comiss\xE3o. C\xF3digo de erro: 02x410")})})}loginGoogle(){this.authService.logInGoogle().then(e=>{this.userService.getUserInfo(e.user.uid).subscribe(n=>{if(n)n.ready?this.finishLogin():this.authService.logOut().then(()=>{alert("Esta conta ainda n\xE3o est\xE1 ativa! Aguarda que a comiss\xE3o a ative.")});else{var r=e.user.displayName,a=r.substring(0,r.indexOf(" ")),o=r.substring(r.length-r.split("").reverse().join("").indexOf(" "));this.userService.registerUser(e.user.uid,a+" "+o).then(()=>{this.authService.logOut().then(()=>{alert("Conta registada. Aguarda que a comiss\xE3o ative a conta!")})})}})})}finishLogin(){this.authService.user$.subscribe(e=>{e&&this.activatedRoute.queryParams.subscribe(n=>{var r=n.returnUrl;r?this.router.navigateByUrl(r):this.router.navigateByUrl("/quotas")})})}static{this.\u0275fac=function(n){return new(n||t)(ee(Sd),ee(gs),ee(xo),ee(_o),ee(aa),ee(es))}}static{this.\u0275cmp=X({type:t,selectors:[["app-login"]],standalone:!1,decls:37,vars:2,consts:[[1,"login-container"],[1,"login-card"],[1,"highlight-bioquimica"],[1,"login-form"],["appearance","fill"],["matInput","","placeholder","nome@carro2027.bioq","required","","type","email","name","email",3,"ngModelChange","ngModel"],["matSuffix",""],["matInput","","type","password","required","","name","password",3,"ngModelChange","ngModel"],[2,"cursor","pointer",3,"click"],["mat-raised-button","","color","primary",1,"login-button",3,"click"],["mat-raised-button","",1,"login-google",3,"click"],["xmlns","http://www.w3.org/2000/svg","height","17","width","17","preserveAspectRatio","xMidYMid","viewBox","0 0 256 262","id","google"],["fill","#4285F4","d","M255.878 133.451c0-10.734-.871-18.567-2.756-26.69H130.55v48.448h71.947c-1.45 12.04-9.283 30.172-26.69 42.356l-.244 1.622 38.755 30.023 2.685.268c24.659-22.774 38.875-56.282 38.875-96.027"],["fill","#34A853","d","M130.55 261.1c35.248 0 64.839-11.605 86.453-31.622l-41.196-31.913c-11.024 7.688-25.82 13.055-45.257 13.055-34.523 0-63.824-22.773-74.269-54.25l-1.531.13-40.298 31.187-.527 1.465C35.393 231.798 79.49 261.1 130.55 261.1"],["fill","#FBBC05","d","M56.281 156.37c-2.756-8.123-4.351-16.827-4.351-25.82 0-8.994 1.595-17.697 4.206-25.82l-.073-1.73L15.26 71.312l-1.335.635C5.077 89.644 0 109.517 0 130.55s5.077 40.905 13.925 58.602l42.356-32.782"],["fill","#EB4335","d","M130.55 50.479c24.514 0 41.05 10.589 50.479 19.438l36.844-35.974C195.245 12.91 165.798 0 130.55 0 79.49 0 35.393 29.301 13.925 71.947l42.211 32.783c10.59-31.477 39.891-54.251 74.414-54.251"],[1,"login-text"]],template:function(n,r){n&1&&(M(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title")(4,"h1"),V(5,"Carro "),M(6,"span",2),V(7,"Bioqu\xEDmica"),I(),V(8," 2027 "),I()(),M(9,"mat-card-title"),V(10,"Login"),I()(),M(11,"mat-card-content")(12,"form",3)(13,"mat-form-field",4)(14,"mat-label"),V(15,"Email"),I(),M(16,"input",5),Ri("ngModelChange",function(o){return Ti(r.email,o)||(r.email=o),o}),I(),M(17,"mat-icon",6),V(18,"email"),I()(),M(19,"mat-form-field",4)(20,"mat-label"),V(21,"Senha"),I(),M(22,"input",7),Ri("ngModelChange",function(o){return Ti(r.password,o)||(r.password=o),o}),I(),M(23,"mat-icon",6),V(24,"lock"),I()(),M(25,"p",8),Q("click",function(){return r.openRegisterDialog()}),V(26,"Registar novo utilizador"),I(),M(27,"button",9),Q("click",function(){return r.loginWithEmailAndPassword()}),V(28,"Entrar"),I()(),M(29,"button",10),Q("click",function(){return r.loginGoogle()}),Ai(),M(30,"svg",11),re(31,"path",12)(32,"path",13)(33,"path",14)(34,"path",15),I(),Or(),M(35,"a",16),V(36,"Login com Google"),I()()()()()),n&2&&(T(16),Ei("ngModel",r.email),T(6),Ei("ngModel",r.password))},dependencies:[Br,_r,Io,ha,xr,cc,Tp,So,Ra,Ep,gy,ua,Mo,P3,V3,B3,F3],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%;margin-top:20px}h1[_ngcontent-%COMP%]{font-weight:550}.highlight-bioquimica[_ngcontent-%COMP%]{color:#0095d7}.login-card[_ngcontent-%COMP%]{width:100%;max-width:400px;padding:20px;box-shadow:0 4px 8px #0000001a}mat-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:15px}.login-button[_ngcontent-%COMP%]{width:100%;margin-top:15px}.login-google[_ngcontent-%COMP%]{margin:10px 10px 10px 0;width:100%}  .mdc-button__label{display:flex;align-items:center}.login-text[_ngcontent-%COMP%]{margin-left:5px}@media screen and (max-width: 599px){.login-container[_ngcontent-%COMP%]{margin-left:20px;margin-right:20px;margin-bottom:20px;padding:15px}}@media screen and (min-width: 600px) and (max-width: 1400px){.login-container[_ngcontent-%COMP%]{margin-left:20px;margin-right:10px;margin-bottom:20px;padding:15px;max-width:100vw}}"]})}}return t})();var U3=(()=>{class t{constructor(e,n){this.router=e,this.authService=n}canActivate(e,n){return Promise.all([this.authService.auth.authStateReady()]).then(()=>this.authService.getUserData().then(r=>r&&r?.ready?!0:(this.router.navigate(["login"],{queryParams:{returnUrl:n.url}}),!1)))}static{this.\u0275fac=function(n){return new(n||t)(Te(aa),Te(xo))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var H3=(()=>{class t{constructor(e){this.authService=e}canActivate(e,n){return this.authService.getUserData().then(r=>r?.role==="admin"?!0:(alert("Funcionalidade apenas disponivel para administradores."),!1))}static{this.\u0275fac=function(n){return new(n||t)(Te(xo))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Pse=[{path:"",canActivate:[U3],children:[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"quotas",component:uz},{path:"calendario",component:tj},{path:"perfil",component:ij},{path:"regras",component:nj},{path:"admin",component:L3,canActivate:[H3]}]},{path:"login",component:j3}],G3=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=Se({type:t})}static{this.\u0275inj=De({imports:[D0.forRoot(Pse),D0]})}}return t})();var W3=t=>({display:t}),Fse=()=>["/quotas"],Vse=()=>["/calendario"],Bse=()=>["/regras"],zse=()=>["/admin"];function jse(t,i){if(t&1){let e=Rt();M(0,"li",12),Q("click",function(){ye(e);let r=xe();return ve(r.opened=!1)}),M(1,"a",13),Ai(),M(2,"svg",31),re(3,"path",32)(4,"path",33),I(),Or(),M(5,"span",5),V(6,"Comiss\xE3o"),I()()()}t&2&&(T(),W("routerLink",Lr(1,zse)))}function Use(t,i){if(t&1&&(M(0,"h5",34),V(1),I()),t&2){let e=xe();T(),qe(e.nome)}}function Hse(t,i){if(t&1&&(M(0,"h3",34),V(1,"Sess\xE3o iniciada como: "),re(2,"br"),V(3),I()),t&2){let e=xe();T(3),qe(e.nome)}}var $3=(()=>{class t{constructor(e,n){this.authService=e,this.router=n,this.title="carro27",this.opened=!1,this.showNavbar=!1,this.admin=!1}ngOnInit(){this.checkAuthentication()}logOut(){this.authService.logOut().then(()=>{this.router.navigateByUrl("/"),this.opened&&this.triggerNavbar(),this.checkAuthentication()})}checkAuthentication(){this.authService.auth.authStateReady().then(()=>{this.authService.user$.subscribe(e=>{e?(this.authService.getUserData().then(n=>{n?.role==="admin"&&(this.admin=!0),this.nome=n?.name}),this.showNavbar=!0):this.showNavbar=!1})})}triggerNavbar(){this.opened=!this.opened}openAtas(){alert("Em desenvolvimento")}static{this.\u0275fac=function(n){return new(n||t)(ee(xo),ee(aa))}}static{this.\u0275cmp=X({type:t,selectors:[["app-root"]],standalone:!1,decls:54,vars:19,consts:[[1,"navbar-background",3,"ngStyle"],[1,"navbar",3,"ngStyle"],[1,"navbar-nav"],[1,"logo",3,"click"],[1,"nav-link"],[1,"link-text"],[1,"logo-text"],["aria-hidden","true","focusable","false","data-prefix","fad","data-icon","angle-double-right","role","img","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 448 512",1,"svg-inline--fa","fa-angle-double-right","fa-w-14","fa-5x"],[1,"fa-group"],["fill","currentColor","d","M224 273L88.37 409a23.78 23.78 0 0 1-33.8 0L32 386.36a23.94 23.94 0 0 1 0-33.89l96.13-96.37L32 159.73a23.94 23.94 0 0 1 0-33.89l22.44-22.79a23.78 23.78 0 0 1 33.8 0L223.88 239a23.94 23.94 0 0 1 .1 34z",1,"fa-secondary"],["fill","currentColor","d","M415.89 273L280.34 409a23.77 23.77 0 0 1-33.79 0L224 386.26a23.94 23.94 0 0 1 0-33.89L320.11 256l-96-96.47a23.94 23.94 0 0 1 0-33.89l22.52-22.59a23.77 23.77 0 0 1 33.79 0L416 239a24 24 0 0 1-.11 34z",1,"fa-primary"],[1,"nav-item-container"],[1,"nav-item",3,"click"],[1,"nav-link",3,"routerLink"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 320 512"],["fill","currentColor","d","M48.1 240c-.1 2.7-.1 5.3-.1 8l0 16c0 2.7 0 5.3 .1 8L32 272c-17.7 0-32 14.3-32 32s14.3 32 32 32l28.3 0C89.9 419.9 170 480 264 480l24 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-24 0c-57.9 0-108.2-32.4-133.9-80L256 336c17.7 0 32-14.3 32-32s-14.3-32-32-32l-143.8 0c-.1-2.6-.2-5.3-.2-8l0-16c0-2.7 .1-5.4 .2-8L256 240c17.7 0 32-14.3 32-32s-14.3-32-32-32l-125.9 0c25.7-47.6 76-80 133.9-80l24 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-24 0C170 32 89.9 92.1 60.3 176L32 176c-17.7 0-32 14.3-32 32s14.3 32 32 32l16.1 0z",1,"fa-primary"],["fill","currentColor","d","M48.1 240c-.1 2.7-.1 5.3-.1 8l0 16c0 2.7 0 5.3 .1 8L32 272c-17.7 0-32 14.3-32 32s14.3 32 32 32l28.3 0C89.9 419.9 170 480 264 480l24 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-24 0c-57.9 0-108.2-32.4-133.9-80L256 336c17.7 0 32-14.3 32-32s-14.3-32-32-32l-143.8 0c-.1-2.6-.2-5.3-.2-8l0-16c0-2.7 .1-5.4 .2-8L256 240c17.7 0 32-14.3 32-32s-14.3-32-32-32l-125.9 0c25.7-47.6 76-80 133.9-80l24 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-24 0C170 32 89.9 92.1 60.3 176L32 176c-17.7 0-32 14.3-32 32s14.3 32 32 32l16.1 0z",1,"fa-secondary"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 448 512"],["fill","currentColor","d","M128 0c17.7 0 32 14.3 32 32l0 32 128 0 0-32c0-17.7 14.3-32 32-32s32 14.3 32 32l0 32 48 0c26.5 0 48 21.5 48 48l0 48L0 160l0-48C0 85.5 21.5 64 48 64l48 0 0-32c0-17.7 14.3-32 32-32zM0 192l448 0 0 272c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 192zm64 80l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm128 0l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zM64 400l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zm112 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16z",1,"fa-primary"],["fill","currentColor","d","M128 0c17.7 0 32 14.3 32 32l0 32 128 0 0-32c0-17.7 14.3-32 32-32s32 14.3 32 32l0 32 48 0c26.5 0 48 21.5 48 48l0 48L0 160l0-48C0 85.5 21.5 64 48 64l48 0 0-32c0-17.7 14.3-32 32-32zM0 192l448 0 0 272c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 192zm64 80l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm128 0l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zM64 400l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zm112 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16z",1,"fa-secondary"],["fill","currentColor","d","M364.2 83.8c-24.4-24.4-64-24.4-88.4 0l-184 184c-42.1 42.1-42.1 110.3 0 152.4s110.3 42.1 152.4 0l152-152c10.9-10.9 28.7-10.9 39.6 0s10.9 28.7 0 39.6l-152 152c-64 64-167.6 64-231.6 0s-64-167.6 0-231.6l184-184c46.3-46.3 121.3-46.3 167.6 0s46.3 121.3 0 167.6l-176 176c-28.6 28.6-75 28.6-103.6 0s-28.6-75 0-103.6l144-144c10.9-10.9 28.7-10.9 39.6 0s10.9 28.7 0 39.6l-144 144c-6.7 6.7-6.7 17.7 0 24.4s17.7 6.7 24.4 0l176-176c24.4-24.4 24.4-64 0-88.4z",1,"fa-primary"],["fill","currentColor","d","M364.2 83.8c-24.4-24.4-64-24.4-88.4 0l-184 184c-42.1 42.1-42.1 110.3 0 152.4s110.3 42.1 152.4 0l152-152c10.9-10.9 28.7-10.9 39.6 0s10.9 28.7 0 39.6l-152 152c-64 64-167.6 64-231.6 0s-64-167.6 0-231.6l184-184c46.3-46.3 121.3-46.3 167.6 0s46.3 121.3 0 167.6l-176 176c-28.6 28.6-75 28.6-103.6 0s-28.6-75 0-103.6l144-144c10.9-10.9 28.7-10.9 39.6 0s10.9 28.7 0 39.6l-144 144c-6.7 6.7-6.7 17.7 0 24.4s17.7 6.7 24.4 0l176-176c24.4-24.4 24.4-64 0-88.4z",1,"fa-secondary"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 512 512"],["fill","currentColor","d","M318.6 9.4c-12.5-12.5-32.8-12.5-45.3 0l-120 120c-12.5 12.5-12.5 32.8 0 45.3l16 16c12.5 12.5 32.8 12.5 45.3 0l4-4L325.4 293.4l-4 4c-12.5 12.5-12.5 32.8 0 45.3l16 16c12.5 12.5 32.8 12.5 45.3 0l120-120c12.5-12.5 12.5-32.8 0-45.3l-16-16c-12.5-12.5-32.8-12.5-45.3 0l-4 4L330.6 74.6l4-4c12.5-12.5 12.5-32.8 0-45.3l-16-16zm-152 288c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l48 48c12.5 12.5 32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-1.4-1.4L272 285.3 226.7 240 168 298.7l-1.4-1.4z",1,"fa-primary"],["fill","currentColor","d","M318.6 9.4c-12.5-12.5-32.8-12.5-45.3 0l-120 120c-12.5 12.5-12.5 32.8 0 45.3l16 16c12.5 12.5 32.8 12.5 45.3 0l4-4L325.4 293.4l-4 4c-12.5 12.5-12.5 32.8 0 45.3l16 16c12.5 12.5 32.8 12.5 45.3 0l120-120c12.5-12.5 12.5-32.8 0-45.3l-16-16c-12.5-12.5-32.8-12.5-45.3 0l-4 4L330.6 74.6l4-4c12.5-12.5 12.5-32.8 0-45.3l-16-16zm-152 288c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l48 48c12.5 12.5 32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-1.4-1.4L272 285.3 226.7 240 168 298.7l-1.4-1.4z",1,"fa-secondary"],["class","nav-item",3,"click",4,"ngIf"],["id","user-name",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 640 640"],["fill","currentColor","d","M224 160C241.7 160 256 145.7 256 128C256 110.3 241.7 96 224 96L160 96C107 96 64 139 64 192L64 448C64 501 107 544 160 544L224 544C241.7 544 256 529.7 256 512C256 494.3 241.7 480 224 480L160 480C142.3 480 128 465.7 128 448L128 192C128 174.3 142.3 160 160 160L224 160zM566.6 342.6C579.1 330.1 579.1 309.8 566.6 297.3L438.6 169.3C426.1 156.8 405.8 156.8 393.3 169.3C380.8 181.8 380.8 202.1 393.3 214.6L466.7 288L256 288C238.3 288 224 302.3 224 320C224 337.7 238.3 352 256 352L466.7 352L393.3 425.4C380.8 437.9 380.8 458.2 393.3 470.7C405.8 483.2 426.1 483.2 438.6 470.7L566.6 342.7z",1,"fa-primary"],["fill","currentColor","d","M224 160C241.7 160 256 145.7 256 128C256 110.3 241.7 96 224 96L160 96C107 96 64 139 64 192L64 448C64 501 107 544 160 544L224 544C241.7 544 256 529.7 256 512C256 494.3 241.7 480 224 480L160 480C142.3 480 128 465.7 128 448L128 192C128 174.3 142.3 160 160 160L224 160zM566.6 342.6C579.1 330.1 579.1 309.8 566.6 297.3L438.6 169.3C426.1 156.8 405.8 156.8 393.3 169.3C380.8 181.8 380.8 202.1 393.3 214.6L466.7 288L256 288C238.3 288 224 302.3 224 320C224 337.7 238.3 352 256 352L466.7 352L393.3 425.4C380.8 437.9 380.8 458.2 393.3 470.7C405.8 483.2 426.1 483.2 438.6 470.7L566.6 342.7z",1,"fa-secondary"],[1,"super-container"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 640 640",2,"scale","1.5"],["fill","currentColor","d","M320 312C253.7 312 200 258.3 200 192C200 125.7 253.7 72 320 72C386.3 72 440 125.7 440 192C440 258.3 386.3 312 320 312zM289.5 368L350.5 368C360.2 368 368 375.8 368 385.5C368 389.7 366.5 393.7 363.8 396.9L336.4 428.9L367.4 544L368 544L402.6 405.5C404.8 396.8 413.7 391.5 422.1 394.7C484 418.3 528 478.3 528 548.5C528 563.6 515.7 575.9 500.6 575.9L139.4 576C124.3 576 112 563.7 112 548.6C112 478.4 156 418.4 217.9 394.8C226.3 391.6 235.2 396.9 237.4 405.6L272 544.1L272.6 544.1L303.6 429L276.2 397C273.5 393.8 272 389.8 272 385.6C272 375.9 279.8 368.1 289.5 368.1z",1,"fa-primary"],["fill","currentColor","d","M320 312C253.7 312 200 258.3 200 192C200 125.7 253.7 72 320 72C386.3 72 440 125.7 440 192C440 258.3 386.3 312 320 312zM289.5 368L350.5 368C360.2 368 368 375.8 368 385.5C368 389.7 366.5 393.7 363.8 396.9L336.4 428.9L367.4 544L368 544L402.6 405.5C404.8 396.8 413.7 391.5 422.1 394.7C484 418.3 528 478.3 528 548.5C528 563.6 515.7 575.9 500.6 575.9L139.4 576C124.3 576 112 563.7 112 548.6C112 478.4 156 418.4 217.9 394.8C226.3 391.6 235.2 396.9 237.4 405.6L272 544.1L272.6 544.1L303.6 429L276.2 397C273.5 393.8 272 389.8 272 385.6C272 375.9 279.8 368.1 289.5 368.1z",1,"fa-secondary"],["id","user-name"]],template:function(n,r){n&1&&(re(0,"div",0),M(1,"nav",1)(2,"ul",2)(3,"li",3),Q("click",function(){return r.triggerNavbar()}),M(4,"a",4)(5,"span",5)(6,"pre",6),V(7,"Carro 27"),I()(),Ai(),M(8,"svg",7)(9,"g",8),re(10,"path",9)(11,"path",10),I()()()(),Or(),M(12,"div",11)(13,"li",12),Q("click",function(){return r.opened=!1}),M(14,"a",13),Ai(),M(15,"svg",14),re(16,"path",15)(17,"path",16),I(),Or(),M(18,"span",5),V(19,"Quotas"),I()()(),M(20,"li",12),Q("click",function(){return r.opened=!1}),M(21,"a",13),Ai(),M(22,"svg",17),re(23,"path",18)(24,"path",19),I(),Or(),M(25,"span",5),V(26,"Calend\xE1rio"),I()()(),M(27,"li",12),Q("click",function(){return r.openAtas()}),M(28,"a",4),Ai(),M(29,"svg",17),re(30,"path",20)(31,"path",21),I(),Or(),M(32,"span",5),V(33,"Atas"),I()()(),M(34,"li",12),Q("click",function(){return r.opened=!1}),M(35,"a",13),Ai(),M(36,"svg",22),re(37,"path",23)(38,"path",24),I(),Or(),M(39,"span",5),V(40,"Regras"),I()()(),ae(41,jse,7,2,"li",25),M(42,"li",4),ae(43,Use,2,1,"h5",26)(44,Hse,4,1,"h3",26),I(),M(45,"li",12),Q("click",function(){return r.logOut()}),M(46,"a",4),Ai(),M(47,"svg",27),re(48,"path",28)(49,"path",29),I(),Or(),M(50,"span",5),V(51,"LogOut"),I()()()()()(),M(52,"div",30),re(53,"router-outlet"),I()),n&2&&(W("ngStyle",qc(12,W3,r.showNavbar?"block":"none")),T(),de("navbar-opened",r.opened),W("ngStyle",qc(14,W3,r.showNavbar?"block":"none")),T(3),de("navlink-opened",r.opened),T(10),W("routerLink",Lr(16,Fse)),T(7),W("routerLink",Lr(17,Vse)),T(14),W("routerLink",Lr(18,Bse)),T(6),W("ngIf",r.admin),T(2),W("ngIf",!r.opened),T(),W("ngIf",r.opened))},dependencies:[Xo,$l,Kg,w0],styles:[".super-container[_ngcontent-%COMP%]{position:absolute;top:0;left:80px;width:calc(100vw - 90px)}.navbar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:80px;height:100%;background-color:var(--nav-bar-primary);transition:width .2s ease;overflow:hidden;z-index:4;margin-top:0}.navbar[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0;background:transparent}.navbar-nav[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;align-items:center;height:100%}.nav-item[_ngcontent-%COMP%]{width:100%;cursor:pointer}.nav-item[_ngcontent-%COMP%]:last-child{margin-top:auto}#user-name[_ngcontent-%COMP%]{text-align:center;margin:auto;padding:0 5px;font-weight:600}.nav-link[_ngcontent-%COMP%]{display:flex;align-items:center;height:80px;color:var(--text-primary);text-decoration:none;filter:grayscale(100%) opacity(.7);transition:var(--transition-speed);font-family:nav-bar}.navlink-opened[_ngcontent-%COMP%]{filter:grayscale(0%) opacity(1);background-color:var(--nav-bar-hover);color:var(--text-secondary)}.navlink-opened[_ngcontent-%COMP%] + .main-image-text[_ngcontent-%COMP%]{margin-left:160px}.link-text[_ngcontent-%COMP%]{display:none;margin-left:1.7rem;font-family:nav-bar;font-size:27px;margin-right:.5rem}.logo-text[_ngcontent-%COMP%]{font-size:28px}.nav-link[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{min-width:2rem;margin:0 1.5rem;width:2rem}.navbar-opened[_ngcontent-%COMP%]{width:256px;background-color:var(--nav-bar-primary);z-index:2}.navbar-opened[_ngcontent-%COMP%]   .link-text[_ngcontent-%COMP%]{display:block}.logo[_ngcontent-%COMP%]{font-weight:700;text-transform:uppercase;margin-bottom:1rem;text-align:center;color:var(--text-secondary);background:var(--nav-bar-hover);letter-spacing:.3ch;width:100%}.logo[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transform:rotate(0);transition:transform var(--transition-speed)}.navbar-opened[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transform:rotate(-180deg)}.fa-primary[_ngcontent-%COMP%]{color:#94d8fffb}.fa-secondary[_ngcontent-%COMP%]{color:#38b6ff}.fa-primary[_ngcontent-%COMP%], .fa-secondary[_ngcontent-%COMP%]{transition:var(--transition-speed)}  .mdc-text-field--outlined.mdc-text-field:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,   .mdc-text-field--outlined.mdc-text-field:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,   .mdc-text-field--outlined.mdc-text-field:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--text-color)!important}  .mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__input,   .mdc-text-field:not(.mdc-text-field-disabled) .mdc-floating-label{color:var(--text-color)!important}  .mat-mdc-select-value-text{color:var(--text-color)}@media screen and (max-width: 550px),(max-width: 920px) and (orientation: landscape){.super-container[_ngcontent-%COMP%]{position:absolute;top:80px;left:0;width:100vw}.navbar[_ngcontent-%COMP%]{height:80px;width:256px;z-index:11}.navbar-opened[_ngcontent-%COMP%]{height:100%;width:256px;z-index:11}.navbar-background[_ngcontent-%COMP%]{width:100%;height:80px;background-color:var(--nav-bar-hover);position:fixed;top:0;left:0;z-index:10}.logo[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{flex-direction:row-reverse;margin-right:auto}.logo[_ngcontent-%COMP%]   .navlink-opened[_ngcontent-%COMP%]{flex-direction:row-reverse}.link-text[_ngcontent-%COMP%]{display:inline}.nav-item-container[_ngcontent-%COMP%]{overflow:scroll}.nav-item[_ngcontent-%COMP%]{flex-direction:row}}"]})}}return t})();var Gse="@",Wse=(()=>{class t{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=null;injector=_(Ye);loadingSchedulerFn=_($se,{optional:!0});_engine;constructor(e,n,r,a,o){this.doc=e,this.delegate=n,this.zone=r,this.animationType=a,this.moduleImpl=o}ngOnDestroy(){this._engine?.flush()}loadImpl(){let e=()=>this.moduleImpl??import("./chunk-UZZDG6JF.js").then(r=>r),n;return this.loadingSchedulerFn?n=this.loadingSchedulerFn(e):n=e(),n.catch(r=>{throw new gt(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:a})=>{this._engine=r(this.animationType,this.doc);let o=new a(this.delegate,this._engine,this.zone);return this.delegate=o,o})}createRenderer(e,n){let r=this.delegate.createRenderer(e,n);if(r.\u0275type===0)return r;typeof r.throwOnSyntheticProps=="boolean"&&(r.throwOnSyntheticProps=!1);let a=new HT(r);return n?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(o=>{let s=o.createRenderer(e,n);a.use(s),this.scheduler??=this.injector.get(KL,null,{optional:!0}),this.scheduler?.notify(10)}).catch(o=>{a.use(r)}),a}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}componentReplaced(e){this._engine?.flush(),this.delegate.componentReplaced?.(e)}static \u0275fac=function(n){dm()};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})(),HT=class{delegate;replay=[];\u0275type=1;constructor(i){this.delegate=i}use(i){if(this.delegate=i,this.replay!==null){for(let e of this.replay)e(i);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(i,e){return this.delegate.createElement(i,e)}createComment(i){return this.delegate.createComment(i)}createText(i){return this.delegate.createText(i)}get destroyNode(){return this.delegate.destroyNode}appendChild(i,e){this.delegate.appendChild(i,e)}insertBefore(i,e,n,r){this.delegate.insertBefore(i,e,n,r)}removeChild(i,e,n){this.delegate.removeChild(i,e,n)}selectRootElement(i,e){return this.delegate.selectRootElement(i,e)}parentNode(i){return this.delegate.parentNode(i)}nextSibling(i){return this.delegate.nextSibling(i)}setAttribute(i,e,n,r){this.delegate.setAttribute(i,e,n,r)}removeAttribute(i,e,n){this.delegate.removeAttribute(i,e,n)}addClass(i,e){this.delegate.addClass(i,e)}removeClass(i,e){this.delegate.removeClass(i,e)}setStyle(i,e,n,r){this.delegate.setStyle(i,e,n,r)}removeStyle(i,e,n){this.delegate.removeStyle(i,e,n)}setProperty(i,e,n){this.shouldReplay(e)&&this.replay.push(r=>r.setProperty(i,e,n)),this.delegate.setProperty(i,e,n)}setValue(i,e){this.delegate.setValue(i,e)}listen(i,e,n,r){return this.shouldReplay(e)&&this.replay.push(a=>a.listen(i,e,n,r)),this.delegate.listen(i,e,n,r)}shouldReplay(i){return this.replay!==null&&i.startsWith(Gse)}},$se=new G("");function Y3(t="animations"){return fu("NgAsyncAnimations"),fo([{provide:gr,useFactory:(i,e,n)=>new Wse(i,e,n,t),deps:[He,Rg,Ce]},{provide:Ut,useValue:t==="noop"?"NoopAnimations":"BrowserAnimations"}])}function Yse(t){let i=t,e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length,r=parseInt(t.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return e===Math.floor(e)&&e>=0&&e<=1?1:r===0&&e!==0&&e%1e6===0&&n===0||!(r>=0&&r<=5)?4:5}var K3=["pt-PT",[["a.m.","p.m."],void 0,["da manh\xE3","da tarde"]],[["a.m.","p.m."],void 0,["manh\xE3","tarde"]],[["D","S","T","Q","Q","S","S"],["domingo","segunda","ter\xE7a","quarta","quinta","sexta","s\xE1bado"],["domingo","segunda-feira","ter\xE7a-feira","quarta-feira","quinta-feira","sexta-feira","s\xE1bado"],["dom.","seg.","ter.","qua.","qui.","sex.","s\xE1b."]],void 0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["jan.","fev.","mar.","abr.","mai.","jun.","jul.","ago.","set.","out.","nov.","dez."],["janeiro","fevereiro","mar\xE7o","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]],void 0,[["a.C.","d.C."],void 0,["antes de Cristo","depois de Cristo"]],0,[6,0],["dd/MM/yy","dd/MM/y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",void 0,"{1} '\xE0s' {0}",void 0],[",","\xA0",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","#,##0.00\xA0\xA4","#E0"],"EUR","\u20AC","euro",{AUD:["AU$","$"],BYN:[void 0,"\u0440."],JPY:["JP\xA5","\xA5"],PHP:[void 0,"\u20B1"],PTE:["\u200B"],RON:[void 0,"L"],THB:["\u0E3F"],TWD:["NT$"],USD:["US$","$"]},"ltr",Yse];var q3={apiKey:"AIzaSyBAagiRld7BvSmCA76J3rpvugCr2DBXaWM",authDomain:"carro27-97f28.firebaseapp.com",projectId:"carro27-97f28",storageBucket:"carro27-97f28.firebasestorage.app",messagingSenderId:"1061087888253",appId:"1:1061087888253:web:d81bd762b515cdd9c90214",measurementId:"G-3RJN65LJW2",databaseURL:"https://carro27-97f28-default-rtdb.europe-west1.firebasedatabase.app/"};var Kse=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/,qse=/^(\d?\d)[:.](\d?\d)(?:[:.](\d?\d))?\s*(AM|PM)?$/i;function GT(t,i){let e=Array(t);for(let n=0;n<t;n++)e[n]=i(n);return e}var Zse=(()=>{class t extends Kn{useUtcForDisplay=!1;_matDateLocale=_(xT,{optional:!0});constructor(){super();let e=_(xT,{optional:!0});e!==void 0&&(this._matDateLocale=e),super.setLocale(this._matDateLocale)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){let n=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return GT(12,r=>this._format(n,new Date(2017,r,1)))}getDateNames(){let e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return GT(31,n=>this._format(e,new Date(2017,0,n+1)))}getDayOfWeekNames(e){let n=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return GT(7,r=>this._format(n,new Date(2017,0,r+1)))}getYearName(e){let n=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(n,e)}getFirstDayOfWeek(){if(typeof Intl<"u"&&Intl.Locale){let e=new Intl.Locale(this.locale),n=(e.getWeekInfo?.()||e.weekInfo)?.firstDay??0;return n===7?0:n}return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,n,r){let a=this._createDateWithOverflow(e,n,r);return a.getMonth()!=n,a}today(){return new Date}parse(e,n){return typeof e=="number"?new Date(e):e?new Date(Date.parse(e)):null}format(e,n){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");let r=new Intl.DateTimeFormat(this.locale,S(f({},n),{timeZone:"utc"}));return this._format(r,e)}addCalendarYears(e,n){return this.addCalendarMonths(e,n*12)}addCalendarMonths(e,n){let r=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+n,this.getDate(e));return this.getMonth(r)!=((this.getMonth(e)+n)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(e,n){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+n)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if(typeof e=="string"){if(!e)return null;if(Kse.test(e)){let n=new Date(e);if(this.isValid(n))return n}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}setTime(e,n,r,a){let o=this.clone(e);return o.setHours(n,r,a,0),o}getHours(e){return e.getHours()}getMinutes(e){return e.getMinutes()}getSeconds(e){return e.getSeconds()}parseTime(e,n){if(typeof e!="string")return e instanceof Date?new Date(e.getTime()):null;let r=e.trim();if(r.length===0)return null;let a=this._parseTimeString(r);if(a===null){let o=r.replace(/[^0-9:(AM|PM)]/gi,"").trim();o.length>0&&(a=this._parseTimeString(o))}return a||this.invalid()}addSeconds(e,n){return new Date(e.getTime()+n*1e3)}_createDateWithOverflow(e,n,r){let a=new Date;return a.setFullYear(e,n,r),a.setHours(0,0,0,0),a}_2digit(e){return("00"+e).slice(-2)}_format(e,n){let r=new Date;return r.setUTCFullYear(n.getFullYear(),n.getMonth(),n.getDate()),r.setUTCHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),e.format(r)}_parseTimeString(e){let n=e.toUpperCase().match(qse);if(n){let r=parseInt(n[1]),a=parseInt(n[2]),o=n[3]==null?void 0:parseInt(n[3]),s=n[4];if(r===12?r=s==="AM"?0:r:s==="PM"&&(r+=12),WT(r,0,23)&&WT(a,0,59)&&(o==null||WT(o,0,59)))return this.setTime(this.today(),r,a,o||0)}return null}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})();function WT(t,i,e){return!isNaN(t)&&t>=i&&t<=e}var Qse={parse:{dateInput:null,timeInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},timeInput:{hour:"numeric",minute:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"},timeOptionLabel:{hour:"numeric",minute:"numeric"}}};function Z3(t=Qse){return[{provide:Kn,useClass:Zse},{provide:ys,useValue:t}]}var Xse=["input"],Jse=["label"],ele=["*"],tle=new G("mat-checkbox-default-options",{providedIn:"root",factory:X3});function X3(){return{color:"accent",clickAction:"check-indeterminate",disabledInteractive:!1}}var zr=function(t){return t[t.Init=0]="Init",t[t.Checked=1]="Checked",t[t.Unchecked=2]="Unchecked",t[t.Indeterminate=3]="Indeterminate",t}(zr||{}),ile={provide:bs,useExisting:Rr(()=>J3),multi:!0},$T=class{source;checked},Q3=X3(),J3=(()=>{class t{_elementRef=_(me);_changeDetectorRef=_(et);_ngZone=_(Ce);_animationMode=_(Ut,{optional:!0});_options=_(tle,{optional:!0});focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(e){let n=new $T;return n.source=this,n.checked=e,n}_getAnimationTargetElement(){return this._inputElement?.nativeElement}_animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"};ariaLabel="";ariaLabelledby=null;ariaDescribedby;ariaExpanded;ariaControls;ariaOwns;_uniqueId;id;get inputId(){return`${this.id||this._uniqueId}-input`}required;labelPosition="after";name=null;change=new ie;indeterminateChange=new ie;value;disableRipple;_inputElement;_labelElement;tabIndex;color;disabledInteractive;_onTouched=()=>{};_currentAnimationClass="";_currentCheckState=zr.Init;_controlValueAccessorChangeFn=()=>{};_validatorChangeFn=()=>{};constructor(){_(hi).load(lr);let e=_(new fr("tabindex"),{optional:!0});this._options=this._options||Q3,this.color=this._options.color||Q3.color,this.tabIndex=e==null?0:parseInt(e)||0,this.id=this._uniqueId=_(Kt).getId("mat-mdc-checkbox-"),this.disabledInteractive=this._options?.disabledInteractive??!1}ngOnChanges(e){e.required&&this._validatorChangeFn()}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(e){e!=this.checked&&(this._checked=e,this._changeDetectorRef.markForCheck())}_checked=!1;get disabled(){return this._disabled}set disabled(e){e!==this.disabled&&(this._disabled=e,this._changeDetectorRef.markForCheck())}_disabled=!1;get indeterminate(){return this._indeterminate}set indeterminate(e){let n=e!=this._indeterminate;this._indeterminate=e,n&&(this._indeterminate?this._transitionCheckState(zr.Indeterminate):this._transitionCheckState(this.checked?zr.Checked:zr.Unchecked),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_indeterminate=!1;_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}validate(e){return this.required&&e.value!==!0?{required:!0}:null}registerOnValidatorChange(e){this._validatorChangeFn=e}_transitionCheckState(e){let n=this._currentCheckState,r=this._getAnimationTargetElement();if(!(n===e||!r)&&(this._currentAnimationClass&&r.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(n,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){r.classList.add(this._currentAnimationClass);let a=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{r.classList.remove(a)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){let e=this._options?.clickAction;!this.disabled&&e!=="noop"?(this.indeterminate&&e!=="check"&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?zr.Checked:zr.Unchecked),this._emitChangeEvent()):(this.disabled&&this.disabledInteractive||!this.disabled&&e==="noop")&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate)}_onInteractionEvent(e){e.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(e,n){if(this._animationMode==="NoopAnimations")return"";switch(e){case zr.Init:if(n===zr.Checked)return this._animationClasses.uncheckedToChecked;if(n==zr.Indeterminate)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case zr.Unchecked:return n===zr.Checked?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case zr.Checked:return n===zr.Unchecked?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case zr.Indeterminate:return n===zr.Checked?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(e){let n=this._inputElement;n&&(n.nativeElement.indeterminate=e)}_onInputClick(){this._handleInputClick()}_onTouchTargetClick(){this._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(e){e.target&&this._labelElement.nativeElement.contains(e.target)&&e.stopPropagation()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=X({type:t,selectors:[["mat-checkbox"]],viewQuery:function(n,r){if(n&1&&(Ke(Xse,5),Ke(Jse,5)),n&2){let a;pe(a=fe())&&(r._inputElement=a.first),pe(a=fe())&&(r._labelElement=a.first)}},hostAttrs:[1,"mat-mdc-checkbox"],hostVars:16,hostBindings:function(n,r){n&2&&(Ca("id",r.id),Ee("tabindex",null)("aria-label",null)("aria-labelledby",null),zn(r.color?"mat-"+r.color:"mat-accent"),de("_mat-animation-noopable",r._animationMode==="NoopAnimations")("mdc-checkbox--disabled",r.disabled)("mat-mdc-checkbox-disabled",r.disabled)("mat-mdc-checkbox-checked",r.checked)("mat-mdc-checkbox-disabled-interactive",r.disabledInteractive))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],ariaExpanded:[2,"aria-expanded","ariaExpanded",J],ariaControls:[0,"aria-controls","ariaControls"],ariaOwns:[0,"aria-owns","ariaOwns"],id:"id",required:[2,"required","required",J],labelPosition:"labelPosition",name:"name",value:"value",disableRipple:[2,"disableRipple","disableRipple",J],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?void 0:Nr(e)],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",J],checked:[2,"checked","checked",J],disabled:[2,"disabled","disabled",J],indeterminate:[2,"indeterminate","indeterminate",J]},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[Ue([ile,{provide:_l,useExisting:t,multi:!0}]),_t],ngContentSelectors:ele,decls:15,vars:23,consts:[["checkbox",""],["input",""],["label",""],["mat-internal-form-field","",3,"click","labelPosition"],[1,"mdc-checkbox"],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"blur","click","change","checked","indeterminate","disabled","id","required","tabIndex"],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"]],template:function(n,r){if(n&1){let a=Rt();ut(),M(0,"div",3),Q("click",function(s){return ye(a),ve(r._preventBubblingFromLabel(s))}),M(1,"div",4,0)(3,"div",5),Q("click",function(){return ye(a),ve(r._onTouchTargetClick())}),I(),M(4,"input",6,1),Q("blur",function(){return ye(a),ve(r._onBlur())})("click",function(){return ye(a),ve(r._onInputClick())})("change",function(s){return ye(a),ve(r._onInteractionEvent(s))}),I(),re(6,"div",7),M(7,"div",8),Ai(),M(8,"svg",9),re(9,"path",10),I(),Or(),re(10,"div",11),I(),re(11,"div",12),I(),M(12,"label",13,2),Ie(14),I()()}if(n&2){let a=ar(2);W("labelPosition",r.labelPosition),T(4),de("mdc-checkbox--selected",r.checked),W("checked",r.checked)("indeterminate",r.indeterminate)("disabled",r.disabled&&!r.disabledInteractive)("id",r.inputId)("required",r.required)("tabIndex",r.disabled&&!r.disabledInteractive?-1:r.tabIndex),Ee("aria-label",r.ariaLabel||null)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby)("aria-checked",r.indeterminate?"mixed":null)("aria-controls",r.ariaControls)("aria-disabled",r.disabled&&r.disabledInteractive?!0:null)("aria-expanded",r.ariaExpanded)("aria-owns",r.ariaOwns)("name",r.name)("value",r.value),T(7),W("matRippleTrigger",a)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),T(),W("for",r.inputId)}},dependencies:[ms,WC],styles:[`.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom;padding:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);margin:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox:hover>.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox:hover>.mat-mdc-checkbox-ripple>.mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus+.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox:active>.mdc-checkbox__native-control+.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:active>.mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked+.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity));background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked+.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity));background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:active>.mdc-checkbox__native-control:checked+.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox:active>.mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control+.mdc-checkbox__ripple{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox .mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1;width:var(--mdc-checkbox-state-layer-size, 40px);height:var(--mdc-checkbox-state-layer-size, 40px);top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox--disabled{cursor:default;pointer-events:none}@media(forced-colors: active){.mdc-checkbox--disabled{opacity:.5}}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1);-webkit-print-color-adjust:exact;color-adjust:exact;border-color:var(--mdc-checkbox-unselected-icon-color, var(--mat-sys-on-surface-variant));top:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2)}.mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color, var(--mat-sys-primary));background-color:var(--mdc-checkbox-selected-icon-color, var(--mat-sys-primary))}.mdc-checkbox--disabled .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-checkbox__native-control:disabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:disabled:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:rgba(0,0,0,0)}.mdc-checkbox:hover>.mdc-checkbox__native-control:not(:checked)~.mdc-checkbox__background,.mdc-checkbox:hover>.mdc-checkbox__native-control:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mat-sys-on-surface));background-color:rgba(0,0,0,0)}.mdc-checkbox:hover>.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox:hover>.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-sys-primary));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-sys-primary))}.mdc-checkbox__native-control:focus:focus:not(:checked)~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mat-sys-on-surface))}.mdc-checkbox__native-control:focus:focus:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-sys-primary));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-sys-primary))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox:hover>.mdc-checkbox__native-control~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:rgba(0,0,0,0)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms cubic-bezier(0.4, 0, 0.6, 1);color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-sys-on-primary))}@media(forced-colors: active){.mdc-checkbox__checkmark{color:CanvasText}}.mdc-checkbox--disabled .mdc-checkbox__checkmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-sys-surface))}@media(forced-colors: active){.mdc-checkbox--disabled .mdc-checkbox__checkmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:CanvasText}}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);border-color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-sys-on-primary))}@media(forced-colors: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled .mdc-checkbox__mixedmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-sys-surface))}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background>.mdc-checkbox__checkmark>.mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background>.mdc-checkbox__checkmark>.mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control:checked~.mdc-checkbox__background>.mdc-checkbox__checkmark{transition:opacity 180ms cubic-bezier(0, 0, 0.2, 1),transform 180ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background>.mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background>.mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background>.mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mat-mdc-checkbox-touch-target,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__native-control,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__ripple,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mat-mdc-checkbox-ripple::before,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__background,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__background>.mdc-checkbox__checkmark,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__background>.mdc-checkbox__checkmark>.mdc-checkbox__checkmark-path,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__background>.mdc-checkbox__mixedmark{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox .mat-internal-form-field{color:var(--mat-checkbox-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-checkbox-label-text-font, var(--mat-sys-body-medium-font));line-height:var(--mat-checkbox-label-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-checkbox-label-text-size, var(--mat-sys-body-medium-size));letter-spacing:var(--mat-checkbox-label-text-tracking, var(--mat-sys-body-medium-tracking));font-weight:var(--mat-checkbox-label-text-weight, var(--mat-sys-body-medium-weight))}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive{pointer-events:auto}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive input{cursor:default}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default;color:var(--mat-checkbox-disabled-label-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-checkbox label:empty{display:none}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox .mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox .mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-checkbox-touch-target-display, block)}.mat-mdc-checkbox .mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-focus-indicator::before{content:""}
`],encapsulation:2,changeDetection:0})}return t})();var eU=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Se({type:t});static \u0275inj=De({imports:[J3,Qe,Qe]})}return t})();var nle=Object.defineProperty,rU=(t,i)=>{for(var e in i)nle(t,e,{get:i[e],enumerable:!0})},z={};rU(z,{error:()=>aU,errorOnce:()=>ole,log:()=>rle,logGroup:()=>lle,reset:()=>sle,table:()=>ale,warn:()=>KT,warnOnce:()=>Dy});var YT=new Set;function rle(...t){console.log(...t)}function KT(t,...i){console.warn(`AG Charts - ${t}`,...i)}function aU(t,...i){typeof t=="object"?console.error("AG Charts error",t,...i):console.error(`AG Charts - ${t}`,...i)}function ale(...t){console.table(...t)}function oU(t,i,e){let n;t instanceof Error?n=t.message:typeof t=="string"?n=t:typeof t=="object"?n=JSON.stringify(t):n=String(t);let r=`${i}: ${n}`;YT.has(r)||(e(t),YT.add(r))}function Dy(t,...i){oU(t,"Logger.warn",e=>KT(e,...i))}function ole(t,...i){oU(t,"Logger.error",e=>aU(e,...i))}function sle(){YT.clear()}function lle(t,i){console.groupCollapsed(t);try{return i()}finally{console.groupEnd()}}var dr={};rU(dr,{detectChartDefinition:()=>mle,getAxisModule:()=>ple,getPresetModule:()=>fle,getSeriesModule:()=>gle,hasModule:()=>ule,listModulesByType:()=>hle,register:()=>sU,registerMany:()=>cle,reset:()=>dle});var Iy=(t=>(t.Axis="axis",t.Chart="chart",t.Preset="preset",t.Plugin="plugin",t.Series="series",t))(Iy||{}),xl=new Map;function sU(t,i){let{def:e,version:n}=xl.get(t.name)??{};if(!e){xl.set(t.name,{def:t,version:i});return}if(!e.enterprise&&t.enterprise&&i===n){xl.set(t.name,{def:t,version:i});return}if(n===i){KT([`AG Charts - Module '${t.name}' already registered,',
                'ignoring (version: ${n}).`,"Check your code for duplicate loading of charts NPM modules."].join(" "));return}throw new Error([`AG Charts - Module '${t.name}' already registered with different version:`,`${n} vs ${i}`,"","Check your package.json for conflicting dependencies - depending on your package manager","one of these commands may help:","- npm ls ag-charts-community","- yarn why ag-charts-community"].join(`
`))}function cle(t,i){for(let e of t)sU(e,i)}function dle(){xl.clear()}function ule(t){return xl.has(t)}function*hle(t){for(let i of xl.values())ky(t,i.def)&&(yield i.def)}function mle(t){for(let i of xl.values())if(ky("chart",i.def)&&i.def.detect(t))return i.def;throw new Error("AG Charts - Unknown chart type; Check options are correctly structured and series types are specified")}function ple(t){let i=xl.get(t);if(ky("axis",i?.def))return i?.def}function fle(t){let i=xl.get(t);if(ky("preset",i?.def))return i?.def}function gle(t){let i=xl.get(t);if(ky("series",i?.def))return i?.def}function ky(t,i){return i?.type===t}var jr=class{constructor(){this.events=new Map}on(t,i){return this.events.has(t)||this.events.set(t,new Set),this.events.get(t)?.add(i),()=>this.off(t,i)}off(t,i){let e=this.events.get(t);e&&(e.delete(i),e.size===0&&this.events.delete(t))}emit(t,i){this.events.get(t)?.forEach(e=>e(i))}clear(t){t?this.events.delete(t):this.events.clear()}},Cl={};typeof window<"u"?Cl.window=window:typeof global<"u"&&(Cl.window=global.window);typeof document<"u"?Cl.document=document:typeof global<"u"&&(Cl.document=global.document);function Ur(t){return t?Cl.document?.[t]:Cl.document}function tt(t){return t?Cl.window?.[t]:Cl.window}function lU(t){Cl.document=t}function cU(t){Cl.window=t}function Ne(t,i,e){let n=Ur().createElement(t);if(typeof i=="object"&&(e=i,i=void 0),i)for(let r of i.split(" "))n.classList.add(r);return e&&Object.assign(n.style,e),n}function Qt(t){return Ur().createElementNS("http://www.w3.org/2000/svg",t)}function dU(t,i){let e=Ur("body"),n=Ne("a",{display:"none"});n.href=t,n.download=i,e.appendChild(n),n.click(),setTimeout(()=>e.removeChild(n))}function Wt(t,i,e,n){return t.addEventListener(i,e,n),()=>t.removeEventListener(i,e,n)}var QC;function ble(t){if(QC==null){let i=tt("Option");QC=new i().style}return QC.color=t,QC.color||null}function ch(t){return t!=null}function Xe(t){return Array.isArray(t)}function yle(t){return typeof t=="boolean"}function hc(t){return t instanceof Date}function iw(t){return hc(t)&&!isNaN(Number(t))}function uU(t){return t instanceof RegExp}function vs(t){return typeof t=="function"}function qt(t){return typeof t=="object"&&t!==null&&!Xe(t)}function dh(t){return Xe(t)||bt(t)}function bt(t){return typeof t=="object"&&t!==null&&t.constructor?.name==="Object"}function nw(t){if(typeof t!="object"||t===null)return!1;for(let i in t)return!1;return!0}function Gi(t){return typeof t=="string"}function uh(t){return typeof t=="number"}function Tt(t){return Number.isFinite(t)}function hU(t){return typeof window<"u"&&t instanceof HTMLElement}function Hp(t){return typeof t=="symbol"}function vle(t){return Gi(t)&&(t==="none"||ble(t)!=null)}function qT(t,i,e){let{leading:n=!0,trailing:r=!0}=e??{},a,o,s=!1;function l(){r&&o?(a=setTimeout(l,i),t(...o)):s=!1,o=null}function c(...d){s?o=d:(s=!0,a=setTimeout(l,i),n?t(...d):o=d)}return Object.assign(c,{cancel(){clearTimeout(a),s=!1,o=null}})}function mU(t,i,e=""){try{return t(...i)}catch(n){let r=e?` \`${e}\``:"";Dy(`Uncaught exception in user callback${r}`,n)}}function Gp(t,i="and",e=String,n=1/0){if(t.length===0)return"";if(t.length===1)return e(t[0]);t=t.map(e);let r=t.pop();if(t.length>=n){let a=t.length-(n-1);return`${t.slice(0,n-1).join(", ")}, and ${a} more ${i} ${r}`}return`${t.join(", ")} ${i} ${r}`}function ZT(t,i=1/0){if(typeof t=="number"){if(isNaN(t))return"NaN";if(t===1/0)return"Infinity";if(t===-1/0)return"-Infinity"}let e=JSON.stringify(t)??typeof t;return e.length>i?`${e.slice(0,i)}... (+${e.length-i} characters)`:e}function pU(t){let i=1;for(let e=0;e<t.length;e++)t.charCodeAt(e)===10&&i++;return i}function _le(t,i){if(t===i)return 0;let[e,n]=t.length<i.length?[t,i]:[i,t],r=e.length,a=n.length,o=new Array(r+1).fill(0).map((l,c)=>c),s=new Array(r+1);for(let l=1;l<=a;l++){s[0]=l;for(let c=1;c<=r;c++){let d=n[l-1]===e[c-1]?0:1;s[c]=Math.min(o[c]+1,s[c-1]+1,o[c-1]+d)}[o,s]=[s,o]}return o[r]}function fU(t){return t.replace(xle,(i,e)=>(e>0?"-":"")+i.toLowerCase())}var xle=/[A-Z]+(?![a-z])|[A-Z]/g;function Ay(t){return Xe(t)?t.map(i=>i.text).join(""):t??""}var no=Symbol("description"),gU=Symbol("required"),ew=Symbol("marked"),bU=Symbol("undocumented"),Sy=Symbol("union"),Cle=[["placement","position"],["padding","spacing","gap"],["color","fill","stroke"],["whisker","wick"],["nodeClick","seriesNodeClick"],["nodeDoubleClick","seriesNodeDoubleClick"],["src","url"]].reduce((t,i)=>{for(let e of i)t.set(e.toLowerCase(),new Set(i.filter(n=>n!==e)));return t},new Map),rw=(t=>(t.Invalid="invalid",t.Required="required",t.Unknown="unknown",t))(rw||{});function My(t,i){return Tt(i)?`${t}[${i}]`:t?`${t}.${i}`:i}var uc=class{constructor(t,i,e,n,r){this.type=t,this.description=i,this.value=e,this.path=n,this.key=r}setUnionType(t,i){if(this.path.startsWith(i)){let e=this.path.slice(i.length);this.altPath=`${i}[type=${t}]${e}`}}getPrefix(){let{altPath:t=this.path,key:i}=this;return!t&&!i?"Value":`Option \`${i?My(t,i):t}\``}toString(){let{description:t="unknown",type:i,value:e}=this;return i==="required"&&e==null?`${this.getPrefix()} is required and has not been provided; expecting ${t}, ignoring.`:`${this.getPrefix()} cannot be set to \`${ZT(e,50)}\`; expecting ${t}, ignoring.`}},aw=class extends uc{constructor(t,i,e,n){super("unknown",void 0,i,e,n),this.suggestions=t,this.key=n}getPrefix(){return`Unknown option \`${My(this.altPath??this.path,this.key)}\``}getPostfix(){let t=Gp(wle(this.key,this.suggestions),"or",i=>`\`${i}\``);return t?`; Did you mean ${t}? Ignoring.`:", ignoring."}toString(){return`${this.getPrefix()}${this.getPostfix()}`}};function mn(t,i,e=""){if(!qt(t))return{cleared:null,invalid:[new uc("required","an object",t,e)]};let n={},r=[],a=new Set(Object.keys(t)),o=[];if(Sy in i){let l=Object.keys(i),c=i[Sy];if(t.type!=null&&l.includes(t.type)||t.type==null&&c!=null){let s=t,{type:d=c}=s,u=ci(s,["type"]),h=mn(u,i[d],e);Object.assign(n,{type:d},h.cleared);for(let m of h.invalid)m.setUnionType(d,e);r.push(...h.invalid)}else{let d=Gp(l,"or",u=>`'${u}'`);r.push(new uc("required",`a keyword such as ${d}`,t.type,e,"type"))}return{cleared:n,invalid:r}}for(let l of Object.keys(i)){let c=i[l],d=c[gU],u=t[l];if(a.delete(l),typeof u>"u"&&(c[bU]||o.push(l),!d))continue;let h=My(e,l);if(vs(c)){let p=c(u,{options:t,path:h});if(typeof p=="object"){if(r.push(...p.invalid),p.valid){n[l]=p.cleared;continue}else if(fh(p.invalid,h))continue}else if(p){n[l]=u;continue}r.push(new uc(d?"required":"invalid",c[no],u,e,l))}else{let m=mn(u,c,h);m.cleared!=null&&(n[l]=m.cleared),r.push(...m.invalid)}}for(let l of a){let c=t[l];typeof c>"u"||r.push(new aw(o,c,e,l))}return{cleared:n,invalid:r}}function wle(t,i,e=2){let n=[],r=t.toLowerCase(),a=Cle.get(r);for(let o of i){let s=o.toLowerCase();(a?.has(o)||s.includes(r)||_le(r,s)<=e)&&n.push(o)}return n}function Ot(t,i){if(vs(t)){let n=function(r,a){return t(r,a)};var e=n;return n[no]=i,n}else return S(f({},t),{[no]:i})}function le(t){return Object.assign(vs(t)?(i,e)=>t(i,e):zi(t),{[gU]:!0,[no]:t[no]})}function ze(t){return Object.assign(vs(t)?(i,e)=>t(i,e):zi(t),{[bU]:!0,[no]:t[no]})}var zi=(t,i="an object")=>Ot((e,n)=>{let r=mn(e,t,n.path);return{valid:!fh(r.invalid,n.path),cleared:r.cleared,invalid:r.invalid}},i),hh=(t,i,e)=>S(f({},t),{[no]:i,[Sy]:e}),oi=(...t)=>Ot((i,e)=>{let n=[];for(let r of t){let a=r(i,e);if(typeof a=="object"){if(n.push(...a.invalid),!a.valid)return{valid:!1,cleared:i,invalid:n};i=a.cleared}else if(!a)return!1}return{valid:!0,cleared:i,invalid:n}},t.map(i=>i[no]).filter(Boolean).join(" and ")),$e=(...t)=>Ot((i,e)=>{for(let n of t){let r=n(i,e);if(typeof r=="object"?r.valid:r)return r}return!1},t.map(i=>i[no]).filter(Boolean).join(" or ")),tw=t=>Tt(t)||iw(t),Dle=t=>hc(t)||(Tt(t)||Gi(t))&&iw(new Date(t)),pa=Ot(Xe,"an array"),R=Ot(yle,"a boolean"),zt=Ot(vs,"a function"),se=Ot(vle,"a color string"),Eo=Ot(Dle,"a date"),Be=Ot(ch,"a defined value"),j=Ot(Tt,"a number"),mh=Ot(qt,"an object"),B=Ot(Gi,"a string"),ow=Ot(t=>typeof HTMLElement>"u"||t instanceof HTMLElement,"an html element"),_s=(t,i=1/0)=>{let e;return i===1/0?e=`an array of at least ${t} items`:t===i?e=`an array of exactly ${t} items`:t===0?e=`an array of no more than ${i} items`:e=`an array of at least ${t} and no more than ${i} items`,Ot(n=>Xe(n)&&n.length>=t&&n.length<=i,e)},yU=(t,i=1/0)=>{let e;return i===1/0?e=`a string of at least ${t} characters`:t===i?e=`an string of exactly ${t} characters`:t===0?e=`an string of no more than ${i} characters`:e=`an string of at least ${t} and no more than ${i} characters`,Ot(n=>Gi(n)&&n.length>=t&&n.length<=i,e)},vU=(t,i=!0)=>Ot(e=>Tt(e)&&(e>t||i&&e===t),`a number greater than ${i?"or equal to ":""}${t}`),Sle=(t,i)=>Ot(e=>Tt(e)&&e>=t&&e<=i,`a number between ${t} and ${i} inclusive`),O=vU(0),ph=vU(0,!1),Me=Sle(0,1),fa=t=>Ot((i,{options:e})=>!tw(i)||!tw(e[t])||i<e[t],`the value to be less than \`${t}\``),ga=t=>Ot((i,{options:e})=>!tw(i)||!tw(e[t])||i>e[t],`the value to be greater than \`${t}\``);function K(...t){qt(t[0])&&(t=Object.values(t[0]));let i=Gp(t,"or",e=>`'${e}'`);return Ot(e=>t.includes(e),`a keyword such as ${i}`)}var Lt=t=>Ot(i=>t===i,`the value ${JSON.stringify(t)}`);var Le=(t,i,e=!0)=>Ot((n,r)=>{if(!Xe(n))return!1;let a=e,o=[],s=[],l=c=>a=e?a&&c:a||c;if(n.length===0)return{valid:!0,cleared:o,invalid:s};for(let c=0;c<n.length;c++){let d=n[c],u=t(d,{options:d,path:`${r.path}[${c}]`});typeof u=="object"?(a=l(u.valid),s.push(...u.invalid),u.cleared!=null&&o.push(u.cleared)):(a=l(u),u&&o.push(d))}return{valid:a,cleared:a||!e?o:null,invalid:s}},i??`${t[no]} array`),ji=(t,i="an object array")=>Ot((e,n)=>{if(!Xe(e))return!1;let r=[],a=[];for(let o=0;o<e.length;o++){let s=`${n.path}[${o}]`,l=mn(e[o],t,s);fh(l.invalid,s)||r.push(l.cleared),a.push(...l.invalid)}return{valid:!0,cleared:r,invalid:a}},i),mc=(t,i)=>Ot((e,n)=>vs(e)?ew in e?!0:{valid:!0,cleared:Object.assign((...a)=>{let o=mU(e,a);if(o==null)return;let s=t(o,{options:o,path:""});if(typeof s=="object"){if(s.invalid.forEach(_U(n,i??t[no])),s.valid)return s.cleared}else{if(s)return o;Dy(`Callback \`${n.path}\` returned an invalid value \`${ZT(o,50)}\`; expecting ${i??t[no]}, ignoring.`)}},{[ew]:!0}),invalid:[]}:!1,"a function"),si=(t,i="an object")=>Ot((e,n)=>vs(e)?ew in e?!0:{valid:!0,cleared:Object.assign((...a)=>{let o=mU(e,a,n.path);if(o==null)return;let s=mn(o,t);return s.invalid.forEach(_U(n,i)),s.cleared},{[ew]:!0}),invalid:[]}:!1,"a function");function fh(t,i){return t.some(e=>e.type==="required"&&e.path===i)}function _U(t,i){return e=>{if(e instanceof aw)return Dy(`Callback \`${t.path}\` returned an unknown property \`${My(e.path,e.key)}\`${e.getPostfix()}`);let n=ZT(e.value,50);Dy(e.key?`Callback \`${t.path}\` returned an invalid property \`${My(e.path,e.key)}\`: \`${n}\`; expecting ${e.description}, ignoring.`:`Callback \`${t.path}\` returned an invalid value \`${n}\`; expecting ${i??e.description}, ignoring.`)}}var Wp=t=>{if(!qt(t))return!1;let i=Object.keys(t);return i.length===1&&i[0].startsWith("$")},Mle=zi({color:se,stop:Me},""),QT=Ot(t=>{let i=-1/0;for(let e of t)if(e?.stop!=null){if(e.stop<i)return!1;i=e.stop}return!0},"color stops to be defined in ascending order"),XT=oi(_s(2),Le(Mle),QT),JT=K("axis","item","series"),sw=zi({type:le(Lt("gradient")),colorStops:le(XT),rotation:j,gradient:ze(K("linear","radial","conic")),bounds:ze(JT),reverse:ze(R)},"a gradient object with color stops"),Z={stroke:se,strokeWidth:O,strokeOpacity:Me},Ile=zi({type:le(Lt("gradient")),gradient:le(K("linear","radial","conic")),bounds:le(JT),colorStops:le($e(XT,oi(_s(2),Le(se)))),rotation:le(j),reverse:le(R)}),kle=zi({type:le(Lt("pattern")),pattern:le(K("vertical-lines","horizontal-lines","forward-slanted-lines","backward-slanted-lines","circles","squares","triangles","diamonds","stars","hearts","crosses")),path:yU(2),width:le(O),height:le(O),fill:le(se),fillOpacity:le(Me),backgroundFill:le(se),backgroundFillOpacity:le(Me),padding:le(O),rotation:le(j),scale:le(O),stroke:le(se),strokeWidth:le(O),strokeOpacity:le(Me)}),Ale=zi({type:le(Lt("image")),url:B,width:O,height:O,rotation:le(j),backgroundFill:le(se),backgroundFillOpacity:Me,fit:le(K("stretch","contain","cover")),repeat:le(K("repeat","repeat-x","repeat-y","no-repeat"))}),Ele=hh({gradient:{colorStops:XT,rotation:j,gradient:ze(K("linear","radial","conic")),bounds:ze(JT),reverse:ze(R)},pattern:S(f({pattern:K("vertical-lines","horizontal-lines","forward-slanted-lines","backward-slanted-lines","circles","squares","triangles","diamonds","stars","hearts","crosses"),path:yU(2),width:O,height:O,rotation:j,scale:O,fill:se,fillOpacity:Me,backgroundFill:se,backgroundFillOpacity:Me},Z),{padding:ze(O)}),image:{url:le(B),backgroundFill:se,backgroundFillOpacity:Me,width:O,height:O,fit:K("stretch","contain","cover","none"),repeat:K("repeat","repeat-x","repeat-y","no-repeat"),rotation:j}},"a color object"),Hr=$e(se,zi(Ele,"a color object")),ce={fill:Hr,fillOpacity:Me};ce.fillGradientDefaults=ze(Ile);ce.fillPatternDefaults=ze(kle);ce.fillImageDefaults=ze(Ale);var _e={lineDash:Le(O),lineDashOffset:j},To=S(f(f(f({},ce),Z),_e),{opacity:Me,cornerRadius:O}),pc=S(f(f({},Z),_e),{opacity:Me}),ti=S(f(f(f({},ce),Z),_e),{opacity:Me});function lw(t){return{enabled:R,range:K("tooltip","node"),highlightedItem:t,unhighlightedItem:t}}function fi(t,i){return{enabled:R,range:K("tooltip","node"),highlightedItem:t,unhighlightedItem:t,highlightedSeries:i,unhighlightedSeries:i,bringToFront:R}}var tU=zi({googleFont:B},"google font"),cw=$e(B,Wp,tU,Le($e(B,tU))),Nt={color:se,fontFamily:cw,fontSize:O,fontStyle:K("normal","italic","oblique"),fontWeight:$e(O,K("normal","bold","bolder","lighter"))},Tle=zi({top:j,right:j,bottom:j,left:j},"padding object"),Ey=$e(j,Tle),Ty={enabled:R,stroke:se,strokeWidth:O,strokeOpacity:Me},Gr=f({border:f({},Ty),cornerRadius:j,padding:Ey},ce);function xU(t,i,e=1/0){let n=i,r=e,a=t%180*(Math.PI/180),o=Math.abs(Math.sin(a)),s=Math.abs(Math.cos(a));if(o===0)return{width:n,height:r};if(s===0)return{width:r,height:n};if(!isFinite(r)){let c=s/o,d=n/(s+c*o);return{width:d,height:c*d}}let l=s*s-o*o;if(l===0){let c=Math.min(n,r)/Math.SQRT2;return{width:c,height:c}}return{width:Math.abs((n*s-r*o)/l),height:Math.abs((r*s-n*o)/l)}}function gh(t){return typeof t>"u"?[]:Array.isArray(t)?t:[t]}function CU(t){return Array.from(new Set(t))}function $p(t,i){return t.reduce((e,n)=>{let r=i(n);return e[r]??(e[r]=[]),e[r].push(n),e},{})}function Oa(t,i){if(t==null||i==null||t.length!==i.length)return!1;for(let e=0;e<t.length;e++)if(Array.isArray(t[e])&&Array.isArray(i[e])){if(!Oa(t[e],i[e]))return!1}else if(t[e]!==i[e])return!1;return!0}function xs(t,i,e=0){if(t.length===0)return[];let n=[];for(let r=0;r<i;r++)n.push(t.at((r+e)%t.length));return n}function wU(t,i){let e=new Map;return i.forEach((n,r)=>{e.set(n,r)}),t.sort((n,r)=>{let a=e.get(n)??1/0,o=e.get(r)??1/0;return a-o})}function DU(t,i){let e=0;for(;e<t.length&&i(t[e]);)e+=1;let n=e;n!==0&&t.splice(0,n)}function SU(t,i){let e=t.length-1;for(;e>=0&&i(t[e]);)e-=1;let n=t.length-1-e;n!==0&&t.splice(t.length-n,n)}var e1=class{constructor(){this.queue=[]}await(t=50){return new Promise(i=>{let e=()=>{clearTimeout(r),i(!0)},r=setTimeout(()=>{let a=this.queue.indexOf(e);a<0||(this.queue.splice(a,1),i(!1))},t);this.queue.push(e)})}notify(){this.queue.splice(0).forEach(t=>t())}};function t1(t=0){return new Promise(i=>{setTimeout(i,t)})}function*Ed(...t){for(let i of t)yield*sm(i)}function MU(t){return t!=null&&typeof t=="object"&&Symbol.iterator in t?t:[t]}function Yp(t){for(let i of t)return i;throw new Error("AG Charts - no first() value found")}function*ur(t){let i=[void 0,void 0];for(let e of Object.keys(t))i[0]=e,i[1]=t[e],yield i}function Ad(t){return t==="true"}function Rle(t){return Number(t)}function io(t){return t}var Ole={role:io,"aria-checked":Ad,"aria-controls":io,"aria-describedby":io,"aria-disabled":Ad,"aria-expanded":Ad,"aria-haspopup":io,"aria-hidden":Ad,"aria-label":io,"aria-labelledby":io,"aria-live":io,"aria-orientation":io,"aria-selected":Ad,"data-focus-override":Ad,"data-focus-visible-override":Ad,"data-preventdefault":Ad,class:io,for:io,id:io,tabindex:Rle,title:io,placeholder:io};function it(t,i,e){e==null||e===""||e===""?t?.removeAttribute(i):t?.setAttribute(i,e.toString())}function Td(t,i){if(i!=null)for(let[e,n]of ur(i))e!=="class"&&it(t,e,n)}function wl(t,i,e){if(!(t instanceof HTMLElement))return;let n=t.getAttribute(i);return n===null?e:Ole[i]?.(n)??void 0}function La(t,i,e){t!=null&&(e==null?t.style.removeProperty(i):t.style.setProperty(i,e.toString()))}function IU(t,i){for(let[e,n]of ur(i))La(t,e,n)}function dw(t,i,e,n,r){return i<t.x+t.width&&i+n>t.x&&e<t.y+t.height&&e+r>t.y}function Kp(t,i,e,n=0,r=0){return i>=t.x&&i+n<=t.x+t.width&&e>=t.y&&e+r<=t.y+t.height}function qp(t,i){return t.x===i.x&&t.y===i.y&&t.width===i.width&&t.height===i.height}function Cs(t,i,e){if(t>i)return;let n;for(;i>=t;){let r=Math.floor((i+t)/2);e(r)?(n=r,t=r+1):i=r-1}return n}function fc(t,i,e){if(t>i)return;let n;for(;i>=t;){let r=Math.floor((i+t)/2);e(r)?(n=r,i=r-1):t=r+1}return n}var kU=class{constructor(t){this.getter=t}get(){let t=this.result?.deref();return t||(t=this.getter(),this.result=new WeakRef(t),t)}clear(){this.result=void 0}},pt=class{constructor(){this.callbacks=new Set}flush(){for(let t of this.callbacks)t();this.callbacks.clear()}merge(t){for(let i of t.callbacks)this.callbacks.add(i)}register(...t){for(let i of t)i&&this.callbacks.add(i)}};function AU(t,i){let e=Math.max(t.length,i.length),n=new Set,r=new Set;for(let a=0;a<e;a++){let o=t[a],s=i[a];o!==s&&(r.has(s)?r.delete(s):s&&n.add(s),n.has(o)?n.delete(o):o&&r.add(o))}return{changed:n.size>0||r.size>0,added:n,removed:r}}function Ae(t,i,e){return Math.min(e,Math.max(t,i))}function EU(t,i,e=1e-10){return t>=i[0]-e&&t<=i[1]+e}function ma(t,i,e=1e-10){return t===i||Math.abs(t-i)<e}function Zp(t){return Math.sign(t)===-1||Object.is(t,-0)}function TU(t){return t%1===0}function i1(t,i=2){let e=10**i;return Math.round(t*e)/e}function RU(t,i){return Math.floor(t%i+(t<0?Math.abs(i):0))}function Qp(t){if(Math.floor(t)===t)return 0;let i=String(t),e=0;if(t<1e-6||t>=1e21){let r;[i,r]=i.split("e"),r!=null&&(e=Number(r))}let n=i.split(".")[1]?.length??0;return Math.max(n-e,0)}function OU(t){return Array.isArray(t)&&t.length>=2&&t.every(Tt)}function JC(t){return Array.isArray(t)&&t.length>=2&&t.every(OU)}function Lle(t){let i=t[0],e=t[t.length-1];return ma(i[0],e[0],.001)&&ma(i[1],e[1],.001)}function iU(t){return Array.isArray(t)&&t.every(JC)&&t.every(Lle)}function LU(t){if(t===null)return!0;if(!qt(t)||t.type==null)return!1;let{type:i,coordinates:e}=t;switch(i){case"GeometryCollection":return Array.isArray(t.geometries)&&t.geometries.every(LU);case"MultiPolygon":return Array.isArray(e)&&e.every(iU);case"Polygon":return iU(e);case"MultiLineString":return Array.isArray(e)&&e.every(JC);case"LineString":return JC(e);case"MultiPoint":return JC(e);case"Point":return OU(e);default:return!1}}function Nle(t){return qt(t)&&t.type==="Feature"&&LU(t.geometry)}function Ple(t){return qt(t)&&t.type==="FeatureCollection"&&Array.isArray(t.features)&&t.features.every(Nle)}var NU=Ot(Ple,"a GeoJSON object"),PU=class{constructor(t,i){this._vertexCount=0,this.pendingProcessingEdgesFrom=[],this.pendingProcessingEdgesTo=[],this.cachedNeighboursEdge=t,this.processedEdge=i}clear(){this._vertexCount=0,this.pendingProcessingEdgesFrom=[],this.pendingProcessingEdgesTo=[]}addVertex(t){let i=new Fle(t);return this._vertexCount++,i}addEdge(t,i,e){e===this.cachedNeighboursEdge?t.updateCachedNeighbours().set(i.value,i):e===this.processedEdge&&(this.pendingProcessingEdgesFrom.push(t),this.pendingProcessingEdgesTo.push(i));let{edges:n}=t,r=n.get(e);r?r.indexOf(i)===-1&&r.push(i):n.set(e,[i])}removeVertex(t){this._vertexCount--;let i=t.edges;if(i){for(let[e,n]of i)this._vertexCount-=n.length;t.clear()}}removeEdge(t,i){for(let[e,n]of t.edges){let r=n.indexOf(i);n.splice(r,1),n.length===0&&t.edges.delete(e)}}removeEdges(t,i){t.edges.delete(i)}getVertexValue(t){return t.value}*neighbours(t){for(let[i,e]of t.edges)for(let n of e)yield n}*neighboursAndEdges(t){for(let[i,e]of t.edges)for(let n of e)yield[n,i]}neighboursWithEdgeValue(t,i){return t.edges.get(i)}findNeighbour(t,i){return t.edges.get(i)?.[0]}findNeighbourValue(t,i){let e=this.findNeighbour(t,i);if(e)return this.getVertexValue(e)}findNeighbourWithValue(t,i,e){let n=e==null?this.neighbours(t):this.neighboursWithEdgeValue(t,e);if(n){for(let r of n)if(this.getVertexValue(r)===i)return r}}findVertexAlongEdge(t,i,e){if(e===this.cachedNeighboursEdge){let r;for(let a of i)if(r=(r??t).readCachedNeighbours()?.get(a),!r)return;return r}if(i.length===0)return;let n=t;for(let r of i){let a=n?this.neighboursWithEdgeValue(n,e):void 0;if(!a)return;n=a.find(o=>o.value===r)}return n}adjacent(t,i){for(let[e,n]of t.edges)if(n.includes(i))return!0;return!1}},Fle=class{constructor(t){this.value=t,this.edges=new Map}readCachedNeighbours(){return this._cachedNeighbours}updateCachedNeighbours(){return this._cachedNeighbours??(this._cachedNeighbours=new Map),this._cachedNeighbours}clear(){this.edges.clear(),this._cachedNeighbours?.clear()}},nU=new Map,J2e=Symbol("ElementID"),Vle=1;function pn(t){let i=t.constructor,e=Object.hasOwn(i,"className")?i.className:i.name;if(!e)throw new Error(`The ${i} is missing the 'className' property.`);let n=(nU.get(e)??0)+1;return nU.set(e,n),`${e}-${n}`}function bh(){return`ag-charts-${Vle++}`}function uw(){return crypto.randomUUID?.()??Ble()}function Ble(){let t=new Uint8Array(16);crypto.getRandomValues(t),t[6]=t[6]&15|64,t[8]=t[8]&63|128;let i="";for(let e=0;e<t.length;e++)(e===4||e===6||e===8||e===10)&&(i+="-"),i+=t[e].toString(16).padStart(2,"0");return i}var FU=(t,i,e)=>{let n=t,r=n;for(let a of i)if(n==null||e(n.value,a)>0)n={value:a,next:n},r=n;else{for(r=r;r.next!=null&&e(r.next.value,a)<=0;)r=r.next;r.next={value:a,next:r.next}}return n},VU=/^(?:(.)?([<>=^]))?([+\-( ])?([$€£¥₣₹#])?(0)?(\d+)?(,)?(?:\.(\d+))?(~)?([%a-z])?$/i,BU=/^((?:[^#]|#[^{])*)#{([^}]+)}(.*)$/;function zU(t){if(!Gi(t))return!1;let i=BU.exec(t);return VU.test(i?i[2]:t)}function Ry(t){let i,e,n=BU.exec(t);n&&([,i,t,e]=n);let r=VU.exec(t);if(!r){z.warnOnce(`The number formatter is invalid: ${t}`);return}let[,a,o,s,l,c,d,u,h,m,p]=r;return{fill:a,align:o,sign:s,symbol:l,zero:c,width:parseInt(d),comma:u,precision:parseInt(h),trim:!!m,type:p,prefix:i,suffix:e}}function hw(t){let i=typeof t=="string"?Ry(t):t;if(i==null)return;let{fill:e,align:n,sign:r="-",symbol:a,zero:o,width:s,comma:l,type:c,prefix:d="",suffix:u="",precision:h}=i,{trim:m}=i,p=h==null||isNaN(h),g;if(!c)g=Ao.g,m=!0;else if(c in Ao&&c in Up)g=p?Up[c]:Ao[c];else if(c in Ao)g=Ao[c];else if(c in Up)g=Up[c];else throw new Error(`The number formatter type is invalid: ${c}`);let y=c?6:12,v;return p||(v=h),(x,w)=>{let D=g(x,v??w??y);return m&&(D=Ule(D)),l&&(D=Hle(D,l)),D=Wle(x,D,r),a&&a!=="#"&&(D=`${a}${D}`),a==="#"&&c==="x"&&(D=`0x${D}`),c==="s"&&(D=`${D}${Gle(x)}`),(c==="%"||c==="p")&&(D=`${D}%`),s!=null&&!isNaN(s)&&(D=$le(D,s,e??o,n)),D=`${d}${D}${u}`,D}}var Up={b:t=>XC(t).toString(2),c:t=>String.fromCharCode(t),d:t=>Math.round(Math.abs(t)).toFixed(0),o:t=>XC(t).toString(8),x:t=>XC(t).toString(16),X:t=>Up.x(t).toUpperCase(),n:t=>Up.d(t),"%":t=>`${XC(t*100).toFixed(0)}`},Ao={e:(t,i)=>Math.abs(t).toExponential(i),E:(t,i)=>Ao.e(t,i).toUpperCase(),f:(t,i)=>Math.abs(t).toFixed(i),F:(t,i)=>Ao.f(t,i).toUpperCase(),g:(t,i)=>{if(t===0)return"0";let e=Math.abs(t),n=Math.floor(Math.log10(e));return n>=-4&&n<i?e.toFixed(i-1-n):e.toExponential(i-1)},G:(t,i)=>Ao.g(t,i).toUpperCase(),n:(t,i)=>Ao.g(t,i),p:(t,i)=>Ao.r(t*100,i),r:(t,i)=>{if(t===0)return"0";let e=Math.abs(t),r=Math.floor(Math.log10(e))-(i-1);if(r<=0)return e.toFixed(-r);let a=10**r;return(Math.round(e/a)*a).toFixed()},s:(t,i)=>{let e=HU(t);return Ao.r(t/10**e,i)},"%":(t,i)=>Ao.f(t*100,i)},jU=-24,UU=24,zle={[jU]:"y",[-21]:"z",[-18]:"a",[-15]:"f",[-12]:"p",[-9]:"n",[-6]:"\xB5",[-3]:"m",0:"",3:"k",6:"M",9:"G",12:"T",15:"P",18:"E",21:"Z",[UU]:"Y"},jle="\u2212";function XC(t){return Math.floor(Math.abs(t))}function Ule(t){if(!t.endsWith("0")||t.indexOf(".")===-1)return t;let i=t.length-1;for(;i>0;)if(t[i]=="0")i-=1;else if(t[i]=="."){i-=1;break}else break;return t.substring(0,i+1)}function Hle(t,i){let e=t.indexOf(".");e<0&&(e=t.length);let n=t.substring(0,e).split(""),r=t.substring(e);for(let a=n.length-3;a>0;a-=3)n.splice(a,0,i);return`${n.join("")}${r}`}function Gle(t){return zle[HU(t)]}function HU(t){return Ae(jU,t?Math.floor(Math.log10(Math.abs(t))/3)*3:0,UU)}function Wle(t,i,e=""){if(e==="(")return t>=0?i:`(${i})`;let n=e==="+"?"+":"";return`${t>=0?n:jle}${i}`}function $le(t,i,e=" ",n=">"){let r=t;if(n===">"||!n)r=r.padStart(i,e);else if(n==="<")r=r.padEnd(i,e);else if(n==="^"){let a=Math.max(0,i-r.length),o=Math.ceil(a/2),s=Math.floor(a/2);r=r.padStart(o+r.length,e),r=r.padEnd(s+r.length,e)}return r}var F5=Object.defineProperty,Yle=Object.getOwnPropertyDescriptor,Nl=(t,i)=>{for(var e in i)F5(t,e,{get:i[e],enumerable:!0})},b=(t,i,e,n)=>{for(var r=n>1?void 0:n?Yle(i,e):i,a=t.length-1,o;a>=0;a--)(o=t[a])&&(r=(n?o(i,e,r):o(r))||r);return n&&r&&F5(i,e,r),r},_D=class{constructor(){this.cleanup=new pt}destroy(){this.cleanup.flush()}},Kle=class{constructor(){this.modules=[],this.dependencies=new Map,this.modulesByOptionKey=new Map}register(...t){for(let i of t){this.registerDependencies(i);let e=this.modules.find(n=>i.type===n.type&&("optionsKey"in i&&"optionsKey"in n?i.optionsKey===n.optionsKey:!0)&&i.identifier===n.identifier);if(e){if(i.packageType==="enterprise"&&e.packageType==="community"){let n=this.modules.indexOf(e);this.modules.splice(n,1,i),"optionsKey"in i&&this.modulesByOptionKey.set(i.optionsKey,i)}}else this.modules.push(i),"optionsKey"in i&&this.modulesByOptionKey.set(i.optionsKey,i)}}hasEnterpriseModules(){return this.modules.some(t=>t.packageType==="enterprise")}*byType(...t){let i=new Set,e=this.modules.filter(a=>t.includes(a.type)),n=a=>{let o=this.dependencies.get(a);return o?.flatMap(n).concat(o)??[]},r=[];for(let a of e){let o="optionsKey"in a?a.optionsKey:a.contextKey;if(!i.has(o)){for(let s of n(o)){if(i.has(s))continue;let l=this.modulesByOptionKey.get(s);if(!l){r.push(s);continue}t.includes(l.type)&&(yield l,i.add(s))}yield a,i.add(o)}}if(r.length>0)throw new Error(`Could not resolve module dependencies: ${r}`)}registerDependencies(t){if(t.dependencies==null||t.dependencies.length===0)return;let i="optionsKey"in t?t.optionsKey:t.contextKey;this.dependencies.set(i,t.dependencies)}},Tl=new Kle,xD=Symbol("interpolate"),$w=t=>t[xD]!=null;function CD(t,i,e,n=1/0){let r={nearest:void 0,distanceSquared:n};for(let a of e){let o=a.distanceSquared(t,i);if(o===0)return{nearest:a,distanceSquared:0};o<r.distanceSquared&&(r.nearest=a,r.distanceSquared=o)}return r}function qle(t,i,e,n=1/0){let{x:r=t,y:a=i}=e.transformPoint?.(t,i)??{},o={nearest:void 0,distanceSquared:n};for(let s of e.children){let{nearest:l,distanceSquared:c}=s.nearestSquared(r,a,o.distanceSquared);if(c===0)return{nearest:l,distanceSquared:c};c<o.distanceSquared&&(o.nearest=l,o.distanceSquared=c)}return o}var tv=class af{constructor(i,e,n,r){this.x=i,this.y=e,this.width=n,this.height=r}static fromDOMRect({x:i,y:e,width:n,height:r}){return new af(i,e,n,r)}static merge(i){let e=1/0,n=1/0,r=-1/0,a=-1/0;for(let o of i)o.x<e&&(e=o.x),o.y<n&&(n=o.y),o.x+o.width>r&&(r=o.x+o.width),o.y+o.height>a&&(a=o.y+o.height);return new af(e,n,r-e,a-n)}static nearestBox(i,e,n){return CD(i,e,n)}toDOMRect(){return{x:this.x,y:this.y,width:this.width,height:this.height,top:this.y,left:this.x,right:this.x+this.width,bottom:this.y+this.height,toJSON(){return{}}}}clone(){let{x:i,y:e,width:n,height:r}=this;return new af(i,e,n,r)}equals(i){return qp(this,i)}containsPoint(i,e){return Kp(this,i,e)}intersection(i){if(!this.collidesBBox(i))return;let e=Ae(i.x,this.x,i.x+i.width),n=Ae(i.y,this.y,i.y+i.height),r=Ae(i.x,this.x+this.width,i.x+i.width),a=Ae(i.y,this.y+this.height,i.y+i.height);return new af(e,n,r-e,a-n)}collidesBBox(i){return this.x<i.x+i.width&&this.x+this.width>i.x&&this.y<i.y+i.height&&this.y+this.height>i.y}computeCenter(){return{x:this.x+this.width/2,y:this.y+this.height/2}}isFinite(){return Number.isFinite(this.x)&&Number.isFinite(this.y)&&Number.isFinite(this.width)&&Number.isFinite(this.height)}distanceSquared(i,e){if(this.containsPoint(i,e))return 0;let n=i-Ae(this.x,i,this.x+this.width),r=e-Ae(this.y,e,this.y+this.height);return n*n+r*r}shrink(i,e){if(typeof i=="number")this.applyMargin(i,e);else for(let n of Object.keys(i)){let r=i[n];typeof r=="number"&&this.applyMargin(r,n)}return this.width<0&&(this.width=0),this.height<0&&(this.height=0),this}grow(i,e){if(typeof i=="number")this.applyMargin(-i,e);else for(let n of Object.keys(i)){let r=i[n];typeof r=="number"&&this.applyMargin(-r,n)}return this}applyMargin(i,e){switch(e){case"top":this.y+=i;case"bottom":this.height-=i;break;case"left":this.x+=i;case"right":this.width-=i;break;case"vertical":this.y+=i,this.height-=i*2;break;case"horizontal":this.x+=i,this.width-=i*2;break;case void 0:this.x+=i,this.y+=i,this.width-=i*2,this.height-=i*2;break}}translate(i,e){return this.x+=i,this.y+=e,this}[xD](i,e){return new af(this.x*(1-e)+i.x*e,this.y*(1-e)+i.y*e,this.width*(1-e)+i.width*e,this.height*(1-e)+i.height*e)}};tv.zero=Object.freeze(new tv(0,0,0,0));tv.NaN=Object.freeze(new tv(NaN,NaN,NaN,NaN));var we=tv,Zle=2e3,GU=Date.now(),Qle=()=>{let t=Date.now()-GU;if(t>Zle){let i=(Math.floor(t/100)/10).toFixed(1);z.log(`**** ${i}s since last log message ****`)}GU=Date.now()},yt={create(...t){return Object.assign((...e)=>{yt.check(...t)&&(typeof e[0]=="function"&&(e=gh(e[0]())),Qle(),z.log(...e))},{check:()=>yt.check(...t),group:(e,n)=>yt.check(...t)?z.logGroup(e,n):n()})},check(...t){return t.length===0&&t.push(!0),gh(tt("agChartsDebug")).some(e=>t.includes(e))},inDevelopmentMode(t){if(yt.check("dev"))return t()}};function V5({context:t,pixelRatio:i,width:e,height:n}){t.save();try{t.resetTransform(),t.clearRect(0,0,Math.ceil(e*i),Math.ceil(n*i))}finally{t.restore()}}function B5(t){if(yt.check("canvas")){let i=t.save.bind(t),e=t.restore.bind(t),n=0;Object.assign(t,{save(){i(),n++},restore(){if(n===0)throw new Error("AG Charts - Unable to restore() past depth 0");e(),n--},verifyDepthZero(){if(n!==0)throw new Error(`AG Charts - Save/restore depth is non-zero: ${n}`)}})}}function WU(t,i,e){return[Math.floor(t*e),Math.floor(i*e)]}var NR=class{constructor(t){let{width:i,height:e,pixelRatio:n,willReadFrequently:r=!1}=t;this.width=i,this.height=e,this.pixelRatio=n;let[a,o]=WU(i,e,n);this.canvas=new OffscreenCanvas(a,o),this.context=this.canvas.getContext("2d",{willReadFrequently:r}),this.context.setTransform(n,0,0,n,0,0),B5(this.context)}drawImage(t,i=0,e=0){return t.drawImage(this.canvas,i,e)}transferToImageBitmap(){return this.canvas.transferToImageBitmap()}resize(t,i,e){if(!(t>0&&i>0))return;let{canvas:n,context:r}=this;if(t!==this.width||i!==this.height||e!==this.pixelRatio){let[a,o]=WU(t,i,e);n.width=a,n.height=o}r.setTransform(e,0,0,e,0,0),this.width=t,this.height=i,this.pixelRatio=e}clear(){V5(this)}destroy(){this.canvas.width=0,this.canvas.height=0,this.context.clearRect(0,0,0,0),this.canvas=null,this.context=null,Object.freeze(this)}},$1=Symbol("BREAK"),Yy="__decorator_config",mw="__decorator_accessors";function Xle(t,i){PR(t,i).optional=!0}function PR(t,i){if(Object.getOwnPropertyDescriptor(t,Yy)==null&&Object.defineProperty(t,Yy,{value:{}}),Object.getOwnPropertyDescriptor(t,mw)==null){let d=Object.getPrototypeOf(t)?.[mw]?.slice()??[];Object.defineProperty(t,mw,{value:d})}let e=t[Yy],n=i.toString();if(e[n]!=null)return e[n];e[n]={setters:[],getters:[],observers:[]};let r=Object.getOwnPropertyDescriptor(t,i),a=r?.get,o=r?.set;if(a==null||o==null){let c=t[mw],d=c.indexOf(i);d===-1&&(d=c.push(i)-1),a??(a=function(){let u=this.__accessors;return u==null&&(u=c.slice().fill(void 0),Object.defineProperty(this,"__accessors",{value:u})),u[d]}),o??(o=function(u){let h=this.__accessors;h==null&&(h=c.slice().fill(void 0),Object.defineProperty(this,"__accessors",{value:h})),h[d]=u})}return Object.defineProperty(t,i,{set:function(c){let{setters:d,observers:u}=e[n],h;d.some(m=>m.length>2)&&(h=a.call(this));for(let m of d)if(c=m(this,i,c,h),c===$1)return;o.call(this,c);for(let m of u)m(this,c,h)},get:function(){let c=a.call(this);for(let d of e[n].getters)if(c=d(this,i,c),c===$1)return;return c},enumerable:!0,configurable:!1}),e[n]}function zh(t,i,e){return(n,r)=>{let a=PR(n,r);a.setters.push(t),i&&a.getters.unshift(i),e&&Object.assign(a,e)}}function z5(t){return(i,e)=>{PR(i,e).observers.push(t)}}function wD(t){return typeof t<"u"&&Yy in t}function Ud(t){let i=new Set;for(;wD(t);)i.add(t?.[Yy]),t=Object.getPrototypeOf(t);return Array.from(i).flatMap(e=>Object.keys(e))}function j5(t){return Ud(t).reduce((i,e)=>(i[String(e)]=t[e]??null,i),{})}function Ln(t,i){return Array.isArray(t)?!Array.isArray(i)||t.length!==i.length?!1:t.every((e,n)=>Ln(e,i[n])):bt(t)?bt(i)?FR(t,i,Ln):!1:t===i}function FR(t,i,e){if(Object.is(t,i))return!0;for(let n of Object.keys(i))if(!(n in t))return!1;for(let n of Object.keys(t))if(!(n in i)||!e(t[n],i[n]))return!1;return!0}function Jt(...t){let i={};for(let e of t){if(!qt(e))continue;let n=wD(e)?Ud(e):Object.keys(e);for(let r of n)bt(i[r])&&bt(e[r])?i[r]=Jt(i[r],e[r]):i[r]??(i[r]=e[r])}return i}function iv(...t){let i={};for(let e of t){if(!qt(e))continue;let n=wD(e)?Ud(e):Object.keys(e);for(let r of n)bt(i[r])&&bt(e[r])?i[r]=iv(i[r],e[r]):r in i||(i[r]??(i[r]=e[r]))}return i}function U5(t,...i){return i&&Xe(t)?t.map(e=>Jt(e,...i)):t}function H5(t,i){let e={};for(let[n,r]of ur(t))e[n]=i(r,n,t);return e}function ue(t,i){let e=f({},t);for(let n of i)delete e[n];return e}function Y1(t,i){if(t==null)return;let e={};for(let n of i)Object.hasOwn(t,n)&&(e[n]=t[n]);return e}function VR(t,i){return(Xe(i)?i:i.split(".")).reduce((n,r)=>n[r],t)}var BR=new Set(["__proto__","constructor","prototype"]);function zR(t,i,e){let n=Xe(i)?i.slice():i.split("."),r=n.pop();if(n.some(o=>BR.has(o)))return;let a=n.reduce((o,s)=>o[s],t);return a[r]=e,a[r]}function K1(t,i,e){if(e===void 0)return i;for(let n of t){let r=e[n];r!==void 0&&(i[n]=r)}return i}function wc(t){return t==null||typeof t!="object"||!bt(t)||(Object.freeze(t),Object.getOwnPropertyNames(t).forEach(i=>{let e=t[i];e!==null&&(typeof e=="object"||typeof e=="function")&&!Object.isFrozen(e)&&wc(e)})),t}function G5(t,i){return bt(t)&&i in t}function Jle(t,i){return G5(t,i)&&typeof t[i]=="string"}var Vf=(t,i)=>t===i;function te(t){return function(i,e){let n=`__${e}`;i[e]||ece(i,e,n,t)}}function W5(t){return te(t)}function uo(t){return te(t)}function jR(t){let i=t??{};return i.equals=Oa,te(t)}function ece(t,i,e,n){let{changeCb:r,convertor:a,checkDirtyOnAssignment:o=!1}=n??{},s={changeCb:r,checkDirtyOnAssignment:o,convertor:a},l=nce(e,ice(tce(rce(e,s),s),s),s);Object.defineProperty(t,i,{set:l,get:function(){return this[e]},enumerable:!0,configurable:!0})}function tce(t,i){let{convertor:e}=i;return e?function(n){t.call(this,e(n))}:t}var $5=Symbol("no-change");function ice(t,i){let{changeCb:e}=i;return e?function(n){let r=t.call(this,n);return r!==$5&&e.call(this,this),r}:t}function nce(t,i,e){let{checkDirtyOnAssignment:n}=e;return n?function(r){let a=i.call(this,r);return r?._dirty===!0&&this.markDirty(t),a}:i}function rce(t,i){let{equals:e=Vf}=i;return function(n){let r=this[t];return e(n,r)?$5:(this[t]=n,this.onChangeDetection(t),n)}}var n1=(t,i)=>Math.sign(t-i);function Y5(t,i){if(typeof t=="number"&&typeof i=="number")return n1(t,i);let e=typeof t=="number"?[t]:t,n=typeof i=="number"?[i]:i,r=Math.min(e.length,n.length);for(let a=0;a<r;a+=1){let o=n1(e[a],n[a]);if(o!==0)return o}return n1(e.length,n.length)}var K5=(t=>(t[t.All=0]="All",t[t.None=1]="None",t))(K5||{}),ace=5,UR=(()=>{let t=class q1{constructor(e){this.serialNumber=q1._nextSerialNumber++,this.childNodeCounts={groups:0,nonGroups:0,thisComplexity:0,complexity:0},this.id=pn(this),this.name=void 0,this.transitionOut=void 0,this.pointerEvents=0,this._datum=void 0,this._previousDatum=void 0,this.scene=void 0,this._debugDirtyProperties=void 0,this.parentNode=void 0,this.cachedBBox=void 0,this.isContainerNode=!1,this.visible=!0,this.zIndex=0,this.batchLevel=0,this.batchDirty=!1,this.name=e?.name,this.tag=e?.tag??NaN,this.zIndex=e?.zIndex??0,this.scene=e?.scene,(e?.debugDirty??q1._debugEnabled)&&(this._debugDirtyProperties=new Map([["__first__",[]]]))}static toSVG(e,n,r){let a=e?.toSVG();if(a==null||!a.elements.length&&!a.defs?.length)return;let o=Qt("svg");if(o.setAttribute("width",String(n)),o.setAttribute("height",String(r)),o.setAttribute("viewBox",`0 0 ${n} ${r}`),o.setAttribute("overflow","visible"),a.defs?.length){let s=Qt("defs");s.append(...a.defs),o.append(s)}return o.append(...a.elements),o.outerHTML}static*extractBBoxes(e,n){for(let r of e)if(!n||r.visible&&!r.transitionOut){let a=r.getBBox();a&&(yield a)}}get datum(){return this._datum}set datum(e){this._datum!==e&&(this._previousDatum=this._datum,this._datum=e)}get previousDatum(){return this._previousDatum}get layerManager(){return this.scene?.layersManager}get imageLoader(){return this.scene?.imageLoader}closestDatum(){for(let{datum:e}of this.traverseUp(!0))if(e!=null)return e}preRender(e,n=1){if(this.childNodeCounts.groups=0,this.childNodeCounts.nonGroups=1,this.childNodeCounts.complexity=n,this.childNodeCounts.thisComplexity=n,this.batchLevel>0||this.batchDirty)throw new Error("AG Charts - illegal rendering state; batched update in progress");return this.childNodeCounts}isolatedRender(e){e.ctx.save();try{this.render(e)}catch(n){let r=n.errorCount??1;if(r>=ace)throw n.errorCount=r,n;z.warnOnce("Error during rendering",n,n.stack)}finally{e.ctx.restore()}}render(e){let{stats:n}=e;if(this.debugDirtyProperties(),e.debugNodeSearch){let r=this.name??this.id;e.debugNodeSearch.some(a=>typeof a=="string"?a===r:a.test(r))&&(e.debugNodes[this.name??this.id]=this)}n&&(n.nodesRendered++,n.opsPerformed+=this.childNodeCounts.thisComplexity)}setScene(e){this.scene=e}*traverseUp(e){let n=this;for(e&&(yield n);n=n.parentNode;)yield n}isRoot(){return!this.parentNode}removeChild(e){throw new Error(`AG Charts - internal error, unknown child node ${e.name??e.id} in $${this.name??this.id}`)}remove(){this.parentNode?.removeChild(this)}destroy(){this.parentNode?.removeChild(this)}batchedUpdate(e){this.batchLevel++,e(),this.batchLevel--,this.batchLevel===0&&this.batchDirty&&(this.markDirty(),this.batchDirty=!1)}setProperties(e){return this.batchLevel++,Object.assign(this,e),this.batchLevel--,this.batchLevel===0&&this.batchDirty&&(this.markDirty(),this.batchDirty=!1),this}containsPoint(e,n){return!1}pickNode(e,n){if(this.containsPoint(e,n))return this}pickNodes(e,n,r=[]){return this.containsPoint(e,n)&&r.push(this),r}getBBox(){return this.cachedBBox??(this.cachedBBox=Object.freeze(this.computeBBox())),this.cachedBBox}computeBBox(){}onChangeDetection(e){this.markDirty(e)}markDirtyChildrenOrder(){this.cachedBBox=void 0}markDirty(e){if(this.batchLevel>0){this.batchDirty=!0;return}e!=null&&this._debugDirtyProperties&&this.markDebugProperties(e),this.cachedBBox=void 0,this.parentNode?.markDirty()}markDebugProperties(e){let n=this._debugDirtyProperties?.get(e)??[],r=new Error().stack?.split(`
`).filter(a=>a!=="Error"&&!a.includes(".markDebugProperties")&&!a.includes(".markDirty")&&!a.includes("Object.assign ")&&!a.includes(`${this.constructor.name}.`))??"unknown";n.push(r[0].replace(" at ","").trim()),this._debugDirtyProperties?.set(e,n)}debugDirtyProperties(){this._debugDirtyProperties!=null&&(this._debugDirtyProperties.has("__first__")||this._debugDirtyProperties.forEach((e,n)=>{e.length>1&&(console.groupCollapsed(`Property changed multiple times before render: ${this.constructor.name}.${n} (${e.length}x)`),e.forEach(r=>console.log(r)),console.groupEnd())}),this._debugDirtyProperties.clear())}onZIndexChange(){this.parentNode?.markDirtyChildrenOrder()}toSVG(){}};return t._nextSerialNumber=0,t._debugEnabled=!1,t})();b([te()],UR.prototype,"visible",2);b([uo({equals:Ln,changeCb:t=>t.onZIndexChange()})],UR.prototype,"zIndex",2);var kc=UR,Fo=Math.PI*2,Oy=Math.PI/2;function Dn(t){return t%=Fo,t+=Fo,t%=Fo,t}function oce(t){return t%=Fo,t+=Fo,t!==Fo&&(t%=Fo),t}function Yw(t){return t%=Fo,t<-Math.PI?t+=Fo:t>=Math.PI&&(t-=Fo),t}function Rh(t,i,e){let n=Dn(t),r=Dn(i),a=Dn(e);return r<a?r<=n&&n<=a:r>a?r<=n||n<=a:i!==e}function Tr(t){return t/180*Math.PI}function sce(t){return t/Math.PI*180}function DD(t,i){return t=Dn(t),i=Dn(i),i-t+(t>i?Fo:0)}function q5(t){let i=Dn(t);return i<=Oy?i/Oy:i<=Math.PI?(Math.PI-i)/Oy:i<=1.5*Math.PI?(i-Math.PI)/Oy:(Fo-i)/Oy}function Z1(t,i,e){let n=q5(e);return t*n+i*Math.abs(1-n)}function Ac(t){return t?Dn(Tr(t)):0}var yh=(t,i,e)=>t*(1-e)+i*e,r1=t=>{let i=t<0?-1:1,e=Math.abs(t);return e<=.04045?t/12.92:i*((e+.055)/1.055)**2.4},a1=t=>{let i=t<0?-1:1,e=Math.abs(t);return e>.0031308?i*(1.055*e**(1/2.4)-.055):12.92*t},lce=(()=>{let t=class ni{constructor(e,n,r,a=1){this.r=Ae(0,e||0,1),this.g=Ae(0,n||0,1),this.b=Ae(0,r||0,1),this.a=Ae(0,a||0,1)}static validColorString(e){return e.indexOf("#")>=0?!!ni.parseHex(e):e.indexOf("rgb")>=0?!!ni.stringToRgba(e):ni.nameToHex.has(e.toLowerCase())}static fromString(e){if(e.indexOf("#")>=0)return ni.fromHexString(e);let n=ni.nameToHex.get(e.toLowerCase());if(n)return ni.fromHexString(n);if(e.indexOf("rgb")>=0)return ni.fromRgbaString(e);throw new Error(`Invalid color string: '${e}'`)}static parseHex(e){e=e.replace(/ /g,"").slice(1);let n;switch(e.length){case 6:case 8:n=[];for(let r=0;r<e.length;r+=2)n.push(parseInt(`${e[r]}${e[r+1]}`,16));break;case 3:case 4:n=e.split("").map(r=>parseInt(r,16)).map(r=>r+r*16);break}if(n?.length>=3&&n.every(r=>r>=0))return n.length===3&&n.push(255),n}static fromHexString(e){let n=ni.parseHex(e);if(n){let[r,a,o,s]=n;return new ni(r/255,a/255,o/255,s/255)}throw new Error(`Malformed hexadecimal color string: '${e}'`)}static stringToRgba(e){let n=-1,r=-1;for(let l=0;l<e.length;l++){let c=e[l];if(n===-1&&c==="(")n=l;else if(c===")"){r=l;break}}if(n===-1||r===-1)return;let o=e.substring(n+1,r).split(","),s=[];for(let l=0;l<o.length;l++){let c=o[l],d=parseFloat(c);if(!Number.isFinite(d))return;c.indexOf("%")>=0?(d=Ae(0,d,100),d/=100):l===3?d=Ae(0,d,1):(d=Ae(0,d,255),d/=255),s.push(d)}return s}static fromRgbaString(e){let n=ni.stringToRgba(e);if(n){if(n.length===3)return new ni(n[0],n[1],n[2]);if(n.length===4)return new ni(n[0],n[1],n[2],n[3])}throw new Error(`Malformed rgb/rgba color string: '${e}'`)}static fromArray(e){if(e.length===4)return new ni(e[0],e[1],e[2],e[3]);if(e.length===3)return new ni(e[0],e[1],e[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")}static fromHSB(e,n,r,a=1){let o=ni.HSBtoRGB(e,n,r);return new ni(o[0],o[1],o[2],a)}static fromHSL(e,n,r,a=1){let o=ni.HSLtoRGB(e,n,r);return new ni(o[0],o[1],o[2],a)}static fromOKLCH(e,n,r,a=1){let o=ni.OKLCHtoRGB(e,n,r);return new ni(o[0],o[1],o[2],a)}static padHex(e){return e.length===1?"0"+e:e}toHexString(){let e="#"+ni.padHex(Math.round(this.r*255).toString(16))+ni.padHex(Math.round(this.g*255).toString(16))+ni.padHex(Math.round(this.b*255).toString(16));return this.a<1&&(e+=ni.padHex(Math.round(this.a*255).toString(16))),e}toRgbaString(e=3){let n=[Math.round(this.r*255),Math.round(this.g*255),Math.round(this.b*255)],r=Math.pow(10,e);return this.a!==1?(n.push(Math.round(this.a*r)/r),`rgba(${n.join(", ")})`):`rgb(${n.join(", ")})`}toString(){return this.a===1?this.toHexString():this.toRgbaString()}toHSB(){return ni.RGBtoHSB(this.r,this.g,this.b)}static RGBtoOKLCH(e,n,r){let a=r1(e),o=r1(n),s=r1(r),l=Math.cbrt(.4122214708*a+.5363325363*o+.0514459929*s),c=Math.cbrt(.2119034982*a+.6806995451*o+.1073969566*s),d=Math.cbrt(.0883024619*a+.2817188376*o+.6299787005*s),u=.2104542553*l+.793617785*c-.0040720468*d,h=1.9779984951*l-2.428592205*c+.4505937099*d,m=.0259040371*l+.7827717662*c-.808675766*d,p=Math.atan2(m,h)*180/Math.PI,g=u,y=Math.hypot(h,m),v=p>=0?p:p+360;return[g,y,v]}static OKLCHtoRGB(e,n,r){let a=e,o=n*Math.cos(r*Math.PI/180),s=n*Math.sin(r*Math.PI/180),l=(a+.3963377774*o+.2158037573*s)**3,c=(a-.1055613458*o-.0638541728*s)**3,d=(a-.0894841775*o-1.291485548*s)**3,u=4.0767416621*l-3.3077115913*c+.2309699292*d,h=-1.2684380046*l+2.6097574011*c-.3413193965*d,m=-.0041960863*l-.7034186147*c+1.707614701*d,p=a1(u),g=a1(h),y=a1(m);return[p,g,y]}static RGBtoHSL(e,n,r){let a=Math.min(e,n,r),o=Math.max(e,n,r),s=(o+a)/2,l,c;if(o===a)l=0,c=0;else{let d=o-a;c=s>.5?d/(2-o-a):d/(o+a),o===e?l=(n-r)/d+(n<r?6:0):o===n?l=(r-e)/d+2:l=(e-n)/d+4,l*=60}return[l,c,s]}static HSLtoRGB(e,n,r){if(e=(e%360+360)%360,n===0)return[r,r,r];let a=r<.5?r*(1+n):r+n-r*n,o=2*r-a;function s(u){return u<0&&(u+=1),u>1&&(u-=1),u<.16666666666666666?o+(a-o)*6*u:u<.5?a:u<.6666666666666666?o+(a-o)*(.6666666666666666-u)*6:o}let l=s(e/360+1/3),c=s(e/360),d=s(e/360-1/3);return[l,c,d]}static RGBtoHSB(e,n,r){let a=Math.min(e,n,r),o=Math.max(e,n,r),s=o===0?0:(o-a)/o,l=0;if(a!==o){let c=o-a,d=(o-e)/c,u=(o-n)/c,h=(o-r)/c;e===o?l=h-u:n===o?l=2+d-h:l=4+u-d,l/=6,l<0&&(l=l+1)}return[l*360,s,o]}static HSBtoRGB(e,n,r){e=(e%360+360)%360/360;let a=0,o=0,s=0;if(n===0)a=o=s=r;else{let l=(e-Math.floor(e))*6,c=l-Math.floor(l),d=r*(1-n),u=r*(1-n*c),h=r*(1-n*(1-c));switch(l>>0){case 0:a=r,o=h,s=d;break;case 1:a=u,o=r,s=d;break;case 2:a=d,o=r,s=h;break;case 3:a=d,o=u,s=r;break;case 4:a=h,o=d,s=r;break;case 5:a=r,o=d,s=u;break}}return[a,o,s]}static mix(e,n,r){return new ni(yh(e.r,n.r,r),yh(e.g,n.g,r),yh(e.b,n.b,r),yh(e.a,n.a,r))}static lighten(e,n){let r=ni.RGBtoOKLCH(e.r,e.g,e.b);return ni.fromOKLCH(Ae(0,r[0]+n,1),r[1],r[2])}static darken(e,n){let r=ni.RGBtoOKLCH(e.r,e.g,e.b);return ni.fromOKLCH(Ae(0,r[0]-n,1),r[1],r[2])}static interpolate(e,n){let r=1/(e.length-1),a=e.map(o=>ni.RGBtoOKLCH(o.r,o.g,o.b));return Array.from({length:n},(o,s)=>{let l=s/(n-1),c=e.length<=2?0:Math.min(Math.floor(l*(e.length-1)),e.length-2),d=(l-c*r)/r,u=a[c],h=a[c+1];return ni.fromOKLCH(yh(u[0],h[0],d),yh(u[1],h[1],d),yh(u[2],h[2],d))})}};return t.nameToHex=new Map([["aliceblue","#F0F8FF"],["antiquewhite","#FAEBD7"],["aqua","#00FFFF"],["aquamarine","#7FFFD4"],["azure","#F0FFFF"],["beige","#F5F5DC"],["bisque","#FFE4C4"],["black","#000000"],["blanchedalmond","#FFEBCD"],["blue","#0000FF"],["blueviolet","#8A2BE2"],["brown","#A52A2A"],["burlywood","#DEB887"],["cadetblue","#5F9EA0"],["chartreuse","#7FFF00"],["chocolate","#D2691E"],["coral","#FF7F50"],["cornflowerblue","#6495ED"],["cornsilk","#FFF8DC"],["crimson","#DC143C"],["cyan","#00FFFF"],["darkblue","#00008B"],["darkcyan","#008B8B"],["darkgoldenrod","#B8860B"],["darkgray","#A9A9A9"],["darkgreen","#006400"],["darkgrey","#A9A9A9"],["darkkhaki","#BDB76B"],["darkmagenta","#8B008B"],["darkolivegreen","#556B2F"],["darkorange","#FF8C00"],["darkorchid","#9932CC"],["darkred","#8B0000"],["darksalmon","#E9967A"],["darkseagreen","#8FBC8F"],["darkslateblue","#483D8B"],["darkslategray","#2F4F4F"],["darkslategrey","#2F4F4F"],["darkturquoise","#00CED1"],["darkviolet","#9400D3"],["deeppink","#FF1493"],["deepskyblue","#00BFFF"],["dimgray","#696969"],["dimgrey","#696969"],["dodgerblue","#1E90FF"],["firebrick","#B22222"],["floralwhite","#FFFAF0"],["forestgreen","#228B22"],["fuchsia","#FF00FF"],["gainsboro","#DCDCDC"],["ghostwhite","#F8F8FF"],["gold","#FFD700"],["goldenrod","#DAA520"],["gray","#808080"],["green","#008000"],["greenyellow","#ADFF2F"],["grey","#808080"],["honeydew","#F0FFF0"],["hotpink","#FF69B4"],["indianred","#CD5C5C"],["indigo","#4B0082"],["ivory","#FFFFF0"],["khaki","#F0E68C"],["lavender","#E6E6FA"],["lavenderblush","#FFF0F5"],["lawngreen","#7CFC00"],["lemonchiffon","#FFFACD"],["lightblue","#ADD8E6"],["lightcoral","#F08080"],["lightcyan","#E0FFFF"],["lightgoldenrodyellow","#FAFAD2"],["lightgray","#D3D3D3"],["lightgreen","#90EE90"],["lightgrey","#D3D3D3"],["lightpink","#FFB6C1"],["lightsalmon","#FFA07A"],["lightseagreen","#20B2AA"],["lightskyblue","#87CEFA"],["lightslategray","#778899"],["lightslategrey","#778899"],["lightsteelblue","#B0C4DE"],["lightyellow","#FFFFE0"],["lime","#00FF00"],["limegreen","#32CD32"],["linen","#FAF0E6"],["magenta","#FF00FF"],["maroon","#800000"],["mediumaquamarine","#66CDAA"],["mediumblue","#0000CD"],["mediumorchid","#BA55D3"],["mediumpurple","#9370DB"],["mediumseagreen","#3CB371"],["mediumslateblue","#7B68EE"],["mediumspringgreen","#00FA9A"],["mediumturquoise","#48D1CC"],["mediumvioletred","#C71585"],["midnightblue","#191970"],["mintcream","#F5FFFA"],["mistyrose","#FFE4E1"],["moccasin","#FFE4B5"],["navajowhite","#FFDEAD"],["navy","#000080"],["oldlace","#FDF5E6"],["olive","#808000"],["olivedrab","#6B8E23"],["orange","#FFA500"],["orangered","#FF4500"],["orchid","#DA70D6"],["palegoldenrod","#EEE8AA"],["palegreen","#98FB98"],["paleturquoise","#AFEEEE"],["palevioletred","#DB7093"],["papayawhip","#FFEFD5"],["peachpuff","#FFDAB9"],["peru","#CD853F"],["pink","#FFC0CB"],["plum","#DDA0DD"],["powderblue","#B0E0E6"],["purple","#800080"],["rebeccapurple","#663399"],["red","#FF0000"],["rosybrown","#BC8F8F"],["royalblue","#4169E1"],["saddlebrown","#8B4513"],["salmon","#FA8072"],["sandybrown","#F4A460"],["seagreen","#2E8B57"],["seashell","#FFF5EE"],["sienna","#A0522D"],["silver","#C0C0C0"],["skyblue","#87CEEB"],["slateblue","#6A5ACD"],["slategray","#708090"],["slategrey","#708090"],["snow","#FFFAFA"],["springgreen","#00FF7F"],["steelblue","#4682B4"],["tan","#D2B48C"],["teal","#008080"],["thistle","#D8BFD8"],["tomato","#FF6347"],["transparent","#00000000"],["turquoise","#40E0D0"],["violet","#EE82EE"],["wheat","#F5DEB3"],["white","#FFFFFF"],["whitesmoke","#F5F5F5"],["yellow","#FFFF00"],["yellowgreen","#9ACD32"]]),t})(),wi=lce,Z5=(t=>(t[t.Leading=0]="Leading",t[t.Trailing=1]="Trailing",t[t.Interpolate=2]="Interpolate",t))(Z5||{}),SD=class{ticks(t,i,e){}niceDomain(t,i=this.domain){return i}get bandwidth(){}get step(){}get inset(){}},Sv=(t,i)=>{let e=Symbol(String(i));t[e]=void 0,Object.defineProperty(t,i,{get(){return this[e]},set(n){this[e]!==n&&(this[e]=n,this.invalid=!0)},enumerable:!0,configurable:!1})},$U=t=>{let i=wi.fromString(t),[e,n,r]=wi.RGBtoOKLCH(i.r,i.g,i.b);return{l:e,c:n,h:r,a:i.a}},o1=1e-6,YU=t=>t.c<o1||t.l<o1||t.l>1-o1,cce=(t,i,e)=>{e=Ae(0,e,1);let n;if(YU(t))n=i.h;else if(YU(i))n=t.h;else{let s=t.h,l=i.h,c=i.h-t.h;c>180?l-=360:c<-180&&(l+=360),n=s*(1-e)+l*e}let r=t.c*(1-e)+i.c*e,a=t.l*(1-e)+i.l*e,o=t.a*(1-e)+i.a*e;return wi.fromOKLCH(a,r,n,o)},Bf=class extends SD{constructor(){super(...arguments),this.type="color",this.defaultTickCount=0,this.invalid=!0,this.domain=[0,1],this.range=["red","blue"],this.parsedRange=this.range.map($U)}update(){let{domain:t,range:i}=this;t.length<2&&(z.warnOnce("`colorDomain` should have at least 2 values."),t.length===0?t.push(0,1):t.length===1&&t.push(t[0]+1));for(let e=1;e<t.length;e++){let n=t[e-1],r=t[e];if(n>r){z.warnOnce("`colorDomain` values should be supplied in ascending order."),t.sort((a,o)=>a-o);break}}if(i.length<t.length)for(let e=i.length;e<t.length;e++)i.push(i.length>0?i[0]:"black");this.parsedRange=this.range.map($U)}normalizeDomains(...t){return{domain:t.flat(),animatable:!0}}toDomain(){}convert(t){this.refresh();let{domain:i,range:e,parsedRange:n}=this,r=i[0],a=i.at(-1),o=e[0],s=e[e.length-1];if(t<=r)return o;if(t>=a)return s;let l,c;if(i.length===2){let h=(t-r)/(a-r),m=1/(e.length-1);l=e.length<=2?0:Math.min(Math.floor(h*(e.length-1)),e.length-2),c=(h-l*m)/m}else{for(l=0;l<i.length-2&&!(t<i[l+1]);l++);let h=i[l],m=i[l+1];c=(t-h)/(m-h)}let d=n[l],u=n[l+1];return cce(d,u,c).toRgbaString()}invert(){}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&z.warnOnce("Expected update to not invalidate scale"))}};b([Sv],Bf.prototype,"domain",2);b([Sv],Bf.prototype,"range",2);var MD=class{constructor(t,i=[],e){this.colorSpace=t,this.stops=i,this.bbox=e,this._cache=void 0}createGradient(t,i,e){let n=this.bbox??i;if(!n.isFinite())return;if(this._cache!=null&&this._cache.ctx===t&&this._cache.bbox.equals(n))return this._cache.gradient;let{stops:r,colorSpace:a}=this;if(r.length===0)return;if(r.length===1)return r[0].color;let o=this.createCanvasGradient(t,n,e);if(o==null)return;let s=a==="oklch",l=.05,c=r[0];o.addColorStop(c.stop,c.color);for(let d=1;d<r.length;d+=1){let u=r[d];if(s){let h=new Bf;h.domain=[c.stop,u.stop],h.range=[c.color,u.color];for(let m=c.stop+l;m<u.stop;m+=l)o.addColorStop(m,h.convert(m))}o.addColorStop(u.stop,u.color),c=u}return"createPattern"in o&&(o=o.createPattern()),this._cache={ctx:t,bbox:n,gradient:o},o}toSvg(t){let i=this.bbox??t,e=this.createSvgGradient(i);return this.stops.forEach(({stop:n,color:r})=>{let a=Qt("stop");a.setAttribute("offset",`${n}`),a.setAttribute("stop-color",`${r}`),e.appendChild(a)}),e}},Q5=class extends MD{constructor(t,i,e=0,n){super(t,i,n),this.angle=e}createCanvasGradient(t,i,e){let{angle:r}=this,a=Ac(r+-90),o=e?.centerX??i.x+i.width*.5,s=e?.centerY??i.y+i.height*.5;return t.createConicGradient(a,o,s)}createSvgGradient(t){return Qt("linearGradient")}},X5=class extends MD{constructor(t,i,e=0,n){super(t,i,n),this.angle=e}getGradientPoints(t){let{angle:e}=this,n=Ac(e+90),r=Math.cos(n),a=Math.sin(n),o=t.width,s=t.height,l=t.x+o*.5,c=t.y+s*.5,d=Math.sqrt(s*s+o*o)/2,u=Math.atan2(s,o),h;n<Math.PI/2?h=n:n<Math.PI?h=Math.PI-n:n<1.5*Math.PI?h=n-Math.PI:h=2*Math.PI-n;let m=d*Math.abs(Math.cos(h-u));return{x0:l+r*m,y0:c+a*m,x1:l-r*m,y1:c-a*m}}createCanvasGradient(t,i){let{x0:e,y0:n,x1:r,y1:a}=this.getGradientPoints(i);if(!(isNaN(e)||isNaN(n)||isNaN(r)||isNaN(a)))return t.createLinearGradient(e,n,r,a)}createSvgGradient(t){let{x0:i,y0:e,x1:n,y1:r}=this.getGradientPoints(t),a=Qt("linearGradient");return a.setAttribute("x1",String(i)),a.setAttribute("y1",String(e)),a.setAttribute("x2",String(n)),a.setAttribute("y2",String(r)),a.setAttribute("gradientUnits","userSpaceOnUse"),a}},dce=class extends MD{constructor(t,i,e){super(t,i,e)}createCanvasGradient(t,i,e){let n=e?.centerX??i.x+i.width*.5,r=e?.centerY??i.y+i.height*.5,a=e?.innerRadius??0,o=e?.outerRadius??Math.hypot(i.width*.5,i.height*.5)/Math.SQRT2;return t.createRadialGradient(n,r,a,n,r,o)}createSvgGradient(t){let i=t.x+t.width*.5,e=t.y+t.height*.5,n=Qt("radialGradient");return n.setAttribute("cx",String(i)),n.setAttribute("cy",String(e)),n.setAttribute("r",String(Math.hypot(t.width*.5,t.height*.5)/Math.SQRT2)),n.setAttribute("gradientUnits","userSpaceOnUse"),n}},C=Xle,nt=class{handleUnknownProperties(t,i){}set(t){let{className:i=this.constructor.name}=this.constructor;if(t==null)return this.clear(),this;if(typeof t!="object")return z.warn(`unable to set ${i} - expecting a properties object`),this;let e=new Set(Object.keys(t));for(let n of Ud(this))if(e.has(n)){let r=t[n],a=this;if(Nh(a[n]))if(a[n]instanceof Mv){let o=a[n].reset(r);o==null?z.warn(`unable to set [${String(n)}] - expecting a properties array`):a[n]=o}else a[n].set(r);else bt(r)?a[n]=iv(r,a[n]??{}):a[n]=r;e.delete(n)}this.handleUnknownProperties(e,t);for(let n of e)z.warn(`unable to set [${String(n)}] in ${i} - property is unknown`);return this}clear(){for(let t of Ud(this)){let i=this[t];Nh(i)?i.clear():this[t]=void 0}return this}toJson(){return Ud(this).reduce((t,i)=>{let e=this[i];return t[String(i)]=Nh(e)?e.toJson():e,t},{})}},Mv=class J5 extends Array{constructor(i,...e){super(e.length);let r=(a=>!!a?.prototype?.constructor?.name)(i)?a=>new i().set(a):i;Object.defineProperty(this,"itemFactory",{value:r,enumerable:!1,configurable:!1}),this.set(e)}set(i){if(Xe(i)){this.length=i.length;for(let e=0;e<i.length;e++)this[e]=this.itemFactory(i[e])}return this}reset(i){if(Array.isArray(i))return new J5(this.itemFactory,...i)}toJson(){return this.map(i=>i?.toJson?.()??i)}};function Nh(t){return t instanceof nt||t instanceof Mv}var HR=class extends nt{constructor(){super(...arguments),this.color="black"}};b([C],HR.prototype,"stop",2);b([C],HR.prototype,"color",2);function uce(t){let i;for(let e of t)if(e?.stop!=null){if(i!=null&&e.stop<i)return!1;i=e.stop}return!0}function eG(t){return t.flatMap((i,e)=>{let{stop:n}=i,r=t.at(e+1)?.color;return r!=null?[i,{stop:n,color:r}]:[i]})}function hce(t,i){let e=i==="discrete"?1:0,n=t.map((r,a,{length:o})=>({stop:(a+e)/(o-1+e),color:r}));return i==="discrete"?eG(n):n}function tG(t,i,e,n="continuous"){let r=t.map(p=>typeof p=="string"?{color:p}:p);if(r.length===0)return hce(i,n);if(!uce(r))return z.warnOnce("[fills] must have the stops defined in ascending order"),[];let a=Math.min(...e),o=Math.max(...e),s=n==="discrete",l=new Float64Array(r.length),c=0,d=-1;for(let p=0;p<r.length;p+=1){let g=r[p];if(p>=d){d=r.length-1;for(let v=p+1;v<r.length;v+=1)if(r[v]?.stop!=null){d=v;break}}let y=g?.stop;if(y==null){let v=r[c]?.stop,x=r[d]?.stop,w=v??a,D=x??o,k=s&&v==null?1:0;y=w+(D-w)*(p-c+k)/(d-c+k)}else c=p;l[p]=Math.max(0,Math.min(1,(y-a)/(o-a)))}let u=r.find(p=>p.color!=null)?.color,h,m=r.map((p,g)=>{let y=p?.color,v=l[g];return y!=null?u=y:u!=null?y=u:(h==null&&(h=new Bf,h.domain=[0,1],h.range=i),y=h.convert(v)),{stop:v,color:y}});return n==="discrete"?eG(m):m}var mce=class{constructor(t,i){this.imageLoader=t,this._cache=void 0,this.url=i.url,this.backgroundFill=i.backgroundFill??"black",this.backgroundFillOpacity=i.backgroundFillOpacity??1,this.repeat=i.repeat??"no-repeat",this.width=i.width,this.height=i.height,this.fit=i.fit??"stretch",this.rotation=i.rotation??0}createCanvasImage(t,i,e,n){if(!i)return null;let[r,a]=this.getSize(i.width,i.height,e,n);return r<1||a<1?(z.warnOnce("Image fill is too small to render, ignoring."),null):t.createPattern(i,this.repeat)}getSize(t,i,e,n){let{fit:r}=this,a=t,o=i,s=1,l=e/n,c=t/i;return r==="stretch"||t===0||i===0?(a=e,o=n):r==="contain"?s=c>l?e/t:n/i:r==="cover"&&(s=c>l?n/i:e/t),[Math.max(1,a*s),Math.max(1,o*s)]}setImageTransform(t,i){if(typeof t=="string")return;let{url:e,rotation:n,width:r,height:a}=this,o=this.imageLoader?.loadImage(e);if(!o)return;let s=Ac(n),l=Math.cos(s),c=Math.sin(s),[d,u]=this.getSize(o.width,o.height,r??i.width,a??i.height),h=d/o.width,m=u/o.height,p=i.x+i.width/2,g=i.y+i.height/2,y=l*d-c*u,v=c*d+l*u,x=y/2,w=v/2;t?.setTransform(new DOMMatrix([l*h,c*m,-c*h,l*m,p-x,g-w]))}createPattern(t,i,e,n){let r=this.width??i,a=this.height??e,o=this._cache;if(o!=null&&o.ctx===t&&o.width===r&&o.height===a)return o.pattern;let s=this.imageLoader?.loadImage(this.url,n),l=this.createCanvasImage(t,s,r,a);if(l!=null)return this._cache={ctx:t,pattern:l,width:r,height:a},l}toSvg(t,i){let{url:e,rotation:n,backgroundFill:r,backgroundFillOpacity:a}=this,{x:o,y:s,width:l,height:c}=t,d=Qt("pattern");d.setAttribute("viewBox",`0 0 ${l} ${c}`),d.setAttribute("x",String(o)),d.setAttribute("y",String(s)),d.setAttribute("width",String(l)),d.setAttribute("height",String(c)),d.setAttribute("patternUnits","userSpaceOnUse");let u=Qt("rect");u.setAttribute("x","0"),u.setAttribute("y","0"),u.setAttribute("width",String(l)),u.setAttribute("height",String(c)),u.setAttribute("fill",r),u.setAttribute("fill-opacity",String(a)),d.appendChild(u);let h=Qt("image");return h.setAttribute("href",e),h.setAttribute("x","0"),h.setAttribute("y","0"),h.setAttribute("width",String(l)),h.setAttribute("height",String(c)),h.setAttribute("preserveAspectRatio","none"),h.setAttribute("transform",`scale(${1/i}) rotate(${n}, ${l/2}, ${c/2})`),d.appendChild(h),d}};function KU(t,i,e,n){let r=t-e,a=i-n;return r*r+a*a}function Kw(t,i,e,n,r,a,o){if(e===r&&n===a)return Math.min(o,KU(t,i,e,n));let s=r-e,l=a-n,c=Math.max(0,Math.min(1,((t-e)*s+(i-n)*l)/(s*s+l*l))),d=e+c*s,u=n+c*l;return Math.min(o,KU(t,i,d,u))}var pce=/^[\t\n\f\r ]*([achlmqstvz])[\t\n\f\r ]*/i,Ni=/^[+-]?((\d*\.\d+)|(\d+\.)|(\d+))(e[+-]?\d+)?/i,fce=/[\t\n\f\r ]*,?[\t\n\f\r ]*/,qU=/^[01]/,gce={z:[],h:[Ni],v:[Ni],m:[Ni,Ni],l:[Ni,Ni],t:[Ni,Ni],s:[Ni,Ni,Ni,Ni],q:[Ni,Ni,Ni,Ni],c:[Ni,Ni,Ni,Ni,Ni,Ni],a:[Ni,Ni,Ni,qU,qU,Ni,Ni]};function bce(t){if(!t)return;let i=[],e=0,n;for(;e<t.length;){let r=pce.exec(t.slice(e)),a;if(r==null){if(!n){z.warnOnce(`Invalid SVG path, error at index ${e}: Missing command.`);return}a=n}else a=r[1],e+=r[0].length;let o=yce(a,t,e);if(!o)return;e=o[0],n=a,i.push(o[1])}return i}function yce(t,i,e){let n=gce[t.toLocaleLowerCase()],r={command:t,params:[]};for(let a of n){let o=i.slice(e),s=a.exec(o);if(s!=null){r.params.push(parseFloat(s[0])),e+=s[0].length;let l=fce.exec(o.slice(s[0].length));l!=null&&(e+=l[0].length)}else{if(r.params.length===1)return[e,r];z.warnOnce(`Invalid SVG path, error at index ${e}: No path segment parameters for command [${t}]`);return}}return[e,r]}function vce(t,i){let e=-i/t;return t!==0&&e>=0&&e<=1?[e]:[]}function _ce(t,i,e,n=1e-6){if(Math.abs(t)<n)return vce(i,e);let r=i*i-4*t*e,a=[];if(Math.abs(r)<n){let o=-i/(2*t);o>=0&&o<=1&&a.push(o)}else if(r>0){let o=Math.sqrt(r),s=(-i-o)/(2*t),l=(-i+o)/(2*t);s>=0&&s<=1&&a.push(s),l>=0&&l<=1&&a.push(l)}return a}function xce(t,i,e,n,r=1e-6){if(Math.abs(t)<r)return _ce(i,e,n,r);let a=i/t,o=e/t,s=n/t,l=(3*o-a*a)/9,c=(9*a*o-27*s-2*a*a*a)/54,d=l*l*l+c*c,u=1/3,h=[];if(d>=0){let m=Math.sqrt(d),p=Math.sign(c+m)*Math.pow(Math.abs(c+m),u),g=Math.sign(c-m)*Math.pow(Math.abs(c-m),u),y=Math.abs(Math.sqrt(3)*(p-g)/2),v=-u*a+(p+g);if(v>=0&&v<=1&&h.push(v),Math.abs(y)<r){let x=-u*a-(p+g)/2;x>=0&&x<=1&&h.push(x)}}else{let m=Math.acos(c/Math.sqrt(-l*l*l)),p=u*a,g=2*Math.sqrt(-l),y=g*Math.cos(u*m)-p,v=g*Math.cos(u*(m+2*Math.PI))-p,x=g*Math.cos(u*(m+4*Math.PI))-p;y>=0&&y<=1&&h.push(y),v>=0&&v<=1&&h.push(v),x>=0&&x<=1&&h.push(x)}return h}function Ky(t,i,e,n,r,a,o,s){let l=(e-t)*(s-a)-(n-i)*(o-r);if(l===0)return 0;let c=((o-r)*(i-a)-(t-r)*(s-a))/l,d=((e-t)*(i-a)-(n-i)*(t-r))/l;return c>=0&&c<=1&&d>=0&&d<=1?1:0}function Cce(t,i,e,n,r,a,o,s,l,c,d,u){let h=0,m=c-u,p=d-l,g=l*(u-c)-c*(d-l),y=ZU(t,e,r,o),v=ZU(i,n,a,s),x=m*y[0]+p*v[0],w=m*y[1]+p*v[1],D=m*y[2]+p*v[2],k=m*y[3]+p*v[3]+g,E=xce(x,w,D,k);for(let A of E){let N=A*A,F=A*N,P=y[0]*F+y[1]*N+y[2]*A+y[3],U=v[0]*F+v[1]*N+v[2]*A+v[3],H;l===d?H=(U-c)/(u-c):H=(P-l)/(d-l),H>=0&&H<=1&&h++}return h}function ZU(t,i,e,n){return[-t+3*i-3*e+n,3*t-6*i+3*e,-3*t+3*i,t]}function Sf(t,i,e,n,r){return(1-r)**3*t+3*(1-r)**2*r*i+3*(1-r)*r**2*e+r**3*n}function qw(t,i,e,n,r){if(r<=Math.min(t,n))return t<n?0:1;if(r>=Math.max(t,n))return t<n?1:0;let a=0,o=1,s=NaN;for(let l=0;l<12;l+=1)s=(a+o)/2,Sf(t,i,e,n,s)<r?a=s:o=s;return s}function nv(t,i,e,n,r,a,o,s,l){let c=(1-l)*t+l*e,d=(1-l)*i+l*n,u=(1-l)*e+l*r,h=(1-l)*n+l*a,m=(1-l)*r+l*o,p=(1-l)*a+l*s,g=(1-l)*c+l*u,y=(1-l)*d+l*h,v=(1-l)*u+l*m,x=(1-l)*h+l*p,w=(1-l)*g+l*v,D=(1-l)*y+l*x;return[[{x:t,y:i},{x:c,y:d},{x:g,y},{x:w,y:D}],[{x:w,y:D},{x:v,y:x},{x:m,y:p},{x:o,y:s}]]}function QU(t,i,e,n){let r=-t+3*i-3*e+n,a=2*(t-2*i+e),o=-t+i;if(r===0){if(a!==0){let l=-o/a;if(l>0&&l<1)return[l]}return[]}let s=a*a-4*r*o;if(s>=0){let l=Math.sqrt(s),c=(-a+l)/(2*r),d=(-a-l)/(2*r);return[c,d].filter(u=>u>0&&u<1)}return[]}function iG(t,i,e,n,r,a,o,s){let l=QU(t,e,r,o),c=QU(i,n,a,s);return[...l,...c]}function s1(t,i,e){let n=Sf(t[0].x,t[1].x,t[2].x,t[3].x,.5),r=Sf(t[0].y,t[1].y,t[2].y,t[3].y,.5),a=Math.hypot(n-i,r-e),o=Math.min(Math.hypot(t[0].x-i,t[0].y-e),Math.hypot(t[1].x-i,t[1].y-e),Math.hypot(t[2].x-i,t[2].y-e),Math.hypot(t[3].x-i,t[3].y-e));return{points:t,distance:a,minDistance:o}}function nG(t,i,e,n,r,a,o,s,l,c,d=1){let h={value:s1([{x:t,y:i},{x:e,y:n},{x:r,y:a},{x:o,y:s}],l,c),next:null},m;for(;h!=null;){let{points:p,distance:g,minDistance:y}=h.value;if(h=h.next,(m==null||g<m.distance)&&(m={distance:g,minDistance:y}),m!=null&&m.distance-y<=d)continue;let[v,x]=nv(p[0].x,p[0].y,p[1].x,p[1].y,p[2].x,p[2].y,p[3].x,p[3].y,.5),w=[s1(v,l,c),s1(x,l,c)].sort(XU);h=FU(h,w,XU)}return m?.distance??1/0}var XU=(t,i)=>i.minDistance-t.minDistance,Mf=class{constructor(){this.path2d=new Path2D,this.previousCommands=[],this.previousParams=[],this.previousClosedPath=!1,this.commands=[],this.params=[],this.cx=NaN,this.cy=NaN,this.sx=NaN,this.sy=NaN,this.openedPath=!1,this.closedPath=!1}isEmpty(){return this.commands.length===0}isDirty(){return this.closedPath!==this.previousClosedPath||this.previousCommands.length!==this.commands.length||this.previousParams.length!==this.params.length||this.previousCommands.toString()!==this.commands.toString()||this.previousParams.toString()!==this.params.toString()}getPath2D(){return this.path2d}moveTo(t,i){this.openedPath=!0,this.sx=t,this.sy=i,this.cx=t,this.cy=i,this.path2d.moveTo(t,i),this.commands.push(0),this.params.push(t,i)}lineTo(t,i){this.openedPath?(this.cx=t,this.cy=i,this.path2d.lineTo(t,i),this.commands.push(1),this.params.push(t,i)):this.moveTo(t,i)}cubicCurveTo(t,i,e,n,r,a){this.openedPath||this.moveTo(t,i),this.path2d.bezierCurveTo(t,i,e,n,r,a),this.commands.push(2),this.params.push(t,i,e,n,r,a)}closePath(){this.openedPath&&(this.cx=this.sx,this.cy=this.sy,this.sx=NaN,this.sy=NaN,this.path2d.closePath(),this.commands.push(3),this.openedPath=!1,this.closedPath=!0)}rect(t,i,e,n){this.moveTo(t,i),this.lineTo(t+e,i),this.lineTo(t+e,i+n),this.lineTo(t,i+n),this.closePath()}roundRect(t,i,e,n,r){r=Math.min(r,e/2,n/2),this.moveTo(t,i+r),this.arc(t+r,i+r,r,Math.PI,1.5*Math.PI),this.lineTo(t+r,i),this.lineTo(t+e-r,i),this.arc(t+e-r,i+r,r,1.5*Math.PI,2*Math.PI),this.lineTo(t+e,i+r),this.lineTo(t+e,i+n-r),this.arc(t+e-r,i+n-r,r,0,Math.PI/2),this.lineTo(t+e-r,i+n),this.lineTo(t+r,i+n),this.arc(t+ +r,i+n-r,r,Math.PI/2,Math.PI),this.lineTo(t,i+n-r),this.closePath()}ellipse(t,i,e,n,r,a,o,s=!1){let l=e,c=n/e,d=Math.cos(r),u=Math.sin(r),h=-c*u,m=c*d,p=l*Math.cos(a),g=l*Math.sin(a),y=t+d*p+h*g,v=i+u*p+m*g,x=(y-this.cx)**2+(v-this.cy)**2;this.openedPath?x>1e-6&&this.lineTo(y,v):this.moveTo(y,v);let w=s?-Dn(a-o):Dn(o-a);Math.abs(Math.abs(o-a)-2*Math.PI)<1e-6&&w<2*Math.PI&&(w+=2*Math.PI*(s?-1:1));let D=Math.max(Math.ceil(Math.abs(w)/(Math.PI/2)),1),k=w/D,E=4/3*Math.tan(k/4);for(let A=0;A<D;A+=1){let N=a+k*(A+0),F=a+k*(A+1),P=l*Math.sin(N),U=l*Math.cos(N),H=l*Math.sin(F),q=l*Math.cos(F),he=U-E*P,ne=P+E*U,Oe=q+E*H,st=H-E*q,Ct=q,Zt=H;this.cubicCurveTo(t+d*he+h*ne,i+u*he+m*ne,t+d*Oe+h*st,i+u*Oe+m*st,t+d*Ct+h*Zt,i+u*Ct+m*Zt)}}arc(t,i,e,n,r,a){this.ellipse(t,i,e,e,0,n,r,a)}appendSvg(t){let i=bce(t);if(i==null)return!1;let e=0,n=0,r,a,o=0,s=0;for(let{command:l,params:c}of i){r??(r=c[0]),a??(a=c[1]);let d=l===l.toLowerCase(),u=d?r:0,h=d?a:0;switch(l.toLowerCase()){case"m":this.moveTo(u+c[0],h+c[1]),r=u+c[0],a=h+c[1],e=r,n=a;break;case"c":this.cubicCurveTo(u+c[0],h+c[1],u+c[2],h+c[3],u+c[4],h+c[5]),o=u+c[2],s=h+c[3],r=u+c[4],a=h+c[5];break;case"s":this.cubicCurveTo(r+r-o,a+a-s,u+c[0],h+c[1],u+c[2],h+c[3]),o=u+c[0],s=h+c[1],r=u+c[2],a=h+c[3];break;case"q":this.cubicCurveTo((u+2*c[0])/3,(h+2*c[1])/3,(2*c[0]+c[2])/3,(2*c[1]+c[3])/3,c[2],c[3]),o=c[0],s=c[1],r=c[2],a=c[3];break;case"t":this.cubicCurveTo((r+2*(r+r-o))/3,(a+2*(a+a-s))/3,(2*(r+r-o)+c[0])/3,(2*(a+a-s)+c[1])/3,c[0],c[1]),o=r+r-o,s=a+a-s,r=c[0],a=c[1];break;case"a":this.svgEllipse(r,a,c[0],c[1],c[2]*Math.PI/180,c[3],c[4],u+c[5],h+c[6]),r=u+c[5],a=h+c[6];break;case"h":this.lineTo(u+c[0],a),r=u+c[0];break;case"l":this.lineTo(u+c[0],h+c[1]),r=u+c[0],a=h+c[1];break;case"v":this.lineTo(r,h+c[0]),a=h+c[0];break;case"z":this.closePath(),r=e,a=n;break;default:throw new Error(`Could not translate command '${l}' with '${c.join(" ")}'`)}}return!0}svgEllipse(t,i,e,n,r,a,o,s,l){e=Math.abs(e),n=Math.abs(n);let c=(t-s)/2,d=(i-l)/2,u=Math.sin(r),h=Math.cos(r),m=h*c+u*d,p=-u*c+h*d,g=m/e,y=p/n,v=g*g+y*y,x=(t+s)/2,w=(i+l)/2,D=0,k=0;v>=1?(v=Math.sqrt(v),e*=v,n*=v):(v=Math.sqrt(1/v-1),a===o&&(v=-v),D=v*e*y,k=-v*n*g,x+=h*D-u*k,w+=u*D+h*k);let E=Math.atan2((p-k)/n,(m-D)/e),A=Math.atan2((-p-k)/n,(-m-D)/e)-E,N=E+A,F=!!(1-o);this.ellipse(x,w,e,n,r,E,N,F)}clear(t){t&&(this.previousCommands=this.commands,this.previousParams=this.params,this.previousClosedPath=this.closedPath),this.path2d=new Path2D,this.openedPath=!1,this.closedPath=!1,this.commands=[],this.params=[]}isPointInPath(t,i){let e=this.commands,n=this.params,r=e.length,a=-1e4,o=-1e4,s=NaN,l=NaN,c=0,d=0,u=0;for(let h=0,m=0;h<r;h++)switch(e[h]){case 0:u+=Ky(s,l,c,d,a,o,t,i),c=n[m++],s=c,d=n[m++],l=d;break;case 1:u+=Ky(c,d,n[m++],n[m++],a,o,t,i),c=n[m-2],d=n[m-1];break;case 2:u+=Cce(c,d,n[m++],n[m++],n[m++],n[m++],n[m++],n[m++],a,o,t,i),c=n[m-2],d=n[m-1];break;case 3:u+=Ky(s,l,c,d,a,o,t,i);break}return u%2===1}distanceSquared(t,i){let e=1/0,n=this.commands,r=this.params,a=n.length,o=NaN,s=NaN,l=0,c=0;for(let d=0,u=0;d<a;d++)switch(n[d]){case 0:l=o=r[u++],c=s=r[u++];break;case 1:{let x=l,w=c;l=r[u++],c=r[u++],e=Kw(t,i,x,w,l,c,e);break}case 2:let h=l,m=c,p=r[u++],g=r[u++],y=r[u++],v=r[u++];l=r[u++],c=r[u++],e=nG(h,m,p,g,y,v,l,c,t,i)**2;break;case 3:e=Kw(t,i,l,c,o,s,e);break}return e}toSVG(t=(i,e)=>({x:i,y:e})){let i=[],{commands:e,params:n}=this,r=(o,s)=>{i.push(o);for(let l=0;l<s;l+=2){let{x:c,y:d}=t(n[a++],n[a++]);i.push(c,d)}},a=0;for(let o of e)switch(o){case 0:r("M",2);break;case 1:r("L",2);break;case 2:r("C",6);break;case 3:r("Z",0);break}return i.join(" ")}computeBBox(){let{commands:t,params:i}=this,[e,n,r,a]=[1/0,1/0,-1/0,-1/0],[o,s]=[NaN,NaN],[l,c]=[NaN,NaN],d=(h,m)=>{e=Math.min(m,e),n=Math.min(h,n),r=Math.max(h,r),a=Math.max(m,a),o=h,s=m},u=0;for(let h of t)switch(h){case 0:d(i[u++],i[u++]),l=o,c=s;break;case 1:d(i[u++],i[u++]);break;case 2:{let m=o,p=s,g=i[u++],y=i[u++],v=i[u++],x=i[u++],w=i[u++],D=i[u++];iG(m,p,g,y,v,x,w,D).forEach(E=>{let A=Sf(m,g,v,w,E),N=Sf(p,y,x,D,E);d(A,N)}),d(w,D);break}case 3:d(l,c),l=NaN,c=NaN;break}return new we(n,e,r-n,a-e)}};function Xn(t,i,e){let n=Math.round(i*t)/t;return e==null?n:e===0?0:e<1?Math.ceil(e*t)/t:Math.round((e+i)*t)/t-n}function JU(t,i){return Math.floor(i*t)/t}function l1(t,i,e){let{width:n,height:r,padding:a,strokeWidth:o}=i,s=n/2,l=r/2,c=Math.max(1,n-a-o/2),d=Math.max(1,r-a-o/2),u=!1;for(let[h,m]of e){let p=s+(h-.5)*c,g=l+(m-.5)*d;u?t.lineTo(p,g):t.moveTo(p,g),u=!0}t.closePath()}var eH={circles(t,{width:i,strokeWidth:e,padding:n}){let r=i/2,a=Math.max(1,r-n-e/2);t.arc(r,r,a,0,Math.PI*2)},squares(t,{width:i,height:e,pixelRatio:n,padding:r,strokeWidth:a}){let o=r+a/2;t.moveTo(Xn(n,o),Xn(n,o)),t.lineTo(Xn(n,i-o),Xn(n,o)),t.lineTo(Xn(n,i-o),Xn(n,e-o)),t.lineTo(Xn(n,o),Xn(n,e-o)),t.closePath()},triangles(t,i){l1(t,i,[[.5,0],[1,1],[0,1]])},diamonds(t,i){l1(t,i,[[.5,0],[1,.5],[.5,1],[0,.5]])},stars(t,{width:i,height:e,padding:n}){let a=Math.max(1,(i-n)/2),o=a/2,s=Math.PI/2;for(let l=0;l<5*2;l++){let c=l%2===0?a:o,d=l*Math.PI/5-s,u=i/2+Math.cos(d)*c,h=e/2+Math.sin(d)*c;t.lineTo(u,h)}t.closePath()},hearts(t,{width:i,height:e,padding:n}){let r=Math.max(1,i/4-n/2),a=i/2,o=e/2+r/2;t.arc(a-r,o-r,r,Tr(130),Tr(330)),t.arc(a+r,o-r,r,Tr(220),Tr(50)),t.lineTo(a,o+r),t.closePath()},crosses(t,i){l1(t,i,[[.25,0],[.5,.25],[.75,0],[1,.25],[.75,.5],[1,.75],[.75,1],[.5,.75],[.25,1],[0,.75],[.25,.5],[0,.25]])},"vertical-lines"(t,{width:i,height:e,pixelRatio:n,strokeWidth:r}){let a=Xn(n,i/2)-r%2/2;t.moveTo(a,0),t.lineTo(a,e)},"horizontal-lines"(t,{width:i,height:e,pixelRatio:n,strokeWidth:r}){let a=Xn(n,e/2)-r%2/2;t.moveTo(0,a),t.lineTo(i,a)},"forward-slanted-lines"(t,{width:i,height:e,strokeWidth:n}){let r=Math.atan2(e,i),a=n*Math.cos(r),o=n*Math.sin(r);t.moveTo(-a,o),t.lineTo(a,-o),t.moveTo(-a,e+o),t.lineTo(i+a,-o),t.moveTo(i-a,e+o),t.lineTo(i+a,e-o)},"backward-slanted-lines"(t,{width:i,height:e,strokeWidth:n}){let r=Math.atan2(e,i),a=n*Math.cos(r),o=n*Math.sin(r);t.moveTo(i-a,-o),t.lineTo(i+a,o),t.moveTo(-a,-o),t.lineTo(i+a,e+o),t.moveTo(-a,e-o),t.lineTo(a,e+o)}},wce=class{constructor(t){this._cache=void 0,this.width=Math.max(t?.width??10,1),this.height=Math.max(t?.height??10,1),this.fill=t.fill??"none",this.fillOpacity=t.fillOpacity??1,this.backgroundFill=t.backgroundFill??"none",this.backgroundFillOpacity=t.backgroundFillOpacity??1,this.stroke=t.stroke??"black",this.strokeOpacity=t.strokeOpacity??1,this.strokeWidth=t.strokeWidth??1,this.padding=t.padding??1,this.pattern=t.pattern??"forward-slanted-lines",this.rotation=t.rotation??0,this.scale=t.scale??1,this.path=t.path}getPath(t){let{pattern:i,width:e,height:n,padding:r,strokeWidth:a,path:o}=this,s=new Mf,l=eH[i]!=null;return o&&l&&(l=!s.appendSvg(o)),l&&eH[i](s,{width:e,height:n,pixelRatio:t,strokeWidth:a,padding:r}),s}renderStroke(t,i){let{stroke:e,strokeWidth:n,strokeOpacity:r}=this;n&&(i.strokeStyle=e,i.lineWidth=n,i.globalAlpha=r,i.stroke(t))}renderFill(t,i){let{fill:e,fillOpacity:n}=this;e!=="none"&&(i.fillStyle=e,i.globalAlpha=n,i.fill(t))}createCanvasPattern(t,i){let{width:e,height:n,scale:r,backgroundFill:a,backgroundFillOpacity:o}=this;if(e*r<1||n*r<1)return z.warnOnce("Pattern fill is too small to render, ignoring."),null;let s=new NR({width:e,height:n,pixelRatio:i*r}),l=s.context;a!=="none"&&(l.fillStyle=a,l.globalAlpha=o,l.fillRect(0,0,e,n));let c=this.getPath(i).getPath2D();this.renderFill(c,l),this.renderStroke(c,l);let d=t.createPattern(s.canvas,"repeat");return this.setPatternTransform(d,i),s.destroy(),d}setPatternTransform(t,i,e=0,n=0){if(t==null)return;let r=Ac(this.rotation),a=1/i,o=Math.cos(r)*a,s=Math.sin(r)*a;t.setTransform(new DOMMatrix([o,s,-s,o,e,n]))}createPattern(t,i){if(this._cache!=null&&this._cache.ctx===t&&this._cache.pixelRatio===i)return this._cache.pattern;let e=this.createCanvasPattern(t,i);if(e!=null)return this._cache={ctx:t,pattern:e,pixelRatio:i},e}toSvg(){let{width:t,height:i,fill:e,fillOpacity:n,backgroundFill:r,backgroundFillOpacity:a,stroke:o,strokeWidth:s,strokeOpacity:l,rotation:c,scale:d}=this,u=Qt("pattern");u.setAttribute("viewBox",`0 0 ${t} ${i}`),u.setAttribute("width",String(t)),u.setAttribute("height",String(i)),u.setAttribute("patternUnits","userSpaceOnUse");let h=Qt("rect");h.setAttribute("x","0"),h.setAttribute("y","0"),h.setAttribute("width",String(t)),h.setAttribute("height",String(i)),h.setAttribute("fill",r),h.setAttribute("fill-opacity",String(a)),u.appendChild(h);let m=Qt("path");return m.setAttribute("fill",e),m.setAttribute("fill-opacity",String(n)),m.setAttribute("stroke-opacity",String(l)),m.setAttribute("stroke",o),m.setAttribute("stroke-width",String(s)),m.setAttribute("transform",`rotate(${c}) scale(${d})`),m.setAttribute("d",this.getPath(1).toSVG()),u.appendChild(m),u}};function Os(t){return qt(t)&&t.type=="gradient"}function Dce(t){return Xe(t)&&t.every(i=>typeof i=="string")}function qd(t){return t!==null&&qt(t)&&t.type=="pattern"}function jh(t){return t!==null&&qt(t)&&t.type=="image"}function Sce(t){return Os(t)||qd(t)}function tH(t,i){let{fontStyle:e,fontWeight:n,fontSize:r,fontFamily:a}=i;e&&t.setAttribute("font-style",e),n&&t.setAttribute("font-weight",String(n)),r!=null&&t.setAttribute("font-size",String(r)),a&&t.setAttribute("font-family",a)}function Mce(t,i){let{stroke:e,strokeWidth:n,strokeOpacity:r}=i;e&&t.setAttribute("stroke",e),n!=null&&t.setAttribute("stroke-width",String(n)),r!=null&&t.setAttribute("stroke-opacity",String(r))}function Ice(t,i){let{lineDash:e,lineDashOffset:n}=i;if(e?.some(r=>r!==0)){let r=e.length%2===1?[...e,...e]:e;t.setAttribute("stroke-dasharray",r.join(" ")),n!=null&&t.setAttribute("stroke-dashoffset",String(n))}}var Sn=class extends kc{constructor(){super(...arguments),this.fillOpacity=1,this.strokeOpacity=1,this.fill="black",this.strokeWidth=0,this.lineDashOffset=0,this.opacity=1}getGradient(t){if(Os(t))return this.createGradient(t)}createGradient(t){let{colorSpace:i="rgb",gradient:e="linear",colorStops:n,rotation:r=0,reverse:a=!1}=t;if(n==null)return;let o=tG(n,["black"],[0,1]);switch(a&&(o=o.map(s=>({color:s.color,stop:1-s.stop})).reverse()),e){case"linear":return new X5(i,o,r);case"radial":return new dce(i,o);case"conic":return new Q5(i,o,r)}}getPattern(t){if(qd(t))return this.createPattern(t)}createPattern(t){return new wce(t)}getImage(t){if(jh(t))return this.createImage(t)}createImage(t){return new mce(this.imageLoader,t)}onFillChange(){typeof this.fill=="object"&&Ln(this._cachedFill??{},this.fill)||(this.fillGradient=this.getGradient(this.fill),this.fillPattern=this.getPattern(this.fill),this.fillImage=this.getImage(this.fill),this._cachedFill=this.fill)}onStrokeChange(){this.strokeGradient=this.getGradient(this.stroke)}align(t,i){return Xn(this.layerManager?.canvas?.pixelRatio??1,t,i)}markDirty(t){super.markDirty(t),this.cachedDefaultGradientFillBBox=void 0}fillStroke(t,i){this.renderFill(t,i),this.renderStroke(t,i)}renderFill(t,i){let{fill:e,fillOpacity:n,fillImage:r}=this;if(e!=null&&e!=="none"&&n>0){let{globalAlpha:a}=t;r&&(t.globalAlpha=r.backgroundFillOpacity,t.fillStyle=r.backgroundFill,this.executeFill(t,i),t.globalAlpha=a),this.applyFillAndAlpha(t),this.applyShadow(t),this.executeFill(t,i),t.globalAlpha=a,t.shadowColor="rgba(0, 0, 0, 0)"}}executeFill(t,i){i?t.fill(i):t.fill()}applyFillAndAlpha(t){let{fill:i,fillGradient:e,fillPattern:n,fillImage:r,fillOpacity:a=1,opacity:o=1}=this;if(t.globalAlpha*=o*a,e){let{fillBBox:s=this.getDefaultGradientFillBBox()??this.getBBox(),fillParams:l}=this;t.fillStyle=e.createGradient(t,s,l)??"black"}else if(n){let{x:s,y:l}=this.getBBox(),c=this.layerManager?.canvas?.pixelRatio??1,d=n.createPattern(t,c);n.setPatternTransform(d,c,s,l),d?t.fillStyle=d:(t.fillStyle=n.fill,t.globalAlpha*=n.fillOpacity)}else if(r){let s=this.getBBox(),l=r.createPattern(t,s.width,s.height,this);r.setImageTransform(l,s),t.fillStyle=l??"transparent"}else t.fillStyle=typeof i=="string"?i:"black"}applyStrokeAndAlpha(t){let{stroke:i,strokeOpacity:e=1,strokeGradient:n,opacity:r=1}=this;t.strokeStyle=n?.createGradient(t,this.getBBox())??(typeof i=="string"?i:void 0)??"black",t.globalAlpha*=r*e}applyShadow(t){let i=this.layerManager?.canvas.pixelRatio??1,e=this.fillShadow;e?.enabled&&(t.shadowColor=e.color,t.shadowOffsetX=e.xOffset*i,t.shadowOffsetY=e.yOffset*i,t.shadowBlur=e.blur*i)}renderStroke(t,i){let{stroke:e,strokeWidth:n,strokeOpacity:r,lineDash:a,lineDashOffset:o,lineCap:s,lineJoin:l,miterLimit:c}=this;if(e!=null&&e!=="none"&&n>0&&r>0){let{globalAlpha:d}=t;this.applyStrokeAndAlpha(t),t.lineWidth=n,a&&t.setLineDash(a),o&&(t.lineDashOffset=o),s&&(t.lineCap=s),l&&(t.lineJoin=l),c!=null&&(t.miterLimit=c),this.executeStroke(t,i),t.globalAlpha=d}}executeStroke(t,i){i?t.stroke(i):t.stroke()}getDefaultGradientFillBBox(){return this.cachedDefaultGradientFillBBox??(this.cachedDefaultGradientFillBBox=Object.freeze(this.computeDefaultGradientFillBBox())),this.cachedDefaultGradientFillBBox}computeDefaultGradientFillBBox(){}containsPoint(t,i){return this.isPointInPath(t,i)}applySvgFillAttributes(t,i){let{fill:e,fillOpacity:n}=this;if(typeof e=="string")t.setAttribute("fill",e);else if(Os(e)&&this.fillGradient){i??(i=[]);let r=this.fillGradient.toSvg(this.fillBBox??this.getBBox()),a=uw();r.setAttribute("id",a),i.push(r),t.setAttribute("fill",`url(#${a})`)}else if(qd(e)&&this.fillPattern){i??(i=[]);let r=this.fillPattern.toSvg(),a=uw();r.setAttribute("id",a),i.push(r),t.setAttribute("fill",`url(#${a})`)}else if(jh(e)&&this.fillImage){i??(i=[]);let r=this.layerManager?.canvas?.pixelRatio??1,a=this.fillImage.toSvg(this.getBBox(),r),o=uw();a.setAttribute("id",o),i.push(a),t.setAttribute("fill",`url(#${o})`)}else t.setAttribute("fill","none");return t.setAttribute("fill-opacity",String(n)),i}applySvgStrokeAttributes(t){let{stroke:i,strokeOpacity:e,strokeWidth:n,lineDash:r,lineDashOffset:a}=this;Mce(t,{stroke:Gi(i)?i:void 0,strokeOpacity:e,strokeWidth:n}),Ice(t,{lineDash:r,lineDashOffset:a})}};b([te()],Sn.prototype,"fillOpacity",2);b([te()],Sn.prototype,"strokeOpacity",2);b([uo({equals:Ln,changeCb:t=>t.onFillChange()})],Sn.prototype,"fill",2);b([uo({equals:Ln,changeCb:t=>t.onStrokeChange()})],Sn.prototype,"stroke",2);b([te()],Sn.prototype,"strokeWidth",2);b([jR()],Sn.prototype,"lineDash",2);b([te()],Sn.prototype,"lineDashOffset",2);b([te()],Sn.prototype,"lineCap",2);b([te()],Sn.prototype,"lineJoin",2);b([te()],Sn.prototype,"miterLimit",2);b([te({convertor:t=>Ae(0,t??1,1)})],Sn.prototype,"opacity",2);b([uo({equals:Vf,checkDirtyOnAssignment:!0})],Sn.prototype,"fillShadow",2);b([uo({equals:qp,changeCb:t=>t.onFillChange()})],Sn.prototype,"fillBBox",2);b([uo({equals:Ln,changeCb:t=>t.onFillChange()})],Sn.prototype,"fillParams",2);var rG=[1,0,0,1,0,0],Ec=class Aw{get e(){return[...this.elements]}constructor(i=rG){this.elements=[...i]}setElements(i){let e=this.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],this}get identity(){let i=this.elements;return ma(i[0],1)&&ma(i[1],0)&&ma(i[2],0)&&ma(i[3],1)&&ma(i[4],0)&&ma(i[5],0)}AxB(i,e,n){let r=i[0]*e[0]+i[2]*e[1],a=i[1]*e[0]+i[3]*e[1],o=i[0]*e[2]+i[2]*e[3],s=i[1]*e[2]+i[3]*e[3],l=i[0]*e[4]+i[2]*e[5]+i[4],c=i[1]*e[4]+i[3]*e[5]+i[5];n=n??i,n[0]=r,n[1]=a,n[2]=o,n[3]=s,n[4]=l,n[5]=c}multiplySelf(i){return this.AxB(this.elements,i.elements),this}multiply(i){let e=new Array(6);return i instanceof Aw?this.AxB(this.elements,i.elements,e):this.AxB(this.elements,[i.a,i.b,i.c,i.d,i.e,i.f],e),new Aw(e)}preMultiplySelf(i){return this.AxB(i.elements,this.elements,this.elements),this}inverse(){let i=this.elements,e=i[0],n=i[1],r=i[2],a=i[3],o=i[4],s=i[5],l=1/(e*a-n*r);return e*=l,n*=l,r*=l,a*=l,new Aw([a,-n,-r,e,r*s-a*o,n*o-e*s])}invertSelf(){let i=this.elements,e=i[0],n=i[1],r=i[2],a=i[3],o=i[4],s=i[5],l=1/(e*a-n*r);return e*=l,n*=l,r*=l,a*=l,i[0]=a,i[1]=-n,i[2]=-r,i[3]=e,i[4]=r*s-a*o,i[5]=n*o-e*s,this}transformPoint(i,e){let n=this.elements;return{x:i*n[0]+e*n[2]+n[4],y:i*n[1]+e*n[3]+n[5]}}transformBBox(i,e){let n=this.elements,r=n[0],a=n[1],o=n[2],s=n[3],l=i.width*.5,c=i.height*.5,d=i.x+l,u=i.y+c,h=Math.abs(l*r)+Math.abs(c*o),m=Math.abs(l*a)+Math.abs(c*s);return e??(e=new we(0,0,0,0)),e.x=d*r+u*o+n[4]-h,e.y=d*a+u*s+n[5]-m,e.width=h+h,e.height=m+m,e}toContext(i){if(this.identity)return;let e=this.elements;i.transform(e[0],e[1],e[2],e[3],e[4],e[5])}static updateTransformMatrix(i,e,n,r,a,o,s){let l=e,c=n,d,u;l===1&&c===1?(d=0,u=0):(d=s?.scalingCenterX??0,u=s?.scalingCenterY??0);let h=r,m=Math.cos(h),p=Math.sin(h),g,y;h===0?(g=0,y=0):(g=s?.rotationCenterX??0,y=s?.rotationCenterY??0);let v=a,x=o,w=d*(1-l)-g,D=u*(1-c)-y;return i.setElements([m*l,p*l,-p*c,m*c,m*w-p*D+g+v,p*w+m*D+y+x]),i}};function Rd(t){return oG(t.constructor)}var aG=Symbol("isMatrixTransform");function oG(t){return t[aG]===!0}function GR(t){var i,e;let n=t;if(oG(t))return t;let r=Symbol("matrix_combined_transform");class a extends n{constructor(){super(...arguments),this[e]=new Ec,this._dirtyTransform=!0}onChangeDetection(s){super.onChangeDetection(s),this._dirtyTransform=!0,!(this.batchLevel>0)&&this.markDirty("transform")}updateMatrix(s){}computeTransformMatrix(){this._dirtyTransform&&(this[r].setElements(rG),this.updateMatrix(this[r]),this._dirtyTransform=!1)}toParent(s){return this.computeTransformMatrix(),this[r].identity?s.clone():this[r].transformBBox(s)}toParentPoint(s,l){return this.computeTransformMatrix(),this[r].identity?{x:s,y:l}:this[r].transformPoint(s,l)}fromParent(s){return this.computeTransformMatrix(),this[r].identity?s.clone():this[r].inverse().transformBBox(s)}fromParentPoint(s,l){return this.computeTransformMatrix(),this[r].identity?{x:s,y:l}:this[r].inverse().transformPoint(s,l)}computeBBox(){let s=super.computeBBox();return s&&this.toParent(s)}computeBBoxWithoutTransforms(){return super.computeBBox()}pickNode(s,l){return{x:s,y:l}=this.fromParentPoint(s,l),super.pickNode(s,l)}pickNodes(s,l,c){return{x:s,y:l}=this.fromParentPoint(s,l),super.pickNodes(s,l,c)}render(s){this.computeTransformMatrix();let{ctx:l}=s,c=this[r],d=!1;try{c.identity||(l.save(),d=!0,c.toContext(l)),super.render(s)}finally{d&&l.restore()}}toSVG(){this.computeTransformMatrix();let s=super.toSVG(),l=this[r];if(l.identity||s==null)return s;let c=Qt("g");c.append(...s.elements);let[d,u,h,m,p,g]=l.e;return c.setAttribute("transform",`matrix(${d} ${u} ${h} ${m} ${p} ${g})`),{elements:[c],defs:s.defs}}}return i=aG,e=r,a[i]=!0,a}function zf(t){var i;let e=t,n=Symbol("matrix_rotation");class r extends GR(e){constructor(){super(...arguments),this[i]=new Ec,this.rotationCenterX=0,this.rotationCenterY=0,this.rotation=0}updateMatrix(o){super.updateMatrix(o);let{rotation:s,rotationCenterX:l,rotationCenterY:c}=this;s!==0&&(Ec.updateTransformMatrix(this[n],1,1,s,0,0,{rotationCenterX:l,rotationCenterY:c}),o.multiplySelf(this[n]))}}return i=n,b([te()],r.prototype,"rotationCenterX",2),b([te()],r.prototype,"rotationCenterY",2),b([te()],r.prototype,"rotation",2),r}function WR(t){var i;let e=t,n=Symbol("matrix_scale");class r extends GR(e){constructor(){super(...arguments),this[i]=new Ec,this.scalingX=1,this.scalingY=1,this.scalingCenterX=0,this.scalingCenterY=0}updateMatrix(o){super.updateMatrix(o);let{scalingX:s,scalingY:l,scalingCenterX:c,scalingCenterY:d}=this;s===1&&l===1||(Ec.updateTransformMatrix(this[n],s,l,0,0,0,{scalingCenterX:c,scalingCenterY:d}),o.multiplySelf(this[n]))}}return i=n,b([te()],r.prototype,"scalingX",2),b([te()],r.prototype,"scalingY",2),b([te()],r.prototype,"scalingCenterX",2),b([te()],r.prototype,"scalingCenterY",2),r}function jf(t){var i;let e=t,n=Symbol("matrix_translation");class r extends GR(e){constructor(){super(...arguments),this[i]=new Ec,this.translationX=0,this.translationY=0}updateMatrix(o){super.updateMatrix(o);let{translationX:s,translationY:l}=this;s===0&&l===0||(Ec.updateTransformMatrix(this[n],1,1,0,s,l),o.multiplySelf(this[n]))}}return i=n,b([te()],r.prototype,"translationX",2),b([te()],r.prototype,"translationY",2),r}var an=class{static fromCanvas(t,i){let e=[];for(let n of t.traverseUp())Rd(n)&&e.unshift(n);for(let n of e)i=n.fromParent(i);return Rd(t)&&(i=t.fromParent(i)),i}static toCanvas(t,i){i==null?i=t.getBBox():Rd(t)&&(i=t.toParent(i));for(let e of t.traverseUp())Rd(e)&&(i=e.toParent(i));return i}static fromCanvasPoint(t,i,e){let n=[];for(let r of t.traverseUp())Rd(r)&&n.unshift(r);for(let r of n)({x:i,y:e}=r.fromParentPoint(i,e));return Rd(t)&&({x:i,y:e}=t.fromParentPoint(i,e)),{x:i,y:e}}static toCanvasPoint(t,i,e){Rd(t)&&({x:i,y:e}=t.toParentPoint(i,e));for(let n of t.traverseUp())Rd(n)&&({x:i,y:e}=n.toParentPoint(i,e));return{x:i,y:e}}},Ly,sG=(()=>{let t=class zy extends kc{constructor(e){super(e),this.childNodes=new Set,this.dirty=!1,this.dirtyZIndex=!1,this.clipRect=void 0,this.opacity=1,this.renderToOffscreenCanvas=!1,this.optimizeForInfrequentRedraws=!1,this.layer=void 0,this.image=void 0,this._lastWidth=NaN,this._lastHeight=NaN,this._lastDevicePixelRatio=NaN,this.isContainerNode=!0,this.renderToOffscreenCanvas=e?.renderToOffscreenCanvas===!0}static is(e){return e instanceof zy}static computeChildrenBBox(e,n=!0){return we.merge(kc.extractBBoxes(e,n))}static compareChildren(e,n){return Y5(e.zIndex,n.zIndex)||e.serialNumber-n.serialNumber}containsPoint(e,n){return!0}computeBBox(){return zy.computeChildrenBBox(this.children())}computeSafeClippingBBox(e){let n=this.computeBBox();if(n?.isFinite()!==!0)return;let r=0,a=4;for(let m of this.descendants())m instanceof Sn&&(r=Math.max(r,m.strokeWidth));let o=Math.max(1,r/2*a),{x:s,y:l}=an.toCanvasPoint(this,0,0),c=JU(e,s+n.x-o)-s,d=JU(e,l+n.y-o)-l,u=Math.ceil(n.x+n.width-c+o),h=Math.ceil(n.y+n.height-d+o);return new we(c,d,u,h)}prepareSharedCanvas(e,n,r){return Ly==null||Ly.pixelRatio!==r?Ly=new NR({width:e,height:n,pixelRatio:r}):Ly.resize(e,n,r),Ly}setScene(e){super.setScene(e),this.layer&&(this.scene?.layersManager.removeLayer(this.layer),this.layer=void 0);for(let n of this.children())n.setScene(e)}markDirty(e){this.dirty=!0,super.markDirty(e)}markDirtyChildrenOrder(){super.markDirtyChildrenOrder(),this.dirtyZIndex=!0,this.markDirty()}append(e){for(let n of MU(e))n.parentNode?.removeChild(n),this.childNodes.add(n),n.parentNode=this,n.setScene(this.scene);this.markDirtyChildrenOrder(),this.markDirty()}appendChild(e){return this.append(e),e}removeChild(e){if(!this.childNodes?.delete(e))throw new Error(`AG Charts - internal error, unknown child node ${e.name??e.id} in $${this.name??this.id}`);e.parentNode=void 0,e.setScene(),this.markDirtyChildrenOrder(),this.markDirty()}clear(){for(let e of this.children())delete e.parentNode,e.setScene();this.childNodes?.clear(),this.markDirty()}pickNode(e,n){if(!(!this.visible||this.pointerEvents===1||!this.containsPoint(e,n))){if(this.childNodes!=null&&this.childNodes.size!==0){let r=[...this.children()];for(let a=r.length-1;a>=0;a--){let s=r[a].pickNode(e,n);if(s!=null)return s}}else if(!this.isContainerNode)return this}}pickNodes(e,n,r=[]){if(!this.visible||this.pointerEvents===1||!this.containsPoint(e,n))return r;this.isContainerNode||r.push(this);for(let a of this.children())a.pickNodes(e,n,r);return r}isDirty(e){let{width:n,height:r,devicePixelRatio:a}=e,{dirty:o,layer:s}=this,l=s!=null&&(this._lastWidth!==n||this._lastHeight!==r),c=this._lastDevicePixelRatio!==a;return this._lastWidth=n,this._lastHeight=r,this._lastDevicePixelRatio=a,o||l||c}preRender(e){let n;if(this.dirty){n=super.preRender(e,0);for(let r of this.children()){let a=r.preRender(e);n.groups+=a.groups,n.nonGroups+=a.nonGroups,n.complexity+=a.complexity}n.groups+=1,n.nonGroups-=1}else n=this.childNodeCounts;return this.renderToOffscreenCanvas&&!this.optimizeForInfrequentRedraws&&n.nonGroups>0&&this.getVisibility()?this.layer??(this.layer=this.layerManager?.addLayer({name:this.name})):this.layer!=null&&(this.layerManager?.removeLayer(this.layer),this.layer=void 0),n}render(e){let{layer:n,renderToOffscreenCanvas:r}=this,a=f({},e),o=this.isDirty(e);if(this.dirty=!1,!r){this.renderInContext(a),super.render(a);return}let{ctx:s,stats:l,devicePixelRatio:c}=e,{image:d}=this;if(o){d?.bitmap.close(),d=void 0;let h=n?void 0:this.computeSafeClippingBBox(c),m=(p,...g)=>{let y=p.context;a.ctx=y,p.clear(),y.save();try{y.setTransform(...g),y.globalAlpha=1,this.renderInContext(a)}finally{y.restore(),y.verifyDepthZero?.()}};if(n)m(n,s.getTransform());else if(h){let{x:p,y:g,width:y,height:v}=h,x=this.prepareSharedCanvas(y,v,c);m(x,c,0,0,c,-p*c,-g*c),d={bitmap:x.transferToImageBitmap(),x:p,y:g,width:y,height:v}}this.image=d,l&&l.layersRendered++}else l&&l.layersSkipped++;let{globalAlpha:u}=s;if(s.globalAlpha=u*this.opacity,n){s.save();try{s.resetTransform(),n.drawImage(s)}finally{s.restore()}}else if(d){let{bitmap:h,x:m,y:p,width:g,height:y}=d;s.drawImage(h,0,0,g*c,y*c,m,p,g,y)}s.globalAlpha=u,super.render(a)}applyClip(e,n){let{x:r,y:a,width:o,height:s}=n;e.beginPath(),e.rect(r,a,o,s),e.clip()}renderInContext(e){let{ctx:n,stats:r}=e;this.dirtyZIndex&&(this.sortChildren(zy.compareChildren),this.dirtyZIndex=!1),n.save();try{n.globalAlpha*=this.opacity,this.clipRect!=null&&(this.applyClip(n,this.clipRect),e.clipBBox=an.toCanvas(this,this.clipRect));for(let a of this.children()){if(!a.visible){r&&(r.nodesSkipped+=a.childNodeCounts.nonGroups+a.childNodeCounts.groups,r.opsSkipped+=a.childNodeCounts.complexity);continue}a.isolatedRender(e)}}finally{n.restore()}}sortChildren(e){if(!this.childNodes)return;let n=[...this.childNodes].sort(e);this.childNodes.clear();for(let r of n)this.childNodes.add(r)}*children(){yield*sm(this.childNodes)}*excludeChildren(e){for(let n of this.children())(e.instance&&!(n instanceof e.instance)||e.name&&n.name!==e.name)&&(yield n)}*descendants(){for(let e of this.children())yield e,e instanceof zy&&(yield*sm(e.descendants()))}setClipRect(e){this.clipRect=e?an.fromCanvas(this,e):void 0}setClipRectCanvasSpace(e){this.clipRect=e}getVisibility(){for(let e of this.traverseUp(!0))if(!e.visible)return!1;return!0}toSVG(){if(!this.visible)return;let e=[],n=[];for(let r of this.children()){let a=r.toSVG();a!=null&&(n.push(...a.elements),a.defs!=null&&e.push(...a.defs))}return{elements:n,defs:e}}};return t.className="Group",t})();b([te({convertor:t=>Ae(0,t,1)})],sG.prototype,"opacity",2);var mt=sG,kce=class extends WR(mt){},Ace=class extends zf(mt){},Kr=class extends jf(mt){},of=class extends zf(jf(mt)){};function Ece(t,i){return"context"in t}function iH(t,i){return t!=null&&Ece(t,i)&&i[0]!=null&&typeof i[0]=="object"&&i[0].context===void 0?(i[0].context=t.context,!0):!1}function Ls(t,i,...e){if(Array.isArray(t)){for(let n of t)if(iH(n,e))break}else iH(t,e);return i(...e)}var lG=class{constructor(){this.cache=new WeakMap}call(t,i,...e){let n,r=this.cache.get(i);try{n=JSON.stringify(e)}catch{return this.invoke(t,i,r,void 0,...e)}return r==null&&(r=new Map,this.cache.set(i,r)),r.has(n)?r.get(n):this.invoke(t,i,r,n,...e)}invoke(t,i,e,n,...r){try{let a=Ls(t,i,...r);return e&&n!=null&&e.set(n,a),a}catch(a){z.warnOnce("User callback errored, ignoring",a);return}}invalidateCache(){this.cache=new WeakMap}};function Zw(t,i){if(!t)return;let{x:e,y:n,width:r,height:a}=Rce(i);pw(t.style,"width",r),pw(t.style,"height",a),pw(t.style,"left",e),pw(t.style,"top",n)}function cG(t){let i=parseFloat(t.style.width)||t.offsetWidth,e=parseFloat(t.style.height)||t.offsetHeight,n=parseFloat(t.style.left)||t.offsetLeft,r=parseFloat(t.style.top)||t.offsetTop;return{x:n,y:r,width:i,height:e}}function Tce(t){if(t.focus({preventScroll:!0}),t.lastChild?.textContent==null)return;let i=Ur().createRange();i.setStart(t.lastChild,t.lastChild.textContent.length),i.setEnd(t.lastChild,t.lastChild.textContent.length);let e=tt().getSelection();e?.removeAllRanges(),e?.addRange(i)}function dG(){let t=tt("navigator");if("scheduling"in t){let i=t.scheduling;if("isInputPending"in i)return i.isInputPending({includeContinuous:!0})}return!1}function ID(t){return`ag-charts-icon ag-charts-icon-${t}`}function Rce(t){let{x:i,y:e,width:n,height:r}=t;return(n==null||n>0)&&(r==null||r>0)?t:(i!=null&&n!=null&&n<0&&(n=-n,i=i-n),e!=null&&r!=null&&r<0&&(r=-r,e=e-r),{x:i,y:e,width:n,height:r})}function pw(t,i,e){e==null?t.removeProperty(i):t.setProperty(i,`${e}px`)}var Q1="class-instance";function Tc(t,i,e){if(Xe(i)){if(!Xe(t)||t.length!==i.length||i.some((n,r)=>Tc(t[r],n,e)!=null))return i}else if(bt(i)){if(!bt(t))return i;let n={},r=new Set([...Object.keys(t),...Object.keys(i)]);for(let a of r)if(t[a]!==i[a])if(e?.has(a))n[a]=i[a];else if(typeof t[a]==typeof i[a]){let o=Tc(t[a],i[a],e);o!==null&&(n[a]=o)}else n[a]=i[a];return Object.keys(n).length?n:null}else if(t!==i)return i;return null}function uG(t,i){for(let e of Object.keys(t))if(t[e]!==i?.[e])return!1;return!0}function Zi(t,i){return Xe(t)?Oce(t,i):bt(t)?Lce(t,i):t instanceof Map?new Map(Zi(Array.from(t))):$R(t)}function Oce(t,i){let e=[],n=i?.seen;for(let r of t){if(typeof r=="object"&&n?.includes(r)){z.warn("cycle detected in array",r);continue}n?.push(r),e.push(Zi(r,i)),n?.pop()}return e}function Lce(t,i){let e={};for(let n of Object.keys(t))i?.assign?.has(n)?e[n]=t[n]:i?.shallow?.has(n)?e[n]=$R(t[n]):e[n]=Zi(t[n],i);return e}function $R(t){return Xe(t)?t.slice(0):bt(t)?f({},t):hc(t)?new Date(t):uU(t)?new RegExp(t.source,t.flags):t}function Hd(t,i,e,n,r,a){if(Xe(t)){a=i(t,n,r,a);let o=0;for(let s of t)a=Hd(s,i,e,n?.[o],r,a),o++}else if(bt(t)){a=i(t,n,r,a);for(let o of Object.keys(t)){if(e?.has(o))continue;let s=t[o];a=Hd(s,i,e,n?.[o],r,a)}}return a}function qy(t,i,e={}){let{path:n,matcherPath:r=n?.replace(/(\[[0-9+]+])/i,"[]"),skip:a=[]}=e;if(t==null)throw new Error(`AG Charts - target is uninitialised: ${n??"<root>"}`);if(i==null)return t;if(Nh(t))return t.set(i);let o=t,s=c1(t);for(let l of Object.keys(i)){if(BR.has(l))continue;let c=`${r?r+".":""}${l}`;if(a.includes(c))continue;let d=i[l],u=`${n?n+".":""}${l}`,h=o.constructor,m=o[l];try{let p=c1(m),g=c1(d);if(s===Q1&&!(l in t||l==="context")){if(d===void 0)continue;z.warn(`unable to set [${u}] in ${h?.name} - property is unknown`);continue}if(p!=null&&g!=null&&g!==p&&(p!==Q1||g!=="object")){z.warn(`unable to set [${u}] in ${h?.name} - can't apply type of [${g}], allowed types are: [${p}]`);continue}if(Nh(m))d===void 0?m.clear():m.set(d);else if(g==="object"&&l!=="context"){if(!(l in o)){z.warn(`unable to set [${u}] in ${h?.name} - property is unknown`);continue}m==null?o[l]=d:qy(m,d,S(f({},e),{path:u,matcherPath:c}))}else o[l]=d}catch(p){z.warn(`unable to set [${u}] in [${h?.name}]; nested error is: ${p.message}`)}}return t}function c1(t){return t==null?null:hU(t)||hc(t)?"primitive":Xe(t)?"array":qt(t)?bt(t)?"object":Q1:vs(t)?"function":"primitive"}var Nce=class{constructor(){this.available=!0,this.acquireQueue=[]}acquire(t){return new Promise(i=>{this.acquireQueue.push([t,i]),this.available&&this.dispatchNext().catch(e=>z.errorOnce(e))})}acquireImmediately(t){return L(this,null,function*(){return this.available?(yield this.acquire(t),!0):!1})}waitForClearAcquireQueue(){return L(this,null,function*(){return this.acquire(()=>Promise.resolve(void 0))})}dispatchNext(){return L(this,null,function*(){this.available=!1;let[t,i]=this.acquireQueue.shift()??[];for(;t;){try{yield t(),i?.()}catch(e){z.error("mutex callback error",e),i?.()}[t,i]=this.acquireQueue.shift()??[]}this.available=!0})}},hG=class{constructor(){this.eventListeners=new Map}addEventListener(t,i){if(typeof i!="function")throw new Error("AG Charts - listener must be a Function");let e=this.eventListeners.get(t);e?e.add(i):this.eventListeners.set(t,new Set([i]))}removeEventListener(t,i){let e=this.eventListeners.get(t);e!=null&&(e.delete(i),e.size===0&&this.eventListeners.delete(t))}hasEventListener(t){return this.eventListeners.has(t)}clearEventListeners(){this.eventListeners.clear()}fireEvent(t){this.eventListeners.get(t.type)?.forEach(i=>i(t))}},Wh=class extends nt{constructor(t=0,i=t,e=t,n=i){super(),this.top=t,this.right=i,this.bottom=e,this.left=n}};b([C],Wh.prototype,"top",2);b([C],Wh.prototype,"right",2);b([C],Wh.prototype,"bottom",2);b([C],Wh.prototype,"left",2);function tr(t,i){let e=Xe(t)?t:t.split(".");if(e.length===1){let[n]=e;return zh((r,a,o)=>r[n]=o,r=>r[n],i)}return zh((n,r,a)=>zR(n,e,a),n=>VR(n,e),i)}function Pce(t){return zh((i,e,n)=>i[t]=n)}function bn(t,i){return zh((e,n,r)=>e[t][i??n]=r)}function Zr(t){let{newValue:i,oldValue:e,changeValue:n}=t;return zh((r,a,o,s)=>(o!==s&&(s!==void 0&&e?.call(r,s),o!==void 0&&i?.call(r,o),n?.call(r,o,s)),o))}function eu(t){return z5(t)}function Fce(t){return mG((i,e)=>tt().requestAnimationFrame(i),t)}function Vce(t){return mG((i,e=0)=>{e===0?queueMicrotask(i):setTimeout(i,e)},t)}function mG(t,i){let e=0,n=!1,r,a,o=()=>n,s=()=>{n=!1,a?.(),a=void 0,r=void 0,e>0&&t(l)},l=()=>{let d=e;e=0,n=!0;let u=i({count:d});if(!u){s();return}u.then(s,s)};return{schedule(d){e===0&&!o()&&t(l,d),e++},await(){return L(this,null,function*(){if(o())for(r??(r=new Promise(d=>{a=d}));o();)yield r})}}}var YR=["blur","change","contextmenu","focus","keydown","keyup","click","dblclick","mouseenter","mousemove","mouseleave","wheel","touchstart","touchmove","touchend","touchcancel"];function Xp(t,i,e){let{offsetX:n,offsetY:r,clientX:a,clientY:o}=i,{currentX:s,currentY:l}=Dc.calcCurrentXY(e,i);return{type:t,device:"mouse",offsetX:n,offsetY:r,clientX:a,clientY:o,currentX:s,currentY:l,sourceEvent:i}}function fw(t,i,e){return{type:t,sourceEvent:i}}var Bce={blur:t=>({type:"blur",sourceEvent:t}),change:t=>({type:"change",sourceEvent:t}),contextmenu:(t,i)=>Xp("contextmenu",t,i),focus:t=>({type:"focus",sourceEvent:t}),keydown:t=>({type:"keydown",sourceEvent:t}),keyup:t=>({type:"keyup",sourceEvent:t}),click:(t,i)=>Xp("click",t,i),dblclick:(t,i)=>Xp("dblclick",t,i),mouseenter:(t,i)=>Xp("mouseenter",t,i),mousemove:(t,i)=>Xp("mousemove",t,i),mouseleave:(t,i)=>Xp("mouseleave",t,i),wheel:t=>{let{offsetX:i,offsetY:e,clientX:n,clientY:r}=t,a=t.deltaMode===0?.01:1,o=t.deltaX*a,s=t.deltaY*a;return{type:"wheel",offsetX:i,offsetY:e,clientX:n,clientY:r,deltaX:o,deltaY:s,sourceEvent:t}},touchstart:(t,i)=>fw("touchstart",t,i),touchmove:(t,i)=>fw("touchmove",t,i),touchend:(t,i)=>fw("touchend",t,i),touchcancel:(t,i)=>fw("touchcancel",t,i)},Dc=class{static alloc(t,i,e){return Bce[t](i,e)}static isHTMLEvent(t){return YR.includes(t)}static calcCurrentXY(t,i){let e=t.getBoundingClientRect();return{currentX:i.clientX-e.x,currentY:i.clientY-e.y}}},zce=class{constructor(){this.widgetListeners={},this.sourceListeners={}}initSourceHandler(t,i){this.sourceListeners??(this.sourceListeners={}),this.sourceListeners[t]=i}lazyGetWidgetListeners(t,i){var e;if(!(t in(this.sourceListeners??{}))){let n=a=>{let o=Dc.alloc(t,a,i.getElement());this.dispatch(t,i,o)},r={};t.startsWith("touch")&&(r.passive=!1),this.initSourceHandler(t,n),i.getElement().addEventListener(t,n,r)}return this.widgetListeners??(this.widgetListeners={}),(e=this.widgetListeners)[t]??(e[t]=[]),this.widgetListeners[t]}add(t,i,e){this.lazyGetWidgetListeners(t,i).push(e)}remove(t,i,e){let n=this.lazyGetWidgetListeners(t,i),r=n.indexOf(e);r>-1&&n.splice(r,1)}destroy(t){if(this.widgetListeners=void 0,this.sourceListeners){for(let[i,e]of ur(this.sourceListeners))t.getElement().removeEventListener(i,e);this.sourceListeners=void 0}}dispatch(t,i,e){for(let n of this.widgetListeners?.[t]??[])n(e,i)}},jce=class{constructor(t,i,e,n){this.glob=t,this.self=i,this.window=tt(),this.cleanup=new pt,this.mousegeneral=l=>{l.stopPropagation(),l.stopImmediatePropagation()},this.mousemove=l=>{l.stopPropagation(),l.stopImmediatePropagation(),this.glob.globalMouseDragCallbacks?.mousemove(l)},this.mouseup=l=>{l.button===0&&(l.stopPropagation(),l.stopImmediatePropagation(),this.glob.globalMouseDragCallbacks?.mouseup(l),this.destroy())};let{window:r,mousegeneral:a,mousemove:o,mouseup:s}=this;this.cleanup.register(Wt(r,"mousedown",a,{capture:!0}),Wt(r,"mouseenter",a,{capture:!0}),Wt(r,"mouseleave",a,{capture:!0}),Wt(r,"mouseout",a,{capture:!0}),Wt(r,"mouseover",a,{capture:!0}),Wt(r,"mousemove",o,{capture:!0}),Wt(r,"mouseup",s,{capture:!0})),i.mouseDragger=this,t.globalMouseDragCallbacks=e,t.globalMouseDragCallbacks.mousedown(n),n.stopPropagation(),n.stopImmediatePropagation()}destroy(){this.cleanup.flush(),this.glob.globalMouseDragCallbacks=void 0,this.self.mouseDragger=void 0}};function Uce(t,i,e,n){if(t.globalMouseDragCallbacks==null)return new jce(t,i,e,n)}var Hce=500,Gce=100;function Wce(t,i){let e=t.clientX-i.clientX,n=t.clientY-i.clientY;return e*e+n*n}var X1=!1,$ce=class{constructor(t,i,e,n,r){this.glob=t,this.self=i,this.initialTouch=n,this.target=r,this.cleanup=new pt,this.longTapInterrupted=!1,this.longtap=()=>{let{target:s,initialTouch:l}=this;if(!this.longTapInterrupted){let c=new pt;s.dispatchEvent(new TouchEvent("touchcancel",{touches:[l],bubbles:!0})),X1=!0;let d=g=>g.preventDefault(),u=g=>{X1=!1,g.preventDefault(),c.flush()};c.register(Wt(s,"touchmove",d,{passive:!1}),Wt(s,"touchend",u,{passive:!1}),Wt(s,"touchcancel",u,{passive:!1}));let{clientX:h,clientY:m}=l,p=new PointerEvent("contextmenu",{bubbles:!0,cancelable:!0,view:tt(),clientX:h,clientY:m,pointerType:"touch"});s.dispatchEvent(p)}},this.touchmove=s=>{let{glob:l,self:c,initialTouch:d}=this,u=this.findInitialFinger(s.targetTouches);u!=null&&(this.longTapInterrupted=this.longTapInterrupted||Wce(d,u)>Gce,c.dragTouchEnabled&&l.globalTouchDragCallbacks?.touchmove(s,u))},this.touchend=s=>{this.longTapInterrupted=!0;let l=this.findInitialFinger(s.changedTouches,s.touches);l!=null&&this.glob.globalTouchDragCallbacks?.touchend(s,l),this.destroy()},this.longtapTimer=setTimeout(this.longtap,Hce);let{touchmove:a,touchend:o}=this;this.cleanup.register(Wt(r,"touchmove",a,{passive:!1}),Wt(r,"touchstart",o,{passive:!1}),Wt(r,"touchend",o,{passive:!1}),Wt(r,"touchcancel",o,{passive:!1})),i.touchDragger=this,t.globalTouchDragCallbacks=e}destroy(){clearTimeout(this.longtapTimer),this.cleanup.flush(),this.glob.globalTouchDragCallbacks=void 0,this.self.touchDragger=void 0}findInitialFinger(...t){let i=t.map(e=>Array.from(e)).flat();return Array.from(i).find(e=>e.identifier===this.initialTouch.identifier)}};function Yce(t,i,e,n,r){if(!(t.globalTouchDragCallbacks!=null||X1))return new $ce(t,i,e,n,r)}function d1(t,i,e,n){let{currentX:r,currentY:a}=Dc.calcCurrentXY(t.getElement(),n),o=n.pageX-e.pageX,s=n.pageY-e.pageY;return{type:i,device:"mouse",offsetX:e.offsetX+o,offsetY:e.offsetY+s,clientX:n.clientX,clientY:n.clientY,currentX:r,currentY:a,originDeltaX:o,originDeltaY:s,sourceEvent:n}}function Kce(t,{pageX:i,pageY:e}){let{x:n,y:r}=t.getElement().getBoundingClientRect();return{offsetX:i-n,offsetY:e-r}}function u1(t,i,e,n,r){let{currentX:a,currentY:o}=Dc.calcCurrentXY(t.getElement(),r),s=r.pageX-e.pageX,l=r.pageY-e.pageY;return{type:i,device:"touch",offsetX:e.offsetX+s,offsetY:e.offsetY+l,clientX:r.clientX,clientY:r.clientY,currentX:a,currentY:o,originDeltaX:s,originDeltaY:l,sourceEvent:n}}var nH={},rH=class{constructor(t){this.dispatchCallback=t,this.dragTouchEnabled=!0}destroy(){this.dragTriggerRemover?.(),this.dragTriggerRemover=void 0,this.listeners?.clear(),this.mouseDragger?.destroy(),this.touchDragger?.destroy()}getListenerSet(t){this.listeners??(this.listeners=new Map);let i=this.listeners.get(t);return i===void 0&&(i=new Set,this.listeners.set(t,i)),i}add(t,i,e){switch(this.getListenerSet(t).add(e),t){case"drag-start":case"drag-move":case"drag-end":{this.registerDragTrigger(i);break}}}remove(t,i,e){this.getListenerSet(t).delete(e)}registerDragTrigger(t){if(this.dragTriggerRemover==null){let i=t.getElement(),e=new pt;e.register(Wt(i,"mousedown",n=>this.triggerMouseDrag(t,n)),Wt(i,"touchstart",n=>this.triggerTouchDrag(t,n),{passive:!1})),this.dragTriggerRemover=()=>e.flush()}}triggerMouseDrag(t,i){i.button===0&&this.startMouseDrag(t,i)}startMouseDrag(t,i){let e={pageX:NaN,pageY:NaN,offsetX:NaN,offsetY:NaN};K1(["pageX","pageY","offsetX","offsetY"],e,i);let n={mousedown:r=>{let a=d1(t,"drag-start",e,r);this.dispatch("drag-start",t,a)},mousemove:r=>{let a=d1(t,"drag-move",e,r);this.dispatch("drag-move",t,a)},mouseup:r=>{let a=d1(t,"drag-end",e,r);this.dispatch("drag-end",t,a),this.endDrag(t,a)}};this.mouseDragger=Uce(nH,this,n,i)}endDrag(t,{sourceEvent:i,clientX:e,clientY:n}){let r=t.getElement(),a=r.getBoundingClientRect();Kp(a,e,n)||(r.dispatchEvent(new MouseEvent("mouseleave",i)),i.target?.dispatchEvent(new MouseEvent("mouseenter",i)))}triggerTouchDrag(t,i){let e=i.targetTouches[0];i.targetTouches.length===1&&e!=null&&this.startOneFingerTouch(t,i,e)}startOneFingerTouch(t,i,e){let n=f({pageX:NaN,pageY:NaN},Kce(t,e));K1(["pageX","pageY"],n,e);let r={touchmove:(s,l)=>{let c=u1(t,"drag-move",n,s,l);this.dispatch("drag-move",t,c)},touchend:(s,l)=>{let c=u1(t,"drag-end",n,s,l);this.dispatch("drag-end",t,c)}},a=t.getElement();this.touchDragger=Yce(nH,this,r,e,a);let o=u1(t,"drag-start",n,i,e);this.dispatch("drag-start",t,o)}dispatch(t,i,e){for(let n of this.getListenerSet(t))n(e,i);this.dispatchCallback(t,e)}},qce=class{constructor(t){this.elem=t}setBounds(t){Zw(this.elemContainer??this.elem,t)}getBounds(){return cG(this.elemContainer??this.elem)}static setElementContainer(t,i){let e=t.getBounds();Zw(i,e),IU(t.elem,{width:"100%",height:"100%"}),t.elem.remove(),t.elemContainer=i,t.elemContainer.replaceChildren(t.elem)}},Pl=class extends qce{constructor(){super(...arguments),this.index=NaN,this.children=[]}set id(t){it(this.elem,"id",t)}get id(){return wl(this.elem,"id")}getElement(){return this.elem}getBoundingClientRect(){return this.elem.getBoundingClientRect()}get clientWidth(){return this.elem.clientWidth}get clientHeight(){return this.elem.clientHeight}destroy(){this.destroyListener?.(),this.destroyListener=void 0,this.parent?.removeChild(this),this.children.forEach(t=>{t.parent=void 0,t.destroy()}),this.children.length=0,this.destructor(),this.remove(),this.internalListener?.destroy(),this.htmlListener?.destroy(this)}remove(){this.elem.remove(),this.elemContainer?.remove()}setHidden(t){La(this.elem,"display",t?"none":void 0)}isHidden(){return tt()?.getComputedStyle?.(this.elem).display==="none"}setCursor(t){La(this.elem,"cursor",t)}setTextContent(t){this.elem.textContent=t??null}setAriaDescribedBy(t){it(this.elem,"aria-describedby",t)}setAriaHidden(t){it(this.elem,"aria-hidden",t)}setAriaLabel(t){it(this.elem,"aria-label",t)}setAriaExpanded(t){it(this.elem,"aria-expanded",t)}setAriaControls(t){it(this.elem,"aria-controls",t)}setAriaHasPopup(t){it(this.elem,"aria-haspopup",t)}setInnerHTML(t){this.elem.innerHTML=t}setPointerEvents(t){La(this.elem,"pointer-events",t)}isDisabled(){return wl(this.elem,"aria-disabled",!1)}hasPopup(){let t=wl(this.elem,"aria-haspopup");return t!==void 0&&t!=="false"}parseFloat(t){return t===""?0:parseFloat(t)}cssLeft(){return this.parseFloat(this.elem.style.left)}cssTop(){return this.parseFloat(this.elem.style.top)}cssWidth(){return this.parseFloat(this.elem.style.width)}cssHeight(){return this.parseFloat(this.elem.style.height)}focus(t){this.elem.focus(t)}setFocusOverride(t){it(this.elem,"data-focus-override",t)}setPreventsDefault(t){it(this.elem,"data-preventdefault",t)}setTabIndex(t){it(this.elem,"tabindex",t)}addChild(t){this.addChildToDOM(t,this.getBefore(t)),this.children.push(t),t.index=this.children.length-1,t.parent=this,this.onChildAdded(t)}removeChild(t){let i=this.children.findIndex(e=>e===t);this.children.splice(i,1),this.removeChildFromDOM(t),this.onChildRemoved(t)}moveChild(t,i){t.domIndex!==i&&(t.domIndex=i,this.removeChildFromDOM(t),this.addChildToDOM(t,this.getBefore(t)))}addClass(...t){this.elem.classList.add(...t)}removeClass(...t){this.elem.classList.remove(...t)}toggleClass(t,i){this.elem.classList.toggle(t,i)}appendOrInsert(t,i){i?i.getElement().insertAdjacentElement("beforebegin",t):this.elem.appendChild(t)}addChildToDOM(t,i){this.appendOrInsert(t.getElement(),i)}removeChildFromDOM(t){this.elem.removeChild(t.getElement())}onChildAdded(t){}onChildRemoved(t){}getBefore({domIndex:t}){if(t!==void 0)return this.children.filter(i=>i.domIndex!==void 0&&i.domIndex>t).reduce((i,e)=>!i||e.domIndex<i.domIndex?e:i,void 0)}addListener(t,i){return Dc.isHTMLEvent(t)?(this.htmlListener??(this.htmlListener=new zce),this.htmlListener.add(t,this,i)):(this.internalListener??(this.internalListener=new rH(this.onDispatch.bind(this))),this.internalListener.add(t,this,i)),()=>this.removeListener(t,i)}removeListener(t,i){Dc.isHTMLEvent(t)?this.htmlListener?.remove(t,this,i):this.htmlListener!=null&&this.internalListener?.remove(t,this,i)}setDragTouchEnabled(t){this.internalListener??(this.internalListener=new rH(this.onDispatch.bind(this))),this.internalListener.dragTouchEnabled=t}onDispatch(t,i){if(!i.sourceEvent?.bubbles)return;let{parent:e}=this;for(;e!=null;){let{internalListener:n}=e;if(n!=null){let r=f(f({},i),Dc.calcCurrentXY(e.getElement(),i));n.dispatch(t,e,r)}e=e.parent}}static addWindowEvent(t,i){let e=n=>{n.persisted||i()};return Wt(tt(),"pagehide",e)}};function Zce(t=0,i=0){return new OffscreenCanvas(t,i).getContext("2d")}var KR=class{constructor(t=5){this.maxCacheSize=t,this.store=new Map}get(t){if(!this.store.has(t))return;let i=this.store.get(t);return this.store.delete(t),this.store.set(t,i),i}has(t){return this.store.has(t)}set(t,i){if(this.store.set(t,i),this.store.size>this.maxCacheSize){let e=this.store.keys(),n=this.store.size-this.maxCacheSize;for(;n>0;){let r=e.next();r.done||this.store.delete(r.value),n--}}return i}clear(){this.store.clear()}},tu=class{static measureText(t,i){return this.getMeasurer(i).measureText(t)}static measureLines(t,i){return this.getMeasurer(i).measureLines(t)}static getMeasurer(t){let i=Pi.toFontString(t.font),e=`${i}-${t.textAlign??"start"}-${t.textBaseline??"top"}`;return this.instanceMap.get(e)??this.createFontMeasurer(i,t,e)}static clear(){this.instanceMap.clear()}static createFontMeasurer(t,i,e){let n=Zce();n.font=t,n.textAlign=i.textAlign??"start",n.textBaseline=i.textBaseline??"top";let r=new pG(n,i);return this.instanceMap.set(e,r),r}};tu.instanceMap=new KR(10);var pG=class{constructor(t,i){this.ctx=t,this.measureMap=new KR(100),i.textAlign&&(t.textAlign=i.textAlign),i.textBaseline&&(t.textBaseline=i.textBaseline),t.font=Pi.toFontString(i.font),this.textMeasurer=new qR(e=>this.cachedCtxMeasureText(e),i.textBaseline??"alphabetic")}textWidth(t,i){return this.textMeasurer.textWidth(t,i)}measureText(t){return this.textMeasurer.measureText(t)}measureLines(t){return this.textMeasurer.measureLines(t)}cachedCtxMeasureText(t){if(!this.measureMap.has(t)){let i=this.ctx.measureText(t);this.measureMap.set(t,{actualBoundingBoxAscent:i.actualBoundingBoxAscent,emHeightAscent:i.emHeightAscent,emHeightDescent:i.emHeightDescent,actualBoundingBoxDescent:i.actualBoundingBoxDescent,actualBoundingBoxLeft:i.actualBoundingBoxLeft,actualBoundingBoxRight:i.actualBoundingBoxRight,alphabeticBaseline:i.alphabeticBaseline,fontBoundingBoxAscent:i.fontBoundingBoxAscent,fontBoundingBoxDescent:i.fontBoundingBoxDescent,hangingBaseline:i.hangingBaseline,ideographicBaseline:i.ideographicBaseline,width:i.width})}return this.measureMap.get(t)}},Pi=(()=>{let t=class{static toFontString({fontSize:i=10,fontStyle:e,fontWeight:n,fontFamily:r}){let a="";return e&&e!=="normal"&&(a+=`${e} `),n&&n!=="normal"&&n!==400&&(a+=`${n} `),a+=`${i}px`,a+=` ${r}`,a.trim()}static getLineHeight(i){return Math.ceil(i*this.defaultLineHeight)}static getHorizontalModifier(i){switch(i){case"left":case"start":return 0;case"center":return .5;case"right":case"end":return 1;default:return 0}}static getVerticalModifier(i){switch(i){case"hanging":case"top":return 0;case"middle":return .5;case"alphabetic":case"bottom":case"ideographic":default:return 1}}};return t.EllipsisChar="\u2026",t.defaultLineHeight=1.15,t.lineSplitter=/\r?\n/g,t})(),qR=class{constructor(t,i="alphabetic"){this.measureTextFn=t,this.textBaseline=i,this.charMap=new Map}getMetrics(t){let i=this.measureTextFn(t);return i.fontBoundingBoxAscent??(i.fontBoundingBoxAscent=i.emHeightAscent),i.fontBoundingBoxDescent??(i.fontBoundingBoxDescent=i.emHeightDescent),{width:i.width,height:i.actualBoundingBoxAscent+i.actualBoundingBoxDescent,lineHeight:i.fontBoundingBoxAscent+i.fontBoundingBoxDescent}}getMultilineMetrics(t){let i=0,e=0,n=0,r=0,a=0,o=0,s=Pi.getVerticalModifier(this.textBaseline),l=[],c=0,d=t.length;for(let u of t){let h=this.measureTextFn(u);h.fontBoundingBoxAscent??(h.fontBoundingBoxAscent=h.emHeightAscent),h.fontBoundingBoxDescent??(h.fontBoundingBoxDescent=h.emHeightDescent),i<h.width&&(i=h.width),r<h.actualBoundingBoxLeft&&(r=h.actualBoundingBoxLeft),c===0?(e+=h.actualBoundingBoxAscent,n+=h.actualBoundingBoxAscent,o=h.alphabeticBaseline):a+=h.fontBoundingBoxAscent,c===d-1?e+=h.actualBoundingBoxDescent:a+=h.fontBoundingBoxDescent,l.push({text:u,width:h.width,height:h.actualBoundingBoxAscent+h.actualBoundingBoxDescent,lineHeight:h.fontBoundingBoxAscent+h.fontBoundingBoxDescent,offsetTop:h.actualBoundingBoxAscent,offsetLeft:h.actualBoundingBoxLeft}),c++}return e+=a,n+=a*s,{width:i,height:e,offsetTop:n,offsetLeft:r,alphabeticBaseline:o,lineMetrics:l}}textWidth(t,i){if(i){let e=0;for(let n=0;n<t.length;n++)e+=this.textWidth(t.charAt(n));return e}return t.length>1?this.measureTextFn(t).width:this.charMap.get(t)??this.charWidth(t)}measureText(t){return this.getMetrics(t)}measureLines(t){let i=typeof t=="string"?t.split(Pi.lineSplitter):t;return this.getMultilineMetrics(i)}charWidth(t){let{width:i}=this.measureTextFn(t);return this.charMap.set(t,i),i}};function Qce(t){for(let i of["B","KB","MB","GB"]){if(t<1536)return`${t.toFixed(1)}${i}`;t/=1024}return`${t.toFixed(1)}TB}`}function Xce(){if(!("memory"in performance))return;let{totalJSHeapSize:t,usedJSHeapSize:i,jsHeapSizeLimit:e}=performance.memory,n=[];for(let r of[i,t,e])typeof r=="number"&&n.push(Qce(r));return`Heap ${n.join(" / ")}`}function aH(t,i,e,n,r={},a=we.zero){if(!yt.check("scene:stats","scene:stats:verbose"))return;let{layersRendered:o=0,layersSkipped:s=0,nodesRendered:l=0,nodesSkipped:c=0,opsPerformed:d=0,opsSkipped:u=0}=n??{},h=performance.now(),F=i,{start:m}=F,p=ci(F,["start"]),g=Object.entries(p).map(([P,U])=>oH(P,U)).filter(P=>P!=null).join(" + "),y=Object.entries(r).map(([P,U])=>`${P}: ${JSON.stringify(U)}`).join(" ; "),v=yt.check("scene:stats:verbose"),x=Xce(),w=[`${oH("\u23F1\uFE0F",m,h)} (${g})`,`${y}`,`Layers: ${v?h1(o,s):t.size}`,v?`Nodes: ${h1(l,c)}`:null,v?`Ops: ${h1(d,u)}`:null,v&&x?x:null].filter(Gi),D=new qR(P=>e.measureText(P)),k=new Map(w.map(P=>[P,D.measureLines(P)])),E=Math.max(...Array.from(k.values(),P=>P.width)),A=rde(k.values(),P=>P.height),N=2+a.x;e.save();try{e.fillStyle="white",e.fillRect(N,0,E,A),e.fillStyle="black";let P=0;for(let[U,H]of k.entries())P+=H.height,e.fillText(U,N,P)}catch(P){z.warnOnce("Error during debug stats rendering",P)}finally{e.restore()}}function Jce(t){let i=gh(tt("agChartsSceneDebug")),e=[];for(let n of i)n==="layout"?e.push("seriesRoot","legend","root",/.*Axis-\d+-axis.*/):e.push(n);t.debugNodeSearch=e}function ede(t,i){t.save();try{for(let[e,n]of Object.entries(i)){let r=an.toCanvas(n);if(!r){z.log(`Scene.render() - no bbox for debugged node [${e}].`);continue}t.globalAlpha=.8,t.strokeStyle="red",t.lineWidth=1,t.strokeRect(r.x,r.y,r.width,r.height),t.fillStyle="red",t.strokeStyle="white",t.font="16px sans-serif",t.textBaseline="top",t.textAlign="left",t.lineWidth=2,t.strokeText(e,r.x,r.y,r.width),t.fillText(e,r.x,r.y,r.width)}}catch(e){z.warnOnce("Error during debug rendering",e)}finally{t.restore()}}var tde=new Set,ide=new Set(["gradient","zIndex","clipRect","cachedBBox","childNodeCounts","path","__zIndex","name","__scalingCenterX","__scalingCenterY","__rotationCenterX","__rotationCenterY","_previousDatum","__fill","__lineDash","borderPath","borderClipPath","_clipPath"]);function nde(t){let i=ci(t,[]);for(let e of Object.keys(i))ide.has(e)||typeof i[e]!="number"&&typeof i[e]!="string"&&typeof i[e]!="boolean"&&(tde.add(e),delete i[e]);return i}function Ew(t,i){if(!yt.check(!0,"scene"))return{};let e=0;return f({node:i==="json"?nde(t):t,name:t.name??t.id,dirty:t instanceof mt?t.dirty:void 0},Array.from(t instanceof mt?t.children():[],n=>Ew(n,i)).reduce((n,r)=>{let{name:a}=r,{node:{visible:o,opacity:s,zIndex:l,translationX:c,translationY:d,rotation:u,scalingX:h,scalingY:m},node:p}=r;(!o||s<=0)&&(a=`(${a})`),mt.is(p)&&p.renderToOffscreenCanvas&&(a=`*${a}*`);let g=Array.isArray(l)?`(${l.join(", ")})`:l,y=[`${(e++).toString().padStart(3,"0")}|`,`${a??"<unknown>"}`,`z: ${g}`,c&&`x: ${c}`,d&&`y: ${d}`,u&&`r: ${u}`,h!=null&&h!==1&&`sx: ${h}`,m!=null&&m!==1&&`sy: ${m}`].filter(w=>!!w).join(" "),v=y,x=1;for(;n[v]!=null&&x<100;)v=`${y} (${x++})`;return n[v]=r,n},{}))}function fG(t){let i=t instanceof mt?t.dirty:void 0;if(!i)return{dirtyTree:{},paths:[]};let e=Array.from(t instanceof mt?t.children():[],a=>fG(a)).filter(a=>a.paths.length>0),n=mt.is(t)?t.name??t.id:t.id,r=e.length?e.flatMap(a=>a.paths).map(a=>`${n}.${a}`):[n];return{dirtyTree:f({name:n,node:t,dirty:i},e.map(a=>a.dirtyTree).filter(a=>a.dirty!=null).reduce((a,o)=>(a[o.name??"<unknown>"]=o,a),{})),paths:r}}function h1(t,i){let e=t+i;return`${t} / ${e} (${Math.round(100*t/e)}%)`}function oH(t,i,e){let n=e!=null?e-i:i;return`${t}: ${Math.round(n*100)/100}ms`}function rde(t,i){let e=0;for(let n of t)e+=i(n);return e}var jy=(t,{x0:i,y0:e,x1:n,y1:r,cx:a,cy:o},s,l)=>{if(l&&t.moveTo(i,e),i!==n||e!==r){let c=Math.atan2(e-o,i-a),d=Math.atan2(r-o,n-a);t.arc(a,o,s,c,d)}else t.lineTo(i,e)},va=(()=>{let t=class extends Sn{constructor(){super(...arguments),this.path=new Mf,this._clipX=NaN,this._clipY=NaN,this.clip=!1,this._dirtyPath=!0,this.lastPixelRatio=NaN}set clipX(i){this._clipX=i,this.dirtyPath=!0}set clipY(i){this._clipY=i,this.dirtyPath=!0}set dirtyPath(i){this._dirtyPath!==i&&(this._dirtyPath=i,i&&this.markDirty("path"))}get dirtyPath(){return this._dirtyPath}checkPathDirty(){this._dirtyPath||(this.dirtyPath=this.path.isDirty()||(this.fillShadow?.isDirty()??!1)||(this._clipPath?.isDirty()??!1))}resetPathDirty(){this.path.clear(!0),this._dirtyPath=!1}isPathDirty(){return this.path.isDirty()}onChangeDetection(i){this._dirtyPath||(this._dirtyPath=!0,super.onChangeDetection(i))}computeBBox(){return this.updatePathIfDirty(),this.path.computeBBox()}isPointInPath(i,e){return this.updatePathIfDirty(),this.path.closedPath&&this.path.isPointInPath(i,e)}distanceSquared(i,e){return this.distanceSquaredTransformedPoint(i,e)}svgPathData(i){return this.updatePathIfDirty(),this.path.toSVG(i)}distanceSquaredTransformedPoint(i,e){return this.updatePathIfDirty(),this.path.closedPath&&this.path.isPointInPath(i,e)?0:this.path.distanceSquared(i,e)}isDirtyPath(){return!1}updatePath(){}updatePathIfDirty(){(this.dirtyPath||this.isDirtyPath())&&(this.updatePath(),this.dirtyPath=!1)}preRender(i){return i.devicePixelRatio!==this.lastPixelRatio&&(this.dirtyPath=!0),this.lastPixelRatio=i.devicePixelRatio,this.updatePathIfDirty(),super.preRender(i,this.path.commands.length)}render(i){let{ctx:e}=i;if(this.clip&&!isNaN(this._clipX)&&!isNaN(this._clipY)){e.save();try{let n=this.strokeWidth/2;this._clipPath??(this._clipPath=new Mf),this._clipPath.clear(),this._clipPath.rect(-n,-n,this._clipX+n,this._clipY+n+n),e.clip(this._clipPath?.getPath2D()),this._clipX>0&&this._clipY>0&&this.drawPath(e)}finally{e.restore()}}else this._clipPath=void 0,this.drawPath(e);this.fillShadow?.markClean(),super.render(i)}drawPath(i){this.fillStroke(i,this.path.getPath2D())}toSVG(){if(!this.visible)return;let i=Qt("path");i.setAttribute("d",this.svgPathData());let e=this.applySvgFillAttributes(i,[]);return this.applySvgStrokeAttributes(i),{elements:[i],defs:e}}};return t.className="Path",t})();b([te()],va.prototype,"clip",2);b([te()],va.prototype,"clipX",1);b([te()],va.prototype,"clipY",1);var sH=1e-6,gw=(t,i,e,n,r)=>{let a=!1,o=!1,s=n-Math.sqrt(Math.max(r**2-e**2,0)),l=0,c=0,d=e-Math.sqrt(Math.max(r**2-n**2,0));return s>t?(a=!0,s=t,l=e-Math.sqrt(Math.max(r**2-(n-t)**2))):s<sH&&(s=0),d>i?(o=!0,c=n-Math.sqrt(Math.max(r**2-(e-i)**2)),d=i):d<sH&&(d=0),{leading0:s,leading1:l,trailing0:c,trailing1:d,leadingClipped:a,trailingClipped:o}},Tw=(t,i,e,n,r,a,o)=>{let{topLeft:s,topRight:l,bottomRight:c,bottomLeft:d}=a,u=Math.max(s+d,l+c),h=Math.max(s+l,d+c);if(u<=0&&h<=0){o==null?t.rect(i,e,n,r):t.rect(o.x,o.y,o.width,o.height);return}else if(o==null&&s===l&&s===c&&s===d){t.roundRect(i,e,n,r,s);return}if(n<0&&(i+=n,n=Math.abs(n)),r<0&&(e+=r,r=Math.abs(r)),n<=0||r<=0)return;if(o==null)o=new we(i,e,n,r);else{let A=Math.max(i,o.x),N=Math.min(i+n,o.x+o.width),F=Math.max(e,o.y),P=Math.min(e+r,o.y+o.height);o=new we(A,F,N-A,P-F)}let m=Math.max(u/r,h/n,1);m>1&&(s/=m,l/=m,c/=m,d/=m);let p=!0,g=!0,y=!0,v=!0,x,w,D,k;if(p){let A=gw(o.height,o.width,Math.max(i+s-o.x,0),Math.max(e+s-o.y,0),s);A.leadingClipped&&(v=!1),A.trailingClipped&&(g=!1);let N=Math.max(o.x+A.leading1,o.x),F=Math.max(o.y+A.leading0,o.y),P=Math.max(o.x+A.trailing1,o.x),U=Math.max(o.y+A.trailing0,o.y),H=i+s,q=e+s;x={x0:N,y0:F,x1:P,y1:U,cx:H,cy:q}}if(g){let A=gw(o.width,o.height,Math.max(e+l-o.y,0),Math.max(o.x+o.width-(i+n-l),0),l);A.leadingClipped&&(p=!1),A.trailingClipped&&(y=!1);let N=Math.min(o.x+o.width-A.leading0,o.x+o.width),F=Math.max(o.y+A.leading1,o.y),P=Math.min(o.x+o.width-A.trailing0,o.x+o.width),U=Math.max(o.y+A.trailing1,o.y),H=i+n-l,q=e+l;w={x0:N,y0:F,x1:P,y1:U,cx:H,cy:q}}if(y){let A=gw(o.height,o.width,Math.max(o.x+o.width-(i+n-c),0),Math.max(o.y+o.height-(e+r-c),0),c);A.leadingClipped&&(g=!1),A.trailingClipped&&(v=!1);let N=Math.min(o.x+o.width-A.leading1,o.x+o.width),F=Math.min(o.y+o.height-A.leading0,o.y+o.height),P=Math.min(o.x+o.width-A.trailing1,o.x+o.width),U=Math.min(o.y+o.height-A.trailing0,o.y+o.height),H=i+n-c,q=e+r-c;D={x0:N,y0:F,x1:P,y1:U,cx:H,cy:q}}if(v){let A=gw(o.width,o.height,Math.max(o.y+o.height-(e+r-d),0),Math.max(i+d-o.x,0),d);A.leadingClipped&&(y=!1),A.trailingClipped&&(p=!1);let N=Math.max(o.x+A.leading0,o.x),F=Math.min(o.y+o.height-A.leading1,o.y+o.height),P=Math.max(o.x+A.trailing0,o.x),U=Math.min(o.y+o.height-A.trailing1,o.y+o.height),H=i+d,q=e+r-d;k={x0:N,y0:F,x1:P,y1:U,cx:H,cy:q}}let E=!1;p&&x!=null&&(jy(t,x,s,!E),E||(E=!0)),g&&w!=null&&(jy(t,w,l,!E),E||(E=!0)),y&&D!=null&&(jy(t,D,c,!E),E||(E=!0)),v&&k!=null&&jy(t,k,d,!E),t.closePath()},ir=(()=>{let t=class extends va{constructor(){super(...arguments),this.borderPath=new Mf,this.x=0,this.y=0,this.width=10,this.height=10,this.topLeftCornerRadius=0,this.topRightCornerRadius=0,this.bottomRightCornerRadius=0,this.bottomLeftCornerRadius=0,this.clipBBox=void 0,this.crisp=!1,this.lastUpdatePathStrokeWidth=this.strokeWidth,this.effectiveStrokeWidth=this.strokeWidth,this.hittester=super.isPointInPath.bind(this),this.distanceCalculator=super.distanceSquaredTransformedPoint.bind(this),this.microPixelEffectOpacity=1}set cornerRadius(i){this.topLeftCornerRadius=i,this.topRightCornerRadius=i,this.bottomRightCornerRadius=i,this.bottomLeftCornerRadius=i}isDirtyPath(){return this.lastUpdatePathStrokeWidth!==this.strokeWidth||!!(this.path.isDirty()||this.borderPath.isDirty())}updatePath(){let{path:i,borderPath:e,crisp:n,topLeftCornerRadius:r,topRightCornerRadius:a,bottomRightCornerRadius:o,bottomLeftCornerRadius:s}=this,{x:l,y:c,width:d,height:u,strokeWidth:h,clipBBox:m}=this,g=1/(this.layerManager?.canvas.pixelRatio??1),y=1;if(i.clear(!0),e.clear(!0),d===0||u===0){this.effectiveStrokeWidth=0,this.lastUpdatePathStrokeWidth=0,this.microPixelEffectOpacity=0;return}if(n&&(d<=g&&(y*=d/g),u<=g&&(y*=u/g),d=this.align(l,d),u=this.align(c,u),l=this.align(l),c=this.align(c),m=m!=null?new we(this.align(m.x),this.align(m.y),this.align(m.x,m.width),this.align(m.y,m.height)):void 0),h)if(d<g){let v=l+g/2;e.moveTo(v,c),e.lineTo(v,c+u),h=g,this.borderClipPath=void 0}else if(u<g){let v=c+g/2;e.moveTo(l,v),e.lineTo(l+d,v),h=g,this.borderClipPath=void 0}else if(h<d&&h<u){let v=h/2;l+=v,c+=v,d-=h,u-=h;let x=m?.clone().shrink(v),w={topLeft:r>0?r-h:0,topRight:a>0?a-h:0,bottomRight:o>0?o-h:0,bottomLeft:s>0?s-h:0};this.borderClipPath=void 0,d>0&&u>0&&(x==null||x?.width>0&&x?.height>0)&&(Tw(i,l,c,d,u,w,x),Tw(e,l,c,d,u,w,x))}else this.borderClipPath=this.borderClipPath??new Mf,this.borderClipPath.clear(!0),this.borderClipPath.rect(l,c,d,u),e.rect(l,c,d,u);else{let v={topLeft:r,topRight:a,bottomRight:o,bottomLeft:s};this.borderClipPath=void 0,Tw(i,l,c,d,u,v,m)}if([r,a,o,s].every(v=>v===0)){let v=this.getBBox();this.hittester=v.containsPoint.bind(v),this.distanceSquared=(x,w)=>this.getBBox().distanceSquared(x,w)}else this.hittester=super.isPointInPath,this.distanceCalculator=super.distanceSquaredTransformedPoint;this.effectiveStrokeWidth=h,this.lastUpdatePathStrokeWidth=h,this.microPixelEffectOpacity=y}computeBBox(){let{x:i,y:e,width:n,height:r,clipBBox:a}=this;return a?.clone()??new we(i,e,n,r)}isPointInPath(i,e){return this.hittester(i,e)}get midPoint(){return{x:this.x+this.width/2,y:this.y+this.height/2}}distanceSquared(i,e){return this.distanceCalculator(i,e)}applyFillAndAlpha(i){super.applyFillAndAlpha(i),i.globalAlpha*=this.microPixelEffectOpacity}applyStrokeAndAlpha(i){super.applyStrokeAndAlpha(i),i.globalAlpha*=this.microPixelEffectOpacity}renderStroke(i){let{stroke:e,effectiveStrokeWidth:n}=this;if(e&&n){let{globalAlpha:r}=i,{lineDash:a,lineDashOffset:o,lineCap:s,lineJoin:l,borderPath:c,borderClipPath:d}=this;d&&i.clip(d.getPath2D()),this.applyStrokeAndAlpha(i),i.lineWidth=n,a&&i.setLineDash(a),o&&(i.lineDashOffset=o),s&&(i.lineCap=s),l&&(i.lineJoin=l),i.stroke(c.getPath2D()),i.globalAlpha=r}}};return t.className="Rect",t})();b([te()],ir.prototype,"x",2);b([te()],ir.prototype,"y",2);b([te()],ir.prototype,"width",2);b([te()],ir.prototype,"height",2);b([te()],ir.prototype,"topLeftCornerRadius",2);b([te()],ir.prototype,"topRightCornerRadius",2);b([te()],ir.prototype,"bottomRightCornerRadius",2);b([te()],ir.prototype,"bottomLeftCornerRadius",2);b([uo({equals:qp})],ir.prototype,"clipBBox",2);b([te()],ir.prototype,"crisp",2);var m1=!1,za=class sf extends Sn{constructor(i){super(i),this.x=0,this.y=0,this.lines=[],this.text=void 0,this.fontSize=sf.defaultFontSize,this.fontFamily="sans-serif",this.textAlign="start",this.textBaseline="alphabetic",this.boxPadding=0,this.trimText=i?.trimText??!0}onTextChange(){if(this.richText?.clear(),this.textMap?.clear(),Xe(this.text))this.lines=[],this.richText??(this.richText=new mt),this.richText.setScene(this.scene),this.richText.append(this.text.map(()=>new sf({trimText:!1})));else{let i=this.text?.split(`
`)??[];this.lines=this.trimText?i.map(e=>e.trim()):i}}static computeBBox(i,e,n,r,a=!0){let{font:o,font:{fontSize:s},textAlign:l,textBaseline:c,lineHeight:d=a?Pi.getLineHeight(s):void 0}=r,{width:u,alphabeticBaseline:h,offsetLeft:m,offsetTop:p,height:g}=tu.measureLines(i,a?{font:o,lineHeight:d,textAlign:"start",textBaseline:"top"}:r),y=d==null?g:d*i.length,v;d==null?v=p:c==="alphabetic"?v=(d-s)/2-h:v=Pi.getVerticalModifier(c)*y;let x=a?u*Pi.getHorizontalModifier(l):m;return new we(e-x,n-v,u,y)}computeBBox(i=m1){if(this.generateTextMap(),this.textMap?.size){let c=we.merge(this.textMap.values());return c.x=this.x,c.y=this.y,c}let{x:e,y:n,lines:r,textBaseline:a,textAlign:o,lineHeight:s}=this,l=sf.computeBBox(r,e,n,{font:this,textBaseline:a,textAlign:o,lineHeight:s},i);return this.boxing!=null&&l.grow(this.boxPadding),l}getBBox(i=!0){if(i){m1=!0;let e=this.computeBBox(!0);return m1=!1,e}return super.getBBox()}getPlainText(){return Ay(this.text)}getTextMeasureBBox(){return this.computeBBox()}isPointInPath(i,e){return this.getBBox()?.containsPoint(i,e)??!1}setScene(i){this.richText?.setScene(i),super.setScene(i)}generateTextMap(){if(!Xe(this.text)||this.textMap?.size)return;this.textMap??(this.textMap=new Map);let i=0,e=0,n=0,r={fill:this.fill,fontSize:this.fontSize,fontFamily:this.fontFamily,fontStyle:this.fontStyle,fontWeight:this.fontWeight};for(let s of this.richText.children()){let o=this.text[i++],{color:l}=o,c=ci(o,["color"]);s.x=0,s.y=0,s.setProperties(Jt({fill:l},c,r));let d=s.getBBox();this.textMap.set(s,d),n=Math.max(n,d.y+d.height/2+(s.lineHeight??Pi.getLineHeight(s.fontSize))),e+=d.x+d.width}let a=this.x-e/2;for(let[s,l]of this.textMap)s.x+=a,s.y+=n,a+=l.width}render(i){let{ctx:e,stats:n}=i;if(!this.text||!this.layerManager)return n&&(n.nodesSkipped+=1),super.render(i);if(Xe(this.text)){this.generateTextMap();let{width:r}=this.richText.getBBox(),a=0;switch(this.textAlign){case"left":case"start":a=r/2;break;case"right":case"end":a=r/-2}e.save(),e.translate(a,this.y),this.richText.render(i),e.restore()}else this.renderText(i);if(sf.debug.check()&&!this.textMap?.size){let r=this.getBBox(!0);e.strokeStyle="red",e.lineWidth=1,e.strokeRect(r.x,r.y,r.width,r.height)}super.render(i)}markDirty(i){return this.textMap?.clear(),super.markDirty(i)}renderText(i){let{fill:e,stroke:n,strokeWidth:r}=this;if(!e&&!(n&&r)||!this.layerManager)return super.render(i);let{ctx:a}=i,o=Pi.toFontString(this);a.font!==o&&(a.font=o);let{fontSize:s,lineHeight:l=Pi.getLineHeight(s),textAlign:c,textBaseline:d}=this;if(a.textAlign=c,a.textBaseline=d,this.boxing){let u={font:this,textBaseline:d,textAlign:c,lineHeight:l},h=sf.computeBBox(this.lines,this.x,this.y,u);if(h.width!==0&&h.height!==0){let{x:m,y:p,width:g,height:y}=h.grow(this.boxPadding);this.boxing.opacity=this.opacity,this.boxing.x=m,this.boxing.y=p,this.boxing.width=g,this.boxing.height=y,this.boxing.preRender(i),this.boxing.render(i)}}this.fillStroke(a)}executeFill(i){let{fontSize:e,lineHeight:n=Pi.getLineHeight(e),textBaseline:r,lines:a}=this,o=r==="alphabetic"?0:Pi.getVerticalModifier(r)*n*(1-a.length);this.renderLines(o,n,(s,l,c)=>i.fillText(s,l,c))}executeStroke(i){let{fontSize:e,lineHeight:n=Pi.getLineHeight(e),textBaseline:r,lines:a}=this,o=r==="alphabetic"?0:Pi.getVerticalModifier(r)*n*(1-a.length);this.renderLines(o,n,(s,l,c)=>i.strokeText(s,l,c))}renderLines(i,e,n){let{lines:r,x:a,y:o}=this;if(!(!Number.isFinite(a)||!Number.isFinite(o)||!Number.isFinite(i)||!Number.isFinite(e)))for(let s of r)n(s,a,o+i),i+=e}setFont(i){this.fontFamily=i.fontFamily,this.fontSize=i.fontSize,this.fontStyle=i.fontStyle,this.fontWeight=i.fontWeight}setAlign(i){this.textAlign=i.textAlign,this.textBaseline=i.textBaseline}setBoxing(i){let e=i.border?.enabled?i.border?.stroke:void 0;i.fill!=null||e!=null?(this.boxing??(this.boxing=new ir({scene:this.scene})),this.boxing.fill=i.fill,this.boxing.fillOpacity=i.fillOpacity??1,this.boxing.cornerRadius=i.cornerRadius??0,this.boxing.stroke=e,this.boxing.strokeWidth=i.border?.strokeWidth??0,this.boxing.strokeOpacity=i.border?.strokeOpacity??1,this.boxPadding=i.padding??0):this.boxing&&(this.boxing.destroy(),this.boxing=void 0)}getBoxingProperties(){let{fill:i,fillOpacity:e,cornerRadius:n,stroke:r,strokeWidth:a,strokeOpacity:o}=this.boxing??{};return{border:{enabled:r!=null,stroke:r,strokeWidth:a,strokeOpacity:o},cornerRadius:n,fill:i,fillOpacity:e,padding:this.boxPadding}}toSVG(){if(!this.visible||!this.text)return;let i=Qt("text");if(Gi(this.text))this.applySvgFillAttributes(i),tH(i,this),i.setAttribute("text-anchor",{center:"middle",left:"start",right:"end",start:"start",end:"end"}[this.textAlign??"start"]),i.setAttribute("alignment-baseline",this.textBaseline),i.setAttribute("x",String(this.x)),i.setAttribute("y",String(this.y)),i.textContent=this.text;else for(let e of this.text){let n=Qt("tspan");tH(n,{fontSize:e.fontSize??this.fontSize,fontFamily:e.fontFamily??this.fontFamily,fontWeight:e.fontWeight??this.fontWeight,fontStyle:e.fontStyle??this.fontStyle}),this.applySvgFillAttributes(n),n.textContent=e.text,i.append(n)}return{elements:[i]}}};za.className="Text";za.debug=yt.create(!0,"scene:text");za.defaultFontSize=10;b([te()],za.prototype,"x",2);b([te()],za.prototype,"y",2);b([W5({changeCb:t=>t.onTextChange()})],za.prototype,"text",2);b([te()],za.prototype,"fontStyle",2);b([te()],za.prototype,"fontWeight",2);b([te()],za.prototype,"fontSize",2);b([te()],za.prototype,"fontFamily",2);b([te()],za.prototype,"textAlign",2);b([te()],za.prototype,"textBaseline",2);b([te()],za.prototype,"lineHeight",2);var oo=za,gG=class extends zf(oo){},If=class extends zf(jf(oo)){},Iv=class{static wrapText(t,i){return this.wrapLines(t,i).join(`
`)}static wrapLines(t,i){let e=this.textWrap(t,i);return i.overflow==="hide"&&e.some(n=>n.endsWith(Pi.EllipsisChar))?[]:e}static appendEllipsis(t){return t.replace(/[.,]{1,5}$/,"")+Pi.EllipsisChar}static truncateLine(t,i,e,n){let r=i.textWidth(Pi.EllipsisChar),a=0,o=0;for(;o<t.length;o++){let s=i.textWidth(t.charAt(o));if(a+s>e)break;a+=s}if(t.length===o&&(!n||a+r<=e))return n?t+Pi.EllipsisChar:t;for(t=t.slice(0,o).trimEnd();t.length&&i.textWidth(t)+r>e;)t=t.slice(0,-1).trimEnd();return t+Pi.EllipsisChar}static textWrap(t,i){let e=t.split(Pi.lineSplitter),n=tu.getMeasurer(i);if(i.textWrap==="never")return e.map(s=>this.truncateLine(s.trimEnd(),n,i.maxWidth));let r=[],a=i.textWrap==="hyphenate",o=i.textWrap==null||i.textWrap==="on-space";for(let s of e){let l=s.trimEnd();if(l===""){r.push(l);continue}let c=0,d=0,u=0;for(;c<l.length;){let h=l.charAt(c);if(d+=n.textWidth(h),h===" "&&(u=c),d>i.maxWidth){if(c===0)break;let m=n.textWidth(l.slice(0,c+1));if(m<=i.maxWidth){d=m,c++;continue}if(u){let y=this.getWordAt(l,u+1),v=n.textWidth(y);if(v<=i.maxWidth){r.push(l.slice(0,u).trimEnd()),l=l.slice(u).trimStart(),c=0,d=0,u=0;continue}else o&&v>i.maxWidth&&r.push(l.slice(0,u).trimEnd(),this.truncateLine(l.slice(u).trimStart(),n,i.maxWidth,!0))}else o&&r.push(this.truncateLine(l,n,i.maxWidth,!0));if(o){l="";break}let p=a?"-":"",g=l.slice(0,c).trim();for(;g.length&&n.textWidth(g+p)>i.maxWidth;)g=g.slice(0,-1).trimEnd();if(r.push(g+p),!g.length){l="";break}l=l.slice(g.length).trimStart(),c=-1,d=0,u=0}c++}l&&r.push(l)}return this.avoidOrphans(r,n,i),this.clipLines(r,n,i)}static getWordAt(t,i){let e=t.indexOf(" ",i);return e===-1?t.slice(i):t.slice(i,e)}static clipLines(t,i,e){if(!e.maxHeight)return t;let{height:n,lineMetrics:r}=i.measureLines(t);if(n<=e.maxHeight)return t;for(let a=0,o=0;a<r.length;a++){let{lineHeight:s}=r[a];if(o+=s,o>e.maxHeight){if(e.overflow==="hide")return[];let l=t.slice(0,a||1),c=l.pop();return l.concat(this.truncateLine(c,i,e.maxWidth,!0))}}return t}static avoidOrphans(t,i,e){if(e.avoidOrphans===!1||t.length<2)return;let{length:n}=t,r=t[n-1],a=t[n-2];if(a.length<r.length)return;let o=a.lastIndexOf(" ");if(o===-1||o===a.indexOf(" ")||r.includes(" "))return;let s=a.slice(o+1);i.textWidth(r+s)<=e.maxWidth&&(t[n-2]=a.slice(0,o),t[n-1]=s+" "+r)}},bG={};Nl(bG,{BASE_FONT_SIZE:()=>xc,CARTESIAN_AXIS_TYPE:()=>vG,CARTESIAN_POSITION:()=>yG,FONT_SIZE:()=>ZR,FONT_SIZE_RATIO:()=>so,POLAR_AXIS_SHAPE:()=>xG,POLAR_AXIS_TYPE:()=>_G});var ZR=(t=>(t[t.SMALLEST=8]="SMALLEST",t[t.SMALLER=10]="SMALLER",t[t.SMALL=12]="SMALL",t[t.MEDIUM=13]="MEDIUM",t[t.LARGE=14]="LARGE",t[t.LARGEST=17]="LARGEST",t))(ZR||{}),xc=12,so=(t=>(t[t.SMALLEST=8/xc]="SMALLEST",t[t.SMALLER=10/xc]="SMALLER",t[t.SMALL=12/xc]="SMALL",t[t.MEDIUM=13/xc]="MEDIUM",t[t.LARGE=14/xc]="LARGE",t[t.LARGEST=17/xc]="LARGEST",t))(so||{}),yG=(t=>(t.TOP="top",t.TOP_RIGHT="top-right",t.TOP_LEFT="top-left",t.RIGHT="right",t.RIGHT_TOP="right-top",t.RIGHT_BOTTOM="right-bottom",t.BOTTOM="bottom",t.BOTTOM_RIGHT="bottom-right",t.BOTTOM_LEFT="bottom-left",t.LEFT="left",t.LEFT_TOP="left-top",t.LEFT_BOTTOM="left-bottom",t))(yG||{}),vG=(t=>(t.CATEGORY="category",t.GROUPED_CATEGORY="grouped-category",t.ORDINAL_TIME="ordinal-time",t.UNIT_TIME="unit-time",t.TIME="time",t.NUMBER="number",t.LOG="log",t))(vG||{}),_G=(t=>(t.ANGLE_CATEGORY="angle-category",t.ANGLE_NUMBER="angle-number",t.RADIUS_CATEGORY="radius-category",t.RADIUS_NUMBER="radius-number",t))(_G||{}),xG=(t=>(t.CIRCLE="circle",t.POLYGON="polygon",t))(xG||{}),on=(()=>{let t=class extends nt{constructor(){super(...arguments),this.id=pn(this),this.node=new gG({zIndex:1}).setProperties({textAlign:"center",pointerEvents:1}),this.enabled=!1,this.textAlign="center",this.fontSize=10,this.fontFamily="sans-serif",this.wrapping="always",this.padding=0,this.layoutStyle="block",this.truncated=!1}registerInteraction(i,e){return i.eventsHub.on("layout:complete",()=>this.updateA11yText(i,e))}computeTextWrap(i,e){let{text:n,padding:r,wrapping:a}=this;if(Xe(n))return;let o=Math.min(this.maxWidth??1/0,i)-r*2,s=this.maxHeight??e-r*2;if(!isFinite(o)&&!isFinite(s)){this.node.text=n;return}let l=Iv.wrapText(n??"",{maxWidth:o,maxHeight:s,font:this,textWrap:a});this.node.text=l,this.truncated=l.includes(Pi.EllipsisChar)}updateA11yText(i,e){let{proxyInteractionService:n}=i;if(this.enabled&&this.text){let r=an.toCanvas(this.node);if(r){let{id:a}=this;this.proxyText??(this.proxyText=n.createProxyElement({type:"text",domManagerId:a,where:e})),this.proxyText.textContent=Ay(this.text),this.proxyText.setBounds(r),this.proxyText.addListener("mousemove",o=>this.handleMouseMove(i,o)),this.proxyText.addListener("mouseleave",o=>this.handleMouseLeave(i,o))}}else this.proxyText?.destroy(),this.proxyText=void 0}handleMouseMove(i,e){if(e!=null&&this.enabled&&this.truncated){let{x:n,y:r}=an.toCanvas(this.node),a=e.sourceEvent.offsetX+n,o=e.sourceEvent.offsetY+r;i.tooltipManager.updateTooltip(this.id,{canvasX:a,canvasY:o,showArrow:!1},[{type:"structured",title:Ay(this.text)}])}}handleMouseLeave(i,e){i.tooltipManager.removeTooltip(this.id)}};return t.SMALL_PADDING=10,t})();b([C,bn("node","visible")],on.prototype,"enabled",2);b([C,bn("node")],on.prototype,"text",2);b([C,bn("node")],on.prototype,"textAlign",2);b([C,bn("node")],on.prototype,"fontStyle",2);b([C,bn("node")],on.prototype,"fontWeight",2);b([C,bn("node")],on.prototype,"fontSize",2);b([C,bn("node")],on.prototype,"fontFamily",2);b([C,bn("node","fill")],on.prototype,"color",2);b([C],on.prototype,"spacing",2);b([C],on.prototype,"maxWidth",2);b([C],on.prototype,"maxHeight",2);b([C],on.prototype,"wrapping",2);b([C],on.prototype,"padding",2);b([C],on.prototype,"layoutStyle",2);var QR=(t=>(t.X="x",t.Y="y",t.Angle="angle",t.Radius="radius",t))(QR||{});function ade(t){switch(t){case"x":case"y":case"angle":case"radius":return!0;default:return!1}}var kD=class{constructor(){this.title=new on,this.subtitle=new on,this.footnote=new on}positionCaptions(t){let{title:i,subtitle:e,footnote:n}=this,r=t.layoutBox.height/10;i.enabled&&(this.positionCaption("top",i,t.layoutBox,r),this.shrinkLayoutByCaption("top",i,t.layoutBox)),e.enabled&&(this.positionCaption("top",e,t.layoutBox,r),this.shrinkLayoutByCaption("top",e,t.layoutBox)),n.enabled&&(this.positionCaption("bottom",n,t.layoutBox,r),this.shrinkLayoutByCaption("bottom",n,t.layoutBox))}positionAbsoluteCaptions(t){let{title:i,subtitle:e,footnote:n}=this,{rect:r}=t.series;for(let a of[i,e,n])if(a.layoutStyle==="overlay"){if(a.textAlign==="left")a.node.x=r.x+a.padding;else if(a.textAlign==="right"){let o=a.node.getBBox();a.node.x=r.x+r.width-o.width-a.padding}}}computeX(t,i){return t==="left"?i.x:t==="right"?i.x+i.width:i.x+i.width/2}positionCaption(t,i,e,n){let r=Math.max(Pi.getLineHeight(i.fontSize),n);i.node.x=this.computeX(i.textAlign,e)+i.padding,i.node.y=e.y+(t==="top"?0:e.height)+i.padding,i.node.textBaseline=t,i.computeTextWrap(e.width,r)}shrinkLayoutByCaption(t,i,e){if(i.layoutStyle==="block"){let n=i.node.getBBox(),{spacing:r=0}=i;t==="bottom"&&Xe(i.text)&&(i.node.y-=n.height,n.y-=n.height),e.shrink(Math.ceil(t==="top"?n.y-e.y+n.height+r:e.y+e.height-n.y+r),t)}}};b([C],kD.prototype,"title",2);b([C],kD.prototype,"subtitle",2);b([C],kD.prototype,"footnote",2);var ode=["candlestick","hollow-candlestick","ohlc","line","step-line","hlc","high-low"],sde=class{constructor(t){this.chartService=t,this.mementoOriginatorKey="chartType"}createMemento(){let t=this.chartService.publicApi?.getOptions()?.chartType;return t??(t="candlestick"),t}guardMemento(t){return t==null||ode.includes(t)}restoreMemento(t,i,e){if(e==null)return;let n={chartType:e};this.chartService.publicApi?.updateDelta(n).catch(r=>z.error("error restoring state",r))}},kf="12.1.2",lH=Symbol("previous-memento-not-found"),lde=class{constructor(t){this.history=[],this.historyIndex=-1,this.originators=new Map,this.clearState=new Map,this.maxHistoryLength=100,this.debug=yt.create(!0,"history"),this.cleanup=new pt,this.cleanup.register(t.on("series:undo",this.undo.bind(this)),t.on("series:redo",this.redo.bind(this)))}destroy(){this.cleanup.flush()}addMementoOriginator(t){this.originators.set(t.mementoOriginatorKey,t),this.clearState.set(t.mementoOriginatorKey,t.createMemento()),this.debugEvent("History add originator:",t.mementoOriginatorKey)}clear(){this.debug("History clear:",Object.keys(this.originators)),this.history=[],this.historyIndex=-1;for(let[t,i]of this.originators.entries())this.clearState.set(t,i.createMemento())}record(t,...i){this.historyIndex<this.history.length-1&&(this.history=this.history.slice(0,this.historyIndex+1)),this.history.length>this.maxHistoryLength&&(this.history=this.history.slice(-this.maxHistoryLength));let e=new Map;for(let n of i){if(!this.originators.has(n.mementoOriginatorKey))throw new Error(`Originator [${n.mementoOriginatorKey}] has not been added to the HistoryManager.`);e.set(n.mementoOriginatorKey,n.createMemento())}this.history.push({label:t,mementos:e}),this.historyIndex=this.history.length-1,this.debugEvent(`History record: [${t}]`)}undo(){let t=this.history[this.historyIndex];if(t){for(let i of t.mementos.keys()){let e=this.findPreviousMemento(i);if(e===lH)throw new Error(`Could not find previous memento for [${i}].`);this.restoreMemento(i,e)}this.historyIndex-=1,this.debugEvent(`History undo: [${t.label}]`)}}redo(){let t=this.history[this.historyIndex+1];if(t){for(let[i,e]of t.mementos.entries())this.restoreMemento(i,e);this.historyIndex+=1,this.debugEvent(`History redo: [${t.label}]`)}}findPreviousMemento(t){for(let i=this.historyIndex-1;i>=0;i--)if(this.history[i].mementos.has(t))return this.history[i].mementos.get(t);return this.clearState.has(t)?this.clearState.get(t):lH}restoreMemento(t,i){this.originators.get(t)?.restoreMemento(kf,kf,i)}debugEvent(...t){this.debug(...t,this.history.map((i,e)=>e===this.historyIndex?`** ${i.label} **`:i.label))}},CG=class J1{constructor(i){this.version=i.split("-")[0]}save(...i){let e={version:this.version};for(let n of Object.values(i))e[n.mementoOriginatorKey]=this.encode(n,n.createMemento());return e}restore(i,...e){if(typeof i!="object"){z.warnOnce(`Could not restore data of type [${typeof i}], expecting an object, ignoring.`);return}if(i==null){z.warnOnce("Could not restore data of type [null], expecting an object, ignoring.");return}if(!("version"in i)||typeof i.version!="string"){z.warnOnce("Could not restore data, missing [version] string in object, ignoring.");return}for(let n of e){let r=this.decode(n,i[n.mementoOriginatorKey]),a=[];if(!n.guardMemento(r,a)){let o=a.length>0?`

${a.join(`

`)}

`:"";z.warnOnce(`Could not restore [${n.mementoOriginatorKey}] data, value was invalid, ignoring.${o}`,r);return}n.restoreMemento(this.version,i.version,r)}}encode(i,e){try{return JSON.parse(JSON.stringify(e,J1.encodeTypes))}catch(n){throw new Error(`Failed to encode [${i.mementoOriginatorKey}] value [${n}].`,{cause:n})}}decode(i,e){if(e==null)return e;try{return JSON.parse(JSON.stringify(e),J1.decodeTypes)}catch(n){throw new Error(`Failed to decode [${i.mementoOriginatorKey}] value [${n}].`,{cause:n})}}static encodeTypes(i,e){return hc(this[i])?{__type:"date",value:this[i].toISOString()}:e}static decodeTypes(i,e){return qt(this[i])&&"__type"in this[i]&&this[i].__type==="date"?new Date(this[i].value):e}},cde=class{constructor(){this.caretaker=new CG(kf),this.state=new Map}setState(t,i){Ln(this.state.get(t.mementoOriginatorKey),i)||this.setStateAndRestore(t,i)}setStateAndRestore(t,i){this.state.set(t.mementoOriginatorKey,i),this.restoreState(t)}restoreState(t){let{caretaker:i,state:e}=this;if(!e.has(t.mementoOriginatorKey))return;let n=e.get(t.mementoOriginatorKey);i.restore({version:i.version,[t.mementoOriginatorKey]:n},t)}},dde=`.ag-charts-wrapper,.ag-charts-wrapper:after,.ag-charts-wrapper:before,.ag-charts-wrapper *,.ag-charts-wrapper *:after,.ag-charts-wrapper *:before{box-sizing:border-box}.ag-charts-wrapper{--align-items: center;--justify-content: center;position:relative;user-select:none;-webkit-user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.ag-charts-wrapper--safe-horizontal{--justify-content: flex-start}.ag-charts-wrapper--safe-vertical{--align-items: flex-start}.ag-charts-tab-guard{width:0%;height:0%;position:absolute;pointer-events:none}.ag-charts-canvas-center{width:100%;height:100%;position:absolute;touch-action:auto;pointer-events:auto;display:flex;align-items:var(--align-items);justify-content:var(--justify-content)}.ag-charts-canvas-container,.ag-charts-canvas{position:relative;user-select:none;-webkit-user-select:none}.ag-charts-canvas-container>*,.ag-charts-canvas>*{pointer-events:none}.ag-charts-canvas canvas{display:block}.ag-charts-series-area{outline:none;pointer-events:auto;position:absolute}.ag-charts-swapchain{top:0;left:0;outline:none;opacity:0;pointer-events:none;position:absolute;width:100%;height:100%}.ag-charts-swapchain:focus-visible{opacity:1}.ag-charts-canvas-proxy,.ag-charts-canvas-overlay{inset:0;pointer-events:none;position:absolute;user-select:none;-webkit-user-select:none}.ag-charts-canvas-overlay>*{position:absolute;pointer-events:auto}.ag-charts-theme-default,.ag-charts-theme-default-dark{--ag-charts-accent-color: #2196f3;--ag-charts-background-color: #fff;--ag-charts-border-color: #dddddd;--ag-charts-border-radius: 4px;--ag-charts-chart-background-color: #fff;--ag-charts-chart-padding: 20px;--ag-charts-focus-shadow: 0 0 0 3px #2196f3;--ag-charts-foreground-color: #181d1f;--ag-charts-font-family: Verdana, sans-serif;--ag-charts-font-size: 12px;--ag-charts-font-weight: 400;--ag-charts-popup-shadow: 0 0 16px rgba(0, 0, 0, .15);--ag-charts-subtle-text-color: #8c8c8c;--ag-charts-text-color: #181d1f;--ag-charts-chrome-background-color: #fafafa;--ag-charts-chrome-font-family: Verdana, sans-serif;--ag-charts-chrome-font-size: 12px;--ag-charts-chrome-font-weight: 400;--ag-charts-chrome-subtle-text-color: #8c8c8c;--ag-charts-chrome-text-color: #181d1f;--ag-charts-button-background-color: #fff;--ag-charts-button-border: 1px solid #dddddd;--ag-charts-button-font-weight: normal;--ag-charts-button-text-color: inherit;--ag-charts-input-background-color: #fff;--ag-charts-input-border: 1px solid #dddddd;--ag-charts-input-text-color: #181d1f;--ag-charts-menu-background-color: #fafafa;--ag-charts-menu-border: 1px solid #dddddd;--ag-charts-menu-text-color: #181d1f;--ag-charts-panel-background-color: #fafafa;--ag-charts-panel-text-color: #181d1f;--ag-charts-tooltip-background-color: #fafafa;--ag-charts-tooltip-border: 1px solid #dddddd;--ag-charts-tooltip-text-color: #181d1f;--ag-charts-tooltip-subtle-text-color: #8c8c8c;--ag-charts-crosshair-label-background-color: #fafafa;--ag-charts-crosshair-label-text-color: #181d1f;--ag-charts-spacing: 4px;--ag-charts-icon-size: 16px;--ag-charts-focus-color: color-mix(in srgb, var(--ag-charts-background-color), var(--ag-charts-accent-color) 12%);--ag-charts-input-border-radius: var(--ag-charts-border-radius);--ag-charts-input-focus-border-color: var(--ag-charts-accent-color);--ag-charts-input-focus-text-color: var(--ag-charts-accent-color);--ag-charts-input-disabled-background-color: color-mix( in srgb, var(--ag-charts-chrome-background-color), var(--ag-charts-foreground-color) 6% );--ag-charts-input-disabled-border-color: var(--ag-charts-border-color);--ag-charts-input-disabled-text-color: color-mix( in srgb, var(--ag-charts-chrome-background-color), var(--ag-charts-input-text-color) 50% );--ag-charts-input-placeholder-text-color: color-mix( in srgb, var(--ag-charts-input-background-color), var(--ag-charts-input-text-color) 60% );--ag-charts-button-border-radius: var(--ag-charts-border-radius);--ag-charts-button-focus-background-color: color-mix( in srgb, var(--ag-charts-button-background-color), var(--ag-charts-accent-color) 12% );--ag-charts-button-focus-border-color: var(--ag-charts-accent-color);--ag-charts-button-focus-text-color: var(--ag-charts-accent-color);--ag-charts-button-disabled-background-color: color-mix( in srgb, var(--ag-charts-chrome-background-color), var(--ag-charts-foreground-color) 6% );--ag-charts-button-disabled-border-color: var(--ag-charts-border-color);--ag-charts-button-disabled-text-color: color-mix( in srgb, var(--ag-charts-chrome-background-color), var(--ag-charts-chrome-text-color) 50% );--ag-charts-checkbox-background-color: color-mix( in srgb, var(--ag-charts-background-color), var(--ag-charts-foreground-color) 35% );--ag-charts-checkbox-checked-background-color: var(--ag-charts-accent-color);--ag-charts-tooltip-border-radius: var(--ag-charts-border-radius);--ag-charts-menu-border-radius: var(--ag-charts-border-radius);--ag-charts-chrome-font-size-small: var(--ag-charts-chrome-font-size);--ag-charts-chrome-font-size-medium: calc(var(--ag-charts-chrome-font-size) * (13 / 12));--ag-charts-chrome-font-size-large: calc(var(--ag-charts-chrome-font-size) * (14 / 12));--ag-charts-border: 1px solid var(--ag-charts-border-color);--ag-charts-focus-border: 1px solid var(--ag-charts-accent-color);--ag-charts-focus-border-shadow: 0 0 0 3px color-mix(in srgb, transparent, var(--ag-charts-accent-color) 20%);--ag-charts-layer-menu: 6;--ag-charts-layer-ui-overlay: 5;--ag-charts-layer-tooltip: 4;--ag-charts-layer-toolbar: 3;--ag-charts-layer-crosshair: 2;--ag-charts-layer-annotations: 1}.ag-charts-theme-default-dark{--ag-charts-focus-color: color-mix(in srgb, var(--ag-charts-background-color), var(--ag-charts-accent-color) 22%)}.ag-chart-canvas-wrapper .ag-charts-theme-default{--ag-charts-border-radius: var(--ag-border-radius, 4px);--ag-charts-border: var(--ag-borders-critical, solid 1px) var(--ag-charts-border-color);--ag-charts-focus-shadow: var(--ag-focus-shadow, 0 0 0 3px var(--ag-charts-accent-color));--ag-charts-focus-border-shadow: var( --ag-focus-shadow, 0 0 0 3px color-mix(in srgb, transparent, var(--ag-charts-accent-color) 20%) )}.ag-charts-icon{display:block;width:20px;height:20px;speak:none;speak:never;mask:var(--icon) center / contain no-repeat;background-color:currentColor;transition:background-color .25s ease-in-out}.ag-charts-icon-align-center{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNNyAxMGg2djFIN3pNNCA3aDEydjFINHptMSA2aDEwdjFINXoiLz48L3N2Zz4=)}.ag-charts-icon-align-left{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNNCAxMGg2djFINHptMC0zaDEydjFINHptMCA2aDEwdjFINHoiLz48L3N2Zz4=)}.ag-charts-icon-align-right{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMTAgMTBoNnYxaC02ek00IDdoMTJ2MUg0em0yIDZoMTB2MUg2eiIvPjwvc3ZnPg==)}.ag-charts-icon-arrow-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTE1LjI5MyA0LjVIMTIuNXYtMUgxN3Y0aC0xVjUuMjA3bC05LjY0NiA5LjY0Ny0uNzA4LS43MDh6IiBmaWxsPSIjMDAwIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03IDE2YTIuNSAyLjUgMCAxIDEtNSAwIDIuNSAyLjUgMCAwIDEgNSAwbS0yLjUgMS41YTEuNSAxLjUgMCAxIDAgMC0zIDEuNSAxLjUgMCAwIDAgMCAzIiBmaWxsPSIjMDAwIi8+PC9zdmc+)}.ag-charts-icon-arrow-down-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02IDhMMS41IDhMMTAgMThMMTguNSA4TDE0IDhMMTQgM0w2IDNMNiA4Wk03IDRMNyA5SDMuNjYyNDRMMTAgMTYuNDU2TDE2LjMzNzYgOUwxMyA5TDEzIDRMNyA0WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==)}.ag-charts-icon-arrow-up-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNCAxMkgxOC41TDEwIDJMMS41IDEySDZMNi4wMDAwMiAxN0gxNFYxMlpNMTMgMTZWMTFIMTYuMzM3NkwxMCAzLjU0NDA1TDMuNjYyNDQgMTFIN0w3LjAwMDAyIDE2SDEzWiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==)}.ag-charts-icon-callout-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMyA0LjVBMS41IDEuNSAwIDAgMSA0LjUgM2gxMUExLjUgMS41IDAgMCAxIDE3IDQuNXY4YTEuNSAxLjUgMCAwIDEtMS41IDEuNWgtNC41MTRhMjYgMjYgMCAwIDAtMi4wMTcgMS41NGwtLjMxNC4yNmMtLjU1LjQ1Ny0xLjExNS45MjYtMS43NiAxLjQtLjY2OS40OTEtMS41NjItLjAxMi0xLjU2Mi0uOFYxNEg0LjVBMS41IDEuNSAwIDAgMSAzIDEyLjV6TTQuNSA0YS41LjUgMCAwIDAtLjUuNXY4YS41LjUgMCAwIDAgLjUuNWgxLjgzM3YzLjM3MmEzNiAzNiAwIDAgMCAxLjY3OC0xLjMzOGwuMzItLjI2NWEyNiAyNiAwIDAgMSAyLjIyNS0xLjY4NWwuMTI2LS4wODRIMTUuNWEuNS41IDAgMCAwIC41LS41di04YS41LjUgMCAwIDAtLjUtLjV6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-candlestick-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNyAxdjNoMnYxMkg3djNINnYtM0g0VjRoMlYxek01IDVoM3YxMEg1ek0xMSAxNFY2aDJWMy4yNWgxVjZoMnY4aC0ydjIuNzVoLTFWMTR6bTEtN2gzdjZoLTN6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-close{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJtNSA1IDEwIDEwTTUgMTUgMTUgNSIgc3Ryb2tlPSIjMDAwIi8+PC9zdmc+)}.ag-charts-icon-comment-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNy41MTMgMy45OTVhNi41IDYuNSAwIDAgMSA2LjA5OCAxMS40MWMtLjU4OC4zOTMtMS4yMTcuNTM2LTEuODI5LjU4NWExMyAxMyAwIDAgMS0xLjI3LjAxN0EyNyAyNyAwIDAgMCAxMCAxNkg0LjVhLjUuNSAwIDAgMS0uNS0uNVYxMHEwLS4yNDctLjAwNy0uNTEzYy0uMDA4LS40MTYtLjAxNi0uODU3LjAxNy0xLjI2OS4wNS0uNjEyLjE5Mi0xLjI0LjU4NS0xLjgzYTYuNSA2LjUgMCAwIDEgMi45MTgtMi4zOTNtMy41Ni42MWE1LjUgNS41IDAgMCAwLTUuNjQ2IDIuMzRjLS4yNjYuMzk3LS4zNzkuODQyLS40MiAxLjM1NC0uMDMuMzYtLjAyMi43MTgtLjAxNSAxLjEwOFE1IDkuNjg5IDUgMTB2NWg1cS4zMTEuMDAxLjU5My4wMDhjLjM5LjAwNy43NDcuMDE1IDEuMTA4LS4wMTUuNTEyLS4wNDEuOTU3LS4xNTQgMS4zNTUtLjQyYTUuNSA1LjUgMCAwIDAtMS45ODMtOS45NjciIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-crosshair-add-line{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTEwIDUuNWEuNS41IDAgMCAxIC41LjV2My41aDMuODc1YS41LjUgMCAwIDEgMCAxSDEwLjV2NC4yNWEuNS41IDAgMSAxLTEgMFYxMC41SDUuNjI1YS41LjUgMCAxIDEgMC0xSDkuNVY2YS41LjUgMCAwIDEgLjUtLjUiLz48L3N2Zz4=)}.ag-charts-icon-date-range-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMiAyaDF2MTZIMnptMTUgMGgxdjE2aC0xeiIgZmlsbD0iIzE4MUQxRiIvPjxwYXRoIGQ9Ik0xMy4xNTcgMTFINXYtMWg3Ljc5M0wxMSA4LjIwN2wuNzA3LS43MDcgMy4xODIgMy4xODItMy4xODIgMy4xODItLjcwNy0uNzA3eiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-date-price-range-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMyAySDJ2MTZoMXptMy41MDcgNC44OUw4LjUgNC44OTVWMTBINXYxaDMuNXY3aDF2LTdoNS4wODhsLTEuOTU3IDEuOTU3LjcwNy43MDcgMy4xODItMy4xODJMMTMuMzM4IDcuM2wtLjcwNy43MDdMMTQuNjI0IDEwSDkuNVY0LjkzMmwxLjk1NyAxLjk1Ny43MDctLjcwN0w4Ljk4MiAzIDUuOCA2LjE4MnoiIGZpbGw9IiMxODFEMUYiLz48L3N2Zz4=)}.ag-charts-icon-delete{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZD0iTTguNDk2IDguOTk2QS41LjUgMCAwIDEgOSA5LjQ5MnY0YS41LjUgMCAxIDEtMSAuMDA4di00YS41LjUgMCAwIDEgLjQ5Ni0uNTA0TTEyIDkuNWEuNS41IDAgMCAwLTEgMHY0YS41LjUgMCAwIDAgMSAweiIvPjxwYXRoIGZpbGw9IiMxMzE3MjIiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTYgNVYzLjVBMi41IDIuNSAwIDAgMSA4LjUgMWgzQTIuNSAyLjUgMCAwIDEgMTQgMy41VjVoMi44MzNhLjUuNSAwIDAgMSAwIDFIMTV2MTAuMjVjMCAuNDE1LS4wNjYuODYzLS4zIDEuMjIxLS4yNTcuMzk0LS42NzIuNjEyLTEuMi42MTJoLTdjLS41MjggMC0uOTQzLS4yMTgtMS4yLS42MTItLjIzNC0uMzU4LS4zLS44MDYtLjMtMS4yMjFWNkgzLjMzM2EuNS41IDAgMCAxIDAtMXptMS0xLjVBMS41IDEuNSAwIDAgMSA4LjUgMmgzQTEuNSAxLjUgMCAwIDEgMTMgMy41VjVIN3pNNiAxNi4yNVY2aDh2MTAuMjVjMCAuMzM1LS4wNTkuNTU0LS4xMzguNjc1LS4wNTUuMDg1LS4xNC4xNTgtLjM2Mi4xNThoLTdjLS4yMjIgMC0uMzA3LS4wNzMtLjM2Mi0uMTU4LS4wOC0uMTIxLS4xMzgtLjM0LS4xMzgtLjY3NSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-disjoint-channel,.ag-charts-icon-disjoint-channel-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTkuMDI4IDE3LjQ2YTIuMjUgMi4yNSAwIDAgMC00LjA5Mi0xLjg1bC05LjUxMS0yLjM3OGEyLjI1IDIuMjUgMCAxIDAtLjIyNS45NzRsOS40NzUgMi4zNjlhMi4yNTEgMi4yNTEgMCAwIDAgNC4zNTMuODg2bS0xLjY2Mi0xLjk2NWExLjI1IDEuMjUgMCAxIDEtLjg4NSAyLjMzOCAxLjI1IDEuMjUgMCAwIDEgLjg4NS0yLjMzOE00LjM0MyAxMy42NjlhMS4yNSAxLjI1IDAgMSAwLTIuMzM4LS44ODUgMS4yNSAxLjI1IDAgMCAwIDIuMzM4Ljg4NU0zLjk3IDguNzY5YTIuMjUgMi4yNSAwIDAgMCAxLjQ1NS0yLjExbDkuNTExLTIuMzc4YTIuMjUgMi4yNSAwIDEgMC0uMjYtLjk2NUw1LjIgNS42ODVhMi4yNSAyLjI1IDAgMSAwLTEuMjMgMy4wODRtLjM3My0yLjU0N2ExLjI1IDEuMjUgMCAxIDEtMi4zMzguODg1IDEuMjUgMS4yNSAwIDAgMSAyLjMzOC0uODg1bTEzLjc1LTMuNDM4YTEuMjUgMS4yNSAwIDEgMS0yLjMzOC44ODUgMS4yNSAxLjI1IDAgMCAxIDIuMzM4LS44ODUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-drag-handle{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48Y2lyY2xlIGN4PSI1Ljc1IiBjeT0iNy43NSIgcj0iLjc1IiBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii41Ii8+PGNpcmNsZSBjeD0iOS43NSIgY3k9IjcuNzUiIHI9Ii43NSIgZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuNSIvPjxjaXJjbGUgY3g9IjEzLjc1IiBjeT0iNy43NSIgcj0iLjc1IiBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii41Ii8+PGNpcmNsZSBjeD0iMTMuNzUiIGN5PSIxMS43NSIgcj0iLjc1IiBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii41Ii8+PGNpcmNsZSBjeD0iOS43NSIgY3k9IjExLjc1IiByPSIuNzUiIGZpbGw9IiMwMDAiIGZpbGwtb3BhY2l0eT0iLjUiLz48Y2lyY2xlIGN4PSI1Ljc1IiBjeT0iMTEuNzUiIHI9Ii43NSIgZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuNSIvPjwvc3ZnPg==)}.ag-charts-icon-fibonacci-retracement-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMiA1aDEydjFIMnoiLz48Y2lyY2xlIGN4PSIxNS43NSIgY3k9IjUuNSIgcj0iMS43NSIgc3Ryb2tlPSIjMDAwIi8+PGNpcmNsZSBjeD0iNC4yNSIgY3k9IjE0LjUiIHI9IjEuNzUiIHN0cm9rZT0iIzAwMCIvPjxwYXRoIGZpbGw9IiMwMDAiIGQ9Ik0xOCAxNUg2di0xaDEyem0wLTQuNUgydi0xaDE2eiIvPjwvc3ZnPg==)}.ag-charts-icon-fibonacci-retracement-trend-based-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJtNC45OTYgMTIuNjc0IDMuMjkxLTUuNzQzLjg2OC40OTctMy4yOTEgNS43NDN6Ii8+PGNpcmNsZSBjeD0iOS43NSIgY3k9IjUuNSIgcj0iMS43NSIgc3Ryb2tlPSIjMDAwIi8+PGNpcmNsZSBjeD0iNC4zNTEiIGN5PSIxNC41IiByPSIxLjc1IiBzdHJva2U9IiMwMDAiLz48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMTggNmgtN1Y1aDd6bTAgNC41aC03di0xaDd6bTAgNC41SDZ2LTFoMTJ6Ii8+PC9zdmc+)}.ag-charts-icon-fill-color{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtOC4wNzEgNC4wNi0uOTI0LS45MjQuNzA3LS43MDcgNy4yODggNy4yODgtNC45NSA0Ljk1YTMuNSAzLjUgMCAwIDEtNC45NSAwbC0xLjQxNC0xLjQxNGEzLjUgMy41IDAgMCAxIDAtNC45NXptLjcwNy43MDhMNC41MzYgOS4wMWEyLjUgMi41IDAgMCAwIDAgMy41MzZMNS45NSAxMy45NmEyLjUgMi41IDAgMCAwIDMuNTM1IDBsNC4yNDMtNC4yNDN6bTYuOSA3LjIwMi0uMzQ1LjM2My0uMzQ0LS4zNjNhLjUuNSAwIDAgMSAuNjg4IDBtLS4zNDUgMS4wOGE4IDggMCAwIDAtLjI4LjMyMyA0LjMgNC4zIDAgMCAwLS40MDkuNTgyYy0uMTEzLjIwMS0uMTQ0LjMyNi0uMTQ0LjM3OGEuODMzLjgzMyAwIDAgMCAxLjY2NyAwYzAtLjA1Mi0uMDMxLS4xNzctLjE0NC0uMzc4YTQuMyA0LjMgMCAwIDAtLjQxLS41ODIgOCA4IDAgMCAwLS4yOC0uMzIybS0uMzQ0LTEuMDguMzQ0LjM2My4zNDQtLjM2My4wMDIuMDAyLjAwNC4wMDQuMDEzLjAxMmE2IDYgMCAwIDEgLjIwNi4yMDhjLjEzMS4xMzYuMzA4LjMyNy40ODUuNTQ1LjE3Ni4yMTUuMzYzLjQ2Ny41MDcuNzI0LjEzNy4yNDMuMjczLjU1My4yNzMuODY4YTEuODMzIDEuODMzIDAgMSAxLTMuNjY3IDBjMC0uMzE1LjEzNi0uNjI1LjI3My0uODY4LjE0NC0uMjU3LjMzLS41MDkuNTA3LS43MjRhOSA5IDAgMCAxIC42NDUtLjcwOGwuMDQ2LS4wNDUuMDEzLS4wMTIuMDA0LS4wMDR6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-hollow-candlestick-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1vcGFjaXR5PSIuMTUiIGQ9Ik01IDVoM3YxMEg1eiIvPjxwYXRoIGZpbGw9IiMxMzE3MjIiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTcgMXYzaDJ2MTJIN3YzSDZ2LTNINFY0aDJWMXpNNSA1aDN2MTBINXptNyAyaDN2NmgtM3ptLTEgN1Y2aDJWMy4yNWgxVjZoMnY4aC0ydjIuNzVoLTFWMTR6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-horizontal-line,.ag-charts-icon-horizontal-line-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNLjUgOS41aDcuMzA2YTIuMjUgMi4yNSAwIDAgMSA0LjM4OCAwSDE5LjV2MWgtNy4zMDZhMi4yNSAyLjI1IDAgMCAxLTQuMzg4IDBILjV6bTkuNSAxLjc1YTEuMjUgMS4yNSAwIDEgMCAwLTIuNSAxLjI1IDEuMjUgMCAwIDAgMCAyLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-line-color{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTQuMjQyIDIuNzIyYy0uNjEyIDAtMS4yLjI0My0xLjYzMi42NzVsLTEuMzQzIDEuMzQ0YS41LjUgMCAwIDAtLjExMi4xMTJMNC4wNSAxMS45NTljLS4yMDcuMjA3LS4zNi40Ni0uNDQ2Ljc0di4wMDFsLS42OSAyLjc2N3YuMDAyYS44Mi44MiAwIDAgMCAxLjAyMiAxLjAyMWguMDAybDIuNjM0LS44MjJjLjI4LS4wODUuNTM0LS4yMzcuNzQtLjQ0M2w3LjEwNy03LjEwOGEuNS41IDAgMCAwIC4xMTItLjExMmwxLjM0My0xLjM0M2EyLjMwOCAyLjMwOCAwIDAgMC0xLjYzMi0zLjk0TTE0LjEyMiA3bDEuMDQ0LTEuMDQ1YTEuMzA4IDEuMzA4IDAgMSAwLTEuODQ5LTEuODVMMTIuMjcxIDUuMTV6bS0yLjU1OC0xLjE0Mi02LjgwNyA2LjgwOWEuOC44IDAgMCAwLS4xOTYuMzI1bC0uNzUgMi40NjggMi40Ny0uNzQ5YS44LjggMCAwIDAgLjMyNS0uMTk0bDYuODA4LTYuODF6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-line-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtMTcuMzYyIDQuODczLTQuNTk0IDYuNjU0LTQuODUtMy4zMTctNC4yNTEgNi45NzctLjg1NC0uNTJMNy42MTIgNi43OWw0Ljg5OSAzLjM1IDQuMDI4LTUuODM2eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-line-style-dashed{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMiA5aDR2MUgyem0xMiAwaDR2MWgtNHpNOCA5aDR2MUg4eiIvPjwvc3ZnPg==)}.ag-charts-icon-line-style-dotted{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48Y2lyY2xlIGN4PSIyLjUiIGN5PSI5LjUiIHI9Ii41IiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iNC41IiBjeT0iOS41IiByPSIuNSIgZmlsbD0iIzAwMCIvPjxjaXJjbGUgY3g9IjYuNSIgY3k9IjkuNSIgcj0iLjUiIGZpbGw9IiMwMDAiLz48Y2lyY2xlIGN4PSI4LjUiIGN5PSI5LjUiIHI9Ii41IiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iMTAuNSIgY3k9IjkuNSIgcj0iLjUiIGZpbGw9IiMwMDAiLz48Y2lyY2xlIGN4PSIxMi41IiBjeT0iOS41IiByPSIuNSIgZmlsbD0iIzAwMCIvPjxjaXJjbGUgY3g9IjE0LjUiIGN5PSI5LjUiIHI9Ii41IiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iMTYuNSIgY3k9IjkuNSIgcj0iLjUiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-line-style-solid{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMiA5aDE2djFIMnoiLz48L3N2Zz4=)}.ag-charts-icon-line-with-markers-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtMTguMTk4IDQuODg4LTMuNTU2IDQuOTE4YTIuMjUgMi4yNSAwIDEgMS0zLjg2Ni43NWwtMS40MzItLjlhMi4yNCAyLjI0IDAgMCAxLTIuMDA5LjQzNWwtMy44MjggNi40MjgtLjg2LS41MTJMNi40NSA5LjYyM2EyLjI1IDIuMjUgMCAxIDEgMy41MS0uNzYxbDEuMzI5LjgzNWEyLjI0IDIuMjQgMCAwIDEgMi41NTctLjQ5N2wzLjU0Mi00Ljg5OHptLTQuOTYgNS4xNTNhMS4yNSAxLjI1IDAgMSAwLS42NCAyLjQxOSAxLjI1IDEuMjUgMCAwIDAgLjY0LTIuNDE5TTkuMSA4LjMyMXEuMDY2LS4xOTIuMDY3LS40MDRhMS4yNSAxLjI1IDAgMSAwLS4wNjcuNDA0IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-lock,.ag-charts-icon-locked{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTAuMjA3IDMuNzY0YTIuODk0IDIuODk0IDAgMCAwLTIuODk1IDIuODk0VjloNS43ODlWNi42NThhMi44OTQgMi44OTQgMCAwIDAtMi44OTUtMi44OTRNMTQuMSA5VjYuNjU4YTMuODk0IDMuODk0IDAgMSAwLTcuNzg5IDB2Mi4zNDlBMi41IDIuNSAwIDAgMCA0IDExLjV2M0EyLjUgMi41IDAgMCAwIDYuNSAxN2g4YTIuNSAyLjUgMCAwIDAgMi41LTIuNXYtM0EyLjUgMi41IDAgMCAwIDE0LjUgOXpNNi41IDEwQTEuNSAxLjUgMCAwIDAgNSAxMS41djNBMS41IDEuNSAwIDAgMCA2LjUgMTZoOGExLjUgMS41IDAgMCAwIDEuNS0xLjV2LTNhMS41IDEuNSAwIDAgMC0xLjUtMS41eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-measurer-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibTQuNDYxIDEyLjcxIDEuNTMyLTEuNTMxIDEuNDE0IDEuNDE0LjcwNy0uNzA3TDYuNyAxMC40NzJsMS41MzItMS41MzMgMiAyIC43MDctLjcwNy0yLTIgNi4wMS02LjAxIDIuODMgMi44MjhMNS4wNSAxNy43NzggMi4yMjIgMTQuOTVsMS41MzItMS41MzIgMS40MTQgMS40MTQuNzA3LS43MDd6TS44MDggMTQuOTVsLjcwNy0uNzA3TDE0LjI0MyAxLjUxNWwuNzA3LS43MDcuNzA3LjcwNyAyLjgyOCAyLjgyOC43MDcuNzA3LS43MDcuNzA3TDUuNzU3IDE4LjQ4NWwtLjcwNy43MDctLjcwNy0uNzA3LTIuODI4LTIuODI4em0xMS4wNzgtNi44MzVMMTAuNDcgNi43bC43MDctLjcwNyAxLjQxNSAxLjQxNHptLjgyNC0zLjY1NCAxIDEgLjcwOC0uNzA3LTEtMXoiIGZpbGw9IiMxODFEMUYiLz48L3N2Zz4=)}.ag-charts-icon-note-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMyA0LjVBMS41IDEuNSAwIDAgMSA0LjUgM2gxMUExLjUgMS41IDAgMCAxIDE3IDQuNXY4YTEuNSAxLjUgMCAwIDEtMS41IDEuNWgtMy4yMWwtMS40NjkgMi41N2ExIDEgMCAwIDEtMS42ODIuMDg1TDcuMjQzIDE0SDQuNUExLjUgMS41IDAgMCAxIDMgMTIuNXpNNC41IDRhLjUuNSAwIDAgMC0uNS41djhhLjUuNSAwIDAgMCAuNS41aDMuMjU3bDIuMTk2IDMuMDc0TDExLjcxIDEzaDMuNzlhLjUuNSAwIDAgMCAuNS0uNXYtOGEuNS41IDAgMCAwLS41LS41eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNi41IDYuNUEuNS41IDAgMCAxIDcgNmg2YS41LjUgMCAwIDEgMCAxSDdhLjUuNSAwIDAgMS0uNS0uNU02LjUgOS41QS41LjUgMCAwIDEgNyA5aDZhLjUuNSAwIDAgMSAwIDFIN2EuNS41IDAgMCAxLS41LS41IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-ohlc-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZD0iTTEzIDExaC0zdi0xaDNWM2gxdjJoNHYxaC00djExaC0xek02IDE3di0yaDN2LTFINlY0SDV2MUgydjFoM3YxMXoiLz48L3N2Zz4=)}.ag-charts-icon-pan-end{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0ibTYuNjQ2IDEzLjgxMy0uMzUzLjM1NC43MDcuNzA3LjM1NC0uMzU0ek0xMS4xNjYgMTBsLjM1NC4zNTQuMzU0LS4zNTQtLjM1NC0uMzU0ek03LjM1NSA1LjQ4IDcgNS4xMjZsLS43MDcuNzA3LjM1My4zNTR6bTAgOS4wNCA0LjE2Ni00LjE2Ni0uNzA3LS43MDgtNC4xNjcgNC4xNjd6bTQuMTY2LTQuODc0TDcuMzU0IDUuNDhsLS43MDguNzA3IDQuMTY3IDQuMTY3ek0xMy4wODMgNXYxMGgxVjV6Ii8+PC9zdmc+)}.ag-charts-icon-pan-left{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTIuNzkgNS44MzMgOC42MjUgMTBsNC4xNjYgNC4xNjctLjcwNy43MDdMNy4yMSAxMGw0Ljg3My00Ljg3NHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-pan-right{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNy4yMSAxNC4xNjcgMTEuMzc2IDEwIDcuMjEgNS44MzNsLjcwNy0uNzA3TDEyLjc5IDEwbC00Ljg3MyA0Ljg3NHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-pan-start{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTYgNXYxMGgxVjV6TTkuNjI0IDEwbDQuMTY2LTQuMTY3LS43MDctLjcwN0w4LjIxIDEwbDQuODc0IDQuODc0LjcwNy0uNzA3eiIvPjwvc3ZnPg==)}.ag-charts-icon-parallel-channel,.ag-charts-icon-parallel-channel-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTcuNzIgNS4zMzFBMi4yNSAyLjI1IDAgMSAwIDE0LjcwNSAzLjZsLTkuNDkgNC41NjJhMi4yNSAyLjI1IDAgMSAwIC4yMDkgMS4wMWw5LjY2Mi00LjY0NmEyLjI1IDIuMjUgMCAwIDAgMi42MzQuODA1bS4zNzMtMi41NDdhMS4yNSAxLjI1IDAgMSAxLTIuMzM4Ljg4NSAxLjI1IDEuMjUgMCAwIDEgMi4zMzgtLjg4NU00LjM0MyA4LjY3YTEuMjUgMS4yNSAwIDEgMS0yLjMzOC44ODUgMS4yNSAxLjI1IDAgMCAxIDIuMzM4LS44ODVNNS4zMDcgMTYuNzI4YTIuMjUgMi4yNSAwIDEgMS0uNTI1LS44NThsOS45MjMtNC43N2EyLjI1IDIuMjUgMCAxIDEgLjM4MS45MjZ6bS0uOTY0LjI3NGExLjI1IDEuMjUgMCAxIDEtMi4zMzguODg1IDEuMjUgMS4yNSAwIDAgMSAyLjMzOC0uODg1bTEzLjAyMy01LjEwNmExLjI1IDEuMjUgMCAxIDAtLjg4NS0yLjMzOSAxLjI1IDEuMjUgMCAwIDAgLjg4NSAyLjMzOSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-position-bottom{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii4yNSIgZD0iTTMgMTBoMTR2MUgzem0zLTNoOHYxSDZ6Ii8+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTYgMTNoOHYxSDZ6Ii8+PC9zdmc+)}.ag-charts-icon-position-center{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMyAxMGgxNHYxSDN6Ii8+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuMjUiIGQ9Ik02IDdoOHYxSDZ6bTAgNmg4djFINnoiLz48L3N2Zz4=)}.ag-charts-icon-position-top{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii4yNSIgZD0iTTMgMTBoMTR2MUgzeiIvPjxwYXRoIGZpbGw9IiMwMDAiIGQ9Ik02IDdoOHYxSDZ6Ii8+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuMjUiIGQ9Ik02IDEzaDh2MUg2eiIvPjwvc3ZnPg==)}.ag-charts-icon-price-label-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNC41IDNBMS41IDEuNSAwIDAgMCAzIDQuNVYxM2ExLjUgMS41IDAgMCAwIDEuNSAxLjVoLjgzM3YuMDU3Yy4yNDItLjI5OS41OTctLjUwMyAxLS41NDhWMTMuNUg0LjVBLjUuNSAwIDAgMSA0IDEzVjQuNWEuNS41IDAgMCAxIC41LS41aDExYS41LjUgMCAwIDEgLjUuNXY4YS41LjUgMCAwIDEtLjUuNWgtNC44MThsLS4xMjYuMDg0YTI2IDI2IDAgMCAwLTIuMjI1IDEuNjg1bC0uMzIuMjY1LS4wNjguMDU2YTEuNSAxLjUgMCAwIDEtMi42MDkgMS4zNTRjLjAzMy43NjMuOTA1IDEuMjM4IDEuNTYuNzU2LjY0Ni0uNDc0IDEuMjEtLjk0MyAxLjc2MS0xLjRsLjMxMy0uMjZBMjYgMjYgMCAwIDEgMTAuOTg2IDE0SDE1LjVhMS41IDEuNSAwIDAgMCAxLjUtMS41di04QTEuNSAxLjUgMCAwIDAgMTUuNSAzeiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNOC43MTYgMTQuODE1YTIuMjUgMi4yNSAwIDEgMS00LjIxIDEuNTkzIDIuMjUgMi4yNSAwIDAgMSA0LjIxLTEuNTkzbS0xLjY2MiAxLjk2NmExLjI1IDEuMjUgMCAxIDAtLjg4NS0yLjMzOSAxLjI1IDEuMjUgMCAwIDAgLjg4NSAyLjMzOSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-price-range-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNOS4wNDYgMTVWNS44NzdoLjk0MlYxNXoiIGZpbGw9IiMxODFEMUYiLz48cGF0aCBkPSJNOS4wNDYgMTVWNS44NzdoLjk0MlYxNXoiIGZpbGw9IiMxODFEMUYiLz48cGF0aCBkPSJNOS41IDYuMjI4IDcuMTY3IDguMzc2IDYuNSA3Ljc2MiA5LjUgNWwzIDIuNzYyLS42NjcuNjE0eiIgZmlsbD0iIzAwMCIvPjxwYXRoIGQ9Ik0yIDE4di0xaDE2djF6TTIgM1YyaDE2djF6IiBmaWxsPSIjMTgxRDFGIi8+PC9zdmc+)}.ag-charts-icon-reset{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTIuMDQgNC40NDVhNS44MSA1LjgxIDAgMCAwLTcuMjU3IDIuNDUzLjUuNSAwIDAgMS0uODY1LS41MDJBNi44MSA2LjgxIDAgMSAxIDMgOS44MTNhLjUuNSAwIDAgMSAxIDAgNS44MSA1LjgxIDAgMSAwIDguMDQtNS4zNjgiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjxwYXRoIGZpbGw9IiMwMDAiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTQuMjg5IDMuMDAyYS41LjUgMCAwIDEgLjUuNXYyLjY1NWgyLjY1NWEuNS41IDAgMCAxIDAgMUg0LjI5YS41LjUgMCAwIDEtLjUtLjVWMy41MDJhLjUuNSAwIDAgMSAuNS0uNSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-settings{--icon: url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgc3R5bGU9ImZpbGwtcnVsZTpldmVub2RkIj48cGF0aCBkPSJNMTAgMTNhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2bTAtMWEyIDIgMCAxIDEtLjAwMS0zLjk5OUEyIDIgMCAwIDEgMTAgMTIiLz48cGF0aCBkPSJNMi4zMSAxNC4zNDVjLS44MTctMS40OTEuMDI3LTIuNDk5LjQ3NC0yLjg2NS41MzEtLjQzNC45NjktLjM2NS45NzItMS40OC0uMDAzLTEuMTE1LS40NDEtMS4wNDYtLjk3Mi0xLjQ4MS0uNDU0LS4zNzEtMS4zMTctMS40MDUtLjQzNC0yLjkzNmwuMDA1LS4wMDljLjg4NC0xLjUyIDIuMjA3LTEuMjkgMi43NTUtMS4wODMuNjQxLjI0My44MDEuNjU2IDEuNzY4LjEwMS45NjQtLjU2LjY4Ni0uOTA0Ljc5Ni0xLjU4Mi4wOTQtLjU3OC41NTktMS44NDMgMi4zMjYtMS44NDNoLjAxYzEuNzU5LjAwNSAyLjIyMiAxLjI2NiAyLjMxNiAxLjg0My4xMS42NzgtLjE2OCAxLjAyMi43OTYgMS41ODIuOTY3LjU1NSAxLjEyNy4xNDIgMS43NjgtLjEwMS41NDktLjIwOCAxLjg3Ni0uNDM4IDIuNzYgMS4wOTJzLjAyIDIuNTY1LS40MzQgMi45MzZjLS41MzEuNDM1LS45NjkuMzY2LS45NzIgMS40ODEuMDAzIDEuMTE1LjQ0MSAxLjA0Ni45NzIgMS40OC40NTQuMzcyIDEuMzE3IDEuNDA2LjQzNCAyLjkzN2wtLjAwNS4wMDljLS44ODQgMS41Mi0yLjIwNyAxLjI5LTIuNzU1IDEuMDgzLS42NDEtLjI0My0uODAxLS42NTYtMS43NjgtLjEwMS0uOTY0LjU2LS42ODYuOTA0LS43OTYgMS41ODEtLjA5NC41NzktLjU1OSAxLjg0NC0yLjMyNiAxLjg0NGgtLjAxYy0xLjc1OS0uMDA1LTIuMjIyLTEuMjY2LTIuMzE2LTEuODQ0LS4xMS0uNjc3LjE2OC0xLjAyMS0uNzk2LTEuNTgxLS45NjctLjU1NS0xLjEyNy0uMTQyLTEuNzY4LjEwMS0uNTQ5LjIwOC0xLjg3Ni40MzgtMi43Ni0xLjA5MmwtLjAyLS4wMzZ6TTkuOTg0IDIuMTYySDEwYzEuMzU1IDAgMS4zNDIgMS4wMzkgMS4zNTMgMS40MjUuMDA4LjMxMi4wNCAxLjE2IDEuMjU5IDEuODcybC4wMTUuMDA4YzEuMjI1LjcgMS45NzYuMzA0IDIuMjUxLjE1NS4zMzctLjE4MyAxLjIyNi0uNzExIDEuOTAyLjQ0NWwuMDA4LjAxNGMuNjc4IDEuMTczLS4yMjkgMS42ODItLjU1OCAxLjg4NC0uMjY2LjE2My0uOTg0LjYxNS0uOTkxIDIuMDI3di4wMTZjLjAwNyAxLjQxMi43MjUgMS44NjQuOTkxIDIuMDI3LjMyOC4yMDEgMS4yMjkuNzA3LjU2NiAxLjg3bC0uMDA4LjAxNGMtLjY3NyAxLjE3NC0xLjU3MS42NDMtMS45MS40NTktLjI3NS0uMTQ5LTEuMDI2LS41NDUtMi4yNTEuMTU0bC0uMDE1LjAwOWMtMS4yMTkuNzEyLTEuMjUxIDEuNTYtMS4yNTkgMS44NzItLjAxMS4zODYuMDAyIDEuNDI1LTEuMzUzIDEuNDI1cy0xLjM0Mi0xLjAzOS0xLjM1My0xLjQyNWMtLjAwOC0uMzEyLS4wNC0xLjE2LTEuMjU5LTEuODcybC0uMDE1LS4wMDljLTEuMjI1LS42OTktMS45NzYtLjMwMy0yLjI1MS0uMTU0LS4zMzYuMTgzLTEuMjE5LjcwNi0xLjg5NC0uNDMybC0uMDE2LS4wMjdjLS42NzgtMS4xNzQuMjI5LTEuNjgyLjU1OC0xLjg4NC4yNjYtLjE2My45ODQtLjYxNS45OTEtMi4wMjd2LS4wMTZjLS4wMDctMS40MTItLjcyNS0xLjg2NC0uOTkxLTIuMDI3LS4zMjgtLjIwMS0xLjIyOS0uNzA3LS41NjYtMS44N2wuMDA4LS4wMTRjLjY3Ny0xLjE3NCAxLjU3MS0uNjQzIDEuOTEtLjQ1OS4yNzUuMTQ5IDEuMDI2LjU0NSAyLjI1MS0uMTU1bC4wMTUtLjAwOGMxLjIxOS0uNzEyIDEuMjUxLTEuNTYgMS4yNTktMS44NzIuMDEtLjM4NC0uMDAyLTEuNDE3IDEuMzM3LTEuNDI1Ii8+PC9zdmc+)}.ag-charts-icon-step-line-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzE4MUQxRiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNiA0aDV2OGgzVjhoNXYxaC00djRoLTVWNUg3djEwSDJ2LTFoNHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-text-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00IDRIMTZWN0gxNVY1SDEwLjVWMTVIMTRWMTZINlYxNUg5LjVWNUg1VjdINFY0WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==)}.ag-charts-icon-trend-line,.ag-charts-icon-trend-line-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNS4zMTQgMTAuOTM4YTIuMjUgMi4yNSAwIDEgMSAuMDEtMWg5LjM1MmEyLjI1IDIuMjUgMCAxIDEgLjAxIDF6bS0yLjE4OS43MjlhMS4yNSAxLjI1IDAgMSAwIDAtMi41IDEuMjUgMS4yNSAwIDAgMCAwIDIuNW0xMy43NSAwYTEuMjUgMS4yNSAwIDEgMCAwLTIuNSAxLjI1IDEuMjUgMCAwIDAgMCAyLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-unlock,.ag-charts-icon-unlocked{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTAuNjUxIDMuNWEyLjg5NCAyLjg5NCAwIDAgMC0yLjg5NCAyLjg5NFY5SDE0LjVhMi41IDIuNSAwIDAgMSAyLjUgMi41djNhMi41IDIuNSAwIDAgMS0yLjUgMi41aC04QTIuNSAyLjUgMCAwIDEgNCAxNC41di0zQTIuNSAyLjUgMCAwIDEgNi41IDloLjI1N1Y2LjM5NGEzLjg5NCAzLjg5NCAwIDEgMSA3Ljc4OSAwIC41LjUgMCAwIDEtMSAwQTIuODk0IDIuODk0IDAgMCAwIDEwLjY1IDMuNU02LjUgMTBBMS41IDEuNSAwIDAgMCA1IDExLjV2M0ExLjUgMS41IDAgMCAwIDYuNSAxNmg4YTEuNSAxLjUgMCAwIDAgMS41LTEuNXYtM2ExLjUgMS41IDAgMCAwLTEuNS0xLjV6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-vertical-line,.ag-charts-icon-vertical-line-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTAuNSA3LjgwNmEyLjI1IDIuMjUgMCAwIDEgMCA0LjM4OFYxOS41aC0xdi03LjMwNmEyLjI1IDIuMjUgMCAwIDEgMC00LjM4OFYuNWgxem0tLjUuOTQ0YTEuMjUgMS4yNSAwIDEgMSAwIDIuNSAxLjI1IDEuMjUgMCAwIDEgMC0yLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-zoom-in{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTEwIDUuNWEuNS41IDAgMCAxIC41LjV2My41aDMuODc1YS41LjUgMCAwIDEgMCAxSDEwLjV2NC4yNWEuNS41IDAgMSAxLTEgMFYxMC41SDUuNjI1YS41LjUgMCAxIDEgMC0xSDkuNVY2YS41LjUgMCAwIDEgLjUtLjUiLz48L3N2Zz4=)}.ag-charts-icon-zoom-out{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNS41IDEwYS41LjUgMCAwIDEgLjUtLjVoOGEuNS41IDAgMCAxIDAgMUg2YS41LjUgMCAwIDEtLjUtLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-high-low-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNyA0aDJ2MTJINFY0aDNNNSA1aDN2MTBINXpNMTEgMTRWNmg1djhoLTVtMS03aDN2NmgtM3oiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-hlc-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtMTguMTYzIDEuODM3LTUuMzM0IDExLjYyMUw2Ljk1NyA4LjEybC00LjE5OSA5LjYyMi0uOTE2LS40IDQuNzU2LTEwLjlMMTIuNDkgMTEuOCAxNy4yNTQgMS40MnoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjxwYXRoIGZpbGw9IiMwMDAiIGZpbGwtb3BhY2l0eT0iLjQiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTUuODI1IDIuNzA0LjU1IDEzLjc4NWwuOTAyLjQzIDQuNzI0LTkuOTE5IDYuMDM0IDUuMDI5IDMuMjU1LTguMTQtLjkyOC0uMzctMi43NDUgNi44NnptNy44NTIgMTQuNjM2IDUuNzgtMTMuMTM5LS45MTUtLjQwMi01LjIxOSAxMS44Ni02LjAwNS01LjUwNC0zLjI3OCA3LjY0OC45Mi4zOTQgMi43MjItNi4zNTJ6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-chevron-right{--icon: url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03LjQ3IDUuNDdhLjc1Ljc1IDAgMCAxIDEuMDYgMGw0IDRhLjc1Ljc1IDAgMCAxIDAgMS4wNmwtNCA0YS43NS43NSAwIDAgMS0xLjA2LTEuMDZMMTAuOTQgMTAgNy40NyA2LjUzYS43NS43NSAwIDAgMSAwLTEuMDYiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-zoom-in-alt{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXpvb20taW4iPjxjaXJjbGUgY3g9IjExIiBjeT0iMTEiIHI9IjgiLz48bGluZSB4MT0iMjEiIHgyPSIxNi42NSIgeTE9IjIxIiB5Mj0iMTYuNjUiLz48bGluZSB4MT0iMTEiIHgyPSIxMSIgeTE9IjgiIHkyPSIxNCIvPjxsaW5lIHgxPSI4IiB4Mj0iMTQiIHkxPSIxMSIgeTI9IjExIi8+PC9zdmc+)}.ag-charts-icon-zoom-out-alt{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXpvb20tb3V0Ij48Y2lyY2xlIGN4PSIxMSIgY3k9IjExIiByPSI4Ii8+PGxpbmUgeDE9IjIxIiB4Mj0iMTYuNjUiIHkxPSIyMSIgeTI9IjE2LjY1Ii8+PGxpbmUgeDE9IjgiIHgyPSIxNCIgeTE9IjExIiB5Mj0iMTEiLz48L3N2Zz4=)}.ag-charts-input{--input-layer-active: 1;--input-layer-focus: 2;--input-padding: calc(var(--ag-charts-spacing) * 2);--input-padding-large: calc(var(--ag-charts-spacing) * 2.5);color:var(--ag-charts-input-text-color);font-family:var(--ag-charts-chrome-font-family);font-size:var(--ag-charts-chrome-font-size-large);transition-duration:.25s;transition-property:none;transition-timing-function:ease-out}.ag-charts-input:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow);z-index:var(--input-layer-focus)}.ag-charts-button{background:var(--ag-charts-button-background-color);border:var(--ag-charts-button-border);border-radius:var(--ag-charts-button-border-radius);color:var(--ag-charts-button-text-color);cursor:pointer;padding:var(--input-padding);transition-property:background,border-color}.ag-charts-button:hover{background:var(--ag-charts-focus-color)}.ag-charts-button:has(.ag-charts-icon){padding:2px}.ag-charts-checkbox{--checkbox-transition-duration: .1s;appearance:none;background:var(--ag-charts-checkbox-background-color);border-radius:calc(var(--ag-charts-border-radius) * 9);cursor:pointer;height:18px;margin:0;transition-duration:var(--checkbox-transition-duration);transition-property:margin;width:29px}.ag-charts-checkbox:before{display:block;background:var(--ag-charts-input-background-color);border-radius:calc(var(--ag-charts-border-radius) * 7);content:" ";height:14px;margin:2px;transition-duration:var(--checkbox-transition-duration);transition-property:margin;transition-timing-function:var(--ag-charts-input-transition-easing);width:14px}.ag-charts-checkbox:checked{background:var(--ag-charts-checkbox-checked-background-color)}.ag-charts-checkbox:checked:before{margin-left:13px}.ag-charts-select{background:var(--ag-charts-input-background-color);border:var(--ag-charts-input-border);border-radius:var(--ag-charts-input-border-radius);padding:3px 2px 4px;font-size:inherit}.ag-charts-textarea{--textarea-line-height: 1.38;background:var(--ag-charts-input-background-color);border:var(--ag-charts-input-border);border-radius:var(--ag-charts-input-border-radius);line-height:var(--textarea-line-height);font-family:var(--ag-charts-chrome-font-family);font-size:var(--ag-charts-chrome-font-size-large);padding:var(--input-padding-large) var(--input-padding)}.ag-charts-textarea::placeholder{color:var(--ag-charts-input-placeholder-text-color)}.ag-charts-proxy-container{pointer-events:none;position:absolute}.ag-charts-proxy-legend-toolbar{pointer-events:auto}.ag-charts-proxy-legend-toolbar>div[role=listitem]{pointer-events:none}.ag-charts-proxy-elem{-webkit-appearance:none;appearance:none;background:none;border:none;color:#0000;overflow:hidden;pointer-events:auto;position:absolute}.ag-charts-proxy-elem::-moz-range-thumb,.ag-charts-proxy-elem::-moz-range-track{opacity:0}.ag-charts-proxy-elem::-webkit-slider-runnable-track,.ag-charts-proxy-elem::-webkit-slider-thumb{opacity:0}.ag-charts-proxy-elem:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow)}.ag-charts-focus-indicator{position:absolute;display:block;pointer-events:none;user-select:none;-webkit-user-select:none;width:100%;height:100%}.ag-charts-focus-indicator>div{position:absolute;outline:solid 1px var(--ag-charts-chrome-background-color);box-shadow:var(--ag-charts-focus-shadow)}.ag-charts-focus-indicator>svg{width:100%;height:100%;fill:none;overflow:visible}.ag-charts-focus-svg-outer-path{stroke:var(--ag-charts-chrome-background-color);stroke-width:4px}.ag-charts-focus-svg-inner-path{stroke:var(--ag-charts-accent-color);stroke-width:2px}.ag-charts-overlay{color:#181d1f;pointer-events:none}.ag-charts-overlay.ag-charts-dark-overlay{color:#fff}.ag-charts-overlay--loading{color:#8c8c8c}.ag-charts-overlay__loading-background{background:#fff;pointer-events:none}.ag-charts-overlay.ag-charts-dark-overlay .ag-charts-overlay__loading-background{background:#192232}.ag-charts-tooltip{--tooltip-arrow-size: 8px;--tooltip-row-spacing: 8px;--tooltip-column-spacing: 16px;position:fixed;inset:unset;margin:0;padding:0;overflow:visible;top:var(--top, 0px);left:var(--left, 0px);width:max-content;max-width:100%;font-family:var(--ag-charts-chrome-font-family);font-size:var(--ag-charts-chrome-font-size);font-weight:var(--ag-charts-chrome-font-weight);color:var(--ag-charts-tooltip-text-color);background:var(--ag-charts-tooltip-background-color);border:var(--ag-charts-tooltip-border);border-radius:var(--ag-charts-tooltip-border-radius);box-shadow:var(--ag-charts-popup-shadow)}.ag-charts-tooltip--compact .ag-charts-tooltip-content{--tooltip-row-spacing: 2px;--tooltip-column-spacing: 8px;padding:3px 6px}.ag-charts-tooltip--arrow-top:before,.ag-charts-tooltip--arrow-right:before,.ag-charts-tooltip--arrow-bottom:before,.ag-charts-tooltip--arrow-left:before{content:"";position:absolute;display:block;width:var(--tooltip-arrow-size);height:var(--tooltip-arrow-size);border:inherit;border-bottom-color:transparent;border-right-color:transparent;background:inherit;clip-path:polygon(0 0,100% 0,100% 1px,1px 100%,0 100%)}.ag-charts-tooltip--arrow-top:before{bottom:100%;left:50%;transform:translate(-50%) translateY(calc(var(--tooltip-arrow-size) * .5)) rotate(45deg)}.ag-charts-tooltip--arrow-bottom:before{top:100%;left:50%;transform:translate(-50%) translateY(calc(var(--tooltip-arrow-size) * -.5)) rotate(225deg)}.ag-charts-tooltip--arrow-left:before{right:100%;top:50%;transform:translateY(-50%) translate(calc(var(--tooltip-arrow-size) * .5)) rotate(315deg)}.ag-charts-tooltip--arrow-right:before{left:100%;top:50%;transform:translateY(-50%) translate(calc(var(--tooltip-arrow-size) * -.5)) rotate(135deg)}.ag-charts-tooltip--no-interaction{pointer-events:none;user-select:none;-webkit-user-select:none}.ag-charts-tooltip--wrap-always{overflow-wrap:break-word;word-break:break-word;hyphens:none}.ag-charts-tooltip--wrap-hyphenate{overflow-wrap:break-word;word-break:break-word;hyphens:auto}.ag-charts-tooltip--wrap-on-space{overflow-wrap:normal;word-break:normal}.ag-charts-tooltip--wrap-never{white-space:nowrap}.ag-charts-tooltip-heading,.ag-charts-tooltip-title,.ag-charts-tooltip-label,.ag-charts-tooltip-value{overflow:hidden;text-overflow:ellipsis}.ag-charts-tooltip-content{display:grid;grid:auto-flow minmax(1em,auto) / 1fr;padding:8px 12px;gap:var(--tooltip-row-spacing)}.ag-charts-tooltip-content:has(.ag-charts-tooltip-symbol){grid:auto-flow minmax(1em,auto) / auto 1fr}.ag-charts-tooltip-heading{grid-column:1 / -1}.ag-charts-tooltip-symbol{grid-column:1 / 2;place-self:center}.ag-charts-tooltip-symbol svg{display:block}.ag-charts-tooltip-title{grid-column:-2 / -1}.ag-charts-tooltip-row{grid-column:1 / -1;display:flex;gap:var(--tooltip-column-spacing);align-items:baseline;justify-content:space-between;overflow:hidden}.ag-charts-tooltip-row--inline{grid-column:-2 / -1}.ag-charts-tooltip-label{flex:1;min-width:0}.ag-charts-tooltip-value{min-width:0}.ag-charts-tooltip-footer{grid-column:1 / -1;color:var(--ag-charts-tooltip-subtle-text-color);text-align:center}.ag-charts-popover{position:absolute;border:var(--ag-charts-border);border-radius:var(--ag-charts-border-radius);background:var(--ag-charts-panel-background-color);color:var(--ag-charts-chrome-text-color);font-family:var(--ag-charts-chrome-font-family);font-size:var(--ag-charts-chrome-font-size);font-weight:var(--ag-charts-chrome-font-weight);box-shadow:var(--ag-charts-popup-shadow);z-index:var(--ag-charts-layer-ui-overlay)}.ag-charts-menu{--item-padding: 6px 12px;--icon-color: var(--ag-charts-menu-text-color);display:grid;grid:auto-flow auto / 1fr;column-gap:12px;font-size:var(--ag-charts-chrome-font-size)}.ag-charts-menu:has(.ag-charts-menu__icon,.ag-charts-menu__row--stroke-width-visible){grid:auto-flow auto / auto 1fr}.ag-charts-menu__row--stroke-width-visible:before{content:"";height:var(--strokeWidth);width:12px;background:var(--icon-color)}.ag-charts-menu__row--stroke-width-visible[aria-disabled=true]:before{filter:grayscale(1);opacity:.5}.ag-charts-menu__row{display:grid;grid-column:1 / -1;grid-template-columns:subgrid;align-items:center;padding:var(--item-padding)}.ag-charts-menu__row:not(.ag-charts-menu__row--active){cursor:pointer}.ag-charts-menu__row:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.ag-charts-menu__row:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.ag-charts-menu__row:focus{background:var(--ag-charts-focus-color)}.ag-charts-menu__row:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow);z-index:var(--ag-charts-layer-menu)}.ag-charts-menu__row--active{--icon-color: var(--ag-charts-accent-color);background:var(--ag-charts-focus-color);color:var(--ag-charts-accent-color)}.ag-charts-menu__label{grid-column:-1 / span 1}.ag-charts-toolbar{--toolbar-gap: calc(var(--ag-charts-spacing) * 2);--toolbar-size: 34px;--toolbar-button-padding: 6px;align-items:center;display:flex;flex-wrap:nowrap;position:absolute}.ag-charts-toolbar__button{align-items:center;background:var(--ag-charts-chrome-background-color);border:var(--ag-charts-button-border);color:var(--ag-charts-button-text-color);cursor:pointer;display:flex;font-family:var(--ag-charts-chrome-font-family);font-size:var(--ag-charts-chrome-font-size-medium);font-weight:var(--ag-charts-chrome-font-weight);justify-content:center;min-height:var(--toolbar-size);min-width:var(--toolbar-size);padding:var(--toolbar-button-padding);position:relative;transition:background-color .25s ease-in-out,border-color .25s ease-in-out,color .25s ease-in-out;white-space:nowrap}.ag-charts-toolbar__button:hover{background:var(--ag-charts-focus-color);z-index:1}.ag-charts-toolbar__button:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow);z-index:calc(var(--ag-charts-layer-ui-overlay) + 1)}.ag-charts-toolbar__button--active{background:var(--ag-charts-focus-color);border-color:var(--ag-charts-accent-color);color:var(--ag-charts-accent-color);z-index:2}.ag-charts-toolbar__button[aria-disabled=true]{background:var(--ag-charts-button-disabled-background-color);color:var(--ag-charts-button-disabled-text-color);cursor:default}.ag-charts-toolbar--horizontal{flex-direction:row;.ag-charts-toolbar__button{margin:0 0 0 -1px}.ag-charts-toolbar__button--first{border-bottom-left-radius:var(--ag-charts-border-radius);border-top-left-radius:var(--ag-charts-border-radius);margin:0}.ag-charts-toolbar__button--last{border-bottom-right-radius:var(--ag-charts-border-radius);border-top-right-radius:var(--ag-charts-border-radius)}}.ag-charts-toolbar--vertical{flex-direction:column;.ag-charts-toolbar__button{margin:-1px 0 0;max-width:100%}.ag-charts-toolbar__button--first{border-top-left-radius:var(--ag-charts-border-radius);border-top-right-radius:var(--ag-charts-border-radius);margin:0}.ag-charts-toolbar__button--last{border-bottom-left-radius:var(--ag-charts-border-radius);border-bottom-right-radius:var(--ag-charts-border-radius)}}.ag-charts-toolbar__icon+.ag-charts-toolbar__label{margin-left:var(--toolbar-gap)}.ag-charts-toolbar__icon,.ag-charts-toolbar__label{pointer-events:none}.ag-charts-floating-toolbar{border:none;display:flex;.ag-charts-toolbar{align-items:unset;position:unset}}.ag-charts-floating-toolbar__drag-handle{align-items:center;background:var(--ag-charts-chrome-background-color);border:var(--ag-charts-border);border-bottom-left-radius:var(--ag-charts-border-radius);border-top-left-radius:var(--ag-charts-border-radius);cursor:grab;display:flex;justify-content:center;min-width:24px;padding-left:0;padding-right:0}.ag-charts-floating-toolbar__drag-handle--dragging{cursor:grabbing}
`,XR=class{constructor(){this.cleanup=new pt,this.destroyed=!1}destroy(){this.cleanup.flush(),this.destroyed=!0}},ude=class Rw{constructor(i,e,n){this.element=i,this.topTabGuard=e,this.bottomTabGuard=n,this.cleanup=new pt,this.guardTabIndex=0,this.hasFocus=!1,this.initTabGuard(this.topTabGuard,!1),this.initTabGuard(this.bottomTabGuard,!0),this.element.addEventListener("focus",()=>this.onFocus(),{capture:!0}),this.element.addEventListener("blur",r=>this.onBlur(r),{capture:!0})}set tabIndex(i){this.guardTabIndex=i,this.guardTabIndex===0?this.setGuardIndices(void 0):this.hasFocus||this.setGuardIndices(this.guardTabIndex)}destroy(){this.cleanup.flush()}initTabGuard(i,e){this.cleanup.register(Wt(i,"focus",()=>this.onTab(i,e)))}setGuardIndices(i){let e=i;it(this.topTabGuard,"tabindex",e),it(this.bottomTabGuard,"tabindex",e)}onFocus(){this.hasFocus=!0,this.guardTabIndex!==0&&this.setGuardIndices(0)}onBlur({relatedTarget:i}){let{topTabGuard:e,bottomTabGuard:n}=this;this.hasFocus=!1,this.guardTabIndex!==0&&i!==e&&i!==n&&this.setGuardIndices(this.guardTabIndex)}onTab(i,e){if(this.guardTabIndex!==0){let n;i.tabIndex===0?(n=this.findExitTarget(!e),this.setGuardIndices(this.guardTabIndex)):n=this.findEnterTarget(e),n?.focus()}}static queryFocusable(i,e){let n=tt();return Array.from(i.querySelectorAll(e)).filter(r=>{if(r instanceof HTMLElement){let a=n.getComputedStyle(r);return a.display!=="none"&&a.visibility!=="none"}return!1})}findEnterTarget(i){let e=Rw.queryFocusable(this.element,'[tabindex="0"]'),n=i?e.length-1:0;return e[n]}findExitTarget(i){let e=Rw.queryFocusable(Ur(),"[tabindex]").filter(a=>a.tabIndex>0).sort((a,o)=>a.tabIndex-o.tabIndex),{before:n,after:r}=Rw.findBeforeAndAfter(e,this.guardTabIndex);return i?n:r}static findBeforeAndAfter(i,e){let n=0,r=i.length-1,a,o;for(;n<=r;){let s=Math.floor((n+r)/2),l=i[s].tabIndex;if(l===e){a=i[s-1]||void 0,o=i[s+1]||void 0;break}else l<e?(a=i[s],n=s+1):(o=i[s],r=s-1)}return{before:a,after:o}}};function AD(t,i,e=["Escape"]){return Wt(t,"keydown",n=>{ED(n,...e)&&i(n)})}function JR(t,i){let e=Wt(tt(),"mousedown",n=>{[0,2].includes(n.button)&&!wG(t,n)&&(i(),e())});return e}function eO(t,i){let e=Wt(tt(),"touchstart",n=>{Array.from(n.targetTouches).some(a=>!wG(t,a))&&(i(),e())});return e}function wG(t,i){return i.target instanceof Element&&i.target.shadowRoot!=null?!0:i.target instanceof Node&&t.contains(i.target)}function tO(t,i,e){let n=r=>{for(let a of i)it(a,"data-focus-visible-override",r)};return n(e),Wt(t,"keydown",()=>n(!0),{once:!0})}function kv(t){return!(t.shiftKey||t.altKey||t.ctrlKey||t.metaKey)}function ED(t,...i){return kv(t)&&i.some(e=>t.key===e)}function cH(t,i,e){return Wt(t,"keydown",n=>{ED(n,e)&&i.focus()})}var _f={horizontal:{nextKey:"ArrowRight",prevKey:"ArrowLeft"},vertical:{nextKey:"ArrowDown",prevKey:"ArrowUp"}};function DG(t){let{orientation:i,buttons:e,wrapAround:n=!1,onEscape:r,onFocus:a,onBlur:o}=t,{nextKey:s,prevKey:l}=_f[i],c=m=>{m.target&&"tabIndex"in m.target&&(e.forEach(p=>p.tabIndex=-1),m.target.tabIndex=0)},[d,u]=n?[e.length,e.length]:[0,1/0],h=new pt;for(let m=0;m<e.length;m++){let p=e[(d+m-1)%u],g=e[m],y=e[(d+m+1)%u];h.register(Wt(g,"focus",c),a&&Wt(g,"focus",a),o&&Wt(g,"blur",o),r&&AD(g,r),p&&cH(g,p,l),y&&cH(g,y,s),Wt(g,"keydown",v=>{ED(v,s,l)&&v.preventDefault()})),g.tabIndex=m===0?0:-1}return h}var hde=class{constructor(t,i,e){this.lastFocus=i,this.closeCallback=e,this.cleanup=new pt,this.cleanup.register(JR(t,()=>this.close(!0)),eO(t,()=>this.close(!0)))}close(t){this.cleanup.flush(),this.closeCallback(),this.finishClosing(t)}finishClosing(t){this.cleanup.flush(),it(this.lastFocus,"aria-expanded",!1),t||this.lastFocus?.focus({preventScroll:!0}),this.lastFocus=void 0}};function SG(t){let{sourceEvent:i,orientation:e,menu:n,buttons:r,closeCallback:a,overrideFocusVisible:o}=t,{nextKey:s,prevKey:l}=_f[e],c=RD(i);it(c,"aria-expanded",!0);let d=new hde(n,c,a),u=()=>d.close(),{cleanup:h}=d;return n.role="menu",n.ariaOrientation=e,h.merge(DG({orientation:e,buttons:r,onEscape:u,wrapAround:!0})),n.tabIndex=-1,h.register(AD(n,u),Wt(n,"keydown",m=>{m.target===n&&(m.key===s||m.key===l)&&(m.preventDefault(),r[0]?.focus())})),r[0]?.focus({preventScroll:!0}),o!==void 0&&h.register(tO(n,r,o)),d}function mde(t,i){return e=>{if(t.ariaDisabled==="true")return e.preventDefault();i(e)}}function TD(t){return"button"in t?t.button===0:kv(t)&&(t.code==="Space"||t.key==="Enter")}function RD(t){if(t?.target instanceof HTMLElement&&"tabindex"in t.target.attributes)return t.target}function MG(t){return Wt(t,"keydown",i=>{if(i.defaultPrevented)return;wl(i.target,"data-preventdefault",!0)&&ED(i,"ArrowRight","ArrowLeft","ArrowDown","ArrowUp")&&i.preventDefault()})}var pde=class{constructor(t){this.callback=t,this.devicePixelRatio=tt("devicePixelRatio")??1,this.devicePixelRatioMediaQuery=void 0,this.devicePixelRatioListener=i=>{i.matches||(this.devicePixelRatio=tt("devicePixelRatio")??1,this.unregisterDevicePixelRatioListener(),this.registerDevicePixelRatioListener(),this.callback(this.pixelRatio))}}get pixelRatio(){return this.devicePixelRatio}observe(){this.registerDevicePixelRatioListener()}disconnect(){this.unregisterDevicePixelRatioListener()}unregisterDevicePixelRatioListener(){this.devicePixelRatioMediaQuery?.removeEventListener("change",this.devicePixelRatioListener),this.devicePixelRatioMediaQuery=void 0}registerDevicePixelRatioListener(){let t=tt("matchMedia")?.(`(resolution: ${this.pixelRatio}dppx)`);t?.addEventListener("change",this.devicePixelRatioListener),this.devicePixelRatioMediaQuery=t}},IG=class{constructor(){this.elements=new Map,this.documentReady=!1,this.queuedObserveRequests=[],this.onLoad=()=>{this.documentReady=!0,this.queuedObserveRequests.forEach(([i,e])=>this.observe(i,e)),this.queuedObserveRequests=[],this.observeWindow()},typeof ResizeObserver<"u"&&(this.resizeObserver=new ResizeObserver(i=>{for(let{target:e,contentRect:{width:n,height:r}}of i){let a=this.elements.get(e);this.checkSize(a,e,n,r)}}));let t;this.pixelRatioObserver=new pde(()=>{clearTimeout(t),t=setTimeout(()=>this.checkPixelRatio(),0)}),this.documentReady=Ur("readyState")==="complete",this.documentReady?this.observeWindow():tt()?.addEventListener("load",this.onLoad)}destroy(){tt()?.removeEventListener("load",this.onLoad),this.resizeObserver?.disconnect(),this.resizeObserver=void 0,this.pixelRatioObserver?.disconnect(),this.pixelRatioObserver=void 0}observeWindow(){this.pixelRatioObserver?.observe()}checkPixelRatio(){let t=this.pixelRatioObserver?.pixelRatio??1;for(let[i,e]of this.elements)if(e.size!=null&&e.size.pixelRatio!==t){let{width:n,height:r}=e.size;e.size={width:n,height:r,pixelRatio:t},e.cb(e.size,i)}}checkSize(t,i,e,n){if(t&&(e!==t.size?.width||n!==t.size?.height)){let r=this.pixelRatioObserver?.pixelRatio??1;t.size={width:e,height:n,pixelRatio:r},t.cb(t.size,i)}}observe(t,i){if(!this.documentReady){this.queuedObserveRequests.push([t,i]);return}this.elements.has(t)?this.removeFromQueue(t):this.resizeObserver?.observe(t);let e={cb:i};this.elements.set(t,e)}unobserve(t){this.resizeObserver?.unobserve(t),this.elements.delete(t),this.removeFromQueue(t),this.elements.size||this.destroy()}removeFromQueue(t){this.queuedObserveRequests=this.queuedObserveRequests.filter(([i])=>i!==t)}},Af=class extends Map{constructor(t,i){super(),this.defaultValue=t,this.defaultState=i}set(t,i){return this.delete(t),typeof i<"u"&&super.set(t,i),delete this.cachedState,delete this.cachedValue,this}stateId(){return this.cachedState??(this.cachedState=Array.from(this.keys()).pop()??this.defaultState),this.cachedState}stateValue(){return this.cachedValue??(this.cachedValue=Array.from(this.values()).pop()??this.defaultValue),this.cachedValue}},fde='<div role="presentation" class="ag-charts-wrapper ag-charts-styles" data-ag-charts><div role="presentation" class="ag-charts-canvas-center"><div role="presentation" class="ag-charts-canvas-container"><div role="presentation" class="ag-charts-canvas" aria-hidden="true"></div><div role="figure" class="ag-charts-canvas-proxy"><div role="presentation" class="ag-charts-series-area"></div></div><div role="presentation" class="ag-charts-canvas-overlay ag-charts-tooltip-container"></div></div></div></div>',gde=["styles","canvas","canvas-center","canvas-container","canvas-overlay","canvas-proxy","series-area","tooltip-container"],bde=new Set(["styles","canvas-container","canvas","tooltip-container"]),dH={safeHorizontal:"ag-charts-wrapper--safe-horizontal",safeVertical:"ag-charts-wrapper--safe-vertical"},yde=new Map([["styles",{childElementType:"style"}],["canvas",{childElementType:"canvas"}],["canvas-proxy",{childElementType:"div"}],["canvas-overlay",{childElementType:"div"}],["canvas-center",{childElementType:"div"}],["series-area",{childElementType:"div"}],["tooltip-container",{childElementType:"div"}]]);function vde(t,i){if(typeof IntersectionObserver>"u")return;let e=new IntersectionObserver(n=>{for(let r of n)r.target===t&&i(r.intersectionRatio)},{root:t});return e.observe(t),e}var kG={x:0,y:0,width:0,height:0,top:0,bottom:0,left:0,right:0,toJSON(){return kG}};function uH(t,i){let e=Ne("div");return e.className="ag-charts-tab-guard",t.insertAdjacentElement(i,e),e}var _de=(()=>{let t=class Ah extends XR{constructor(e,n,r,a,o="normal"){super(),this.eventsHub=e,this.chart=n,this.styleContainer=a,this.mode=o,this.anchorName=`--${pn(this)}`,this.styles=new Map,this.pendingContainer=void 0,this.container=void 0,this.documentRoot=void 0,this.initiallyConnected=void 0,this.containerSize=void 0,this.sizeMonitor=new IG,this.cursorState=new Af("default"),this.minWidth=0,this.minHeight=0,this.element=this.initDOM(),this.rootElements=this.initRootElements(),this.rootElements.canvas.element.style.setProperty("anchor-name",this.anchorName);let s=!1;if(this.observer=vde(this.element,l=>{l===0&&!s&&this.eventsHub.emit("dom:hidden",null),s=l===0}),this.setSizeOptions(),this.updateContainerSize(),this.addStyles("ag-charts-community",dde),this.setContainer(r),this.cleanup.register(MG(this.element)),this.mode==="normal"){let l=this.rootElements["canvas-center"].element;if(l==null)throw new Error("Error initializing tab guards");let c=uH(l,"beforebegin"),d=uH(l,"afterend");this.tabGuards=new ude(l,c,d)}}initDOM(){if(this.mode==="normal"){let r=Ne("div");return r.innerHTML=fde,r.firstChild}let e=Ne("div");e.role="presentation",e.dataset.agCharts="",e.classList.add("ag-charts-wrapper");let n=Ne("div");return e.appendChild(n),n.role="presentation",n.classList.add("ag-charts-series-area"),e}initRootElements(){let{mode:e,element:n}=this,r={};for(let a of gde){let o=`ag-charts-${a}`,s;if(e==="normal"?s=n.classList.contains(o)?n:n.getElementsByClassName(o)[0]:bde.has(a)?s=n:s=n.getElementsByClassName(o)[0]??Ne("div"),s==null)throw new Error(`AG Charts - unable to find DOM element ${o}`);r[a]={element:s,children:new Map,listeners:[]}}return r}destroy(){super.destroy(),this.observer?.unobserve(this.element),this.container&&this.sizeMonitor.unobserve(this.container),this.pendingContainer=void 0,Object.values(this.rootElements).forEach(e=>{e.children.forEach(n=>n.remove()),e.element.remove()}),this.element.remove()}postRenderUpdate(){this.mode!=="minimal"&&(this.pendingContainer==null||this.pendingContainer===this.container||(Ah.batchedUpdateContainer.length===0&&tt().setTimeout(this.applyBatchedUpdateContainer.bind(this),0),Ah.batchedUpdateContainer.push(this)))}applyBatchedUpdateContainer(){for(let e of Ah.batchedUpdateContainer)e.destroyed||e.updateContainer();Ah.batchedUpdateContainer.splice(0)}setSizeOptions(e=300,n=300,r,a){let{style:o}=this.element;o.width=`${r??e}px`,o.height=`${a??n}px`,this.minWidth=r??e,this.minHeight=a??n,this.updateContainerClassName()}updateContainerSize(){let{style:e}=this.rootElements["canvas-center"].element;e.visibility=this.containerSize==null?"hidden":"",this.containerSize?(e.width=`${this.containerSize.width??0}px`,e.height=`${this.containerSize.height??0}px`):(e.width="",e.height=""),this.updateContainerClassName()}setTabGuardIndex(e){this.tabGuards&&(this.tabGuards.tabIndex=e)}setContainer(e){e!==this.container&&(this.pendingContainer=e,(this.mode==="minimal"||this.container==null)&&this.updateContainer())}updateContainer(){let{pendingContainer:e}=this;if(!(e==null||e===this.container)){if(this.container&&(this.container.removeChild(this.element),this.sizeMonitor.unobserve(this.container)),this.documentRoot!=null)for(let n of this.rootElements.styles.children.keys())this.removeChild("styles",n);this.container=e,this.pendingContainer=void 0,this.documentRoot=this.getShadowDocumentRoot(e),this.initiallyConnected=e.isConnected;for(let[n,r]of this.styles)this.addStyles(n,r);e.appendChild(this.element),this.sizeMonitor.observe(e,n=>{this.containerSize=n,this.updateContainerSize(),this.eventsHub.emit("dom:resize",null)}),this.eventsHub.emit("dom:container-change",null)}}setThemeClass(e){let n="ag-charts-theme-";this.element.classList.forEach(r=>{r.startsWith(n)&&r!==e&&this.element.classList.remove(r)}),this.element.classList.add(e)}setThemeParameters(e){for(let[n,r]of ur(e)){let a=`${r}`;n.endsWith("Size")||n.endsWith("Radius")?a=`${r}px`:n.endsWith("Border")&&typeof r=="boolean"&&(a=r?"var(--ag-charts-border)":"none"),this.element.style.setProperty(`--ag-charts-${fU(n)}`,a)}}updateCanvasLabel(e){it(this.rootElements["canvas-proxy"].element,"aria-label",e)}getEventElement(e,n){return["focus","blur","keydown","keyup"].includes(n)?this.rootElements["series-area"].element:e}addEventListener(e,n,r){let a=this.getEventElement(this.element,e);return Wt(a,e,n,r)}removeEventListener(e,n,r){this.getEventElement(this.element,e).removeEventListener(e,n,r)}getBoundingClientRect(){return this.rootElements.canvas.element.getBoundingClientRect()}getOverlayClientRect(){let e=tt(),n=new we(0,0,e.innerWidth,e.innerHeight),r=this.getRawOverlayClientRect();return n.intersection(r)?.toDOMRect()??kG}getRawOverlayClientRect(){let e=this.element,n=this.element.getRootNode()?.fullscreenElement;for(;e!=null;){let o;if(n!=null&&e===n)o=!0;else{let l=e.computedStyleMap?.()?.get("overflow-y")?.toString();o=l==="auto"||l==="scroll"}if(o)return we.fromDOMRect(e.getBoundingClientRect());e=e.parentElement}if(this.documentRoot!=null)return we.fromDOMRect(this.documentRoot.getBoundingClientRect());let{innerWidth:r,innerHeight:a}=tt();return new we(0,0,r,a)}getShadowDocumentRoot(e=this.container){let n=e?.ownerDocument?.body??Ur("body");for(;e!=null;){if(e===n)return;if(e.parentNode instanceof DocumentFragment)return e;e=e.parentNode}}getParent(e){return this.rootElements[e].element}getChildBoundingClientRect(e){let{children:n}=this.rootElements[e],r=[];for(let a of n.values())r.push(we.fromDOMRect(a.getBoundingClientRect()));return we.merge(r)}isManagedChildDOMElement(e,n,r){let{children:a}=this.rootElements[n],o=a?.get(r);return o!=null&&e.contains(o)}contains(e,n){return n==null?this.element.contains(e):this.rootElements[n].element.contains(e)}addStyles(e,n){let r="data-ag-charts";if(this.styles.set(e,n),this.container==null)return;let a=l=>l.getAttribute(r)===e,o=l=>{let c=new Set(["TITLE","META"]),d=!0,u;for(let m of l.children){if(d&&c.has(m.tagName)){u=m;continue}if(d=!1,a(m))return;m.hasAttribute(r)&&(u=m)}let h=Ne("style");return this.chart.styleNonce!=null&&(h.nonce=this.chart.styleNonce),u==null?l.prepend(h):l.insertBefore(h,u.nextSibling),h},s;this.styleContainer?s=o(this.styleContainer):this.initiallyConnected===!1?s=this.addChild("styles",e):this.documentRoot==null&&!Ah.headStyles.has(e)?(s=o(Ur("head")),Ah.headStyles.add(e)):this.documentRoot!=null&&(s=this.addChild("styles",e)),!(s==null||a(s))&&(s.setAttribute(r,e),s.innerHTML=n)}removeStyles(e){this.removeChild("styles",e)}updateCursor(e,n){this.cursorState.set(e,n),this.element.style.cursor=this.cursorState.stateValue()}getCursor(){return this.element.style.cursor}addChild(e,n,r,a){let{element:o,children:s,listeners:l}=this.rootElements[e];if(!s)throw new Error("AG Charts - unable to create DOM elements after destroy()");if(s.has(n))return s.get(n);let{childElementType:c="div"}=yde.get(e)??{};if(r&&r.tagName.toLowerCase()!==c.toLowerCase())throw new Error("AG Charts - mismatching DOM element type");let d=r??Ne(c);for(let[u,h,m]of l)d.addEventListener(u,h,m);if(s.set(n,d),c==="style"&&this.chart.styleNonce!=null&&(d.nonce=this.chart.styleNonce),a){let u=o.querySelector(a.query);if(u==null)throw new Error(`AG Charts - addChild query failed ${a.query}`);u.insertAdjacentElement(a.where,d)}else o?.appendChild(d);return d}removeChild(e,n){let{children:r}=this.rootElements[e];r&&(r.get(n)?.remove(),r.delete(n))}incrementDataCounter(e){let{dataset:n}=this.element;n[e]??(n[e]="0"),n[e]=String(Number(n[e])+1)}setDataBoolean(e,n){this.element.dataset[e]=String(n)}updateContainerClassName(){let{element:e,containerSize:n,minWidth:r,minHeight:a}=this;e.classList.toggle(dH.safeHorizontal,r>=(n?.width??1/0)),e.classList.toggle(dH.safeVertical,a>=(n?.height??1/0))}};return t.batchedUpdateContainer=[],t.headStyles=new Set,t})(),AG=_de,xde=class extends Pl{constructor(){super(Ne("div")),this.textElement=Qt("text"),this.textElement.role="presentation",this.svgElement=Qt("svg"),this.svgElement.appendChild(this.textElement),this.svgElement.style.width="100%",this.svgElement.style.opacity="0",this.svgElement.role="presentation",this.elem.appendChild(this.svgElement),this.elem.role="presentation"}set textContent(t){this.textElement.textContent=t;let e=this.textElement.getBBox?.();e&&this.svgElement.setAttribute("viewBox",`${e.x} ${e.y} ${e.width} ${e.height}`)}get textContent(){return this.textElement.textContent}destructor(){}},EG=class extends Pl{constructor(t,i){super(t),it(this.elem,"role",i),this.setEnabled(!0),this.addListener("keydown",({sourceEvent:e})=>{TD(e)&&(e.preventDefault(),this.htmlListener?.dispatch("click",this,{type:"click",device:"keyboard",sourceEvent:e}))})}destructor(){}setEnabled(t){it(this.elem,"aria-disabled",!t)}addListener(t,i){return super.addListener(t,(e,n)=>{(t==="click"||t==="dblclick")&&this.isDisabled()||i(e,n)})}},Av=class extends EG{constructor(){super(Ne("button"))}},Cde=class extends Pl{constructor(){super(Ne("div")),it(this.elem,"role","group")}destructor(){}},iO=class extends Pl{constructor(t,i){super(Ne("div")),this.focusedChildIndex=0,this.onChildFocus=(e,n)=>{let r=this.children[this.focusedChildIndex];this.focusedChildIndex=n.index,r?.setTabIndex(-1),n.setTabIndex(0)},this.onChildKeyDown=(e,n)=>{let r=this.orientation,[a,o]=r==="both"?[_f.horizontal,_f.vertical]:[_f[r],void 0],s=-1;if(kv(e.sourceEvent)){let l=e.sourceEvent.key;l===a.nextKey||l===o?.nextKey?s=n.index+1:(l===a.prevKey||l===o?.prevKey)&&(s=n.index-1)}this.children[s]?.focus()},it(this.elem,"role",i),this.orientation=t}get orientation(){return wl(this.elem,"aria-orientation")??"both"}set orientation(t){it(this.elem,"aria-orientation",t!=="both"?t:void 0)}focus(){this.children[this.focusedChildIndex]?.focus()}clear(){this.focusedChildIndex=0;for(let t of this.children)this.removeChildListeners(t),t.parent=void 0;this.elem.textContent="",this.children.length=0}addChildListeners(t){t.addListener("focus",this.onChildFocus),t.addListener("keydown",this.onChildKeyDown)}removeChildListeners(t){t.removeListener("focus",this.onChildFocus),t.removeListener("keydown",this.onChildKeyDown)}onChildAdded(t){this.addChildListeners(t),t.setTabIndex(this.children.length===1?0:-1)}onChildRemoved(t){this.removeChildListeners(t);let{focusedChildIndex:i,children:e}=this,n=i===t.index;for(let r=0;r<e.length;r++){let a=e[r];a.index===i&&(this.focusedChildIndex=r),a.index=r}if(n){let r=e[i]??e[i-1];r?(this.focusedChildIndex=r.index,r.setTabIndex(0)):this.focusedChildIndex=0}}},wde=class extends iO{constructor(){super("both","list"),this.setHidden(!0)}destructor(){this.children.forEach(t=>t.getElement().parentElement.remove())}addChildToDOM(t,i){let e=Ne("div");it(e,"role","listitem"),La(e,"position","absolute"),Pl.setElementContainer(t,e),this.appendOrInsert(e,i),this.setHidden(!1)}removeChildFromDOM(t){t.getElement().parentElement.remove(),this.setHidden(this.children.length===0)}setHidden(t){this.children.length===0&&(t=!0),super.setHidden(t)}},Ef=class extends Pl{constructor(t){super(t)}destructor(){}},Dde=new Intl.NumberFormat("en-US",{style:"percent"});function Tf(t,i=2){return typeof t=="number"?RG(t,i):typeof t=="string"?t:String(t??"")}function TG(t){return Dde.format(t)}var hH=new Map().set(2,new Intl.NumberFormat("en-US",{maximumFractionDigits:2,useGrouping:!1}));function RG(t,i){let e=hH.get(i);return e||(e=new Intl.NumberFormat("en-US",{maximumFractionDigits:i,useGrouping:!1}),hH.set(i,e)),e.format(t)}var Sde=(()=>{let t=class Uy extends Pl{constructor(){super(Ne("input")),this._step=Uy.STEP_ONE,this.orientation="both"}get step(){return this._step}set step(e){this._step=e,this.getElement().step=e.attributeValue}get keyboardStep(){return this._keyboardStep?.step??this._step}set keyboardStep(e){if(e!==this._keyboardStep?.step&&(this._keyboardStep!==void 0&&(this.removeListener("keydown",this._keyboardStep.onKeyDown),this.removeListener("keyup",this._keyboardStep.onKeyUp),this.removeListener("blur",this._keyboardStep.onBlur),this._keyboardStep=void 0),e!==void 0)){let n=()=>this.getElement().step=e.attributeValue,r=()=>this.getElement().step=this._step.attributeValue;this._keyboardStep={step:e,onKeyDown:n,onKeyUp:r,onBlur:r},this.addListener("keydown",this._keyboardStep.onKeyDown),this.addListener("keyup",this._keyboardStep.onKeyUp),this.addListener("blur",this._keyboardStep.onBlur)}}get orientation(){return wl(this.elem,"aria-orientation")??"both"}set orientation(e){it(this.elem,"aria-orientation",e!=="both"?e:void 0),Uy.registerDefaultPreventers(this,e)}destructor(){}clampValueRatio(e,n){let r=this.getValueRatio(),a=Ae(e,r,n);return a!==r&&this.setValueRatio(a),a}setValueRatio(e,n){let{divider:r}=this.step,a=Math.round(e*1e4)/r,{ariaValueText:o=TG(a/r)}=n??{},s=this.getElement();s.value=`${a}`,s.ariaValueText=o}getValueRatio(){return this.getElement().valueAsNumber/this.step.divider}static registerDefaultPreventers(e,n){n==="both"?e.removeListener("keydown",Uy.onKeyDown):e.addListener("keydown",Uy.onKeyDown)}static onKeyDown(e,n){let r=[],{orientation:a}=n;a==="horizontal"?r=["ArrowUp","ArrowDown"]:a==="vertical"&&(r=["ArrowLeft","ArrowRight"]),r.includes(e.sourceEvent.code)&&e.sourceEvent.preventDefault()}};return t.STEP_ONE={attributeValue:"1",divider:1},t.STEP_HUNDRETH={attributeValue:"0.01",divider:100},t})(),nO=Sde,Mde=class extends Av{constructor(){super(),it(this.elem,"role","switch"),this.setChecked(!1)}setChecked(t){it(this.elem,"aria-checked",t)}},OD=class extends iO{constructor(t="horizontal"){super(t,"toolbar")}destructor(){}};function Jp(t,i){return i.params?.type===t}function Ide(t){if(t==="button")return new Av;if(t==="slider")return new nO;if(t==="toolbar")return new OD;if(t==="group")return new Cde;if(t==="list")return new wde;if(t==="region")return new Ef(Ne("div"));if(t==="text")return new xde;if(t==="listswitch")return new Mde;throw Error("AG Charts - error allocating meta")}function mH(t){let i={params:t,result:void 0};return i.result=Ide(i.params.type),i}var OG=class{constructor(t,i,e){this.eventsHub=t,this.localeManager=i,this.domManager=e,this.cleanup=new pt}destroy(){this.cleanup.flush()}addLocalisation(t){t(),this.cleanup.register(this.eventsHub.on("locale:change",t))}createProxyContainer(t){let i=mH(t),{params:e,result:n}=i,r=n.getElement();return this.domManager.addChild("canvas-proxy",e.domManagerId,r),r.classList.add(...e.classList,"ag-charts-proxy-container"),r.role=e.type,Jp("toolbar",i)&&(i.result.orientation=i.params.orientation),this.addLocalisation(()=>{r.ariaLabel=this.localeManager.t(e.ariaLabel.id,e.ariaLabel.params)}),n}createProxyElement(t){let i=mH(t);if(Jp("button",i)){let{params:e,result:n}=i,r=n.getElement();if(this.initInteract(e,n),typeof e.textContent=="string")r.textContent=e.textContent;else{let{textContent:a}=e;this.addLocalisation(()=>{r.textContent=this.localeManager.t(a.id,a.params)})}this.setParent(i.params,i.result)}if(Jp("slider",i)){let{params:e,result:n}=i,r=n.getElement();this.initInteract(e,n),r.type="range",r.role="presentation",r.style.margin="0px",this.addLocalisation(()=>{r.ariaLabel=this.localeManager.t(e.ariaLabel.id,e.ariaLabel.params)}),this.setParent(i.params,i.result)}if(Jp("text",i)){let{params:e,result:n}=i;this.initElement(e,n),this.setParent(i.params,i.result)}if(Jp("listswitch",i)){let{params:e,result:n}=i;this.initInteract(e,n),n.setTextContent(e.textContent),n.setChecked(e.ariaChecked),n.setAriaDescribedBy(e.ariaDescribedBy),this.setParent(i.params,i.result)}if(Jp("region",i)){let{params:e,result:n}=i,r=n.getElement();this.initInteract(e,n),r.role="region",this.setParent(i.params,i.result)}return i.result}initElement(t,i){let e=i.getElement();return La(e,"cursor",t.cursor),e.classList.toggle("ag-charts-proxy-elem",!0),e}initInteract(t,i){let{tabIndex:e,domIndex:n}=t,r=this.initElement(t,i);e!==void 0&&(r.tabIndex=e),n!==void 0&&(i.domIndex=n)}setParent(t,i){if("parent"in t)t.parent?.addChild(i);else{let e={where:t.where,query:".ag-charts-series-area"};this.domManager.addChild("canvas-proxy",t.domManagerId,i.getElement(),e),i.destroyListener=()=>{this.domManager.removeChild("canvas-proxy",t.domManagerId)}}}},kde={ariaInitSeriesArea:"interactive chart",ariaAnnounceHoverDatum:"${datum}",ariaAnnounceChart:"chart, ${seriesCount}[number] series",ariaAnnounceStandaloneChart:"chart, ${caption}",ariaAnnounceHierarchyChart:"hierarchy chart, ${caption}",ariaAnnounceGaugeChart:"gauge chart, ${caption}",ariaAnnounceHierarchyDatum:"level ${level}[number], ${count}[number] children, ${description}",ariaAnnounceFlowProportionLink:"link ${index} of ${count}, from ${from} to ${to}, ${sizeName} ${size}",ariaAnnounceFlowProportionNode:"node ${index} of ${count}, ${description}",ariaDescriptionLegendItem:"Press Space or Enter to toggle visibility",ariaLabelAddHorizontalLine:"Add Horizontal Line",ariaLabelAnnotationsToolbar:"Annotations",ariaLabelAnnotationOptionsToolbar:"Annotation Options",ariaLabelAnnotationSettingsDialog:"Annotation Settings",ariaLabelColor:"Color",ariaLabelColorPicker:"Color picker",ariaLabelColorPickerAlpha:"Transparency",ariaLabelColorPickerHue:"Hue",ariaLabelColorPickerMultiColor:"Multi Color",ariaLabelColorPickerPalette:"Palette",ariaLabelFinancialCharts:"Financial Charts",ariaLabelLegend:"Legend",ariaLabelLegendPagination:"Legend Pagination",ariaLabelLegendPagePrevious:"Previous Legend Page",ariaLabelLegendPageNext:"Next Legend Page",ariaLabelLegendItem:"${label}, Legend item ${index}[number] of ${count}[number]",ariaLabelLegendItemUnknown:"Unknown legend item",ariaLabelNavigator:"Navigator",ariaLabelNavigatorRange:"Range",ariaLabelNavigatorMinimum:"Minimum",ariaLabelNavigatorMaximum:"Maximum",ariaLabelRangesToolbar:"Ranges",ariaLabelSettingsTabBar:"Settings",ariaLabelZoomToolbar:"Zoom",ariaRoleDescription2DSlider:"2D slider",ariaValueColorPalette:"s ${s}[percent0to2dp], v ${v}[percent0to2dp]",ariaValueColorPaletteFirstV:"v ${v}[percent0to2dp], s ${s}[percent0to2dp]",ariaValuePanRange:"${min}[percent0to2dp] to ${max}[percent0to2dp]",iconAltTextLineStyleSolid:"Solid",iconAltTextLineStyleDashed:"Long-dashed",iconAltTextLineStyleDotted:"Short-dashed",iconAltTextPositionTop:"Top",iconAltTextPositionCenter:"Center",iconAltTextPositionBottom:"Bottom",iconAltTextAlignLeft:"Left",iconAltTextAlignCenter:"Center",iconAltTextAlignRight:"Right",iconAltTextClose:"Close",overlayLoadingData:"Loading data...",overlayNoData:"No data to display",overlayNoVisibleSeries:"No visible series",overlayUnsupportedBrowser:"Incompatible browser version. Please upgrade your browser.",seriesHistogramTooltipFrequency:"Frequency",seriesHistogramTooltipSum:"${yName} (sum)",seriesHistogramTooltipCount:"${yName} (count)",seriesHistogramTooltipMean:"${yName} (mean)",toolbarSeriesTypeDropdown:"Chart Type",toolbarSeriesTypeOHLC:"OHLC",toolbarSeriesTypeHLC:"HLC",toolbarSeriesTypeHighLow:"High Low",toolbarSeriesTypeCandles:"Candles",toolbarSeriesTypeHollowCandles:"Hollow Candles",toolbarSeriesTypeLine:"Line",toolbarSeriesTypeLineWithMarkers:"Line with Markers",toolbarSeriesTypeStepLine:"Step Line",toolbarAnnotationsTrendLine:"Trend Line",toolbarAnnotationsFibonacciRetracement:"Fib Retracement",toolbarAnnotationsFibonacciRetracementTrendBased:"Fib Trend Based",toolbarAnnotationsHorizontalLine:"Horizontal Line",toolbarAnnotationsVerticalLine:"Vertical Line",toolbarAnnotationsParallelChannel:"Parallel Channel",toolbarAnnotationsDisjointChannel:"Disjoint Channel",toolbarAnnotationsClearAll:"Clear All",toolbarAnnotationsFillColor:"Fill Color",toolbarAnnotationsLineColor:"Line Color",toolbarAnnotationsLineStyle:"Line Style",toolbarAnnotationsLineStrokeWidth:"Line Stroke Width",toolbarAnnotationsSettings:"Settings",toolbarAnnotationsTextColor:"Text Color",toolbarAnnotationsTextSize:"Text Size",toolbarAnnotationsLock:"Lock",toolbarAnnotationsUnlock:"Unlock",toolbarAnnotationsDelete:"Delete",toolbarAnnotationsDragHandle:"Drag Toolbar",toolbarAnnotationsLineAnnotations:"Trend Lines",toolbarAnnotationsFibonacciAnnotations:"Fibonacci",toolbarAnnotationsTextAnnotations:"Text Annotations",toolbarAnnotationsShapeAnnotations:"Arrows",toolbarAnnotationsMeasurerAnnotations:"Measurers",toolbarAnnotationsCallout:"Callout",toolbarAnnotationsComment:"Comment",toolbarAnnotationsNote:"Note",toolbarAnnotationsText:"Text",toolbarAnnotationsArrow:"Arrow",toolbarAnnotationsArrowUp:"Arrow Up",toolbarAnnotationsArrowDown:"Arrow Down",toolbarAnnotationsDateRange:"Date Range",toolbarAnnotationsPriceRange:"Price Range",toolbarAnnotationsDatePriceRange:"Date and Price",toolbarAnnotationsQuickDatePriceRange:"Measure",toolbarRange1Month:"1M",toolbarRange1MonthAria:"1 month",toolbarRange3Months:"3M",toolbarRange3MonthsAria:"3 months",toolbarRange6Months:"6M",toolbarRange6MonthsAria:"6 months",toolbarRangeYearToDate:"YTD",toolbarRangeYearToDateAria:"Year to date",toolbarRange1Year:"1Y",toolbarRange1YearAria:"1 year",toolbarRangeAll:"All",toolbarRangeAllAria:"All",toolbarZoomZoomOut:"Zoom out",toolbarZoomZoomIn:"Zoom in",toolbarZoomPanLeft:"Pan left",toolbarZoomPanRight:"Pan right",toolbarZoomPanStart:"Pan to the start",toolbarZoomPanEnd:"Pan to the end",toolbarZoomReset:"Reset the zoom",contextMenuDownload:"Download",contextMenuToggleSeriesVisibility:"Toggle Visibility",contextMenuToggleOtherSeries:"Toggle Other Series",contextMenuZoomToCursor:"Zoom to here",contextMenuPanToCursor:"Pan to here",contextMenuResetZoom:"Reset zoom",dialogHeaderChannel:"Channel",dialogHeaderLine:"Line",dialogHeaderFibonacciRange:"Fib Retracement",dialogHeaderDateRange:"Date Range",dialogHeaderPriceRange:"Price Range",dialogHeaderDatePriceRange:"Date and Price",dialogHeaderText:"Text",dialogInputAlign:"Align",dialogInputColorPicker:"Color",dialogInputColorPickerAltText:"Text Color",dialogInputFillColorPicker:"Fill",dialogInputFillColorPickerAltText:"Fill Color",dialogInputExtendChannelStart:"Extend channel start",dialogInputExtendChannelEnd:"Extend channel end",dialogInputExtendLineStart:"Extend line start",dialogInputExtendLineEnd:"Extend line end",dialogInputExtendAbove:"Extend above",dialogInputExtendBelow:"Extend below",dialogInputExtendLeft:"Extend left",dialogInputExtendRight:"Extend right",dialogInputReverse:"Reverse",dialogInputShowFill:"Show Fill",dialogInputFontSize:"Size",dialogInputFontSizeAltText:"Font Size",dialogInputLineStyle:"Dash",dialogInputPosition:"Position",dialogInputStrokeWidth:"Weight",dialogInputStrokeWidthAltText:"Line Weight",dialogInputFibonacciBands:"Bands",dialogInputFibonacciBandsAltText:"Fibonacci Bands",inputTextareaPlaceholder:"Add Text",measurerDateRangeBars:"${value}[number] bars",measurerPriceRangeValue:"${value}[number]",measurerPriceRangePercent:"${value}[percent]",measurerVolume:"Vol ${value}",tooltipPaginationStatus:"${index}[number] of ${count}[number]"},Ade=/\$\{(\w+)}(?:\[(\w+)])?/gi,p1={number:new Intl.NumberFormat("en-US"),percent:new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:2,maximumFractionDigits:2}),percent0to2dp:new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:0,maximumFractionDigits:2}),date:new Intl.DateTimeFormat("en-US",{dateStyle:"full"}),time:new Intl.DateTimeFormat("en-US",{timeStyle:"full"}),datetime:new Intl.DateTimeFormat("en-US",{dateStyle:"full",timeStyle:"full"})},Ede=({defaultValue:t,variables:i})=>t?.replaceAll(Ade,(e,n,r)=>{let a=i[n],o=r!=null?p1[r]:null;return r!=null&&o==null&&z.warnOnce(`Format style [${r}] is not supported`),o!=null?o.format(a):typeof a=="number"?p1.number.format(a):a instanceof Date?p1.datetime.format(a):String(a)}),Tde=class{constructor(t){this.eventsHub=t,this.localeText=void 0,this.getLocaleText=void 0}setLocaleText(t){this.localeText!==t&&(this.localeText=t,this.eventsHub.emit("locale:change",null))}setLocaleTextFormatter(t){this.getLocaleText=t,this.getLocaleText!==t&&(this.getLocaleText=t,this.eventsHub.emit("locale:change",null))}t(t,i={}){let{localeText:e=kde,getLocaleText:n}=this,r=e[t];return n?.({key:t,defaultValue:r,variables:i})??Ede({key:t,defaultValue:r,variables:i})??t}},rO=class{constructor(t){this.enabled=!0,this.width=600,this.height=300;let{width:i,height:e,canvasElement:n,willReadFrequently:r=!1}=t;this.pixelRatio=t.pixelRatio??tt("devicePixelRatio")??1,this.element=n??Ne("canvas"),this.element.style.display="block",this.element.style.width=(i??this.width)+"px",this.element.style.height=(e??this.height)+"px",this.element.width=Math.round((i??this.width)*this.pixelRatio),this.element.height=Math.round((e??this.height)*this.pixelRatio),this.context=this.element.getContext("2d",{willReadFrequently:r}),this.onEnabledChange(),this.resize(i??0,e??0,this.pixelRatio),B5(this.context)}drawImage(t,i=0,e=0){return t.drawImage(this.context.canvas,i,e)}toDataURL(t){return this.element.toDataURL(t)}resize(t,i,e){if(!(t>0&&i>0))return;let{element:n,context:r}=this;n.width=Math.round(t*e),n.height=Math.round(i*e),r.setTransform(e,0,0,e,0,0),n.style.width=t+"px",n.style.height=i+"px",this.width=t,this.height=i,this.pixelRatio=e}clear(){V5(this)}destroy(){this.element.remove(),this.element.width=0,this.element.height=0,this.context.clearRect(0,0,0,0),Object.freeze(this)}reset(){this.context.reset(),this.context.verifyDepthZero?.()}onEnabledChange(){this.element&&(this.element.style.display=this.enabled?"":"none")}};b([eu(t=>t.onEnabledChange())],rO.prototype,"enabled",2);var Rde=class extends jr{constructor(){super(...arguments),this.cache=new Map,this.imageLoadingCount=0}loadImage(t,i){let e=this.cache.get(t);if(e?.image)return e.image;if(e!=null&&i){e.nodes.add(i);return}if(!i)return;let n={image:void 0,nodes:new Set([i])},r=new Image;return this.imageLoadingCount++,r.onload=()=>{n.image=r;for(let a of n.nodes)a.markDirty();n.nodes.clear(),this.imageLoadingCount--,this.emit("image-loaded",{uri:t})},r.onerror=()=>{this.imageLoadingCount--,n.nodes.clear(),this.emit("image-error",{uri:t})},r.src=t,this.cache.set(t,n),n.image}waitingToLoad(){return this.imageLoadingCount>0}destroy(){this.cache.forEach(t=>{t.nodes.clear()}),this.cache.clear()}},Ode=class{constructor(t){this.canvas=t,this.debug=yt.create(!0,"scene"),this.layersMap=new Map,this.nextLayerId=0}get size(){return this.layersMap.size}resize(t,i,e){this.canvas.resize(t,i,e),this.layersMap.forEach(({canvas:n})=>n.resize(t,i,e))}addLayer(t){let{width:i,height:e,pixelRatio:n}=this.canvas,{name:r}=t,a=new NR({width:i,height:e,pixelRatio:n});return this.layersMap.set(a,{id:this.nextLayerId++,name:r,canvas:a}),this.debug("Scene.addLayer() - layers",this.layersMap),a}removeLayer(t){this.layersMap.has(t)&&(this.layersMap.delete(t),t.destroy(),this.debug("Scene.removeLayer() -  layers",this.layersMap))}clear(){for(let t of this.layersMap.values())t.canvas.destroy();this.layersMap.clear()}},aO=(()=>{let t=class extends jr{constructor(i){super(),this.debug=yt.create(!0,"scene"),this.id=pn(this),this.imageLoader=new Rde,this.root=null,this.pendingSize=null,this.isDirty=!1,this.cleanup=new pt,this.updateDebugFlags(),this.canvas=new rO(i),this.layersManager=new Ode(this.canvas),this.cleanup.register(this.imageLoader.on("image-loaded",()=>{this.emit("scene-changed",{})}),this.imageLoader.on("image-error",({uri:e})=>{z.warnOnce(`Unable to load image ${e}`)}))}waitingForUpdate(){return this.imageLoader?.waitingToLoad()??!1}get width(){return this.pendingSize?.[0]??this.canvas.width}get height(){return this.pendingSize?.[1]??this.canvas.height}get pixelRatio(){return this.pendingSize?.[2]??this.canvas.pixelRatio}setContainer(i){let{element:e}=this.canvas;return e.parentElement?.removeChild(e),i.appendChild(e),this}setRoot(i){return this.root===i?this:(this.isDirty=!0,this.root?.setScene(),this.root=i,i&&(i.visible=!0,i.setScene(this)),this)}updateDebugFlags(){yt.inDevelopmentMode(()=>kc._debugEnabled=!0)}clearCanvas(){this.canvas.clear()}attachNode(i){return this.appendChild(i),()=>this.removeChild(i)}appendChild(i){return this.root?.appendChild(i),this}removeChild(i){return this.root?.removeChild(i),this}download(i,e){dU(this.canvas.toDataURL(e),i?.trim()??"image")}getDataURL(i){return this.canvas.toDataURL(i)}resize(i,e,n){return i=Math.round(i),e=Math.round(e),n??(n=this.pixelRatio),i>0&&e>0&&(i!==this.width||e!==this.height||n!==this.pixelRatio)?(this.pendingSize=[i,e,n],this.isDirty=!0,!0):!1}render(i){let{debugSplitTimes:e={start:performance.now()},extraDebugStats:n,seriesRect:r}=i??{},{canvas:a,canvas:{context:o}={},root:s,pendingSize:l,width:c,height:d,pixelRatio:u}=this;if(!o)return;let h=performance.now(),m=!1;if(l&&(m=!0,this.layersManager.resize(...l),this.pendingSize=null),s&&!s.visible){this.isDirty=!1;return}let p;if(s instanceof mt&&(p=s.dirty),s!=null&&p===!1&&!this.isDirty){this.debug.check()&&this.debug("Scene.render() - no-op",{tree:Ew(s,"console")}),aH(this.layersManager,e,o,void 0,n,r);return}let g={ctx:o,width:c,height:d,devicePixelRatio:u,debugNodes:{}};yt.check("scene:stats:verbose")&&(g.stats={layersRendered:0,layersSkipped:0,nodesRendered:0,nodesSkipped:0,opsPerformed:0,opsSkipped:0}),Jce(g);let y=!1;if((p!==!1||m)&&(y=!0,a.clear()),s&&yt.check("scene:dirtyTree")){let{dirtyTree:v,paths:x}=fG(s);yt.create("scene:dirtyTree")("Scene.render() - dirtyTree",{dirtyTree:v,paths:x})}if(s&&y){if(s.visible&&s.preRender(g),this.debug.check()){let v=Ew(s,"console");this.debug("Scene.render() - before",{canvasCleared:y,tree:v})}if(s.visible)try{o.save(),s.render(g),o.restore()}catch(v){throw this.canvas.reset(),v}}e["\u270D\uFE0F"]=performance.now()-h,o.verifyDepthZero?.(),this.isDirty=!1,aH(this.layersManager,e,o,g.stats,n,r),ede(o,g.debugNodes),s&&this.debug.check()&&this.debug("Scene.render() - after",{tree:Ew(s,"console"),canvasCleared:y})}toSVG(){let{root:i,width:e,height:n}=this;if(i!=null)return kc.toSVG(i,e,n)}strip(){let{context:i,pixelRatio:e}=this.canvas;i.setTransform(e,0,0,e,0,0),this.layersManager.clear(),this.setRoot(null),this.isDirty=!1,this.clear()}destroy(){this.strip(),this.canvas.destroy(),this.imageLoader.destroy(),this.cleanup.flush(),Object.assign(this,{canvas:void 0})}};return t.className="Scene",t})(),Lde=class{constructor(t,i,e){this.eventsHub=t,this.annotationRoot=i,this.fireChartEvent=e,this.mementoOriginatorKey="annotations",this.annotations=[]}createMemento(){return this.annotations}guardMemento(t){return t==null||Xe(t)}restoreMemento(t,i,e){this.annotations=this.cleanData(e??[]).map(n=>{let r=this.getAnnotationTypeStyles(n.type);return Jt(n,r)}),this.eventsHub.emit("annotations:restore",{annotations:this.annotations})}updateData(t){this.annotations=this.cleanData(t??[])}fireChangedEvent(){this.fireChartEvent({type:"annotations",annotations:Zi([...this.annotations])})}attachNode(t){return this.annotationRoot.append(t),()=>(this.annotationRoot?.removeChild(t),this)}setAnnotationStyles(t){this.styles=t}getAnnotationTypeStyles(t){return this.styles?.[t]}cleanData(t){for(let i of t)"textAlign"in i&&delete i.textAlign;return t}},LG=(t=>(t[t.CHART_BACKGROUND=0]="CHART_BACKGROUND",t[t.AXIS_BAND_HIGHLIGHT=1]="AXIS_BAND_HIGHLIGHT",t[t.AXIS_GRID=2]="AXIS_GRID",t[t.AXIS=3]="AXIS",t[t.SERIES_AREA_CONTAINER=4]="SERIES_AREA_CONTAINER",t[t.ZOOM_SELECTION=5]="ZOOM_SELECTION",t[t.SERIES_CROSSLINE_RANGE=6]="SERIES_CROSSLINE_RANGE",t[t.SERIES_LAYER=7]="SERIES_LAYER",t[t.AXIS_FOREGROUND=8]="AXIS_FOREGROUND",t[t.SERIES_CROSSHAIR=9]="SERIES_CROSSHAIR",t[t.SERIES_CROSSLINE_LINE=10]="SERIES_CROSSLINE_LINE",t[t.SERIES_ANNOTATION=11]="SERIES_ANNOTATION",t[t.CHART_ANNOTATION=12]="CHART_ANNOTATION",t[t.CHART_ANNOTATION_FOCUSED=13]="CHART_ANNOTATION_FOCUSED",t[t.STATUS_BAR=14]="STATUS_BAR",t[t.SERIES_LABEL=15]="SERIES_LABEL",t[t.LEGEND=16]="LEGEND",t[t.NAVIGATOR=17]="NAVIGATOR",t[t.FOREGROUND=18]="FOREGROUND",t))(LG||{}),Nde=class{constructor(t,i){this.eventsHub=t,this.sceneRoot=i,this.axes=new Map,this.axisGridGroup=new mt({name:"Axes-Grids",zIndex:2}),this.axisGroup=new mt({name:"Axes",zIndex:3}),this.axisLabelGroup=new mt({name:"Axes-Labels",zIndex:15}),this.axisCrosslineRangeGroup=new mt({name:"Axes-Crosslines-Range",zIndex:6}),this.axisCrosslineLineGroup=new mt({name:"Axes-Crosslines-Line",zIndex:10}),this.axisCrosslineLabelGroup=new mt({name:"Axes-Crosslines-Label",zIndex:15}),this.sceneRoot.appendChild(this.axisGroup),this.sceneRoot.appendChild(this.axisGridGroup),this.sceneRoot.appendChild(this.axisLabelGroup),this.sceneRoot.appendChild(this.axisCrosslineRangeGroup),this.sceneRoot.appendChild(this.axisCrosslineLineGroup),this.sceneRoot.appendChild(this.axisCrosslineLabelGroup)}updateAxes(t,i){let e={axisNode:this.axisGroup,gridNode:this.axisGridGroup,labelNode:this.axisLabelGroup,crossLineRangeNode:this.axisCrosslineRangeGroup,crossLineLineNode:this.axisCrosslineLineGroup,crossLineLabelNode:this.axisCrosslineLabelGroup};for(let n of t)i.includes(n)||(n.detachAxis(e),n.destroy());for(let n of i)t?.includes(n)||n.attachAxis(e);this.axes.clear();for(let n of i){let r=n.createAxisContext();this.axes.has(r.direction)?this.axes.get(r.direction)?.push(r):this.axes.set(r.direction,[r])}this.eventsHub.emit("axis:change",null)}getAxisContext(t){return this.axes.get(t)??[]}destroy(){this.axes.clear(),this.sceneRoot.removeChild(this.axisGroup),this.sceneRoot.removeChild(this.axisGridGroup)}},Zy=(t=>(t[t.FULL=0]="FULL",t[t.UPDATE_DATA=1]="UPDATE_DATA",t[t.PROCESS_DATA=2]="PROCESS_DATA",t[t.PROCESS_DOMAIN=3]="PROCESS_DOMAIN",t[t.PERFORM_LAYOUT=4]="PERFORM_LAYOUT",t[t.SERIES_UPDATE=5]="SERIES_UPDATE",t[t.PRE_SCENE_RENDER=6]="PRE_SCENE_RENDER",t[t.SCENE_RENDER=7]="SCENE_RENDER",t[t.NONE=8]="NONE",t))(Zy||{}),LD=class{constructor(t,i,e){this.eventsHub=t,this.caller=i,this.animationManager=e,this.dispatchOnlyLatest=!0,this.dispatchThrottle=0,this.requestThrottle=300,this.isLoadingInitialData=!1,this.isLoadingData=!1,this.freshRequests=[],this.requestCounter=0,this.pendingData=void 0,this.debug=yt.create(!0,"data-model","data-source"),this.throttledFetch=this.createThrottledFetch(this.requestThrottle),this.throttledDispatch=this.createThrottledDispatch(this.dispatchThrottle)}updateCallback(t){typeof t=="function"&&(this.debug("DataService - updated data source callback"),this.dataSourceCallback=t,this.isLoadingInitialData=!0,this.animationManager.skip(),this.eventsHub.emit("data:source-change",null))}clearCallback(){this.dataSourceCallback=void 0}load(t){let{pendingData:i}=this;if(i!=null&&i.params.windowStart?.valueOf()===t.windowStart?.valueOf()&&i.params.windowEnd?.valueOf()===t.windowEnd?.valueOf()){let e=this.requestCounter++;this.isLoadingInitialData=!1,this.dispatch(e,i.data);return}this.isLoadingData=!0,this.throttledFetch(t)}isLazy(){return this.dataSourceCallback!=null}isLoading(){return this.isLazy()&&(this.isLoadingInitialData||this.isLoadingData)}getData(){return L(this,null,function*(){let{latestRequest:t}=this;if(!t)return;let{params:i,fetchRequest:e}=t,n=yield e;return{params:i,data:n}})}restoreData(t){this.pendingData=t}createThrottledFetch(t){return qT(i=>this.fetch(i).catch(e=>z.error("callback failed",e)),t,{leading:!1,trailing:!0})}createThrottledDispatch(t){return qT((i,e)=>this.dispatch(i,e),t,{leading:!0,trailing:!0})}dispatch(t,i){this.debug(`DataService - dispatching 'data-load' | ${t}`),this.eventsHub.emit("data:load",{data:i})}fetch(t){return L(this,null,function*(){"context"in this.caller&&(t.context=this.caller.context);let i=Promise.resolve().then(()=>L(this,null,function*(){if(!this.dataSourceCallback)throw new Error("DataService - [dataSource.getData] callback not initialised");let e=performance.now(),n=this.requestCounter++;this.debug(`DataService - requesting | ${n}`);let r;try{r=yield this.dataSourceCallback(t),this.debug(`DataService - response | ${performance.now()-e}ms | ${n}`)}catch(o){this.debug(`DataService - request failed | ${n}`),z.errorOnce(`DataService - request failed | [${o}]`)}this.isLoadingInitialData=!1;let a=this.freshRequests.indexOf(i);return a===-1||this.dispatchOnlyLatest&&a!==this.freshRequests.length-1?(this.debug(`DataService - discarding stale request | ${n}`),r):(this.freshRequests=this.freshRequests.slice(a+1),this.freshRequests.length===0&&(this.isLoadingData=!1),Array.isArray(r)?this.throttledDispatch(n,r):this.eventsHub.emit("data:error",null),r)}));this.latestRequest={params:t,fetchRequest:i},this.freshRequests.push(i),yield i})}};b([Zr({newValue(t){this.throttledDispatch=this.createThrottledDispatch(t)}})],LD.prototype,"dispatchThrottle",2);b([Zr({newValue(t){this.throttledFetch=this.createThrottledFetch(t)}})],LD.prototype,"requestThrottle",2);var Pde=class{constructor(t,i){this.domManager=t,this.updateService=i,this.observers=[]}updateFonts(t){!t||t.size===0||(this.loadFonts(t),t.forEach(i=>{this.observeFontStatus(i)}))}destroy(){for(let t of this.observers)t.disconnect();this.observers=[]}loadFonts(t){let i=Array.from(t).map(a=>encodeURIComponent(a)),e=":wght@100;200;300;400;500;600;700;800;900",n=`${e}&family=`,r=`@import url('https://fonts.googleapis.com/css2?family=${i.join(n)}${e}&display=swap');
`;this.domManager.addStyles(`google-font-${i.join("-")}`,r)}observeFontStatus(t){let i=window.document.createElement("div");i.style.setProperty("position","absolute"),i.style.setProperty("top","0"),i.style.setProperty("margin","0"),i.style.setProperty("padding","0"),i.style.setProperty("overflow","hidden"),i.style.setProperty("visibility","hidden"),i.style.setProperty("width","auto"),i.style.setProperty("max-width","none"),i.style.setProperty("font-synthesis","none"),i.style.setProperty("font-family",t),i.style.setProperty("font-size","16px"),i.style.setProperty("white-space","nowrap"),i.textContent="UVWxyz",this.domManager.addChild("canvas-container",`font-check-${encodeURIComponent(t)}`,i);let e=new ResizeObserver(n=>{let r=n?.at(0)?.contentBoxSize.at(0)?.inlineSize;r!=null&&r>0&&(tu.clear(),this.updateService.update(4))});e.observe(i),this.observers.push(e)}};var Fde=void 0,Vde=void 0;Vde=Fde;var Bde=void 0,zde=void 0;zde=Bde;var jde=void 0,Ude=void 0;Ude=jde;var Hde=void 0,Gde=void 0;Gde=Hde;var NG=class{constructor(){this.registeredListeners=new Map}addListener(t,i){let e={symbol:Symbol(t),handler:i};return this.registeredListeners.has(t)?this.registeredListeners.get(t).push(e):this.registeredListeners.set(t,[e]),()=>this.removeListener(e.symbol)}removeListener(t){for(let[i,e]of this.registeredListeners.entries()){let n=e.findIndex(r=>r.symbol===t);if(n>=0){e.splice(n,1),e.length===0&&this.registeredListeners.delete(i);break}}}dispatch(t,...i){for(let e of this.getListenersByType(t))try{e.handler(...i)}catch(n){z.errorOnce(n)}}getListenersByType(t){return this.registeredListeners.get(t)??[]}destroy(){this.registeredListeners.clear()}},Ny=new WeakMap;function rv(t,i){let e=JSON.stringify(t,null,0);return Ny.has(i)||Ny.set(i,new Map),Ny.get(i)?.has(e)||Ny.get(i)?.set(e,i(t)),Ny.get(i)?.get(e)}var f1=class{constructor(){this.weak=new WeakMap,this.strong=new Map,this.set=!1,this.value=void 0}};function Ev(t,i){let e=new f1,n=(...r)=>{let a=e;for(let o of r){let s=typeof o=="object"||typeof o=="symbol"?a.weak:a.strong,l=s.get(o);l==null&&(l=new f1,s.set(o,l)),a=l}if(a.set)return i?.("hit",t,r),a.value;{let o=t(...r);return a.set=!0,a.value=o,i?.("miss",t,r),o}};return n.reset=()=>{e=new f1},n}function Ar(t,i){let e=new Map,n=(...o)=>o.map(s=>typeof s=="object"||typeof s=="symbol"?s:(e.has(s)||e.set(s,{v:s}),e.get(s))),r={},a=new WeakMap;return(...o)=>{let s=o.length===0?[r]:n(...o),l=a;for(let u of s.slice(0,-1))l.has(u)||l.set(u,new WeakMap),l=l.get(u);let c=s.at(-1),d=l.get(c);return d?i?.("hit",t,o):(d=t(...o),l.set(c,d),i?.("miss",t,o)),d}}var bw={periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]};function oO(t,i=new Date(t.getFullYear(),0,1)){let e=t.getTimezoneOffset()-i.getTimezoneOffset(),n=t.getTime()-i.getTime()+e*6e4,r=36e5*24;return Math.floor(n/r)}function pH(t,i){let n=new Date(t.getFullYear(),0,1).getDay(),r=(i-n+7)%7,a=new Date(t.getFullYear(),0,r+1);return a<=t?Math.floor(oO(t,a)/7)+1:0}var Wde=0,PG=1,fH=4;function FG(t,i=t.getFullYear()){let n=new Date(i,0,1).getDay(),r=(fH-n+7)%7,a=new Date(i,0,r-(fH-PG)+1);return a<=t?Math.floor(oO(t,a)/7)+1:FG(t,i-1)}function $de(t){let i=t.getTimezoneOffset(),e=Math.abs(i);return`${i>0?"-":"+"}${kr(Math.floor(e/60),2,"0")}${kr(Math.floor(e%60),2,"0")}`}var Yde={a:t=>bw.shortDays[t.getDay()],A:t=>bw.days[t.getDay()],b:t=>bw.shortMonths[t.getMonth()],B:t=>bw.months[t.getMonth()],c:"%x, %X",d:(t,i)=>kr(t.getDate(),2,i??"0"),e:"%_d",f:(t,i)=>kr(t.getMilliseconds()*1e3,6,i??"0"),H:(t,i)=>kr(t.getHours(),2,i??"0"),I:(t,i)=>{let e=t.getHours()%12;return e===0?"12":kr(e,2,i??"0")},j:(t,i)=>kr(oO(t)+1,3,i??"0"),m:(t,i)=>kr(t.getMonth()+1,2,i??"0"),M:(t,i)=>kr(t.getMinutes(),2,i??"0"),L:(t,i)=>kr(t.getMilliseconds(),3,i??"0"),p:t=>t.getHours()<12?"AM":"PM",Q:t=>String(t.getTime()),s:t=>String(Math.floor(t.getTime()/1e3)),S:(t,i)=>kr(t.getSeconds(),2,i??"0"),u:t=>{let i=t.getDay();return i<1&&(i+=7),String(i%7)},U:(t,i)=>kr(pH(t,Wde),2,i??"0"),V:(t,i)=>kr(FG(t),2,i??"0"),w:(t,i)=>kr(t.getDay(),2,i??"0"),W:(t,i)=>kr(pH(t,PG),2,i??"0"),x:"%-m/%-d/%Y",X:"%-I:%M:%S %p",y:(t,i)=>kr(t.getFullYear()%100,2,i??"0"),Y:(t,i)=>kr(t.getFullYear(),4,i??"0"),Z:t=>$de(t),"%":()=>"%"},Kde={_:" ",0:"0","-":""};function kr(t,i,e){let n=String(Math.floor(t));return n.length>=i?n:`${e.repeat(i-n.length)}${n}`}function Uh(t){let i=[];for(;t.length>0;){let e=t.indexOf("%");if(e!==0){let s=e>0?t.substring(0,e):t;i.push(s)}if(e<0)break;let n=t[e+1],r=Kde[n];r!=null&&e++;let a=t[e+1],o=Yde[a];if(typeof o=="function")i.push([o,r]);else if(typeof o=="string"){let s=Uh(o);i.push([s,r])}else i.push(`${r??""}${a}`);t=t.substring(e+2)}return e=>{let n=typeof e=="number"?new Date(e):e;return i.map(r=>typeof r=="string"?r:r[0](n,r[1])).join("")}}var Ml={millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e",month:"%b",year:"%Y"},qde={millisecond:"%Y %b %e %H:%M:%S.%L",second:"%Y %b %e %H:%M:%S",minute:"%Y %b %e %H:%M",hour:"%Y %b %e %H:%M",day:"%Y %b %e",month:"%Y %b",year:"%Y"},Wr={year:0,month:1,day:2,hour:3,minute:4,second:5,millisecond:6},Zde=/%[-_0]?L/,Qde=/%[-_0]?S/,Xde=/%[-_0]?M/,Jde=/%[-_0]?[HI]/,eue=/^%[-_0]?[de]$/,tue=/^%[-_0]?[Bbm]$/,iue=/^%[-_0]?[Yy]$/;function VG(t,i,e){if(typeof t=="string")return t;t??(t=Ml);let{millisecond:n=Ml.millisecond,second:r=Ml.second,minute:a=Ml.minute,hour:o=Ml.hour,day:s=Ml.day,month:l=Ml.month,year:c=Ml.year}=t,d=Wr[i],u=qde[i],h=e?Wr[e]:-1;if(h<Wr.year&&d>=Wr.year&&!iue.test(c)||h<Wr.month&&d>=Wr.month&&!tue.test(l)||h<Wr.day&&d>=Wr.day&&!eue.test(s))return u;let m;switch(i){case"year":return c;case"month":return h<Wr.year?`${l} ${c}`:l;case"day":return h<Wr.year?`${l} ${s} ${c}`:`${l} ${s}`;case"hour":m=o;break;case"minute":m=a;break;case"second":m=r;break;case"millisecond":m=n;break;default:return u}if(d>=Wr.hour&&!Jde.test(m)||d>=Wr.minute&&!Xde.test(m)||d>=Wr.second&&!Qde.test(m)||d>=Wr.millisecond&&!Zde.test(m))return u;let p;return h<Wr.year?p=`${l} ${s} ${c}`:h<Wr.month&&(p=`${l} ${s}`),p?`${m} ${p}`:m}var Rf=class Ow extends NG{constructor(){super(...arguments),this.formats=new Map,this.dateFormatter=Ev((i,e,n,r,a)=>{let o=Ow.mergeSpecifiers(i,e)??Ml;return Ow.getFormatter("date",o,n,r,{truncateDate:a})}),this.formatter=void 0}static mergeSpecifiers(...i){let e;for(let n of i)typeof n=="string"?e=n:bt(n)&&(e=bt(e)?f(f({},e),n):n);return e}static getFormatter(i,e,n,r="long",{truncateDate:a}={}){if(bt(e)){if(i!=="date"){z.warn("Date formatter configuration is not supported for non-date types.");return}n??(n="millisecond");let o=r==="component"?e?.[n]??Ml[n]:VG(e,n,a);return Uh(o)}switch(i){case"number":{let o=Ry(e);return o==null?void 0:hw(o)}case"date":return Uh(e);case"category":return o=>e.replace("%s",String(o))}}setFormatter(i){this.formatter!==i&&(this.formatter=i,this.formats.clear(),this.dateFormatter.reset(),this.dispatch("format-changed"))}format(i,e,{specifier:n,truncateDate:r}={}){if(e.value==null)return;let{formatter:a}=this;if(a==null)return;if(typeof a=="function"){let c=i(a,e);return c!=null?String(c):void 0}let o=a[e.property];if(o==null)return;if(typeof o=="function"){let c=i(o,e);return c!=null?String(c):void 0}else if(e.type==="date"){let{unit:c,style:d}=e;return this.dateFormatter(o,n,c,d,r)?.(e.value)}let s=n??o;if(typeof s!="string")return;let l=this.formats.get(s);return l==null&&(l=Ow.getFormatter(e.type,s),this.formats.set(s,l)),l?.(e.value,e.type==="number"?e.fractionDigits:void 0)}defaultFormat(i,{specifier:e,truncateDate:n}={}){let{formatter:r}=this,a=typeof r=="function"?void 0:r?.[i.property];switch(i.type){case"date":{let{unit:o,style:s}=i,l=a!=null&&typeof a!="function"?a:void 0;return this.dateFormatter(l,e,o,s,n)?.(i.value)??String(i.value)}case"number":return Tf(i.value,i.fractionDigits);case"category":return Array.isArray(i.value)?i.value.join(" - "):typeof i.value=="string"?i.value:typeof i.value=="number"?Tf(i.value):String(i.value)}}};function nue(t,i){return e=>Number(t)*(1-e)+Number(i)*e}function BG(t,i){if(typeof t=="string")try{t=wi.fromString(t)}catch{t=wi.fromArray([0,0,0])}if(typeof i=="string")try{i=wi.fromString(i)}catch{i=wi.fromArray([0,0,0])}return e=>wi.mix(t,i,e).toRgbaString()}var eR={};Nl(eR,{easeIn:()=>rue,easeInOut:()=>aue,easeInOutQuad:()=>lue,easeInQuad:()=>oue,easeOut:()=>av,easeOutQuad:()=>sue,inverseEaseOut:()=>jG,linear:()=>zG});var zG=t=>t,rue=t=>1-Math.cos(t*Math.PI/2),av=t=>Math.sin(t*Math.PI/2),aue=t=>-(Math.cos(t*Math.PI)-1)/2,oue=t=>t*t,sue=t=>1-(1-t)**2,lue=t=>t<.5?2*t*t:1-(-2*t+2)**2/2,jG=t=>2*Math.asin(t)/Math.PI,Qw=.2,lf=["initial","remove","update","add","trailing","end","none"],ov={initial:{animationDuration:1,animationDelay:0},add:{animationDuration:.25,animationDelay:.75},remove:{animationDuration:.25,animationDelay:0},update:{animationDuration:.5,animationDelay:.25},trailing:{animationDuration:Qw,animationDelay:1,skipIfNoEarlierAnimations:!0},end:{animationDelay:1+Qw,animationDuration:0,skipIfNoEarlierAnimations:!0},none:{animationDuration:0,animationDelay:0}},UG=(t=>(t.Loop="loop",t.Reverse="reverse",t))(UG||{});function cue(t){return t.every(i=>i instanceof kc)}function ND(t){return cue(t)?{nodes:t,selections:[]}:{nodes:[],selections:t}}function tR(t,i){return t===i?!0:Array.isArray(t)&&Array.isArray(i)?t.length===i.length&&t.every((e,n)=>tR(e,i[n])):$w(t)&&$w(i)?t.equals(i):bt(t)&&bt(i)?FR(t,i,tR):!1}var HG=class{constructor(t){this.isComplete=!1,this.elapsed=0,this.iteration=0,this.isPlaying=!1,this.isReverse=!1,this.id=t.id,this.groupId=t.groupId,this.autoplay=t.autoplay??!0,this.ease=t.ease??zG,this.phase=t.phase;let i=t.duration??ov[this.phase].animationDuration;this.duration=i*t.defaultDuration,this.delay=(t.delay??0)*t.defaultDuration,this.onComplete=t.onComplete,this.onPlay=t.onPlay,this.onStop=t.onStop,this.onUpdate=t.onUpdate,this.interpolate=this.createInterpolator(t.from,t.to),this.from=t.from,t.skip===!0&&(this.onUpdate?.(t.to,!1,this),this.onStop?.(this),this.onComplete?.(this),this.isComplete=!0),t.collapsable!==!1&&(this.duration=this.checkCollapse(t,this.duration))}checkCollapse(t,i){return tR(t.from,t.to)?0:i}play(t=!1){this.isPlaying||this.isComplete||(this.isPlaying=!0,this.onPlay?.(this),this.autoplay&&(this.autoplay=!1,t&&this.onUpdate?.(this.from,!0,this)))}stop(){this.isPlaying=!1,this.isComplete||(this.isComplete=!0,this.onStop?.(this))}update(t){if(this.isComplete)return t;!this.isPlaying&&this.autoplay&&this.play(!0);let i=this.elapsed;if(this.elapsed+=t,this.delay>this.elapsed)return 0;let e=this.interpolate(this.isReverse?1-this.delta:this.delta);this.onUpdate?.(e,!1,this);let n=this.delay+this.duration;return this.elapsed>=n?(this.stop(),this.isComplete=!0,this.onComplete?.(this),t-(n-i)):0}get delta(){return this.ease(Ae(0,(this.elapsed-this.delay)/this.duration,1))}createInterpolator(t,i){if(typeof i!="object"||$w(i))return this.interpolateValue(t,i);let e=[];for(let n of Object.keys(i)){let r=this.interpolateValue(t[n],i[n]);r!=null&&e.push([n,r])}return n=>{let r={};for(let[a,o]of e)r[a]=o(n);return r}}interpolateValue(t,i){if(!(t==null||i==null)){if($w(t))return e=>t[xD](i,e);try{switch(typeof t){case"number":return nue(t,i);case"string":return BG(t,i);case"boolean":if(t===i)return()=>t;break;case"object":return()=>t;default:throw new Error(`Unable to interpolate values: ${t}, ${i}`)}}catch{}throw new Error(`Unable to interpolate values: ${t}, ${i}`)}}},gH=class{constructor(t){this.maxAnimationTime=t,this.debug=yt.create(!0,"animation"),this.controllers=new Map,this.stoppedCbs=new Set,this.currentPhase=0,this.phases=new Map(lf.map(i=>[i,[]])),this.skipAnimations=!1,this.animationTimeConsumed=0,this.isReady=!1}get size(){return this.controllers.size}get consumedTimeMs(){return this.animationTimeConsumed}isActive(){return this.controllers.size>0}getActiveControllers(){return this.phases.get(lf[this.currentPhase])??[]}checkOverlappingId(t){t!=null&&this.controllers.has(t)&&(this.controllers.get(t).stop(),this.debug(`Skipping animation batch due to update of existing animation: ${t}`),this.skip())}addAnimation(t){if(t.isComplete)return;if(lf.indexOf(t.phase)<this.currentPhase){this.debug("Skipping animation due to being for an earlier phase",t.id),t.stop();return}this.controllers.set(t.id,t),this.phases.get(t.phase)?.push(t)}removeAnimation(t){this.controllers.delete(t.id);let i=this.phases.get(t.phase),e=i?.indexOf(t);e!=null&&e>=0&&i?.splice(e,1)}progress(t){if(!this.isReady)return;let i=t===0?.01:t,e=()=>{let c=lf[this.currentPhase];return{phaseControllers:[...this.getActiveControllers()],phase:c,phaseMeta:ov[c]}},{phase:n,phaseControllers:r,phaseMeta:a}=e(),o=()=>lf[this.currentPhase]==null,s=()=>{for({phase:n,phaseControllers:r,phaseMeta:a}=e();!o()&&r.length===0;)this.currentPhase++,{phase:n,phaseControllers:r,phaseMeta:a}=e(),this.debug(`AnimationBatch - phase changing to ${n}`,{unusedTime:i},r)},l=this.controllers.size;this.debug(`AnimationBatch - ${t}ms; phase ${n} with ${r?.length} of ${l}`);do{let c=i,d=a.skipIfNoEarlierAnimations&&this.animationTimeConsumed===0,u=0;for(let h of r)d?h.stop():i=Math.min(h.update(c),i),h.isComplete&&(u++,this.removeAnimation(h));this.animationTimeConsumed+=c-i,this.debug(`AnimationBatch - updated ${r.length} controllers; ${u} completed`,r),this.debug(`AnimationBatch - animationTimeConsumed: ${this.animationTimeConsumed}`),s()}while(i>0&&!o());this.animationTimeConsumed>this.maxAnimationTime&&(this.debug("Animation batch exceeded max animation time, skipping",[...this.controllers]),this.stop())}ready(){if(this.isReady)return;this.isReady=!0,this.debug(`AnimationBatch - ready; skipped: ${this.skipAnimations}`,[...this.controllers]);let t=!0;for(let[,i]of this.controllers)if(i.duration>0&&ov[i.phase].skipIfNoEarlierAnimations!==!0){t=!1;break}if(!t)for(let[,i]of this.controllers)i.autoplay&&i.play(!0)}skip(t=!0){if(this.skipAnimations===!1&&t===!0){for(let i of this.controllers.values())i.stop();this.controllers.clear()}this.skipAnimations=t}play(){for(let t of this.controllers.values())t.play()}stop(){for(let t of this.controllers.values())try{t.stop(),this.removeAnimation(t)}catch(i){z.error("Error during animation stop",i)}this.dispatchStopped()}stopByAnimationId(t){if(t!=null&&this.controllers.has(t)){let i=this.controllers.get(t);i&&(i.stop(),this.removeAnimation(i))}}stopByAnimationGroupId(t){for(let i of this.controllers.values())i.groupId===t&&this.stopByAnimationId(i.id)}dispatchStopped(){this.stoppedCbs.forEach(t=>t()),this.stoppedCbs.clear()}isSkipped(){return this.skipAnimations}getRemainingTime(t){if(!this.isActive())return 0;let i=0;for(let[e,n]of this.phases)n.length!==0&&(t!=null&&t!==e||(i+=Math.max(...n.map(r=>r.isComplete?0:r.delay+r.duration-(r.elapsed??0)))));return i}destroy(){this.stop(),this.controllers.clear()}},GG=(t=>(t[t.Default=32]="Default",t[t.ZoomDrag=16]="ZoomDrag",t[t.Annotations=8]="Annotations",t[t.ContextMenu=4]="ContextMenu",t[t.Animation=2]="Animation",t[t.AnnotationsSelected=1]="AnnotationsSelected",t[t.Clickable=41]="Clickable",t[t.Focusable=34]="Focusable",t[t.Keyable=43]="Keyable",t[t.ContextMenuable=36]="ContextMenuable",t[t.AnnotationsMoveable=9]="AnnotationsMoveable",t[t.AnnotationsDraggable=57]="AnnotationsDraggable",t[t.ZoomDraggable=50]="ZoomDraggable",t[t.ZoomClickable=34]="ZoomClickable",t[t.ZoomWheelable=59]="ZoomWheelable",t[t.All=63]="All",t))(GG||{}),WG=class{constructor(){this.stateQueue=34}pushState(t){this.stateQueue|=t}popState(t){this.stateQueue&=~t}isState(t){return!!(this.stateQueue&-this.stateQueue&t)}};function bH(t){return t==null?!0:!isNaN(t)&&t>=0&&t<=2}var $G=class{constructor(t,i){this.interactionManager=t,this.chartUpdateMutex=i,this.defaultDuration=1e3,this.batch=new gH(this.defaultDuration*1.5),this.debug=yt.create(!0,"animation"),this.events=new jr,this.rafAvailable=typeof requestAnimationFrame<"u",this.isPlaying=!0,this.requestId=null,this.skipAnimations=!0,this.currentAnonymousAnimationId=0}addListener(t,i){return this.events.on(t,i)}animate(t){let i=this.batch;try{i.checkOverlappingId(t.id)}catch(s){this.failsafeOnError(s);return}let{id:e}=t;e==null&&(e=`__${this.currentAnonymousAnimationId}`,this.currentAnonymousAnimationId+=1);let n=this.isSkipped()||t.phase==="none";n&&this.debug("AnimationManager - skipping animation");let{delay:r,duration:a}=t;if(!bH(r))throw new Error(`Animation delay of ${r} is unsupported (${e})`);if(!bH(a))throw new Error(`Animation duration of ${a} is unsupported (${e})`);let o=new HG(S(f({},t),{id:e,skip:n,autoplay:this.isPlaying?t.autoplay:!1,phase:t.phase,defaultDuration:this.defaultDuration}));if(!this.forceTimeJump(o,this.defaultDuration))return this.batch.addAnimation(o),o}play(){if(!this.isPlaying){this.isPlaying=!0,this.debug("AnimationManager.play()");try{this.batch.play()}catch(t){this.failsafeOnError(t)}this.requestAnimation()}}stop(){this.isPlaying=!1,this.cancelAnimation(),this.debug("AnimationManager.stop()"),this.batch.stop()}stopByAnimationId(t){try{this.batch.stopByAnimationId(t)}catch(i){this.failsafeOnError(i)}}stopByAnimationGroupId(t){try{this.batch.stopByAnimationGroupId(t)}catch(i){this.failsafeOnError(i)}}reset(){this.isPlaying?(this.stop(),this.play()):this.stop()}skip(t=!0){this.skipAnimations=t}isSkipped(){return!this.rafAvailable||this.skipAnimations||this.batch.isSkipped()}isActive(){return this.isPlaying&&this.batch.isActive()}getRemainingTime(t){return this.batch.getRemainingTime(t)}skipCurrentBatch(){this.debug.check()&&this.debug("AnimationManager - skipCurrentBatch()",{stack:new Error().stack}),this.batch.skip()}isSkippingFrames(){return!0}scheduleAnimationFrame(t){this.requestId=tt().requestAnimationFrame(i=>{t(i).catch(e=>z.error(e))})}forceTimeJump(t,i){return!1}requestAnimation(){if(!this.rafAvailable||!this.batch.isActive()||this.requestId!==null)return;let t,i=e=>L(this,null,function*(){yield this.debug.group("AnimationManager.onAnimationFrame()",()=>L(this,null,function*(){let n=()=>{let r=e-(t??e);t=e,this.debug("AnimationManager",{controllersCount:this.batch.size,deltaTime:r}),this.interactionManager.pushState(2);try{this.batch.progress(r)}catch(a){this.failsafeOnError(a)}this.events.emit("animation-frame",{type:"animation-frame",deltaMs:r})};this.isSkippingFrames()?yield this.chartUpdateMutex.acquireImmediately(n):yield this.chartUpdateMutex.acquire(n),this.batch.isActive()?this.scheduleAnimationFrame(i):(this.batch.stop(),this.events.emit("animation-stop",{type:"animation-stop",deltaMs:this.batch.consumedTimeMs}))}))});this.events.emit("animation-start",{type:"animation-start",deltaMs:0}),this.scheduleAnimationFrame(i)}cancelAnimation(){this.requestId!==null&&(cancelAnimationFrame(this.requestId),this.events.emit("animation-stop",{type:"animation-stop",deltaMs:this.batch.consumedTimeMs}),this.requestId=null,this.startBatch())}failsafeOnError(t,i=!0){z.error("Error during animation, skipping animations",t),i&&this.cancelAnimation()}startBatch(t){this.debug(`AnimationManager - startBatch() with skipAnimations=${t}.`),this.reset(),this.batch.destroy(),this.batch=new gH(this.defaultDuration*1.5),t===!0&&this.batch.skip()}endBatch(){this.batch.isActive()?(this.batch.ready(),this.requestAnimation()):(this.interactionManager.popState(2),this.batch.isSkipped()&&this.batch.skip(!1))}onBatchStop(t){this.batch.stoppedCbs.add(t)}destroy(){this.stop(),this.events.clear()}},due=class{constructor(){this.download={type:"action",showOn:"always",label:"contextMenuDownload",enabled:!0,action:void 0,items:void 0},this["zoom-to-cursor"]={type:"action",showOn:"series-area",label:"contextMenuZoomToCursor",enabled:!0,action:void 0,items:void 0},this["pan-to-cursor"]={type:"action",showOn:"series-area",label:"contextMenuPanToCursor",enabled:!0,action:void 0,items:void 0},this["reset-zoom"]={type:"action",showOn:"series-area",label:"contextMenuResetZoom",enabled:!0,action:void 0,items:void 0},this["toggle-series-visibility"]={type:"action",showOn:"legend-item",label:"contextMenuToggleSeriesVisibility",enabled:!0,action:void 0,items:void 0},this["toggle-other-series"]={type:"action",showOn:"legend-item",label:"contextMenuToggleOtherSeries",enabled:!0,action:void 0,items:void 0},this.separator={type:"separator",showOn:"always",label:"separator",enabled:!0,action:void 0,items:void 0}}},uue=class{constructor(){this.defaults=["download","zoom-to-cursor","pan-to-cursor","reset-zoom","toggle-series-visibility","toggle-other-series"]}},YG=class{constructor(){this.items=new due,this.lists=new uue}},KG=class{constructor(t){this.eventsHub=t,this.builtins=new YG,this.hiddenActions=new Set,this.setVisible("zoom-to-cursor",!1),this.setVisible("pan-to-cursor",!1),this.setVisible("reset-zoom",!1)}static check(t,i){return i.showOn==t}static checkCallback(t,i,e){return t===i}dispatchContext(t,i,e,n){let{widgetEvent:r}=i;if(r.sourceEvent.defaultPrevented)return;let a=n?.x??i.canvasX,o=n?.y??i.canvasY,s={showOn:t,x:a,y:o,context:e,widgetEvent:r};this.eventsHub.emit("context-menu:setup",s),this.eventsHub.emit("context-menu:complete",s)}isVisible(t){return!this.hiddenActions.has(t)}setVisible(t,i){i?this.hiddenActions.delete(t):this.hiddenActions.add(t)}},qG=class{constructor(t){this.eventsHub=t,this.highlightStates=new Af}updateHighlight(t,i){let e=this.getActiveHighlight();this.highlightStates.set(t,i);let n=this.getActiveHighlight();this.isEqual(n,e)||this.eventsHub.emit("highlight:change",{callerId:t,currentHighlight:n,previousHighlight:e})}getActiveHighlight(){return this.highlightStates.stateValue()}isEqual(t,i){return t===i||t!=null&&i!=null&&t?.series===i?.series&&t?.itemId===i?.itemId&&t?.datum===i?.datum}};function yH(t,i){if(t==null||i.length===0)return[!1,!1];let e=t.valueOf(),n=i[0],r=i[i.length-1];if(typeof n=="string")return[e===n,e===r];let a=n.valueOf(),o=r.valueOf();return a>o&&([a,o]=[o,a]),[e===a,e===o]}function Gd(t,i,e,n,r,a){let[o,s]=yH(i,a),[l,c]=yH(t,r);return{xKey:e,yKey:n,xValue:t,yValue:i,first:l,last:c,min:o,max:s}}function ZG(t,i,[e,n],r){let a=fc(0,i-1,s=>{let l=t===1?s:i-s,c=r(l)?.[1]??NaN;return!Number.isFinite(c)||c>e})??0,o=Cs(0,i-1,s=>{let l=t===1?s:i-s,c=r(l)?.[0]??NaN;return!Number.isFinite(c)||c<n})??i-1;return t===-1&&([a,o]=[i-o,i-a]),a=Math.max(a,0),o=Math.min(o+1,i),[a,o]}function sO(t,i,e){if(e){let{x:r,y:a,width:o,height:s}=e;return{canvasX:r+o/2,canvasY:a+s/2}}let n=i.yBar?.upperPoint??i.midPoint??t.datumMidPoint?.(i);if(n){let{x:r,y:a}=an.toCanvasPoint(t.contentGroup,n.x,n.y);return{canvasX:Math.round(r),canvasY:Math.round(a)}}}function QG(t,i,e,n,r){let a=-1,o=0,s=0,l=!1;for(;o<n&&a<=i-t;){a+=1;let c=e+s;if(l||(s*=-1),s>=0&&(s+=1),l&&s<0&&(s-=1),c<t||c>i){l=!0;continue}r(c)&&(o+=1)}return o}var Xw=class{constructor(t,i,e,n){this.domManager=e,this.tooltip=n,this.stateTracker=new Af,this.suppressState=new Af(!1),this.appliedState=null,this.cleanup=new pt,this.cleanup.register(n.setup(i,e),t.on("dom:hidden",()=>this.tooltip.hide()))}destroy(){this.cleanup.flush()}updateTooltip(t,i,e,n){e??(e=this.stateTracker.get(t)?.content),this.stateTracker.set(t,{meta:i,content:e,pagination:n}),this.applyStates()}removeTooltip(t){this.stateTracker.delete(t),this.applyStates()}suppressTooltip(t){this.suppressState.set(t,!0)}unsuppressTooltip(t){this.suppressState.delete(t)}applyStates(){let t=this.stateTracker.stateId(),i=t?this.stateTracker.get(t):void 0;if(this.suppressState.stateValue()||i?.meta==null||i?.content==null){this.appliedState=null,this.tooltip.hide();return}let e=this.domManager.getBoundingClientRect(),n=this.tooltip.bounds==="extended"?this.domManager.getOverlayClientRect():e;if(Ln(this.appliedState?.content,i?.content)&&Ln(this.appliedState?.pagination,i?.pagination)){let r=this.tooltip.isVisible();this.tooltip.show(n,e,i?.meta,null,void 0,r)}else this.tooltip.show(n,e,i?.meta,i?.content,i?.pagination);this.appliedState=i}static makeTooltipMeta(t,i,e,n){let{canvasX:r,canvasY:a}=t,o=i.properties.tooltip,{placement:s,anchorTo:l,xOffset:c,yOffset:d}=o.position,u=sO(i,e,n);return{canvasX:r,canvasY:a,nodeCanvasX:u?.canvasX??r,nodeCanvasY:u?.canvasY??a,enableInteraction:o.interaction?.enabled??!1,showArrow:o.showArrow,position:{placement:s,anchorTo:l,xOffset:c,yOffset:d}}}},vH=3,hue=505,_H=30;function g1(t,i){let{device:e,offsetX:n,offsetY:r,clientX:a,clientY:o,currentX:s,currentY:l,sourceEvent:c}=i;return{type:t,device:e,offsetX:n,offsetY:r,clientX:a,clientY:o,currentX:s,currentY:l,sourceEvent:c}}function xH(t,i){let e=t*t+i*i,n=vH*vH;return e>=n}function mue(t,i){let e=t.clientX-i.clientX,n=t.clientY-i.clientY,r=e*e+n*n,a=_H*_H;return r<a}var XG=class{constructor(t){this.cleanup=new pt,this.events=new jr,this.isDragging=!1,this.touch={distanceTravelledX:0,distanceTravelledY:0,clientX:0,clientY:0},this.cleanup.register(t.addListener("touchstart",this.onTouchStart.bind(this)),t.addListener("touchmove",this.onTouchMove.bind(this)),t.addListener("touchend",this.onTouchEnd.bind(this)),t.addListener("mousemove",this.onMouseMove.bind(this)),t.addListener("dblclick",this.onDblClick.bind(this)),t.addListener("drag-start",this.onDragStart.bind(this)),t.addListener("drag-move",this.onDragMove.bind(this)),t.addListener("drag-end",this.onDragEnd.bind(this)))}destroy(){this.cleanup.flush()}onTouchStart(t){let{clientX:i,clientY:e}=t.sourceEvent.targetTouches[0]??{clientX:1/0,clientY:1/0};this.touch.distanceTravelledX=0,this.touch.distanceTravelledY=0,this.touch.clientX=i,this.touch.clientY=e}onTouchMove(t){let{clientX:i,clientY:e}=t.sourceEvent.targetTouches[0]??{clientX:1/0,clientY:1/0};this.touch.distanceTravelledX+=Math.abs(this.touch.clientX-i),this.touch.distanceTravelledY+=Math.abs(this.touch.clientY-e),this.touch.clientX=i,this.touch.clientY=e}onTouchEnd(t){t.sourceEvent.preventDefault()}onMouseMove(t){this.events.emit("mousemove",t)}onDblClick(t){this.events.emit("dblclick",t)}onDragStart(t){this.dragStartEvent=t}onDragMove(t){this.dragStartEvent!=null&&xH(t.originDeltaX,t.originDeltaY)&&(this.events.emit("drag-start",this.dragStartEvent),this.events.emit("drag-move",S(f({},this.dragStartEvent),{type:"drag-move"})),this.dragStartEvent=void 0,this.isDragging=!0),this.isDragging&&this.events.emit("drag-move",t)}onDragEnd(t){if(this.isDragging){this.events.emit("drag-end",t),this.isDragging=!1;return}if(t.device==="mouse"){let i=g1("click",t);this.events.emit("click",i)}else if(t.sourceEvent.type==="touchend"){if(xH(this.touch.distanceTravelledX,this.touch.distanceTravelledY))return;let i=g1("click",t);this.events.emit("click",i);let e=Date.now();if(this.lastClick!==void 0&&e-this.lastClick.time<=hue&&mue(this.lastClick,t)){let n=g1("dblclick",t);this.events.emit("dblclick",n),this.lastClick=void 0}else this.lastClick={time:e,clientX:t.clientX,clientY:t.clientY}}}},b1=class extends Ef{constructor(t){super(t)}addChildToDOM(){}removeChildFromDOM(){}},pue=class{constructor(t,i){this.seriesWidget=new b1(t.getParent("series-area")),this.chartWidget=new b1(t.getParent("canvas-proxy")),this.containerWidget=new b1(t.getParent("canvas-container")),this.containerWidget.addChild(this.chartWidget),this.chartWidget.addChild(this.seriesWidget),i.withDragInterpretation&&(this.seriesDragInterpreter=new XG(this.seriesWidget))}destroy(){this.seriesDragInterpreter?.destroy(),this.seriesWidget.destroy(),this.chartWidget.destroy(),this.containerWidget.destroy()}};function sv(t,i){let[e,n]=er(i);return Ae(e,t,n)}function er(t){if(t.length===0)return[];let i=[1/0,-1/0];for(let e of t)e<i[0]&&(i[0]=e),e>i[1]&&(i[1]=e);return i}function Of(t){let[i,e]=er(t);return e-i}function fue(t){return t=t|0,t<=0?1:t===1?2:1<<32-Math.clz32(t-1)}function iR(t){return t=t|0,t<=0?0:t===1?1:1<<31-Math.clz32(t)}var gue=(()=>{let t=class nR extends SD{constructor(e=[],n=[]){super(),this.domain=e,this.range=n,this.defaultTickCount=nR.defaultTickCount,this.defaultClamp=!1}static is(e){return e instanceof nR}normalizeDomains(...e){return lO(...e)}calcBandwidth(e=1,n=1){let{domain:r}=this,a=this.getPixelRange();if(r.length===0)return a;let s=Math.abs(r[1].valueOf()-r[0].valueOf())/e+1;if(n!==0){let l=Math.floor(a);s=Math.min(s,l)}return a/Math.max(1,s)}convert(e,n){let{domain:r}=this;if(!r||r.length<2||e==null)return NaN;let{range:a}=this,o=n?.clamp??this.defaultClamp,s=r[0].valueOf(),l=r[1].valueOf(),c=e.valueOf();if(this.transform&&(s=this.transform(s),l=this.transform(l),c=this.transform(c)),o){let[u,h]=er([s,l]);if(c<u)return a[0];if(c>h)return a[1]}if(s===l)return(a[0]+a[1])/2;if(c===s)return a[0];if(c===l)return a[1];let d=a[0];return d+(c-s)/(l-s)*(a[1]-d)}invert(e,n){let{domain:r}=this;if(r.length<2)return;let a=r[0].valueOf(),o=r[1].valueOf();this.transform&&(a=this.transform(a),o=this.transform(o));let{range:s}=this,[l,c]=s,d;return l===c?d=this.toDomain((a+o)/2):d=this.toDomain(a+(e-l)/(c-l)*(o-a)),this.transformInvert?this.transformInvert(d):d}getPixelRange(){let[e,n]=this.range;return Math.abs(n-e)}};return t.defaultTickCount=5,t})(),Di=gue;function lO(...t){let i,e=1/0,n,r=-1/0;for(let a of t)for(let o of a){let s=o.valueOf();s<e&&(e=s,i=o),s>r&&(r=s,n=o)}return i!=null&&n!=null?{domain:[i,n],animatable:!0}:{domain:[],animatable:!1}}var cO=class JG extends SD{constructor(){super(...arguments),this.invalid=!0,this.range=[0,1],this.round=!1,this._bandwidth=1,this._step=1,this._inset=1,this._rawBandwidth=1,this._paddingInner=0,this._paddingOuter=0}static is(i){return i instanceof JG}get bandwidth(){return this.refresh(),this._bandwidth}get step(){return this.refresh(),this._step}get inset(){return this.refresh(),this._inset}get rawBandwidth(){return this.refresh(),this._rawBandwidth}set padding(i){i=Ae(0,i,1),this._paddingInner=i,this._paddingOuter=i}get padding(){return this._paddingInner}set paddingInner(i){this.invalid=!0,this._paddingInner=Ae(0,i,1)}get paddingInner(){return this._paddingInner}set paddingOuter(i){this.invalid=!0,this._paddingOuter=Ae(0,i,1)}get paddingOuter(){return this._paddingOuter}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&z.warnOnce("Expected update to not invalidate scale"))}convert(i,e){this.refresh();let n=this.findIndex(i,e?.alignment);return n==null||n<0||n>=this.bands.length?NaN:this.ordinalRange(n)}invertNearestIndex(i){this.refresh();let e=this.bands.length;if(e===0)return-1;let n=0,r=e-1,a=1/0,o=0;for(;n<=r;){let s=(r+n)/2|0,l=this.ordinalRange(s),c=Math.abs(l-i);if(c===0)return s;c<a&&(a=c,o=s),l<i?n=s+1:r=s-1}return o}update(){let[i,e]=this.range,{_paddingInner:n}=this,{_paddingOuter:r,round:a,bands:o}=this,s=o.length;if(s===0)return;let l=e-i,c;s===1?(n=0,c=l*(1-r*2)):c=l/Math.max(1,s-n+r*2);let d=a?Math.floor(c):c,u=i+(l-d*(s-n))/2,h=d*(1-n);a&&(u=Math.round(u),h=Math.round(h)),this._step=d,this._inset=u,this._bandwidth=h,this._rawBandwidth=c*(1-n)}ordinalRange(i){let{_inset:e,_step:n,range:r}=this,a=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return Ae(a,e+n*i,o)}};b([Sv],cO.prototype,"range",2);b([Sv],cO.prototype,"round",2);var Lc=cO,Rs=class eW extends Lc{static is(i){return i instanceof eW}toDomain(i){return new Date(i)}convert(i,e){i instanceof Date||(i=new Date(i));let{domain:n,bands:r}=this;if(n.length<=0)return NaN;let a=this.ordinalRange(0),o=this.ordinalRange(r.length-1);if(r.length===0)return a;if(e?.clamp===!0){let{range:x}=this;if(i<r[0])return x[0];if(i>r[r.length-1])return x[1]}let s=e?.alignment??0,l=n[0].valueOf()>n[n.length-1].valueOf();if(s!==2){let x=super.convert(i,e);return l?o-(x-a):x}let c=i.valueOf(),d=this.findIndex(i)??0,u;l?(d=Math.min(Math.max(d,1),r.length-1),u=-1):(d=Math.min(Math.max(d,0),r.length-2),u=1);let h=r[d].valueOf(),m=r[d+u].valueOf(),p=this.ordinalRange(d),g=this.ordinalRange(d+u),v=(c-h)/(m-h)*(g-p)+p;return l?o-(v-a):v}invert(i,e=!1){this.refresh();let{domain:n,bands:r}=this;if(n.length<=0)return;let a=n[0].valueOf()>n[n.length-1].valueOf(),o;return e?o=this.invertNearestIndex(i-this.bandwidth/2):o=fc(0,r.length-1,l=>this.ordinalRange(l)>=i)??r.length-1,r[a?r.length-1-o:o]}findIndex(i,e=0){let{bands:n}=this,r=i.valueOf();return e===1?fc(0,n.length-1,a=>n[a].valueOf()>=r):Cs(0,n.length-1,a=>n[a].valueOf()<=r)}},lv={bottomCenter:xue,center:_ue,clone:Sue,collides:Mue,end:yue,from:Iue,height:wue,round:Due,start:bue,topCenter:vue,origin:kue,width:Cue};function bue(t){return{x:t.x1,y:t.y1}}function yue(t){return{x:t.x2,y:t.y2}}function vue(t){return{x:(t.x1+t.x2)/2,y:Math.min(t.y1,t.y2)}}function _ue(t){return{x:(t.x1+t.x2)/2,y:(t.y1+t.y2)/2}}function xue(t){return{x:(t.x1+t.x2)/2,y:Math.max(t.y1,t.y2)}}function Cue(t){return Math.abs(t.x2-t.x1)}function wue(t){return Math.abs(t.y2-t.y1)}function Due(t){return{x1:Math.round(t.x1),y1:Math.round(t.y1),x2:Math.round(t.x2),y2:Math.round(t.y2)}}function Sue(t){return{x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2}}function Mue(t,i){let e=rR(t),n=rR(i);return e.x1<=n.x2&&e.x2>=n.x1&&e.y1<=n.y2&&e.y2>=n.y1}function rR(t){return{x1:Math.min(t.x1,t.x2),x2:Math.max(t.x1,t.x2),y1:Math.min(t.y1,t.y2),y2:Math.max(t.y1,t.y2)}}function Iue(t,i,e,n){if(typeof t=="number")return{x1:t,y1:i,x2:e,y2:n};if("width"in t)return rR({x1:t.x,y1:t.y,x2:t.x+t.width,y2:t.y+t.height});throw new Error(`Values can not be converted into a vector4: [${JSON.stringify(t)}] [${i}] [${e}] [${n}]`)}function kue(){return{x1:0,y1:0,x2:0,y2:0}}function yw(t,i,e,n,r){return i+(n-i)*((r-t)/(e-t))}function CH(t,i,e,n,r){return t+(r-i)*((e-t)/(n-i))}function wH(t,i,e){return[CH(t,e.min,i,e.max,0),CH(t,e.min,i,e.max,1)]}function Aue(t,i,e){let[n,r]=wH(t.x1,t.x2,i),[a,o]=wH(t.y1,t.y2,e);return{x1:n,x2:r,y1:a,y2:o}}function DH(t,i,e,n,r,a){if(e<=r&&a<=n)return e;let o=r-e,s=a-n,l=Math.abs(o)<Math.abs(s)?o:s;return Ae(t,e+l,i)}function Eue(t,i,e){let{x:n={min:0,max:1},y:r={min:0,max:1}}=i,a=lv.from(e),o=lv.from(t),s=Aue(o,n,r),l=DH(s.x1,s.x2,o.x1,o.x2,a.x1,a.x2),c=DH(s.y1,s.y2,o.y1,o.y2,a.y1,a.y2),d={x:{min:yw(o.x1,n.min,o.x2,n.max,l),max:yw(o.x1,n.min,o.x2,n.max,l+t.width)},y:{min:yw(o.y1,r.min,o.y2,r.max,c),max:yw(o.y1,r.min,o.y2,r.max,c+t.height)}},u=d.x.max-d.x.min,h=d.y.max-d.y.min;return d.x.min=Ae(0,d.x.min,1-u),d.x.max=d.x.min+u,d.y.min=Ae(0,d.y.min,1-h),d.y.max=d.y.min+h,d}function tW(t,i){let e=t?.valueOf(),n=i?.valueOf();return typeof e!="number"||typeof n!="number"?[void 0,void 0]:e<n?[0,1]:[1,0]}var Tue=class{constructor(){this.enabled=!1,this.padding=0,this.manuallyAdjusted=!1}},SH=t=>Ot((i,{options:e})=>!Di.is(t?.scale)&&!Rs.is(t?.scale)||i==null||e.end==null?!0:i<e.end,"to be less than end"),iW=class extends XR{constructor(t,i){super(),this.eventsHub=t,this.fireChartEvent=i,this.mementoOriginatorKey="zoom",this.axisZoomManagers=new Map,this.state=new Af(void 0,"initial"),this.axes=[],this.didLayoutAxes=!1,this.autoScaleYAxis=new Tue,this.lastRestoredState=void 0,this.independentAxes=!1,this.navigatorModule=!1,this.zoomModule=!1,this.pendingMemento=void 0,this.boundFireOnceChartEvent=this.fireOnceChartEvent.bind(this),this.cleanup.register(t.on("layout:complete",()=>{this.didLayoutAxes=!0;let{pendingMemento:e}=this;e&&this.restoreMemento(e.version,e.mementoVersion,e.memento),this.autoScaleYZoom("zoom-manager")}))}createMemento(){return this.getMementoRanges()}guardMemento(t,i){if(t==null)return!0;if(!qt(t))return!1;let e=this.getPrimaryAxis("x"),n=this.getPrimaryAxis("y"),r={rangeX:{start:SH(e),end:Be},rangeY:{start:SH(n),end:Be},ratioX:{start:Be,end:Be},ratioY:{start:Be,end:Be},autoScaledAxes:Be},{invalid:a}=mn(t,r);return a.length>0?(i.push(...a.map(String)),!1):!0}restoreMemento(t,i,e){let{independentAxes:n}=this;if(!this.axes||!this.didLayoutAxes){this.pendingMemento={version:t,mementoVersion:i,memento:e};return}this.pendingMemento=void 0;let r=this.getDefinedZoom();if(e?.rangeX?r.x=this.rangeToRatio(e.rangeX,"x")??{min:0,max:1}:e?.ratioX?r.x={min:e.ratioX.start??0,max:e.ratioX.end??1}:r.x={min:0,max:1},!this.navigatorModule||this.zoomModule){let s=e?.autoScaledAxes?.includes("y");if(e?.rangeY)s??(s=!1),r.y=this.rangeToRatio(e.rangeY,"y")??{min:0,max:1};else if(e?.ratioY)s??(s=!1),r.y={min:e.ratioY.start??0,max:e.ratioY.end??1};else{s??(s=!0);let l=s?this.getAutoScaleYZoom(r.x):void 0;r.y=l??{min:0,max:1}}r.autoScaleYAxis=s}if(this.lastRestoredState=r,n!==!0){this.updateZoom("zoom-manager",r);return}let a=this.getPrimaryAxis("x"),o=this.getPrimaryAxis("y");for(let s of[a,o])s&&this.updateAxisZoom("zoom-manager",s.id,r[s.direction])}updateAxes(t){this.axes=t;let i=new Map(t.map(e=>[e.id,this.axisZoomManagers.get(e.id)]));this.axisZoomManagers.clear();for(let e of t)this.axisZoomManagers.set(e.id,i.get(e.id)??new Rue(e));this.state.size>0&&t.length>0&&this.updateZoom(this.state.stateId(),this.state.stateValue())}setIndependentAxes(t=!0){this.independentAxes=t}setAutoScaleYAxis(t,i){this.autoScaleYAxis.enabled=t,this.autoScaleYAxis.padding=i,t&&this.autoScaleYZoom("toggle-auto-scale")}setNavigatorEnabled(t=!0){this.navigatorModule=t}setZoomModuleEnabled(t=!0){this.zoomModule=t}isNavigatorEnabled(){return this.navigatorModule}isZoomEnabled(){return this.zoomModule}updateZoom(t,i){if(i?.x&&(i.x.min<0||i.x.max>1)&&(z.warnOnce(`Attempted to update x-axis zoom to an invalid ratio of [{ min: ${i.x.min}, max: ${i.x.max} }], expecting a ratio of 0 to 1, ignoring.`),i.x=void 0),i?.y&&(i.y.min<0||i.y.max>1)&&(z.warnOnce(`Attempted to update y-axis zoom to an invalid ratio of [{ min: ${i.y.min}, max: ${i.y.max} }], expecting a ratio of 0 to 1, ignoring.`),i.y=void 0),this.axisZoomManagers.size===0){let n=this.state.stateId();(n==="initial"||n===t)&&this.state.set(t,i);return}this.state.set(t,i);let e=i?.autoScaleYAxis;e!=null&&(this.autoScaleYAxis.manuallyAdjusted=!e),this.axisZoomManagers.forEach(n=>{n.updateZoom(t,i?.[n.getDirection()])}),this.applyChanges(t)}updateAxisZoom(t,i,e){this.axisZoomManagers.get(i)?.updateZoom(t,e),this.applyChanges(t)}resetZoom(t){this.autoScaleYAxis.manuallyAdjusted=!1;let i=this.getRestoredZoom();this.updateZoom(t,{x:{min:i?.x?.min??0,max:i?.x?.max??1},y:{min:i?.y?.min??0,max:i?.y?.max??1},autoScaleYAxis:i?.autoScaleYAxis??!0})}resetAxisZoom(t,i){let n=this.axisZoomManagers.get(i)?.getDirection();if(n==null)return;let r=this.getRestoredZoom();if(n==="y"){let a=r?.autoScaleYAxis??!0;this.autoScaleYAxis.manuallyAdjusted=!a}for(let a of this.axes)a.direction===n&&this.updateAxisZoom(t,a.id,r?.[n]??{min:0,max:1})}setAxisManuallyAdjusted(t,i){this.axisZoomManagers.get(i)?.getDirection()==="y"&&(this.autoScaleYAxis.manuallyAdjusted=!0)}updatePrimaryAxisZoom(t,i,e){let n=this.getPrimaryAxis(i);n&&this.updateAxisZoom(t,n.id,e)}panToBBox(t,i,e){if(!this.isZoomEnabled()&&!this.isNavigatorEnabled())return!1;let n=this.getZoom();if(n===void 0||!n.x&&!n.y)return!1;if(!(i.width>0&&i.height>0&&Math.abs(e.width)<=Math.abs(i.width)&&Math.abs(e.height)<=Math.abs(i.height)))return z.warnOnce("cannot pan to target BBox - chart too small?"),!1;let a=Eue(i,n,e);return this.independentAxes?(this.updatePrimaryAxisZoom(t,"x",a.x),this.updatePrimaryAxisZoom(t,"y",a.y)):this.updateZoom(t,a),!0}fireZoomPanStartEvent(t){this.eventsHub.emit("zoom:pan-start",{callerId:t})}extendToEnd(t,i,e){return this.extendWith(t,i,n=>Number(n)-e)}extendWith(t,i,e){let n=this.getPrimaryAxis(i);if(!n)return;let r=this.getDomainExtents(n);if(!r)return;let[,a]=r,o=e(a),s=this.rangeToRatio({start:o,end:a},i);s&&this.updateZoom(t,{[i]:s})}updateWith(t,i,e){let n=this.getPrimaryAxis(i);if(!n)return;let r=this.getDomainExtents(n);if(!r)return;let[a,o]=r;[a,o]=e(a,o);let s=this.rangeToRatio({start:a,end:o},i);s&&this.updateZoom(t,{[i]:s})}getZoom(){let t,i;if(this.axisZoomManagers.forEach(e=>{e.getDirection()==="x"?t??(t=e.getZoom()):e.getDirection()==="y"&&(i??(i=e.getZoom()))}),t||i)return{x:t,y:i}}getAxisZoom(t){return this.axisZoomManagers.get(t)?.getZoom()??{min:0,max:1}}getAxisZooms(){let t={};for(let[i,e]of this.axisZoomManagers.entries())t[i]={direction:e.getDirection(),zoom:e.getZoom()};return t}getRestoredZoom(){return this.lastRestoredState}getPrimaryAxisId(t){return this.getPrimaryAxis(t)?.id}isVisibleItemsCountAtLeast(t,i){let{autoScaleYAxis:e}=this,n=this.getPrimaryAxis("x"),r=this.getPrimaryAxis("y"),a;if(this.independentAxes){let c=new Set(n?.boundSeries??[]),d=new Set(r?.boundSeries??[]);a=new Set;for(let u of c)d.has(u)&&a.add(u)}else a=new Set([...n?.boundSeries??[],...r?.boundSeries??[]]);let o=[t.x.min,t.x.max],s=e.enabled&&!e.manuallyAdjusted?void 0:[t.y.min,t.y.max],l=0;for(let c of a){let d=i-(l??0),u=c.getVisibleItems(o,s,d);if(l+=u,l>=i)return!0}return a.size===0}getMementoRanges(){let t=this.getDefinedZoom(),i;return this.autoScaleYAxis.enabled&&(i=this.autoScaleYAxis.manuallyAdjusted?[]:["y"]),{rangeX:this.getRangeDirection(t.x,"x"),rangeY:this.getRangeDirection(t.y,"y"),ratioX:{start:t.x.min,end:t.x.max},ratioY:{start:t.y.min,end:t.y.max},autoScaledAxes:i}}getAutoScaleYZoom(t){if(!this.isZoomEnabled())return;let{independentAxes:i,autoScaleYAxis:e}=this;if(!e.enabled||e.manuallyAdjusted)return;let{padding:n}=e;return t?.min===0&&t?.max===1?{min:0,max:1}:i?this.primaryAxisZoom("y",t,{padding:n}):this.combinedAxisZoom("y",t,{padding:n})}autoScaleYZoom(t,i=!0){let{independentAxes:e}=this,n=this.getZoom();if(n?.x==null)return;let r=this.getAutoScaleYZoom(n.x);if(!(r==null||Ln(n.y,r))){if(e){let a=this.getPrimaryAxis("y");(a==null?void 0:this.axisZoomManagers.get(a.id))?.updateZoom("zoom-manager",r)}else for(let a of this.axisZoomManagers.values())a.getDirection()==="y"&&a.updateZoom("zoom-manager",r);i&&this.applyChanges(t)}}applyChanges(t){if(this.autoScaleYZoom(t,!1),!Array.from(this.axisZoomManagers.values(),n=>n.applyChanges()).includes(!0))return;let e={};for(let[n,r]of this.axisZoomManagers.entries())e[n]=r.getZoom();this.eventsHub.emit("zoom:change",S(f({},this.getZoom()),{axes:e,callerId:t})),this.eventsHub.on("layout:complete",this.boundFireOnceChartEvent)}fireOnceChartEvent(){this.fireChartEvent(f({type:"zoom"},this.getMementoRanges())),this.eventsHub.off("layout:complete",this.boundFireOnceChartEvent)}getRangeDirection(t,i){let e=this.getPrimaryAxis(i);if(!e||!Di.is(e.scale)&&!Rs.is(e.scale))return;let n=this.getDomainPixelExtents(e);if(!n)return;let[r,a]=n,o,s;return r<=a?(o=e.scale.invert(0),s=e.scale.invert(r+(a-r)*t.max)):(o=e.scale.invert(r-(r-a)*t.min),s=e.scale.invert(0)),{start:o,end:s}}rangeToRatio(t,i){let e=this.getPrimaryAxis(i);if(!e)return;let n=this.getDomainPixelExtents(e);if(!n)return;let[r,a]=n,{scale:o}=e,{start:s,end:l}=t,[c=0,d=1]=tW(s,l),u=t.start==null?r:o.convert(t.start,{alignment:c}),h=t.end==null?a:o.convert(t.end,{alignment:d})+(o.bandwidth??0);if(!Tt(u)||!Tt(h))return;let[m,p]=[Math.min(r,a),Math.max(r,a)];if(u<m||u>p){z.warnOnce(`Invalid range start [${t.start}], expecting a value between [${o.invert(r)}] and [${o.invert?.(a)}], ignoring.`);return}if(h<m||h>p){z.warnOnce(`Invalid range end [${t.end}], expecting a value between [${o.invert(r)}] and [${o.invert?.(a)}], ignoring.`);return}u=Math.min(p,Math.max(m,u)),h=Math.min(p,Math.max(m,h));let g=a-r,y=Math.abs((u-r)/g),v=Math.abs((h-r)/g);return{min:y,max:v}}getPrimaryAxis(t){return this.axes?.find(i=>i.direction===t)}getDomainExtents(t){let{domain:i}=t.scale,e=i.at(0),n=i.at(-1);if(!(e==null||n==null))return[e,n]}getDomainPixelExtents(t){let[i,e]=t.scale.range;if(!(!Tt(i)||!Tt(e)))return[i,e]}getDefinedZoom(){let t=this.getZoom();return{x:{min:t?.x?.min??0,max:t?.x?.max??1},y:{min:t?.y?.min??0,max:t?.y?.max??1}}}zoomBounds(t,i,e,n){let r=t.scale,a=r.range;r.range=[0,1];let o=i.scale,s=o.range;o.range=[0,1];let l=1,c=!1,d=0,u=!1;for(let p of i.boundSeries){if(!p.visible)continue;let{connectsToYAxis:g}=p,y=p.getRange("y",[e.min,e.max]);for(let v of y){let x=o.convert(v);Number.isFinite(x)&&(x<l&&(l=x,c=!g||v<0),x>d&&(d=x,u=!g||v>0))}}if(Tt(i.min)&&(l=0),Tt(i.max)&&(d=1),r.range=a,o.range=s,l>=d)return;let h=(c?n:0)+(u?n:0),m=Math.min((d-l)*(1+h),1);if(!(m<=0)){if(c&&u){let p=(d+l)/2;l=p-m/2,d=p+m/2}else!c&&u?d=l+m:c&&!u&&(l=d-m);return l<0?(d+=-l,l=0):d>1&&(l-=d-1,d=1),{min:l,max:d}}}primaryAxisZoom(t,i,{padding:e=0}={}){let n=t==="x"?"y":"x",r=this.getPrimaryAxis(n),a=this.getPrimaryAxis(t);if(!(r==null||a==null))return this.zoomBounds(r,a,i,e)}combinedAxisZoom(t,i,{padding:e=0}={}){let n=t==="x"?"y":"x",r=new Map;for(let l of this.axes)if(l.direction===n)for(let c of l.boundSeries)r.set(c,l);let a=1,o=0;for(let l of this.axes)if(l.direction===t)for(let c of l.boundSeries){let d=r.get(c);if(d==null)continue;let u=this.zoomBounds(d,l,i,e);if(u==null)return;a=Math.min(a,u.min),o=Math.max(o,u.max)}let s=1e-6;if(a<s&&(a=0),o>1-s&&(o=1),!(a>o))return{min:a,max:o}}},Rue=class{constructor(t){this.axis=t;let[i=0,e=1]=t.visibleRange;this.state=new Af({min:i,max:e}),this.currentZoom=this.state.stateValue()}getDirection(){return this.axis.direction}updateZoom(t,i){this.state.set(t,i)}getZoom(){return Zi(this.state.stateValue())}hasChanges(){let t=this.currentZoom,i=this.state.stateValue();return t.min!==i.min||t.max!==i.max}applyChanges(){let t=this.hasChanges();return this.currentZoom=this.state.stateValue(),t}},dO=(t=>(t[t.Caption=0]="Caption",t[t.Legend=1]="Legend",t[t.ToolbarLeft=2]="ToolbarLeft",t[t.ToolbarBottom=3]="ToolbarBottom",t[t.Navigator=4]="Navigator",t[t.Overlay=5]="Overlay",t))(dO||{}),nW=class{constructor(t){this.eventsHub=t,this.elements=new Map}registerElement(t,i){return this.elements.has(t)?this.elements.get(t).add(i):this.elements.set(t,new Set([i])),()=>this.elements.get(t)?.delete(i)}createContext(t,i){let e=new Oue(t,i);for(let n of Object.values(dO))typeof n=="number"&&this.elements.get(n)?.forEach(r=>r(e));return e}emitLayoutComplete(t,i){let{width:e,height:n}=t;this.eventsHub.emit("layout:complete",{axes:i.axes??[],chart:{width:e,height:n},clipSeries:i.clipSeries??!1,series:i.series})}},Oue=class{constructor(t,i){this.width=t,this.height=i,this.layoutBox=new we(0,0,t,i)}};function Lue({point:t,anchor:i},e,n,r,a){if(t.size===0)return!1;let o=t.x,s=t.y;i!=null&&(o-=(i.x-.5)*t.size,s-=(i.y-.5)*t.size);let l=o;o<e?l=e:o>e+r&&(l=e+r);let c=s;s<n?c=n:s>n+a&&(c=n+a);let d=o-l,u=s-c;return Math.sqrt(d*d+u*u)<=t.size*.5}function Nue(t){return t!=null&&typeof t.point=="object"&&typeof t.label=="object"}var Pue={top:{x:0,y:-1},bottom:{x:0,y:1},left:{x:-1,y:0},right:{x:1,y:0},"top-left":{x:-1,y:-1},"top-right":{x:1,y:-1},"bottom-left":{x:-1,y:1},"bottom-right":{x:1,y:1}};function Fue(t,i,e=5){let n=new Map,r=[],a=new Map([...t.entries()].map(([s,l])=>[s,l.toSorted((c,d)=>d.point.size-c.point.size)])),o=[...a.values()].flat();for(let[s,l]of a.entries()){let c=[];if(l[0]?.label){for(let d=0,u=l.length;d<u;d++){let h=l[d],{point:m,label:p,anchor:g}=h,{text:y,width:v,height:x}=p,w=m.size*.5,D=0,k=0;if(w>0&&h.placement!=null){let H=Pue[h.placement];D=(v*.5+w+e)*H.x,k=(x*.5+w+e)*H.y}let E=m.x-v*.5+D-((g?.x??.5)-.5)*m.size,A=m.y-x*.5+k-((g?.y??.5)-.5)*m.size;if(!Kp(i,E,A,v,x)||o.some(H=>Lue(H,E,A,v,x))||r.some(H=>dw(H,E,A,v,x)))continue;let U={index:d,text:y,x:E,y:A,width:v,height:x,datum:h};c.push(U),r.push(U)}n.set(s,c)}}return n}var Vue=class{constructor(){this.labelData=new Map}updateLabels(t,i,e=we.zero){let n={x:-i.left,y:-i.top,width:e.width+i.left+i.right,height:e.height+i.top+i.bottom},r=new Set(t.map(o=>o.id));for(let o of this.labelData.keys())r.has(o)||this.labelData.delete(o);for(let o of t){let s=o.getLabelData();s.every(Nue)&&this.labelData.set(o.id,s)}let a=Fue(this.labelData,n,5);for(let o of t)o.updatePlacedLabelData?.(a.get(o.id)??[])}},Bue=class{constructor(t){this.eventsHub=t,this.mementoOriginatorKey="legend",this.legendDataMap=new Map}createMemento(){return this.getData().filter(({hideInLegend:t,isFixed:i})=>!t&&!i).map(({enabled:t,seriesId:i,itemId:e,legendItemName:n})=>({visible:t,seriesId:i,itemId:e,legendItemName:n}))}guardMemento(t){return t==null||Xe(t)}restoreMemento(t,i,e){e?.forEach(n=>{let{seriesId:r,data:a}=this.getRestoredData(n)??{};!r||!a||this.updateData(r,a)}),this.update()}getRestoredData(t){let{seriesId:i,itemId:e,legendItemName:n,visible:r}=t;if(i){let o=(this.legendDataMap.get(i)??[]).map(s=>{let l=s.seriesId===i&&(!e||s.itemId===e);return l&&s.isFixed&&this.warnFixed(s.seriesId,s.itemId),!s.isFixed&&l?S(f({},s),{enabled:r}):s});return{seriesId:i,data:o}}if(!(e==null&&n==null))for(let a of this.getData()){if(e!=null&&a.itemId!==e||n!=null&&a.legendItemName!==n)continue;if(a.isFixed){this.warnFixed(a.seriesId,e);return}let o=(this.legendDataMap.get(a.seriesId)??[]).map(s=>s.itemId===e||s.legendItemName===n?S(f({},s),{enabled:r}):s);return{seriesId:a.seriesId,data:o}}}warnFixed(t,i){z.warnOnce(`The legend item with seriesId [${t}] and itemId [${i}] is not configurable, this series item cannot be toggled through the legend.`)}update(t){this.eventsHub.emit("legend:change",{legendData:t??this.getData()})}updateData(t,i=[]){this.legendDataMap.set(t,i)}clearData(){this.legendDataMap.clear()}toggleItem(t,i,e,n){if(n){this.getData().forEach(s=>{let l=(this.legendDataMap.get(s.seriesId)??[]).map(c=>c.legendItemName===n?S(f({},c),{enabled:t}):c);this.updateData(s.seriesId,l)});return}let r=this.getData(i),a=r.length===1,o=r.map(s=>e==null&&a||s.itemId===e?S(f({},s),{enabled:t}):s);this.updateData(i,o)}getData(t){return t?this.legendDataMap.get(t)??[]:[...this.legendDataMap].reduce((i,[e,n])=>i.concat(n),[])}getDatum({seriesId:t,itemId:i}={}){return this.getData(t).find(e=>e.itemId===i)}getSeriesEnabled(t){let i=this.getData(t);if(i.length>0)return i.some(e=>e.enabled)}getItemEnabled({seriesId:t,itemId:i}={}){return this.getDatum({seriesId:t,itemId:i})?.enabled??!0}},zue=class{constructor(){this.groups=new Map}registerSeries({internalId:t,seriesGrouping:i,visible:e,type:n}){if(!i)return;let r=this.groups.get(n);r==null&&(r=new Map,this.groups.set(n,r)),r.set(t,{grouping:i,visible:e})}updateSeries({internalId:t,seriesGrouping:i,visible:e,type:n}){if(!i)return;let r=this.groups.get(n)?.get(t);r&&(r.grouping=i,r.visible=e)}deregisterSeries({internalId:t,type:i}){let e=this.groups.get(i);e!=null&&(e.delete(t),e.size===0&&this.groups.delete(i))}getVisiblePeerGroupIndex({type:t,seriesGrouping:i,visible:e}){if(!i)return{visibleGroupCount:e?1:0,visibleSameStackCount:e?1:0,index:0};let n=new Set,r=new Set,a=this.groups.get(t);for(let s of a?.values()??[])s.visible&&(n.add(s.grouping.groupIndex),s.grouping.groupIndex===i.groupIndex&&r.add(s.grouping.stackIndex));let o=Array.from(n);return o.sort((s,l)=>s-l),{visibleGroupCount:o.length,visibleSameStackCount:r.size,index:o.indexOf(i.groupIndex)}}},rW=class{constructor(t){this.updateCallback=t,this.events=new jr}addListener(t,i){return this.events.on(t,i)}destroy(){this.events.clear()}update(t=0,i){this.updateCallback(t,i)}dispatchUpdateComplete(t){this.events.emit("update-complete",{type:"update-complete",apiUpdate:t})}dispatchPreDomUpdate(){this.events.emit("pre-dom-update",{type:"pre-dom-update"})}dispatchPreSceneRender(){this.events.emit("pre-scene-render",{type:"pre-scene-render"})}dispatchProcessData({series:t}){this.events.emit("process-data",{type:"process-data",series:t})}},jue=class{constructor(t,i){this.eventsHub=new jr,this.callbackCache=new lG,this.highlightManager=new qG(this.eventsHub),this.formatManager=new Rf,this.layoutManager=new nW(this.eventsHub),this.localeManager=new Tde(this.eventsHub),this.seriesStateManager=new zue,this.stateManager=new cde,this.seriesLabelLayoutManager=new Vue,this.cleanup=new pt,this.contextModules=[];let{scene:e,root:n,syncManager:r,container:a,fireEvent:o,updateCallback:s,updateMutex:l,styleContainer:c,chartType:d,domMode:u,withDragInterpretation:h}=i;this.chartService=t,this.syncManager=r,this.domManager=new AG(this.eventsHub,this.chartService,a,c,u),this.widgets=new pue(this.domManager,{withDragInterpretation:h});let m=this.domManager.addChild("canvas","scene-canvas",e?.canvas.element);this.scene=e??new aO({canvasElement:m}),this.scene.setRoot(n),this.cleanup.register(this.scene.on("scene-changed",()=>{this.updateService.update(7)})),this.axisManager=new Nde(this.eventsHub,n),this.legendManager=new Bue(this.eventsHub),this.annotationManager=new Lde(this.eventsHub,t.annotationRoot,o),this.chartTypeOriginator=new sde(t),this.interactionManager=new WG,this.contextMenuRegistry=new KG(this.eventsHub),this.updateService=new rW(s),this.proxyInteractionService=new OG(this.eventsHub,this.localeManager,this.domManager),this.fontManager=new Pde(this.domManager,this.updateService),this.historyManager=new lde(this.eventsHub),this.animationManager=new $G(this.interactionManager,l),this.dataService=new LD(this.eventsHub,t,this.animationManager),this.tooltipManager=new Xw(this.eventsHub,this.localeManager,this.domManager,t.tooltip),this.zoomManager=new iW(this.eventsHub,o);for(let p of Tl.byType("context")){if(!p.chartTypes.includes(d))continue;let g=p.moduleFactory(this);this.contextModules.push(g),this[p.contextKey]=g}}destroy(){this.animationManager.destroy(),this.axisManager.destroy(),this.callbackCache.invalidateCache(),this.domManager.destroy(),this.fontManager.destroy(),this.proxyInteractionService.destroy(),this.tooltipManager.destroy(),this.zoomManager.destroy(),this.widgets.destroy(),this.contextModules.forEach(t=>t.destroy()),this.cleanup.flush()}},aW=class extends nt{constructor(){super(...arguments),this.range="tooltip"}};b([C],aW.prototype,"range",2);function Uue(t,i){if(t.size!==i.size)return!1;for(let e of t)if(!i.has(e))return!1;return!0}function Hue(t,i){if(t==null||i==null)return t===i;if(t.size!==i.size)return!1;for(let[e,n]of t){let r=i.get(e);if(r==null||!Uue(n,r))return!1}return!0}function Gue(t,i){if(t.length!==i.length)return!1;for(let r=0;r<t.length;r+=1){let e=t[r],{type:a,idsMap:o,scopes:s,data:l}=e,c=ci(e,["type","idsMap","scopes","data"]),n=i[r],{type:d,idsMap:u,scopes:h,data:m}=n,p=ci(n,["type","idsMap","scopes","data"]);if(a!==d||s&&h&&!Oa(s,h)||l&&m&&l!==m||!Ln(c,p)||!Hue(o,u))return!1}return!0}function Wue(t,i){let o=t,{props:e}=o,n=ci(o,["props"]),s=i,{props:r}=s,a=ci(s,["props"]);return Ln(n,a)&&Gue(e,r)}function $ue(t,i,e,n){return i===t.data&&Oa(e,t.ids)&&Wue(n,t.opts)}var MH=class oW{constructor(){this.domain=new Set}static is(i){return i instanceof oW}extend(i){this.domain.add(i)}getDomain(){return Array.from(this.domain)}},Ld=class sW{constructor(){this.domain=[1/0,-1/0]}static is(i){return i instanceof sW}static extendDomain(i,e=[1/0,-1/0]){for(let n of i)typeof n=="number"&&(e[0]>n&&(e[0]=n),e[1]<n&&(e[1]=n));return e}extend(i){this.domain[0]>i&&(this.domain[0]=i),this.domain[1]<i&&(this.domain[1]=i)}getDomain(){return[...this.domain]}},ef=0,tf=1,Dl=2,Yue=class{constructor(t){let i=t.reduce((a,o)=>Math.max(a,o.length),0),n=1<<32-Math.clz32(i);i===n/2&&(n=n>>>1),this.maxLevelSize=n;let r=new Float64Array((n*2-1)*2).fill(NaN);for(let a of t)for(let o=0;o<a.length;o+=1){let s=Number(a[o]),l=n+o-1,c=(l*Dl|0)+ef,d=(l*Dl|0)+tf,u=r[c],h=r[d];(!Number.isFinite(u)||s<u)&&(r[c]=s),(!Number.isFinite(h)||s>h)&&(r[d]=s)}for(let a=n/2|0;a>=1;a=a/2|0){let o=a-1|0,s=o+a|0;for(let l=0;l<a;l+=1){let c=o+l,d=s+l*2,u=d+1,h=r[(d*Dl|0)+ef],m=r[(u*Dl|0)+ef];r[(c*Dl|0)+ef]=!Number.isFinite(m)||h<m?h:m;let p=r[(d*Dl|0)+tf],g=r[(u*Dl|0)+tf];r[(c*Dl|0)+tf]=!Number.isFinite(g)||p>g?p:g}}this.buffer=r}computeRangeInto(t,i,e,n,r,a,o){let s=r+a-1;if(s<i||r>=e)return o;if(r>=i&&s<e){let l=t[(n*Dl|0)+ef],c=t[(n*Dl|0)+tf];Number.isFinite(l)&&(o[0]=Math.min(o[0],l)),Number.isFinite(c)&&(o[1]=Math.max(o[1],c))}else a>1&&(n=n*2|0,a=a/2|0,this.computeRangeInto(t,i,e,n+1|0,r,a,o),this.computeRangeInto(t,i,e,n+2|0,r+a,a,o));return o}rangeBetween(t,i){if(t>i)return[NaN,NaN];let{maxLevelSize:e,buffer:n}=this,r=[1/0,-1/0];return this.computeRangeInto(n,t,i,0,0,e,r),r}get range(){let{buffer:t}=this;return[t[ef],t[tf]]}};function Kue(t){if(t.length<=1)return 1;let i=0,e=t[0];for(let n=1;n<t.length;n++){let r=t[n];if(r==null)continue;if(typeof r.valueOf()!="number")return;let o=Math.sign(r-e);if(o!==0){if(i!==0&&i!==o)return;i=o}e=r}return i===0?1:i}var IH=Symbol("key-sort-orders"),kH=Symbol("column-sort-orders"),AH=Symbol("domain-ranges");function que(t){return t.map(i=>qt(i)?JSON.stringify(i):i).join("-")}function co(t){let i=t?.map(Number);return i?.every(Number.isFinite)?i:[]}function lW(t,i){return i?.get(t.id)??0}function Zue(t){return"scopes"in t&&Array.isArray(t.scopes)}function y1(t,i){let e=[];for(let n=0;n<t;n+=1)e[n]=i;return e}function Jw(t,i,e){let n=[];for(let r of t){let a=r.get(i)?.[e];if(a==null)return;n.push(a)}return n}function cW(t){let i=[],e=0,n,r=/((?:(?:^|\.)\s*\w+|\[\s*(?:'(?:[^']|(?<!\\)\\')*'|"(?:[^"]|(?<!\\)\\")*"|-?\d+)\s*\])\s*)/g;for(;n=r.exec(t);){if(n.index!==e)return;e=n.index+n[0].length;let a=n[1].trim();if(a.startsWith("."))i.push(a.slice(1).trim());else if(a.startsWith("[")){let o=a.slice(1,-1).trim();o.startsWith("'")?i.push(o.slice(1,-1).replace(/(?<!\\)\\'/g,"'")):o.startsWith('"')?i.push(o.slice(1,-1).replace(/(?<!\\)\\"/g,'"')):i.push(o)}else i.push(a)}if(e===t.length)return i}function Que(t){return i=>{let e=i;for(let n of t)e=e[n];return e}}var dW=class{constructor(t,i="standalone",e=!1){this.opts=t,this.mode=i,this.suppressFieldDotNotation=e,this.debug=yt.create(!0,"data-model"),this.scopeCache=new Map,this.keys=[],this.values=[],this.aggregates=[],this.groupProcessors=[],this.propertyProcessors=[],this.reducers=[],this.processors=[],this.markScopeDatumInvalid=function(s,l,c,d){for(let u of s)d.has(u)||d.set(u,y1(l.length,!1)),d.get(u)[c]=!0};let n=!0;for(let s of t.props){if(s.type==="key"&&!n)throw new Error("AG Charts - internal config error: keys must come before values.");s.type==="value"&&n&&(n=!1)}let r=({matchGroupIds:s=[]})=>{for(let l of s)if(this.values.every(c=>c.groupId!==l))throw new Error(`AG Charts - internal config error: matchGroupIds properties must match defined groups (${l}).`)},a=new Set,o=new Set;for(let s of t.props){let l=s.type==="key"?a:o;switch(Zue(s)&&s.scopes?.forEach(c=>l.add(c)),s.type){case"key":this.keys.push(S(f({},s),{index:this.keys.length,missing:new Map}));break;case"value":if(s.property==null)throw new Error(`AG Charts - internal config error: no properties specified for value definitions: ${JSON.stringify(s)}`);this.values.push(S(f({},s),{index:this.values.length,missing:new Map}));break;case"aggregate":r(s),this.aggregates.push(S(f({},s),{index:this.aggregates.length}));break;case"group-value-processor":r(s),this.groupProcessors.push(S(f({},s),{index:this.groupProcessors.length}));break;case"property-value-processor":this.propertyProcessors.push(S(f({},s),{index:this.propertyProcessors.length}));break;case"reducer":this.reducers.push(S(f({},s),{index:this.reducers.length}));break;case"processor":this.processors.push(S(f({},s),{index:this.processors.length}));break}}if(this.opts.groupByKeys||this.opts.groupByFn!=null){let s=new Set(o.values());if(a.forEach(l=>s.delete(l)),s.size>0)throw new Error(`AG Charts - scopes missing key for grouping, illegal configuration: ${[...s.values()]}`)}}resolveProcessedDataDefById(t,i){let e=this.scopeCache.get(t.id)?.get(i);if(!e)throw new Error(`AG Charts - didn't find property definition for [${i}, ${t.id}]`);return{index:e.index,def:e}}resolveProcessedDataIndexById(t,i){return this.resolveProcessedDataDefById(t,i).index}resolveKeysById(t,i,e){let n=this.resolveProcessedDataIndexById(t,i),r=e.keys[n];if(r==null)throw new Error(`AG Charts - didn't find keys for [${i}, ${t.id}]`);return r.get(t.id)}hasColumnById(t,i){return this.scopeCache.get(t.id)?.get(i)!=null}resolveColumnById(t,i,e){let n=this.resolveProcessedDataIndexById(t,i),r=e.columns?.[n];if(r==null)throw new Error(`AG Charts - didn't find column for [${i}, ${t.id}]`);return r}*forEachDatum(t,i,e){let n=i.columnScopes.findIndex(r=>r.has(t.id));for(let r of e.datumIndices[n]??[])yield i.columns[n][r]}*forEachGroupDatum(t,i){let e=i.columnScopes.findIndex(a=>a.has(t.id)),n={groupIndex:0,columnIndex:e},r=[];for(let a of i.groups){n.group=a;for(let o of a.datumIndices[e]??r)n.datumIndex=o,yield n;n.groupIndex++}}*forEachGroupDatumTuple(t,i){let n={columnIndex:i.columnScopes.findIndex(r=>r.has(t.id)),datumIndexes:[void 0,void 0,void 0]};for(let r of this.forEachGroupDatum(t,i))n.group=n.nextGroup,n.groupIndex=n.nextGroupIndex,n.nextGroup=r.group,n.nextGroupIndex=r.groupIndex,n.datumIndexes[0]=n.datumIndexes[1],n.datumIndexes[1]=n.datumIndexes[2],n.datumIndexes[2]=r.datumIndex,n.group!=null&&n.datumIndexes[1]!=null&&(yield n);n.group=n.nextGroup,n.groupIndex=n.nextGroupIndex,n.nextGroup=void 0,n.nextGroupIndex=void 0,n.datumIndexes[0]=n.datumIndexes[1],n.datumIndexes[1]=n.datumIndexes[2],n.datumIndexes[2]=void 0,n.group!=null&&n.datumIndexes[1]!=null&&(yield n)}getDomain(t,i,e,n){return this.getDomainsByType(e??"value",n)?.[this.resolveProcessedDataIndexById(t,i)]??[]}getDomainBetweenRange(t,i,[e,n],r){let a=i.map(c=>this.resolveProcessedDataIndexById(t,c)),o=a.join(":"),s=r[AH],l=s.get(o);if(l==null){let c=a.map(d=>r.columns[d]);l=new Yue(c),s.set(o,l)}return l.rangeBetween(e,n)}getSortOrder(t,i,e){let n=e.get(i);return n==null&&(n={sortOrder:Kue(t)},e.set(i,n)),n.sortOrder}getKeySortOrder(t,i,e){let n=this.resolveProcessedDataIndexById(t,i),r=e.keys[n]?.get(t.id);return r?this.getSortOrder(r,n,e[IH]):void 0}getColumnSortOrder(t,i,e){let n=this.resolveProcessedDataIndexById(t,i);return this.getSortOrder(e.columns[n],n,e[kH])}getDomainsByType(t,i){switch(t){case"key":return i.domain.keys;case"value":return i.domain.values;case"aggregate":return i.domain.aggValues;case"group-value-processor":return i.domain.groups;default:return null}}processData(t){let{opts:{groupByKeys:i,groupByFn:e},aggregates:n,groupProcessors:r,reducers:a,processors:o,propertyProcessors:s}=this,l=performance.now();if(i&&this.keys.length===0)return;let c=this.extractData(t);i?c=this.groupData(c):e&&(c=this.groupData(c,e(c))),r.length>0&&c.type==="grouped"&&this.postProcessGroups(c),n.length>0&&c.type==="ungrouped"?this.aggregateUngroupedData(c):n.length>0&&c.type==="grouped"&&this.aggregateGroupedData(c),s.length>0&&this.postProcessProperties(c),a.length>0&&this.reduceData(c),o.length>0&&this.postProcessData(c),this.warnDataMissingProperties(t);let d=performance.now();return c.time=d-l,this.debug.check()&&Xue(c),this.processScopeCache(),c}warnDataMissingProperties(t){if(t.size!==0)for(let i of Ed(this.keys,this.values))for(let[e,n]of i.missing){if(n<(t.get(e)?.length??1/0))continue;let r=e==null?"":` for ${e}`;z.warnOnce(`the key '${i.property}' was not found in any data element${r}.`)}}processScopeCache(){this.scopeCache.clear();for(let t of Ed(this.keys,this.values,this.aggregates))if(t.idsMap)for(let[i,e]of t.idsMap)for(let n of e)if(!this.scopeCache.has(i))this.scopeCache.set(i,new Map([[n,t]]));else{if(this.scopeCache.get(i)?.has(n))throw new Error("duplicate definition ids on the same scope are not allowed.");this.scopeCache.get(i).set(n,t)}}valueGroupIdxLookup({matchGroupIds:t}){let i=[];for(let[e,n]of this.values.entries())(!t||n.groupId&&t.includes(n.groupId))&&i.push(e);return i}valueIdxLookup(t,i){let e=t==null||t.length===0,n=typeof i=="string"?i:i.id,r=o=>{if(o.idsMap){for(let[s,l]of o.idsMap)if(t?.includes(s)&&l.has(n))return!0}return!1},a=this.values.reduce((o,s,l)=>((s.scopes==null||e&&!s.scopes.length||s.scopes.some(d=>t?.includes(d)))&&(s.property===n||s.id===n||r(s))&&o.push(l),o),[]);if(a.length===0)throw new Error(`AG Charts - configuration error, unknown property ${JSON.stringify(i)} in scope(s) ${JSON.stringify(t)}`);return a}extractData(t){let{dataDomain:i,processValue:e,allScopesHaveSameDefs:n}=this.initDataDomainProcessor(),{keys:r,values:a}=this,{invalidData:o,invalidKeys:s,invalidKeyCount:l,allKeyMappings:c}=this.extractKeys(r,t,e),{columns:d,columnScopes:u,partialValidDataCount:h,maxDataLength:m}=this.extractValues(o,a,t,s,e),p=g=>{let y=i.get(g),v=y.getDomain();return Ld.is(y)&&v[0]>v[1]?[]:v};return{type:"ungrouped",input:{count:m},scopes:new Set(t.keys()),dataSources:t,aggregation:void 0,keys:[...c.values()],columns:d,columnScopes:u,invalidKeys:s,invalidKeyCount:l,invalidData:o,domain:{keys:r.map(p),values:a.map(p)},defs:{allScopesHaveSameDefs:n,keys:r,values:a},partialValidDataCount:h,time:0,[AH]:new Map,[IH]:new Map,[kH]:new Map}}extractKeys(t,i,e){let n=new Map,r=new Map,a=new Map,o=new Map,s,l,c=(d,u)=>{let h=l.get(d);s.set(u,s.get(h)),n.has(h)&&(n.set(u,n.get(h)),r.set(u,r.get(h)))};for(let d of t){let{invalidValue:u,scopes:h}=d;s=new Map,l=new Map,o.set(d,s);for(let m of h??[]){let p=i.get(m)??[];if(l.has(p)){c(p,m);continue}let g=[];s.set(m,g),l.set(p,m);let y,v,x=0;for(let w=0;w<p.length;w++){if(p[w]==null||typeof p[w]!="object")continue;let D=e(d,p[w],w,m);if(D.valid){g.push(D.value);continue}g.push(u),y??(y=y1(p.length,!1)),v??(v=y1(p.length,!1)),x+=1,y[w]=!0,v[w]=!0}y&&v&&(n.set(m,y),r.set(m,v),a.set(m,x))}}return{invalidData:r,invalidKeys:n,invalidKeyCount:a,allKeyMappings:o}}extractValues(t,i,e,n,r){let a=0,o=[],s=[],l=0;for(let c of i){let{invalidValue:d}=c;if(new Set(c.scopes.map(v=>e.get(v))).size>1)throw new Error(`AG Charts - more than one data source for: ${JSON.stringify(c)}`);let h=new Set(c.scopes),m=Yp(c.scopes),p=e.get(m),g=new Array,y=n.get(m);for(let v=0;v<p.length;v++){if(p[v]==null||typeof p[v]!="object")continue;let x=p[v],w=y!=null?y[v]:!1,D=r(c,x,v,c.scopes),k=D.value;(w||!D.valid)&&this.markScopeDatumInvalid(c.scopes,p,v,t),w?k=d:D.valid||(a+=1,k=d),g[v]=k}o.push(g),s.push(h),l=Math.max(l,g.length)}return{columns:o,columnScopes:s,partialValidDataCount:a,maxDataLength:l}}groupData(t,i){var e;let{keys:n,columns:r,columnScopes:a,invalidKeys:o,invalidData:s}=t,l=t.scopes,c=[],d=[],u=new Set,h=l.size!==1||i!=null?new Map:void 0;for(let m of l){let p=r.map((D,k)=>k).filter(D=>!u.has(D)&&a[D].has(m));if(p.length===0)continue;for(let D of p)u.add(D);let g=new Set;for(let D of p)for(let k of a[D])g.add(k);let y=n.map(D=>D.get(m)).filter(D=>D!=null),v=r[Yp(p)],x=s?.get(m),w=o?.get(m);for(let D=0;D<v.length;D++){if(w?.[D]===!0)continue;let k=y.map(F=>F[D]);if(k==null||k.length===0)throw new Error("AG Charts - no keys found for scope: "+m);let E=i?.(k)??k,A=h!=null?que(E):void 0,N=h?.get(A);if(N==null&&(N={keys:E,datumIndices:[],aggregation:[],validScopes:l},h?.set(A,N),c.push(N.keys),d.push(N)),x?.[D]===!0){N.validScopes===l&&(N.validScopes=new Set(l.values()));for(let F of g)N.validScopes.delete(F)}for(let F of p)(e=N.datumIndices)[F]??(e[F]=[]),N.datumIndices[F].push(D)}}return S(f({},t),{type:"grouped",domain:S(f({},t.domain),{groups:c}),groups:d})}aggregateUngroupedData(t){let i=this.aggregates.map(()=>[1/0,-1/0]);t.domain.aggValues=i;let{keys:e,columns:n,dataSources:r}=t,a=Yp(r.keys()),o=r.get(a);t.aggregation=o?.map((s,l)=>{let c=[];for(let[d,u]of this.aggregates.entries()){let h=this.valueGroupIdxLookup(u),m=u.groupAggregateFunction?.()??[1/0,-1/0],p=h.map(x=>n[x][l]),g=Jw(e,a,l),y=g!=null?u.aggregateFunction(p,g):void 0;y&&(m=u.groupAggregateFunction?.(y,m)??Ld.extendDomain(y,m));let v=u.finalFunction?.(m)??m;c[d]=v,Ld.extendDomain(v,i[d])}return c})}aggregateGroupedData(t){let i=this.aggregates.map(()=>[1/0,-1/0]);t.domain.aggValues=i;let{columns:e}=t;for(let[n,r]of this.aggregates.entries()){let a=this.valueGroupIdxLookup(r);for(let o of t.groups){o.aggregation??(o.aggregation=[]);let s=o.keys,l=r.groupAggregateFunction?.()??[1/0,-1/0],c=Math.max(...a.map(u=>o.datumIndices[u]?.length??0));for(let u=0;u<c;u++){let h=a.map(p=>e[p][o.datumIndices[p]?.[u]]),m=r.aggregateFunction(h,s);m&&(l=r.groupAggregateFunction?.(m,l)??Ld.extendDomain(m,l))}let d=r.finalFunction?.(l)??l;o.aggregation[n]=d,Ld.extendDomain(d,i[n])}}}postProcessGroups(t){let{groupProcessors:i}=this,{columnScopes:e,columns:n,invalidData:r}=t;for(let a of i){let o=this.valueGroupIdxLookup(a),s=a.adjust()();for(let l of t.groups)s(n,o,l);for(let l of o){let d=this.values[l].valueType==="category",u=n[l],h=Yp(e[l]),m=r?.get(h),p=d?new MH:new Ld;for(let g=0;g<u.length;g+=1)m?.[g]!==!0&&p.extend(u[g]);t.domain.values[l]=p.getDomain()}}}postProcessProperties(t){for(let{adjust:i,property:e,scopes:n}of this.propertyProcessors)for(let r of this.valueIdxLookup(n,e))i()(t,r)}reduceData(t){t.reduced??(t.reduced={});let{dataSources:i,keys:e}=t;for(let n of this.reducers){let r=n.reducer(),a=n.initialValue;if(t.type==="grouped")for(let o of t.groups)a=r(a,o.keys);else{let o=Yp(i.keys()),s=e.map(d=>d.get(o)).filter(d=>d!=null),l=s.map(()=>{}),c=i.get(o);for(let d=0;d<c.length;d+=1){for(let u=0;u<l.length;u++)l[u]=s[u]?.[d];a=r(a,l)}}t.reduced[n.property]=a}}postProcessData(t){t.reduced??(t.reduced={});for(let i of this.processors)t.reduced[i.property]=i.calculate(t,t.reduced[i.property])}initDataDomainProcessor(){let{keys:t,values:i}=this,e=new Set;for(let d of i)if(d.scopes)for(let u of d.scopes)e.add(u);let n=new Map,r=new Map,a=!0,o=()=>{for(let d of Ed(t,i))d.valueType==="category"?n.set(d,new MH):(n.set(d,new Ld),a&&(a=(d.scopes?.length??0)===e.size))};o();let s=this.buildAccessors(Ed(t,i)),l={value:void 0,missing:!1,valid:!1};return{dataDomain:n,processValue:(d,u,h,m)=>{let p,g;if(s.has(d.property)){try{g=s.get(d.property)(u)}catch{}p=g!=null}else p=d.property in u,g=p?u[d.property]:d.missingValue;d.forceValue!=null&&(g=p&&Zp(g)?-1*d.forceValue:d.forceValue,p=!0),l.missing=!p;let y="missingValue"in d;if(!p&&!y)if(typeof m=="string"){let v=d.missing.get(m)??0;d.missing.set(m,v+1)}else for(let v of m){let x=d.missing.get(v)??0;d.missing.set(v,x+1)}if(n.has(d)||o(),p&&d.validation?.(g,u,h)===!1)if(l.valid=!1,"invalidValue"in d)g=d.invalidValue;else return this.mode!=="integrated"&&z.warnOnce(`invalid value of type [${typeof g}] for [${d.scopes} / ${d.id}] ignored:`,`[${g}]`),l.value=void 0,l;else l.valid=!0;if(d.processor){let v=r.get(d);v==null&&(v=d.processor(),r.set(d,v)),g=v(g,h)}return n.get(d)?.extend(g),l.value=g,l},initDataDomain:o,scopes:e,allScopesHaveSameDefs:a}}buildAccessors(t){let i=new Map;if(this.suppressFieldDotNotation)return i;for(let e of t){if(!(e.property.includes(".")||e.property.includes("[")))continue;let r=cW(e.property);if(r==null){z.warnOnce("Invalid property path [%s]",e.property);continue}let a=Que(r);i.set(e.property,a)}return i}};function Xue(t){let i=(e,n)=>{n.length>0&&(z.log(`DataModel.processData() - ${e}`),z.table(n))};z.log("DataModel.processData() - processedData",t),i("Key Domains",t.domain.keys),i("Group Domains",t.domain.groups??[]),i("Value Domains",t.domain.values),i("Aggregate Domains",t.domain.aggValues??[])}var Jue=(()=>{let t=class Sl{constructor(e,n){this.mode=e,this.suppressFieldDotNotation=n,this.debug=yt.create(!0,"data-model"),this.requested=[],this.status="setup"}request(e,n,r){return L(this,null,function*(){if(this.status!=="setup")throw new Error("AG Charts - data request after data setup phase.");return new Promise((a,o)=>{this.requested.push({id:e,opts:r,data:n,resolve:a,reject:o})})})}execute(e){if(this.status!=="setup")throw new Error("AG Charts - data request after data setup phase.");this.status="executed",this.debug("DataController.execute() - requested",this.requested);let n=this.validateRequests(this.requested);this.debug("DataController.execute() - validated",n);let r=this.mergeRequested(n);this.debug("DataController.execute() - merged",r),this.debug.check()&&(tt().processedData=[]);let a=[];for(let{data:o,ids:s,opts:l,resolves:c,rejects:d}of r){let u=e?.find(p=>$ue(p,o,s,l)),h,m;if(u==null)try{h=new dW(l,this.mode,this.suppressFieldDotNotation);let p=new Map(n.map(g=>[g.id,g.data]));m=h.processData(p)}catch(p){d.forEach(g=>g(p));continue}else({dataModel:h,processedData:m}=u);a.push({opts:l,data:o,ids:s,dataModel:h,processedData:m}),this.debug.check()&&tt("processedData").push(m),m?.partialValidDataCount===0?c.forEach(p=>p({dataModel:h,processedData:m})):m?this.splitResult(h,m,s,c):d.forEach(p=>p(new Error("AG Charts - no processed data generated")))}return a}validateRequests(e){let n=[];for(let[r,a]of e.entries())r>0&&a.data.length!==e[0].data.length&&a.opts.groupByData===!1&&a.opts.groupByKeys===!1?a.reject(new Error("all series[].data arrays must be of the same length and have matching keys.")):n.push(a);return n}mergeRequested(e){let n=[];for(let r of e){let a=n.find(Sl.groupMatch(r));a?a.push(r):n.push([r])}return n.map(Sl.mergeRequests)}splitResult(e,n,r,a){for(let o=0;o<r.length;o++){let s=a[o];s({dataModel:e,processedData:n})}}static groupMatch({data:e,opts:n}){function r(d){return d.filter(u=>u.type==="key").map(u=>u.property).join(";")}let{groupByData:a,groupByKeys:o=!1,groupByFn:s,props:l}=n,c=r(l);return([d])=>(a===!1||d.data===e)&&(d.opts.groupByKeys??!1)===o&&d.opts.groupByFn===s&&r(d.opts.props)===c}static mergeRequests(e){let n={ids:[],rejects:[],resolves:[],data:e[0].data,opts:S(f({},e[0].opts),{props:[]})},r=new Map,a=new Map,o=0;for(let c of e){let{id:d,data:u,resolve:h,reject:m,opts:s}=c,l=s,{props:p}=l,g=ci(l,["props"]);n.ids.push(d),n.rejects.push(m),n.resolves.push(h),n.data??(n.data=u),n.opts??(n.opts=S(f({},g),{props:[]}));for(let y of p){let v=S(f({},y),{scopes:[d],data:u});Sl.createIdsMap(d,v);let x;Sl.crossScopeMergableTypes.has(v.type)?x=-1:a.has(u)?x=a.get(u):(x=o++,a.set(u,x));let w=`${v.type}-${x}-${v.groupId}`,D=r.get(w),k=D?.find(E=>Sl.deepEqual(E,v));if(D==null){n.opts.props.push(v),r.set(w,[v]);continue}else if(k==null){n.opts.props.push(v),D.push(v);continue}v.scopes!=null&&(k.scopes??(k.scopes=[]),k.scopes.push(...v.scopes)),(k.type==="key"||k.type==="value")&&v.idsMap?.size&&(k.idsMap??(k.idsMap=new Map),Sl.mergeIdsMap(v.idsMap,k.idsMap))}}return n}static mergeIdsMap(e,n){for(let[r,a]of e){let o=n.get(r);if(o==null)n.set(r,new Set(a));else for(let s of a)o.add(s)}}static createIdsMap(e,n){n.id!=null&&(n.idsMap??(n.idsMap=new Map),n.idsMap.has(e)?n.idsMap.get(e).add(n.id):n.idsMap.set(e,new Set([n.id])))}static deepEqual(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;let r,a;if(Array.isArray(e)){if(a=e.length,a!==n.length)return!1;for(r=a-1;r>=0;r--)if(!Sl.deepEqual(e[r],n[r]))return!1;return!0}let o=Object.keys(e);if(a=o.length,a!==Object.keys(n).length)return!1;for(r=a-1;r>=0;r--){let s=o[r];if(!Sl.skipKeys.has(s)&&(!Object.hasOwn(n,s)||!Sl.deepEqual(e[s],n[s])))return!1}return!0}return!1}};return t.crossScopeMergableTypes=new Set(["key","group-value-processor"]),t.skipKeys=new Set(["id","idsMap","type","scopes","data"]),t})(),uW=Jue,ehe=class{constructor(){this.axesMap=new Map,this.themeTemplates=new Map}register(t,i){this.axesMap.set(t,i.moduleFactory),i.themeTemplate&&this.setThemeTemplate(t,i.themeTemplate)}create(t,i){let e=this.axesMap.get(t);if(e)return e(i);throw new Error(`AG Charts - unknown axis type: ${t}`)}has(t){return this.axesMap.has(t)}keys(){return this.axesMap.keys()}setThemeTemplate(t,i){return this.themeTemplates.set(t,i),this}getThemeTemplate(t){return this.themeTemplates.get(t)}},Ph=new ehe,Tv=[{type:"root",optionsKey:"animation",chartTypes:["cartesian","polar","topology","standalone"]},{type:"root",optionsKey:"annotations",chartTypes:["cartesian"]},{type:"root",optionsKey:"background",chartTypes:["cartesian","polar","topology","standalone"],optionsInnerKey:"image"},{type:"root",optionsKey:"foreground",chartTypes:["cartesian","polar","topology","standalone"],optionsInnerKey:"image"},{type:"root",optionsKey:"chartToolbar",chartTypes:["cartesian"]},{type:"root",optionsKey:"contextMenu",chartTypes:["cartesian","polar","topology","standalone"]},{type:"root",optionsKey:"statusBar",chartTypes:["cartesian"],identifier:"status-bar"},{type:"root",optionsKey:"dataSource",chartTypes:["cartesian","polar","topology","standalone"]},{type:"root",optionsKey:"sync",chartTypes:["cartesian"]},{type:"root",optionsKey:"zoom",chartTypes:["cartesian","topology"]},{type:"root",optionsKey:"ranges",chartTypes:["cartesian"]},{type:"legend",optionsKey:"gradientLegend",chartTypes:["cartesian","polar","topology","standalone"],identifier:"gradient"},{type:"root",optionsKey:"navigator",chartTypes:["cartesian"]},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"angle-category"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"angle-number"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"radius-category"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"radius-number"},{type:"axis",optionsKey:"axes[]",chartTypes:["cartesian"],identifier:"ordinal-time"},{type:"axis-option",optionsKey:"crosshair",chartTypes:["cartesian"]},{type:"axis-option",optionsKey:"bandHighlight",chartTypes:["cartesian"]},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"box-plot"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"candlestick"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"cone-funnel"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"funnel"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"ohlc"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"heatmap"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"range-area"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"range-bar"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"waterfall"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"nightingale"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radar-area"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radar-line"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radial-bar"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radial-column"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-shape"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-line"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-marker"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-shape-background"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-line-background"},{type:"series",optionsKey:"series[]",chartTypes:["standalone"],identifier:"pyramid"},{type:"series",optionsKey:"series[]",chartTypes:["standalone"],identifier:"linear-gauge"},{type:"series",optionsKey:"series[]",chartTypes:["standalone"],identifier:"radial-gauge"},{type:"series",optionsKey:"series[]",chartTypes:["standalone"],identifier:"sunburst"},{type:"series",optionsKey:"series[]",chartTypes:["standalone"],identifier:"treemap"},{type:"series",optionsKey:"series[]",chartTypes:["standalone"],identifier:"chord"},{type:"series",optionsKey:"series[]",chartTypes:["standalone"],identifier:"sankey"},{type:"series-option",optionsKey:"errorBar",chartTypes:["cartesian"],identifier:"error-bars"},{type:"context",contextKey:"sharedToolbar",chartTypes:["cartesian"]}];function PD(t){return Tv.find(i=>i.type==="series"&&i.identifier===t)?.chartTypes}function the(t){return PD(t)?.find(e=>e==="cartesian")==="cartesian"}function ihe(t){return PD(t)?.find(e=>e==="polar")==="polar"}function nhe(t){return PD(t)?.find(e=>e==="topology")==="topology"}function rhe(t){return PD(t)?.find(e=>e==="standalone")==="standalone"}function ahe(t){return t.packageType==="enterprise"}function ohe(t){if(!ahe(t))throw new Error("AG Charts - internal configuration error, only enterprise modules need verification.");let i=Tv.find(e=>e.type===t.type&&("optionsKey"in e&&"optionsKey"in t?e.optionsKey===t.optionsKey:!0)&&("contextKey"in e&&"contextKey"in t?e.contextKey===t.contextKey:!0)&&e.identifier===t.identifier&&t.chartTypes.every(n=>e.chartTypes.includes(n)));return i&&(i.useCount??(i.useCount=0),i.useCount++),i!=null}function she(){return Tv.filter(({useCount:t})=>t==null||t===0)}var lhe=class{constructor(){this.legendMap=new Map,this.themeTemplates=new Map}register(t,{optionsKey:i,moduleFactory:e,themeTemplate:n}){this.legendMap.set(t,{optionsKey:i,moduleFactory:e}),this.themeTemplates.set(i,n)}create(t,i){let e=this.legendMap.get(t)?.moduleFactory;if(e)return e(i);throw new Error(`AG Charts - unknown legend type: ${t}`)}getThemeTemplates(){return Object.fromEntries(this.themeTemplates)}getKeys(){return Array.from(this.legendMap.entries()).reduce((t,[i,e])=>(t[i]=e.optionsKey,t),{})}},uO=new lhe,hW=class extends Map{get(t){return super.get(t)??"unknown"}isCartesian(t){return this.get(t)==="cartesian"}isPolar(t){return this.get(t)==="polar"}isTopology(t){return this.get(t)==="topology"}isStandalone(t){return this.get(t)==="standalone"}get seriesTypes(){return Array.from(this.keys())}get cartesianTypes(){return this.seriesTypes.filter(t=>this.isCartesian(t))}get polarTypes(){return this.seriesTypes.filter(t=>this.isPolar(t))}get topologyTypes(){return this.seriesTypes.filter(t=>this.isTopology(t))}get standaloneTypes(){return this.seriesTypes.filter(t=>this.isStandalone(t))}},che=class extends Map{set(t,i){return super.set(t,Jt(i,this.get(t)))}},Jn=new hW,dhe=new hW,aR=new che,uhe=class{constructor(){this.seriesMap=new Map,this.themeTemplates=new Map}register(t,{chartTypes:[i],moduleFactory:e,defaultAxes:n,themeTemplate:r,solo:a,stackable:o,groupable:s,stackedByDefault:l,hidden:c}){this.setThemeTemplate(t,r),this.seriesMap.set(t,{moduleFactory:e,defaultAxes:n,solo:a,stackable:o,groupable:s,stackedByDefault:l}),Jn.set(t,i),c||dhe.set(t,i)}create(t,i){let e=this.seriesMap.get(t)?.moduleFactory;if(e)return e(i);throw new Error(`AG Charts - unknown series type: ${t}`)}cloneDefaultAxes(t){let i=this.seriesMap.get(t)?.defaultAxes;return i==null?null:{axes:Zi(i)}}setThemeTemplate(t,i){let e=this.themeTemplates.get(t);this.themeTemplates.set(t,Jt(i,e))}getThemeTemplate(t){return this.themeTemplates.get(t)}isSolo(t){return this.seriesMap.get(t)?.solo??!1}isGroupable(t){return this.seriesMap.get(t)?.groupable??!1}isStackable(t){return this.seriesMap.get(t)?.stackable??!1}isStackedByDefault(t){return this.seriesMap.get(t)?.stackedByDefault??!1}},As=new uhe,hO=class bc{constructor(i){this.chart=i}subscribe(i=bc.DEFAULT_GROUP){let e=this.get(i);return e||(e={members:new Set},bc.chartsGroups.set(i,e)),e.members.add(this.chart),this}unsubscribe(i=bc.DEFAULT_GROUP){let e=this.get(i);return e?.members.delete(this.chart),delete e?.domains?.x?.sources?.[this.chart.id],delete e?.domains?.y?.sources?.[this.chart.id],this}getChart(){return this.chart}getGroupState(i=bc.DEFAULT_GROUP){return this.get(i)}getGroupMembers(i=bc.DEFAULT_GROUP){let e=this.get(i);return e?Array.from(e.members):[]}getGroupSiblings(i=bc.DEFAULT_GROUP){return this.getGroupMembers(i).filter(e=>e!==this.chart)}getGroupSyncMode(i=bc.DEFAULT_GROUP){return this.getGroupMembers(i).some(e=>e.series.length>1)?"multi-series":"single-series"}get(i){return bc.chartsGroups.get(i)}};hO.chartsGroups=new Map;hO.DEFAULT_GROUP=Symbol("sync-group-default");var hhe=hO,mO=class extends nt{constructor(){super(...arguments),this.enabled=!1}};b([C],mO.prototype,"enabled",2);b([C],mO.prototype,"tabIndex",2);var mW={};Nl(mW,{NODE_UPDATE_STATE_TO_PHASE_MAPPING:()=>Ts,fromToMotion:()=>Tn,staticFromToMotion:()=>Nc});var Ts={added:"add",updated:"update",removed:"remove",unknown:"initial","no-op":"none"};function Tn(t,i,e,n,r,a,o){let{fromFn:s,toFn:l,applyFn:c=(p,g)=>p.setProperties(g)}=r,{nodes:d,selections:u}=ND(n),h=(p,g)=>{let y,v=0,x=0;for(let k of g){let E=p[v]===k,A={last:x>=g.length-1,lastLive:v>=p.length-1,prev:g[x-1],prevFromProps:y,prevLive:p[v-1],next:g[x+1],nextLive:p[v+(E?1:0)]},N=`${t}_${i}_${k.id}`;e.stopByAnimationId(N);let F="unknown";E?a&&o&&(F=mhe(k,k.datum,a,o)):F="removed",k.transitionOut=F==="removed";let w=s(k,k.datum,F,A),{phase:P,start:U,finish:H,delay:q,duration:he}=w,ne=ci(w,["phase","start","finish","delay","duration"]),D=l(k,k.datum,F,A),{phase:Oe,start:st,finish:Ct,delay:Zt,duration:Xt}=D,vt=ci(D,["phase","start","finish","delay","duration"]),Ge=H==null;e.animate({id:N,groupId:t,phase:P??Oe??"update",duration:he??Xt,delay:q??Zt,from:ne,to:vt,ease:av,collapsable:Ge,onPlay:()=>{let We=f(f(f({},U),st),ne);c(k,We,"start")},onUpdate(We){c(k,We,"update")},onStop:()=>{let We=f(f(f(f(f(f({},U),st),ne),vt),H),Ct);c(k,We,"end")}}),E&&v++,x++,y=ne}},m=0;for(let p of u){let g=p.nodes(),y=g.filter(v=>!p.isGarbage(v));h(y,g),e.animate({id:`${t}_${i}_selection_${m}`,groupId:t,phase:"end",from:0,to:1,ease:av,onStop(){p.cleanup()}}),m++}h(d,d)}function Nc(t,i,e,n,r,a,o){let{nodes:s,selections:l}=ND(n),{start:c,finish:d,phase:u}=o;e.animate({id:`${t}_${i}`,groupId:t,phase:u??"update",from:r,to:a,ease:av,onPlay:()=>{if(c){for(let h of s)h.setProperties(c);for(let h of l)for(let m of h.nodes())m.setProperties(c)}},onUpdate(h){for(let m of s)m.setProperties(h);for(let m of l)for(let p of m.nodes())p.setProperties(h)},onStop:()=>{for(let h of s)h.setProperties(f(f({},a),d));for(let h of l){for(let m of h.nodes())m.setProperties(f(f({},a),d));h.cleanup()}}})}function mhe(t,i,e,n){let r=e(t,i);return n.added.has(r)?"added":n.removed.has(r)?"removed":t.previousDatum==null&&t.datum!=null?"added":t.previousDatum!=null&&t.datum==null?"removed":"updated"}var pW={};Nl(pW,{resetMotion:()=>Er});function Er(t,i){let{nodes:e,selections:n}=ND(t);for(let r of n){for(let a of r.nodes()){let o=i(a,a.datum);a.setProperties(o)}r.cleanup()}for(let r of e){let a=i(r,r.datum);r.setProperties(a)}}var qr=class Eh{constructor(i,e,n=!0){this.parentNode=i,this.autoCleanup=n,this.garbageBin=new Set,this._nodesMap=new Map,this._nodes=[],this.data=[],this.debug=yt.create(!0,"scene","scene:selections"),this.nodeFactory=Object.prototype.isPrototypeOf.call(kc,e)?()=>new e:e}static select(i,e,n=!0){return new Eh(i,e,n)}static selectAll(i,e){let n=[],r=a=>{if(e(a)&&n.push(a),a instanceof mt)for(let o of a.children())r(o)};return r(i),n}static selectByClass(i,...e){return Eh.selectAll(i,n=>e.some(r=>n instanceof r))}static selectByTag(i,e){return Eh.selectAll(i,n=>n.tag===e)}createNode(i,e,n){let r=this.nodeFactory(i);return r.datum=i,e?.(r),n==null?this._nodes.push(r):this._nodes.splice(n,0,r),this.parentNode.appendChild(r),r}update(i,e,n){if(this.garbageBin.size>0&&this.debug("Selection - update() called with pending garbage",i),n){let r=new Map,a=new Map;for(let o=0;o<i.length;o++){let s=i[o],l=n(s);if(r.has(l)){let c=(a.get(l)??0)+1;a.set(l,c),l=`${l}:${c}`}r.set(l,o)}for(let[o,s]of this._nodesMap.entries()){let l=r.get(s);l==null?this.garbageBin.add(o):(o.datum=i[l],this.garbageBin.delete(o),r.delete(s))}for(let[o,s]of r.entries()){let l=i[s];this._nodesMap.set(this.createNode(l,e,s),o)}}else{let r=Math.max(i.length,this.data.length);for(let a=0;a<r;a++)a>=i.length?this.garbageBin.add(this._nodes[a]):a>=this._nodes.length?this.createNode(i[a],e):(this._nodes[a].datum=i[a],this.garbageBin.delete(this._nodes[a]))}return this.data=i.slice(),this.autoCleanup&&this.cleanup(),this}cleanup(){return this.garbageBin.size===0?this:(this._nodes=this._nodes.filter(i=>this.garbageBin.has(i)?(this._nodesMap.delete(i),this.garbageBin.delete(i),i.destroy(),!1):!0),this)}clear(){return this.update([]),this}isGarbage(i){return this.garbageBin.has(i)}each(i){for(let e of this._nodes.entries())i(e[1],e[1].datum,e[0]);return this}*[Symbol.iterator](){for(let i=0;i<this._nodes.length;i++){let e=this._nodes[i];yield{node:e,datum:e.datum,index:i}}}select(i){return Eh.selectAll(this.parentNode,i)}selectByClass(i){return Eh.selectByClass(this.parentNode,i)}selectByTag(i){return Eh.selectByTag(this.parentNode,i)}nodes(){return this._nodes}at(i){return this._nodes.at(i)}get length(){return this._nodes.length}},Vo=(()=>{let t=class extends Sn{constructor(i={}){super(i),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.fill=void 0,this.strokeWidth=1}set x(i){this.x1=i,this.x2=i}set y(i){this.y1=i,this.y2=i}get midPoint(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}}computeBBox(){return new we(Math.min(this.x1,this.x2),Math.min(this.y1,this.y2),Math.abs(this.x2-this.x1),Math.abs(this.y2-this.y1))}isPointInPath(i,e){return this.x1===this.x2||this.y1===this.y2?this.getBBox().clone().grow(this.strokeWidth/2).containsPoint(i,e):!1}distanceSquared(i,e){let{x1:n,y1:r,x2:a,y2:o}=this;return Kw(i,e,n,r,a,o,1/0)}render(i){let{ctx:e,devicePixelRatio:n}=i,{x1:r,y1:a,x2:o,y2:s}=this;if(r===o){let{strokeWidth:l}=this,c=Math.round(r*n)/n+Math.trunc(l*n)%2/(n*2);r=c,o=c}else if(a===s){let{strokeWidth:l}=this,c=Math.round(a*n)/n+Math.trunc(l*n)%2/(n*2);a=c,s=c}e.beginPath(),e.moveTo(r,a),e.lineTo(o,s),this.fillStroke(e),this.fillShadow?.markClean(),super.render(i)}toSVG(){if(!this.visible)return;let i=Qt("line");return i.setAttribute("x1",String(this.x1)),i.setAttribute("y1",String(this.y1)),i.setAttribute("x2",String(this.x2)),i.setAttribute("y2",String(this.y2)),this.applySvgStrokeAttributes(i),{elements:[i]}}};return t.className="Line",t})();b([te()],Vo.prototype,"x1",2);b([te()],Vo.prototype,"y1",2);b([te()],Vo.prototype,"x2",2);b([te()],Vo.prototype,"y2",2);var v1="color: green",_1="color: grey";function phe(){return z5(()=>{})}function oR(t,i){let e=Ud(i);if(e.length===0)return;let n=j5(t);for(let r of e)r in n&&(i[r]=n[r])}var fW=class{transitionRoot(t,i){this.parent?this.parent.transitionRoot(t,i):this.transition(t,i)}},fhe=(()=>{let t=class Fa extends fW{constructor(e,n,r){super(),this.defaultState=e,this.states=n,this.enterEach=r,this.debug=yt.create(!0,"animation"),this.state=e,this.debug(`%c${this.constructor.name} | init -> ${e}`,v1)}transition(e,n){if(!this.transitionChild(e,n)||this.state===Fa.child||this.state===Fa.parent)return;let a=this.state,o=this.states[this.state],s=o[e],l=`%c${this.constructor.name} | ${this.state} -> ${e} ->`;if(Array.isArray(s))s=s.find(u=>{if(!u.guard)return!0;let h=u.guard(n);return h||this.debug(`${l} (guarded)`,u.target,_1),h});else if(typeof s=="object"&&!(s instanceof Fa)&&s.guard&&!s.guard(n)){this.debug(`${l} (guarded)`,s.target,_1);return}if(!s){this.debug(`${l} ${this.state}`,_1);return}let c=this.getDestinationState(s),d=c===this.state?void 0:o.onExit;this.debug(`${l} ${c}`,v1),this.state=c,typeof s=="function"?s(n):typeof s=="object"&&!(s instanceof Fa)&&s.action?.(n),d?.(),this.enterEach?.(a,c),c!==a&&c!==Fa.child&&c!==Fa.parent&&this.states[c].onEnter?.(a,n)}transitionAsync(e,n){setTimeout(()=>{this.transition(e,n)},0)}is(e){return this.state===Fa.child&&this.childState?this.childState.is(e):this.state===e}resetHierarchy(){this.debug(`%c${this.constructor.name} | ${this.state} -> [resetHierarchy] -> ${this.defaultState}`,"color: green"),this.state=this.defaultState}transitionChild(e,n){return this.state!==Fa.child||!this.childState||(oR(this,this.childState),this.childState.transition(e,n),!this.childState.is(Fa.parent))?!0:(this.debug(`%c${this.constructor.name} | ${this.state} -> ${e} -> ${this.defaultState}`,v1),this.state=this.defaultState,this.states[this.state].onEnter?.(),this.childState.resetHierarchy(),!1)}getDestinationState(e){let n=this.state;return typeof e=="string"?n=e:e instanceof Fa?(this.childState=e,this.childState.parent=this,n=Fa.child):typeof e=="object"&&(e.target instanceof Fa?(this.childState=e.target,this.childState.parent=this,n=Fa.child):e.target!=null&&(n=e.target)),n}};return t.child="__child",t.parent="__parent",t})(),Rv=fhe,ghe=class extends fW{constructor(...t){super(),this.stateMachines=t;for(let i of t)i.parent=this}transition(t,i){for(let e of this.stateMachines)oR(this,e),e.transition(t,i)}transitionAsync(t,i){for(let e of this.stateMachines)oR(this,e),e.transitionAsync(t,i)}},xf=1e3,Vd=xf*60,Fh=Vd*60,Hh=Fh*24,gW=Hh*7,pO=Hh*30,cv=Hh*365,nf=new Date().getTimezoneOffset()*Vd,Ov={millisecond:{milliseconds:1,hierarchy:"day",encode(t){return t.getTime()},decode(t){return new Date(t)}},second:{milliseconds:xf,hierarchy:"day",encode(t,i){let e=i?0:nf;return Math.floor((t.getTime()-e)/xf)},decode(t,i){let e=i?0:nf;return new Date(e+t*xf)}},minute:{milliseconds:Vd,hierarchy:"day",encode(t,i){let e=i?0:nf;return Math.floor((t.getTime()-e)/Vd)},decode(t,i){let e=i?0:nf;return new Date(e+t*Vd)}},hour:{milliseconds:Fh,hierarchy:"day",encode(t,i){let e=i?0:nf;return Math.floor((t.getTime()-e)/Fh)},decode(t,i){let e=i?0:nf;return new Date(e+t*Fh)}},day:{milliseconds:Hh,hierarchy:"month",encode(t,i){let e=i?0:t.getTimezoneOffset()*Vd;return Math.floor((t.getTime()-e)/Hh)},decode(t,i){let e;return i?(e=new Date(0),e.setUTCDate(e.getUTCDate()+t),e.setUTCHours(0,0,0,0)):(e=new Date(1970,0,1),e.setDate(e.getDate()+t)),e}},month:{milliseconds:pO,hierarchy:"year",encode(t,i){return i?t.getUTCFullYear()*12+t.getUTCMonth():t.getFullYear()*12+t.getMonth()},decode(t,i){if(i){let e=Math.floor(t/12),n=t-e*12;return new Date(Date.UTC(e,n,1))}else{let e=Math.floor(t/12),n=t-e*12;return new Date(e,n,1)}}},year:{milliseconds:cv,hierarchy:void 0,encode(t,i){return i?t.getUTCFullYear():t.getFullYear()},decode(t,i){let e;return i?(e=new Date,e.setUTCFullYear(t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)):e=new Date(t,0,1,0,0,0,0),e}}};function Lv(t){return typeof t=="string"?{unit:t,step:1,epoch:void 0,utc:!1}:{unit:t.unit,step:t.step??1,epoch:t.epoch,utc:t.utc??!1}}function Nv(t,i,e,n){if(e==null)return 0;let r=Ov[t];return Math.floor(r.encode(new Date(e),n))%i}function Lf(t,i,e,n,r){let a=Ov[i];return Math.floor((a.encode(new Date(t),n)-r)/e)}function Pv(t,i,e,n,r){return Ov[i].decode(t*e+r,n)}function eD(t,i,e,n,r){let a=new Date(t),o=Lf(a,i,e,n,r);return Pv(o,i,e,n,r)}function tD(t,i,e,n,r){let a=new Date(Number(t)-1),o=Lf(a,i,e,n,r);return Pv(o+1,i,e,n,r)}function Lo(t,i){let{unit:e,step:n,epoch:r,utc:a}=Lv(t),o=Nv(e,n,r,a);return eD(i,e,n,a,o)}function bW(t,i){let{unit:e,step:n,epoch:r,utc:a}=Lv(t),o=Nv(e,n,r,a);return tD(i,e,n,a,o)}function yW(t,i){let{unit:e,step:n,epoch:r,utc:a}=Lv(t),o=Nv(e,n,r,a);return Pv(Lf(tD(i,e,n,a,o),e,n,a,o)-1,e,n,a,o)}function vW(t,i){let{unit:e,step:n,epoch:r,utc:a}=Lv(t),o=Nv(e,n,r,a);return Pv(Lf(eD(i,e,n,a,o),e,n,a,o)+1,e,n,a,o)}function fO(t,i,e){if(t.valueOf()>i.valueOf()&&([t,i]=[i,t],e!=null&&(e=[1-e[1],1-e[0]])),e!=null){let n=i.valueOf()-t.valueOf(),r=t.valueOf();t=new Date(r+e[0]*n),i=new Date(r+e[1]*n)}return[new Date(t),new Date(i)]}function iD(t,i,e,{extend:n=!1,visibleRange:r=[0,1],limit:a,defaultAlignment:o="start"}={}){let s=Lv(t),{unit:l,step:c,utc:d}=s,u;s.epoch!=null?u=s.epoch:o==="interval"?u=void 0:i.valueOf()>e.valueOf()?u=e:u=i;let h=Nv(s.unit,s.step,u,s.utc),[m,p]=fO(i,e,r);m=n?eD(m,l,c,d,h):tD(m,l,c,d,h),p=n?tD(p,l,c,d,h):eD(p,l,c,d,h);let g=Lf(m,l,c,d,h),y=Lf(p,l,c,d,h);return a!=null&&y-g>a&&(y=g+a),{range:[g,y],unit:l,step:c,utc:d,offset:h}}function gO(t,i,e,n){let{range:[r,a]}=iD(t,i,e,n);return Math.abs(a-r)}function jo(t,i,e,n){let{range:[r,a],unit:o,step:s,utc:l,offset:c}=iD(t,i,e,n),d=[];for(let u=r;u<=a;u+=1){let h=Pv(u,o,s,l,c);d.push(h)}return d}function FD(t,i,e,{extend:n,visibleRange:r,limit:a,defaultAlignment:o}={}){let{range:[s]}=iD(t,i,e,{extend:n,visibleRange:r,limit:a,defaultAlignment:o}),{range:[l]}=iD(t,i,e,{extend:n,limit:a,defaultAlignment:o});return s-l}function Rl(t){return typeof t=="string"?t:t.unit}function Zd(t){return typeof t=="string"?1:t.step??1}function dv(t){return typeof t=="string"?void 0:t.epoch}function uv(t){return Ov[Rl(t)].hierarchy}function ya(t){return Zd(t)*Ov[Rl(t)].milliseconds}var $h=class{constructor(){this.enabled=!0}};b([C],$h.prototype,"enabled",2);b([C],$h.prototype,"stroke",2);b([C],$h.prototype,"strokeWidth",2);b([C],$h.prototype,"strokeOpacity",2);var sn=class extends nt{constructor(){super(...arguments),this.enabled=!0,this.border=new $h,this._cachedFormatter=void 0}formatValue(t,i,e,n){let{formatter:r,format:a}=this,o;if(r!=null&&(o??(o=t(r,n))),a!=null){let s=this._cachedFormatter;(s==null||s.type!==i||s.format!==a)&&(s={type:i,format:a,formatter:Rf.getFormatter(i,a)},this._cachedFormatter=s),o??(o=s.formatter?.(e))}return o!=null?String(o):void 0}};b([C],sn.prototype,"enabled",2);b([C],sn.prototype,"border",2);b([C],sn.prototype,"color",2);b([C],sn.prototype,"cornerRadius",2);b([C],sn.prototype,"fill",2);b([C],sn.prototype,"fillOpacity",2);b([C],sn.prototype,"fontStyle",2);b([C],sn.prototype,"fontWeight",2);b([C],sn.prototype,"fontSize",2);b([C],sn.prototype,"fontFamily",2);b([C],sn.prototype,"formatter",2);b([C],sn.prototype,"format",2);b([C],sn.prototype,"padding",2);b([C],sn.prototype,"itemStyler",2);function Nf(t){let{enabled:i=!1,stroke:e}=t?.border??{},r=t?.fill!=null||i&&e!=null?t?.padding:null;if(r==null)return{bottom:0,left:0,right:0,top:0};if(typeof r=="number")return{bottom:r,left:r,right:r,top:r};{let{bottom:a=0,left:o=0,right:s=0,top:l=0}=r;return{bottom:a,left:o,right:s,top:l}}}function bhe(t,i,e=0,n=0){let r=Ac(t),a=!r&&n>=0&&n<=Math.PI?-1:1,o=!r&&e>=0&&e<=Math.PI?-1:1,s=0;return i?s=a*Math.PI/2:o===-1&&(s=Math.PI),{configuredRotation:r,defaultRotation:s,parallelFlipFlag:a,regularFlipFlag:o}}function yhe(t,i){return t??(i?0:10)}function vhe(t,i,e,n){return t&&!i?e*n===-1?"top":"bottom":"middle"}function _he(t,i,e,n,r){let a=i>0&&i<=Math.PI,o=e>0&&e<=Math.PI,s=a||o?-1:1;if(t)if(i||e){if(n*s===-1)return"end"}else return"center";else if(n*r===-1)return"end";return"start"}function sR(t,i){if(t!=null){if(typeof t=="string")return t;if(bt(t)&&i!=null)return t[Rl(i)]}}function xhe(t,i,e,n,r){let a=sR(t.format,n)??(typeof t.format=="string"?t.format:void 0);if(a==null)return{width:0,height:0};let o=Uh(a),s=n?uv(n):void 0,l=sR(i?.format,s),c=l?Uh(l):o,d=new Date(e[0]),u=new Date(e[e.length-1]),h=s?jo(s,new Date(e[0]),new Date(e[e.length-1]),{extend:!0}):void 0,m=0,p=0;if(o!=null){let g=Nf(t),y=g.left+g.right,v=g.top+g.bottom,x,w;h!=null&&h.length>1?(x=h[0],w=h[1]):(x=d,w=u);let D=jo(n,x,w,{limit:50});for(let k of D){let E=o(k),{width:A,height:N}=r.measureLines(E);m=Math.max(m,A+y),p=Math.max(p,N+v)}}if(c!=null&&h!=null){let g=Nf(i),y=g.left+g.right,v=g.top+g.bottom;for(let x of h){let w=c(x),{width:D,height:k}=r.measureLines(w);m=Math.max(m,D+y),p=Math.max(p,k+v)}}return{width:Math.ceil(m),height:Math.ceil(p)}}function Che(t,i,e,n,r){let a=Nf(r),o=a.left+a.right,s=a.top+a.bottom,l=[];for(let{tickLabel:c,translation:d}of t){if(!c)continue;let{x:u,y:h}=e.transformBBox(new we(i,d,0,0)),m=n.measureLines(c),p=m.width+o,g=m.height+s;l.push({point:{x:u,y:h},label:{text:c,width:p,height:g}})}return l}function whe({width:t,height:i,spacing:e},n,r){let a=[];for(let o of[0,e]){let{x:s,y:l}=r.transformBBox(new we(n,o,0,0));a.push({point:{x:s,y:l},label:{text:void 0,width:t,height:i}})}return a}var bO=class{constructor(){this.moduleMap=new Map}*modules(){for(let t of this.moduleMap.values())yield t.moduleInstance}addModule(t,i){if(this.moduleMap.has(t.optionsKey))throw new Error(`AG Charts - module already initialised: ${t.optionsKey}`);this.moduleMap.set(t.optionsKey,{module:t,moduleInstance:i(t)})}removeModule(t){let i=Gi(t)?t:t.optionsKey;this.moduleMap.get(i)?.moduleInstance.destroy(),this.moduleMap.delete(i)}getModule(t){return this.moduleMap.get(Gi(t)?t:t.optionsKey)?.moduleInstance}isEnabled(t){return this.moduleMap.has(Gi(t)?t:t.optionsKey)}mapModules(t){return Array.from(this.moduleMap.values(),(i,e)=>t(i.moduleInstance,e))}destroy(){for(let t of this.moduleMap.keys())this.moduleMap.get(t)?.moduleInstance.destroy();this.moduleMap.clear()}},Pc=(()=>{let t=class extends Sn{constructor(i={}){super(i),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.startLine=!1,this.endLine=!1,this.horizontal=!1,this.strokeWidth=1}computeBBox(){return new we(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)}isPointInPath(i,e){return!1}render(i){let{ctx:e}=i,{x1:n,y1:r,x2:a,y2:o}=this;n=this.align(n),r=this.align(r),a=this.align(a),o=this.align(o);let{fill:s,horizontal:l}=this,{globalAlpha:c}=e;s!=null&&(this.applyFillAndAlpha(e),e.beginPath(),e.moveTo(n,r),e.lineTo(a,r),e.lineTo(a,o),e.lineTo(n,o),e.closePath(),e.fill(),e.globalAlpha=c);let{stroke:d,strokeWidth:u,startLine:h,endLine:m}=this;if(!!((h||m)&&d&&u)){let{lineDash:g,lineDashOffset:y,lineCap:v,lineJoin:x}=this;this.applyStrokeAndAlpha(e),e.lineWidth=u,g&&e.setLineDash([...g]),y&&(e.lineDashOffset=y),v&&(e.lineCap=v),x&&(e.lineJoin=x),e.beginPath(),h&&(e.moveTo(n,r),l?e.lineTo(n,o):e.lineTo(a,r)),m&&(e.moveTo(a,o),l?e.lineTo(a,r):e.lineTo(n,o)),e.stroke(),e.globalAlpha=c}this.fillShadow?.markClean(),super.render(i)}};return t.className="Range",t})();b([te()],Pc.prototype,"x1",2);b([te()],Pc.prototype,"y1",2);b([te()],Pc.prototype,"x2",2);b([te()],Pc.prototype,"y2",2);b([te()],Pc.prototype,"startLine",2);b([te()],Pc.prototype,"endLine",2);b([te()],Pc.prototype,"horizontal",2);function Dhe(t){return t!=null&&Object.hasOwn(t,"toString")&&Gi(t.toString())}function She(t){return t!=null&&Object.hasOwn(t,"valueOf")&&Tt(t.valueOf())}function VD(t){return Tt(t)||iw(t)||She(t)}function Mhe(t,i){return t!=null&&(!i||VD(t))}function lR(t){return Dhe(t)&&Object.hasOwn(t,"id")?t.id:t}function _W(t){switch(t.type){case"line":return t.value;case"range":return t.range}}function xW(t,i){let e=_W(t);if(e==null)return!1;let n=Di.is(i)||Rs.is(i),r=a=>Mhe(a,n)&&!isNaN(i.convert(a,{clamp:!0}));if(t.type==="range"){let[a,o]=e;return r(a)&&r(o)}else return r(e)}var Ihe={top:{rangeH:0,rangeV:-1,labelH:0,labelV:1},"inside-top":{rangeH:0,rangeV:-1,labelH:0,labelV:1},"top-left":{rangeH:-1,rangeV:-1,labelH:-1,labelV:1},"inside-top-left":{rangeH:-1,rangeV:-1,labelH:-1,labelV:1},left:{rangeH:-1,rangeV:0,labelH:1,labelV:0},"inside-left":{rangeH:-1,rangeV:0,labelH:-1,labelV:0},"bottom-left":{rangeH:-1,rangeV:1,labelH:-1,labelV:-1},"inside-bottom-left":{rangeH:-1,rangeV:1,labelH:-1,labelV:-1},bottom:{rangeH:0,rangeV:1,labelH:0,labelV:-1},"inside-bottom":{rangeH:0,rangeV:1,labelH:0,labelV:-1},"bottom-right":{rangeH:1,rangeV:1,labelH:1,labelV:-1},"inside-bottom-right":{rangeH:1,rangeV:1,labelH:1,labelV:-1},right:{rangeH:1,rangeV:0,labelH:-1,labelV:0},"inside-right":{rangeH:1,rangeV:0,labelH:1,labelV:0},"top-right":{rangeH:1,rangeV:-1,labelH:1,labelV:1},"inside-top-right":{rangeH:1,rangeV:-1,labelH:1,labelV:1},inside:{rangeH:0,rangeV:0,labelH:0,labelV:0}},khe={top:{rangeH:0,rangeV:-1,labelH:0,labelV:1},"inside-top":{rangeH:0,rangeV:-1,labelH:0,labelV:-1},"top-left":{rangeH:-1,rangeV:-1,labelH:1,labelV:-1},"inside-top-left":{rangeH:-1,rangeV:-1,labelH:1,labelV:-1},left:{rangeH:-1,rangeV:0,labelH:1,labelV:0},"inside-left":{rangeH:-1,rangeV:0,labelH:1,labelV:0},"bottom-left":{rangeH:-1,rangeV:1,labelH:1,labelV:1},"inside-bottom-left":{rangeH:-1,rangeV:1,labelH:1,labelV:1},bottom:{rangeH:0,rangeV:1,labelH:0,labelV:-1},"inside-bottom":{rangeH:0,rangeV:1,labelH:0,labelV:1},"bottom-right":{rangeH:1,rangeV:1,labelH:-1,labelV:1},"inside-bottom-right":{rangeH:1,rangeV:1,labelH:-1,labelV:1},right:{rangeH:1,rangeV:0,labelH:-1,labelV:0},"inside-right":{rangeH:1,rangeV:0,labelH:-1,labelV:0},"top-right":{rangeH:1,rangeV:-1,labelH:-1,labelV:-1},"inside-top-right":{rangeH:-1,rangeV:-1,labelH:-1,labelV:-1},inside:{rangeH:0,rangeV:0,labelH:0,labelV:0}},Ahe={top:{rangeH:0,rangeV:-1,labelH:0,labelV:1},"inside-top":{rangeH:0,rangeV:-1,labelH:0,labelV:-1},"top-left":{rangeH:-1,rangeV:-1,labelH:-1,labelV:1},"inside-top-left":{rangeH:-1,rangeV:-1,labelH:-1,labelV:-1},left:{rangeH:-1,rangeV:0,labelH:1,labelV:0},"inside-left":{rangeH:-1,rangeV:0,labelH:-1,labelV:0},"bottom-left":{rangeH:-1,rangeV:1,labelH:-1,labelV:-1},"inside-bottom-left":{rangeH:-1,rangeV:1,labelH:-1,labelV:1},bottom:{rangeH:0,rangeV:1,labelH:0,labelV:-1},"inside-bottom":{rangeH:0,rangeV:1,labelH:0,labelV:1},"bottom-right":{rangeH:1,rangeV:1,labelH:1,labelV:-1},"inside-bottom-right":{rangeH:1,rangeV:1,labelH:1,labelV:1},right:{rangeH:1,rangeV:0,labelH:-1,labelV:0},"inside-right":{rangeH:1,rangeV:0,labelH:1,labelV:0},"top-right":{rangeH:1,rangeV:-1,labelH:1,labelV:1},"inside-top-right":{rangeH:1,rangeV:-1,labelH:1,labelV:-1},inside:{rangeH:0,rangeV:0,labelH:0,labelV:0}},Ehe={top:{rangeH:0,rangeV:-1,labelH:0,labelV:1},"inside-top":{rangeH:0,rangeV:-1,labelH:0,labelV:-1},"top-left":{rangeH:-1,rangeV:-1,labelH:1,labelV:-1},"inside-top-left":{rangeH:-1,rangeV:-1,labelH:-1,labelV:-1},left:{rangeH:-1,rangeV:0,labelH:1,labelV:0},"inside-left":{rangeH:-1,rangeV:0,labelH:-1,labelV:0},"bottom-left":{rangeH:-1,rangeV:1,labelH:1,labelV:1},"inside-bottom-left":{rangeH:-1,rangeV:1,labelH:-1,labelV:1},bottom:{rangeH:0,rangeV:1,labelH:0,labelV:-1},"inside-bottom":{rangeH:0,rangeV:1,labelH:0,labelV:1},"bottom-right":{rangeH:1,rangeV:1,labelH:-1,labelV:1},"inside-bottom-right":{rangeH:1,rangeV:1,labelH:1,labelV:1},right:{rangeH:1,rangeV:0,labelH:-1,labelV:0},"inside-right":{rangeH:1,rangeV:0,labelH:1,labelV:0},"top-right":{rangeH:1,rangeV:-1,labelH:-1,labelV:-1},"inside-top-right":{rangeH:1,rangeV:-1,labelH:1,labelV:-1},inside:{rangeH:0,rangeV:0,labelH:0,labelV:0}},Ho=class extends nt{constructor(){super(...arguments),this.fontSize=14,this.fontFamily="Verdana, sans-serif",this.padding=5,this.color="rgba(87, 87, 87, 1)"}};b([C],Ho.prototype,"enabled",2);b([C],Ho.prototype,"text",2);b([C],Ho.prototype,"fontStyle",2);b([C],Ho.prototype,"fontWeight",2);b([C],Ho.prototype,"fontSize",2);b([C],Ho.prototype,"fontFamily",2);b([C],Ho.prototype,"padding",2);b([C],Ho.prototype,"color",2);b([C],Ho.prototype,"position",2);b([C],Ho.prototype,"rotation",2);b([C],Ho.prototype,"parallel",2);var ja=(()=>{let t=class extends nt{constructor(){super(),this.id=pn(this),this.defaultColorRange=[],this.fill="#c16068",this.label=new Ho,this.scale=void 0,this.clippedRange=[-1/0,1/0],this.gridLength=0,this.position="top",this.rangeGroup=new mt({name:this.id}),this.lineGroup=new mt({name:this.id}),this.labelGroup=new mt({name:this.id}),this.crossLineRange=new Pc,this.crossLineLabel=new If,this.data=void 0,this.startLine=!1,this.endLine=!1,this._isRange=void 0,this.lineGroup.append(this.crossLineRange),this.labelGroup.append(this.crossLineLabel),this.crossLineRange.pointerEvents=1}get defaultLabelPosition(){return"top"}update(i){let{enabled:e,type:n,data:r,scale:a}=this;if(!a||!e||!i||!xW(this,a)||r==null){this.rangeGroup.visible=!1,this.lineGroup.visible=!1,this.labelGroup.visible=!1;return}this.rangeGroup.visible=i,this.lineGroup.visible=i,this.labelGroup.visible=i,this.updateNodes();let o=n==="range";o!==this._isRange&&(o?this.rangeGroup.appendChild(this.crossLineRange):this.lineGroup.appendChild(this.crossLineRange)),this._isRange=o}calculateLayout(i){if(this.data=void 0,!i)return;let{type:e,range:n,value:r,scale:a,clippedRange:o,strokeWidth:s=0}=this;if(!a)return;let l=a.bandwidth??0,c=a.step??0,d=a instanceof Lc?(c-l)/2:0,[u,h]=er(o);u-=l,h+=l;let m,p,g,y;if(e==="line"){let v=l/2;if(m=a.convert(r)+v,p=NaN,g=a.convert(r,{clamp:!0})+v,y=NaN,g>=h||g<=u)return}else if(n){let[v,x]=n,[w,D]=tW(v,x);if(m=a.convert(v,{alignment:w}),p=a.convert(x,{alignment:D}),g=a.convert(v,{clamp:!0,alignment:w}),y=a.convert(x,{clamp:!0,alignment:D}),g>y&&([g,y]=[y,g],[m,p]=[p,m]),g>=h||y<=u)return;Number.isFinite(m)&&(g-=d),Number.isFinite(p)&&(p+=l,y+=l+d)}else return;g=sv(g,o),y=sv(y,o),m-d>=g&&(m-=d),p+d<=y&&(p+=d),this.startLine=s>0&&m>=g&&m<=g+d,this.endLine=s>0&&p>=y-l-d&&p<=y,this.data=[g,y],this.label.enabled===!1||this.label.text}updateNodes(){let{position:i,data:[e,n]=[0,0],gridLength:r}=this,a=Number.isFinite(n)?n-e:0,o;switch(i){case"top":case"bottom":o=new we(e,i==="top"?0:-r,a,r);break;case"left":case"right":o=new we(i==="left"?0:-r,e,r,a)}this.updateRangeNode(o);let{label:s}=this;s.enabled!==!1&&s.text&&(this.updateLabel(),this.positionLabel(o))}updateRangeNode(i){let{type:e,position:n,crossLineRange:r,startLine:a,endLine:o,fill:s,fillOpacity:l,stroke:c,strokeWidth:d,strokeOpacity:u,lineDash:h}=this;r.x1=i.x,r.x2=i.x+i.width,r.y1=i.y,r.y2=i.y+i.height,r.horizontal=n==="top"||n==="bottom",r.startLine=a,r.endLine=o,r.fill=e==="range"?s:void 0,r.fillOpacity=l??1,r.stroke=c,r.strokeWidth=d??1,r.strokeOpacity=u??1,r.lineDash=h}updateLabel(){let{crossLineLabel:i,label:e}=this;e.text&&(i.fontStyle=e.fontStyle,i.fontWeight=e.fontWeight,i.fontSize=e.fontSize,i.fontFamily=e.fontFamily,i.fill=e.color,i.text=e.text)}get anchor(){let i=this.position==="left"||this.position==="right",e=this.type==="range",{position:n=this.defaultLabelPosition}=this.label;return e?(i?Ahe:Ehe)[n]:(i?Ihe:khe)[n]}positionLabel(i){let{crossLineLabel:e,label:n,anchor:r}=this;e.rotation=Tr(n.rotation??0),e.textBaseline="middle",e.textAlign="center";let a=e.getBBox();if(!a)return;let{width:o,height:s}=a,l=n.padding+o/2,c=n.padding+s/2,d=i.x+i.width*(r.rangeH+1)/2-l*r.labelH,u=i.y+i.height*(r.rangeV+1)/2-c*r.labelV;e.x=d,e.y=u,e.rotationCenterX=d,e.rotationCenterY=u}computeLabelSize(){let{label:i}=this;if(i.enabled===!1||!i.text)return;let e=new If;e.fontFamily=i.fontFamily,e.fontSize=i.fontSize,e.fontStyle=i.fontStyle,e.fontWeight=i.fontWeight,e.text=i.text,e.rotation=Tr(i.rotation??0),e.textBaseline="middle",e.textAlign="center";let n=e.getBBox();if(!n)return;let{width:r,height:a}=n;return{width:r,height:a}}calculatePadding(i){let{label:e,anchor:n}=this,r=this.computeLabelSize();if(!r)return;let{width:a,height:o}=r,s=e.padding+a,l=e.padding+o,c=this.position==="left"||this.position==="right";c&&(n.rangeH===-1&&n.labelH===1?i.left=Math.max(i.left??0,s):n.rangeH===1&&n.labelH===-1&&(i.right=Math.max(i.right??0,s))),c||(n.rangeV===-1&&n.labelV===1?i.top=Math.max(i.top??0,l):n.rangeV===1&&n.labelV===-1&&(i.bottom=Math.max(i.bottom??0,l)))}};return t.className="CrossLine",t})();b([C],ja.prototype,"enabled",2);b([C],ja.prototype,"type",2);b([C],ja.prototype,"range",2);b([C],ja.prototype,"value",2);b([C],ja.prototype,"defaultColorRange",2);b([C],ja.prototype,"fill",2);b([C],ja.prototype,"fillOpacity",2);b([C],ja.prototype,"stroke",2);b([C],ja.prototype,"strokeWidth",2);b([C],ja.prototype,"strokeOpacity",2);b([C],ja.prototype,"lineDash",2);b([C],ja.prototype,"label",2);var BD=class{constructor(){this.enabled=!0,this.width=1,this.style=[{fill:void 0,fillOpacity:1,stroke:void 0,strokeWidth:void 0,lineDash:[]}]}};b([C],BD.prototype,"enabled",2);b([C],BD.prototype,"width",2);b([C],BD.prototype,"style",2);var Yh=class extends nt{};b([C],Yh.prototype,"placement",2);b([C],Yh.prototype,"step",2);b([C],Yh.prototype,"values",2);b([C],Yh.prototype,"minSpacing",2);b([C],Yh.prototype,"maxSpacing",2);var Ui=class extends nt{constructor(){super(...arguments),this.enabled=!0,this.border=new $h,this.wrapping="never",this.truncate=!1,this.spacing=5,this.color="#575757",this.avoidCollisions=!0,this.mirrored=!1,this.parallel=!1,this._formatters={"component:year":void 0,"component:month":void 0,"component:day":void 0,"component:none":void 0,"long:year":void 0,"long:month":void 0,"long:day":void 0,"long:none":void 0}}getSideFlag(){return this.mirrored?1:-1}formatValue(t,i,e,n={dateStyle:"long",truncateDate:void 0}){let{formatter:r,format:a}=this,{type:o,value:s,domain:l,boundSeries:c}=i,d=i.type==="number"?i.fractionDigits:void 0,u=i.type==="date"?i.unit:void 0,h;if(r!=null){let m=i.type==="date"?i.step:void 0;h=t(r,{value:s,index:e,domain:l,fractionDigits:d,unit:u,step:m,boundSeries:c})}if(a!=null&&h==null){let{specifier:m,dateStyle:p,truncateDate:g}=n,y=`${p}:${g??"none"}`,v=this._formatters[y],x=Rf.mergeSpecifiers(m,a);(v==null||v.type!==o||v.unit!==u||!Ln(v.mergedFormat,x))&&(v={type:o,mergedFormat:x,unit:u,formatter:Rf.getFormatter(o,x,u,p,n)},this._formatters[y]=v),h=v.formatter?.(s,d)}return h!=null?String(h):void 0}};b([C],Ui.prototype,"enabled",2);b([C],Ui.prototype,"border",2);b([C],Ui.prototype,"cornerRadius",2);b([C],Ui.prototype,"fill",2);b([C],Ui.prototype,"fillOpacity",2);b([C],Ui.prototype,"fontStyle",2);b([C],Ui.prototype,"fontWeight",2);b([C],Ui.prototype,"fontSize",2);b([C],Ui.prototype,"fontFamily",2);b([C],Ui.prototype,"wrapping",2);b([C],Ui.prototype,"truncate",2);b([C],Ui.prototype,"spacing",2);b([C],Ui.prototype,"minSpacing",2);b([C],Ui.prototype,"color",2);b([C],Ui.prototype,"rotation",2);b([C],Ui.prototype,"avoidCollisions",2);b([C],Ui.prototype,"mirrored",2);b([C],Ui.prototype,"padding",2);b([C],Ui.prototype,"parallel",2);b([C],Ui.prototype,"itemStyler",2);b([C],Ui.prototype,"formatter",2);b([C],Ui.prototype,"format",2);var zD=class{constructor(){this.enabled=!0,this.width=1,this.stroke=void 0}};b([C],zD.prototype,"enabled",2);b([C],zD.prototype,"width",2);b([C],zD.prototype,"stroke",2);var Kh=class extends nt{constructor(){super(...arguments),this.enabled=!0,this.width=1,this.size=6}};b([C],Kh.prototype,"enabled",2);b([C],Kh.prototype,"width",2);b([C],Kh.prototype,"size",2);b([C],Kh.prototype,"stroke",2);var Ps=class extends nt{constructor(){super(...arguments),this.caption=new on,this.enabled=!1,this.spacing=on.SMALL_PADDING,this.fontSize=10,this.fontFamily="sans-serif",this.wrapping="always"}};b([C],Ps.prototype,"enabled",2);b([C],Ps.prototype,"text",2);b([C],Ps.prototype,"spacing",2);b([C],Ps.prototype,"fontStyle",2);b([C],Ps.prototype,"fontWeight",2);b([C],Ps.prototype,"fontSize",2);b([C],Ps.prototype,"fontFamily",2);b([C],Ps.prototype,"color",2);b([C],Ps.prototype,"wrapping",2);b([C],Ps.prototype,"formatter",2);var CW=(t=>(t[t.TickAndDomain=0]="TickAndDomain",t[t.TicksOnly=1]="TicksOnly",t[t.Off=2]="Off",t))(CW||{});function wW(t){let[i,e]=er(t.range),n=Math.floor(i),r=Math.ceil(e);return{min:n,max:r,visible:n!==r}}var cR=Math.PI*2,The=cR/2;function Rhe(t,i){return Math.abs(i-t)<The?i:t>i?i+cR:i-cR}function DW(t){let{min:i,max:e}=t,n=l=>l<i||l>e;return{tick:{fromFn(l,c,d){let{x1:u,x2:h,y1:m,y2:p}=l,g=l.opacity;return(d==="added"||n(c.offset))&&({x1:u,x2:h,y1:m,y2:p}=c,g=0),{x1:u,x2:h,y1:m,y2:p,opacity:g,phase:Ts[d]}},toFn(l,c,d){let{x1:u,x2:h,y1:m,y2:p}=c,g=1;return d==="removed"&&(g=0),{x1:u,x2:h,y1:m,y2:p,opacity:g}},applyFn(l,c){l.setProperties(c),l.visible=!n(l.y)}},line:{fromFn(l,c){let{x1:d,x2:u,y1:h,y2:m}=l.previousDatum??c;return{x1:d,x2:u,y1:h,y2:m,phase:Ts.updated}},toFn(l,c){let{x1:d,x2:u,y1:h,y2:m}=c;return{x1:d,x2:u,y1:h,y2:m}}},label:{fromFn(l,c,d){let u=l.previousDatum??c,{x:h,y:m,rotationCenterX:p,rotationCenterY:g,rotation:y}=u,v=l.opacity;return d==="removed"||n(u.y)?y=c.rotation:(d==="added"||n(l.datum.y))&&({x:h,y:m,rotationCenterX:p,rotationCenterY:g,rotation:y}=c,v=0),{x:h,y:m,rotationCenterX:p,rotationCenterY:g,rotation:y,opacity:v,phase:Ts[d]}},toFn(l,c,d){let{x:u,y:h,rotationCenterX:m,rotationCenterY:p}=c,g=0,y=1;return d==="added"?g=c.rotation:d==="removed"?(y=0,g=c.rotation):g=Rhe(l.previousDatum?.rotation??c.rotation,c.rotation),{x:u,y:h,rotationCenterX:m,rotationCenterY:p,rotation:g,opacity:y,finish:{rotation:c.rotation}}}},group:{fromFn(l,c){let{translationX:d,translationY:u}=l;return{translationX:d,translationY:u,phase:Ts.updated}},toFn(l,c){let{translationX:d,translationY:u}=c;return{translationX:d,translationY:u}}}}}function SW(){return(t,i)=>({translationX:i.translationX,translationY:i.translationY})}function nD(){return(t,i)=>({x:i.x,y:i.y,rotationCenterX:i.rotationCenterX,rotationCenterY:i.rotationCenterY,rotation:i.rotation})}function dR(){return(t,i)=>{let{x1:e,x2:n,y1:r,y2:a}=i;return{x1:e,x2:n,y1:r,y2:a}}}function MW(){return(t,i)=>{let{x1:e,x2:n,y1:r,y2:a}=i;return{x:e,y:r,width:n-e,height:a-r}}}var IW=(t=>(t[t.TickLines=0]="TickLines",t[t.AxisLine=1]="AxisLine",t[t.TickLabels=2]="TickLabels",t))(IW||{});function EH(t,i){return t.domain===i.domain&&t.rangeExtent===i.rangeExtent&&t.nice===i.nice&&t.gridLength===i.gridLength&&t.visibleRange[0]===i.visibleRange[0]&&t.visibleRange[1]===i.visibleRange[1]&&t.initialPrimaryTickCount?.unzoomed===i.initialPrimaryTickCount?.unzoomed&&t.initialPrimaryTickCount?.zoomed===i.initialPrimaryTickCount?.zoomed}var qh=(()=>{let t=class kW{constructor(e,n){this.moduleCtx=e,this.scale=n,this.id=pn(this),this._crossLines=[],this.nice=!0,this.reverse=!1,this.keys=[],this.interval=new Yh,this.dataDomain={domain:[],clipped:!1},this.title=new Ps,this.gridLength=0,this.gridPadding=0,this.seriesAreaPadding=0,this.layoutConstraints={stacked:!0,align:"start",width:100,unit:"percent"},this.boundSeries=[],this.includeInvisibleDomains=!1,this.interactionEnabled=!0,this.axisGroup=new mt({name:`${this.id}-axis`}),this.tickLineGroup=this.axisGroup.appendChild(new of({name:`${this.id}-Axis-tick-lines`,zIndex:0})),this.tickLabelGroup=this.axisGroup.appendChild(new of({name:`${this.id}-Axis-tick-labels`,zIndex:2})),this.labelGroup=new mt({name:`${this.id}-Labels`,zIndex:11}),this.gridGroup=new Kr({name:`${this.id}-Axis-grid`,zIndex:2}),this.gridFillGroup=this.gridGroup.appendChild(new mt({name:`${this.id}-gridFills`})),this.gridLineGroup=this.gridGroup.appendChild(new mt({name:`${this.id}-gridLines`})),this.crossLineRangeGroup=new of({name:`${this.id}-CrossLines-Range`,zIndex:6}),this.crossLineLineGroup=new of({name:`${this.id}-CrossLines-Line`,zIndex:10}),this.crossLineLabelGroup=new of({name:`${this.id}-CrossLines-Label`,zIndex:15}),this.tickLabelGroupSelection=qr.select(this.tickLabelGroup,If,!1),this.line=new zD,this.tick=new Kh,this.gridLine=new BD,this.label=this.createLabel(),this.defaultTickMinSpacing=kW.defaultTickMinSpacing,this.translation={x:0,y:0},this.layout={label:{fractionDigits:0,spacing:this.label.spacing,format:this.label.format}},this.axisContext=void 0,this.cleanup=new pt,this.isHovering=!1,this.range=[0,1],this.visibleRange=[0,1],this.animatable=!0,this.tickLayout=void 0,this.formatterBoundSeries=new kU(()=>{let{direction:r,boundSeries:a}=this;return wc(a.flatMap(o=>o.getFormatterContext(r)))}),this.moduleMap=new bO,this.range=this.scale.range.slice(),this.crossLines.forEach(r=>this.initCrossLine(r)),this.cleanup.register(this.moduleCtx.widgets.containerWidget.addListener("mousemove",r=>this.onMouseMove(r)))}set crossLines(e){let{CrossLineConstructor:n}=this.constructor;this._crossLines.forEach(r=>this.detachCrossLine(r)),this._crossLines=e.map(r=>{let a=new n;return a.set(r),a}),this._crossLines.forEach(r=>{this.attachCrossLine(r),this.initCrossLine(r)})}get crossLines(){return this._crossLines}get type(){return this.constructor.type??""}get primaryLabel(){}get primaryTick(){}isCategoryLike(){return!1}resetAnimation(e){}onMouseMove(e){let r=this.tickLabelGroup.pickNode(e.currentX,e.currentY)?.datum,{textUntruncated:a=void 0}=r??{};a!=null?(this.moduleCtx.tooltipManager.updateTooltip(this.id,{canvasX:e.currentX,canvasY:e.currentY,showArrow:!1},[{type:"structured",title:a}]),this.isHovering=!0):this.isHovering&&(this.moduleCtx.tooltipManager.removeTooltip(this.id),this.isHovering=!1)}attachCrossLine(e){this.crossLineRangeGroup.appendChild(e.rangeGroup),this.crossLineLineGroup.appendChild(e.lineGroup),this.crossLineLabelGroup.appendChild(e.labelGroup)}detachCrossLine(e){this.crossLineRangeGroup.removeChild(e.rangeGroup),this.crossLineLineGroup.removeChild(e.lineGroup),this.crossLineLabelGroup.removeChild(e.labelGroup)}destroy(){this.moduleMap.destroy(),this.cleanup.flush()}setScaleRange(e){let{range:n,scale:r}=this,a=(n[1]-n[0])/(e[1]-e[0]),o=a*e[0],s=n[0]-o;r.range=[s,s+a]}updateScale(){let{range:[e,n]}=this;this.setScaleRange(this.visibleRange),this.crossLines.forEach(r=>{r.clippedRange=[e,n]})}setCrossLinesVisible(e){this.crossLineRangeGroup.visible=e,this.crossLineLineGroup.visible=e,this.crossLineLabelGroup.visible=e}attachAxis(e){e.gridNode.appendChild(this.gridGroup),e.axisNode.appendChild(this.axisGroup),e.labelNode.appendChild(this.labelGroup),e.crossLineRangeNode.appendChild(this.crossLineRangeGroup),e.crossLineLineNode.appendChild(this.crossLineLineGroup),e.crossLineLabelNode.appendChild(this.crossLineLabelGroup)}detachAxis(e){e.gridNode.removeChild(this.gridGroup),e.axisNode.removeChild(this.axisGroup),e.labelNode.removeChild(this.labelGroup),e.crossLineRangeNode.removeChild(this.crossLineRangeGroup),e.crossLineLineNode.removeChild(this.crossLineLineGroup),e.crossLineLabelNode.removeChild(this.crossLineLabelGroup)}attachLabel(e){this.labelGroup.append(e)}inRange(e,n=0){let[r,a]=er(this.range);return e>=r-n&&e<=a+n}getRangeOverflow(e){let{range:n,visibleRange:r}=this,a=(n[1]-n[0])/(r[1]-r[0]),[o,s]=er([n[0]-a*r[0],n[0]-a*r[0]+a]);return e<o?e-o:e>s?e-s:0}createDatumFormatter(e,n){}onGridLengthChange(e,n){n^e&&this.onGridVisibilityChange(),this.crossLines.forEach(r=>this.initCrossLine(r))}onGridVisibilityChange(){}createLabel(){return new Ui}update(){this.formatterBoundSeries.clear(),this.updatePosition(),this.updateSelections(),this.tickLineGroup.visible=this.tick.enabled,this.gridLineGroup.visible=this.gridLine.enabled,this.tickLabelGroup.visible=this.label.enabled,this.updateLabels(),this.updateCrossLines()}getLabelStyles(e,n,r=this.label){let a={border:r.border,color:r.color,cornerRadius:r.cornerRadius,fill:r.fill,fillOpacity:r.fillOpacity,fontFamily:r.fontFamily,fontSize:r.fontSize,fontStyle:r.fontStyle,fontWeight:r.fontWeight,padding:r.padding,spacing:r.spacing},o;r.itemStyler&&(o=this.cachedCallWithContext(r.itemStyler,f(f({},e),a)));let s=Jt(o,n,a);return{border:s.border,color:s.color,cornerRadius:s.cornerRadius,fill:s.fill,fillOpacity:s.fillOpacity,fontFamily:s.fontFamily,fontSize:s.fontSize,fontStyle:s.fontStyle,fontWeight:s.fontWeight,padding:s.padding,spacing:s.spacing}}getTickSize(e=this.tick){return e.enabled?e.size:0}processData(){this.invalidateLayoutCache();let{includeInvisibleDomains:e,boundSeries:n,direction:r}=this,o=(e?n:n.filter(s=>s.isEnabled())).map(s=>s.getDomain(r));this.setDomains(...o)}setDomains(...e){let n,r;e.length>0?{domain:n,animatable:r}=this.scale.normalizeDomains(...e):(n=[],r=!0),this.dataDomain=this.normaliseDataDomain(n),this.reverse&&this.dataDomain.domain.reverse(),this.animatable=r}calculateDomain(e){let{dataDomain:{domain:n},range:r,nice:a,scale:o,gridLength:s}=this,l=Of(r),c=[0,1];this.updateScale();let{unzoomedTickLayoutCache:d}=this,u;if(d==null||!EH(d,{domain:n,rangeExtent:l,nice:a,gridLength:s,visibleRange:c,initialPrimaryTickCount:e})){let h=o.range;this.setScaleRange([0,1]);let m=a?0:2;u=this.calculateTickLayout(n,m,[0,1],e),o.range=h,this.unzoomedTickLayoutCache={domain:n,rangeExtent:l,nice:a,gridLength:s,visibleRange:c,initialPrimaryTickCount:e,tickLayout:u}}else u=d.tickLayout;return this.updateScale(),o.domain=u.niceDomain,{unzoomedTickLayout:u,domain:o.domain}}calculateLayout(e,n){this.chartLayout=n;let{visibleRange:r,nice:a}=this,o=r[0]===0&&r[1]===1,{unzoomedTickLayout:s,domain:l}=this.calculateDomain(e),c;if(o)c=s;else{let{range:g,gridLength:y}=this,v=Of(g),x=a?1:2,{tickLayoutCache:w}=this;w==null||!EH(w,{domain:l,rangeExtent:v,nice:a,gridLength:y,visibleRange:r,initialPrimaryTickCount:e})?(c=this.calculateTickLayout(l,x,r,e),this.tickLayoutCache={domain:l,rangeExtent:v,nice:a,gridLength:y,visibleRange:r,initialPrimaryTickCount:e,tickLayout:c}):c=w.tickLayout}let{rawTickCount:d=0,fractionDigits:u,bbox:h}=c,m=s.rawTickCount??0,p=d!==0&&m!==0?{zoomed:d,unzoomed:m}:void 0;return this.tickLayout=c.layout,this.layout.label={fractionDigits:u,spacing:this.label.spacing,format:this.label.format},this.layoutCrossLines(),{primaryTickCount:p,bbox:h}}invalidateLayoutCache(){this.unzoomedTickLayoutCache=void 0,this.tickLayoutCache=void 0,this.tickLayout=void 0}updateCrossLines(){let e=this.hasDefinedDomain()||this.hasVisibleSeries();this.crossLines.forEach(n=>{n.update(e)})}updatePosition(){let{crossLineRangeGroup:e,crossLineLineGroup:n,crossLineLabelGroup:r,gridGroup:a,translation:o}=this,s=Math.floor(o.x),l=Math.floor(o.y);a.setProperties({translationX:s,translationY:l}),e.setProperties({translationX:s,translationY:l}),n.setProperties({translationX:s,translationY:l}),r.setProperties({translationX:s,translationY:l})}tickFormatter(e,n,r,a,o,s="long"){let{moduleCtx:l,label:c}=this,{formatManager:d}=l,u=r?this.primaryLabel:void 0,h=this.tickFormatParams(e,n,a,o),m=this.formatterBoundSeries.get(),p,g,y;if(h.type==="number")p=h.fractionDigits;else if(h.type==="date"){let{unit:E,step:A,epoch:N}=h;g={unit:E,step:A,epoch:N},y=h.truncateDate}let v=this.uncachedCallWithContext.bind(this),x={datum:void 0,seriesId:void 0,legendItemName:void 0,key:void 0,source:"axis-label",property:this.direction,domain:e,boundSeries:m},w=u??c,D=r?c.format:void 0,k={specifier:Rf.mergeSpecifiers(u?.format,c.format),truncateDate:y};return(E,A)=>{let N=this.datumFormatParams(E,x,p,g,s);return N.value=E,w.formatValue(v,N,A,{specifier:D,dateStyle:s,truncateDate:y})??d.format(v,N,k)??d.defaultFormat(N,k)}}formatDatum(e,n,r,a,o,s,l,c,d,u){if(n==null)return"";let{moduleCtx:h,direction:m,dataDomain:p}=this;c??(c=p.domain);let{formatManager:g}=h,y=this.formatterBoundSeries.get(),v;switch(r){case"crosshair":case"annotation-label":v=this.layout.label.fractionDigits+1;break;case"series-label":v=2;break;case"tooltip":v=3;break;case"legend-label":v=void 0;break}let x=this.datumFormatParams(n,{source:r,datum:s,seriesId:a,legendItemName:o,key:l,property:m,domain:c,boundSeries:y},v,void 0,"long"),{type:w,value:D}=x,k=this.createCallWithContext(e),E=d?.formatValue(k,w,D,u??x)??g.format(k,x)??this.label.formatValue(k,x,NaN)??g.defaultFormat(x);return String(E)}getBBox(){return this.axisGroup.getBBox()}initCrossLine(e){e.scale=this.scale,e.gridLength=this.gridLength}hasVisibleSeries(){return this.boundSeries.some(e=>e.isEnabled())}clipTickLines(e,n,r,a){this.tickLineGroup.setClipRect(new we(e,n,r,a))}clipGrid(e,n,r,a){this.gridGroup.setClipRect(new we(e,n,r,a))}getTitleFormatterParams(e){let{direction:n}=this,r=this.formatterBoundSeries.get();return{domain:e,direction:n,boundSeries:r,defaultValue:this.title?.text}}normaliseDataDomain(e){return{domain:[...e],clipped:!1}}getLayoutState(){return f({id:this.id,rect:this.getBBox(),gridPadding:this.gridPadding,seriesAreaPadding:this.seriesAreaPadding,tickSize:this.getTickSize(),direction:this.direction,domain:this.dataDomain.domain,scale:this.scale},this.layout)}getModuleMap(){return this.moduleMap}createModuleContext(){return this.axisContext??(this.axisContext=this.createAxisContext()),S(f({},this.moduleCtx),{parent:this.axisContext})}createAxisContext(){let{scale:e}=this;return{axisId:this.id,scale:this.scale,direction:this.direction,continuous:Di.is(e)||Rs.is(e),getCanvasBounds:()=>an.toCanvas(this.axisGroup),seriesKeyProperties:()=>this.boundSeries.reduce((n,r)=>(r.getKeyProperties(this.direction).forEach(o=>n.add(o)),n),new Set),seriesIds:()=>this.boundSeries.map(n=>n.id),scaleInvert:n=>e.invert(n,!0),scaleInvertNearest:n=>e.invert(n,!0),formatScaleValue:(n,r,a)=>this.formatDatum(void 0,n,r,void 0,void 0,void 0,void 0,void 0,a),attachLabel:n=>this.attachLabel(n),inRange:(n,r)=>this.inRange(n,r),getRangeOverflow:n=>this.getRangeOverflow(n),pickBand:n=>this.pickBand(n)}}pickBand(e){if(!Lc.is(this.scale))return;let{scale:n,range:r}=this,a=n.invert(this.isVertical()?e.y:e.x,!0),o=n.bandwidth??0,l=((n.step??0)-o)/2,c=n.convert(a),d=c-l,u=c+o+l;return{id:this.id,value:a,band:[sv(d,r),sv(u,r)],position:c}}isVertical(){return this.direction==="y"}isReversed(){return this.reverse}cachedCallWithContext(e,...n){let{callbackCache:r,chartService:a}=this.moduleCtx;return r.call([this,a],e,...n)}uncachedCallWithContext(e,...n){let{chartService:r}=this.moduleCtx;return Ls([this,r],e,...n)}createCallWithContext(e){let{chartService:n}=this.moduleCtx;return(r,...a)=>Ls([e,this,n],r,...a)}};return t.defaultTickMinSpacing=50,t.CrossLineConstructor=ja,t})();b([C],qh.prototype,"nice",2);b([C],qh.prototype,"reverse",2);b([C],qh.prototype,"keys",2);b([C],qh.prototype,"interval",2);b([C],qh.prototype,"title",2);b([eu((t,i,e)=>t.onGridLengthChange(i,e))],qh.prototype,"gridLength",2);var yO=qh;function lo(t){return t instanceof Date?t.getTime():t}function Fv(t){return t<xf?"millisecond":t<Vd?"second":t<Fh?"minute":t<Fh*23?"hour":t<28*Hh?"day":t<cv?"month":"year"}function vO(t){if(t.length===0)return"millisecond";if(t.length===1)return jD(t[0]);let i=1/0;for(let e=1;e<t.length;e++)i=Math.min(i,Math.abs(t[e].valueOf()-t[e-1].valueOf()));return Fv(i)}function jD(t){return Lo("second",t)<t?"millisecond":Lo("minute",t)<t?"second":Lo("hour",t)<t?"minute":Lo("day",t)<t?"hour":Lo("month",t)<t?"day":Lo("year",t)<t?"month":"year"}function _O(t){let[i,e]=t.length===0?[0,0]:er([t[0].valueOf(),t[t.length-1].valueOf()]),n=new Date(i).getFullYear(),r=new Date(e).getFullYear();if(n!==r)return;let a=new Date(i).getMonth(),o=new Date(e).getMonth();if(a!==o)return"year";let s=new Date(i).getDate(),l=new Date(e).getDate();return s!==l?"month":"day"}function AW(t,i,e){if(e==null||e[0]===0&&e[1]===1)return{ticks:t,count:t.length,firstTickIndex:0};let n=Ae(0,Math.floor(e[0]*t.length),t.length),r=Ae(0,Math.ceil(e[1]*t.length),t.length),a=i?t.length-r:n,o=i?t.length-n:r;return{ticks:t.slice(a,o),count:t.length,firstTickIndex:a}}var Uf=class EW extends Lc{constructor(){super(...arguments),this.type="category",this.defaultTickCount=0,this.index=new Map,this.indexInitialized=!1,this._domain=[]}static is(i){return i instanceof EW}set domain(i){this._domain!==i&&(this.invalid=!0,this._domain=i,this.index.clear(),this.indexInitialized=!1)}get domain(){return this._domain}get bands(){return this._domain}normalizeDomains(...i){let e,n=new Set,r=!0;for(let a of i)n.has(a)||(n.add(a),e==null?e=TH(a):(r&&(r=Ohe(a,e)),e=TH([...e,...a])));return e??(e=[]),{domain:e,animatable:r}}toDomain(i){}invert(i,e=!1){this.refresh();let n=e?this.bandwidth/2:0,r=this.invertNearestIndex(Math.max(0,i-n));return e||i===this.ordinalRange(r)?this.domain[r]:void 0}ticks(i,e=this.domain,n){let{bands:r}=this,{tickCount:a}=i;if(a===0){let g=r.length>1?1:0;return{ticks:[r[g]],count:void 0,firstTickIndex:g}}let o=a!=null&&a!==0?r.length/a|0:1;if(o=iR(o),o<=1)return AW(e,!1,n);a=r.length/o|0;let s=o*a,l=iR((r.length-s)/2|0),c=Ae(0,Math.floor((n?.[0]??0)*r.length),r.length),d=Ae(0,Math.ceil((n?.[1]??1)*r.length),r.length),u=Math.floor((c-l)/o)*o+l,h=Math.ceil((d-l)/o)*o+l,m=[];for(let g=u;g<h;g+=o)g>=0&&g<r.length&&m.push(r[g]);let p=m.length>0?this.findIndex(m[0]):void 0;return p!=null&&(p=Math.floor((p-l)/o)),{ticks:m,count:void 0,firstTickIndex:p}}findIndex(i){let{index:e,indexInitialized:n}=this;if(!n){let{domain:r}=this;for(let a=0;a<r.length;a++)e.set(lo(r[a]),a);this.indexInitialized=!0}return e.get(lo(i))}};function TH(t){let i,e=new Set;for(let n of t){let r=lo(n),a=e.size;e.add(r),e.size!==a?i?.push(n):i??(i=t.slice(0,e.size))}return i??t}function Ohe(t,i){let e=-1;for(let n of t){let r=i.indexOf(n);if(r===-1)e=1/0;else{if(r<=e)return!1;e=r}}return!0}function xO(t,i){return t.valueOf()-i.valueOf()}function Lhe(t){let i=NaN,e=[];for(let n of t){let r=n.valueOf();i!==r&&e.push(n),i=r}return e}function uR(t){let i=t.slice().sort(xO);return CO(i)==null?Lhe(i):i}function CO(t){if(t.length===0)return 1;let i=Number(t[t.length-1])>Number(t[0])?1:-1,e=-1/0*i;for(let n of t){let r=n.valueOf();if(Math.sign(r-e)!==i)return;e=r}return i}var en=(t,i)=>({duration:ya(t)*i,timeInterval:t,step:i}),hR=[en({unit:"second"},1),en({unit:"second"},5),en({unit:"second"},15),en({unit:"second"},30),en({unit:"minute"},1),en({unit:"minute"},5),en({unit:"minute"},15),en({unit:"minute"},30),en({unit:"hour"},1),en({unit:"hour"},3),en({unit:"hour"},6),en({unit:"hour"},12),en({unit:"day"},1),en({unit:"day"},2),en({unit:"day",step:7},1),en({unit:"day",step:7},2),en({unit:"day",step:7},3),en({unit:"month"},1),en({unit:"month"},2),en({unit:"month"},3),en({unit:"month"},4),en({unit:"month"},6),en({unit:"year"},1)],TW=[1,2,5,10];function RH(t,i){return Math.abs(Math.round(t)-t)<i}function RW(t,i,e){return Math.abs(i-t)>=e?Math.abs(i-t)/e+1:1}function Vv(t,i,e,n,r,a){if(t===i)return{ticks:[t],count:1,firstTickIndex:0};if(e<2)return{ticks:[t,i],count:2,firstTickIndex:0};let o=hv(t,i,e,n,r);if(!Number.isFinite(o))return{ticks:[],count:0,firstTickIndex:void 0};let s=t,l=i;if(RH(s/o,1e-12)||(s=Math.ceil(s/o)*o),RH(l/o,1e-12)||(l=Math.floor(l/o)*o),a!=null){let u=l-s,h=i-t,m=t+h*a[0],p=t+h*a[1];a=[(m-s)/u,(p-s)/u]}let{ticks:c}=HD(s,l,o,a),d=c.at(0);return{ticks:c,count:RW(s,l,o),firstTickIndex:d==null?void 0:Math.round((d-s)/o)}}var Nhe=Math.floor(2*gW/pO*10)/10;function OH({timeInterval:t,step:i}){let e=ya(t)*i,n=uv(t),r=n?ya(n):void 0;return e<=(r??1/0)*Nhe}function OW(t,{weekStart:i}){if(t.unit==="day"&&t.step===7)return i}function UD(t,i,e,n,r,{weekStart:a,primaryOnly:o=!1,targetInterval:s}){if(e<=0)return;let l=s??Math.abs(i-t)/Math.max(e,1),c=hR.findLast(m=>(!o||OH(m))&&l>m.duration),d=hR.find(m=>(!o||OH(m))&&l<=m.duration);if(c==null)return{unit:"millisecond",step:Math.max(hv(t,i,e,n,r),1)};if(d==null)return{unit:"year",step:s==null?hv(t/cv,i/cv,e,n,r):1};let{timeInterval:u,step:h}=l-c.duration<d.duration-l?c:d;return{unit:u.unit,step:Zd(u)*h,epoch:OW(u,{weekStart:a})}}function hv(t,i,e,n=0,r=1/0){if(t===i)return Ae(1,n,r);if(e<1)return NaN;let a=Math.abs(i-t),o=10**Math.floor(Math.log10(a/e)),s=NaN,l=1/0,c=!1;for(let d of TW){let u=Math.ceil(a/(d*o)),h=u>=n&&u<=r;if(c&&!h)continue;let m=Math.abs(u-e);(l>m||c!==h)&&(c||(c=h),l=m,s=d)}return s*o}function LH(t){for(let i=t.length-1;i>=0;i-=1)if(t[i]!=="0")return i+1;return 0}function LW(t,i){let e=Ry(i??",f");if(e==null)return;(e.precision==null||isNaN(e.precision))&&(!e.type||"eEFgGnprs".includes(e.type)?e.precision=Math.max(...t.map(r=>{if(!Number.isFinite(r))return 0;let[a,o]=r.toExponential((e.type?6:12)-1).split(/[.e]/g);return(a!=="1"&&a!=="-1"?1:0)+LH(o)+1})):"f%".includes(e.type)&&(e.precision=Math.max(...t.map(r=>{if(!Number.isFinite(r)||r===0)return 0;let a=Math.floor(Math.log10(Math.abs(r))),o=e.type?6:12,s=r.toExponential(o-1).split(/[.e]/g)[1],l=LH(s);return Math.max(0,l-a)}))));let n=hw(e);return r=>n(Number(r))}function HD(t,i,e,n){if(!Number.isFinite(e)||e<=0)return{ticks:[],count:0,firstTickIndex:void 0};if(t===i)return{ticks:[t],count:1,firstTickIndex:0};let r=10**Qp(e),a=Math.min(t,i),o=Math.max(t,i),s,l;if(n!=null&&(n[0]!==0||n[1]!==1)){let u=i-t,h=t+u*n[0],m=i-u*(1-n[1]);s=Math.min(h,m),l=Math.max(h,m)}else s=a,l=o;s=Math.floor(s*r)/r,l=Math.ceil(l*r)/r;let c=[];for(let u=0;;u+=1){let h=Math.round((a+e*u)*r)/r;if(h>o)break;h>=s&&h<=l&&c.push(h)}let d=c.at(0);return{ticks:c,count:RW(a,o,e),firstTickIndex:d==null?void 0:Math.round((d-a)/e)}}function Pf(t,i){return t>=i?(z.warnOnce("the configured interval results in more than 1 item per pixel, ignoring. Supply a larger interval or omit this configuration"),!0):!1}function NW(t,i){let e=Math.abs(i-t),n=10**Math.floor(Math.log10(e)),r=1/0,a=[t,i];for(let o of TW){let s=o*n,l=Math.floor(t/s)*s,c=Math.ceil(i/s)*s,d=1-e/Math.abs(c-l);r>d&&(r=d,a=[l,c])}return a}function PW(t,i,e,n,r,a){if(t<=0)return{minTickCount:0,maxTickCount:0,tickCount:0};a=Math.max(a,t/(r+1)),e??(e=a),n??(n=t),e>n&&(e===a?e=n:n=e),e=Math.max(e,1);let o=Math.max(1,Math.floor(t/(i*e))),s=Math.min(o,Math.ceil(t/(i*n))),l=Ae(s,Math.floor(r/i),o);return{minTickCount:s,maxTickCount:o,tickCount:l}}var GD=new Date(1970,0,4),vf=class FW extends Di{constructor(){super([],[0,1]),this.type="time"}static is(i){return i instanceof FW}toDomain(i){return new Date(i)}convert(i,e){return super.convert(i?.valueOf()??NaN,e)}invert(i){return new Date(super.invert(i))}niceDomain(i,e=this.domain){if(e.length<2)return[];let[n,r]=e,a=4,o=this.getPixelRange();for(let s=0;s<a;s++){let[l,c]=Fhe(n,r,i,o);if(lo(n)===lo(l)&&lo(r)===lo(c))break;n=l,r=c}return[n,r]}ticks(i,e=this.domain,n=[0,1],{extend:r=!1}={}){let{nice:a,interval:o,tickCount:s=Di.defaultTickCount,minTickCount:l,maxTickCount:c}=i;if(e.length<2)return;let d=e.map(lo),u=d[0],h=d[d.length-1];if(o!=null){let y=this.getPixelRange();return{ticks:wO({start:u,stop:h,interval:o,availableRange:y,visibleRange:n,extend:r})??Phe({start:u,stop:h,tickCount:s,minTickCount:l,maxTickCount:c,visibleRange:n,extend:r}),count:void 0}}else{if(a&&s===2)return{ticks:e,count:void 0};if(a&&s===1)return{ticks:e.slice(0,1),count:void 0}}let m=UD(u,h,s,l,c,{weekStart:GD});if(m==null)return;let p=jo(m,new Date(u),new Date(h),{visibleRange:n,extend:r}),g=FD(m,new Date(u),new Date(h),{visibleRange:n,extend:r});return{ticks:p,count:void 0,firstTickIndex:g,timeInterval:m}}};function Phe({start:t,stop:i,tickCount:e,minTickCount:n,maxTickCount:r,visibleRange:a,extend:o}){let s=UD(t,i,e,n,r,{weekStart:GD});return s?jo(s,new Date(t),new Date(i),{visibleRange:a,extend:o}):[]}function wO({start:t,stop:i,interval:e,availableRange:n,visibleRange:r,extend:a}){if(!e)return[];if(bt(e)||typeof e=="string"){let u=jo(e,new Date(t),new Date(i),{visibleRange:r,extend:a});return Pf(u.length,n)?void 0:u}let o=Math.abs(e);if(Pf(Math.abs(i-t)/o,n))return;let s=hR.findLast(u=>o%u.duration===0);if(s){let{timeInterval:u,step:h,duration:m}=s,p=S(f({},u),{step:h*Zd(u)*Math.round(o/m),epoch:OW(u,{weekStart:GD})});return jo(p,new Date(t),new Date(i),{visibleRange:r,extend:a})}let l=new Date(Math.min(t,i)),c=new Date(Math.max(t,i)),d=[];for(;l<=c;)d.push(l),l=new Date(l),l.setMilliseconds(l.getMilliseconds()+o);return d}function Fhe(t,i,e,n){let{interval:r}=e,a=Math.min(lo(t),lo(i)),o=Math.max(lo(t),lo(i)),s;if(bt(r)||typeof r=="string")s=r;else{let u;typeof r=="number"&&(u=(o-a)/Math.max(r,1),Pf(u,n)&&(u=void 0)),u??(u=e.tickCount??Di.defaultTickCount),s=UD(a,o,u,e.minTickCount,e.maxTickCount,{weekStart:GD})}if(s==null)return[t,i];let l=jo(s,new Date(a),new Date(o),{extend:!0});if(l==null||l.length<2)return[t,i];let c=l[0],d=l[l.length-1];return t<=i?[c,d]:[d,c]}var cf=class VW extends Rs{constructor(){super(...arguments),this.type="ordinal-time",this.defaultTickCount=Di.defaultTickCount,this._domain=[],this.isReversed=!1}static is(i){return i instanceof VW}set domain(i){i!==this._domain&&(this.invalid=!0,this._domain=i,this._bands=void 0,this.isReversed=NH(i))}get domain(){return this._domain}get bands(){return this._bands??(this._bands=this.isReversed?this.domain.slice().reverse():this.domain),this._bands}normalizeDomains(...i){let e=i.filter(n=>n.length>0);if(e.length===0)return{domain:[],animatable:!1};if(e.length===1){let n=e[0],r=CO(n);return r===-1?n=n.slice().reverse():r==null&&(n=uR(n.slice())),{domain:n,animatable:!0}}return{domain:uR(e.flat()),animatable:!0}}ticks(i,e,n=[0,1],{extend:r=!1,dropInitial:a=!1}={}){let{interval:o,maxTickCount:s,tickCount:l=s}=i,{bands:c}=this;if(!c.length)return;if(this.refresh(),o==null){let{ticks:x,tickOffset:w,tickEvery:D}=this.getDefaultTicks(e,l,n,r),k=x.length>0?this.findIndex(x[0]):void 0;return k=k!=null?Math.floor((k-w)/D):void 0,{ticks:x,count:void 0,firstTickIndex:k}}let d,u;e&&e.length>=2?(d=e[0].valueOf(),u=e[e.length-1].valueOf()):(d=c[0].valueOf(),u=c[c.length-1].valueOf());let[h,m]=this.range,p=Math.abs(m-h),g=wO({start:d,stop:u,interval:o,availableRange:p,visibleRange:n,extend:r})??this.getDefaultTicks(e,l,n,r).ticks,y=[],v=-1;for(let x of g){let w=this.findIndex(x,1)??-1,D=w===v;v=w,!(a&&w===0)&&w!==-1&&!D&&y.push(c[w])}return{ticks:y,count:void 0,firstTickIndex:void 0}}stepTicks(i,e,n=[0,1],r=!0){let a=e?this.bandDomainIndices(e):void 0,o=this.ticksEvery(a,n,i,0,!1),s=o.at(-1),l=r&&i>1?a?.[1]:void 0,c=l!=null&&s!=null?this.findIndex(s):void 0;return c!=null&&l!=null&&l-c<i&&o.pop(),o}bandCount(i=[0,1]){let{domain:e}=this,n=Math.floor(i[0]*e.length);return Math.ceil(i[1]*e.length)-n}getDefaultTicks(i,e,n,r){let{bands:a}=this,o=Math.ceil(a.length/e),s=Math.floor(o/2),l=i?this.bandDomainIndices(i):void 0;return{ticks:this.ticksEvery(l,n,o,s,r),tickOffset:s,tickEvery:o}}bandDomainIndices(i){let e=NH(i),n=this.findIndex(i[e?i.length-1:0],1)??0,r=this.findIndex(i[e?0:i.length-1],1)??this.bands.length-1;return[n,r]}ticksEvery([i,e]=[0,this.bands.length],n,r,a,o){let{bands:s}=this,l=i,c=e-i+1,d=l+Math.floor(n[0]*c),u=l+Math.ceil(n[1]*c);o&&(d-=r,u+=r),d=Math.max(d,0),u=Math.min(u,s.length);let h;if(r<=1)h=s.slice(d,u);else{h=[];for(let m=d;m<u;m+=1)(m-l+a)%r===0&&h.push(s[m])}return h}};function NH(t){return t.length>0&&t[0]>t[t.length-1]}var BW=5e7,Fd=class zW extends Rs{constructor(){super(...arguments),this.type="unit-time",this.defaultTickCount=12,this._domain=[],this._bands=void 0}static is(i){return i instanceof zW}static supportsInterval(i,e){return PH(i,e)}set domain(i){i!==this._domain&&(this._domain=i,this._bands=void 0)}get domain(){return this._domain}get interval(){return this._interval}set interval(i){this._interval!==i&&(this._interval=i,this._bands=void 0)}get bands(){return this._bands??(this._bands=this.calculateBands(this._domain,[0,1]).bands),this._bands}normalizeDomains(...i){return lO(...i)}convert(i,e){i instanceof Date||(i=new Date(i));let{domain:n,interval:r}=this;if(n.length<2)return NaN;if(e?.clamp!==!0&&r!=null){let a=i.valueOf(),[o,s]=Lw(n,r),l=Math.min(o.valueOf(),s.valueOf()),c=Math.max(o.valueOf(),s.valueOf());if(a<l||a>=c+ya(r))return NaN}return super.convert(i,e)}calculateBands(i,e,n=!1){if(i===this.domain&&e[0]===0&&e[1]===1&&!n&&this._bands!=null)return{bands:this._bands,firstBandIndex:0};if(i.length<2)return{bands:[],firstBandIndex:void 0};let{interval:r}=this;if(r==null)return{bands:[],firstBandIndex:void 0};let a={visibleRange:e,extend:n};if(!PH(i,r,a))return{bands:[],firstBandIndex:void 0};let[o,s]=Lw(i,r);if(gO(r,o,s,a)>BW)return z.warnOnce("the configured unit results in too many bands, ignoring. Supply a larger unit."),{bands:[],firstBandIndex:void 0};let l=jo(r,o,s,a),c=FD(r,o,s,a);return{bands:l,firstBandIndex:c}}ticks({interval:i},e=this.domain,n=[0,1],{extend:r=!1}={}){if(e.length<2)return;let{bands:a,firstBandIndex:o}=this.calculateBands(e,n,r),s=this.interval?ya(this.interval):1/0;if(i==null)return{ticks:a,count:void 0,firstTickIndex:o};let l=Math.min(e[0].valueOf(),e[1].valueOf()),c=Math.max(e[0].valueOf(),e[1].valueOf()),d,u,h;bt(i)||typeof i=="string"?(d=jo(i,e[0],e[1],{extend:!0,visibleRange:n}),u=0,h=d.length-1):(d=a,u=Cs(0,a.length-1,w=>a[w].valueOf()<=l)??0,h=Cs(0,a.length-1,w=>a[w].valueOf()<=c)??a.length-1);let m=[],p;for(let w=u;w<=h;w++){let D=d[w].valueOf(),k=Cs(0,a.length-1,A=>a[A].valueOf()<=D),E=k!=null&&k!=p?a[k]:void 0;p=k,E!=null&&D-E.getTime()<=s&&m.push(E)}let g,y;if(this.interval){let w=Lw([new Date(l),new Date(c)],this.interval);g=w[0].valueOf(),y=w[1].valueOf()}else g=l,y=c;let v=fc(0,m.length-1,w=>m[w].valueOf()>=g)??0,x=Cs(0,m.length-1,w=>m[w].valueOf()<=y)??m.length-1;return r&&(v=Math.max(v-1,0),x=Math.min(x+1,m.length-1)),{ticks:m.slice(v,x+1),count:m.length,firstTickIndex:o}}};function PH(t,i,e){let[n,r]=Lw(t,i);return gO(i,n,r,e)<=BW}function Lw(t,i){let e=Lo(i,t[0]),n=Lo(i,t[1]);return[e,n]}function Vhe(t,i,e,n,r){let[a,o]=er(i.map(Number)),s=Math.floor(e.unzoomed);if(s<=1){let[v,x]=Bhe(a,o),w=5*Math.pow(2,-Math.ceil(Math.log2(r[1]-r[0]))),{ticks:D}=Vv(v,x,w,void 0,void 0,r),k=[t.toDomain(v),t.toDomain(x)];return n&&k.reverse(),{domain:k,ticks:D}}if(a===o){let v=Math.floor(Math.log10(a)),x=Math.pow(10,v),w=Math.min(x,1),D=s-1;a-=w*Math.floor(D/2),o=a+w*D}let l=a,c=o;l=zhe(l,c,s);let d=Uhe(l,c,s),u=s-1;c=l+u*d;let h=Math.floor(l/d)*d,m=Math.floor(c/d)*d;h<=a&&m>=o&&(l=h,c=m);let p=[t.toDomain(l),t.toDomain(c)];n&&p.reverse();let g=d*((e.unzoomed-1)/(e.zoomed-1)),y=jhe(l,g,Math.floor(e.zoomed));return{domain:p,ticks:y}}function Bhe(t,i){let e=t,n=i,r=0;do{[e,n]=NW(e,n);let{ticks:a}=Vv(e,n,5);if(a.length%2===1)return[e,n];e-=1,n+=1}while(r++<10);return[t,i]}function zhe(t,i,e){t=Math.floor(t);let n=Math.abs(i-t)/(e-1),r=Math.floor(Math.log10(n)),a=Math.pow(10,r);return Math.floor(t/a)*a}function jhe(t,i,e){let n=Qp(i),r=Math.pow(10,n),a=[];for(let o=0;o<e;o++){let s=t+i*o;a.push(Math.round(s*r)/r)}return a}function Uhe(t,i,e){let n=e-1,r=(i-t)/n;return Hhe(r)}function Hhe(t){let i=Math.floor(Math.log10(t)),e=Math.pow(10,i),n=t/e;return n>0&&n<=1?e:n>1&&n<=2?2*e:n>2&&n<=5?5*e:n>5&&n<=10?10*e:t}function DO(){let t=new Map;return i=>{let e=t.get(i);return e?(t.set(i,e+1),`${i}_${e}`):(t.set(i,1),i)}}var Ghe=18,Whe=[1,2,3,4,6,8,9,10,12],$he=new Date(1970,0,4),jW=class{constructor(t){this.axis=t}estimateTickCount(t,i,e,n,r,a){let{scale:o,label:s}=this.axis,{defaultTickCount:l}=o,c=Of(i),d=Of(e);if(Uf.is(o)){let u=t.length,h=Math.ceil(c/(d*s.fontSize));return h=Math.min(h,u),{minTickCount:0,maxTickCount:u,tickCount:h}}return PW(c,d,r,a,l,n)}generateTicks({range:t,domain:i,reverse:e,primaryTickCount:n,defaultTickMinSpacing:r,visibleRange:a,niceMode:o,parallelFlipRotation:s,regularFlipRotation:l,labelX:c,sideFlag:d,removeOverflowLabels:u,removeOverflowThreshold:h=0,sizeLimit:m}){let{label:p,primaryLabel:g,interval:{minSpacing:y,maxSpacing:v}}=this.axis,{parallel:x,fontFamily:w,fontSize:D,fontStyle:k,fontWeight:E}=p,A=n!==void 0,{defaultRotation:N,configuredRotation:F,parallelFlipFlag:P,regularFlipFlag:U}=bhe(p.rotation,x,l,s),{maxTickCount:H}=this.estimateTickCount(i,t,a,r,y,v),q=Number.isFinite(H)?H:10,he=vhe(x,F,d,P),ne={fontFamily:w,fontSize:D,fontStyle:k,fontWeight:E},Oe=tu.getMeasurer({font:ne}),st=p.enabled&&p.avoidCollisions,Ct=F+N,Zt=new Ec,Xt=Pe=>{let ot=Ct+Pe;Ec.updateTransformMatrix(Zt,1,1,ot,0,0)},vt=({ticks:Pe},ot)=>(Xt(ot),Che(Pe,c,Zt,Oe,p)),Ge=(Pe,ot)=>{let{niceDomain:lt,ticks:Si,timeInterval:dn}=Pe;if(dn==null)return[];Xt(ot);let Qi=Khe(Si),{width:bi,height:Fn}=xhe(p,g,lt??i,dn,Oe);return whe({width:bi,height:Fn,spacing:Qi},c,Zt)},We=(Pe,ot)=>{if(!st)return!1;let lt=F!==0||ot!==0,Si=yhe(p.minSpacing,lt);return FH(Ge(Pe,ot),Si)||FH(vt(Pe,ot),Si)},Fe={tickDomain:[],niceDomain:i,ticks:[],rawTicks:[],rawTickCount:void 0,timeInterval:void 0,fractionDigits:0},jt=0,ft=0,dt=!0,rt=!1;for(;!rt&&dt&&jt<=q;){ft=0;for(let Pe of this.getTickStrategies({domain:i,range:t,reverse:e,niceMode:o,secondaryAxis:A,sizeLimit:m}))({tickData:Fe,index:jt,autoRotation:ft,terminate:rt}=Pe({index:jt,tickData:Fe,terminate:rt,primaryTickCount:n,defaultTickMinSpacing:r,visibleRange:a,labelsOverlap(){return We(Fe,ft)}}));dt=We(Fe,ft)}let Ze=_he(x,F,ft,d,U),je=F+ft;if(u&&Fe.ticks.length>2){let Pe=vt(Fe,ft),ot=Fe.ticks.at(-1),lt=Pe.at(-1);ot!=null&&lt!=null&&ot.translation+lt.label.width/2>t[1]+h&&(ot.tickLabel=void 0,a[0]===0&&a[1]===1&&(Fe.ticks[0].tickLabel=void 0))}return{tickData:Fe,rotation:je,textBaseline:he,textAlign:Ze}}getTickStrategies({domain:t,range:i,reverse:e,niceMode:n,secondaryAxis:r,sizeLimit:a}){let{label:o,interval:s}=this.axis,l=o.enabled&&o.avoidCollisions,c=o.autoRotate===!0&&o.rotation===void 0,d=[],u;s.values?u=2:r?u=1:u=0;let h=({index:m,tickData:p,primaryTickCount:g,defaultTickMinSpacing:y,visibleRange:v,terminate:x})=>this.createTickData(t,i,e,n,v,g,y,u,m,p,x,a);if(d.push(h),l&&c){let m=({index:p,tickData:g,labelsOverlap:y,terminate:v})=>({index:p,tickData:g,autoRotation:y()?Ac(o.autoRotateAngle):0,terminate:v});d.push(m)}return d}createTickData(t,i,e,n,r,a,o,s,l,c,d,u){let{interval:h}=this.axis,{step:m,values:p,minSpacing:g,maxSpacing:y}=h,{maxTickCount:v,minTickCount:x,tickCount:w}=this.estimateTickCount(t,i,r,o,g,y),D=w-x,k=Ge=>Math.max(w-Ge,x),E=c.rawTicks,A=m==null&&p==null&&k(l)>x,N={domain:t,reverse:e,niceMode:n,visibleRange:r,primaryTickCount:a,tickGenerationType:s,minTickCount:x,maxTickCount:v,tickCount:0};N.tickCount=k(l);let F=this.getTicks(N);if(A&&VH(F.rawTicks,E)){let Ge=l,We=D;for(;Ge<=We;){l=(Ge+We)/2|0,N.tickCount=k(l);let Fe=this.getTicks(N);VH(Fe.rawTicks,E)?Ge=l+1:(F=Fe,We=l-1)}}let{tickDomain:P,niceDomain:U,rawTicks:H,rawTickCount:q,rawFirstTickIndex:he,generatePrimaryTicks:ne,primaryTicksIndices:Oe,alignment:st,fractionDigits:Ct,timeInterval:Zt}=F,Xt=this.formatTicks({range:i,niceDomain:U,rawTicks:H,rawFirstTickIndex:he,generatePrimaryTicks:ne,primaryTicksIndices:Oe,alignment:st,fractionDigits:Ct,timeInterval:Zt,sizeLimit:u}),vt={tickDomain:P,niceDomain:U,rawTicks:H,rawTickCount:q,timeInterval:Zt,fractionDigits:Ct,ticks:Xt};return l+=1,d||(d=m!=null||p!=null),{tickData:vt,index:l,autoRotation:0,terminate:d}}getTimeIntervalTicks(t,i,e,n,r,a){let o=uv(r);if(o==null)return;let{scale:s}=this.axis;if(!vf.is(s)&&!Rs.is(s))return;a&&(t=[1-t[1],1-t[0]]);let l=Math.min(s.domain[0].valueOf(),s.domain[s.domain.length-1].valueOf()),c=Math.max(s.domain[0].valueOf(),s.domain[s.domain.length-1].valueOf()),[d,u]=fO(new Date(l),new Date(c),t);d=Lo(o,d),d.valueOf()>=l&&(d=yW(o,d)),u=bW(o,u),u.valueOf()<=c&&(u=vW(o,u));let h=jo(o,d,u),m=ya(r),p=new Set,g=cf.is(s),y=[],v=S(f({},n),{interval:r}),x,w,D=0;if(cf.is(s)){let E=this.axis.minimumTimeGranularity,A=Rl(r);x=E!=null&&ya(E)>=ya(A)?2:3,w=1;let N=i/e,F=s.bandCount(t)/(N*Ghe);D=Whe.findLast(P=>F>=P)??1}else Fd.is(s)&&(s.interval==null||ya(s.interval)>=m)?x=1:(x=0,w=2);for(let E=0;E<h.length-1;E+=1){let A=h[E],N=h[E+1],F=E===0,P=E===h.length-2,U=N.valueOf()-A.valueOf(),H=[Math.max((l-A.valueOf())/U,0),Math.min((c-A.valueOf())/U,1)],q;switch(x){case 0:q=Yhe(v.interval,[A,N],H,!0).ticks;break;case 1:case 3:q=s.ticks(v,[A,N],H,{extend:!0,dropInitial:!0})?.ticks??[];break;case 2:q=s.stepTicks(D,[A,N],void 0,!P);break}if(DU(q,st=>st.valueOf()<A.valueOf()),P||SU(q,st=>{switch(x){case 0:case 3:return st.valueOf()+m>N.valueOf();case 1:case 2:return st.valueOf()>=N.valueOf()}}),q.length===0)continue;let he=q[0],ne=xO(he,A);(x===0?ne===0:ne<=m)&&(!g||!F)&&p.add(y.length),y.push(...q)}return(p.size===0||p.size===1&&p.has(0))&&(p=void 0),{ticks:y,tickCount:void 0,firstTickIndex:void 0,primaryTicksIndices:p,alignment:w}}getTicks({domain:t,reverse:i,niceMode:e,visibleRange:n,tickGenerationType:r,tickCount:a,minTickCount:o,maxTickCount:s,primaryTickCount:l}){let{axis:c}=this,{primaryLabel:d,scale:u,interval:h}=c,m={nice:e===0,interval:h.step,tickCount:a,minTickCount:o,maxTickCount:s},p=S(f({},m),{nice:e===0||e===1}),g;r===1&&l!=null&&Di.is(u)&&(g=Vhe(u,t,l,i,n));let y=e===0?g?.domain??u.niceDomain(m,t):t,v=y,x,w,D,k,E,A,N=d?.enabled===!0&&p.interval==null,F=u.domain;switch(u.domain=y,r){case 2:if(v=h.values,x=h.values,w=x.length,cf.is(u)?A=1:Fd.is(u)&&(A=2),Di.is(u)){let[U,H]=er(y.map(Number));x=x.filter(q=>Number(q)>=U&&Number(q)<=H).sort((q,he)=>Number(q)-Number(he))}break;case 1:if(g)x=g.ticks,w=g.ticks.length;else{let U=u.ticks(p,y,n);x=U?.ticks??[],w=U?.count}break;default:{if(y.length>0&&p.interval==null&&(Fd.is(u)||N&&(vf.is(u)||cf.is(u)))){let q=y,he=Math.min(q[0].valueOf(),q[q.length-1].valueOf()),ne=Math.max(q[0].valueOf(),q[q.length-1].valueOf());k=UD(he,ne,a,o,s,{weekStart:d==null?$he:void 0,primaryOnly:!0})}let U;cf.is(u)?U=c.minimumTimeGranularity:Fd.is(u)&&(U=u.interval),U!=null&&k!=null&&ya(U)>=ya(k)&&(k=U);let H=k?this.getTimeIntervalTicks(n,a,s,p,k,i):void 0;if(H)({ticks:x,tickCount:w,firstTickIndex:D,primaryTicksIndices:E,alignment:A}=H);else{let q=Fd.is(u)&&p.interval==null&&k!=null?S(f({},p),{interval:k}):p,he=u.ticks(q,y,n);if(x=he?.ticks??[],w=he?.count,D=he?.firstTickIndex,vf.is(u)||Rs.is(u)){let ne=p,Oe=typeof ne.interval=="number"?Fv(ne.interval):ne.interval;k??(k=Oe??he?.timeInterval)}}}}let P=x.reduce((U,H)=>Math.max(U,typeof H=="number"?Qp(H):0),0);return N||(E=void 0),u.domain=F,{tickDomain:v,niceDomain:y,rawTicks:x,rawTickCount:w,rawFirstTickIndex:D,generatePrimaryTicks:N,primaryTicksIndices:E,alignment:A,fractionDigits:P,timeInterval:k}}formatTicks({niceDomain:t,range:i,rawTicks:e,rawFirstTickIndex:n=0,generatePrimaryTicks:r,primaryTicksIndices:a,alignment:o,fractionDigits:s,timeInterval:l,sizeLimit:c=1/0}){let{axis:d}=this,{label:u,scale:h}=d,m=h.domain;h.domain=t;let p=r?"component":"long",g=u.enabled?d.tickFormatter(t,e,!1,s,l,p):void 0,y=l!=null?uv(l):void 0,v=r?d.tickFormatter(t,e,!0,s,y,p):void 0,x=(h.bandwidth??0)/2,w=[],D=vf.is(h)||Rs.is(h),k=DO(),E=d.direction==="y",A=(Lc.is(h)?h.bandwidth:null)??1/0,N={font:u,maxWidth:E?c:A,maxHeight:E?A:c,overflow:u.truncate?"ellipsis":"hide",textWrap:u.wrapping};for(let F=0;F<e.length;F++){let P=e[F],U=h.convert(P,{alignment:o})+x;if(i.length>0&&!d.inRange(U,.001))continue;let H=a?.has(F)??!1,q=H?v?.(P,F):g?.(P,F),he=q??String(P);u.avoidCollisions&&(q=Iv.wrapText(he,N)||q);let ne,Oe=D?P?.valueOf():void 0;Number.isFinite(Oe)?ne=k(`v:${Oe}`):ne=k(`l:${q}`),w.push({index:F+n,tick:P,tickId:ne,tickLabel:q,textUntruncated:q!=null&&he!==q?he:void 0,translation:Math.floor(U),primary:H})}return h.domain=m,w}};function FH(t,i=0){let e=[];for(let n of t){let{x:r,y:a}=n.point,{width:o,height:s}=n.label;if(o+=i,s+=i,e.some(l=>dw(l,r,a,o,s)))return!0;e.push({x:r,y:a,width:o,height:s})}return!1}function Yhe(t,i,e,n){if(t==null)return{ticks:i,firstTickIndex:void 0};let r=i[0].valueOf(),a=i[1].valueOf();if(typeof t!="number"){let s=i[0],l=typeof t=="string"?{unit:t,epoch:s}:S(f({},t),{epoch:s}),c=jo(l,i[0],i[1],{visibleRange:e,extend:n}),d=FD(l,i[0],i[1],{visibleRange:e,extend:n});return{ticks:c,firstTickIndex:d}}let o=[];for(let s=r;s<=a;s+=t)o.push(new Date(s));return{ticks:o,firstTickIndex:void 0}}function VH(t,i){if(t.length!==i.length)return!1;for(let e=0;e<t.length;e+=1)if(t[e]?.valueOf()!==i[e]?.valueOf())return!1;return!0}function Khe(t){if(t.length<2)return 1/0;let i=0,e=t[0].translation;for(let n=1;n<t.length;n++){let r=t[n].translation,a=Math.abs(r-e);i=Math.max(i,a),e=r}return i}var SO=class extends Ui{constructor(){super(...arguments),this.autoRotateAngle=335}};b([C],SO.prototype,"autoRotate",2);b([C],SO.prototype,"autoRotateAngle",2);var WD=class UW extends yO{constructor(i,e){super(i,e),this.maxThicknessRatio=.3,this.headingLabelGroup=this.axisGroup.appendChild(new Kr({name:`${this.id}-Axis-heading`})),this.lineNodeGroup=this.axisGroup.appendChild(new Kr({name:`${this.id}-Axis-line`})),this.lineNode=this.lineNodeGroup.appendChild(new Vo({zIndex:1})),this.tickLineGroupSelection=qr.select(this.tickLineGroup,Vo,!1),this.gridLineGroupSelection=qr.select(this.gridLineGroup,Vo,!1),this.gridFillGroupSelection=qr.select(this.gridFillGroup,ir,!1),this.tempText=new If({debugDirty:!1}),this.tempCaption=new on,this.tickGenerator=new jW(this),this.animationManager=i.animationManager,this.animationState=new Rv("empty",{empty:{update:{target:"ready",action:()=>this.resetSelectionNodes()},reset:"empty"},ready:{update:r=>this.animateReadyUpdate(r),resize:()=>this.resetSelectionNodes(),reset:"empty"}}),this.headingLabelGroup.appendChild(this.title.caption.node);let n;this.cleanup.register(i.eventsHub.on("layout:complete",r=>{let a=[r.chart.width,r.chart.height];n!=null&&!Oa(a,n)&&this.animationState.transition("resize"),n=a}),this.title.caption.registerInteraction(this.moduleCtx,"afterend"))}static is(i){return i instanceof UW}get horizontal(){return this.position==="top"||this.position==="bottom"}onGridVisibilityChange(){this.gridLineGroupSelection.clear(),this.gridFillGroupSelection.clear()}resetAnimation(i){i==="initial"&&this.animationState.transition("reset")}get direction(){return this.position==="top"||this.position==="bottom"?"x":"y"}createAxisContext(){return S(f({},super.createAxisContext()),{position:this.position})}createLabel(){return new SO}updateDirection(){switch(this.position){case"top":this.label.mirrored=!0,this.label.parallel=!0;break;case"right":this.label.mirrored=!0,this.label.parallel=!1;break;case"bottom":this.label.mirrored=!1,this.label.parallel=!0;break;case"left":this.label.mirrored=!1,this.label.parallel=!1;break}this.axisContext&&(this.axisContext.position=this.position,this.axisContext.direction=this.direction)}calculateLayout(i,e){return this.updateDirection(),super.calculateLayout(i,e)}layoutCrossLines(){let i=this.hasDefinedDomain()||this.hasVisibleSeries();this.crossLines.forEach(e=>{e.calculateLayout?.(i)})}calculateTickLayout(i,e,n,r){let a=this.label.getSideFlag(),o=this.horizontal?-.5*Math.PI:0,s=Dn(o),l=Dn(o-Math.PI/2),c=a*(this.getTickSize()+this.label.spacing+this.seriesAreaPadding);if(e===2&&this.label.enabled===!1&&this.tick.enabled===!1&&this.gridLine.enabled===!1){let{bbox:Xt,spacing:vt}=this.tickBBox(i,[],[]);return{ticks:[],rawTickCount:0,tickDomain:i,niceDomain:i,fractionDigits:0,timeInterval:void 0,bbox:Xt,layout:{ticks:[],tickLines:[],gridLines:[],gridFills:[],labels:[],spacing:vt}}}let{range:d,reverse:u,defaultTickMinSpacing:h}=this,m=this.label.avoidCollisions&&this.horizontal&&(Di.is(this.scale)||Rs.is(this.scale)),p=this.tickGenerator.generateTicks({domain:i,range:d,reverse:u,niceMode:e,visibleRange:n,primaryTickCount:r,defaultTickMinSpacing:h,parallelFlipRotation:s,regularFlipRotation:l,labelX:c,sideFlag:a,sizeLimit:this.chartLayout?.sizeLimit,removeOverflowLabels:m,removeOverflowThreshold:this.chartLayout?.padding.right}),{tickData:g}=p,{ticks:y,tickDomain:v,rawTicks:x,rawTickCount:w,fractionDigits:D,timeInterval:k,niceDomain:E}=g,A=y.map(Xt=>this.getTickLabelProps(Xt,p)),{position:N,gridPadding:F,gridLength:P}=this,U=N==="bottom"||N==="right"?-1:1,H=U*F,q=U*(P+F),he=this.calculateGridLines(y,H,q),ne=this.calculateGridFills(y,H,q),Oe=this.calculateTickLines(y,U),{bbox:st,spacing:Ct}=this.tickBBox(v,y,A);return{ticks:x,rawTickCount:w,tickDomain:v,niceDomain:E,fractionDigits:D,timeInterval:k,bbox:st,layout:{ticks:y,gridLines:he,gridFills:ne,tickLines:Oe,labels:A,spacing:Ct}}}calculateGridLines(i,e,n){return i.map((r,a)=>this.calculateGridLine(r,a,e,n,i))}calculateGridLine({index:i,tickId:e,translation:n},r,a,o,s){let{gridLine:l,horizontal:c}=this,[d,u,h,m]=c?[n,a,n,o]:[a,n,o,n],{style:p}=l,{stroke:g,strokeWidth:y=0,lineDash:v}=p[i%p.length]??{};return{tickId:e,offset:n,x1:d,y1:u,x2:h,y2:m,stroke:g,strokeWidth:y,lineDash:v}}calculateGridFills(i,e,n){let{horizontal:r,range:a,type:o}=this,s=[];if(i.length==0)return s;let l=0,c=!r&&o==="unit-time";if(c&&i[0].translation<a[0]||!c&&i[0].translation>a[0]){let u={tickId:`before:${i[0].tickId}`,translation:a[0]};s.push(this.calculateGridFill(u,-1,i[0].index,e,n,i)),l=1}return s.push(...i.map((u,h)=>this.calculateGridFill(u,h,u.index+l,e,n,i))),s}calculateGridFill({tickId:i,translation:e},n,r,a,o,s){let{gridLine:l,horizontal:c,range:d}=this,u=s[n+1],h=e,m=u?u.translation:d[1],[p,g,y,v]=c?[h,Math.max(a,o),m,Math.min(a,o)]:[Math.min(a,o),Math.min(h,m),Math.max(a,o),Math.max(h,m)],{fill:x,fillOpacity:w}=l.style[r%l.style.length]??{};return{tickId:i,x1:p,y1:g,x2:y,y2:v,fill:x,fillOpacity:w}}calculateTickLines(i,e){return i.map(n=>this.calculateTickLine(n,n.index,e,i))}calculateTickLine({primary:i,tickId:e,translation:n},r,a,o){let{horizontal:s,tick:l,primaryTick:c}=this,d=i&&c?.enabled?c:l,u=-a*this.getTickSize(d),[h,m,p,g]=s?[n,0,n,u]:[0,n,u,n],{stroke:y,width:v}=d;return{tickId:e,offset:n,x1:h,y1:m,x2:p,y2:g,stroke:y,strokeWidth:v,lineDash:void 0}}update(){this.updateDirection();let i=Array.from(this.tickLabelGroupSelection.nodes(),o=>o.datum.tickId);super.update(),this.tickLineGroup.visible=this.tick.enabled||(this.primaryTick?.enabled??!1),this.tickLabelGroup.visible=this.label.enabled||(this.primaryTick?.enabled??!1);let{tickLayout:e}=this;if(this.updateTitle(this.scale.domain,e?.spacing??0),this.animatable||this.moduleCtx.animationManager.skipCurrentBatch(),e){let{ticks:o}=e;if(this.animationManager.isSkipped())this.resetSelectionNodes();else{let s=o.map(c=>c.tickId),l=AU(i,s);this.animationState.transition("update",l)}}let{enabled:n,stroke:r,width:a}=this.line;this.lineNode.setProperties({stroke:r,strokeWidth:n?a:0}),this.updateTickLines(),this.updateGridLines(),this.updateGridFills()}getAxisTransform(){return{translationX:Math.floor(this.translation.x),translationY:Math.floor(this.translation.y)}}updatePosition(){super.updatePosition();let i=this.getAxisTransform();this.tickLineGroup.datum=i,this.tickLabelGroup.datum=i,this.lineNodeGroup.datum=i,this.headingLabelGroup.datum=i}getAxisLineCoordinates(){let{horizontal:i}=this,[e,n]=er(this.range);return i?{x1:e,x2:n,y1:0,y2:0}:{x1:0,x2:0,y1:e,y2:n}}getTickLineBBox(i){let{translation:e}=i,{position:n,primaryTick:r}=this,a=this.getTickSize();switch(r?.enabled&&(a=Math.max(a,this.getTickSize(r))),n){case"top":return new we(e,-a,e,a);case"bottom":return new we(e,0,e,a);case"left":return new we(-a,e,a,e);case"right":return new we(0,e,a,e)}}lineNodeBBox(){let{position:i,seriesAreaPadding:e}=this,{y1:n,y2:r}=this.getAxisLineCoordinates(),a=r-n;switch(i){case"top":return new we(n,-e,a,e);case"bottom":return new we(n,0,a,e);case"left":return new we(-e,n,e,a);case"right":return new we(0,n,e,a)}}titleBBox(i,e){let{tempCaption:n}=this;return n.node.setProperties(this.titleProps(n,i,e)),n.node.getBBox()}tickBBox(i,e,n){let{tick:r,primaryTick:a,label:o,primaryLabel:s,title:l,position:c,horizontal:d,seriesAreaPadding:u}=this,h=[];if(h.push(this.lineNodeBBox()),r.enabled||a?.enabled)for(let y of e)h.push(this.getTickLineBBox(y));let{tempText:m}=this;if(o.enabled)for(let y of n){if(!y.visible)continue;m.setProperties(y);let v=m.getBBox(!1);v&&h.push(v)}if(s?.enabled&&c==="bottom"&&(h.push(new we(0,Pi.getLineHeight(o.fontSize)+2,1,this.getTickSize(r)+o.spacing+u)),s.format!=null)){let{format:v}=s,w=(bt(v)?Object.values(v):[v]).reduce((D,k)=>Math.max(D,pU(k)),0);h.push(new we(0,this.getTickSize(a??r)+s.spacing+u,1,w*Pi.getLineHeight(s.fontSize)+2))}let p=0;if(l.enabled){let y=we.merge(h);p=d?y.height:y.width,h.push(this.titleBBox(i,p))}return{bbox:we.merge(h),spacing:p}}titleProps(i,e,n){let{title:r}=this;if(!r.enabled)return i.enabled=!1,{visible:!1,text:"",textBaseline:"bottom",x:0,y:0,rotationCenterX:0,rotationCenterY:0,rotation:0};i.enabled=!0,i.color=r.color,i.fontFamily=r.fontFamily,i.fontSize=r.fontSize,i.fontStyle=r.fontStyle,i.fontWeight=r.fontWeight,i.wrapping=r.wrapping;let a=(r.spacing??0)+n,{range:o}=this,s=(o[0]+o[1])/2,l,c,d,u;switch(this.position){case"top":l=s,c=-a,d=0,u="bottom";break;case"bottom":l=s,c=a,d=0,u="top";break;case"left":l=-a,c=s,d=-.5*Math.PI,u="bottom";break;case"right":l=a,c=s,d=.5*Math.PI,u="bottom";break}let{formatter:h=p=>p.defaultValue}=r,m=this.cachedCallWithContext(h,this.getTitleFormatterParams(e));return i.text=m,{visible:!0,text:m,textBaseline:u,x:l,y:c,rotationCenterX:l,rotationCenterY:c,rotation:d}}getLabelBorderOffset(i){let e=Nf(i);function n(r){return r}switch(this.position){case"top":return e.bottom;case"right":return e.left;case"bottom":return e.top;case"left":return e.right;default:this.position}}getTickLabelProps(i,e){let{horizontal:n,primaryLabel:r,primaryTick:a,seriesAreaPadding:o,scale:s}=this,{tickId:l,tickLabel:c="",translation:d,primary:u,textUntruncated:h}=i,m=u&&r?.enabled?r:this.label,p=u&&a?.enabled?a:this.tick,{rotation:g,textBaseline:y,textAlign:v}=e,{range:x}=s,w=this.label.getSideFlag(),D=-this.getLabelBorderOffset(m),k=w*(this.getTickSize(p)+m.spacing+o)+D,E=c!=="",A=n?d:k,N=n?-k:d;return S(f({},this.getLabelStyles({value:c},void 0,m)),{tickId:l,rotation:g,text:c,textAlign:v,textBaseline:y,textUntruncated:h,visible:E,x:A,y:N,rotationCenterX:A,rotationCenterY:N,range:x})}updateSelections(){if(!this.tickLayout)return;let i=this.getAxisLineCoordinates(),{tickLines:e,gridLines:n,gridFills:r,labels:a}=this.tickLayout,o=s=>s.tickId;this.lineNode.datum=i,this.gridLineGroupSelection.update(this.gridLine.enabled?n:[],void 0,o),this.gridFillGroupSelection.update(this.gridLine.enabled?r:[],void 0,o),this.tickLineGroupSelection.update(e,void 0,o),this.tickLabelGroupSelection.update(a,void 0,o)}updateGridLines(){this.gridLineGroupSelection.each((i,e)=>{i.stroke=e.stroke,i.strokeWidth=e.strokeWidth,i.lineDash=e.lineDash})}updateGridFills(){this.gridFillGroupSelection.each((i,e)=>{i.fill=e.fill,i.fillOpacity=e.fillOpacity??1})}updateTickLines(){this.tickLineGroupSelection.each((i,e)=>{i.stroke=e.stroke,i.strokeWidth=e.strokeWidth,i.lineDash=e.lineDash})}updateTitle(i,e){let{caption:n}=this.title,r=this.titleProps(n,i,e);n.node.visible=r.visible,n.node.text=r.text,n.node.textBaseline=r.textBaseline,n.node.datum=r}updateLabels(){this.label.enabled&&this.tickLabelGroupSelection.each((i,e)=>{i.fill=e.color,i.text=e.text,i.textBaseline=e.textBaseline,i.textAlign=e.textAlign??"center",i.pointerEvents=e.textUntruncated==null?1:0,i.setFont(e),i.setBoxing(e)})}animateReadyUpdate(i){let{animationManager:e}=this.moduleCtx,n=wW(this),r=DW(n);Tn(this.id,"axis-group",e,[this.lineNodeGroup,this.tickLabelGroup,this.tickLineGroup,this.headingLabelGroup],r.group),Tn(this.id,"line",e,[this.lineNode],r.line),Tn(this.id,"line-paths",e,[this.gridLineGroupSelection,this.tickLineGroupSelection],r.tick,(a,o)=>o.tickId,i),Tn(this.id,"tick-labels",e,[this.tickLabelGroupSelection],r.label,(a,o)=>o.tickId,i),Tn(this.id,"title",e,[this.title.caption.node],r.label,(a,o)=>o.tickId,i)}resetSelectionNodes(){Er([this.lineNodeGroup,this.tickLabelGroup,this.tickLineGroup,this.headingLabelGroup],SW()),Er([this.gridLineGroupSelection,this.tickLineGroupSelection],dR()),Er([this.gridFillGroupSelection],MW()),Er([this.tickLabelGroupSelection],nD()),Er([this.title.caption.node],nD()),Er([this.lineNode],dR())}};b([C],WD.prototype,"thickness",2);b([C],WD.prototype,"maxThicknessRatio",2);b([C],WD.prototype,"position",2);var Bv=WD,HW=["top","right","bottom","left"];function qhe(t){return typeof t=="string"&&HW.includes(t)}function Zhe(t){let i=[],e=[],n=[...HW];for(let r of t)r instanceof Bv&&(qhe(r.position)?e.push(r.position):i.push(r));for(let r of i){let a;do a=n.pop();while(a&&e.includes(a));if(a==null)break;r.position=a}}var Qhe=["direction","xKey","yKey","sizeKey","angleKey","radiusKey","normalizedTo"];function Xhe(t,i,e){let n=(c,d,u)=>{let h=[c];for(let m of Qhe)m in d&&d[m]!=null&&h.push(`${m}=${d[m]}`);return u?.seriesGrouping&&h.push(`seriesGrouping.groupId=${u?.seriesGrouping.groupId}`),h.join(";")},r=new Map,a=0;for(let c of t){let d=n(c.type,c.properties,e?.[a]);r.has(d)||r.set(d,[]),r.get(d)?.push([c,a++])}let o=new Map;a=0;for(let c of i){let d=n(c.type,c,c);o.has(d)||o.set(d,[]),o.get(d)?.push([c,a++])}if(![...r.keys()].some(c=>o.has(c)))return{status:"no-overlap",oldKeys:r.keys(),newKeys:o.keys()};let l=[];for(let[c,d]of o.entries())for(let[u,h]of d){let m=r.get(c);if(m==null||m.length<1){l.push({opts:u,targetIdx:h,idx:h,status:"add"}),r.delete(c);continue}let[p,g]=m.shift(),y=e?.[g]??{},v=Tc(y,u??{}),{groupIndex:x,stackIndex:w}=v?.seriesGrouping??{};x!=null||w!=null?l.push({opts:u,series:p,diff:v,targetIdx:h,idx:g,status:"series-grouping"}):v?l.push({opts:u,series:p,diff:v,targetIdx:h,idx:g,status:"update"}):l.push({opts:u,series:p,targetIdx:h,idx:g,status:"no-op"}),m.length===0&&r.delete(c)}for(let c of r.values())for(let[d,u]of c)l.push({series:d,idx:u,targetIdx:-1,status:"remove"});return{status:"overlap",changes:l}}function $D(t){let{series:i}=t;return i?.[0]?.type??"line"}function GW(t){let i=$D(t);return Jn.isCartesian(i)||the(i)}function Jhe(t){let i=$D(t);return Jn.isPolar(i)||ihe(i)}function WW(t){let i=$D(t);return Jn.isTopology(i)||nhe(i)}function $W(t){let i=$D(t);return Jn.isStandalone(i)||rhe(i)}var eme=class extends bO{applyOptions(t){for(let i of this.moduleMap.values())i.module.optionsKey in t&&Nh(i.moduleInstance)&&i.moduleInstance.set(t[i.module.optionsKey])}*legends(){for(let{module:t,moduleInstance:i}of this.moduleMap.values())t.type==="legend"&&(yield{legendType:t.identifier,legend:i})}},mR="ag-charts-overlay",BH="ag-charts-dark-overlay",Oh=class extends nt{constructor(t,i){super(),this.className=t,this.defaultMessageId=i,this.enabled=!0}getText(t){return Xe(this.text)?this.text.map(i=>i.text).join(""):t.t(this.text??this.defaultMessageId)}getElement(t,i,e,n){if(this.content?.remove(),this.focusBox=n,this.renderer){let r={},a=Ls(t,this.renderer,r);if(a instanceof HTMLElement)this.content=a;else{let o=Ne("div");o.innerHTML=a;let{firstElementChild:s}=o;s instanceof HTMLElement&&o.childElementCount===1?this.content=s:this.content=o}}else{let r=Ne("div",{display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",height:"100%",margin:"8px",fontFamily:"var(--ag-charts-font-family)",fontSize:"var(--ag-charts-font-size)",fontWeight:"var(--ag-charts-font-weight)"});if(Xe(this.text)){let a=Ne("div");for(let o of this.text){let s=Ne("span",{color:o.color,fontSize:`${o.fontSize}px`,fontFamily:o.fontFamily??"inherit",fontWeight:String(o.fontWeight),fontStyle:o.fontStyle});s.innerText=o.text,a.appendChild(s)}r.appendChild(a)}else r.innerText=this.getText(e);this.content=r,i?.animate({from:0,to:1,id:"overlay",phase:"add",groupId:"opacity",onUpdate(a){r.style.opacity=String(a)},onStop(){r.style.opacity="1"}})}return this.content}removeElement(t=()=>this.content?.remove(),i){if(this.content){if(i){let{content:e}=this;i.animate({from:1,to:0,phase:"remove",id:"overlay",groupId:"opacity",onUpdate(n){e.style.opacity=String(n)},onStop(){t?.()}})}else t?.();this.content=void 0,this.focusBox=void 0}}};b([C],Oh.prototype,"enabled",2);b([C],Oh.prototype,"text",2);b([C],Oh.prototype,"renderer",2);var Hf=class extends nt{constructor(){super(...arguments),this.darkTheme=!1,this.loading=new Oh("ag-charts-loading-overlay","overlayLoadingData"),this.noData=new Oh("ag-charts-no-data-overlay","overlayNoData"),this.noVisibleSeries=new Oh("ag-charts-no-visible-series","overlayNoVisibleSeries"),this.unsupportedBrowser=new Oh("ag-charts-unsupported-browser","overlayUnsupportedBrowser")}getFocusInfo(t){for(let i of[this.loading,this.noData,this.noVisibleSeries,this.unsupportedBrowser])if(i.focusBox!==void 0)return{text:i.getText(t),rect:i.focusBox}}destroy(){this.loading.removeElement(),this.noData.removeElement(),this.noVisibleSeries.removeElement(),this.unsupportedBrowser.removeElement()}};b([C],Hf.prototype,"darkTheme",2);b([C],Hf.prototype,"loading",2);b([C],Hf.prototype,"noData",2);b([C],Hf.prototype,"noVisibleSeries",2);b([C],Hf.prototype,"unsupportedBrowser",2);function tme(t,i){let{animationDuration:e}=ov.add,n=e*i,r=Ne("div",`${mR}--loading`,{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",height:"100%",boxSizing:"border-box",font:"13px Verdana, sans-serif",userSelect:"none",animation:`ag-charts-loading ${n}ms linear 50ms both`}),a=Ne("span",{width:"45px",height:"40px",backgroundImage:["linear-gradient(#0000 calc(1 * 100% / 6), #ccc 0 calc(3 * 100% / 6), #0000 0), ","linear-gradient(#0000 calc(2 * 100% / 6), #ccc 0 calc(4 * 100% / 6), #0000 0), ","linear-gradient(#0000 calc(3 * 100% / 6), #ccc 0 calc(5 * 100% / 6), #0000 0)"].join(""),backgroundSize:"10px 400%",backgroundRepeat:"no-repeat",animation:"ag-charts-loading-matrix 1s infinite linear"}),o=Ne("p",{marginTop:"1em"});o.innerText=t;let s=Ne("div",`${mR}__loading-background`,{position:"absolute",inset:"0",opacity:"0.5",zIndex:"-1"}),l=Ne("style");return l.innerText=["@keyframes ag-charts-loading { from { opacity: 0 } to { opacity: 1 } }","@keyframes ag-charts-loading-matrix {","0% { background-position: 0% 0%, 50% 0%, 100% 0%; }","100% { background-position: 0% 100%, 50% 100%, 100% 100%; }","}"].join(" "),r.replaceChildren(l,a,o,s),r}var YW=(t=>(t[t.None=0]="None",t[t.Item=1]="Item",t[t.Series=2]="Series",t[t.OtherSeries=3]="OtherSeries",t[t.OtherItem=4]="OtherItem",t))(YW||{}),Fc=class extends nt{};b([C],Fc.prototype,"fill",2);b([C],Fc.prototype,"fillOpacity",2);b([C],Fc.prototype,"stroke",2);b([C],Fc.prototype,"strokeWidth",2);b([C],Fc.prototype,"strokeOpacity",2);b([C],Fc.prototype,"lineDash",2);b([C],Fc.prototype,"lineDashOffset",2);var Vc=class extends nt{constructor(){super(...arguments),this.enabled=!0,this.range="tooltip",this.bringToFront=!1,this.highlightedItem={},this.unhighlightedItem={},this.highlightedSeries={},this.unhighlightedSeries={}}getItemHighlightStyle(t){switch(t){case 1:return this.highlightedItem;case 4:return this.unhighlightedItem;case 2:return this.highlightedSeries;case 3:return this.unhighlightedSeries}}getSeriesHighlightStyle(t){switch(t){case 1:case 4:case 2:return this.highlightedSeries;case 3:return this.unhighlightedSeries}}getStyle(t){return Jt(this.getItemHighlightStyle(t),this.getSeriesHighlightStyle(t))}};b([C],Vc.prototype,"enabled",2);b([C],Vc.prototype,"range",2);b([C],Vc.prototype,"bringToFront",2);b([C],Vc.prototype,"highlightedItem",2);b([C],Vc.prototype,"unhighlightedItem",2);b([C],Vc.prototype,"highlightedSeries",2);b([C],Vc.prototype,"unhighlightedSeries",2);var YD=class extends nt{};b([C],YD.prototype,"strokeWidth",2);b([C],YD.prototype,"dimOpacity",2);b([C],YD.prototype,"enabled",2);var KW=class extends nt{constructor(){super(...arguments),this.color="black"}};b([C],KW.prototype,"color",2);var Go=class extends nt{constructor(){super(...arguments),this.type="gradient",this.colorStops=[],this.bounds="item",this.gradient="linear",this.rotation=0,this.reverse=!1}};b([C],Go.prototype,"type",2);b([C],Go.prototype,"colorStops",2);b([C],Go.prototype,"bounds",2);b([C],Go.prototype,"gradient",2);b([C],Go.prototype,"rotation",2);b([C],Go.prototype,"reverse",2);var Wi=class extends nt{constructor(){super(...arguments),this.type="pattern",this.colorStops=[],this.bounds="item",this.gradient="linear",this.rotation=0,this.scale=1,this.reverse=!1,this.pattern="forward-slanted-lines",this.width=26,this.height=26,this.padding=6,this.fill="black",this.fillOpacity=1,this.backgroundFill="white",this.backgroundFillOpacity=1,this.stroke="black",this.strokeOpacity=1,this.strokeWidth=0}};b([C],Wi.prototype,"type",2);b([C],Wi.prototype,"colorStops",2);b([C],Wi.prototype,"bounds",2);b([C],Wi.prototype,"gradient",2);b([C],Wi.prototype,"rotation",2);b([C],Wi.prototype,"scale",2);b([C],Wi.prototype,"reverse",2);b([C],Wi.prototype,"path",2);b([C],Wi.prototype,"pattern",2);b([C],Wi.prototype,"width",2);b([C],Wi.prototype,"height",2);b([C],Wi.prototype,"padding",2);b([C],Wi.prototype,"fill",2);b([C],Wi.prototype,"fillOpacity",2);b([C],Wi.prototype,"backgroundFill",2);b([C],Wi.prototype,"backgroundFillOpacity",2);b([C],Wi.prototype,"stroke",2);b([C],Wi.prototype,"strokeOpacity",2);b([C],Wi.prototype,"strokeWidth",2);var Ua=class extends nt{constructor(){super(...arguments),this.type="image",this.url="",this.rotation=0,this.scale=1,this.backgroundFill="black",this.backgroundFillOpacity=1,this.repeat="no-repeat",this.fit="contain"}};b([C],Ua.prototype,"type",2);b([C],Ua.prototype,"url",2);b([C],Ua.prototype,"rotation",2);b([C],Ua.prototype,"scale",2);b([C],Ua.prototype,"backgroundFill",2);b([C],Ua.prototype,"backgroundFillOpacity",2);b([C],Ua.prototype,"repeat",2);b([C],Ua.prototype,"fit",2);var zv=class extends nt{constructor(t=!0){super(),this.deprecated=t,this.item=new Fc,this.series=new YD,this.text=new KW}set(t){return this.deprecated&&z.warnOnce("highlightStyle is deprecated, use highlight instead."),super.set(t)}};b([C],zv.prototype,"item",2);b([C],zv.prototype,"series",2);b([C],zv.prototype,"text",2);var Wo=class extends nt{constructor(){super(...arguments),this.visible=!0,this.focusPriority=1/0,this.showInLegend=!0,this.cursor="default",this.nodeClickRange="exact",this.highlight=new Vc,this.highlightStyle=new zv}handleUnknownProperties(t,i){"context"in i&&(this.context=i.context,t.delete("context"))}};b([C],Wo.prototype,"id",2);b([C],Wo.prototype,"visible",2);b([C],Wo.prototype,"focusPriority",2);b([C],Wo.prototype,"showInLegend",2);b([C],Wo.prototype,"cursor",2);b([C],Wo.prototype,"nodeClickRange",2);b([C],Wo.prototype,"highlight",2);b([C],Wo.prototype,"highlightStyle",2);var qW=(t=>(t[t.BACKGROUND=0]="BACKGROUND",t[t.ANY_CONTENT=1]="ANY_CONTENT",t))(qW||{}),ZW=(t=>(t[t.FOREGROUND=0]="FOREGROUND",t[t.HIGHLIGHT=1]="HIGHLIGHT",t[t.LABEL=2]="LABEL",t))(ZW||{});function Cf(t,i,e,n){if(Os(t))return{type:"gradient",gradient:t.gradient??i.gradient,colorStops:t.colorStops??i.colorStops,bounds:t.bounds??i.bounds,rotation:t.rotation??i.rotation,reverse:t.reverse??i.reverse};if(qd(t)){let r=t.pattern??e.pattern,a=t.strokeWidth;r==="backward-slanted-lines"||r==="forward-slanted-lines"||r==="horizontal-lines"||r==="vertical-lines"?a??(a=e.strokeWidth):a??(a=0);let o=t.width??t.height??e.width,s=t.height??t.width??e.height;return{type:"pattern",pattern:r,width:o,height:s,path:t.path,padding:t.padding??e.padding,fill:t.fill??e.fill,fillOpacity:t.fillOpacity??e.fillOpacity,backgroundFill:t.backgroundFill??e.backgroundFill,backgroundFillOpacity:t.backgroundFillOpacity??e.backgroundFillOpacity,stroke:t.stroke??e.stroke,strokeOpacity:t.strokeOpacity??e.strokeOpacity,strokeWidth:a,rotation:t.rotation??e.rotation,scale:t.scale??e.scale}}return jh(t)?{type:"image",url:t.url,width:t.width,height:t.height,backgroundFill:t.backgroundFill??n.backgroundFill,backgroundFillOpacity:t.backgroundFillOpacity??n.backgroundFillOpacity,rotation:t.rotation??n.rotation,repeat:t.repeat??n.repeat,fit:t.fit??n.fit}:t}function Ol(t,i,e,n){return!Os(t?.fill)&&!qd(t?.fill)&&!jh(t?.fill)?t:S(f({},t),{fill:Cf(t.fill,i,e,n)})}function QW(t,i,e,n){e==null||!Os(i)||i.bounds==null||i.bounds==="item"?t.fillBBox=void 0:t.fillBBox=e[i.bounds],t.fillParams=n}function Sc(t,i,e,n){let r=i?.opacity??1;t.fill=i?.fill,QW(t,t.fill,e,n),t.fillOpacity=(i?.fillOpacity??1)*r,t.stroke=i?.stroke,t.strokeOpacity=(i?.strokeOpacity??1)*r,t.strokeWidth=i?.strokeWidth??0,t.lineDash=i?.lineDash,t.lineDashOffset=i?.lineDashOffset??0}var XW=(t=>(t[t.EXACT_SHAPE_MATCH=0]="EXACT_SHAPE_MATCH",t[t.NEAREST_NODE=1]="NEAREST_NODE",t[t.AXIS_ALIGNED=2]="AXIS_ALIGNED",t))(XW||{}),ime=.25,nme=.125,KD=class{constructor(t,i,e,n){this.type=t,this.event=i,this.defaultPrevented=!1,this.datum=e.datum,this.seriesId=n.id}preventDefault(){this.defaultPrevented=!0}},rD=class{constructor(t,i){this.series=t,this.seriesGrouping=i,this.type="groupingChanged"}};function zH(t){switch(t){case"x":return"x";case"y":return"y";case"angle":return"angle";case"radius":return"radius"}}function x1(t){switch(t){case"x":return"x";case"y":return"y";case"angle":return"angle";case"radius":return"radius"}}var qD=class extends hG{constructor(t){super(),this.cleanup=new pt,this.usesPlacedLabels=!1,this.hasChangesOnHighlight=!1,this.seriesGrouping=void 0,this.NodeEvent=KD,this.internalId=pn(this),this.contentGroup=new Kr({name:`${this.internalId}-content`,zIndex:1}),this.highlightGroup=new Kr({name:`${this.internalId}-highlight`,zIndex:1}),this.annotationGroup=new Kr({name:`${this.internalId}-annotation`}),this.labelGroup=new Kr({name:`${this.internalId}-series-labels`}),this.axes={},this.directions=["x","y"],this.nodeDataRefresh=!0,this.moduleMap=new bO,this.datumCallbackCache=new Map,this.connectsToYAxis=!1,this.declarationOrder=-1,this._broughtToFront=!1,this.events=new jr,this._pickNodeCache=new KR,this.fireEventWrapper=s=>super.fireEvent(s);let{moduleCtx:i,pickModes:e,propertyKeys:n={},propertyNames:r={},canHaveAxes:a=!1,usesPlacedLabels:o=!1}=t;this.ctx=i,this.propertyKeys=n,this.propertyNames=r,this.canHaveAxes=a,this.usesPlacedLabels=o,this.pickModes=e,this.cleanup.register(this.ctx?.eventsHub.on("highlight:change",s=>this.onChangeHighlight(s)))}get pickModeAxis(){return"main"}get id(){return this.properties?.id??this.internalId}get type(){return this.constructor.type??""}get focusable(){return!0}get data(){return this._data??this._chartData}set visible(t){this.properties.visible=t,this.ctx.legendManager.toggleItem(t,this.id),this.ctx.legendManager.update(),this.visibleMaybeChanged()}get visible(){return this.ctx.legendManager.getSeriesEnabled(this.id)??this.properties.visible}get hasData(){return this.data!=null&&this.data.length>0}get tooltipEnabled(){return this.properties.tooltip?.enabled}onDataChange(){this.nodeDataRefresh=!0,this._pickNodeCache.clear()}setOptionsData(t){this._data=t,this.onDataChange()}setChartData(t){this._chartData=t,this.data===t&&this.onDataChange()}onSeriesGroupingChange(t,i){let{internalId:e,type:n,visible:r}=this;t&&this.ctx.seriesStateManager.deregisterSeries(this),i&&this.ctx.seriesStateManager.registerSeries({internalId:e,type:n,visible:r,seriesGrouping:i}),this.fireEvent(new rD(this,i))}getBandScalePadding(){return{inner:1,outer:0}}attachSeries(t,i,e){t.appendChild(this.contentGroup),i.appendChild(this.highlightGroup),i.appendChild(this.labelGroup),e?.appendChild(this.annotationGroup)}detachSeries(t,i,e){t?.removeChild(this.contentGroup),i.removeChild(this.highlightGroup),i.removeChild(this.labelGroup),e?.removeChild(this.annotationGroup)}setSeriesIndex(t,i=!1){let e=this.bringToFront();return!i&&t===this.declarationOrder&&e===this._broughtToFront?!1:(this.declarationOrder=t,this._broughtToFront=e,this.setZIndex(e?Number.MAX_VALUE:t),this.fireEvent(new rD(this,this.seriesGrouping)),!0)}setZIndex(t){this.contentGroup.zIndex=[1,t,0],this.highlightGroup.zIndex=[1,t,1],this.labelGroup.zIndex=[1,t,2],this.annotationGroup.zIndex=t}renderToOffscreenCanvas(){return!1}addEventListener(t,i){return super.addEventListener(t,i)}removeEventListener(t,i){return super.removeEventListener(t,i)}hasEventListener(t){return super.hasEventListener(t)}addChartEventListeners(){}updatedDomains(){}destroy(){this.cleanup.flush(),this.resetDatumCallbackCache(),this.ctx.seriesStateManager.deregisterSeries(this)}getPropertyValues(t,i){let e=zH(t),n=e!=null?x1(this.resolveKeyDirection(e)):t,r=i?.[n],a=[];if(!r)return a;let o=(...s)=>{for(let l of s)Array.isArray(l)?o(...l):typeof l=="object"?o(...Object.values(l)):a.push(l)};return o(...r.map(s=>this.properties[s])),a}getKeys(t){return this.getPropertyValues(x1(t),this.propertyKeys)}getKeyProperties(t){return this.propertyKeys[this.resolveKeyDirection(t)]??[]}getNames(t){return this.getPropertyValues(x1(t),this.propertyNames)}getFormatterContext(t){let{id:i}=this,e=this.getPropertyValues(t,this.propertyKeys),n=this.getPropertyValues(t,this.propertyNames),r=[];for(let a=0;a<e.length;a++)r.push({seriesId:i,key:e[a],name:n[a]});return r}resolveKeyDirection(t){return t}getDomain(t){let i=this.getSeriesDomain(t),e=this.moduleMap.mapModules(n=>n.getDomain(t)).flat();return e.length!==0?i.concat(e):i}getRange(t,i){return this.getSeriesRange(t,i)}getVisibleItems(t,i,e){return 1/0}markNodeDataDirty(){this.nodeDataRefresh=!0,this._pickNodeCache.clear(),this.visibleMaybeChanged()}visibleMaybeChanged(){this.ctx.seriesStateManager.updateSeries(this)}getOpacity(){if(!this.properties.highlight)return 1;let{opacity:i=1}=this.getHighlightStyle();return i}getHighlightState(t,i,e,n){if(i)return 1;if(t?.series==null)return 0;if(this.isSeriesHighlighted(t,n)){let r=this.isItemHighlighted(t,e);return r==null||r?2:4}return 3}getHighlightStateString(t,i,e,n){switch(this.getHighlightState(t,i,e,n)){case 1:return"highlighted-item";case 4:return"unhighlighted-item";case 2:return"highlighted-series";case 3:return"unhighlighted-series";case 0:default:return"none"}}onChangeHighlight(t){let i=t.previousHighlight,e=t.currentHighlight,n=this.getHighlightState(e),r=this.getHighlightState(i);if(this.setSeriesIndex(this.declarationOrder),n===r){this.hasChangesOnHighlight=!1;return}let{highlightedSeries:a,unhighlightedItem:o,unhighlightedSeries:s}=this.properties.highlight,l=this.hasItemStylers();this.hasChangesOnHighlight=l||!nw(a)||!nw(o)||!nw(s)}bringToFront(){return this.properties.highlight.bringToFront&&this.isSeriesHighlighted(this.ctx.highlightManager.getActiveHighlight())}isSeriesHighlighted(t,i){return t?.series===this}isItemHighlighted(t,i){if(!(t?.datumIndex==null||i==null))return t.datumIndex===i}getHighlightStyle(t,i,e){let n=this.ctx.highlightManager?.getActiveHighlight(),r=this.getHighlightState(n,t,i,e);return this.properties.highlight.getStyle(r)}getModuleTooltipParams(){return this.moduleMap.mapModules(t=>t.getTooltipParams()).reduce((t,i)=>Object.assign(t,i),{})}pickNodes(t,i,e=!1){let{pickModes:n,pickModeAxis:r,visible:a,contentGroup:o}=this;if(!a||!o.visible||i==="highlight"&&!this.properties.highlight.enabled||i==="highlight-tooltip"&&!this.properties.highlight.enabled)return;let s=1/0;if(i==="tooltip"||i==="highlight-tooltip"){let{tooltip:h}=this.properties;s=typeof h.range=="number"?h.range:1/0,e||(e=h.range==="exact")}else if(i==="event"||i==="context-menu"){let{nodeClickRange:h}=this.properties;s=typeof h=="number"?h:1/0,e||(e=h==="exact")}let l=n.filter(h=>!e||h===0),{x:c,y:d}=t,u=JSON.stringify({x:c,y:d,maxDistance:s,selectedPickModes:l});if(this._pickNodeCache.has(u))return this._pickNodeCache.get(u);for(let h of l){let m;switch(h){case 0:{let p=this.pickNodesExactShape(t);m=p.length===0?void 0:{datums:p,distance:0};break}case 1:{let p=this.pickNodeClosestDatum(t),g=p?.distance===0?this.pickNodesExactShape(t):void 0;g!=null&&g.length!==0?m={datums:g,distance:0}:p?m={datums:[p.datum],distance:p.distance}:m=void 0;break}case 2:{let p=r!=null?this.pickNodeMainAxisFirst(t,r==="main-category"):void 0;m=p!=null?{datums:[p.datum],distance:p.distance}:void 0;break}}if(m&&m.distance<=s)return this._pickNodeCache.set(u,{pickMode:h,datums:m.datums,distance:m.distance})}return this._pickNodeCache.set(u,void 0)}pickNodesExactShape(t){let i=[];for(let e of this.contentGroup.pickNodes(t.x,t.y)){let n=e.closestDatum();n!=null&&n.missing!==!0&&i.push(n)}return i}pickNodeClosestDatum(t){throw new Error("AG Charts - Series.pickNodeClosestDatum() not implemented")}pickNodeNearestDistantObject(t,i){let e=CD(t.x,t.y,i),n=e.nearest?.closestDatum();if(n!=null&&n.missing!==!0)return{datum:n,distance:Math.sqrt(e.distanceSquared)}}pickNodeMainAxisFirst(t,i){throw new Error("AG Charts - Series.pickNodeMainAxisFirst() not implemented")}getLabelData(){return[]}updatePlacedLabelData(t){}fireEvent(t){Ls([this.properties,this.ctx.chartService],this.fireEventWrapper,t)}fireNodeClickEvent(t,i){let e=new this.NodeEvent("seriesNodeClick",t,i,this);return this.fireEvent(e),!e.defaultPrevented}fireNodeDoubleClickEvent(t,i){let e=new this.NodeEvent("seriesNodeDoubleClick",t,i,this);return this.fireEvent(e),!e.defaultPrevented}createNodeContextMenuActionEvent(t,i){return new this.NodeEvent("nodeContextMenuAction",t,i,this)}onLegendInitialState(t,i){let{visible:e=!0,itemId:n,legendItemName:r}=i??{};this.toggleSeriesItem(e,t,n,r)}onLegendItemClick(t){let{enabled:i,itemId:e,series:n,legendType:r}=t,a="legendItemName"in this.properties?this.properties.legendItemName:void 0,o="legendItemKey"in this.properties?this.properties.legendItemKey:void 0,s=a!=null&&a===t.legendItemName;(n.id===this.id||s||o!=null)&&this.toggleSeriesItem(i,r,e,a,t)}onLegendItemDoubleClick(t){let{enabled:i,itemId:e,series:n,numVisibleItems:r,legendType:a}=t,o="legendItemName"in this.properties?this.properties.legendItemName:void 0,s="legendItemKey"in this.properties?this.properties.legendItemKey:void 0,l=o!=null&&o===t.legendItemName;n.id===this.id||l||s!=null?this.toggleSeriesItem(!0,a,e,o,t):i&&r===1?this.toggleSeriesItem(!0,a,void 0,o):this.toggleSeriesItem(!1,a,void 0,o)}toggleSeriesItem(t,i,e,n,r){let a=this.id;(t||i!=="category")&&(this.visible=t),this.nodeDataRefresh=!0,this._pickNodeCache.clear();let o={type:"seriesVisibilityChange",seriesId:a,itemId:e,legendItemName:r?.legendItemName??n,visible:t};this.fireEvent(o),this.ctx.legendManager.toggleItem(t,a,e,n)}isEnabled(){return this.visible}getModuleMap(){return this.moduleMap}createModuleContext(){return S(f({},this.ctx),{series:this})}getAxisValueText(t,i,e,n,r,a){let{id:o,properties:s}=this;return t.formatDatum(s,e,i,o,a,n,r)}getLabelText(t,i,e,n,r,a,o){if(t==null)return"";let{axes:s,canHaveAxes:l,ctx:c,id:d,properties:u}=this,h="series-label",m="legendItemName"in u?u.legendItemName:void 0,p=f({seriesId:this.id},o),g=l?zH(n):void 0,y=g!=null?s[this.resolveKeyDirection(g)]:void 0;if(y!=null)return y.formatDatum(u,t,h,d,m,i,e,r,a,p);let{formatManager:v}=c,x=this.callWithContext.bind(this),w=k=>a.formatValue(x,k.type,k.value,p)??v.format(x,k)??String(t),D=this.getFormatterContext(n);switch(n){case"y":case"color":case"size":return w({type:"number",value:t,datum:i,seriesId:d,legendItemName:m,key:e,source:h,property:n,domain:r,boundSeries:D,fractionDigits:void 0});case"x":case"radius":case"angle":case"label":case"secondaryLabel":case"calloutLabel":case"sectorLabel":case"legendItem":return w({type:"category",value:t,datum:i,seriesId:d,legendItemName:m,key:e,source:h,property:n,domain:r,boundSeries:D})}}getMarkerStyle(t,{datumIndex:i,datum:e,point:n},r,a=!1,o={size:n?.size??t.size??0},s,l=!0){let{itemStyler:c,fillGradientDefaults:d,fillPatternDefaults:u,fillImageDefaults:h}=t,m=l?this.getHighlightStyle(a,i):void 0,p=Jt(m,o,t.getStyle(),s),g=Ol(p,d,u,h);if(c&&r){let y=this.ctx.highlightManager?.getActiveHighlight(),v=this.getHighlightStateString(y,a,i),x=this.cachedCallWithContext(c,S(f(f({seriesId:this.id},g),r),{highlighted:a,highlightState:v,datum:e}));g=Ol(Jt(x,g),d,u,h)}return g}applyMarkerStyle(t,i,e,n,{applyTranslation:r=!0,selected:a=!0}={}){let{shape:o,size:s=0}=t,l=this.visible&&s>0&&e&&!isNaN(e.x)&&!isNaN(e.y);if(Sc(i,t,n),r?i.setProperties({visible:l,shape:o,size:s,x:e?.x,y:e?.y,scalingCenterX:e?.x,scalingCenterY:e?.y}):i.setProperties({visible:l,shape:o,size:s}),a||(i.fillOpacity*=ime,i.strokeOpacity*=nme),typeof o=="function"&&!i.dirtyPath){i.path.clear(!0),i.updatePath(),i.checkPathDirty();let c=i.getBBox();if(e!=null&&c.isFinite()){let d=c.computeCenter(),[u,h]=["x","y"].map(m=>(t.strokeWidth??0)+Math.abs(d[m]-e[m]));e.focusSize=Math.max(c.width+u,c.height+h)}}}get nodeDataDependencies(){return this._nodeDataDependencies??{seriesRectWidth:NaN,seriesRectHeight:NaN}}checkResize(t){let{width:i,height:e}=t??{width:NaN,height:NaN},n=t?{seriesRectWidth:i,seriesRectHeight:e}:void 0,r=Tc(this.nodeDataDependencies,n)!=null;return r&&(this._nodeDataDependencies=n,this.markNodeDataDirty()),r}pickFocus(t){}resetDatumCallbackCache(){this.datumCallbackCache.clear()}cachedDatumCallback(t,i){let{datumCallbackCache:e}=this,n=e.get(t);if(n!=null)return n;try{let r=i();return e.set(t,r),r}catch(r){z.error(String(r))}}cachedCallWithContext(t,...i){return this.ctx.callbackCache.call([this.properties,this.ctx.chartService],t,...i)}callWithContext(t,...i){return Ls([this.properties,this.ctx.chartService],t,...i)}formatTooltipWithContext(t,i,e){return t.formatTooltip([this.properties,this.ctx.chartService],i,e)}minTimeInterval(){}};b([Zr({changeValue:function(t,i){this.onSeriesGroupingChange(i,t)}})],qD.prototype,"seriesGrouping",2);var rme=class{constructor(t){this.swapChain=t,this.hasBeenActivated=!1,this.div=Ne("div"),this.svg=Qt("svg"),this.outerPath=Qt("path"),this.innerPath=Qt("path"),this.svg.append(this.outerPath),this.svg.append(this.innerPath),this.outerPath.classList.add("ag-charts-focus-svg-outer-path"),this.innerPath.classList.add("ag-charts-focus-svg-inner-path"),this.element=Ne("div","ag-charts-focus-indicator"),this.element.ariaHidden="true",this.element.append(this.svg),this.swapChain.addListener("swap",i=>this.onSwap(i))}clear(){}update(t,i,e){if(i!=null)if(t instanceof va){let n=(a,o)=>{let{x:s,y:l}=an.toCanvasPoint(t,a,o);return s-=i.x??0,l-=i.y??0,{x:s,y:l}},r=t.svgPathData(n);this.outerPath.setAttribute("d",r),this.innerPath.setAttribute("d",r),this.show(this.svg)}else{let n;if(e){let r=Math.max(t.x-i.x,0),a=Math.max(t.y-i.y,0),o=Math.min(t.x+t.width-i.x,i.width),s=Math.min(t.y+t.height-i.y,i.height);n=new we(r,a,o-r,s-a)}else n=new we(t.x-i.x,t.y-i.y,t.width,t.height);Zw(this.div,n),this.show(this.div)}}onSwap(t){t!==this.element.parentElement&&(this.element.remove(),t.appendChild(this.element),this.overrideFocusVisible(this.focusVisible))}show(t){this.hasBeenActivated=!0,this.element.innerHTML="",this.element.append(t)}overrideFocusVisible(t){this.focusVisible=t;let i={true:"1",false:"0",undefined:""};this.element.parentElement?.style.setProperty("opacity",i[`${t}`])}isFocusVisible(t=!1){if(!t&&!this.hasBeenActivated)return!1;let i=this.element.parentElement;return i!=null&&tt().getComputedStyle(i).opacity==="1"}},ame=class{constructor(t,i,e,n){this.label1=t,this.label2=i,this.hasFocus=!1,this.skipDispatch=!1,this.listeners={blur:[],focus:[],swap:[]},this.onBlur=r=>(La(r.target,"pointer-events",void 0),!this.skipDispatch&&this.dispatch("blur",r)),this.onFocus=r=>(La(r.target,"pointer-events","auto"),!this.skipDispatch&&this.dispatch("focus",r)),it(this.label1,"id",bh()),it(this.label2,"id",bh()),La(this.label1,"display","none"),La(this.label2,"display","none"),this.label1.textContent=n,this.label2.textContent=n,this.activeAnnouncer=this.createAnnouncer(e),this.inactiveAnnouncer=this.createAnnouncer(e),it(this.activeAnnouncer,"tabindex",0),this.label2.insertAdjacentElement("afterend",this.activeAnnouncer),this.label2.insertAdjacentElement("afterend",this.inactiveAnnouncer),this.swap(n)}createAnnouncer(t){let i=Ne("div");return i.role=t,i.className="ag-charts-swapchain",i.addEventListener("blur",this.onBlur),i.addEventListener("focus",this.onFocus),i}destroy(){for(let t of[this.activeAnnouncer,this.inactiveAnnouncer])t.removeEventListener("blur",this.onBlur),t.removeEventListener("focus",this.onFocus),t.remove()}focus(t){this.focusOptions=t,this.activeAnnouncer.focus(t),this.focusOptions=void 0}update(t){this.skipDispatch=!0,this.swap(t),this.hasFocus&&this.activeAnnouncer.focus(this.focusOptions),this.skipDispatch=!1}addListener(t,i){this.listeners[t].push(i),t==="swap"&&i(this.activeAnnouncer)}dispatch(t,i){t==="focus"?this.hasFocus=!0:t==="blur"&&(this.hasFocus=!1),this.listeners[t].forEach(e=>e(i))}swap(t){let i=this.activeAnnouncer.tabIndex;this.label2.textContent=t,[this.inactiveAnnouncer,this.activeAnnouncer]=[this.activeAnnouncer,this.inactiveAnnouncer],[this.label1,this.label2]=[this.label2,this.label1],Td(this.inactiveAnnouncer,{"aria-labelledby":this.label1.id,"aria-hidden":!0,tabindex:void 0}),Td(this.activeAnnouncer,{"aria-labelledby":this.label1.id,"aria-hidden":!1,tabindex:i}),this.dispatch("swap",this.activeAnnouncer)}},ome={arrowdown:{bindings:[{code:"ArrowDown"}]},arrowleft:{bindings:[{code:"ArrowLeft"}]},arrowright:{bindings:[{code:"ArrowRight"}]},arrowup:{bindings:[{code:"ArrowUp"}]},delete:{bindings:[{key:"Backspace"},{key:"Delete"}],activatesFocusIndicator:!1},redo:{bindings:[{key:"y",ctrlOrMeta:!0},{key:"z",ctrlOrMeta:!0,shift:!0}],activatesFocusIndicator:!1},undo:{bindings:[{key:"z",ctrlOrMeta:!0}],activatesFocusIndicator:!1},submit:{bindings:[{key:"Enter"},{code:"Enter"},{code:"Space"}]},zoomin:{bindings:[{key:"+"},{code:"ZoomIn"},{code:"Add"}],activatesFocusIndicator:!1},zoomout:{bindings:[{key:"-"},{code:"ZoomOut"},{code:"Substract"}],activatesFocusIndicator:!1}};function sme(t,i){for(let e of i)if("code"in e){if(e.code===t.code)return!0}else if(e.key===t.key&&(e.shift===void 0||e.shift===t.shiftKey)&&(e.ctrlOrMeta===void 0||e.ctrlOrMeta===t.ctrlKey||e.ctrlOrMeta===t.metaKey))return!0;return!1}function lme(t){for(let[i,{activatesFocusIndicator:e=!0,bindings:n}]of ur(ome))if(sme(t,n))return{name:i,activatesFocusIndicator:e}}function cme(t,i,e){let n=sO(t,e.datum,e.movedBounds);if(n!=null)return{x:n.canvasX,y:n.canvasY};let r=e.bounds;if(r!=null){if(r instanceof we){let{x:a,y:o}=r.computeCenter();return{x:i.x+a,y:i.y+o}}return an.toCanvas(r).computeCenter()}}function dme({bounds:t}){return t instanceof we?t:t!=null?an.toCanvas(t):we.NaN}function ume(t,i,e){let{x:n,y:r}=cme(t,i,e)??{};if(n!==void 0&&r!==void 0)return{type:"keyboard",canvasX:n,canvasY:r}}function JW(t,i,e,n){let{top:r,right:a,bottom:o,left:s,width:l,height:c}=n;return s!=null?l!=null?a=e.width-s+l:a!=null&&(l=e.width-s-a):a!=null&&l!=null&&(s=e.width-a-l),r!=null?c!=null?o=e.height-r-c:o!=null&&(c=e.height-o-r):o!=null&&c!=null&&(r=e.height-o-c),l==null?c==null?(c=i,l=t):l=Math.ceil(t*c/i):c??(c=Math.ceil(i*l/t)),s==null&&(a==null?s=Math.floor((e.width-l)/2):s=e.width-a-l),r==null&&(o==null?r=Math.floor((e.height-c)/2):r=e.height-c-o),{x:s,y:r,width:l,height:c}}var jH=.1,UH=200,HH=12,hme=.5,mme=class{constructor(){this.events=new jr,this.x1=NaN,this.y1=NaN,this.x=NaN,this.y=NaN,this.vx=0,this.vy=0,this.t0=NaN,this.animationFrameHandle=void 0}reset(){this.x=NaN,this.y=NaN,this.animationFrameHandle!=null&&(cancelAnimationFrame(this.animationFrameHandle),this.animationFrameHandle=void 0)}update(t,i){if(Number.isNaN(this.x)||Number.isNaN(this.y)){this.x=t,this.y=i,this.vx=0,this.vy=0,this.emitUpdate(),this.animationFrameHandle!=null&&(cancelAnimationFrame(this.animationFrameHandle),this.animationFrameHandle=void 0);return}this.x1=t,this.y1=i,this.t0=Date.now(),this.animationFrameHandle??(this.animationFrameHandle=requestAnimationFrame(this.onFrame.bind(this)))}onFrame(){this.animationFrameHandle=void 0;let{x1:t,y1:i,t0:e}=this,n=Date.now(),r=n-e;this.t0=n;let a=.001,o=Math.ceil(r/(a*1e3))|0,{x:s,y:l,vx:c,vy:d}=this;for(let u=0;u<o;u+=1){let h=s-t,m=l-i,p=-(UH*h+HH*c)/jH,g=-(UH*m+HH*d)/jH;c+=p*a,d+=g*a,s+=c*a,l+=d*a}Math.hypot(s-t,l-i)<hme?(this.x=this.x1,this.y=this.y1,this.vx=0,this.vy=0):(this.x=s,this.y=l,this.vx=c,this.vy=d,this.animationFrameHandle=requestAnimationFrame(this.onFrame.bind(this))),this.emitUpdate()}emitUpdate(){this.events.emit("update",{x:this.x,y:this.y})}},vw=null;function Qy(t){return t===""?"":(vw??(vw=Ne("div")),vw.textContent=String(t),vw.innerHTML.replace(/\n/g,"<br>"))}function Hy(t,i){let{path:e,size:n}=t,{x:r,y:a}=t;e.clear();let o=!1;for(let[s,l]of i){let c=r+(s-.5)*n,d=a+(l-.5)*n;o?e.lineTo(c,d):e.moveTo(c,d),o=!0}e.closePath()}var pme={circle({path:t,x:i,y:e,size:n}){let r=n/2;t.arc(i,e,r,0,Math.PI*2),t.closePath()},cross(t){Hy(t,[[.25,0],[.5,.25],[.75,0],[1,.25],[.75,.5],[1,.75],[.75,1],[.5,.75],[.25,1],[0,.75],[.25,.5],[0,.25]])},diamond(t){Hy(t,[[.5,0],[1,.5],[.5,1],[0,.5]])},heart({path:t,x:i,y:e,size:n}){let r=n/4;e=e+r/2,t.arc(i-r,e-r,r,Tr(130),Tr(330)),t.arc(i+r,e-r,r,Tr(220),Tr(50)),t.lineTo(i,e+r),t.closePath()},pin({path:t,x:i,y:e,size:n}){t.moveTo(i+(.15625-.5)*n,e+(.34375-.5)*n),t.cubicCurveTo(i+(.15625-.5)*n,e+(.151491-.5)*n,i+(.307741-.5)*n,e+(0-.5)*n,i+(.5-.5)*n,e+(0-.5)*n),t.cubicCurveTo(i+(.692259-.5)*n,e+(0-.5)*n,i+(.84375-.5)*n,e+(.151491-.5)*n,i+(.84375-.5)*n,e+(.34375-.5)*n),t.cubicCurveTo(i+(.84375-.5)*n,e+(.493824-.5)*n,i+(.784625-.5)*n,e+(.600181-.5)*n,i+(.716461-.5)*n,e+(.695393-.5)*n),t.cubicCurveTo(i+(.699009-.5)*n,e+(.719769-.5)*n,i+(.681271-.5)*n,e+(.743104-.5)*n,i+(.663785-.5)*n,e+(.766105-.5)*n),t.cubicCurveTo(i+(.611893-.5)*n,e+(.834367-.5)*n,i+(.562228-.5)*n,e+(.899699-.5)*n,i+(.528896-.5)*n,e+(.980648-.5)*n),t.cubicCurveTo(i+(.524075-.5)*n,e+(.992358-.5)*n,i+(.512663-.5)*n,e+(1-.5)*n,i+(.5-.5)*n,e+(1-.5)*n),t.cubicCurveTo(i+(.487337-.5)*n,e+(1-.5)*n,i+(.475925-.5)*n,e+(.992358-.5)*n,i+(.471104-.5)*n,e+(.980648-.5)*n),t.cubicCurveTo(i+(.487337-.5)*n,e+(1-.5)*n,i+(.475925-.5)*n,e+(.992358-.5)*n,i+(.471104-.5)*n,e+(.980648-.5)*n),t.cubicCurveTo(i+(.437772-.5)*n,e+(.899699-.5)*n,i+(.388107-.5)*n,e+(.834367-.5)*n,i+(.336215-.5)*n,e+(.766105-.5)*n),t.cubicCurveTo(i+(.318729-.5)*n,e+(.743104-.5)*n,i+(.300991-.5)*n,e+(.719769-.5)*n,i+(.283539-.5)*n,e+(.695393-.5)*n),t.cubicCurveTo(i+(.215375-.5)*n,e+(.600181-.5)*n,i+(.15625-.5)*n,e+(.493824-.5)*n,i+(.15625-.5)*n,e+(.34375-.5)*n),t.closePath()},plus(t){Hy(t,[[1/3,0],[2/3,0],[2/3,1/3],[1,1/3],[1,2/3],[2/3,2/3],[2/3,1],[1/3,1],[1/3,2/3],[0,2/3],[0,1/3],[1/3,1/3]])},square({path:t,x:i,y:e,size:n,pixelRatio:r}){let a=n/2;t.moveTo(Xn(r,i-a),Xn(r,e-a)),t.lineTo(Xn(r,i+a),Xn(r,e-a)),t.lineTo(Xn(r,i+a),Xn(r,e+a)),t.lineTo(Xn(r,i-a),Xn(r,e+a)),t.closePath()},star({path:t,x:i,y:e,size:n}){let a=n/2,o=a/2,s=Math.PI/2;for(let l=0;l<5*2;l++){let c=l%2===0?a:o,d=l*Math.PI/5-s,u=i+Math.cos(d)*c,h=e+Math.sin(d)*c;t.lineTo(u,h)}t.closePath()},triangle(t){Hy(t,[[.5,0],[1,.87],[0,.87]])}},jv=class extends va{constructor(){super(...arguments),this.shape="square",this.x=0,this.y=0,this.size=12}isPointInPath(t,i){return this.distanceSquared(t,i)<=0}distanceSquared(t,i){let e=On.anchor(this.shape);return Math.max(Math.hypot(t-this.x+(e.x-.5)*this.size,i-this.y+(e.y-.5)*this.size)-this.size/2,0)}updatePath(){let{path:t,shape:i,x:e,y:n,size:r}=this,a=this.layerManager?.canvas?.pixelRatio??1,o=On.anchor(i),s={path:t,x:e-(o.x-.5)*r,y:n-(o.y-.5)*r,size:r,pixelRatio:a};t.clear(),typeof i=="string"?pme[i](s):typeof i=="function"&&i(s)}computeBBox(){let{x:t,y:i,size:e}=this,n=On.anchor(this.shape);return new we(t-e*n.x,i-e*n.y,e,e)}executeFill(t,i){if(i)return super.executeFill(t,i)}executeStroke(t,i){if(i)return super.executeStroke(t,i)}};b([uo({equals:Vf})],jv.prototype,"shape",2);b([te()],jv.prototype,"x",2);b([te()],jv.prototype,"y",2);b([te({convertor:Math.abs})],jv.prototype,"size",2);var On=class extends zf(WR(jf(jv))){static anchor(t){return t==="pin"?{x:.5,y:1}:typeof t=="function"&&"anchor"in t?t.anchor:{x:.5,y:.5}}constructor(t){super(t),t?.shape!=null&&(this.shape=t.shape)}};function e$(t,i,e=i*(5/3)){let n=new mt,r=Math.min(t.marker.strokeWidth??1,2),a=Math.min(t.line?.strokeWidth??0,2),o=Math.max(t.marker.enabled===!1?0:i,t.line==null?0:e),s=Math.max(t.marker.enabled===!1?0:i,a);if(t.line!=null){let{stroke:l,strokeOpacity:c,lineDash:d}=t.line,u=new Vo;u.x1=0,u.y1=s/2,u.x2=o,u.y2=s/2,u.stroke=l,u.strokeOpacity=c,u.strokeWidth=a,u.lineDash=d,n.append(u)}if(t.marker.enabled!==!1){let{shape:l,fill:c,fillOpacity:d,stroke:u,strokeOpacity:h,lineDash:m,lineDashOffset:p}=t.marker,g=new On;g.shape=l??"square",g.size=i,g.fill=c,g.fillOpacity=d??1,g.stroke=u,g.strokeOpacity=h??1,g.strokeWidth=r,g.lineDash=m,g.lineDashOffset=p??0;let y=On.anchor(l),v=o/2+(y.x-.5)*i,x=s/2+(y.y-.5)*i,w=i/(i+r);g.x=v,g.y=x,g.scalingCenterX=v,g.scalingCenterY=x,g.scalingX=w,g.scalingY=w,n.append(g)}return mt.toSVG(n,o,s)}var mr="ag-charts-tooltip",t$="ag-charts-tooltip--dark";function i$(t){let i=[],e=new Map;for(let n of t)if(n.type==="structured"){let{heading:r}=n,a=r!=null?e.get(r):void 0,o={type:"structured",heading:r,items:[n]};a==null?(e.set(r,o),i.push(o)):a.items.push(n)}else i.push(n);return i}function n$(t){let i=i$(t),e=[];return i.forEach(n=>{if(n.type==="raw")return"";n.heading!=null&&e.push(n.heading),n.items.forEach(r=>{r.title!=null&&e.push(r.title),r.data?.forEach(a=>{e.push(a.label??a.fallbackLabel,a.value)})})}),e.join("; ")}function pR(t,i,e){let n="";t==null?n+=`<span class="${mr}-label">${Qy(i)}</span>`:(n+=`<span class="${mr}-label">${Qy(t)}</span>`,n+=" ",n+=`<span class="${mr}-value">${Qy(i)}</span>`);let r=[`${mr}-row`];return e&&r.push(`${mr}-row--inline`),n=`<div class="${r.join(" ")}">${n}</div>`,n}function fme(t){let i="";if(t.data?.length&&t.data.every(r=>r.value==null||r.value===""))return i;let e=t.title==null&&t.data?.length===1,n=t.symbol==null?void 0:e$(t.symbol,12);return n!=null&&(t.title!=null||t.data?.length)&&(i+=`<span class="${mr}-symbol">${n}</span>`),t.title!=null&&(i+=`<span class="${mr}-title">${Qy(t.title)}</span>`,i+=" "),t.data?.forEach(r=>{i+=pR(r.label??r.fallbackLabel,r.value,e),i+=" "}),i}function r$(t,i){if(t==null||i.length===1)return;let e=t?.t("tooltipPaginationStatus",{index:i.index+1,count:i.length});return`<div class="${mr}-footer">${e}</div>`}function GH(t,i,e,n){let r=i.items.length===1?i.items[0]:void 0,a,o,s;switch(e){case"compact":a=!0,o=r?.title;break;case"single":a=r!=null&&(i.heading==null||r.title==null)&&r.data?.length===1&&r.data[0].label==null&&r.data[0].value!=null,s=i.heading??r?.title;break;case"shared":a=!1}let l="";if(a&&r!=null?(o!=null&&(l+=pR(void 0,o,!1)),r.data?.forEach(d=>{l+=pR(d.label??s,d.value,!1),l+=" "})):(i.heading!=null&&(l+=`<span class="${mr}-heading">${Qy(i.heading)}</span>`,l+=" "),i.items.forEach(d=>{l+=fme(d)})),l.length===0)return;let c=e!=="compact"&&n!=null?r$(t,n):void 0;return c+null&&(l+=c),l=`<div class="${mr}-content">${l.trimEnd()}</div>`,l}function gme(t,i){let e=i==null?void 0:r$(t,i);return e==null?"":`<div class="${mr}-content">${e}</div>`}function a$(t,i,e,n){let r=i$(i);if(r.length!==0){if(r.length===1&&r[0].type==="structured")return GH(t,r[0],e,n);{let a=r.map(o=>o.type==="structured"?GH(t,o,e):o.rawHtmlString);return n!=null&&a.push(gme(t,n)??""),a.join("")}}}var bme={left:-1,"top-left":-1,"bottom-left":-1,top:0,center:0,bottom:0,right:1,"top-right":1,"bottom-right":1},yme={"top-left":-1,top:-1,"top-right":-1,left:0,center:0,right:0,"bottom-left":1,bottom:1,"bottom-right":1},vme={left:3,"top-left":void 0,"bottom-left":void 0,top:2,center:void 0,bottom:1,right:0,"top-right":void 0,"bottom-right":void 0},WH={top:2,bottom:2,left:1,right:1,"top-right":3,"top-left":3,"bottom-right":3,"bottom-left":3,center:0},_me={pointer:"top",node:"top",chart:"top-left"},Zh=class extends nt{constructor(){super(...arguments),this.xOffset=0,this.yOffset=0}};b([C],Zh.prototype,"xOffset",2);b([C],Zh.prototype,"yOffset",2);b([C],Zh.prototype,"anchorTo",2);b([C],Zh.prototype,"placement",2);var $o=class extends nt{constructor(){super(),this.enabled=!0,this.mode="single",this.delay=0,this.range=void 0,this.wrapping="hyphenate",this.position=new Zh,this.pagination=!1,this.darkTheme=!1,this.bounds="extended",this.cleanup=new pt,this.springAnimation=new mme,this.enableInteraction=!1,this.wrapTypes=["always","hyphenate","on-space","never"],this.sizeMonitor=new IG,this._elementSize=void 0,this._showTimeout=void 0,this.arrowPosition=void 0,this._visible=!1,this.positionParams=void 0,this.localeManager=void 0,this.cleanup.register(this.springAnimation.events.on("update",this.updateTooltipPosition.bind(this)))}get interactive(){return this.enableInteraction}setup(t,i){return"togglePopover"in tt().HTMLElement.prototype&&(this.element=i.addChild("tooltip-container",mr),this.element.setAttribute("popover","manual"),this.element.className=mr,this.element.style.positionAnchor=i.anchorName,this.sizeMonitor.observe(this.element,e=>{this._elementSize=e,this.updateTooltipPosition()})),this.localeManager=t,()=>{i.removeChild("tooltip-container",mr),this.cleanup.flush(),this.element&&this.sizeMonitor.unobserve(this.element)}}isVisible(){return this._visible}contains(t){return this.element?.contains(t)??!1}updateTooltipPosition(){let{element:t,_elementSize:i,positionParams:e}=this;if(t==null||i==null||e==null)return;let{canvasRect:n,relativeRect:r,meta:a}=e,{x:o,y:s}=this.springAnimation,l=a.position?.anchorTo??"pointer",c=a.position?.placement??_me[l];Array.isArray(c)||(c=[c]);let d=a.position?.xOffset??0,u=a.position?.yOffset??0,h=r.x,m=r.y,p=r.width-i.width-1+h,g=r.height-i.height+m,y=0,v,x,w=!1;do{v=c[y],y+=1;let N=this.getTooltipBounds({elementSize:i,placement:v,anchorTo:l,canvasX:o,canvasY:s,yOffset:u,xOffset:d,canvasRect:n});x=JW(i.width,i.height,r,N),w=!1,WH[v]&1&&(w||(w=x.x<h||x.x>p)),WH[v]&2&&(w||(w=x.y<m||x.y>g))}while(y<c.length&&w);let D=Ae(h,x.x,p),k=Ae(m,x.y,g);w||(w=D!==x.x||k!==x.y);let E=l!=="chart"&&!w&&!d&&!u,A=a.showArrow??this.showArrow??E;this.arrowPosition=A?vme[v]:void 0,this.updateClassModifiers(),t.style.translate=`${D}px ${k}px`}show(t,i,e,n,r,a=!1){let{element:o}=this;if(o!=null&&n!=null&&n.length!==0){let c=a$(this.localeManager,n,this.mode,this.pagination?r:void 0);if(c==null){this.toggle(!1);return}o.innerHTML=c}else if(o==null||o.innerHTML===""){this.toggle(!1);return}let s={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height};switch(this.positionParams={canvasRect:i,relativeRect:s,meta:e},e.position?.anchorTo??"pointer"){case"node":this.springAnimation.update(e.nodeCanvasX??e.canvasX,e.nodeCanvasY??e.canvasY);break;case"pointer":this.springAnimation.update(e.canvasX,e.canvasY);break;case"chart":this.springAnimation.reset()}e.enableInteraction?(this.enableInteraction=!0,o.style.pointerEvents="auto",o.removeAttribute("aria-hidden"),o.tabIndex=-1):(this.enableInteraction=!1,o.style.pointerEvents="none",o.setAttribute("aria-hidden","true"),o.removeAttribute("tabindex")),o.style.setProperty("--top",`${i.top}px`),o.style.setProperty("--left",`${i.left}px`),this.updateClassModifiers(),this.toggle(!0,a)}hide(){this.toggle(!1)}maybeEnterInteractiveTooltip({relatedTarget:t},i){let{interactive:e,interactiveLeave:n,enabled:r,element:a}=this;if(a==null)return!1;if(n)return!0;let o=e&&r&&this.isVisible()&&t instanceof Node&&this.contains(t);return o&&(this.interactiveLeave={callback:i,listener:s=>{(s.relatedTarget==null||s.relatedTarget instanceof Node&&!this.contains(s.relatedTarget))&&this.popInteractiveLeaveCallback()}},a.addEventListener("focusout",this.interactiveLeave.listener),a.addEventListener("mouseout",this.interactiveLeave.listener)),o}popInteractiveLeaveCallback(){let{interactiveLeave:t,element:i}=this;this.interactiveLeave=void 0,t&&(i&&(i.removeEventListener("focusout",t.listener),i.removeEventListener("mouseout",t.listener)),t.callback())}toggle(t,i=!1){let{delay:e}=this;t&&e>0&&!i?this._showTimeout??(this._showTimeout=setTimeout(()=>{this._showTimeout=void 0,this.toggleCallback(!0)},e)):(clearTimeout(this._showTimeout),this._showTimeout=void 0,this.toggleCallback(t))}toggleCallback(t){this.element?.isConnected&&this._visible!==t&&(this._visible=t,this.element.togglePopover(t),t?this.updateTooltipPosition():(this.springAnimation.reset(),this.popInteractiveLeaveCallback()))}updateClassModifiers(){if(!this.element?.isConnected)return;let{classList:t}=this.element,i=(e,n)=>t.toggle(`${mr}--${e}`,n);i("no-interaction",!this.enableInteraction),i("arrow-top",this.arrowPosition===1),i("arrow-right",this.arrowPosition===3),i("arrow-bottom",this.arrowPosition===2),i("arrow-left",this.arrowPosition===0),i("compact",this.mode==="compact"),t.toggle(t$,this.darkTheme);for(let e of this.wrapTypes)t.toggle(`${mr}--wrap-${e}`,e===this.wrapping)}getTooltipBounds(t){let{elementSize:i,anchorTo:e,placement:n,canvasX:r,canvasY:a,yOffset:o,xOffset:s,canvasRect:l}=t,{width:c,height:d}=i,u={width:c,height:d};if(e==="node"||e==="pointer"){let h=bme[n],m=yme[n];return u.top=a+o+d*(m-1)/2+8*m,u.left=r+s+c*(h-1)/2+8*h,u}switch(n){case"top":return u.top=o,u.left=l.width/2-c/2+s,u;case"right":return u.top=l.height/2-d/2+o,u.left=l.width-c/2+s,u;case"left":return u.top=l.height/2-d/2+o,u.left=s,u;case"bottom":return u.top=l.height-d+o,u.left=l.width/2-c/2+s,u;case"top-left":return u.top=o,u.left=s,u;case"top-right":return u.top=o,u.left=l.width-c+s,u;case"bottom-right":return u.top=l.height-d+o,u.left=l.width-c+s,u;case"bottom-left":return u.top=l.height-d+o,u.left=s,u}return u}};b([C],$o.prototype,"enabled",2);b([C],$o.prototype,"mode",2);b([C],$o.prototype,"showArrow",2);b([C],$o.prototype,"delay",2);b([C],$o.prototype,"range",2);b([C],$o.prototype,"wrapping",2);b([C],$o.prototype,"position",2);b([C],$o.prototype,"pagination",2);b([C],$o.prototype,"darkTheme",2);b([C],$o.prototype,"bounds",2);function fR(t,i){return t.series===i.series&&Ln(t.datumIndex,i.datumIndex)}var xme=class{constructor(){this.candidates=[]}get current(){return this.active}reset(){this.candidates.length=0,this.active=void 0}update(t,i){this.candidates=t;let e=i!=null?t.findIndex(n=>fR(n,i)):-1;return e===-1&&(e=0),this.active=t[e],{current:this.active,index:e,length:t.length}}next(){let{candidates:t,active:i}=this,e=i==null?-1:t.findIndex(r=>fR(r,i));if(e===-1)return;let n=e+1;return n>=t.length&&(n=0),this.active=t[n],{current:this.active,index:n,length:this.candidates.length}}},Cme=class extends XR{constructor(t){super(),this.chart=t,this.id=pn(this),this.series=[],this.announceMode="when-changed",this.highlight={pendingHoverEvent:void 0,appliedHoverEvent:void 0,stashedHoverEvent:void 0},this.tooltip={lastHover:void 0},this.hoverDevice="pointer",this.previousInputDevice="keyboard",this.focus={sortedSeries:[],series:void 0,seriesIndex:0,datumIndex:0,datum:void 0},this.cachedTooltipContent=void 0,this.hoverScheduler=Fce(()=>{if(!(!this.tooltip.lastHover&&!this.highlight.pendingHoverEvent)){if(this.chart.getUpdateType()<=5){this.hoverScheduler.schedule();return}this.highlight.pendingHoverEvent&&this.handleHoverHighlight(!1),this.tooltip.lastHover&&this.handleHoverTooltip(this.tooltip.lastHover,!1)}}),this.tooltipCandidates=new xme;let i=t.ctx.localeManager.t("ariaInitSeriesArea"),e=t.ctx.domManager.addChild("series-area","series-area-aria-label1"),n=t.ctx.domManager.addChild("series-area","series-area-aria-label2");this.swapChain=new ame(e,n,"img",i),this.swapChain.addListener("blur",s=>this.onBlur(s)),this.swapChain.addListener("focus",()=>this.onFocus()),t.ctx.domManager.mode==="normal"&&(this.focusIndicator=new rme(this.swapChain),this.focusIndicator.overrideFocusVisible(t.mode==="integrated"?!1:void 0));let{seriesDragInterpreter:r,seriesWidget:a,containerWidget:o}=t.ctx.widgets;a.setTabIndex(-1),this.cleanup.register(()=>t.ctx.domManager.removeChild("series-area","series-area-aria-label1"),()=>t.ctx.domManager.removeChild("series-area","series-area-aria-label2"),a.addListener("focus",()=>this.swapChain.focus({preventScroll:!0})),a.addListener("mousemove",s=>this.onHover(s,a)),a.addListener("wheel",s=>this.onWheel(s)),a.addListener("mouseleave",s=>this.onLeave(s)),a.addListener("keydown",s=>this.onKeyDown(s)),a.addListener("contextmenu",(s,l)=>this.onContextMenu(s,l)),o.addListener("contextmenu",(s,l)=>this.onContextMenu(s,l)),o.addListener("click",(s,l)=>this.onClick(s,l)),o.addListener("dblclick",(s,l)=>this.onClick(s,l)),t.ctx.animationManager.addListener("animation-start",()=>this.clearAll()),t.ctx.eventsHub.on("dom:resize",()=>this.clearAll()),t.ctx.eventsHub.on("highlight:change",s=>this.changeHighlightDatum(s)),t.ctx.eventsHub.on("layout:complete",s=>this.layoutComplete(s)),t.ctx.updateService.addListener("pre-scene-render",()=>this.preSceneRender()),t.ctx.updateService.addListener("update-complete",()=>this.updateComplete()),t.ctx.eventsHub.on("zoom:change",()=>this.clearAll()),t.ctx.eventsHub.on("zoom:pan-start",()=>this.clearAll())),r&&this.cleanup.register(r.events.on("drag-move",s=>this.onDragMove(s,a)),r.events.on("click",s=>this.onClick(s,a)),r.events.on("dblclick",s=>this.onClick(s,a)))}get bbox(){return(this.seriesRect??we.zero).clone()}isState(t){return this.chart.ctx.interactionManager.isState(t)}isIgnoredTouch(t){return!(t.device!=="touch"||t.type==="click"||this.chart.ctx.chartService.touch.dragAction==="hover"||this.chart.ctx.chartService.touch.dragAction==="drag"&&this.isState(9))}dataChanged(){var t;this.cachedTooltipContent=void 0,this.highlight.appliedHoverEvent&&((t=this.highlight).stashedHoverEvent??(t.stashedHoverEvent=this.highlight.appliedHoverEvent),this.clearHighlight()),this.chart.ctx.tooltipManager.removeTooltip(this.id),this.focusIndicator?.clear()}preSceneRender(){this.highlight.stashedHoverEvent!=null&&(this.highlight.pendingHoverEvent=this.highlight.stashedHoverEvent,this.highlight.stashedHoverEvent=void 0,this.handleHoverHighlight(!0)),this.tooltip.lastHover!=null&&this.handleHoverTooltip(this.tooltip.lastHover,!0)}updateComplete(){this.isState(34)&&this.focusIndicator?.isFocusVisible()&&(this.announceMode!=="always"&&(this.announceMode="never"),this.handleFocus(0,0))}update(t,i){this.chart.ctx.updateService.update(t,i)}seriesChanged(t){this.focus.sortedSeries=[...t].sort((i,e)=>{let n=i.properties.focusPriority??1/0,r=e.properties.focusPriority??1/0;return n===r&&([n,r]=[i.declarationOrder,e.declarationOrder]),n<r?-1:n>r?1:0}),this.series=t}layoutComplete(t){this.seriesRect=t.series.rect,this.hoverRect=t.series.rect,this.chart.ctx.widgets.seriesWidget.setBounds(t.series.rect),this.chart.ctx.domManager.mode==="normal"&&this.chart.ctx.widgets.chartWidget.setBounds(t.chart)}onContextMenu(t,i){let{sourceEvent:e}=t;if(e.currentTarget!=i.getElement())return;if(e.target==this.chart.ctx.widgets.containerWidget.getElement()){if(this.isState(36)){let{currentX:l,currentY:c}=t;this.chart.ctx.contextMenuRegistry.dispatchContext("always",{widgetEvent:t,canvasX:l,canvasY:c},void 0)}return}let n,r;if(this.focusIndicator?.isFocusVisible())n=this.chart.ctx.highlightManager.getActiveHighlight(),n&&this.seriesRect&&n.midPoint&&(r=an.toCanvasPoint(n.series.contentGroup,n.midPoint.x,n.midPoint.y));else if(this.isState(36)){let l=this.pickNodes({x:t.currentX,y:t.currentY},"context-menu");l&&(this.chart.ctx.highlightManager.updateHighlight(this.id),n=l.matches[0].datum)}let a=n?.series;this.clearAll();let o=t.currentX+i.cssLeft(),s=t.currentY+i.cssTop();a&&n?this.chart.ctx.contextMenuRegistry.dispatchContext("series-node",{widgetEvent:t,canvasX:o,canvasY:s},{pickedSeries:a,pickedNode:n},r):this.chart.ctx.contextMenuRegistry.dispatchContext("series-area",{widgetEvent:t,canvasX:o,canvasY:s},void 0,r)}onLeave(t){!this.isState(41)||t.sourceEvent.relatedTarget?.className==="ag-charts-text-input__textarea"||this.maybeEnterInteractiveTooltip(t.sourceEvent)||(this.chart.ctx.domManager.updateCursor(this.id),this.hoverDevice!=="keyboard"&&this.clearAll())}onWheel(t){this.isState(41)&&(this.focusIndicator?.overrideFocusVisible(!1),this.previousInputDevice="pointer")}onDragMove(t,i){this.isState(41)&&(this.focusIndicator?.overrideFocusVisible(!1),this.onHoverLikeEvent(t,i))}onHover(t,i){this.isState(41)&&this.onHoverLikeEvent(t,i)}onHoverLikeEvent(t,i){if(!this.isIgnoredTouch(t)&&(t.device==="touch"&&this.chart.ctx.chartService.touch.dragAction==="hover"&&t.sourceEvent.preventDefault(),i===this.chart.ctx.widgets.seriesWidget&&((t.device==="touch"||wme(t,"drag-move"))&&(this.tooltip.lastHover=t),this.hoverDevice="pointer",this.previousInputDevice="pointer",this.highlight.pendingHoverEvent=t,this.hoverScheduler.schedule(),this.isState(32)))){let{currentX:e,currentY:n}=t,r=this.pickNodes({x:e,y:n},"event")?.matches,a=r?.[0];a?.series.hasEventListener("seriesNodeClick")||a?.series.hasEventListener("seriesNodeDoubleClick")||r!=null&&r.length>1&&this.chart.tooltip.pagination?this.chart.ctx.domManager.updateCursor(this.id,"pointer"):this.chart.ctx.domManager.updateCursor(this.id)}}onClick(t,i){if(t.device==="keyboard"||(i===this.chart.ctx.widgets.seriesWidget&&this.chart.ctx.animationManager.isActive()&&this.chart.ctx.animationManager.skipCurrentBatch(),t.device==="touch"&&i===this.chart.ctx.widgets.seriesWidget&&this.swapChain.focus({preventScroll:!0}),!this.isState(41)))return;if(i===this.chart.ctx.widgets.seriesWidget){if(!i.getElement().contains(t.sourceEvent.target))return}else if(t.sourceEvent.target!=i.getElement())return;if(this.focusIndicator?.overrideFocusVisible(!1),this.onHoverLikeEvent(t,i),!this.isState(32))return;if(i==this.chart.ctx.widgets.seriesWidget&&this.checkSeriesNodeClick(t)){this.update(5),t.sourceEvent.preventDefault();return}let e={type:t.type==="click"?"click":"doubleClick",event:t.sourceEvent};this.chart.fireEvent(e)}onFocus(){this.isState(34)&&(this.hoverDevice=this.focusIndicator?.isFocusVisible(!0)?"keyboard":"pointer",this.handleFocus(0,0))}onBlur(t){this.isState(34)&&(this.hoverDevice="pointer",this.maybeEnterInteractiveTooltip(t)||this.clearAll(),this.focusIndicator?.overrideFocusVisible(void 0))}onKeyDown(t){if(!this.isState(43))return;let i=lme(t.sourceEvent);switch(i?.activatesFocusIndicator===!1&&this.focusIndicator?.overrideFocusVisible(this.previousInputDevice==="keyboard"),i?.name){case"redo":return this.chart.ctx.eventsHub.emit("series:redo",null);case"undo":return this.chart.ctx.eventsHub.emit("series:undo",null);case"zoomin":return this.chart.ctx.eventsHub.emit("series:keynav-zoom",{delta:1,widgetEvent:t});case"zoomout":return this.chart.ctx.eventsHub.emit("series:keynav-zoom",{delta:-1,widgetEvent:t});case"arrowup":return this.onArrow(-1,0,t);case"arrowdown":return this.onArrow(1,0,t);case"arrowleft":return this.onArrow(0,-1,t);case"arrowright":return this.onArrow(0,1,t);case"submit":return this.onSubmit(t)}}onArrow(t,i,e){this.isState(34)&&(this.hoverDevice="keyboard",this.previousInputDevice="keyboard",this.focusIndicator?.overrideFocusVisible(!0),this.focus.seriesIndex+=t,this.focus.datumIndex+=i,this.handleFocus(t,i),e.sourceEvent.preventDefault(),this.chart.ctx.eventsHub.emit("series:focus-change",null))}onSubmit(t){if(!this.isState(34))return;let{series:i,datum:e}=this.focus,n=t.sourceEvent;i!=null&&e!=null?i.fireNodeClickEvent(n,e):this.chart.fireEvent({type:"click",event:n}),n.preventDefault()}checkSeriesNodeClick(t){var i;let e=this.pickNodes({x:t.currentX,y:t.currentY},"event");if(e==null||e.matches.length===0)return;let n=this.chart.tooltip.pagination?this.tooltipCandidates.update(e.matches,this.tooltipCandidates.current)?.current:void 0,{series:r,datum:a}=n??e.matches[0],o=n==null?e.distance:0;if(t.type==="click"){let l=r.fireNodeClickEvent(t.sourceEvent,a)&&this.chart.tooltip.pagination?this.tooltipCandidates.next():void 0;if(l!=null){t.sourceEvent.preventDefault();let{currentX:c,currentY:d}=t,u=c+(this.hoverRect?.x??0),h=d+(this.hoverRect?.y??0);(i=this.highlight).pendingHoverEvent??(i.pendingHoverEvent=this.highlight.appliedHoverEvent),this.handleHoverHighlight(!1),this.showTooltip(l.current,u,h,{index:l.index,length:l.length})}return!0}return t.type==="dblclick"?(t.preventZoomDblClick=o===0,r.fireNodeDoubleClickEvent(t.sourceEvent,a),!0):!1}handleFocus(t,i){let e=this.chart.overlays.getFocusInfo(this.chart.ctx.localeManager);e==null?this.handleSeriesFocus(t,i)===0?this.announceMode="when-changed":this.announceMode="always":(this.focusIndicator?.update(e.rect,this.seriesRect,!1),this.swapChain.update(e.text),this.announceMode="always")}handleSeriesFocus(t,i){if(this.chart.chartType==="standalone")return this.handleSoloSeriesFocus(t,i);let{focus:e}=this,n=e.sortedSeries.filter(l=>l.visible&&l.focusable);if(n.length===0)return 1;let r=e.datumIndex-i,a=e.seriesIndex-t;e.seriesIndex=Ae(0,e.seriesIndex,n.length-1),e.series=n[e.seriesIndex];let o=this.focus.datumIndex,s=this.focus.seriesIndex;return this.updatePickedFocus(o,i,r,s,t,a)}handleSoloSeriesFocus(t,i){this.focus.series=this.focus.sortedSeries[0];let e=this.focus.datumIndex,n=this.focus.seriesIndex,r=this.focus.datumIndex-i,a=this.focus.seriesIndex-t;return this.updatePickedFocus(e,i,r,n,t,a)}updatePickedFocus(t,i,e,n,r,a){let{focus:o,hoverRect:s,seriesRect:l}=this;if(o.series==null||s==null)return 1;let c=o?.series?.pickFocus({datumIndex:t,datumIndexDelta:i,otherIndex:n,otherIndexDelta:r,seriesRect:l});if(!c)return 2;let{datum:d}=c;if(o.datum=d,o.datumIndex=c.datumIndex,c.otherIndex!=null&&(o.seriesIndex=c.otherIndex),this.focusIndicator?.isFocusVisible()){this.chart.ctx.animationManager.reset();let h=dme(c),{x:m,y:p}=h.computeCenter();if(!s.containsPoint(m,p)&&this.chart.ctx.zoomManager.panToBBox(this.id,s,h))return 3;let{x1:g,x2:y,y1:v,y2:x}=lv.from(h),w=s.containsPoint(g,v),D=s.containsPoint(y,v),k=s.containsPoint(g,x),E=s.containsPoint(y,x);if(!(w||D||k||E)){let A=lv.from(s);c.movedBounds=h.clone(),g<A.x1&&y<A.x1?(c.movedBounds.x=A.x1-2,c.movedBounds.width=4):g>A.x2&&y>A.x2&&(c.movedBounds.x=A.x2-2,c.movedBounds.width=4),v<A.y1&&x<A.y1?(c.movedBounds.y=A.y1-2,c.movedBounds.height=4):v>A.y2&&x>A.y2&&(c.movedBounds.y=A.y2-2,c.movedBounds.height=4)}}this.focusIndicator?.update(c.movedBounds??c.bounds,this.seriesRect,c.clipFocusBox);let u=ume(o.series,s,c);if(u!=null&&this.hoverDevice==="keyboard"){this.tooltip.lastHover=void 0,this.highlight.appliedHoverEvent=void 0,this.highlight.pendingHoverEvent=void 0,this.highlight.stashedHoverEvent=void 0;let h=this.getTooltipContent(o.series,d.datumIndex,d,"aria-label"),m=Xw.makeTooltipMeta(u,o.series,d,c.movedBounds);this.chart.ctx.highlightManager.updateHighlight(this.id,d),this.isTooltipEnabled(o.series)&&this.chart.ctx.tooltipManager.updateTooltip(this.id,m,h),this.maybeAnnouncePickedFocus(i,e,r,a,c,h)}return 0}maybeAnnouncePickedFocus(t,i,e,n,r,a){let{focus:o}=this,s;this.announceMode==="when-changed"?t===0&&e===0||i!==r.datumIndex||n!==(r.otherIndex??o.seriesIndex)?s="always":s="never":s=this.announceMode,s==="always"&&this.swapChain.update(this.getDatumAriaText(r.datum,a))}getDatumAriaText(t,i){let e=i==null?"":n$(i);return this.chart.ctx.localeManager.t("ariaAnnounceHoverDatum",{datum:t.series.getDatumAriaText?.(t,e)??e})}clearHighlight(){this.highlight.pendingHoverEvent=void 0,this.highlight.appliedHoverEvent=void 0,this.chart.ctx.highlightManager.updateHighlight(this.id)}clearTooltip(){this.chart.ctx.tooltipManager.removeTooltip(this.id),this.tooltip.lastHover=void 0}clearAll(){this.clearHighlight(),this.clearTooltip(),this.focusIndicator?.clear()}handleHoverHighlight(t){this.highlight.appliedHoverEvent=this.highlight.pendingHoverEvent,this.highlight.pendingHoverEvent=void 0;let i=this.highlight.appliedHoverEvent;if(!i||!this.isState(41))return;let{currentX:e,currentY:n}=i,r=i.currentX+(this.hoverRect?.x??0),a=i.currentY+(this.hoverRect?.y??0);if(t?this.chart.ctx.animationManager.isActive():!this.hoverRect?.containsPoint(r,a)){this.clearHighlight();return}let{range:o}=this.chart.highlight,s=o==="tooltip"?"highlight-tooltip":"highlight",l=this.pickNodes({x:e,y:n},s);if(!l||l.matches.length===0){this.chart.ctx.highlightManager.updateHighlight(this.id);return}let{current:c}=this.tooltipCandidates,u=(c==null?void 0:l.matches.find(h=>fR(h,c)))?.datum??l.matches[0].datum;this.chart.ctx.highlightManager.updateHighlight(this.id,u),this.hoverDevice="pointer"}handleHoverTooltip(t,i){let{current:e}=this.tooltipCandidates;if(this.tooltipCandidates.reset(),!this.isState(41))return;let{currentX:n,currentY:r}=t,a=n+(this.hoverRect?.x??0),o=r+(this.hoverRect?.y??0),s=t.sourceEvent.target;if(i?this.chart.ctx.animationManager.isActive():!this.hoverRect?.containsPoint(a,o)){this.hoverDevice=="pointer"&&this.clearTooltip();return}if(s&&this.chart.tooltip.interactive&&this.chart.ctx.domManager.isManagedChildDOMElement(s,"canvas-overlay",mr))return;let l=this.pickNodes({x:t.currentX,y:t.currentY},"tooltip");if(!l||l.matches.length===0){this.hoverDevice=="pointer"&&this.clearTooltip();return}if(this.hoverDevice="pointer",l.distance===0){let{current:c,index:d,length:u}=this.tooltipCandidates.update(l.matches,this.chart.tooltip.pagination?e:void 0);this.showTooltip(c,a,o,{index:d,length:u})}else this.showTooltip(l.matches[0],a,o)}showTooltip({series:t,datum:i,datumIndex:e},n,r,a){let o=this.getTooltipContent(t,e,i,"tooltip");if(o!=null){let l=Xw.makeTooltipMeta({type:"pointermove",canvasX:n,canvasY:r},t,i,void 0);this.chart.ctx.tooltipManager.updateTooltip(this.id,l,o,a)}else this.chart.ctx.tooltipManager.removeTooltip(this.id)}maybeEnterInteractiveTooltip(t){return this.chart.tooltip.maybeEnterInteractiveTooltip(t,()=>{this.tooltip.lastHover=void 0,this.chart.ctx.tooltipManager.removeTooltip(this.id),this.chart.ctx.highlightManager.updateHighlight(this.id)})}changeHighlightDatum(t){let i=t.previousHighlight?.series,e=t.currentHighlight?.series;i?.properties.cursor&&t.previousHighlight?.datum&&this.chart.ctx.domManager.updateCursor(i.id),e?.properties.cursor&&e.properties.cursor!=="default"&&t.currentHighlight?.datum&&this.chart.ctx.domManager.updateCursor(e.id,e.properties.cursor),e==null||i==null?this.update(5):this.update(5,{seriesToUpdate:new Set([i,e].filter(Boolean))})}pickNodes(t,i,e){let n=[...this.series].reverse(),r;for(let a of n){if(!a.visible||!a.contentGroup.visible)continue;let o=a.pickNodes(t,i,e);if(o==null||o.datums.length===0)continue;let{datums:s,distance:l}=o;if(o.datums.length!==0){if(l===0){r?.distance!==0&&(r={matches:[],distance:0});for(let c of s){let{datumIndex:d}=c;r.matches.push({series:a,datum:c,datumIndex:d})}}else if(r==null||r.distance>l){let[c]=s,{datumIndex:d}=c;r={matches:[{series:a,datum:c,datumIndex:d}],distance:l}}}}return r}isTooltipEnabled(t){return t.tooltipEnabled??this.chart.tooltip.enabled}getTooltipContent(t,i,e,n){let r;if(n==="aria-label"||this.isTooltipEnabled(t)){let{cachedTooltipContent:a}=this;if(a!=null&&a.series===t&&a.datumIndex===i)r=a.content;else{let o=this.chart.getTooltipContent(t,i,e);this.cachedTooltipContent={series:t,datumIndex:i,content:o},r=o}}else this.cachedTooltipContent=void 0;return r}};function wme(t,i){return t.type!==i}var $H=30,Dme=class{constructor(t){this.seriesRoot=t,this.groups=new Map,this.series=new Map,this.expectedSeriesCount=1,this.mode="normal"}setSeriesCount(t){this.expectedSeriesCount=t}getGroupIndex(t){let{internalId:i,seriesGrouping:e}=t;return e?.groupIndex??i}getGroupType(t,i){return i?"top":t.type}requestGroup(t){let{internalId:i,contentGroup:e}=t,n=t.bringToFront(),r=this.getGroupType(t,n),a=this.getGroupIndex(t),o=this.series.get(i);if(o!=null)throw new Error(`AG Charts - series already has an allocated layer: ${JSON.stringify(o)}`);this.series.size===0&&(this.mode=this.expectedSeriesCount>=$H?"aggressive-grouping":"normal");let s=this.groups.get(r);s==null&&(s=new Map,this.groups.set(r,s));let l=this.lookupIdx(a),c=s.get(l);return c==null&&(c={type:r,id:l,seriesIds:[],group:this.seriesRoot.appendChild(new mt({name:`${t.contentGroup.name??r}-managed-layer`,zIndex:t.contentGroup.zIndex,renderToOffscreenCanvas:!1}))},s.set(l,c)),this.series.set(i,{layerState:c,seriesConfig:t,bringToFront:n}),c.seriesIds.push(i),c.group.appendChild(e),c.group}changeGroup(t){let{internalId:i,contentGroup:e}=t,n=t.bringToFront(),r=this.getGroupType(t,n),a=this.series.get(i),o=a?this.getGroupType(a.seriesConfig,a.bringToFront):void 0,s=this.getGroupIndex(t),l=this.lookupIdx(s),c=this.groups.get(r)?.get(l);if(!(o===r&&c?.seriesIds.includes(i)===!0))return this.series.has(i)&&this._releaseGroup({internalId:i,contentGroup:e,type:o}),this.requestGroup(t)}releaseGroup(t){let{internalId:i,contentGroup:e}=t,n=this.getGroupType(t,t.bringToFront());this._releaseGroup({internalId:i,contentGroup:e,type:n})}_releaseGroup(t){let{internalId:i,contentGroup:e,type:n}=t;if(!this.series.has(i))throw new Error(`AG Charts - series doesn't have an allocated layer: ${i}`);let r=this.series.get(i)?.layerState;r&&(r.seriesIds=r.seriesIds.filter(a=>a!==i),r.group.removeChild(e)),r?.seriesIds.length===0?(this.seriesRoot.removeChild(r.group),this.groups.get(r.type)?.delete(r.id),this.groups.get(n)?.delete(i)):r!=null&&r.seriesIds.length>0&&(r.group.zIndex=this.getLowestSeriesZIndex(r.seriesIds)),this.series.delete(i)}updateLayerCompositing(){this.groups.forEach(t=>{t.forEach(i=>{let{group:e,seriesIds:n}=i,r;n.length===0?r=!1:n.length>1?r=!0:r=this.series.get(n[0])?.seriesConfig.renderToOffscreenCanvas()===!0,e.renderToOffscreenCanvas=r,e.zIndex=this.getLowestSeriesZIndex(n)})})}lookupIdx(t){return this.mode==="normal"?t:typeof t=="string"&&(t=Number(t.split("-").at(-1)),!Number.isFinite(t))?0:Math.floor(Ae(0,t/this.expectedSeriesCount,1)*$H)}destroy(){this.groups.forEach(t=>{t.forEach(i=>{this.seriesRoot.removeChild(i.group)})}),this.groups.clear(),this.series.clear()}getLowestSeriesZIndex(t){let i;for(let e of t){let r=this.series.get(e)?.seriesConfig.contentGroup.zIndex??1;if(i==null||r==null){i=r;continue}i=Y5(i,r)<=0?i:r}return i??1}},o$=class extends nt{constructor(){super(...arguments),this.dragAction="drag"}};b([C],o$.prototype,"dragAction",2);var Sme=class{constructor(t,i,e,n,r,a){this.chart=t,this.eventsHub=i,this.dataService=e,this.updateService=n,this.zoomManager=r,this.animationManager=a,this.dirtyZoom=!1,this.dirtyDataSource=!1,this.lastAxisZooms=new Map,this.cleanup=new pt,this.cleanup.register(this.eventsHub.on("data:source-change",()=>this.onDataSourceChange()),this.eventsHub.on("data:load",()=>this.onDataLoad()),this.eventsHub.on("data:error",()=>this.onDataError()),this.updateService.addListener("update-complete",o=>this.onUpdateComplete(o)),this.eventsHub.on("zoom:change",()=>this.onZoomChange()))}destroy(){this.cleanup.flush()}onDataLoad(){this.animationManager.skip(),this.updateService.update(1)}onDataError(){this.updateService.update(4)}onDataSourceChange(){this.dirtyDataSource=!0}onUpdateComplete(t){!t.apiUpdate&&!this.dirtyZoom&&!this.dirtyDataSource||this.updateWindow(t)}onZoomChange(){this.dirtyZoom=!0}updateWindow(t){if(!this.dataService.isLazy())return;let i=this.getValidAxis(),e,n=!0;if(i){let r=this.zoomManager.getAxisZoom(i.id);(r.min!==0||r.max!==1)&&(e=this.getAxisWindow(i,r)),n=this.shouldRefresh(t,i,r)}this.dirtyZoom=!1,this.dirtyDataSource=!1,n&&this.dataService.load({windowStart:e?.min,windowEnd:e?.max})}getValidAxis(){return this.chart.axes.find(t=>t.type==="time")}shouldRefresh(t,i,e){if(t.apiUpdate||this.dirtyDataSource)return!0;if(!this.dirtyZoom)return!1;let n=this.lastAxisZooms.get(i.id);return n&&e.min===n.min&&e.max===n.max?!1:(this.lastAxisZooms.set(i.id,e),!0)}getAxisWindow(t,i){let{domain:e}=t.scale;if(!i||e.length===0||isNaN(Number(e[0])))return;let n=Number(e[1])-Number(e[0]),r=new Date(Number(e[0])+n*i.min),a=new Date(Number(e[0])+n*i.max);return{min:r,max:a}}},Mme=/^((?!chrome|android).)*safari/i,Ime=/Version\/(\d+(\.\d+)?)/,kme=/Chrome/,Ame=/Chrome\/(\d+)/,Eme=/Edg/,Tme=/OPR/;function Rme(){let{userAgent:t}=tt("navigator");if(Mme.test(t)){let i=Ime.exec(t);if(i==null)return!1;let e=parseFloat(i[1]),n=Math.floor(e)>16;return n||z.warnOnce(`Unsupported Safari version: ${e}; ${t}`),!n}else if(kme.test(t)&&!Eme.test(t)&&!Tme.test(t)){let i=Ame.exec(t);if(i==null)return!1;let e=parseInt(i[1],10),n=e>126;return n||z.warnOnce(`Unsupported Chrome version: ${e}; ${t}`),!n}return!1}var Ome=new Set(["map-shape-background","map-line-background"]),Lme=class{constructor(t,i,e,n,r,a,o){this.chartLike=t,this.overlays=i,this.eventsHub=e,this.dataService=n,this.localeManager=r,this.animationManager=a,this.domManager=o,this.cleanup=new pt,this.overlayElem=this.domManager.addChild("canvas-overlay","overlay"),this.overlayElem.role="status",this.overlayElem.ariaAtomic="false",this.overlayElem.ariaLive="polite",this.overlayElem.classList.toggle(mR),this.cleanup.register(this.eventsHub.on("layout:complete",s=>this.onLayoutComplete(s)))}destroy(){this.cleanup.flush(),this.domManager.removeChild("canvas-overlay","overlay")}onLayoutComplete({series:{rect:t}}){let i=this.dataService.isLoading(),e=this.chartLike.series.some(c=>c.hasData),n=this.chartLike.series.some(c=>c.visible&&!Ome.has(c.type));this.overlays.darkTheme?this.overlayElem.classList.add(BH):this.overlayElem.classList.remove(BH),this.overlayElem.style.left=`${t.x}px`,this.overlayElem.style.top=`${t.y}px`,this.overlayElem.style.width=`${t.width}px`,this.overlayElem.style.height=`${t.height}px`;let r=i,a=!i&&!e,o=e&&!n,s=this.overlays.unsupportedBrowser.enabled&&Rme();r?this.showOverlay(this.overlays.loading,t):this.hideOverlay(this.overlays.loading),a?this.showOverlay(this.overlays.noData,t):this.hideOverlay(this.overlays.noData),o?this.showOverlay(this.overlays.noVisibleSeries,t):this.hideOverlay(this.overlays.noVisibleSeries),s?this.showOverlay(this.overlays.unsupportedBrowser,t):this.hideOverlay(this.overlays.unsupportedBrowser);let l=r||a||o||s;it(this.overlayElem,"aria-hidden",!l)}showOverlay(t,i){if(!t.enabled)return;let e=t.getElement(this.chartLike,this.animationManager,this.localeManager,i);this.overlayElem.appendChild(e)}hideOverlay(t){t.removeElement(()=>{this.overlayElem.innerText="\xA0"},this.animationManager)}},Ro=yt.create(!0,"opts"),gn=(()=>{let t=class s$ extends hG{constructor(e,n){var r;super(),this.id=pn(this),this.seriesRoot=new Kr({name:`${this.id}-series-root`,zIndex:7}),this.annotationRoot=new Kr({name:`${this.id}-annotation-root`,zIndex:11}),this.titleGroup=new mt({name:"titles",zIndex:15}),this.debug=yt.create(),this.extraDebugStats={},this.data=[],this._firstAutoSize=!0,this._autoSizeNotify=new e1,this.chartCaptions=new kD,this.padding=new Wh(20),this.keyboard=new mO,this.touch=new o$,this.mode="standalone",this.styleNonce=void 0,this.formatter=void 0,this.suppressFieldDotNotation=!1,this.loadGoogleFonts=!1,this.destroyed=!1,this.cleanup=new pt,this.chartAnimationPhase="initial",this.modulesManager=new eme,this.processors=[],this.queuedUserOptions=[],this.queuedChartOptions=[],this.firstApply=!0,this.syncStatus="init",this.fireEventWrapper=u=>super.fireEvent(u),this.apiUpdate=!1,this._pendingFactoryUpdatesCount=0,this._performUpdateSkipAnimations=!1,this._performUpdateNotify=new e1,this.performUpdateType=8,this.runningUpdateType=8,this.updateShortcutCount=0,this.seriesToUpdate=new Set,this.updateMutex=new Nce,this.updateRequestors={},this.performUpdateTrigger=Vce(({count:u})=>{this.destroyed||this.updateMutex.acquire(()=>L(this,null,function*(){try{yield this.performUpdate(u)}catch(h){z.error("update error",h,h.stack)}})).catch(h=>z.errorOnce(h))}),this._performUpdateSplits={},this.axes=[],this.series=[],this._cachedData=void 0,this.onSeriesNodeClick=u=>{this.fireEvent(u)},this.onSeriesNodeDoubleClick=u=>{this.fireEvent(u)},this.onSeriesVisibilityChange=u=>{this.fireEvent(u)},this.seriesGroupingChanged=u=>{if(!(u instanceof rD))return;let{series:h,seriesGrouping:m}=u;if(h.contentGroup.isRoot())return;let p=this.seriesLayerManager.changeGroup({internalId:h.internalId,type:h.type,contentGroup:h.contentGroup,bringToFront:()=>h.bringToFront(),renderToOffscreenCanvas:()=>h.renderToOffscreenCanvas(),seriesGrouping:m});p!=null&&h.attachSeries(p,this.seriesRoot,this.annotationRoot)},this.chartOptions=e;let a=n?.scene,o=n?.container??e.processedOptions.container??void 0,s=n?.styleContainer??e.specialOverrides.styleContainer;a&&(this._firstAutoSize=!1,this._lastAutoSize=[a.width,a.height,a.pixelRatio]);let l=new mt({name:"root"});l.visible=!1,l.append(this.seriesRoot),l.append(this.annotationRoot),l.append(this.titleGroup),this.titleGroup.append(this.title.node),this.titleGroup.append(this.subtitle.node),this.titleGroup.append(this.footnote.node),this.tooltip=new $o,this.seriesLayerManager=new Dme(this.seriesRoot),this.mode=e.userOptions.mode??this.mode,this.styleNonce=e.processedOptions.styleNonce;let c=this.ctx=new jue(this,{chartType:this.getChartType(),scene:a,root:l,container:o,styleContainer:s,domMode:e.optionMetadata.domMode,withDragInterpretation:e.optionMetadata.withDragInterpretation??!0,syncManager:new hhe(this),fireEvent:u=>this.fireEvent(u),updateCallback:(u,h)=>this.update(u,h),updateMutex:this.updateMutex});this.cleanup.register(c.eventsHub.on("dom:resize",()=>this.parentResize(c.domManager.containerSize))),this.overlays=new Hf,(r=this.overlays.loading).renderer??(r.renderer=()=>tme(this.overlays.loading.getText(c.localeManager),c.animationManager.defaultDuration)),this.processors=[new Sme(this,c.eventsHub,c.dataService,c.updateService,c.zoomManager,c.animationManager),new Lme(this,this.overlays,c.eventsHub,c.dataService,c.localeManager,c.animationManager,c.domManager)],this.highlight=new aW,this.container=o;let d=this.getModuleContext();c.domManager.setDataBoolean("animating",!1),this.seriesAreaManager=new Cme(this.initSeriesAreaDependencies()),this.cleanup.register(c.layoutManager.registerElement(0,u=>{u.layoutBox.shrink(this.padding.toJson()),this.chartCaptions.positionCaptions(u)}),c.eventsHub.on("layout:complete",u=>this.chartCaptions.positionAbsoluteCaptions(u)),c.eventsHub.on("data:load",u=>{this.data=u.data}),this.title.registerInteraction(d,"beforebegin"),this.subtitle.registerInteraction(d,"beforebegin"),this.footnote.registerInteraction(d,"afterend"),Pl.addWindowEvent("page-left",()=>this.destroy()),c.animationManager.addListener("animation-frame",()=>{this.update(7)}),c.animationManager.addListener("animation-start",()=>c.domManager.setDataBoolean("animating",!0)),c.animationManager.addListener("animation-stop",()=>c.domManager.setDataBoolean("animating",!1)),c.eventsHub.on("zoom:change",()=>{this.series.forEach(h=>h.animationState?.transition("updateData"));let u=this.chartAnimationPhase!=="initial";this.update(4,{forceNodeDataRefresh:!0,skipAnimations:u})})),this.parentResize(c.domManager.containerSize)}static getInstance(e){return s$.chartsInstances.get(e)}get canvasElement(){return this.ctx.scene.canvas.element}download(e,n){this.ctx.scene.download(e,n)}getCanvasDataURL(e){return this.ctx.scene.getDataURL(e)}toSVG(){return this.ctx.scene.toSVG()}get seriesAreaBoundingBox(){return this.seriesAreaManager.bbox}getOptions(){return this.queuedUserOptions.at(-1)??this.chartOptions.userOptions}getChartOptions(){return this.queuedChartOptions.at(-1)??this.chartOptions}overrideFocusVisible(e){this.seriesAreaManager.focusIndicator?.overrideFocusVisible(e)}fireEvent(e){Ls(this,this.fireEventWrapper,e)}initSeriesAreaDependencies(){let{ctx:e,tooltip:n,highlight:r,overlays:a,seriesRoot:o,mode:s}=this,l=this.getChartType();return{fireEvent:this.fireEvent.bind(this),getUpdateType:()=>this.performUpdateType,getTooltipContent:(h,m,p)=>this.getTooltipContent(h,m,p),chartType:l,ctx:e,tooltip:n,highlight:r,overlays:a,seriesRoot:o,mode:s}}getModuleContext(){return this.ctx}getTooltipContent(e,n,r){let a=e.properties.tooltip.enabled!==!1?e.getTooltipContent(n,r):void 0,o=a==null?[]:[a];if(this.tooltip.mode!=="shared"||this.series.length===1)return o;let s=e.getCategoryValue(n);return s==null?o:this.series.flatMap(l=>{if(l===e)return o;if(!l.isEnabled()||l.properties.tooltip.enabled===!1)return[];let c=l.datumIndexForCategoryValue(s),d=c==null?void 0:l.getTooltipContent(c,void 0);return d==null?[]:[d]})}getCaptionText(){return[this.title,this.subtitle,this.footnote].filter(e=>e.enabled&&e.text).map(e=>e.text).join(". ")}getAriaLabel(){return this.ctx.localeManager.t("ariaAnnounceChart",{seriesCount:this.series.length})}resetAnimations(){this.chartAnimationPhase="initial";for(let e of this.series)e.resetAnimation(this.chartAnimationPhase);for(let e of this.axes)e.resetAnimation(this.chartAnimationPhase);this.animationRect=void 0,this.ctx.animationManager.reset()}skipAnimations(){this.ctx.animationManager.skipCurrentBatch(),this._performUpdateSkipAnimations=!0}detachAndClear(){this.container=void 0,this.ctx.scene.clearCanvas()}destroy(e){if(this.destroyed)return;let n=e?.keepTransferableResources,r;return this.performUpdateType=8,this.cleanup.flush(),this.processors.forEach(a=>a.destroy()),this.overlays.destroy(),this.modulesManager.destroy(),n?(this.ctx.scene.strip(),r={container:this.container,scene:this.ctx.scene}):(this.ctx.scene.destroy(),this.container=void 0),this.destroySeries(this.series),this.seriesLayerManager.destroy(),this.axes.forEach(a=>a.destroy()),this.axes=[],this.animationRect=void 0,this.ctx.destroy(),this.destroyed=!0,Object.freeze(this),r}requestFactoryUpdate(e){this.destroyed||(this._pendingFactoryUpdatesCount++,this.updateMutex.acquire(()=>L(this,null,function*(){if(!this.destroyed)try{yield e(this)}finally{this.destroyed||this._pendingFactoryUpdatesCount--}})).catch(n=>z.errorOnce(n)))}clearCallbackCache(){this.ctx.callbackCache.invalidateCache();for(let e of this.series)e.resetDatumCallbackCache()}update(e=0,n){if(this.destroyed)return;let{forceNodeDataRefresh:r=!1,skipAnimations:a,seriesToUpdate:o=this.series,newAnimationBatch:s,apiUpdate:l=!1}=n??{};this.apiUpdate=l,this.ctx.widgets.seriesWidget.setDragTouchEnabled(this.touch.dragAction!=="none"),r&&this.series.forEach(c=>c.markNodeDataDirty());for(let c of o)this.seriesToUpdate.add(c);if(a&&(this.ctx.animationManager.skipCurrentBatch(),this._performUpdateSkipAnimations=!0),s&&this.ctx.animationManager.isActive()&&(this._performUpdateSkipAnimations=!0),this.debug.check()){let c=new Error().stack??"<unknown>";c=c.replace(/\([^)]*/g,""),this.updateRequestors[c]=e}e<this.performUpdateType&&(this.performUpdateType=e,this.ctx.domManager.setDataBoolean("updatePending",!0),this.performUpdateTrigger.schedule(n?.backOffMs))}performUpdate(e){return L(this,null,function*(){let{performUpdateType:n,extraDebugStats:r,_performUpdateSplits:a,ctx:o}=this,s=[...this.seriesToUpdate];this.clearCallbackCache(),this.performUpdateType=8,this.seriesToUpdate.clear(),this.runningUpdateType=n,this.updateShortcutCount===0&&n<7&&(o.animationManager.startBatch(this._performUpdateSkipAnimations),o.animationManager.onBatchStop(()=>this.chartAnimationPhase="ready")),this.ctx.scene.updateDebugFlags(),this.debug("Chart.performUpdate() - start",Zy[n]);let l=performance.now();a.start??(a.start=l);let c=u=>{a[u]??(a[u]=0),a[u]+=performance.now()-l,l=performance.now()};switch(n){case 0:if(this.checkUpdateShortcut(0))break;this.ctx.updateService.dispatchPreDomUpdate(),this.updateDOM();case 1:if(this.checkUpdateShortcut(1))break;yield this.updateData(),c("\u2B07\uFE0F");case 2:if(this.checkUpdateShortcut(2))break;yield this.processData(),this.seriesAreaManager.dataChanged(),c("\u{1F3ED}");case 3:if(this.checkUpdateShortcut(3))break;yield this.processDomains(),c("\u26F0\uFE0F");case 4:if(yield this.checkFirstAutoSize(),this.checkUpdateShortcut(4))break;yield this.processLayout(),c("\u2316");case 5:{if(this.checkUpdateShortcut(5))break;yield this.updateSeries(s),c("\u{1F914}"),this.updateAriaLabels(),this.seriesLayerManager.updateLayerCompositing()}case 6:if(this.checkUpdateShortcut(6))break;o.updateService.dispatchPreSceneRender(),c("\u2196");case 7:if(this.checkUpdateShortcut(7))break;o.animationManager.endBatch(),r.updateShortcutCount=this.updateShortcutCount,o.scene.render({debugSplitTimes:a,extraDebugStats:r,seriesRect:this.seriesRect}),this.extraDebugStats={};for(let u of Object.keys(a))delete a[u];this.ctx.domManager.incrementDataCounter("sceneRenders"),this.ctx.domManager.postRenderUpdate();case 8:this.updateShortcutCount=0,this.updateRequestors={},this._performUpdateSkipAnimations=!1,o.animationManager.endBatch()}this.destroyed||(o.updateService.dispatchUpdateComplete(this.apiUpdate),this.apiUpdate=!1,this.ctx.domManager.setDataBoolean("updatePending",!1),this.runningUpdateType=8,this.syncStatus="ready"),this._performUpdateNotify.notify();let d=performance.now();this.debug("Chart.performUpdate() - end",{chart:this,durationMs:Math.round((d-a.start)*100)/100,count:e,performUpdateType:Zy[n]})})}updateThemeClassName(){let e="ag-charts-theme-",n=[`${e}default`,`${e}default-dark`],r=n[0],a=!1,{theme:o}=this.chartOptions.processedOptions;for(;typeof o!="string"&&o!=null;)o=o.baseTheme;typeof o=="string"&&(r=o.replace("ag-",e),a=o.includes("-dark")),n.includes(r)||(r=a?n[1]:n[0]),this.ctx.domManager.setThemeClass(r)}updateDOM(){this.updateThemeClassName();let{enabled:e,tabIndex:n}=this.keyboard;this.ctx.domManager.setTabGuardIndex(e?n??0:-1),this.ctx.domManager.setThemeParameters(this.chartOptions.themeParameters)}updateAriaLabels(){this.ctx.domManager.updateCanvasLabel(this.getAriaLabel())}checkUpdateShortcut(e){return this.destroyed?!0:this.updateShortcutCount>3?(z.warn("exceeded the maximum number of simultaneous updates (4), discarding changes and rendering",this.updateRequestors),!1):this.performUpdateType<=e?(this.updateShortcutCount++,!0):!1}checkFirstAutoSize(){return L(this,null,function*(){this.width!=null&&this.height!=null||this._lastAutoSize||(yield this._autoSizeNotify.await(500))||this.debug("Chart.checkFirstAutoSize() - timeout for first size update.")})}onAxisChange(e,n){n==null&&e.length===0||this.ctx.axisManager.updateAxes(n??[],e)}onSeriesChange(e,n){let r=n?.filter(a=>!e.includes(a))??[];this.destroySeries(r),this.seriesLayerManager?.setSeriesCount(e.length);for(let a of e){if(n?.includes(a))continue;let o=this.seriesLayerManager.requestGroup(a);a.attachSeries(o,this.seriesRoot,this.annotationRoot);let s=this;a.chart={get mode(){return s.mode},get isMiniChart(){return!1},get seriesRect(){return s.seriesRect}},a.resetAnimation(this.chartAnimationPhase),this.addSeriesListeners(a),a.addChartEventListeners()}this.seriesAreaManager?.seriesChanged(e)}destroySeries(e){e?.forEach(n=>{n.removeEventListener("seriesNodeClick",this.onSeriesNodeClick),n.removeEventListener("seriesNodeDoubleClick",this.onSeriesNodeDoubleClick),n.removeEventListener("groupingChanged",this.seriesGroupingChanged),n.destroy(),this.seriesLayerManager.releaseGroup(n),n.detachSeries(void 0,this.seriesRoot,this.annotationRoot),n.chart=void 0})}addSeriesListeners(e){this.hasEventListener("seriesNodeClick")&&e.addEventListener("seriesNodeClick",this.onSeriesNodeClick),this.hasEventListener("seriesNodeDoubleClick")&&e.addEventListener("seriesNodeDoubleClick",this.onSeriesNodeDoubleClick),this.hasEventListener("seriesVisibilityChange")&&e.addEventListener("seriesVisibilityChange",this.onSeriesVisibilityChange),e.addEventListener("groupingChanged",this.seriesGroupingChanged)}assignSeriesToAxes(){for(let e of this.axes)e.boundSeries=this.series.filter(n=>n.axes[e.direction]===e)}assignAxesToSeries(){let e=$p(this.axes,n=>n.direction);for(let n of this.series)for(let r of n.directions){let a=e[r];if(!a){z.warnOnce(`no available axis for direction [${r}]; check series and axes configuration.`);return}let o=n.getKeys(r),s=a.find(l=>!l.keys.length||o.some(c=>l.keys.includes(c)));if(!s){z.warnOnce(`no matching axis for direction [${r}] and keys [${o}]; check series and axes configuration.`);return}n.axes[r]=s}}parentResize(e){if(e==null||this.width!=null&&this.height!=null)return;let{width:n,height:r}=e,{pixelRatio:a}=e;if(n=Math.floor(n),r=Math.floor(r),n===0&&r===0)return;let[o=0,s=0,l=1]=this._lastAutoSize??[];o===n&&s===r&&l===a||(this._lastAutoSize=[n,r,a],this.resize("SizeMonitor",{}))}resize(e,n){let{scene:r,animationManager:a}=this.ctx,{inWidth:o,inHeight:s,inMinWidth:l,inMinHeight:c,inOverrideDevicePixelRatio:d}=n;this.ctx.domManager.setSizeOptions(l??this.minWidth,c??this.minHeight,o??this.width,s??this.height);let u=o??this.width??this._lastAutoSize?.[0],h=s??this.height??this._lastAutoSize?.[1],m=d??this.overrideDevicePixelRatio??this._lastAutoSize?.[2];if(this.debug(`Chart.resize() from ${e}`,{width:u,height:h,pixelRatio:m,stack:new Error().stack}),!(u==null||h==null||!Tt(u)||!Tt(h))&&r.resize(u,h,m)){a.reset();let p=!0;(this.width==null||this.height==null)&&this._firstAutoSize&&(p=!1,this._firstAutoSize=!1),this.update(4,{forceNodeDataRefresh:!0,skipAnimations:p}),this._autoSizeNotify.notify()}}updateData(){return L(this,null,function*(){this.series.forEach(n=>n.setChartData(this.data));let e=this.modulesManager.mapModules(n=>n.updateData?.(this.data));yield Promise.all(e)})}processData(){return L(this,null,function*(){this.series.some(a=>a.canHaveAxes)&&(this.assignAxesToSeries(),this.assignSeriesToAxes());let e=new uW(this.mode,this.suppressFieldDotNotation),n=this.series.map(a=>a.processData(e)),r=this.modulesManager.mapModules(a=>a.processData?.(e));this._cachedData=e.execute(this._cachedData),yield Promise.all([...n,...r]),this.updateLegends()})}processDomains(){return L(this,null,function*(){for(let e of this.axes)e.processData();for(let e of this.series)e.updatedDomains()})}updateLegends(e){for(let{legend:n,legendType:r}of this.modulesManager.legends())r==="category"?this.setCategoryLegendData(e):this.setLegendData(r,n)}setCategoryLegendData(e){var n;let{ctx:{legendManager:r,stateManager:a}}=this;e&&this.series.forEach(s=>{let l=e.find(c=>c.seriesId===s.id);s.onLegendInitialState("category",l)});let o=this.series.flatMap(s=>{let l=s.getLegendData("category");return r.updateData(s.id,l),l});if(e){a.setStateAndRestore(r,e);return}if(this.mode!=="integrated"){let s={},l=new Map(this.series.map(c=>[c.id,c.type]));for(let{seriesId:c,symbol:{marker:d},label:u}of o.filter(h=>!h.hideInLegend)){if(d.fill==null)continue;let h=l.get(c),m=s[h]??(s[h]={});m[n=u.text]??(m[n]=d.fill),m[u.text]!==d.fill&&z.warnOnce(`legend item '${u.text}' has multiple fill colors, this may cause unexpected behaviour.`)}}r.update()}setLegendData(e,n){n.data=this.series.filter(r=>r.properties.showInLegend).flatMap(r=>r.getLegendData(e))}processLayout(){return L(this,null,function*(){let e=this.animationRect,{width:n,height:r}=this.ctx.scene,a=this.ctx.layoutManager.createContext(n,r);yield this.performLayout(a),e&&!this.animationRect?.equals(e)&&this.ctx.animationManager.skipCurrentBatch(),this.debug("Chart.performUpdate() - seriesRect",this.seriesRect)})}updateSeries(e){return L(this,null,function*(){let{seriesRect:n}=this;yield Promise.all(e.map(r=>r.update({seriesRect:n}))),this.ctx.seriesLabelLayoutManager.updateLabels(this.series.filter(r=>r.visible&&r.usesPlacedLabels),this.padding,this.seriesRect)})}waitForUpdate(e,n){return L(this,null,function*(){let r=tt("agChartsDebugTimeout");r==null?(e??(e=1e5),n??(n=!1)):(e=r,n??(n=!0));let a=performance.now();for(;(this._pendingFactoryUpdatesCount>0||this.performUpdateType!==8||this.runningUpdateType!==8||this.ctx.scene.waitingForUpdate())&&!this.destroyed;){if(this._pendingFactoryUpdatesCount>0&&(yield this.updateMutex.waitForClearAcquireQueue()),(this.performUpdateType!==8||this.runningUpdateType!==8)&&(yield this._performUpdateNotify.await()),performance.now()-a>e){let o=`Chart.waitForUpdate() timeout of ${e} reached - first chart update taking too long.`;if(n)throw new Error(o);z.warnOnce(o)}dG()&&(yield t1()),this.ctx.scene.waitingForUpdate()&&(yield t1(50))}})}filterMiniChartSeries(e){return e?.filter(n=>n.showInMiniChart!==!1)}applyOptions(e){let r=this.firstApply?e.processedOptions:e.diffOptions(this.chartOptions);if(r==null||Object.keys(r).length===0){Ro("Chart.applyOptions() - no delta, forcing re-layout",r),this.update(4,{apiUpdate:!0,newAnimationBatch:!0});return}let a=this.firstApply?{}:this.chartOptions.processedOptions,o=e.processedOptions;Ro("Chart.applyOptions() - applying delta",r);let s=this.applyModules(o),l=["type","data","series","listeners","preset","theme","legend.listeners","navigator.miniChart.series","navigator.miniChart.label","locale.localeText","axes","topology","nodes","initialState","styleContainer","formatter"];r.listeners&&this.registerListeners(this,r.listeners),qy(this,r,{skip:l});let c=!1,d="no-op";r.series!=null&&(d=this.applySeries(this,r.series,a?.series),c=!0),d==="replaced"&&this.resetAnimations(),this.applyAxes(this,o,a,d,[])&&(c=!0),r.data&&(this.data=r.data),r.legend?.listeners&&this.modulesManager.isEnabled("legend")&&Object.assign(this.legend.listeners,r.legend.listeners),r.locale?.localeText&&(this.modulesManager.getModule("locale").localeText=r.locale?.localeText),this.chartOptions=e;let u=this.modulesManager.getModule("navigator"),h=this.modulesManager.getModule("zoom");!u?.enabled&&!h?.enabled&&this.ctx.zoomManager.updateZoom("chart");let m=u?.miniChart,p=o.navigator?.miniChart?.series??o.series;m?.enabled===!0&&p!=null?this.applyMiniChartOptions(m,p,o,a):m?.enabled===!1&&(m.series=[],m.axes=[]),this.ctx.annotationManager.setAnnotationStyles(e.annotationThemes),c||(c=this.shouldForceNodeDataRefresh(r,d));let y=c||s?0:4;if(this.maybeResetAnimations(d),this.shouldClearLegendData(o,a,d)&&this.ctx.legendManager.clearData(),this.applyInitialState(o),this.ctx.formatManager.setFormatter(o.formatter),Ro("Chart.applyOptions() - update type",Zy[y],{seriesStatus:d,forceNodeDataRefresh:c}),e.optionsProcessingTime!==void 0){this._performUpdateSplits["\u2699\uFE0F"]=e.optionsProcessingTime;let v=performance.now()-e.optionsProcessingTime;this._performUpdateSplits.start=v}this.update(y,{apiUpdate:!0,forceNodeDataRefresh:c,newAnimationBatch:!0}),this.firstApply=!1}applyInitialState(e){let{annotationManager:n,chartTypeOriginator:r,historyManager:a,stateManager:o,zoomManager:s}=this.ctx,{initialState:l}=e;if("annotations"in e&&e.annotations?.enabled&&l?.annotations!=null){let c=l.annotations.map(d=>{let u=n.getAnnotationTypeStyles(d.type);return Jt(d,u)});o.setState(n,c)}l?.chartType!=null&&o.setState(r,l.chartType),(e.navigator?.enabled||e.zoom?.enabled)&&l?.zoom!=null&&o.setState(s,l.zoom),l?.legend!=null&&this.updateLegends(l.legend),l!=null&&a.clear()}maybeResetAnimations(e){if(this.mode==="standalone")switch(e){case"series-grouping-change":case"replaced":this.resetAnimations();break;default:}}shouldForceNodeDataRefresh(e,n){let r=!!e.data||n==="data-change"||n==="replaced",a=uO.getKeys(),o=Object.values(a).some(l=>e[l]!=null),s=e.title!=null&&e.subtitle!=null||e.formatter!=null;return r||o||s}shouldClearLegendData(e,n,r){let a=r==="replaced"||r==="series-grouping-change"||r==="updated"&&(e.series?.length!==n.series?.length||!e.series?.every((s,l)=>s.type===n.series?.[l].type)),o=n.legend!=null&&e.legend==null;return a||o}applyMiniChartOptions(e,n,r,a){let o=a?.navigator?.miniChart?.series??a?.series,s=this.applySeries(e,this.filterMiniChartSeries(n),this.filterMiniChartSeries(o));this.applyAxes(e,r,a,s,["axes[].tick","axes[].thickness","axes[].title","axes[].crosshair","axes[].gridLine","axes[].label"]);let l=e.series;for(let u of l)u.properties.id=void 0;let c=e.axes,d=c.find(u=>u.direction==="x");for(let u of c)u.nice=!1,u.gridLine.enabled=!1,u.label.enabled=u===d,u.tick.enabled=!1,u.interactionEnabled=!1;if(d!=null){let u=r.navigator?.miniChart,h=u?.label,m=u?.label?.interval;if(d.line.enabled=!1,d.label.set(ue(h,["interval","autoRotate","autoRotateAngle","itemStyler","minSpacing","rotation"])),d.type==="grouped-category"){d.label.enabled=!1,d.label.rotation=0;let{depthOptions:p}=d;if(p.length===0)p.set([{label:{enabled:!0}}]);else for(let g=1;g<p.length;g++)p[g].label.enabled=!1}else(d.type==="time"||d.type==="unit-time"||d.type==="ordinal-time")&&(d.parentLevel.enabled=!1);d.interval.step=m?.step,d.interval.values=m?.values,d.interval.minSpacing=m?.minSpacing,d.interval.maxSpacing=m?.maxSpacing}}applyModules(e){let{type:n}=this.constructor,r=!1;for(let a of Tl.byType("root","legend")){let s=e[a.optionsKey]!=null&&a.chartTypes.includes(n);s!==this.modulesManager.isEnabled(a)&&(s?(this.modulesManager.addModule(a,l=>l.moduleFactory(this.getModuleContext())),a.type==="legend"&&this.modulesManager.getModule(a)?.attachLegend(this.ctx.scene),this[a.optionsKey]=this.modulesManager.getModule(a)):(this.modulesManager.removeModule(a),delete this[a.optionsKey]),r=!0)}return r}initSeriesDeclarationOrder(e){for(let n=0;n<e.length;n++)e[n].setSeriesIndex(n)}applySeries(e,n,r){if(!n)return"no-change";let a=Xhe(e.series,n,r);if(a.status==="no-overlap"){Ro(`Chart.applySeries() - creating new series instances, status: ${a.status}`,a);let u=n.map(h=>this.createSeries(h));return this.initSeriesDeclarationOrder(u),e.series=u,"replaced"}Ro("Chart.applySeries() - matchResult",a);let o=[],s=!1,l=!1,c=!1,d=a.changes.toSorted((u,h)=>u.targetIdx-h.targetIdx);for(let u of d)switch(l||(l=u.status==="series-grouping"),s||(s=u.diff?.data!=null),c||(c=u.status!=="no-op"),u.status){case"add":{let h=this.createSeries(u.opts);o.push(h),Ro("Chart.applySeries() - created new series",h);break}case"remove":Ro(`Chart.applySeries() - removing series at previous idx ${u.idx}`,u.series);break;case"no-op":o.push(u.series),Ro(`Chart.applySeries() - no change to series at previous idx ${u.idx}`,u.series);break;case"series-grouping":case"update":default:{let{series:h,diff:m,idx:p}=u;Ro(`Chart.applySeries() - applying series diff previous idx ${p}`,m,h),this.applySeriesValues(h,m),h.markNodeDataDirty(),o.push(h)}}return this.initSeriesDeclarationOrder(o),Ro("Chart.applySeries() - final series instances",o),e.series=o,l?"series-grouping-change":s?"data-change":c?"updated":"no-op"}applyAxes(e,n,r,a,o=[]){if(!("axes"in n)||!n.axes)return!1;o=["axes[].type",...o];let s=n.axes;return!(a==="replaced")&&e.axes.length===s.length&&e.axes.every((d,u)=>d.type===s[u].type)&&GW(r)?(e.axes.forEach((d,u)=>{let h=r.axes?.[u]??{},m=Tc(h,s[u]);Ro(`Chart.applyAxes() - applying axis diff idx ${u}`,m);let p=`axes[${u}]`;qy(d,m,{path:p,skip:o})}),!0):(Ro(`Chart.applyAxes() - creating new axes instances; seriesStatus: ${a}`),e.axes=this.createAxis(s,o),!0)}createSeries(e){let n=As.create(e.type,this.getModuleContext());return this.applySeriesOptionModules(n,e),this.applySeriesValues(n,e),n}applySeriesOptionModules(e,n){let r=e.createModuleContext(),a=e.getModuleMap();for(let o of Tl.byType("series-option"))o.optionsKey in n&&o.seriesTypes.includes(e.type)&&a.addModule(o,s=>s.moduleFactory(r))}applySeriesValues(e,n){let r=e.getModuleMap(),u=n,{type:a,data:o,listeners:s,seriesGrouping:l,showInMiniChart:c}=u,d=ci(u,["type","data","listeners","seriesGrouping","showInMiniChart"]);for(let h of Tv)if(h.type==="series-option"&&h.optionsKey in d){let m=r.getModule(h.optionsKey);if(m){let p=d[h.optionsKey];delete d[h.optionsKey],m.properties.set(p)}}d.visible!=null&&(e.visible=d.visible),e.properties.set(d),"data"in n&&e.setOptionsData(o),s&&this.registerListeners(e,s),"seriesGrouping"in n&&(l==null?e.seriesGrouping=void 0:e.seriesGrouping=f(f({},e.seriesGrouping),l))}createAxis(e,n){let r=[],a=this.getModuleContext();for(let o=0;o<e.length;o++){let s=e[o],l=Ph.create(s.type,a);this.applyAxisModules(l,s),qy(l,s,{path:`axes[${o}]`,skip:n}),r.push(l)}return Zhe(r),r}applyAxisModules(e,n){let r=e.createModuleContext(),a=e.getModuleMap();for(let o of Tl.byType("axis-option")){let s=n[o.optionsKey]!=null;s!==a.isEnabled(o)&&(s?(a.addModule(o,l=>l.moduleFactory(r)),e[o.optionsKey]=a.getModule(o)):(a.removeModule(o),delete e[o.optionsKey]))}}registerListeners(e,n){e.clearEventListeners();for(let[r,a]of ur(n))e.addEventListener(r,a)}};return t.chartsInstances=new WeakMap,t})();b([Zr({newValue(t){this.destroyed||(this.ctx.domManager.setContainer(t),gn.chartsInstances.set(t,this))},oldValue(t){gn.chartsInstances.delete(t)}})],gn.prototype,"container",2);b([Zr({newValue(t){this.resize("width option",{inWidth:t})}})],gn.prototype,"width",2);b([Zr({newValue(t){this.resize("height option",{inHeight:t})}})],gn.prototype,"height",2);b([Zr({newValue(t){this.resize("minWidth option",{inMinWidth:t})}})],gn.prototype,"minWidth",2);b([Zr({newValue(t){this.resize("minHeight option",{inMinHeight:t})}})],gn.prototype,"minHeight",2);b([Zr({newValue(t){this.resize("overrideDevicePixelRatio option",{inOverrideDevicePixelRatio:t})}})],gn.prototype,"overrideDevicePixelRatio",2);b([C],gn.prototype,"padding",2);b([C],gn.prototype,"keyboard",2);b([C],gn.prototype,"touch",2);b([C],gn.prototype,"mode",2);b([C],gn.prototype,"styleNonce",2);b([tr("chartCaptions.title")],gn.prototype,"title",2);b([tr("chartCaptions.subtitle")],gn.prototype,"subtitle",2);b([tr("chartCaptions.footnote")],gn.prototype,"footnote",2);b([C],gn.prototype,"formatter",2);b([C],gn.prototype,"suppressFieldDotNotation",2);b([C],gn.prototype,"loadGoogleFonts",2);b([Zr({changeValue(t,i){this.onAxisChange(t,i)}})],gn.prototype,"axes",2);b([Zr({changeValue(t,i){this.onSeriesChange(t,i)}})],gn.prototype,"series",2);var ZD=gn;function YH(t,i){let e=[],n=t?.series?.[0]?.type,r=n==="linear-gauge"||n==="radial-gauge",a=n?Jn.get(n):"unknown";for(let o of Tv)if(!(a!=="unknown"&&!o.chartTypes.includes(a))){if(o.type==="root"||o.type==="legend"){let s=t[o.optionsKey];if(s==null)continue;o.optionsInnerKey?s[o.optionsInnerKey]&&(e.push(`${o.optionsKey}.${o.optionsInnerKey}`),delete s[o.optionsInnerKey]):(e.push(o.optionsKey),delete t[o.optionsKey])}else if(o.type==="axis"){if(!("axes"in t)||!Xe(t.axes)||!t.axes?.some(s=>s.type===o.identifier))continue;e.push(`axis[type=${o.identifier}]`),t.axes=t.axes.filter(s=>s.type!==o.identifier)}else if(o.type==="axis-option"){if(!("axes"in t)||!Xe(t.axes)||!t.axes?.some(s=>s[o.optionsKey]))continue;e.push(`axis.${o.optionsKey}`),t.axes.forEach(s=>{s[o.optionsKey]&&delete s[o.optionsKey]})}else if(o.type==="series"){if(o.community||!Xe(t.series)||!t.series?.some(s=>s.type===o.identifier))continue;e.push(`series[type=${o.identifier}]`),t.series=t.series.filter(s=>s.type!==o.identifier)}else if(o.type==="series-option"){if(!Xe(t.series)||!t.series?.some(s=>s[o.optionsKey]))continue;e.push(`series.${o.optionsKey}`),t.series.forEach(s=>{s[o.optionsKey]&&delete s[o.optionsKey]})}}if(e.length&&!i){r&&(e=["AgCharts.createGauge"]);let o="ag-charts-enterprise",s="https://www.ag-grid.com/charts/javascript/installation/";t.mode==="integrated"&&(o="ag-grid-charts-enterprise' or 'ag-grid-enterprise/charts-enterprise",s="https://www.ag-grid.com/javascript-data-grid/integrated-charts-installation/"),z.warnOnce([`unable to use these enterprise features as '${o}' has not been loaded:`,"",...e,"",`See: ${s}`].join(`
`))}}function Nme(t){let i="mode"in t&&t.mode==="integrated";for(let e of Tl.byType("root","legend")){let n=t[e.optionsKey],r=n!=null&&n.enabled===!1,a=!("removable"in e)||e.removable===!0||e.removable==="standalone-only"&&!i;r&&a&&delete t[e.optionsKey]}}function l$(t){return t?.up||t?.down||t?.neutral?"user-full":t?.fills||t?.strokes?"user-indexed":"inbuilt"}var wn={BLUE:"#5090dc",ORANGE:"#ffa03a",GREEN:"#459d55",CYAN:"#34bfe1",YELLOW:"#e1cc00",VIOLET:"#9669cb",GRAY:"#b5b5b5",MAGENTA:"#bd5aa7",BROWN:"#8a6224",RED:"#ef5452"},vc={BLUE:"#2b5c95",ORANGE:"#cc6f10",GREEN:"#1e652e",CYAN:"#18859e",YELLOW:"#a69400",VIOLET:"#603c88",GRAY:"#575757",MAGENTA:"#7d2f6d",BROWN:"#4f3508",RED:"#a82529"},MO={};Nl(MO,{DEFAULT_ANNOTATION_HANDLE_FILL:()=>Gv,DEFAULT_ANNOTATION_STATISTICS_COLOR:()=>Yv,DEFAULT_ANNOTATION_STATISTICS_DIVIDER_STROKE:()=>Kv,DEFAULT_ANNOTATION_STATISTICS_DOWN_FILL:()=>pv,DEFAULT_ANNOTATION_STATISTICS_DOWN_STROKE:()=>fv,DEFAULT_ANNOTATION_STATISTICS_FILL:()=>Wv,DEFAULT_ANNOTATION_STATISTICS_STROKE:()=>$v,DEFAULT_CAPTION_ALIGNMENT:()=>zd,DEFAULT_CAPTION_LAYOUT_STYLE:()=>Bd,DEFAULT_FIBONACCI_STROKES:()=>mv,DEFAULT_FINANCIAL_CHARTS_ANNOTATION_BACKGROUND_FILL:()=>Rn,DEFAULT_FINANCIAL_CHARTS_ANNOTATION_COLOR:()=>rn,DEFAULT_GRIDLINE_ENABLED:()=>Es,DEFAULT_POLAR_SERIES_STROKE:()=>nS,DEFAULT_SEPARATION_LINES_COLOUR:()=>Uv,DEFAULT_SHADOW_COLOUR:()=>iu,DEFAULT_SPARKLINE_CROSSHAIR_STROKE:()=>rS,DEFAULT_TEXTBOX_COLOR:()=>Qv,DEFAULT_TEXTBOX_FILL:()=>qv,DEFAULT_TEXTBOX_STROKE:()=>Zv,DEFAULT_TEXT_ANNOTATION_COLOR:()=>Hv,DEFAULT_TOOLBAR_POSITION:()=>Xv,IS_DARK_THEME:()=>wf,PALETTE_ALT_DOWN_FILL:()=>EO,PALETTE_ALT_DOWN_STROKE:()=>kO,PALETTE_ALT_NEUTRAL_FILL:()=>TO,PALETTE_ALT_NEUTRAL_STROKE:()=>RO,PALETTE_ALT_UP_FILL:()=>AO,PALETTE_ALT_UP_STROKE:()=>IO,PALETTE_DOWN_FILL:()=>eS,PALETTE_DOWN_STROKE:()=>XD,PALETTE_NEUTRAL_FILL:()=>iS,PALETTE_NEUTRAL_STROKE:()=>tS,PALETTE_UP_FILL:()=>JD,PALETTE_UP_STROKE:()=>QD});var wf=Symbol("is-dark-theme"),Uv=Symbol("default-separation-lines-colour"),iu=Symbol("default-shadow-colour"),Bd=Symbol("default-caption-layout-style"),zd=Symbol("default-caption-alignment"),QD=Symbol("palette-up-stroke"),XD=Symbol("palette-down-stroke"),JD=Symbol("palette-up-fill"),eS=Symbol("palette-down-fill"),tS=Symbol("palette-neutral-stroke"),iS=Symbol("palette-neutral-fill"),IO=Symbol("palette-alt-up-stroke"),kO=Symbol("palette-alt-down-stroke"),AO=Symbol("palette-alt-up-fill"),EO=Symbol("palette-alt-down-fill"),TO=Symbol("palette-gray-fill"),RO=Symbol("palette-gray-stroke"),nS=Symbol("default-polar-series-stroke"),rS=Symbol("default-sparkline-crosshair-stroke"),rn=Symbol("default-financial-charts-annotation-stroke"),mv=Symbol("default-hierarchy-strokes"),Hv=Symbol("default-text-annotation-color"),Rn=Symbol("default-financial-charts-annotation-background-fill"),Gv=Symbol("default-annotation-handle-fill"),Wv=Symbol("default-annotation-statistics-fill"),$v=Symbol("default-annotation-statistics-stroke"),Yv=Symbol("default-annotation-statistics-color"),Kv=Symbol("default-annotation-statistics-divider-stroke"),pv=Symbol("default-annotation-statistics-fill"),fv=Symbol("default-annotation-statistics-stroke"),qv=Symbol("default-textbox-fill"),Zv=Symbol("default-textbox-stroke"),Qv=Symbol("default-textbox-color"),Xv=Symbol("default-toolbar-position"),Es=Symbol("default-gridline-enabled"),c$=[{type:"number",position:{$if:[{$eq:[{$path:["/series/0/direction",void 0]},"horizontal"]},"bottom","left"]}},{type:"category",position:{$if:[{$eq:[{$path:["/series/0/direction",void 0]},"horizontal"]},"left","bottom"]}}],Pme={$if:[{$or:[{$isGradient:{$palette:"fill"}},{$isPattern:{$palette:"fill"}},{$isImage:{$value:"$1"}}]},{$palette:"fillFallback"},{$palette:"fill"}]},OO={$if:[{$or:[{$isGradient:{$palette:"fill"}},{$isPattern:{$palette:"fill"}},{$isImage:{$value:"$1"}}]},{$palette:"fillsFallback"},{$palette:"fills"}]},aS={$if:[{$isGradient:{$palette:"fill"}},{$palette:"fillFallback"},{$if:[{$isPattern:{$palette:"fill"}},{$path:["/stroke",{$palette:"fillFallback"},{$palette:"fill"}]},{$palette:"fill"}]}]},Fme={$if:[{$or:[{$isGradient:{$palette:"fill"}},{$isPattern:{$palette:"fill"}},{$isImage:{$value:"$1"}}]},[{$palette:"fillFallback"},{$palette:"fillFallback"}],{$palette:"range2"}]},Gf={type:"gradient",gradient:"linear",bounds:"item",colorStops:{$palette:"gradient"},rotation:0,reverse:!1},Vme=S(f({},Gf),{colorStops:[{$mix:[{$path:["/1",{$palette:"fill"},{$palette:"hierarchyColors"}]},"black",.15]},{$mix:[{$path:["/1",{$palette:"fill"},{$palette:"hierarchyColors"}]},"white",.15]}]}),Bme=t=>S(f({},Gf),{colorStops:{$if:[{$or:[{$isGradient:{$palette:`${t}.fill`}},{$isPattern:{$palette:`${t}.fill`}},{$isImage:{$palette:`${t}.fill`}}]},{$map:[{$path:["/color",void 0,{$value:"$1"}]},{$path:["/colorStops",void 0,{$palette:`${t}.fill`}]}]},[{$mix:[{$palette:`${t}.fill`},"black",.15]},{$mix:[{$palette:`${t}.fill`},"white",.15]}]]}}),oS={type:"gradient",gradient:"radial",bounds:"item",colorStops:{$palette:"gradient"},rotation:0,reverse:!1},Jv=S(f({},oS),{reverse:!0}),zme=S(f({},oS),{bounds:"series"}),jme=S(f({},oS),{bounds:"series",reverse:!0}),Ume={type:"gradient",gradient:"conic",bounds:"series",colorStops:{$palette:"gradient"},rotation:0,reverse:!1},Rc={type:"pattern",pattern:"forward-slanted-lines",width:10,height:10,padding:2,fill:{$if:[{$or:[{$isGradient:{$palette:"fill"}},{$isImage:{$palette:"fill"}}]},{$palette:"fillFallback"},{$if:[{$isPattern:{$palette:"fill"}},{$path:["/fill",{$palette:"fillFallback"},{$palette:"fill"}]},{$palette:"fill"}]}]},fillOpacity:1,stroke:aS,strokeOpacity:1,strokeWidth:4,backgroundFill:"none",backgroundFillOpacity:1,rotation:0,scale:1},Hme=S(f({},Rc),{fill:{$path:["/1",{$palette:"fill"},{$palette:"hierarchyColors"}]},stroke:{$path:["/1",{$palette:"fill"},{$palette:"hierarchyColors"}]}}),Qh={type:"image",backgroundFill:{$palette:"fillFallback"},backgroundFillOpacity:1,repeat:"no-repeat",fit:"contain",rotation:0};function ho(t){return H5(t,i=>{let e=wi.fromString(i);return[wi.darken(e,.15).toString(),i,wi.lighten(e,.15).toString()]})}var LO={stroke:{$path:["../../highlightStyle/item/stroke","rgba(0, 0, 0, 0.4)"]},strokeWidth:{$path:["../../highlightStyle/item/strokeWidth",2]},strokeOpacity:{$path:["../../highlightStyle/item/strokeOpacity",void 0]},opacity:{$path:["../../highlightStyle/item/opacity",1]}},d$=S(f({},LO),{fill:{$path:["../../highlightStyle/item/fill","rgba(255,255,255, 0.33)"]},fillOpacity:{$path:["../../highlightStyle/item/fillOpacity",void 0]}}),Bo={padding:8,cornerRadius:4,fill:{$if:[{$and:[{$eq:[{$path:"./fill/type"},"image"]},{$isUserOption:["./fill/backgroundFill",!1,!0]}]},{backgroundFill:"transparent"},void 0]},border:{enabled:{$isUserOption:["../border",!0,!1]},strokeWidth:1,stroke:{$foregroundOpacity:.08}}};function nu(t=!0){return{enabled:!0,highlightedItem:t?d$:LO,unhighlightedItem:{strokeWidth:{$path:["../../highlightStyle/series/strokeWidth",void 0]}},highlightedSeries:{strokeWidth:{$path:["../../highlightStyle/series/strokeWidth",void 0]}},unhighlightedSeries:{opacity:{$path:["../../highlightStyle/series/dimOpacity",void 0]}}}}function u$(t=!0){return{enabled:!0,highlightedItem:t?d$:LO,unhighlightedItem:{strokeWidth:{$path:["../../highlightStyle/series/strokeWidth",void 0]},opacity:{$path:["../../highlightStyle/series/dimOpacity",void 0]}}}}var h$={border:{enabled:!1,stroke:{$foregroundBackgroundMix:.25},strokeOpacity:1,strokeWidth:1},cornerRadius:4,fillOpacity:1,padding:{$if:[{$eq:[{$path:"./border/enabled"},!0]},5,{$isUserOption:["./fill",5,0]}]}},C1="white",Gme={get cartesian(){return{seriesTypes:Jn.cartesianTypes,commonOptions:["zoom","navigator"]}},get polar(){return{seriesTypes:Jn.polarTypes,commonOptions:[]}},get topology(){return{seriesTypes:Jn.topologyTypes,commonOptions:[]}},get standalone(){return{seriesTypes:Jn.standaloneTypes,commonOptions:[]}}},Wme={"radial-gauge":!0,"linear-gauge":!0};function $me(t){return Wme[t]===!0}var ro=class Gy{static getDefaultColors(){return{fills:wn,fillsFallback:Object.values(wn),strokes:vc,sequentialColors:ho(wn),divergingColors:[wn.ORANGE,wn.YELLOW,wn.GREEN],hierarchyColors:["#fff","#e0e5ea","#c1ccd5","#a3b4c1","#859cad"],secondSequentialColors:wi.interpolate([wi.fromHexString(wn.BLUE),wi.fromHexString("#cbdef5")],8).map(i=>i.toString()),secondDivergingColors:[wn.GREEN,wn.YELLOW,wn.RED],secondHierarchyColors:["#fff","#c5cbd1","#a4b1bd","#8498a9","#648096"],up:{fill:wn.GREEN,stroke:vc.GREEN},down:{fill:wn.RED,stroke:vc.RED},neutral:{fill:wn.GRAY,stroke:vc.GRAY},altUp:{fill:wn.BLUE,stroke:vc.BLUE},altDown:{fill:wn.ORANGE,stroke:vc.ORANGE},altNeutral:{fill:wn.GRAY,stroke:vc.GRAY}}}static getDefaultPublicParameters(){return{accentColor:"#2196f3",axisColor:{$foregroundBackgroundMix:.325},backgroundColor:C1,borderColor:{$foregroundOpacity:.15},borderRadius:4,chartBackgroundColor:{$ref:"backgroundColor"},chartPadding:20,focusShadow:"0 0 0 3px var(--ag-charts-accent-color)",foregroundColor:"#181d1f",fontFamily:"Verdana, sans-serif",fontSize:xc,fontWeight:400,gridLineColor:{$foregroundBackgroundMix:.1},popupShadow:"0 0 16px rgba(0, 0, 0, 0.15)",subtleTextColor:{$mix:[{$ref:"textColor"},{$ref:"chartBackgroundColor"},.38]},textColor:{$ref:"foregroundColor"},chromeBackgroundColor:{$foregroundBackgroundMix:.02},chromeFontFamily:{$ref:"fontFamily"},chromeFontSize:{$ref:"fontSize"},chromeFontWeight:{$ref:"fontWeight"},chromeTextColor:{$ref:"foregroundColor"},chromeSubtleTextColor:{$mix:[{$ref:"chromeTextColor"},{$ref:"backgroundColor"},.38]},buttonBackgroundColor:{$ref:"backgroundColor"},buttonBorder:!0,buttonFontWeight:400,buttonTextColor:{$ref:"textColor"},inputBackgroundColor:{$ref:"backgroundColor"},inputBorder:!0,inputTextColor:{$ref:"textColor"},menuBackgroundColor:{$ref:"chromeBackgroundColor"},menuBorder:!0,menuTextColor:{$ref:"chromeTextColor"},panelBackgroundColor:{$ref:"chromeBackgroundColor"},panelSubtleTextColor:{$ref:"chromeSubtleTextColor"},tooltipBackgroundColor:{$ref:"chromeBackgroundColor"},tooltipBorder:!0,tooltipTextColor:{$ref:"chromeTextColor"},tooltipSubtleTextColor:{$ref:"chromeSubtleTextColor"},crosshairLabelBackgroundColor:{$ref:"foregroundColor"},crosshairLabelTextColor:{$ref:"chartBackgroundColor"}}}static getAxisDefaults(i,{title:e,time:n}){return Jt(i,e&&{title:{enabled:!1,text:"Axis Title",spacing:25,fontWeight:{$ref:"fontWeight"},fontSize:{$rem:so.MEDIUM},fontFamily:{$ref:"fontFamily"},color:{$ref:"textColor"}}},n&&{parentLevel:{enabled:!1,label:{enabled:{$path:"../../label/enabled"},border:{enabled:{$or:[{$isUserOption:["../border",!0,!1]},{$path:"../../../label/border/enabled"}]},strokeWidth:{$path:"../../../label/border/strokeWidth"},stroke:{$path:"../../../label/border/stroke"}},fill:{$path:"../../label/fill"},fontSize:{$path:"../../label/fontSize"},fontFamily:{$path:"../../label/fontFamily"},fontWeight:"bold",spacing:{$path:"../../label/spacing"},color:{$path:"../../label/color"},cornerRadius:{$path:"../../label/cornerRadius"},padding:{$path:"../../label/padding"},avoidCollisions:{$path:"../../label/avoidCollisions"}},tick:{enabled:{$path:"../../tick/enabled"},width:{$path:"../../tick/width"},size:{$path:"../../tick/size"},stroke:{$path:"../../tick/stroke"}}}},{label:{enabled:!0,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},spacing:11,color:{$ref:"textColor"},avoidCollisions:!0,cornerRadius:4,border:{enabled:{$isUserOption:["../border",!0,!1]},strokeWidth:1,stroke:{$foregroundOpacity:.08}},padding:{$if:[{$eq:[{$path:"./border/enabled"},!0]},{left:12,right:12,top:8,bottom:8},void 0]}},line:{enabled:!0,width:1,stroke:{$ref:"axisColor"}},tick:{enabled:!1,size:6,width:1,stroke:{$ref:"axisColor"}},gridLine:{enabled:!0,width:1,style:{$apply:[{fillOpacity:1,stroke:{$ref:"gridLineColor"},strokeWidth:{$path:"../../width"},lineDash:[]},[{fillOpacity:1,stroke:{$ref:"gridLineColor"},strokeWidth:{$path:"../../width"},lineDash:[]}]]}},crossLines:{$apply:[{enabled:!0,fill:{$ref:"foregroundColor"},stroke:{$ref:"foregroundColor"},fillOpacity:.08,strokeWidth:1,label:{fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},padding:5,color:{$ref:"textColor"}}},void 0,{$pathString:["/common/axes/$axisType/crossLines",{axisType:{$path:["/axes/$index/type"]}}]},{$pathString:["/$seriesType/axes/$axisType/crossLines",{seriesType:{$path:["/series/0/type","line"]},axisType:{$path:["/axes/$index/type"]}}]}]}})}getChartDefaults(){return{minHeight:300,minWidth:300,background:{visible:!0,fill:{$ref:"chartBackgroundColor"}},padding:{top:{$ref:"chartPadding"},right:{$ref:"chartPadding"},bottom:{$ref:"chartPadding"},left:{$ref:"chartPadding"}},seriesArea:{border:{enabled:!1,stroke:{$ref:"foregroundColor"},strokeOpacity:1,strokeWidth:1},cornerRadius:4,padding:{$if:[{$eq:[{$path:"./border/enabled"},!0]},5,0]}},keyboard:{enabled:!0},title:{enabled:!1,text:"Title",spacing:{$if:[{$path:"../subtitle/enabled"},10,20]},fontWeight:{$ref:"fontWeight"},fontSize:{$rem:so.LARGEST},fontFamily:{$ref:"fontFamily"},color:{$ref:"textColor"},wrapping:"hyphenate",layoutStyle:Bd,textAlign:zd},subtitle:{enabled:!1,text:"Subtitle",spacing:20,fontWeight:{$ref:"fontWeight"},fontSize:{$rem:so.MEDIUM},fontFamily:{$ref:"fontFamily"},color:{$ref:"subtleTextColor"},wrapping:"hyphenate",layoutStyle:Bd,textAlign:zd},footnote:{enabled:!1,text:"Footnote",spacing:20,fontSize:{$rem:so.MEDIUM},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"subtleTextColor"},wrapping:"hyphenate",layoutStyle:Bd,textAlign:zd},legend:S(f({},h$),{enabled:{$and:[{$greaterThan:[{$size:[{$path:"/series"}]},1]},{$or:[{$isChartType:"cartesian"},{$isChartType:"standalone"},{$and:[{$isChartType:"polar"},{$not:{$isSeriesType:"pie"}},{$not:{$isSeriesType:"donut"}}]}]}]},position:"bottom",orientation:{$if:[{$or:[{$eq:[{$path:"./position"},"left"]},{$eq:[{$path:"./position"},"left-top"]},{$eq:[{$path:"./position"},"left-bottom"]},{$eq:[{$path:"./position"},"right"]},{$eq:[{$path:"./position"},"right-top"]},{$eq:[{$path:"./position"},"right-bottom"]},{$eq:[{$path:"./position/placement"},"left"]},{$eq:[{$path:"./position/placement"},"left-top"]},{$eq:[{$path:"./position/placement"},"left-bottom"]},{$eq:[{$path:"./position/placement"},"right"]},{$eq:[{$path:"./position/placement"},"right-top"]},{$eq:[{$path:"./position/placement"},"right-bottom"]}]},"vertical","horizontal"]},spacing:30,listeners:{},toggleSeries:!0,item:{paddingX:16,paddingY:8,marker:{size:15,padding:8},showSeriesStroke:!0,label:{color:{$ref:"textColor"},fontSize:{$rem:so.SMALL},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"}}},reverseOrder:!1,pagination:{marker:{size:12},activeStyle:{fill:{$ref:"foregroundColor"}},inactiveStyle:{fill:{$ref:"subtleTextColor"}},highlightStyle:{fill:{$ref:"foregroundColor"}},label:{color:{$ref:"textColor"}}},fill:{$if:[{$path:["./position/floating",!1]},{$ref:"chartBackgroundColor"},"transparent"]}}),tooltip:{enabled:!0,darkTheme:wf,delay:0,pagination:!1,mode:{$if:[{$and:[{$isChartType:"cartesian"},{$not:{$hasSeriesType:"bubble"}},{$not:{$hasSeriesType:"scatter"}},{$greaterThan:[{$size:[{$path:"/series"}]},1]},{$lessThan:[{$size:[{$path:"/series"}]},4]}]},"shared","single"]}},overlays:{darkTheme:wf},listeners:{},series:{tooltip:{range:{$path:["/tooltip/range","exact"]},position:{anchorTo:{$path:["/tooltip/position/anchorTo","pointer"]},placement:{$path:["/tooltip/position/placement",void 0]},xOffset:{$path:["/tooltip/position/xOffset",0]},yOffset:{$path:["/tooltip/position/yOffset",0]}}}}}}constructor(i={}){let{overrides:e,palette:n,params:r}=Zi(i),a=this.createChartConfigPerChartType(this.getDefaults()),o={};e&&this.processOverrides(o,e);let u=this.getDefaultColors(),{fills:s,strokes:l,sequentialColors:c}=u,d=ci(u,["fills","strokes","sequentialColors"]);this.palette=wc(Jt(n,f({fills:Object.values(s),strokes:Object.values(l),sequentialColors:Object.values(c)},d))),this.paletteType=l$(n),this.params=Jt(r,this.getPublicParameters()),this.config=wc(Zi(a)),this.overrides=wc(e),this.presets=wc(o)}processOverrides(i,e){Jn.seriesTypes.forEach(n=>{let r=n,a=e[r];$me(r)&&(i[r]=a,delete e[r])})}createChartConfigPerChartType(i){for(let[e,{seriesTypes:n}]of ur(Gme)){let r=aR.get(e);for(let a of n)i[a]??(i[a]=Zi(r))}return i}getDefaults(){let i=(e,n)=>{let r={},a=f(f(f({axes:{}},uO.getThemeTemplates()),this.getChartDefaults()),aR.get(e));for(let o of n){r[o]=Jt(As.getThemeTemplate(o),r[o]??Zi(a));let{axes:s}=r[o];for(let l of Ph.keys())s[l]=Jt(s[l],Ph.getThemeTemplate(l),Gy.axisDefault[l]);(o==="map-shape-background"||o==="map-line-background")&&delete r[o].series.tooltip}return r};return Jt(i("cartesian",Jn.cartesianTypes),i("polar",Jn.polarTypes),i("topology",Jn.topologyTypes),i("standalone",Jn.standaloneTypes))}static applyTemplateTheme(i,e,n){if(Xe(i))for(let r=0;r<i.length;r++){let a=i[r];typeof a=="symbol"&&n?.has(a)&&(i[r]=n.get(a))}else for(let r of Object.keys(i)){let a=i[r];typeof a=="symbol"&&n?.has(a)&&(i[r]=n.get(a))}}templateTheme(i,e=!0){let n=e?Zi(i):i,r=this.getTemplateParameters();return Hd(n,Gy.applyTemplateTheme,void 0,void 0,r),n}getDefaultColors(){return Gy.getDefaultColors()}getPublicParameters(){return Gy.getDefaultPublicParameters()}getTemplateParameters(){let i=new Map;i.set(wf,!1),i.set(Uv,"#d9d9d9"),i.set(iu,"#00000080"),i.set(rS,"#aaa"),i.set(Bd,"block"),i.set(zd,"center"),i.set(mv,["#797b86","#e24c4a","#f49d2d","#65ab58","#409682","#4db9d2","#5090dc","#3068f9","#e24c4a","#913aac","#d93e64"]),i.set(nS,C1),i.set(rn,wn.BLUE),i.set(Rn,wn.BLUE),i.set(Hv,wn.BLUE),i.set(Gv,C1),i.set(Wv,"#fafafa"),i.set($v,"#ddd"),i.set(Yv,"#000"),i.set(Kv,"#181d1f"),i.set(pv,"#e35c5c"),i.set(fv,"#e35c5c"),i.set(qv,"#fafafa"),i.set(Zv,"#ddd"),i.set(Qv,"#000"),i.set(Xv,"top"),i.set(Es,!1);let e=this.getDefaultColors();return i.set(QD,this.palette.up?.stroke??e.up.stroke),i.set(JD,this.palette.up?.fill??e.up.fill),i.set(XD,this.palette.down?.stroke??e.down.stroke),i.set(eS,this.palette.down?.fill??e.down.fill),i.set(tS,this.palette.neutral?.stroke??e.neutral.stroke),i.set(iS,this.palette.neutral?.fill??e.neutral.fill),i.set(IO,this.palette.altUp?.stroke??e.up.stroke),i.set(AO,this.palette.altUp?.fill??e.up.fill),i.set(kO,this.palette.altDown?.stroke??e.down.stroke),i.set(EO,this.palette.altDown?.fill??e.down.fill),i.set(TO,this.palette.altNeutral?.fill??e.altNeutral.fill),i.set(RO,this.palette.altNeutral?.stroke??e.altNeutral.stroke),i}};ro.axisDefault={number:ro.getAxisDefaults({keys:[],line:{enabled:!1},crosshair:{enabled:!0}},{title:!0,time:!1}),log:ro.getAxisDefaults({keys:[],base:10,line:{enabled:!1},crosshair:{enabled:!0}},{title:!0,time:!1}),category:ro.getAxisDefaults({keys:[],groupPaddingInner:.1,label:{autoRotate:!0,wrapping:"on-space"},gridLine:{enabled:Es},crosshair:{enabled:!1}},{title:!0,time:!1}),"grouped-category":ro.getAxisDefaults({keys:[],tick:{enabled:!0,stroke:Uv},label:{spacing:10,rotation:270,wrapping:"on-space"},maxThicknessRatio:.5,paddingInner:.4,groupPaddingInner:.2,crosshair:{enabled:!1}},{title:!0,time:!1}),time:ro.getAxisDefaults({keys:[],gridLine:{enabled:Es},crosshair:{enabled:!0}},{title:!0,time:!0}),"unit-time":ro.getAxisDefaults({keys:[],groupPaddingInner:.1,label:{autoRotate:!1},gridLine:{enabled:Es},crosshair:{enabled:!0},parentLevel:{enabled:!0}},{title:!0,time:!0}),"ordinal-time":ro.getAxisDefaults({keys:[],groupPaddingInner:0,label:{autoRotate:!1},gridLine:{enabled:Es},crosshair:{enabled:!0}},{title:!0,time:!0}),"angle-category":ro.getAxisDefaults({label:{spacing:5},gridLine:{enabled:Es},shape:{$findFirstSiblingNotOperation:void 0}},{title:!1,time:!1}),"angle-number":ro.getAxisDefaults({label:{spacing:5},gridLine:{enabled:Es}},{title:!1,time:!1}),"radius-category":ro.getAxisDefaults({positionAngle:0,line:{enabled:!1}},{title:!0,time:!1}),"radius-number":ro.getAxisDefaults({positionAngle:0,line:{enabled:!1},shape:{$findFirstSiblingNotOperation:void 0}},{title:!0,time:!1})};var Ns=ro,w1="#192232",Cr={BLUE:"#5090dc",ORANGE:"#ffa03a",GREEN:"#459d55",CYAN:"#34bfe1",YELLOW:"#e1cc00",VIOLET:"#9669cb",GRAY:"#b5b5b5",MAGENTA:"#bd5aa7",BROWN:"#8a6224",RED:"#ef5452"},vh={BLUE:"#74a8e6",ORANGE:"#ffbe70",GREEN:"#6cb176",CYAN:"#75d4ef",YELLOW:"#f6e559",VIOLET:"#aa86d8",GRAY:"#a1a1a1",MAGENTA:"#ce7ab9",BROWN:"#997b52",RED:"#ff7872"},Wf=class extends Ns{getDefaultColors(){return{fills:Cr,fillsFallback:Object.values(Cr),strokes:vh,sequentialColors:ho(Cr),divergingColors:[Cr.ORANGE,Cr.YELLOW,Cr.GREEN],hierarchyColors:["#192834","#253746","#324859","#3f596c","#4d6a80"],secondSequentialColors:["#5090dc","#4882c6","#4073b0","#38659a","#305684","#28486e","#203a58","#182b42"],secondDivergingColors:[Cr.GREEN,Cr.YELLOW,Cr.RED],secondHierarchyColors:["#192834","#3b5164","#496275","#577287","#668399"],up:{fill:Cr.GREEN,stroke:vh.GREEN},down:{fill:Cr.RED,stroke:vh.RED},neutral:{fill:Cr.GRAY,stroke:vh.GRAY},altUp:{fill:Cr.BLUE,stroke:vh.BLUE},altDown:{fill:Cr.ORANGE,stroke:vh.ORANGE},altNeutral:{fill:Cr.GRAY,stroke:vh.GRAY}}}getPublicParameters(){return S(f({},super.getPublicParameters()),{axisColor:{$foregroundBackgroundMix:.737},backgroundColor:w1,borderColor:{$foregroundBackgroundMix:.216},chromeBackgroundColor:{$foregroundBackgroundMix:.07},foregroundColor:"#fff",gridLineColor:{$foregroundBackgroundMix:.257},popupShadow:"0 0 16px rgba(0, 0, 0, 0.33)",subtleTextColor:{$mix:[{$ref:"textColor"},{$ref:"chartBackgroundColor"},.57]},crosshairLabelBackgroundColor:{$foregroundBackgroundMix:.65}})}getTemplateParameters(){let t=super.getTemplateParameters();return t.set(wf,!0),t.set(nS,w1),t.set(Uv,"#7f8389"),t.set(rn,Cr.BLUE),t.set(Hv,"#fff"),t.set(Rn,Cr.BLUE),t.set(Gv,w1),t.set(Wv,"#28313e"),t.set($v,"#4b525d"),t.set(Yv,"#fff"),t.set(Kv,"#fff"),t.set(qv,"#28313e"),t.set(Zv,"#4b525d"),t.set(Qv,"#fff"),t}constructor(t){super(t)}},Na={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#A9A9A9"},_h={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#909090"},Yme=class extends Wf{getDefaultColors(){return S(f({},super.getDefaultColors()),{fills:f({},Na),fillsFallback:Object.values(f({},Na)),strokes:f({},_h),sequentialColors:ho(Na),divergingColors:[Na.GREEN,Na.BLUE,Na.RED],secondSequentialColors:["#5090dc","#4882c6","#4073b0","#38659a","#305684","#28486e","#203a58","#182b42"],up:{fill:Na.GREEN,stroke:_h.GREEN},down:{fill:Na.RED,stroke:_h.RED},neutral:{fill:Na.BLUE,stroke:_h.BLUE},altUp:{fill:Na.GREEN,stroke:_h.GREEN},altDown:{fill:Na.RED,stroke:_h.RED},altNeutral:{fill:Na.GRAY,stroke:_h.GRAY}})}getPublicParameters(){return S(f({},super.getPublicParameters()),{chartPadding:0,gridLineColor:{$foregroundBackgroundMix:.12}})}getTemplateParameters(){let t=super.getTemplateParameters();return t.set(rn,Na.BLUE),t.set(Rn,Na.BLUE),t.set(Bd,"overlay"),t.set(zd,"left"),t.set(Xv,"bottom"),t.set(Es,!0),t}},Pa={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#A9A9A9"},xh={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#909090"},Kme=class extends Ns{getDefaultColors(){return S(f({},super.getDefaultColors()),{fills:f({},Pa),fillsFallback:Object.values(f({},Pa)),strokes:f({},xh),sequentialColors:ho(Pa),divergingColors:[Pa.GREEN,Pa.BLUE,Pa.RED],up:{fill:Pa.GREEN,stroke:xh.GREEN},down:{fill:Pa.RED,stroke:xh.RED},neutral:{fill:Pa.BLUE,stroke:xh.BLUE},altUp:{fill:Pa.GREEN,stroke:xh.GREEN},altDown:{fill:Pa.RED,stroke:xh.RED},altNeutral:{fill:Pa.GRAY,stroke:xh.GRAY}})}getPublicParameters(){return S(f({},super.getPublicParameters()),{chartPadding:0,gridLineColor:{$foregroundBackgroundMix:.06}})}getTemplateParameters(){let t=super.getTemplateParameters();return t.set(rn,Pa.BLUE),t.set(Rn,Pa.BLUE),t.set(Bd,"overlay"),t.set(zd,"left"),t.set(Xv,"bottom"),t.set(Es,!0),t}},wr={BLUE:"#2196F3",ORANGE:"#FF9800",GREEN:"#4CAF50",CYAN:"#00BCD4",YELLOW:"#FFEB3B",VIOLET:"#7E57C2",GRAY:"#9E9E9E",MAGENTA:"#F06292",BROWN:"#795548",RED:"#F44336"},Ch={BLUE:"#90CAF9",ORANGE:"#FFCC80",GREEN:"#A5D6A7",CYAN:"#80DEEA",YELLOW:"#FFF9C4",VIOLET:"#B39DDB",GRAY:"#E0E0E0",MAGENTA:"#F48FB1",BROWN:"#A1887F",RED:"#EF9A9A"},qme=class extends Wf{getDefaultColors(){return S(f({},super.getDefaultColors()),{fills:wr,fillsFallback:Object.values(wr),strokes:Ch,sequentialColors:ho(wr),divergingColors:[wr.ORANGE,wr.YELLOW,wr.GREEN],secondSequentialColors:["#2196f3","#208FEC","#1E88E5","#1C7FDC","#1976d2","#176EC9","#1565c0"],secondDivergingColors:[wr.GREEN,wr.YELLOW,wr.RED],up:{fill:wr.GREEN,stroke:Ch.GREEN},down:{fill:wr.RED,stroke:Ch.RED},neutral:{fill:wr.GRAY,stroke:Ch.GRAY},altUp:{fill:wr.BLUE,stroke:Ch.BLUE},altDown:{fill:wr.RED,stroke:Ch.RED},altNeutral:{fill:wr.GRAY,stroke:Ch.GRAY}})}getTemplateParameters(){let t=super.getTemplateParameters();return t.set(rn,wr.BLUE),t.set(Rn,wr.BLUE),t}},Dr={BLUE:"#2196F3",ORANGE:"#FF9800",GREEN:"#4CAF50",CYAN:"#00BCD4",YELLOW:"#FFEB3B",VIOLET:"#7E57C2",GRAY:"#9E9E9E",MAGENTA:"#F06292",BROWN:"#795548",RED:"#F44336"},wh={BLUE:"#1565C0",ORANGE:"#E65100",GREEN:"#2E7D32",CYAN:"#00838F",YELLOW:"#F9A825",VIOLET:"#4527A0",GRAY:"#616161",MAGENTA:"#C2185B",BROWN:"#4E342E",RED:"#B71C1C"},Zme=class extends Ns{getDefaultColors(){return S(f({},super.getDefaultColors()),{fills:Dr,fillsFallback:Object.values(Dr),strokes:wh,sequentialColors:ho(Dr),divergingColors:[Dr.ORANGE,Dr.YELLOW,Dr.GREEN],secondSequentialColors:["#2196f3","#329EF4","#42a5f5","#53ADF6","#64b5f6","#7AC0F8","#90caf9"],secondDivergingColors:[Dr.GREEN,Dr.YELLOW,Dr.RED],up:{fill:Dr.GREEN,stroke:wh.GREEN},down:{fill:Dr.RED,stroke:wh.RED},neutral:{fill:Dr.GRAY,stroke:wh.GRAY},altUp:{fill:Dr.BLUE,stroke:wh.BLUE},altDown:{fill:Dr.RED,stroke:wh.RED},altNeutral:{fill:Dr.GRAY,stroke:wh.GRAY}})}getTemplateParameters(){let t=super.getTemplateParameters();return t.set(rn,Dr.BLUE),t.set(Rn,Dr.BLUE),t}},tn={BLUE:"#436ff4",PURPLE:"#9a7bff",MAGENTA:"#d165d2",PINK:"#f0598b",RED:"#f47348",ORANGE:"#f2a602",YELLOW:"#e9e201",GREEN:"#21b448",CYAN:"#00b9a2",MODERATE_BLUE:"#00aee4",GRAY:"#bbbbbb"},Dh={BLUE:"#6698ff",PURPLE:"#c0a3ff",MAGENTA:"#fc8dfc",PINK:"#ff82b1",RED:"#ff9b70",ORANGE:"#ffcf4e",YELLOW:"#ffff58",GREEN:"#58dd70",CYAN:"#51e2c9",MODERATE_BLUE:"#4fd7ff",GRAY:"#eeeeee"},Qme=class extends Wf{getDefaultColors(){return{fills:tn,fillsFallback:Object.values(tn),strokes:Dh,sequentialColors:ho(tn),divergingColors:[tn.BLUE,tn.RED],hierarchyColors:[],secondSequentialColors:[tn.BLUE,tn.PURPLE,tn.MAGENTA,tn.PINK,tn.RED,tn.ORANGE,tn.YELLOW,tn.GREEN],secondDivergingColors:[tn.BLUE,tn.RED],secondHierarchyColors:[],up:{fill:tn.GREEN,stroke:Dh.GREEN},down:{fill:tn.RED,stroke:Dh.RED},neutral:{fill:tn.GRAY,stroke:Dh.GRAY},altUp:{fill:tn.BLUE,stroke:Dh.BLUE},altDown:{fill:tn.RED,stroke:Dh.RED},altNeutral:{fill:tn.GRAY,stroke:Dh.GRAY}}}getTemplateParameters(){let t=super.getTemplateParameters();return t.set(rn,tn.BLUE),t.set(Rn,tn.BLUE),t}},nn={BLUE:"#436ff4",PURPLE:"#9a7bff",MAGENTA:"#d165d2",PINK:"#f0598b",RED:"#f47348",ORANGE:"#f2a602",YELLOW:"#e9e201",GREEN:"#21b448",CYAN:"#00b9a2",MODERATE_BLUE:"#00aee4",GRAY:"#bbbbbb"},Sh={BLUE:"#2346c9",PURPLE:"#7653d4",MAGENTA:"#a73da9",PINK:"#c32d66",RED:"#c84b1c",ORANGE:"#c87f00",YELLOW:"#c1b900",GREEN:"#008c1c",CYAN:"#00927c",MODERATE_BLUE:"#0087bb",GRAY:"#888888"},Xme=class extends Ns{getDefaultColors(){return S(f({},super.getDefaultColors()),{fills:nn,fillsFallback:Object.values(nn),strokes:Sh,sequentialColors:ho(nn),divergingColors:[nn.BLUE,nn.RED],hierarchyColors:[],secondSequentialColors:[nn.BLUE,nn.PURPLE,nn.MAGENTA,nn.PINK,nn.RED,nn.ORANGE,nn.YELLOW,nn.GREEN],secondDivergingColors:[nn.BLUE,nn.RED],secondHierarchyColors:[],up:{fill:nn.GREEN,stroke:Sh.GREEN},down:{fill:nn.RED,stroke:Sh.RED},neutral:{fill:nn.GRAY,stroke:Sh.GRAY},altUp:{fill:nn.BLUE,stroke:Sh.BLUE},altDown:{fill:nn.RED,stroke:Sh.RED},altNeutral:{fill:nn.GRAY,stroke:Sh.GRAY}})}getTemplateParameters(){let t=super.getTemplateParameters();return t.set(rn,nn.BLUE),t.set(Rn,nn.BLUE),t}},An={BLUE:"#4472C4",ORANGE:"#ED7D31",GRAY:"#A5A5A5",YELLOW:"#FFC000",MODERATE_BLUE:"#5B9BD5",GREEN:"#70AD47",DARK_GRAY:"#7B7B7B",DARK_BLUE:"#264478",VERY_DARK_GRAY:"#636363",DARK_YELLOW:"#997300"},Od={BLUE:"#6899ee",ORANGE:"#ffa55d",GRAY:"#cdcdcd",YELLOW:"#ffea53",MODERATE_BLUE:"#82c3ff",GREEN:"#96d56f",DARK_GRAY:"#a1a1a1",DARK_BLUE:"#47689f",VERY_DARK_GRAY:"#878787",DARK_YELLOW:"#c0993d"},Jme=class extends Wf{getDefaultColors(){return S(f({},super.getDefaultColors()),{fills:S(f({},An),{RED:An.ORANGE}),fillsFallback:Object.values(S(f({},An),{RED:An.ORANGE})),strokes:S(f({},Od),{RED:Od.ORANGE}),sequentialColors:ho(S(f({},An),{RED:An.ORANGE})),divergingColors:[An.ORANGE,An.YELLOW,An.GREEN],secondSequentialColors:["#5090dc","#4882c6","#4073b0","#38659a","#305684","#28486e","#203a58","#182b42"],secondDivergingColors:[An.GREEN,An.YELLOW,An.ORANGE],up:{fill:An.GREEN,stroke:Od.GREEN},down:{fill:An.ORANGE,stroke:Od.ORANGE},neutral:{fill:An.GRAY,stroke:Od.GRAY},altUp:{fill:An.BLUE,stroke:Od.BLUE},altDown:{fill:An.ORANGE,stroke:Od.ORANGE},altNeutral:{fill:An.GRAY,stroke:Od.GRAY}})}getTemplateParameters(){let t=super.getTemplateParameters();return t.set(rn,An.BLUE),t.set(Rn,An.BLUE),t}},qn={BLUE:"#5281d5",ORANGE:"#ff8d44",GRAY:"#b5b5b5",YELLOW:"#ffd02f",MODERATE_BLUE:"#6aabe6",GREEN:"#7fbd57",DARK_GRAY:"#8a8a8a",DARK_BLUE:"#335287",VERY_DARK_GRAY:"#717171",DARK_YELLOW:"#a98220"},gc={BLUE:"#214d9b",ORANGE:"#c25600",GRAY:"#7f7f7f",YELLOW:"#d59800",MODERATE_BLUE:"#3575ac",GREEN:"#4b861a",DARK_GRAY:"#575757",DARK_BLUE:"#062253",VERY_DARK_GRAY:"#414141",DARK_YELLOW:"#734f00"},epe=class extends Ns{getDefaultColors(){return S(f({},super.getDefaultColors()),{fills:S(f({},qn),{RED:qn.ORANGE}),fillsFallback:Object.values(S(f({},qn),{RED:qn.ORANGE})),strokes:S(f({},gc),{RED:gc.ORANGE}),sequentialColors:ho(S(f({},qn),{RED:qn.ORANGE})),divergingColors:[qn.ORANGE,qn.YELLOW,qn.GREEN],secondSequentialColors:["#5090dc","#629be0","#73a6e3","#85b1e7","#96bcea","#a8c8ee","#b9d3f1","#cbdef5"],secondDivergingColors:[qn.GREEN,qn.YELLOW,qn.ORANGE],secondHierarchyColors:[],up:{fill:qn.GREEN,stroke:gc.GREEN},down:{fill:qn.ORANGE,stroke:gc.ORANGE},neutral:{fill:gc.GRAY,stroke:gc.GRAY},altUp:{fill:qn.BLUE,stroke:gc.BLUE},altDown:{fill:qn.ORANGE,stroke:gc.ORANGE},altNeutral:{fill:qn.GRAY,stroke:gc.GRAY}})}getTemplateParameters(){let t=super.getTemplateParameters();return t.set(rn,qn.BLUE),t.set(Rn,qn.BLUE),t}},gR=["top","top-right","top-left","bottom","bottom-right","bottom-left","right","right-top","right-bottom","left","left-top","left-bottom"],tpe={floating:R,placement:K(...gR),xOffset:j,yOffset:j},KH=Ot((t,i)=>{let e;if(typeof t=="string")gR.includes(t)?e=!0:(e={valid:!1,invalid:[],cleared:null},e.invalid.push(new uc(rw.Invalid,`a legend placement string: ["${gR.join('", "')}"]`,t,i.path)));else{let{cleared:n,invalid:r}=mn(t,tpe);e={valid:r.length===0,cleared:n,invalid:r}}return e},"a legend position object or placement string"),aD=$e(K("circle","cross","diamond","heart","plus","pin","square","star","triangle"),zt),m$=K("never","always","hyphenate","on-space"),oD=K("top","right","bottom","left","top-right","bottom-right","bottom-left","top-left","center"),sS=$e(O,K("exact","nearest")),NO=$e(B,ji(f({text:le(B)},Nt),"text segments array")),qH=K("pointer","start","middle","end"),Nw=f({enabled:R,text:NO,textAlign:K("left","center","right"),wrapping:K("never","always","hyphenate","on-space"),spacing:O,maxWidth:O,maxHeight:O},Nt);Nw.padding=ze(O);var _w={enabled:R,text:NO,renderer:mc($e(B,ow))},D1=["defaults","download","zoom-to-cursor","pan-to-cursor","reset-zoom","toggle-series-visibility","toggle-other-series","separator"],p$={type:K("action","separator"),showOn:K("always","series-area","series-node","legend-item"),label:le(B),enabled:R,action:zt,items:(t,i)=>f$(t,i)};p$.iconUrl=ze(B);var ipe=zi(p$),npe=Ot((t,i)=>{let e;return typeof t=="string"?D1.includes(t)?e=!0:(e={valid:!1,invalid:[],cleared:null},e.invalid.push(new uc(rw.Invalid,`a context menu item string alias: ["${D1.join('", "')}"]`,t,i.path))):e=ipe(t,i),e},`a context menu item object or string alias: [${D1.join(", ")}]`),f$=Le(npe,"a menu items array",!1),Lh={label:B,ariaLabel:B,tooltip:B,icon:K("align-center","align-left","align-right","arrow-drawing","arrow-down-drawing","arrow-up-drawing","callout-annotation","candlestick-series","close","comment-annotation","date-range-drawing","date-price-range-drawing","delete","disjoint-channel-drawing","drag-handle","fill-color","line-style-solid","line-style-dashed","line-style-dotted","high-low-series","hlc-series","hollow-candlestick-series","horizontal-line-drawing","line-color","line-series","line-with-markers-series","locked","measurer-drawing","note-annotation","ohlc-series","pan-end","pan-left","pan-right","pan-start","parallel-channel-drawing","position-bottom","position-center","position-top","price-label-annotation","price-range-drawing","reset","settings","step-line-series","text-annotation","trend-line-drawing","fibonacci-retracement-drawing","fibonacci-retracement-trend-based-drawing","unlocked","vertical-line-drawing","zoom-in","zoom-out")},ws=$e(B,mc(B)),g$=zi({x:ws,y:ws,angle:ws,radius:ws,size:ws,color:ws,label:ws,secondaryLabel:ws,sectorLabel:ws,calloutLabel:ws,legendItem:ws}),Fs=Ot(zU,"a valid number format string"),at={width:O,height:O,minWidth:O,minHeight:O,suppressFieldDotNotation:R,title:Nw,subtitle:Nw,footnote:Nw,padding:{top:O,right:O,bottom:O,left:O},seriesArea:{border:Ty,clip:R,cornerRadius:j,padding:Ey},legend:{enabled:R,position:KH,orientation:K("horizontal","vertical"),maxWidth:O,maxHeight:O,spacing:O,border:Ty,cornerRadius:j,padding:Ey,fill:Hr,fillOpacity:Me,preventHidingAll:R,reverseOrder:R,toggleSeries:R,item:{marker:{size:O,shape:aD,padding:O,strokeWidth:O},line:{length:O,strokeWidth:O},label:f({maxLength:O,formatter:zt},Nt),maxWidth:O,paddingX:O,paddingY:O,showSeriesStroke:R},pagination:{marker:{size:O,shape:aD,padding:O},activeStyle:f(f({},ce),Z),inactiveStyle:f(f({},ce),Z),highlightStyle:f(f({},ce),Z),label:Nt},listeners:{legendItemClick:zt,legendItemDoubleClick:zt}},gradientLegend:{enabled:R,position:KH,spacing:O,reverseOrder:R,border:Ty,cornerRadius:j,padding:Ey,fill:Hr,fillOpacity:Me,gradient:{preferredLength:O,thickness:O},scale:{label:S(f({},Nt),{minSpacing:O,format:Fs,formatter:zt}),padding:O,interval:{step:j,values:pa,minSpacing:oi(O,fa("maxSpacing")),maxSpacing:oi(O,ga("minSpacing"))}}},listeners:{seriesNodeClick:zt,seriesNodeDoubleClick:zt,seriesVisibilityChange:zt,click:zt,doubleClick:zt,annotations:zt,zoom:zt},loadGoogleFonts:R,highlight:{range:K("tooltip","node")},overlays:{loading:_w,noData:_w,noVisibleSeries:_w,unsupportedBrowser:_w},tooltip:{enabled:R,showArrow:R,pagination:R,delay:O,range:sS,wrapping:m$,mode:K("single","shared","compact"),position:{anchorTo:K("pointer","node","chart"),placement:$e(oD,Le(oD)),xOffset:j,yOffset:j}},animation:{enabled:R,duration:O},contextMenu:{enabled:R,items:f$},context:()=>!0,dataSource:{getData:zt},keyboard:{enabled:R,tabIndex:j},touch:{dragAction:K("none","drag","hover")},ranges:{enabled:R,buttons:ji(S(f({},Lh),{value:$e(j,oi(Le($e(j,Eo)),_s(2,2)),zt)}),"range button options array")},locale:{localeText:mh,getLocaleText:mc(B)},background:{visible:R,fill:se,image:{url:le(B),top:j,right:j,bottom:j,left:j,width:O,height:O,opacity:Me}},styleNonce:B,sync:{enabled:R,groupId:B,axes:K("x","y","xy"),nodeInteraction:R,zoom:R},zoom:{enabled:R,enableAxisDragging:R,enableAxisScrolling:R,enableDoubleClickToReset:R,enablePanning:R,enableScrolling:R,enableSelecting:R,enableTwoFingerZoom:R,keepAspectRatio:R,anchorPointX:qH,anchorPointY:qH,axisDraggingMode:K("pan","zoom"),axes:K("x","y","xy"),deceleration:$e(K("off","short","long"),Me),minVisibleItems:O,panKey:K("alt","ctrl","meta","shift"),scrollingStep:Me,autoScaling:{enabled:R,padding:Me},buttons:{enabled:R,buttons:ji(S(f({},Lh),{value:K("reset","zoom-in","zoom-out","pan-left","pan-right","pan-start","pan-end"),section:B}),"zoom button options array"),visible:K("always","zoomed","hover")}},formatter:$e(mc(B),g$)};at.dataSource.requestThrottle=ze(O);at.dataSource.updateThrottle=ze(O);at.dataSource.updateDuringInteraction=ze(R);at.zoom.enableIndependentAxes=ze(R);at.statusBar=ze(Be);at.foreground=ze(f({visible:R,text:B,image:{url:B,top:j,right:j,bottom:j,left:j,width:O,height:O,opacity:Me}},ce));at.overrideDevicePixelRatio=ze(j);at.sync.domainMode=ze(K("direction","position","key"));var $t={cursor:B,context:()=>!0,showInLegend:R,nodeClickRange:sS,listeners:{seriesNodeClick:zt,seriesNodeDoubleClick:zt},highlightStyle:{item:f(f({},ce),Z),series:{enabled:R,dimOpacity:Me,strokeWidth:O}},highlight:lw(ti)},Vs=S(f({},$t),{id:B,visible:R,context:()=>!0,data:pa});Vs.seriesGrouping=ze(Be);var Bc=f(f(f({enabled:R,shape:aD,size:O,itemStyler:si(S(f(f(f({},ce),Z),_e),{shape:aD,size:O}))},ce),Z),_e),gi=f(f({enabled:R,formatter:zt,format:Fs,itemStyler:ze(si(f(f({enabled:R},Gr),Nt)))},Gr),Nt),Qd=S(f({},gi),{lineHeight:O,minimumFontSize:O,wrapping:m$,overflowStrategy:K("ellipsis","hide")}),e_=f(f({visible:R,cap:f(f({visible:R,length:O,lengthRatio:Me},Z),_e)},Z),_e),lS=S(f({},e_),{xLowerKey:B,xUpperKey:B,yLowerKey:B,yUpperKey:B,xLowerName:B,xUpperName:B,yLowerName:B,yUpperName:B,itemStyler:si(S(f(f({visible:R},Z),_e),{cap:f(f({visible:R,length:O,lengthRatio:Me},Z),_e)}))}),ei={enabled:R,showArrow:R,range:sS,renderer:mc($e(B,zi({heading:B,title:B,data:ji({label:le(B),value:le(B)})},"tooltip renderer result object"))),position:{anchorTo:K("node","pointer","chart"),placement:$e(oD,Le(oD)),xOffset:j,yOffset:j},interaction:{enabled:R}},Fl={enabled:R,xOffset:j,yOffset:j,blur:O,color:se},cS=hh({linear:{},smooth:{tension:Me},step:{position:K("start","middle","end")}},"interpolation line options"),gv={fills:oi(_s(2),Le(zi({color:se,stop:j},"")),QT),fillMode:K("continuous","discrete")},dS=f(f(f({value:le(j),text:B,shape:$e(K("circle","cross","diamond","heart","plus","pin","square","star","triangle","line"),zt),placement:K("before","after","middle"),spacing:O,size:O,rotation:j},ce),Z),_e),uS=f(f(f({value:le(j),text:B,shape:$e(K("circle","cross","diamond","heart","plus","pin","square","star","triangle","line"),zt),placement:K("inside","outside","middle"),spacing:O,size:O,rotation:j,label:S(f({},gi),{spacing:O})},ce),Z),_e),sD=f({direction:K("horizontal","vertical"),cornerMode:K("container","item"),cornerRadius:O,thickness:O,segmentation:{enabled:R,spacing:O,interval:{values:Le(j),step:j,count:j}},bar:f(f(f(f({enabled:R,thickness:O,thicknessRatio:Me},gv),ce),Z),_e),label:S(f({},Qd),{text:B,spacing:O,avoidCollisions:R,placement:K("inside-start","outside-start","inside-end","outside-end","inside-center","bar-inside","bar-inside-end","bar-outside-end","bar-end")}),tooltip:ei},ue($t,["listeners"])),Xd=S(f(f({},sD),ue(Vs,["listeners"])),{type:le(Lt("linear-gauge")),value:le(j),scale:f(f(f(f({min:oi(j,fa("max")),max:oi(j,ga("min")),label:f({enabled:R,formatter:zt,rotation:j,spacing:O,minSpacing:O,placement:K("before","after"),avoidCollisions:R,format:Fs},Nt),interval:{values:Le(j),step:j}},gv),ce),Z),_e),targets:ji(dS,"target options array")});Xd.margin=ze(j);Xd.defaultColorRange=ze(Le(se));Xd.defaultTarget=ze(S(f({},dS),{value:j,label:S(f({},gi),{spacing:j})}));Xd.defaultScale=ze(Xd.scale);Xd.scale.defaultFill=ze(se);var lD=f({outerRadius:O,innerRadius:O,outerRadiusRatio:Me,innerRadiusRatio:Me,startAngle:j,endAngle:j,spacing:O,cornerMode:K("container","item"),cornerRadius:O,scale:f(f(f(f({min:oi(j,fa("max")),max:oi(j,ga("min")),label:f({enabled:R,formatter:zt,rotation:j,spacing:O,minSpacing:O,avoidCollisions:R,format:Fs},Nt),interval:{values:Le(j),step:j}},gv),ce),Z),_e),segmentation:{enabled:R,spacing:O,interval:{values:Le(j),step:j,count:j}},bar:f(f(f(f({enabled:R},gv),ce),Z),_e),needle:f(f(f({enabled:R,spacing:O,radiusRatio:Me},ce),Z),_e),label:f({text:B,spacing:O},Qd),secondaryLabel:f({text:B},Qd),tooltip:ei},$t),t_=S(f(f({},lD),Vs),{type:le(Lt("radial-gauge")),value:le(j),targets:ji(uS,"target options array")});t_.defaultColorRange=ze(Le(se));t_.defaultTarget=ze(S(f({},uS),{value:j,label:S(f({},gi),{spacing:j})}));t_.scale.defaultFill=ze(se);var i_=K("millisecond","second","minute","hour","day","month","year"),b$={unit:le(i_),step:ph,epoch:Eo,utc:R};b$.every=zt;var hS=zi(b$,"a time interval object"),Gh=f({enabled:R,text:B,padding:j},Nt),kl=Ot(f(f({enabled:R,type:le(K("line","range")),range:oi(Ot((t,{options:i})=>i.type==="range","crossLine type to be 'range'"),Le(Be),_s(2,2)),value:oi(Ot((t,{options:i})=>i.type==="line","crossLine type to be 'line'"),Be),label:Gh,fill:se,fillOpacity:Me},Z),_e),"cross-line options"),_c=S(f({},kl),{label:S(f({},Gh),{position:K("top","left","right","bottom","top-left","top-right","bottom-left","bottom-right","inside","inside-left","inside-right","inside-top","inside-bottom","inside-top-left","inside-bottom-left","inside-top-right","inside-bottom-right"),rotation:j})}),zc=f(f({enabled:R,rotation:j,avoidCollisions:R,minSpacing:O,spacing:O,formatter:zt,itemStyler:ze(si(S(f(f({},Nt),Gr),{spacing:j})))},Nt),Gr),n_=f({autoRotate:R,autoRotateAngle:j,wrapping:K("never","always","hyphenate","on-space"),truncate:R},zc),PO=f({format:Fs},n_),r_=f({format:$e(B,mh)},n_),y$={enabled:R,width:O,size:O,stroke:se},mS={enabled:R,label:r_,tick:y$},FO={values:Le(Be),minSpacing:O},Xh={reverse:R,gridLine:{enabled:R,width:O,style:ji({fill:se,fillOpacity:O,stroke:$e(se,Wp),strokeWidth:O,lineDash:Le(O)},"a grid-line style object array")},interval:FO,label:zc,line:{enabled:R,width:O,stroke:se},tick:y$,context:()=>!0};Xh.layoutConstraints=ze({stacked:le(R),align:le(K("start","end")),unit:le(K("percent","px")),width:le(O)});var jc=S(f({},Xh),{keys:Le(B),crossLines:ji(_c,"a cross-line options array"),position:K("top","right","bottom","left"),thickness:O,maxThicknessRatio:Me,title:f({enabled:R,text:B,spacing:O,formatter:zt},Nt)});jc.title._enabledFromTheme=ze(R);var a_=f(f(f({enabled:R},ce),Z),_e);function ru(t,i){let e={enabled:R,xOffset:j,yOffset:j,formatter:mc(B),renderer:mc($e(B,zi({text:B,color:se,backgroundColor:se,opacity:Me},"crosshair label renderer result object")))},n;return t&&(n=S(f({},e),{format:i?$e(B,zi({millisecond:B,second:B,hour:B,day:B,month:B,year:B})):B})),f(f({enabled:R,snap:R,label:n??e},Z),_e)}function $f(t,i){return{min:oi(t,fa("max")),max:oi(t,ga("min")),nice:R,interval:{step:i?$e(ph,i_,hS):ph,values:Le(t),minSpacing:oi(O,fa("maxSpacing")),maxSpacing:oi(O,ga("minSpacing"))}}}var VO={step:$e(ph,i_,hS),values:Le($e(j,Eo)),minSpacing:oi(O,fa("maxSpacing")),maxSpacing:oi(O,ga("minSpacing")),placement:K("on","between")},pS=(()=>{let t=class v$ extends Bv{constructor(e,n=new Uf,r=!0){super(e,n),this.groupPaddingInner=.1,this.includeInvisibleDomains=r,this.nice=!1}static is(e){return e instanceof v$}isCategoryLike(){return!0}hasDefinedDomain(){return!1}normaliseDataDomain(e){return{domain:e,clipped:!1}}updateScale(){super.updateScale();let{paddingInner:e,paddingOuter:n}=this;if(!Tt(e)||!Tt(n)){let r=this.reduceBandScalePadding();e??(e=r.inner),n??(n=r.outer)}this.scale.paddingInner=e??0,this.scale.paddingOuter=n??0}calculateGridLines(e,n,r){let a=super.calculateGridLines(e,n,r);return this.interval.placement==="between"&&e.length>0&&a.push(super.calculateGridLine({index:e.at(-1).index+1,tickId:`after:${e.at(-1).tickId}`,translation:this.range[1]},e.length,n,r,e)),a}calculateGridLine({index:e,tickId:n,translation:r},a,o,s,l){let{gridLine:c,horizontal:d,interval:u,scale:h}=this;if(u.placement!=="between")return super.calculateGridLine({index:e,tickId:n,translation:r},a,o,s,l);let m=r<h.step?Math.floor(h.step/2):h.step/2,p=r-m,[g,y,v,x]=d?[p,Math.max(o,s),p,Math.min(o,s)]:[Math.min(o,s),p,Math.max(o,s),p],{style:w}=c,{stroke:D,strokeWidth:k=0,lineDash:E}=w[e%w.length]??{};return{tickId:n,offset:p,x1:g,y1:y,x2:v,y2:x,stroke:D,strokeWidth:k,lineDash:E}}calculateGridFills(e,n,r){let{horizontal:a,range:o,scale:s}=this;if(this.interval.placement!=="between")return super.calculateGridFills(e,n,r);let l=[];if(e.length==0)return l;let c=e[0],d=c.translation>o[0]+s.step/2,u=e[e.length-1],h=a&&u.translation<o[1]-s.step/2;if(d){let m={tickId:`before:${c.tickId}`,translation:c.translation-s.step};l.push(this.calculateGridFill(m,-1,c.index-1,n,r,e))}if(l.push(...e.map((m,p)=>this.calculateGridFill(m,p,m.index,n,r,e))),h){let m={tickId:`after:${u.tickId}`,translation:u.translation+s.step};l.push(this.calculateGridFill(m,e.length,u.index+1,n,r,e))}return l}calculateGridFill({tickId:e,translation:n},r,a,o,s,l){let{gridLine:c,horizontal:d,interval:u,scale:h}=this;if(u.placement!=="between")return super.calculateGridFill({tickId:e,translation:n},r,a,o,s,l);let m=n-h.step/2,p=n+h.step/2,[g,y,v,x]=d?[m,Math.max(o,s),p,Math.min(o,s)]:[Math.min(o,s),m,Math.max(o,s),p],{fill:w,fillOpacity:D}=c.style[a%c.style.length]??{};return{tickId:e,x1:g,y1:y,x2:v,y2:x,fill:w,fillOpacity:D}}calculateTickLines(e,n){let r=super.calculateTickLines(e,n);return this.interval.placement==="between"&&e.length>0&&r.push(super.calculateTickLine({primary:!1,tickId:`after:${e.at(-1)?.tickId}`,translation:this.range[1]},e.length,n,e)),r}calculateTickLine({primary:e,tickId:n,translation:r},a,o,s){let{horizontal:l,interval:c,primaryTick:d,scale:u,tick:h}=this;if(c.placement!=="between")return super.calculateTickLine({primary:e,tickId:n,translation:r},a,o,s);let m=e&&d?.enabled?d:h,p=-o*this.getTickSize(m),g=r<u.step?Math.floor(u.step/2):u.step/2,y=r-g,[v,x,w,D]=l?[y,0,y,p]:[0,y,p,y],{stroke:k,width:E}=m;return{tickId:n,offset:y,x1:v,y1:x,x2:w,y2:D,stroke:k,strokeWidth:E,lineDash:void 0}}reduceBandScalePadding(){return this.boundSeries.reduce((e,n)=>{let r=n.getBandScalePadding?.();return r&&(e.inner>r.inner&&(e.inner=r.inner),e.outer<r.outer&&(e.outer=r.outer)),e},{inner:1/0,outer:-1/0})}tickFormatParams(e,n,r,a){return{type:"category"}}datumFormatParams(e,n,r,a,o){let{datum:s,seriesId:l,legendItemName:c,key:d,source:u,property:h,domain:m,boundSeries:p}=n;return Array.isArray(e)&&e.some(g=>typeof g!="string")?e=e.map(String):!Array.isArray(e)&&typeof e!="string"&&typeof e!="number"&&!(e instanceof Date)&&(e=String(e)),{type:"category",value:e,datum:s,seriesId:l,legendItemName:c,key:d,source:u,property:h,domain:m,boundSeries:p}}};return t.className="CategoryAxis",t.type="category",t})();b([C],pS.prototype,"groupPaddingInner",2);b([C],pS.prototype,"paddingInner",2);b([C],pS.prototype,"paddingOuter",2);var Yf=pS,ZH=class _$ extends Uf{static is(i){return i instanceof _$}normalizeDomains(...i){let{domain:e}=super.normalizeDomains(...i);return{domain:e,animatable:!1}}findIndex(i){return super.findIndex(i)??this.getMatchIndex(i)}getMatchIndex(i){let e=JSON.stringify(i),n=this._domain.find(r=>JSON.stringify(r)===e);if(n!=null)return super.findIndex(n)}};function au(t){if(t.length===0)return null;let i=1/0,e=-1/0;for(let r of t){let a=r instanceof Date?r.getTime():r;typeof a=="number"&&(a<i&&(i=a),a>e&&(e=a))}let n=[i,e];return n.every(isFinite)?n:null}function BO(t,i,e){let n=!1,r=au(t);if(r==null)return{extent:i!=null&&e!=null&&i<=e?[i,e]:[],clipped:!1};let[a,o]=r;return i!=null&&(n||(n=i>a),a=i),e!=null&&(n||(n=e<o),o=e),a>o?{extent:[],clipped:!1}:{extent:[a,o],clipped:n}}function fS(t,i=[0,0]){for(let e of t)typeof e=="number"&&(e<0&&(i[0]+=e),e>0&&(i[1]+=e));return i}function rpe(t,i){return{id:t,matchGroupIds:[i],type:"aggregate",aggregateFunction:n=>fS(n)}}function x$(t,i){return{id:t,type:"aggregate",matchGroupIds:i?[i]:void 0,aggregateFunction:e=>fS(e),groupAggregateFunction:(e,n=[0,0])=>(n[0]+=e?.[0]??0,n[1]+=e?.[1]??0,n)}}function ape(t,i){return{id:t,matchGroupIds:[i],type:"aggregate",aggregateFunction:n=>Ld.extendDomain(n)}}function bR(t){return{id:t,type:"aggregate",aggregateFunction:()=>[0,1],groupAggregateFunction:(i,e=[0,0])=>(e[0]+=i?.[0]??0,e[1]+=i?.[1]??0,e)}}function C$(t,i){return{id:t,matchGroupIds:i?[i]:void 0,type:"aggregate",aggregateFunction:n=>fS(n),groupAggregateFunction:(n,r=[0,0,-1])=>(r[0]+=n?.[0]??0,r[1]+=n?.[1]??0,r[2]++,r),finalFunction:(n=[0,0,0])=>{let r=n[0]+n[1];return r>=0?[0,r/n[2]]:[r/n[2],0]}}}function yR(t,i,e){let n={id:t,matchGroupIds:e?[e]:void 0,type:"aggregate",aggregateFunction:(r,a=[])=>{let o=a[1]-a[0];return i.aggregateFunction(r).map(s=>s/o)}};return i.groupAggregateFunction&&(n.groupAggregateFunction=i.groupAggregateFunction),n}function w$(t){return()=>{let i=0;return e=>Tt(e)?(i+=t?Math.max(0,e):e,i):e}}function D$(){return()=>{let t=0;return i=>{if(!Tt(i))return i;let e=t;return t+=i,e}}}var ope=1e3;function Kf(t){return t.input.count<=ope}function S$(t){return t!=null&&VD(t)}function spe(t){return t!=null}function M$(t){switch(t){case"number":case"log":case"time":case"unit-time":case"ordinal-time":case"color":return S$;default:return spe}}function I$(t){switch(t){case"number":case"log":case"time":case"color":return"range";default:return"category"}}function Wd(t,i,e={}){return f({property:t,type:"key",valueType:I$(i),validation:M$(i)},e)}function Fi(t,i,e={}){return f({property:t,type:"value",valueType:I$(i),validation:M$(i)},e)}function k$(t,i={}){return f({property:t,type:"value",valueType:"range",missingValue:1,processor:()=>()=>1},i)}var lpe=function(t){return t};function A$(...t){let i=t.filter(e=>e!=null);return i.length===0?()=>lpe:i.length===1?i[0]:()=>{let e=i.map(n=>n());return(n,r)=>e.reduce((a,o)=>o(a,r),n)}}function E$(t,i={}){let o=i,{min:e=-1/0,max:n=1/0,processor:r}=o,a=ci(o,["min","max","processor"]);return f({type:"value",property:t,valueType:"range",validation:S$,processor:A$(r,()=>s=>Tt(s)?Ae(e,s,n):s)},a)}function vR(t,i,e={}){let s=e,{onlyPositive:n,processor:r}=s,a=ci(s,["onlyPositive","processor"]);return S(f({},Fi(t,i,a)),{processor:A$(r,w$(n))})}function cpe(t,i,e={}){return S(f({},Fi(t,i,e)),{processor:D$()})}function $d(t,i,e,n,r){return[Fi(t,r,n),N$(n.groupId,i,e,n.separateNegative),...n.rangeId!=null?[ape(n.rangeId,n.groupId)]:[]]}function T$(t,i,e){return[Fi(t,i,e),P$(e.groupId)]}var R$={type:"reducer",property:"smallestKeyInterval",initialValue:1/0,reducer:()=>{let t=NaN;return(i=1/0,e)=>{let n=typeof e[0]=="number"?e[0]:Number(e[0]),r=Math.abs(n-t);return t=n,!isNaN(r)&&r>0&&r<i?r:i}}},O$={type:"reducer",property:"largestKeyInterval",initialValue:-1/0,reducer:()=>{let t=NaN;return(i=-1/0,e)=>{let n=typeof e[0]=="number"?e[0]:Number(e[0]),r=Math.abs(n-t);return t=n,!isNaN(r)&&r>0&&r>i?r:i}}},L$={type:"processor",property:"sortedGroupDomain",calculate:({domain:{groups:t}})=>t?.slice().sort((i,e)=>{for(let n=0;n<i.length;n++){let r=i[n]-e[n];if(r!==0)return r}return 0})};function dpe({normaliseTo:t}){let i=(e,n)=>{if(n===0)return null;let r=(e??0)*t/n;return r>=0?Math.min(t,r):Math.max(-t,r)};return()=>()=>(e,n,r)=>{let a=upe(e,n,r);for(let o of n){let s=r.datumIndices[o];if(s!=null)for(let l of s){let c=e[o],d=c[l];if(d==null){c[l]=void 0;continue}c[l]=typeof d=="number"?i(d,a):d.map(u=>i(u,a))}}}}function upe(t,i,e){let n=[0,0];for(let r of i){let a=t[r],o=e.datumIndices[r];if(o!=null)for(let s of o){let l=a[s];if(l==null)continue;let c=typeof l=="number"?l:Math.max(...l.map(u=>u??0)),d=c<0?0:1;d===0?n[d]=Math.min(n[d],c):n[d]=Math.max(n[d],c)}}return Math.max(Math.abs(n[0]),n[1])}function gS(t,i){return{type:"group-value-processor",matchGroupIds:t,adjust:rv({normaliseTo:i},dpe)}}function hpe({normaliseTo:t,zeroDomain:i,rangeMin:e,rangeMax:n}){let r=t[1]-t[0],a=(o,s,l)=>{let c=t[0]+(o-s)/l*r;return l===0?i:c>=t[1]?t[1]:c<t[0]?t[0]:c};return()=>(o,s)=>{let[l,c]=o.domain.values[s];e!=null&&(l=e),n!=null&&(c=n);let d=c-l;o.domain.values[s]=[t[0],t[1]];let u=o.columns[s];for(let h=0;h<u.length;h+=1)u[h]=a(u[h],l,d)}}function Pw(t,i,e,n,r){return{type:"property-value-processor",property:t,adjust:rv({normaliseTo:i,rangeMin:n,rangeMax:r,zeroDomain:e},hpe)}}var Xy=1,cD=2;function QH(t,i,e,n){let r=Xy|cD;if(i.valueType==="category")return e.length<t&&(r&=~Xy),r;let a=n[0]?.valueOf();for(let o=1;r!==0&&o<n.length;o++){let s=n[o]?.valueOf();(!Number.isFinite(s)||a>s)&&(r&=~cD),Number.isFinite(s)&&a===s&&(r&=~Xy),a=s}return r}function o_(t){return{type:"processor",property:"animationValidation",calculate(i){if(!Kf(i))return;let{keys:e,values:n}=i.defs,{input:r,domain:{keys:a,values:o},keys:s,columns:l,invalidKeyCount:c}=i,d=Xy|cD;if(r.count!==0){for(let u=0;d!==0&&u<e.length;u++)for(let h of e[u].scopes){let m=s[u].get(h),p=c?.get(h)??0,g=m.length-p;d&=QH(g,e[u],a[u],m)}for(let u=0;d!==0&&u<n.length;u++){let h=n[u];t?.includes(h.id)&&(d&=QH(0,h,o[u],l[u]))}}return{uniqueKeys:(d&Xy)!==0,orderedKeys:(d&cD)!==0}}}}function mpe({mode:t,separateNegative:i}){return()=>()=>(e,n,r)=>{let a=[0,0];for(let o of n){let s=r.datumIndices[o];if(s!=null)for(let l of s){let c=e[o],d=c[l],u=Zp(d)&&i?0:1;Tt(d)&&(t==="normal"&&(a[u]+=d),c[l]=a[u],t==="trailing"&&(a[u]+=d))}}}}function ppe({mode:t,sum:i}){return()=>{let e=[],n=!0;return()=>(r,a,o)=>{let s=0;for(let l of a){let c=r[l],d=o.datumIndices[l];if(d!=null)for(let u of d){let h=c[u],m=n&&i==="current"?0:e[l];e[l]=h;let p=i==="current"?h:m;if(!Tt(h)||!Tt(m)){c[u]=s;continue}t==="normal"&&(s+=p),c[u]=s,t==="trailing"&&(s+=p)}}n=!1}}}function N$(t,i,e,n=!1){let r;if(i.startsWith("window")){let a=i.endsWith("-trailing")?"trailing":"normal";r=rv({mode:a,sum:e},ppe)}else r=rv({mode:i,separateNegative:n},mpe);return{type:"group-value-processor",matchGroupIds:[t],adjust:r}}function fpe(){return()=>(t,i,e)=>{let n=new Float64Array(i.length),r=0;for(let a of i){let o=t[a],s=e.datumIndices[a];if(s!=null)for(let l of s){let c=o[l];n[r]=Number.isFinite(c)?c:NaN,r+=1,o[l]=n.subarray(0,r)}}}}function P$(t){return{type:"group-value-processor",matchGroupIds:[t],adjust:fpe}}function XH(t){return t.id??t.property}function gpe(t,i,e){let n=new Map,r=i.defs.values;for(let s=0;s<r.length;s+=1){let l=r[s];if(l.scopes?.includes(t)===!1)continue;let c=XH(l);if(n.has(c))return;n.set(c,s)}let a=[],o=e.defs.values;for(let s=0;s<o.length;s+=1){let l=o[s];if(l.scopes?.includes(t)===!1)continue;let c=XH(l),d=n.get(c);if(d==null)return;n.delete(c),a.push({previousIndex:d,nextIndex:s})}if(n.size===0)return a}function S1(t,i,e,n,r){for(let{previousIndex:a,nextIndex:o}of e){let s=t[a],l=i[o],c=s[n],d=l[r];if(c!==d)return!1}return!0}function s_(t,i,e=!0){return{type:"processor",property:"diff",calculate(n,r){if(!Kf(n))return;let a=new Map,o=new Map,s=new Map,l=new Map,c=i.keys,d=n.keys,u=i.columns,h=n.columns,m=gpe(t,i,n);if(m==null)return r;let p=Math.max(i.input.count,n.input.count);for(let v=0;v<p;v++){let x=v<i.input.count,w=v<n.input.count,D=x?Jw(c,t,v):void 0,k=D!=null?Mc(D):"",E=w?Jw(d,t,v):void 0,A=E!=null?Mc(E):"";if(w&&x&&k===A){S1(u,h,m,v,v)||s.set(A,v);continue}let N=l.get(A);N!=null?((e||!S1(u,h,m,N,v))&&(s.set(A,v),a.set(A,v)),l.delete(A)):w&&o.set(A,v);let F=o.get(k);F!=null?((e||!S1(u,h,m,F,v))&&(s.set(k,v),a.set(k,v)),o.delete(k)):x&&(s.delete(k),l.set(k,v))}let y={changed:o.size>0||s.size>0||l.size>0,added:new Set(o.keys()),updated:new Set(s.keys()),removed:new Set(l.keys()),moved:new Set(a.keys())};return S(f({},r),{[t]:y})}}}function Mc(t,...i){let e;return Xe(t)?e=t.map(r=>lR(r)).join("___"):e=lR(t),(typeof e=="string"||typeof e=="number"||typeof e=="boolean"||e instanceof Date)&&i.length>0&&(e+=`___${i.join("___")}`),e}var bpe=class{constructor(){this.top=1/0,this.right=-1/0,this.bottom=-1/0,this.left=1/0}update(t,i){t>this.right&&(this.right=t),t<this.left&&(this.left=t),i>this.bottom&&(this.bottom=i),i<this.top&&(this.top=i)}},ype=class F${constructor(i="",e,n){this.label=i,this.parent=e,this.refId=n,this.position=0,this.subtreeLeft=NaN,this.subtreeRight=NaN,this.children=[],this.leafCount=0,this.prelim=0,this.mod=0,this.ancestor=this,this.change=0,this.shift=0,this.index=0,this.screen=0,this.depth=e?e.depth+1:0}insertTick(i,e){let n=this;for(let r=0;r<i.length;r++){let a=i[r],o=r!==i.length-1,{children:s}=n,l=s.find(c=>c.label===a);if(l&&o)n=l;else{let c=new F$(a,n,e);c.index=s.length,s.push(c),o&&(n=c)}}}getLeftSibling(){return this.index>0?this.parent?.children[this.index-1]:void 0}getLeftmostSibling(){return this.index>0?this.parent?.children[0]:void 0}nextLeft(){return this.children[0]}nextRight(){return this.children.at(-1)}getSiblings(){return this.parent?.children.filter((i,e)=>e!==this.index)??[]}};function vpe(t){let i=t.reduce((n,r)=>n<r.length?r.length:n,0),e=new ype;for(let n=0;n<t.length;n++){let r=t[n];for(;r.length<i;)r.push("");e.insertTick(r,n)}return e}function _pe(t,i,e){let n=i.index-t.index,r=e/n;i.change-=r,i.shift+=e,t.change+=r,i.prelim+=e,i.mod+=e}function xpe(t,i,e){return i.getSiblings().indexOf(t.ancestor)>=0?t.ancestor:e}function Cpe({children:t}){let i=0,e=0;for(let n=t.length-1;n>=0;n--){let r=t[n];r.prelim+=i,r.mod+=i,e+=r.change,i+=r.shift+e}}function wpe(t,i){let e=t.getLeftSibling();if(e){let n=t,r=t,a=e,o=r.getLeftmostSibling(),s=r.mod,l=n.mod,c=a.mod,d=o.mod;for(;a.nextRight()&&r.nextLeft();){a=a.nextRight(),r=r.nextLeft(),o=o.nextLeft(),n=n.nextRight(),n.ancestor=t;let u=a.prelim+c-(r.prelim+s)+1;u>0&&(_pe(xpe(a,t,i),t,u),s+=u,l+=u),c+=a.mod,s+=r.mod,d+=o.mod,l+=n.mod}a.nextRight()&&!n.nextRight()?n.mod+=c-l:(r.nextLeft()&&!o.nextLeft()&&(o.mod+=s-d),i=t)}return i}function V$(t){let{children:i}=t;if(i.length){let[e]=i;for(let a of i)V$(a),e=wpe(a,e);Cpe(t);let n=(i[0].prelim+i.at(-1).prelim)/2,r=t.getLeftSibling();r?(t.prelim=r.prelim+1,t.mod=t.prelim-n):t.prelim=n}else{let e=t.getLeftSibling();t.prelim=e?e.prelim+1:0}}function B$(t,i,e){t.position=t.prelim+i,e.insertNode(t);for(let n of t.children)B$(n,i+t.mod,e)}function z$(t){let{children:i}=t,e=0;for(let n of i)z$(n),n.children.length?e+=n.leafCount:e++;t.leafCount=e,i.length?(t.subtreeLeft=i[0].subtreeLeft,t.subtreeRight=i[i.length-1].subtreeRight,t.position=(t.subtreeLeft+t.subtreeRight)/2):(t.subtreeLeft=t.position,t.subtreeRight=t.position)}function Dpe(t){let i=new Spe,e=vpe(t);return V$(e),B$(e,-e.prelim,i),z$(e),i}var Spe=class{constructor(){this.dimensions=new bpe,this.nodes=[],this.depth=0}insertNode(t){this.depth<t.depth&&(this.depth=t.depth),this.dimensions.update(t.position,t.depth),this.nodes.push(t)}scaling(t,i){let e=1;if(t>0){let{left:n,right:r}=this.dimensions;r!==n&&(e=t/(r-n))}return i&&(e*=-1),e}},Qr=class extends nt{constructor(){super(...arguments),this.enabled=!0,this.border=new $h}};b([C],Qr.prototype,"enabled",2);b([C],Qr.prototype,"avoidCollisions",2);b([C],Qr.prototype,"border",2);b([C],Qr.prototype,"color",2);b([C],Qr.prototype,"cornerRadius",2);b([C],Qr.prototype,"spacing",2);b([C],Qr.prototype,"rotation",2);b([C],Qr.prototype,"wrapping",2);b([C],Qr.prototype,"truncate",2);b([C],Qr.prototype,"fill",2);b([C],Qr.prototype,"fontStyle",2);b([C],Qr.prototype,"fontWeight",2);b([C],Qr.prototype,"fontSize",2);b([C],Qr.prototype,"fontFamily",2);b([C],Qr.prototype,"padding",2);var bS=class extends nt{constructor(){super(...arguments),this.enabled=!0}};b([C],bS.prototype,"enabled",2);b([C],bS.prototype,"width",2);b([C],bS.prototype,"stroke",2);var zO=class extends nt{constructor(){super(...arguments),this.label=new Qr,this.tick=new bS}};b([C],zO.prototype,"label",2);b([C],zO.prototype,"tick",2);var l_=(()=>{let t=class extends Yf{constructor(i){super(i,new ZH),this.tickScale=new ZH,this.depthOptions=new Mv(zO),this.includeInvisibleDomains=!0,this.tickScale.paddingInner=1,this.tickScale.paddingOuter=0}resizeTickTree(){if(!this.tickTreeLayout)return;let{nodes:i}=this.tickTreeLayout,{range:e,step:n,inset:r,bandwidth:a}=this.scale,o=Math.abs(e[1]-e[0])-n,s=this.tickTreeLayout.scaling(o,e[0]>e[1]),l=r+a/2,c=0;for(let d of i){let u=d.position*s;c>u&&(c=u),d.screen=u+l}for(let d of i)d.screen-=c}getDepthOptionsMap(i){let e=[],{depthOptions:n,label:r}=this,a=this.horizontal?0:-90;for(let o=0;o<i;o++)e.push(n[o]?.label.enabled??r.enabled?{enabled:!0,spacing:n[o]?.label.spacing??r.spacing,wrapping:n[o]?.label.wrapping??r.wrapping,truncate:n[o]?.label.truncate??r.truncate,rotation:n[o]?.label.rotation??(o?a:r.rotation),avoidCollisions:n[o]?.label.avoidCollisions??r.avoidCollisions}:{enabled:!1,spacing:0,rotation:0,avoidCollisions:!1});return e}updateCategoryLabels(){this.computedLayout&&this.tickLabelGroupSelection.update(this.computedLayout.tickLabelLayout).each((i,e)=>{i.fill=e.color,i.text=e.text,i.textBaseline=e.textBaseline,i.textAlign=e.textAlign??"center",i.setFont(e),i.setBoxing(e)})}updateAxisLine(){this.computedLayout&&(this.lineNode.visible=this.line.enabled,this.lineNode.stroke=this.line.stroke,this.lineNode.strokeWidth=this.line.width)}computeLayout(){this.updateDirection(),this.updateScale();let{step:i}=this.scale,{title:e,label:n,range:r,depthOptions:a,horizontal:o,line:s}=this;if(this.lineNode.datum=o?{x1:r[0],x2:r[1],y1:0,y2:0}:{x1:0,x2:0,y1:r[0],y2:r[1]},this.lineNode.setProperties({stroke:s.stroke,strokeWidth:s.enabled?s.width:0}),this.resizeTickTree(),!this.tickTreeLayout?.depth)return{bbox:we.zero,spacing:0,separatorLayout:[],tickLabelLayout:[]};let{depth:l,nodes:c}=this.tickTreeLayout,d=o?-n.getSideFlag():n.getSideFlag(),u=[],h=new Map,m=new If,p=this.getDepthOptionsMap(l),g=d*p[0].spacing,y=this.tickFormatter(this.scale.domain,this.scale.domain,!1),v=(P,U)=>{let H=l-P.depth;if(!p[H]?.enabled||!EU(P.screen,r))return!1;let q=y(P.label,U-1),he=this.getLabelStyles({value:q,depth:H},a[H]?.label);if(n.avoidCollisions){let ne=p[H].rotation,Oe=(P.leafCount||1)*i,st=this.thickness;if(ne!=null){let Ct=xU(ne,Oe,st);Oe=Ct.width,st=Ct.height}q=Iv.wrapText(q,{font:he,textWrap:p[H].wrapping,overflow:p[H].truncate?"ellipsis":"hide",maxWidth:Oe,maxHeight:st})||q}return m.x=o?P.screen:g,m.y=o?g:P.screen,m.rotation=0,m.lineHeight=Pi.getLineHeight(he.fontSize),m.fill=he.color,m.text=q,m.textAlign="center",m.textBaseline=n.parallel?"top":"bottom",m.setFont(he),m.setBoxing(he),!0},x={};c.forEach((P,U)=>{let H=l-P.depth;if(x[H]??(x[H]=0),!v(P,U)||!m.getBBox())return;h.set(U,m.getBBox()),m.rotation=Ac(p[H]?.rotation);let{width:he,height:ne}=m.getBBox(),Oe=o?ne:he;x[H]<Oe&&(x[H]=Oe)});let w=DO(),D=new Map,k=P=>{if(P===0)return 0;let U=x[0];for(let H=1;H<=P;H++)U+=p[H].spacing,H!==P&&(U+=x[H]);return U};c.forEach((P,U)=>{if(U===0)return;let H=v(P,U),q=!P.children.length,he=l-P.depth;if(P.parent){let vt=q?P.position:P.position-(P.leafCount-1)/2;if(!D.has(vt)){let Ge=this.depthOptions[he]?.tick,We=x[0];for(let Fe=0;Fe<=he;Fe++)We+=p[Fe].spacing,Fe!==0&&(We+=x[Fe]);D.set(vt,{tickSize:We,tickStroke:Ge?.stroke,tickWidth:Ge?.enabled!==!1?Ge?.width:0})}}if(!H)return;let ne=Ac(p[he].rotation),{width:Oe,height:st}=h.get(U),Ct=k(he);if(m.textAlign="center",m.textBaseline="middle",m.rotation=ne,o?(m.y+=(Ct+Z1(Oe/2,st/2,ne))*d,m.rotationCenterX=P.screen,m.rotationCenterY=m.y):(m.x+=Ct*d+Z1((p[he].spacing*d+Oe)/2,n.mirrored?Oe:0,ne)-Oe/2,m.rotationCenterX=m.x,m.rotationCenterY=P.screen),p[he].avoidCollisions){let{width:vt,height:Ge}=m.getBBox(),We=o?vt:Ge,Fe=q?i:P.leafCount*i;if(We>Fe){h.delete(U);return}}let Zt=m.getPlainText(),Xt=m.getBoxingProperties();u.push({text:Zt,visible:!0,tickId:w(Zt),range:this.scale.range,border:Xt.border,color:m.fill,cornerRadius:Xt.cornerRadius,fill:Xt.fill,fontFamily:m.fontFamily,fontSize:m.fontSize,fontStyle:m.fontStyle,fontWeight:m.fontWeight,padding:Xt.padding,rotation:m.rotation,rotationCenterX:m.rotationCenterX,rotationCenterY:m.rotationCenterY,textAlign:m.textAlign,textBaseline:m.textBaseline,x:m.x,y:m.y}),h.set(U,an.toCanvas(m))});let E=[...D.values()];E.push(E[0]);let A=[this.lineNodeBBox(),we.merge(h.values()),new we(0,0,E[0].tickSize*d,0)],N=0;if(e.enabled){let P=we.merge(A);N=o?P.height:P.width,A.push(this.titleBBox(this.scale.domain,N))}let F=we.merge(A);return this.layoutCrossLines(),{bbox:F,spacing:N,separatorLayout:E,tickLabelLayout:u}}update(){if(!this.computedLayout)return;this.moduleCtx.animationManager.skipCurrentBatch();let{tickScale:i,tick:e,gridLine:n,gridLength:r}=this,{separatorLayout:a,spacing:o}=this.computedLayout,{position:s,horizontal:l,gridPadding:c}=this,d=s==="bottom"||s==="right"?-1:1,u=c,h=d*r-c,m=i.ticks({nice:!1,interval:void 0,tickCount:void 0,minTickCount:0,maxTickCount:1/0}).ticks.map((p,g)=>({index:g,tickId:Mc(p,g),translation:Math.round(i.convert(p))}));this.gridLineGroupSelection.update(n.enabled&&r?this.calculateGridLines(m,u,h):[]),this.gridFillGroupSelection.update(n.enabled&&r?this.calculateGridFills(m,u,h):[]),this.tickLineGroupSelection.update(e.enabled?m.map(({tickId:p,translation:g},y)=>{let{tickSize:v=this.getTickSize(),tickStroke:x=e.stroke,tickWidth:w=e.width}=a[y]??{},D=-d*v,[k,E,A,N]=l?[g,g,0,D]:[0,D,g,g];return{tickId:p,offset:g,x1:k,y1:A,x2:E,y2:N,stroke:x,strokeWidth:w,lineDash:void 0}}):[]),this.updatePosition(),this.updateCategoryLabels(),this.updateAxisLine(),this.updateGridLines(),this.updateGridFills(),this.updateTickLines(),this.updateTitle(this.scale.domain,o),this.updateCrossLines(),this.resetSelectionNodes()}calculateLayout(){let{separatorLayout:i,tickLabelLayout:e,spacing:n,bbox:r}=this.computeLayout();return this.computedLayout={separatorLayout:i,tickLabelLayout:e,spacing:n},{bbox:r,niceDomain:this.scale.domain}}onGridVisibilityChange(){super.onGridVisibilityChange(),this.tickLabelGroupSelection.clear()}updateScale(){super.updateScale(),this.tickScale.range=this.scale.range,this.scale.paddingOuter=this.scale.paddingInner/2}processData(){let{direction:i}=this,e=this.boundSeries.filter(a=>a.visible).flatMap(a=>a.getDomain(i));this.dataDomain={domain:au(e)??this.filterDuplicateArrays(e),clipped:!1},this.isReversed()&&this.dataDomain.domain.reverse();let n=this.dataDomain.domain.map(a=>gh(qt(a)&&"value"in a?a.value:a));this.tickTreeLayout=Dpe(n);let r=[];for(let a of this.tickTreeLayout.nodes)a.leafCount||a.refId==null||r.push(this.dataDomain.domain[a.refId]);this.scale.domain=wU(this.dataDomain.domain,r),this.tickScale.domain=n.concat([[""]])}filterDuplicateArrays(i){let e=new Set;return i.filter(n=>{let r=Xe(n)?JSON.stringify(n):n;return e.has(r)?!1:(e.add(r),!0)})}};return t.className="GroupedCategoryAxis",t.type="grouped-category",t})();b([C],l_.prototype,"depthOptions",2);var Mpe={2:(t,i)=>Math.log2(i),[Math.E]:(t,i)=>Math.log(i),10:(t,i)=>Math.log10(i)},Ipe=(t,i)=>Math.log(i)/Math.log(t);function M1(t,i,e){let n=Math.min(...i),r=Mpe[t]??Ipe;return n>=0?r(t,e):-r(t,-e)}var kpe={[Math.E]:(t,i)=>Math.exp(i),10:(t,i)=>i>=0?10**i:1/10**-i},Ape=(t,i)=>t**i;function I1(t,i,e){let n=Math.min(...i),r=kpe[t]??Ape;return n>=0?r(t,e):-r(t,-e)}var jO=class j$ extends Di{constructor(i=[1,10],e=[0,1]){super(i,e),this.type="log",this.defaultClamp=!0,this.base=10,this.log=n=>M1(this.base,this.domain,n),this.pow=n=>I1(this.base,this.domain,n)}static is(i){return i instanceof j$}transform(i){let[e,n]=er(this.domain);return e>=0!=n>=0?NaN:e>=0?Math.log(i):-Math.log(-i)}transformInvert(i){let[e,n]=er(this.domain);return e>=0!=n>=0?NaN:e>=0?Math.exp(i):-Math.exp(-i)}toDomain(i){return i}niceDomain(i,e=this.domain){if(e.length<2)return[];let{base:n}=this,[r,a]=e,o=r>a?Math.ceil:Math.floor,s=r>a?Math.floor:Math.ceil,l=I1(n,e,o(M1(n,e,r))),c=I1(n,e,s(M1(n,e,a)));return[l,c]}ticks({interval:i,tickCount:e=Di.defaultTickCount},n=this.domain,r){if(!n||n.length<2||e<1)return;let a=this.base,[o,s]=n,l=Math.min(o,s),c=Math.max(o,s),d=this.log(l),u=this.log(c);if(i){let y=E=>E>=l&&E<=c,v=Math.min(Math.abs(i),Math.abs(u-d)),{ticks:x,count:w,firstTickIndex:D}=HD(d,u,v,r),k=x.map(this.pow).filter(y);if(!Pf(k.length,this.getPixelRange()))return{ticks:k,count:w,firstTickIndex:D}}if(!TU(a)||u-d>=e){let y=Math.min(u-d,e),{ticks:v,count:x,firstTickIndex:w}=Vv(d,u,y,void 0,void 0,r);return{ticks:v.map(this.pow),count:x,firstTickIndex:w}}let h=[],m=l>0;d=Math.floor(d)-1,u=Math.round(u)+1;let p=Of(this.range)/e,g=1/0;for(let y=d;y<=u;y++){let v=this.convert(this.pow(y+1));for(let x=1;x<a;x++){let w=m?x:a-x+1,D=this.pow(y)*w,k=this.convert(D),E=Math.abs(g-k),A=Math.abs(k-v),N=E>=p&&A>=p;D>=l&&D<=c&&(x===1||N||h.length===0)&&(h.push(D),g=k)}}return AW(h,m,r)}},Vh=class _R extends Di{constructor(){super([0,1],[0,1]),this.type="number"}static is(i){return i instanceof _R}static getTickStep(i,e,n){let{interval:r,tickCount:a=Di.defaultTickCount,minTickCount:o,maxTickCount:s}=n;return r??hv(i,e,a,o,s)}toDomain(i){return i}ticks({interval:i,tickCount:e=Di.defaultTickCount,minTickCount:n,maxTickCount:r},a=this.domain,o){if(!a||a.length<2||e<1||!a.every(isFinite))return{ticks:[],count:0,firstTickIndex:0};let[s,l]=a;if(i){let c=Math.abs(i);if(!Pf((l-s)/c,this.getPixelRange()))return HD(s,l,c,o)}return Vv(s,l,e,n,r,o)}niceDomain(i,e=this.domain){if(e.length<2)return[];let{tickCount:n=Di.defaultTickCount}=i,[r,a]=e;if(n===1)[r,a]=NW(r,a);else if(n>1){let o=r>a?Math.ceil:Math.floor,s=r>a?Math.floor:Math.ceil,l=4;for(let c=0;c<l;c++){let d=r,u=a,h=_R.getTickStep(r,a,i),[m,p]=e;if(r=o(m/h)*h,a=s(p/h)*h,r===d&&a===u)break}}return[r,a]}},ou=(()=>{let t=class extends Bv{constructor(i,e=new Vh){super(i,e)}hasDefinedDomain(){let{min:i,max:e}=this;return i!=null&&e!=null&&i<e}normaliseDataDomain(i){let{min:e,max:n}=this,{extent:r,clipped:a}=BO(i,e,n);return{domain:r,clipped:a}}createDatumFormatter(i,e){let{format:n}=this.label;return typeof n=="number"?LW(e,n):void 0}tickFormatParams(i,e,n){return{type:"number",fractionDigits:n}}datumFormatParams(i,e,n){let{datum:r,seriesId:a,legendItemName:o,key:s,source:l,property:c,domain:d,boundSeries:u}=e;return{type:"number",value:i,datum:r,seriesId:a,legendItemName:o,key:s,source:l,property:c,domain:d,boundSeries:u,fractionDigits:n}}};return t.className="NumberAxis",t.type="number",t})();b([C],ou.prototype,"min",2);b([C],ou.prototype,"max",2);var yS=(()=>{let t=class extends ou{normaliseDataDomain(i){let{min:e,max:n}=this,{extent:r,clipped:a}=BO(i,e,n);return r[0]<0&&r[1]>0||i[0]<0&&i[1]>0?(z.warn("The log axis domain crosses zero, the chart data cannot be rendered. See log axis documentation for more information."),{domain:[],clipped:a}):r[0]===0||r[1]===0||i[0]===0||i[1]===0?(z.warn("The log axis domain contains a value of 0, the chart data cannot be rendered. See log axis documentation for more information."),{domain:[],clipped:a}):{domain:r,clipped:a}}set base(i){this.scale.base=i}get base(){return this.scale.base}constructor(i){super(i,new jO)}};return t.className="LogAxis",t.type="log",t})(),qf=class extends nt{constructor(){super(...arguments),this.enabled=!1,this.label=new Ui,this.tick=new Kh}};b([C],qf.prototype,"enabled",2);b([C],qf.prototype,"label",2);b([C],qf.prototype,"tick",2);var su=(()=>{let t=class extends Bv{constructor(i){super(i,new vf),this.parentLevel=new qf,this.min=void 0,this.max=void 0,this.minimumTimeGranularity=void 0}get _unit(){}set _unit(i){z.warnOnce("To use 'unit', use an axis with type 'unit-time' instead of 'time'.")}hasDefinedDomain(){let{min:i,max:e}=this;return i!=null&&e!=null&&i<e}isCategoryLike(){return!1}get primaryLabel(){return this.parentLevel.enabled?this.parentLevel.label:void 0}get primaryTick(){return this.parentLevel.enabled?this.parentLevel.tick:void 0}normaliseDataDomain(i){return UO(i,this.min,this.max)}processData(){super.processData();let{boundSeries:i,direction:e,min:n,max:r}=this;this.minimumTimeGranularity=U$(i,e,n,r)}tickFormatParams(i,e,n,r){r??(r=vO(e));let a=_O(i),o=Rl(r),s=Zd(r),l=dv(r);return{type:"date",unit:o,step:s,epoch:l,truncateDate:a}}datumFormatParams(i,e,n,r,a){if(typeof i=="number"&&(i=new Date(i)),r==null){let{minimumTimeGranularity:v}=this,x=jD(i);v!=null&&ya(v)<ya(x)?r=v:r=x}let{datum:o,seriesId:s,legendItemName:l,key:c,source:d,property:u,domain:h,boundSeries:m}=e,p=Rl(r),g=Zd(r),y=dv(r);return{type:"date",value:i,datum:o,seriesId:s,legendItemName:l,key:c,source:d,property:u,domain:h,boundSeries:m,unit:p,step:g,epoch:y,style:a}}};return t.className="TimeAxis",t.type="time",t})();b([C],su.prototype,"parentLevel",2);b([C],su.prototype,"min",2);b([C],su.prototype,"max",2);b([C,bn("_unit")],su.prototype,"unit",2);function U$(t,i,e,n){let r=t.reduce((a,o)=>Math.min(o.minTimeInterval()??1/0,a),1/0);return Number.isFinite(r)?Fv(r):H$(t,i,e,n)?.unit}function H$(t,i,e,n){let r=1/0,a=-1/0,o,s=0,l=[];for(let h of t){if(!h.visible)continue;let{domain:m}=UO(h.getDomain(i),void 0,void 0);if(m.length===0)continue;let p=m[0].valueOf(),g=m[m.length-1].valueOf();l.push(p,g),r=Math.min(r??1/0,p,g),a=Math.max(a??-1/0,p,g);let y=Math.abs(g-p);if(y===0)continue;let v=h.dataCount();if(s=Math.max(s,v),v<=1)continue;let x=y/(v-1);o=Math.min(o??1/0,x)}if(r=Math.min(r,e?.valueOf()??1/0,n?.valueOf()??1/0),a=Math.max(a,e?.valueOf()??-1/0,n?.valueOf()??-1/0),!Number.isFinite(r)||!Number.isFinite(a))return;o??(o=Math.abs(a-r)),o=Math.min(o,Epe(l));let c=Fv(o),d=o/ya(c);s<=2?d=Math.floor(d):d=Math.round(d),d=Math.max(d,1);let u=d===1?void 0:Lo(c,r);return{unit:c,step:d,epoch:u}}function Epe(t){t.sort((e,n)=>e-n);let i=1/0;for(let e=1;e<t.length;e++){let n=t[e-1],r=t[e];r-n>0&&(i=Math.min(i,Math.abs(r-n)))}return i}function UO(t,i,e){let n=!1;typeof i=="number"&&(i=new Date(i)),typeof e=="number"&&(e=new Date(e));let r=au(t)?.map(s=>new Date(s));if(r==null)return{domain:i!=null&&e!=null&&i.valueOf()<=e.valueOf()?[i,e]:[],clipped:!1};let[a,o]=r;return i instanceof Date&&(n||(n=i>a),a=i),e instanceof Date&&(n||(n=e<o),o=e),a>o?{domain:[],clipped:!1}:{domain:[a,o],clipped:n}}var G$=class extends Yf{calculateGridLine({index:t,tickId:i,translation:e},n,r,a,o){let{gridLine:s,horizontal:l,interval:c,range:d}=this;if(c.placement!=="between")return super.calculateGridLine({index:t,tickId:i,translation:e},n,r,a,o);let u=o[n-1],h=u?e-(e-u.translation)/2:d[0],[m,p,g,y]=l?[h,Math.max(r,a),h,Math.min(r,a)]:[Math.min(r,a),h,Math.max(r,a),h],{style:v}=s,{stroke:x,strokeWidth:w=0,lineDash:D}=v[t%v.length]??{};return{tickId:i,offset:h,x1:m,y1:p,x2:g,y2:y,stroke:x,strokeWidth:w,lineDash:D}}calculateGridFills(t,i,e){return this.interval.placement!=="between"?super.calculateGridFills(t,i,e):t.map((n,r)=>this.calculateGridFill(n,r,n.index,i,e,t))}calculateGridFill({tickId:t,translation:i},e,n,r,a,o){let{gridLine:s,horizontal:l,interval:c,range:d}=this;if(c.placement!=="between")return super.calculateGridFill({tickId:t,translation:i},e,n,r,a,o);let u=o[e-1],h=o[e+1],m=u?i-(i-u.translation)/2:d[0],p=h?i+(h.translation-i)/2:d[1],[g,y,v,x]=l?[m,Math.max(r,a),p,Math.min(r,a)]:[Math.min(r,a),m,Math.max(r,a),p],{fill:w,fillOpacity:D}=s.style[n%s.style.length]??{};return{tickId:t,x1:g,y1:y,x2:v,y2:x,fill:w,fillOpacity:D}}calculateTickLine({primary:t,tickId:i,translation:e},n,r,a){let{horizontal:o,interval:s,primaryTick:l,range:c,tick:d}=this;if(s.placement!=="between")return super.calculateTickLine({primary:t,tickId:i,translation:e},n,r,a);let u=t&&l?.enabled?l:d,h=-r*this.getTickSize(u),m=a[n-1],p=m?e-(e-m.translation)/2:c[0],[g,y,v,x]=o?[p,0,p,h]:[0,p,h,p],{stroke:w,width:D}=u;return{tickId:i,offset:p,x1:g,y1:y,x2:v,y2:x,stroke:w,strokeWidth:D,lineDash:void 0}}},Zf=(()=>{let t=class extends G${constructor(i){super(i,new Fd,!1),this.parentLevel=new qf,this.min=void 0,this.max=void 0,this.unit=void 0,this.defaultUnit=void 0}get primaryLabel(){return this.parentLevel.enabled?this.parentLevel.label:void 0}get primaryTick(){return this.parentLevel.enabled?this.parentLevel.tick:void 0}hasDefinedDomain(){let{min:i,max:e}=this;return i!=null&&e!=null&&i<e}isCategoryLike(){return!0}processData(){super.processData();let i,{domain:e}=this.dataDomain;if(e.length===2&&e[0].valueOf()===e[1].valueOf())i=jD(e[0]);else{let{boundSeries:n,direction:r,min:a,max:o}=this;i=H$(n,r,a,o)}Ln(this.defaultUnit,i)||(this.defaultUnit=i)}updateScale(){super.updateScale(),this.scale.interval=this.unit??this.defaultUnit}normaliseDataDomain(i){return UO(i,this.min,this.max)}createDatumFormatter(i,e){let n=this.scale.interval,{format:r}=this.label;if(r==null)return;let a=sR(n!=null?VG(r,Rl(n)):r,n);if(a!=null)return Uh(a)}tickFormatParams(i,e,n,r){r??(r=vO(e));let a=_O(i),o=Rl(r),s=Zd(r),l=dv(r);return{type:"date",unit:o,step:s,epoch:l,truncateDate:a}}datumFormatParams(i,e,n,r,a){let o=this.unit??this.defaultUnit??"millisecond";i=Lo(o,i),typeof i=="number"&&(i=new Date(i)),r??(r=o);let{datum:s,seriesId:l,legendItemName:c,key:d,source:u,property:h,domain:m,boundSeries:p}=e,g=Rl(r),y=Zd(r),v=dv(r);return{type:"date",value:i,datum:s,seriesId:l,legendItemName:c,key:d,source:u,property:h,domain:m,boundSeries:p,unit:g,step:y,epoch:v,style:a}}};return t.className="UnitTimeAxis",t.type="unit-time",t})();b([C],Zf.prototype,"parentLevel",2);b([C],Zf.prototype,"min",2);b([C],Zf.prototype,"max",2);b([C],Zf.prototype,"unit",2);var df=S(f(f({},jc),$f(j)),{type:le(Lt("number")),label:PO,crosshair:ru(!0)}),uf=S(f(f({},jc),$f(j)),{type:le(Lt("log")),base:oi(ph,Ot(t=>t!==1,"not equal to 1")),label:PO,crosshair:ru(!0)}),hf=S(f(f({},jc),$f($e(j,Eo),!0)),{type:le(Lt("time")),label:r_,parentLevel:mS,crosshair:ru(!0,!0)}),mf=S(f({},jc),{type:le(Lt("category")),label:n_,paddingInner:Me,paddingOuter:Me,groupPaddingInner:Me,crosshair:ru(),bandHighlight:a_,interval:S(f({},FO),{placement:K("on","between")})}),pf=S(f({},jc),{type:le(Lt("grouped-category")),label:n_,crosshair:ru(),bandHighlight:a_,paddingInner:Me,groupPaddingInner:Me,depthOptions:ji({label:f(f({enabled:R,avoidCollisions:R,wrapping:K("never","always","hyphenate","on-space"),truncate:R,rotation:j,spacing:j},Nt),Gr),tick:{enabled:R,stroke:se,width:O}},"depth options objects array")}),ff=S(f({},jc),{type:le(Lt("unit-time")),unit:$e(hS,i_),label:r_,parentLevel:mS,paddingInner:Me,paddingOuter:Me,groupPaddingInner:Me,crosshair:ru(!0,!0),bandHighlight:a_,min:oi($e(j,Eo),fa("max")),max:oi($e(j,Eo),ga("min")),interval:VO}),Tpe={type:"axis",name:"number",chartType:"cartesian",options:df,create:t=>new ou(t)},Rpe={type:"axis",name:"log",chartType:"cartesian",options:uf,create:t=>new yS(t)},Ope={type:"axis",name:"time",chartType:"cartesian",options:hf,create:t=>new su(t)},Lpe={type:"axis",name:"category",chartType:"cartesian",options:mf,create:t=>new Yf(t)},Npe={type:"axis",name:"grouped-category",chartType:"cartesian",options:pf,create:t=>new l_(t)},Ppe={type:"axis",name:"unit-time",chartType:"cartesian",options:ff,create:t=>new Zf(t)},gf=S(f({},jc),{type:le(Lt("ordinal-time")),paddingInner:Me,paddingOuter:Me,groupPaddingInner:Me,label:r_,parentLevel:mS,interval:VO,crosshair:ru(!0,!0),bandHighlight:a_}),W$=S(f(f({},Xh),$f(j)),{type:le(Lt("angle-number")),crossLines:ji(kl),startAngle:j,endAngle:j,label:S(f({},zc),{orientation:K("fixed","parallel","perpendicular"),format:Fs})}),Fpe={innerRadiusRatio:Me},$$=S(f(f({},Xh),Fpe),{type:le(Lt("angle-category")),shape:K("polygon","circle"),crossLines:ji(kl),startAngle:j,endAngle:j,paddingInner:Me,groupPaddingInner:Me,label:S(f({},zc),{orientation:K("fixed","parallel","perpendicular")})}),Y$=S(f(f({},Xh),$f(j)),{type:le(Lt("radius-number")),shape:K("polygon","circle"),positionAngle:j,innerRadiusRatio:Me,crossLines:ji(S(f({},kl),{label:S(f({},Gh),{positionAngle:j})}),"cross-line options"),title:f({enabled:R,text:B,spacing:O,formatter:zt},Nt),label:S(f({},zc),{format:Fs})}),K$=S(f({},Xh),{type:le(Lt("radius-category")),positionAngle:j,innerRadiusRatio:Me,paddingInner:Me,paddingOuter:Me,groupPaddingInner:Me,label:zc,crossLines:ji(S(f({},kl),{label:S(f({},Gh),{positionAngle:j})}),"cross-line options"),title:f({enabled:R,text:B,spacing:O,formatter:zt},Nt)}),q$=fi(ti,ti),Z$=S(f(f(f(f({showInMiniChart:R,connectMissingData:R,interpolation:cS,label:gi,marker:Bc,tooltip:ei,shadow:Fl},$t),ce),Z),_e),{highlight:q$}),Q$=S(f(f({},Z$),Vs),{highlight:q$,type:le(Lt("area")),xKey:le(B),yKey:le(B),xName:B,yName:B,stacked:R,stackGroup:B,normalizedTo:j}),X$=fi(To,To),HO=f(f(f(S(f({direction:K("horizontal","vertical"),showInMiniChart:R,cornerRadius:O,itemStyler:si(S(f(f(f({},ce),Z),_e),{cornerRadius:O})),crisp:R,label:S(f({},gi),{placement:K("inside-center","inside-start","inside-end","outside-start","outside-end"),spacing:O}),errorBar:e_,shadow:Fl,tooltip:ei},$t),{highlight:X$}),ce),Z),_e);HO.sparklineMode=ze(R);var vS=S(f(f({},HO),Vs),{highlight:X$,type:le(Lt("bar")),xKey:le(B),yKey:le(B),xName:B,yName:B,direction:K("horizontal","vertical"),grouped:R,stacked:R,stackGroup:B,normalizedTo:j,legendItemName:B,errorBar:lS});vS.pickOutsideVisibleMinorAxis=ze(R);vS.focusPriority=ze(j);var J$=S(f(f({title:B,domain:Le(j),maxSize:O,showInMiniChart:R,label:f({placement:K("top","right","bottom","left")},gi),tooltip:ei,maxRenderedItems:j},$t),ue(Bc,["enabled"])),{highlight:fi(ti,ti)}),Vpe=S(f(f({},J$),Vs),{type:le(Lt("bubble")),xKey:le(B),yKey:le(B),sizeKey:le(B),labelKey:B,xName:B,yName:B,sizeName:B,labelName:B,highlight:fi(ti,ti)}),e6=S(f(f(f(f({showInMiniChart:R,cornerRadius:O,label:gi,tooltip:ei,shadow:Fl},$t),ce),Z),_e),{highlight:fi(ti,ti)}),Bpe=S(f(f({},Vs),e6),{type:le(Lt("histogram")),xKey:le(B),yKey:B,xName:B,yName:B,areaPlot:R,aggregation:K("count","sum","mean"),bins:Le(Le(j)),binCount:O}),t6=fi(ti,pc),GO=S(f(f(f({title:B,showInMiniChart:R,connectMissingData:R,interpolation:cS,label:gi,marker:Bc,tooltip:ei,errorBar:e_},$t),Z),_e),{highlight:t6});GO.sparklineMode=ze(R);var _S=S(f(f({},GO),Vs),{highlight:t6,type:le(Lt("line")),xKey:le(B),yKey:le(B),xName:B,yName:B,stacked:R,stackGroup:B,normalizedTo:j,legendItemName:B,errorBar:lS});_S.pickOutsideVisibleMinorAxis=ze(R);_S.focusPriority=ze(j);var i6=S(f(f({title:B,showInMiniChart:R,label:f({placement:K("top","right","bottom","left")},gi),tooltip:ei,errorBar:e_,maxRenderedItems:j},$t),ue(Bc,["enabled"])),{highlight:fi(ti,ti)}),zpe=S(f(f({},i6),Vs),{type:le(Lt("scatter")),xKey:le(B),yKey:le(B),labelKey:B,xName:B,yName:B,labelName:B,errorBar:lS,highlight:fi(ti,ti)}),n6=fi(ti,ti),WO=f(f(f(S(f({},$t),{radiusMin:O,radiusMax:O,rotation:j,outerRadiusOffset:j,outerRadiusRatio:Me,hideZeroValueSectorsInLegend:R,sectorSpacing:O,cornerRadius:O,itemStyler:si(S(f(f(f({},ce),Z),_e),{cornerRadius:O})),title:f({enabled:R,text:B,showInLegend:R,spacing:O},Nt),calloutLabel:f(f({enabled:R,offset:j,minAngle:O,avoidCollisions:R,formatter:zt,format:B,itemStyler:si(f(f({enabled:R},Gr),Nt))},Gr),Nt),sectorLabel:f(f({enabled:R,positionOffset:j,positionRatio:Me,formatter:zt,format:B,itemStyler:si(f(f({enabled:R},Gr),Nt))},Gr),Nt),calloutLine:{colors:Le(se),length:O,strokeWidth:O},fills:Le(Hr),strokes:Le(se),tooltip:ei,shadow:Fl,highlight:n6}),_e),ue(ce,["fill"])),ue(Z,["stroke"])),Jh=S(f(f({},WO),Vs),{type:le(Lt("pie")),angleKey:le(B),radiusKey:B,calloutLabelKey:B,sectorLabelKey:B,legendItemKey:B,angleName:B,radiusName:B,calloutLabelName:B,sectorLabelName:B,highlight:n6});Jh.defaultColorRange=ze(Le(Le(se)));Jh.defaultPatternFills=ze(Le(se));Jh.title._enabledFromTheme=ze(R);Jh.calloutLabel._enabledFromTheme=ze(R);Jh.sectorLabel._enabledFromTheme=ze(R);var r6=S(f({},WO),{innerRadiusOffset:j,innerRadiusRatio:Me,innerCircle:{fill:B,fillOpacity:Me},innerLabels:f(f({spacing:O},Nt),Gr)}),jpe=S(f(f({},r6),Jh),{type:le(Lt("donut")),innerLabels:ji(f(f({text:le(B),spacing:O},Nt),Gr),"inner label options array")}),Qf=f({lineStyle:K("solid","dashed","dotted")},_e),em=f(f(f({},ce),Z),_e),c_=f({visible:R,locked:R,handle:em},Nt),xS=f({position:K("top","center","bottom"),alignment:K("left","center","right")},Nt),a6=f({position:K("top","inside","bottom"),alignment:K("left","center","right")},Nt),Upe=f(f(f(f({enabled:R,cornerRadius:O,formatter:zt},Nt),ce),Z),_e),Hpe=f(f({visible:R},Qf),Z),o6=f(f(f({divider:Z},ce),Z),Nt),JH=f(f(f({handle:em,statistics:o6},Qf),ce),Z),dD=f(f({visible:R,locked:R,extendStart:R,extendEnd:R,handle:em,text:xS},Qf),Z),xR=f(f({visible:R,locked:R,axisLabel:Upe,handle:em,text:xS},Qf),Z),$O=f(f({visible:R,locked:R,extendStart:R,extendEnd:R,handle:em,text:a6,background:ce},Qf),Z),s6=f({},$O),l6=S(f({},$O),{middle:Hpe}),CR=f({label:Nt,showFill:R,isMultiColor:R,strokes:Le(se),rangeStroke:se,bands:K(4,6,10)},dD),c6=f(f(f({},ce),Z),c_),d6=f(f(f({},ce),Z),c_),u6=S(f(f(f({},ce),Z),c_),{background:f(f({},ce),Z)}),wR=f({visible:R,locked:R,handle:em},ce),Fw=f(f({visible:R,locked:R,extendStart:R,extendEnd:R,handle:em,text:xS,background:ce,statistics:o6},Qf),Z),h6={visible:R,up:JH,down:JH},Xf={enabled:R,axesButtons:{enabled:R,axes:K("x","y","xy")},toolbar:{enabled:R,padding:O,buttons:ji(S(f({},Lh),{value:K("line-menu","fibonacci-menu","text-menu","shape-menu","measurer-menu","line","horizontal-line","vertical-line","parallel-channel","disjoint-channel","fibonacci-retracement","fibonacci-retracement-trend-based","text","comment","callout","note","clear")}),"annotation toolbar buttons array")},optionsToolbar:{enabled:R,buttons:Le($e(zi(S(f({},Lh),{value:le(K("line-stroke-width","line-style-type","line-color","fill-color","text-color","text-size","delete","settings"))})),zi(S(f({},Lh),{value:le(K("lock")),checkedOverrides:Lh}))))}};Xf.data=ze(pa);Xf.xKey=ze(B);Xf.volumeKey=ze(B);Xf.snap=ze(R);var YO=S(f(f(f({},ce),Z),_e),{cornerRadius:O,whisker:f(f({},Z),_e),cap:{lengthRatio:Me}}),DR=S(f({},YO),{opacity:Me}),m6=S(f(f({direction:K("horizontal","vertical"),showInMiniChart:R,itemStyler:si(S(f(f(f({},ce),Z),_e),{cornerRadius:O,whisker:f(f({},Z),_e),cap:{lengthRatio:Me}})),tooltip:ei},$t),YO),{highlight:fi(DR,DR)}),SR=f(f(f({cornerRadius:O,wick:f(f({},Z),_e)},ce),Z),_e),e5=S(f({},SR),{opacity:Me}),p6=S(f({item:{up:SR,down:SR},itemStyler:si(S(f(f(f({},ce),Z),_e),{cornerRadius:O,wick:f(f({},Z),_e)})),showInMiniChart:R,tooltip:ei},$t),{highlight:fi(e5,e5)}),f6=f({fills:Le(Hr),strokes:Le(se),label:f({spacing:O,maxWidth:O},gi),link:f(f(f({tension:Me,itemStyler:si(S(f(f(f({},ce),Z),_e),{tension:Me}))},ce),Z),_e),node:f(f(f({width:O,spacing:O,itemStyler:si(f(f(f({},ce),Z),_e))},ce),Z),_e),tooltip:ei},$t),g6=S(f(f(f(f({direction:K("horizontal","vertical"),fills:Le(Hr),strokes:Le(se),label:f({spacing:O,placement:K("before","middle","after")},gi),stageLabel:f({placement:K("before","after"),format:Fs},zc),tooltip:ei},ue($t,["showInLegend"])),ue(ce,["fill"])),ue(Z,["stroke"])),_e),{highlight:lw(pc)}),b6=f(f(f(f({direction:K("horizontal","vertical"),fills:Le(Hr),strokes:Le(se),itemStyler:si(f(f(f({},ce),Z),_e)),spacingRatio:Me,crisp:R,dropOff:f(f(f({enabled:R},ce),Z),_e),stageLabel:f({placement:K("before","after"),format:Fs},zc),label:gi,tooltip:ei,shadow:Fl},ue($t,["showInLegend"])),ue(ce,["fill"])),ue(Z,["stroke"])),_e),y6=f(f({title:B,textAlign:K("left","center","right"),verticalAlign:K("top","middle","bottom"),itemPadding:O,itemStyler:si(f(f({},ce),Z)),showInMiniChart:R,label:Qd,tooltip:ei},$t),Z),v6=S(f({showInMiniChart:R,itemStyler:si(f(f({},Z),_e)),item:{up:f(f({},Z),_e),down:f(f({},Z),_e)},tooltip:ei},$t),{highlight:fi(pc,pc)}),_6=S(f(f(f({maxStrokeWidth:O,itemStyler:si(f(f({},Z),_e)),sizeDomain:Le(O),label:gi,tooltip:ei},$t),Z),_e),{highlightStyle:f(f({},$t.highlightStyle),Z),highlight:fi(pc,pc)}),x6=f(f({},Z),_e),C6=S(f(f({colorRange:Le(se),maxSize:O,sizeDomain:Le(O),label:f({placement:K("top","bottom","left","right")},gi),tooltip:ei},$t),ue(Bc,["enabled"])),{highlightStyle:f(f(f({},$t.highlightStyle),ce),Z),highlight:fi(ti,ti)}),w6=S(f(f(f(f({colorRange:Le(se),padding:O,itemStyler:si(f(f(f({},ce),Z),_e)),label:Qd,tooltip:ei},$t),ce),Z),_e),{highlightStyle:f(f(f({},$t.highlightStyle),ce),Z),highlight:fi(ti,ti)}),D6=f(f(f(f({},$t),ce),Z),_e),S6=S(f(f(f(f({cornerRadius:O,itemStyler:si(S(f(f(f({},ce),Z),_e),{cornerRadius:O})),label:gi,tooltip:ei},$t),ce),Z),_e),{highlight:fi(To,To)}),M6=f(f(f(f({direction:K("horizontal","vertical"),aspectRatio:O,spacing:O,reverse:R,itemStyler:si(f(f(f({},ce),Z),_e)),fills:Le(Hr),strokes:Le(se),label:gi,stageLabel:f({spacing:O,placement:K("before","after")},gi),tooltip:ei,shadow:Fl},$t),ue(ce,["fill"])),ue(Z,["stroke"])),_e),I6=S(f(f(f(f({connectMissingData:R,marker:Bc,label:gi,tooltip:ei},$t),ce),Z),_e),{highlight:fi(ti,ti)}),k6=S(f(f(f({connectMissingData:R,marker:Bc,label:gi,tooltip:ei},$t),Z),_e),{highlight:fi(ti,pc)}),A6=S(f(f(f(f({cornerRadius:O,itemStyler:si(S(f(f(f({},ce),Z),_e),{cornerRadius:O})),label:gi,tooltip:ei},$t),ce),Z),_e),{highlight:fi(To,To)}),E6=S(f(f(f(f({cornerRadius:O,columnWidthRatio:Me,maxColumnWidthRatio:Me,itemStyler:si(S(f(f(f({},ce),Z),_e),{cornerRadius:O})),label:gi,tooltip:ei},$t),ce),Z),_e),{highlight:fi(To,To)}),T6=S(f(f(f(f({showInMiniChart:R,connectMissingData:R,interpolation:cS,label:S(f({},gi),{placement:K("inside","outside"),spacing:O}),marker:Bc,tooltip:ei,shadow:Fl},$t),ce),Z),_e),{highlight:fi(ti,ti)}),R6=S(f(f(f(f({direction:K("horizontal","vertical"),grouped:R,showInMiniChart:R,cornerRadius:O,itemStyler:si(S(f(f(f({},ce),Z),_e),{cornerRadius:O})),label:S(f({},gi),{placement:K("inside","outside"),spacing:O}),tooltip:ei,shadow:Fl},$t),ce),Z),_e),{highlight:fi(To,To)}),O6=f({fills:Le(Hr),strokes:Le(se),label:S(f({},gi),{spacing:O}),link:f(f(f({itemStyler:si(f(f(f({},ce),Z),_e))},ce),Z),_e),node:f(f(f({width:O,spacing:O,alignment:K("left","center","right","justify"),itemStyler:si(f(f(f({},ce),Z),_e))},ce),Z),_e),tooltip:ei},$t),L6=S(f(f(f({fills:Le(Hr),strokes:Le(se),colorRange:Le(se),sectorSpacing:O,cornerRadius:O,padding:O,itemStyler:si(f(f({},ce),Z)),label:f({spacing:O},Qd),secondaryLabel:Qd,tooltip:ei},ue($t,["highlight","showInLegend"])),ue(ce,["fill"])),ue(Z,["stroke"])),{highlightStyle:f(f({label:{color:se},secondaryLabel:{color:se}},ce),Z)}),N6=S(f({fills:Le(Hr),strokes:Le(se),colorRange:Le(se),itemStyler:si(f(f({},ce),Z)),group:f(f({gap:O,padding:O,cornerRadius:O,textAlign:K("left","center","right"),interactive:R,label:S(f({},gi),{spacing:O})},ce),Z),tile:f(f({gap:O,padding:O,cornerRadius:O,textAlign:K("left","center","right"),verticalAlign:K("top","middle","bottom"),label:S(f({},gi),{spacing:O,lineHeight:O,minimumFontSize:O,wrapping:K("never","always","hyphenate","on-space"),overflowStrategy:K("ellipsis","hide")}),secondaryLabel:S(f({},gi),{lineHeight:O,minimumFontSize:O,wrapping:K("never","always","hyphenate","on-space"),overflowStrategy:K("ellipsis","hide")})},ce),Z),tooltip:ei},ue($t,["highlight","showInLegend"])),{highlightStyle:{group:f(f({label:{color:se}},ce),Z),tile:f(f({label:{color:se},secondaryLabel:{color:se}},ce),Z)}}),k1=f(f(f({name:B,cornerRadius:O,itemStyler:si(S(f(f(f({},ce),Z),_e),{cornerRadius:O})),label:S(f({},gi),{placement:K("inside-start","inside-center","inside-end","outside-start","outside-end"),spacing:O}),tooltip:ei,shadow:Fl},ce),Z),_e),P6=f({direction:K("horizontal","vertical"),showInMiniChart:R,item:{positive:k1,negative:k1,total:k1},line:f(f({enabled:R},Z),_e),tooltip:ei},$t),xw=zi({__type:le(Lt("date")),value:$e(B,j)},"a serializable date object"),t5={width:O,height:O,grip:R,fill:se,stroke:se,strokeWidth:O,cornerRadius:O},ii={enabled:R,height:O,spacing:O,cornerRadius:j,mask:{fill:se,fillOpacity:Me,stroke:se,strokeWidth:O},minHandle:t5,maxHandle:t5,miniChart:{enabled:R,padding:{top:O,bottom:O},label:f({enabled:R,avoidCollisions:R,spacing:O,format:Fs,formatter:zt,interval:{minSpacing:O,maxSpacing:O,values:pa,step:j}},Nt),series:Be}},$r={number:S(f({},ue(df,["type","crossLines"])),{top:ue(df,["type","crossLines","position"]),right:ue(df,["type","crossLines","position"]),bottom:ue(df,["type","crossLines","position"]),left:ue(df,["type","crossLines","position"]),crossLines:ue(_c,["type"])}),log:S(f({},ue(uf,["type","crossLines"])),{top:ue(uf,["type","crossLines","position"]),right:ue(uf,["type","crossLines","position"]),bottom:ue(uf,["type","crossLines","position"]),left:ue(uf,["type","crossLines","position"]),crossLines:ue(_c,["type"])}),category:S(f({},ue(mf,["type","crossLines"])),{top:ue(mf,["type","crossLines","position"]),right:ue(mf,["type","crossLines","position"]),bottom:ue(mf,["type","crossLines","position"]),left:ue(mf,["type","crossLines","position"]),crossLines:ue(_c,["type"])}),time:S(f({},ue(hf,["type","crossLines"])),{top:ue(hf,["type","crossLines","position"]),right:ue(hf,["type","crossLines","position"]),bottom:ue(hf,["type","crossLines","position"]),left:ue(hf,["type","crossLines","position"]),crossLines:ue(_c,["type"])}),"unit-time":S(f({},ue(ff,["type","crossLines"])),{top:ue(ff,["type","crossLines","position"]),right:ue(ff,["type","crossLines","position"]),bottom:ue(ff,["type","crossLines","position"]),left:ue(ff,["type","crossLines","position"]),crossLines:ue(_c,["type"])}),"grouped-category":S(f({},ue(pf,["type"])),{top:ue(pf,["type","position"]),right:ue(pf,["type","position"]),bottom:ue(pf,["type","position"]),left:ue(pf,["type","position"]),crossLines:ue(_c,["type"])}),"ordinal-time":S(f({},ue(gf,["type","crossLines"])),{top:ue(gf,["type","crossLines","position"]),right:ue(gf,["type","crossLines","position"]),bottom:ue(gf,["type","crossLines","position"]),left:ue(gf,["type","crossLines","position"]),crossLines:ue(_c,["type"])})},rf={"angle-category":S(f({},ue($$,["type","crossLines"])),{crossLines:ue(kl,["type"])}),"angle-number":S(f({},ue(W$,["type","crossLines"])),{crossLines:ue(kl,["type"])}),"radius-category":S(f({},ue(K$,["type","crossLines"])),{crossLines:S(f({},ue(kl,["type"])),{label:S(f({},Gh),{positionAngle:j})})}),"radius-number":S(f({},ue(Y$,["type","crossLines"])),{crossLines:S(f({},ue(kl,["type"])),{label:S(f({},Gh),{positionAngle:j})})})},li={visible:R},Gpe={common:S(f({},at),{navigator:ii,axes:f(f({},$r),rf),annotations:S(f({},Xf),{line:dD,"horizontal-line":xR,"vertical-line":xR,"disjoint-channel":s6,"parallel-channel":l6,"fibonacci-retracement":CR,"fibonacci-retracement-trend-based":CR,callout:c6,comment:d6,note:u6,text:c_,arrow:dD,"arrow-up":wR,"arrow-down":wR,"date-range":Fw,"price-range":Fw,"date-price-range":Fw,"quick-date-price-range":h6}),chartToolbar:{enabled:R},initialState:{legend:ji({visible:R,seriesId:B,itemId:B,legendItemName:B},"legend state array"),zoom:{rangeX:{start:$e(j,xw),end:$e(j,xw)},rangeY:{start:$e(j,xw),end:$e(j,xw)},ratioX:{start:Me,end:Me},ratioY:{start:Me,end:Me},autoScaledAxes:Le(Lt("y"))}}}),line:f(S(f({},at),{axes:$r,series:GO,navigator:ii}),li),scatter:f(S(f({},at),{axes:$r,series:i6,navigator:ii}),li),bubble:f(S(f({},at),{axes:$r,series:J$,navigator:ii}),li),area:f(S(f({},at),{axes:$r,series:Z$,navigator:ii}),li),bar:f(S(f({},at),{axes:$r,series:HO,navigator:ii}),li),"box-plot":f(S(f({},at),{axes:$r,series:m6,navigator:ii}),li),candlestick:f(S(f({},at),{axes:$r,series:p6,navigator:ii}),li),"cone-funnel":f(S(f({},at),{axes:$r,series:g6,navigator:ii}),li),funnel:f(S(f({},at),{axes:$r,series:b6,navigator:ii}),li),ohlc:f(S(f({},at),{axes:$r,series:v6,navigator:ii}),li),histogram:f(S(f({},at),{axes:ue($r,["category","grouped-category","unit-time","ordinal-time"]),series:e6,navigator:ii}),li),heatmap:f(S(f({},at),{axes:$r,series:y6,navigator:ii}),li),waterfall:f(S(f({},at),{axes:$r,series:P6,navigator:ii}),li),"range-bar":f(S(f({},at),{axes:$r,series:R6,navigator:ii}),li),"range-area":f(S(f({},at),{axes:$r,series:T6,navigator:ii}),li),donut:f(S(f({},at),{series:r6,navigator:ii}),li),pie:f(S(f({},at),{series:WO,navigator:ii}),li),"radar-line":f(S(f({},at),{axes:rf,series:k6,navigator:ii}),li),"radar-area":f(S(f({},at),{axes:rf,series:I6,navigator:ii}),li),"radial-bar":f(S(f({},at),{axes:rf,series:A6,navigator:ii}),li),"radial-column":f(S(f({},at),{axes:rf,series:E6,navigator:ii}),li),nightingale:f(S(f({},at),{axes:rf,series:S6,navigator:ii}),li),sunburst:f(S(f({},at),{series:L6,navigator:ii}),li),treemap:f(S(f({},at),{series:N6,navigator:ii}),li),"map-shape":f(S(f({},at),{series:w6,navigator:ii}),li),"map-line":f(S(f({},at),{series:_6,navigator:ii}),li),"map-marker":f(S(f({},at),{series:C6,navigator:ii}),li),"map-shape-background":f(S(f({},at),{series:D6,navigator:ii}),li),"map-line-background":f(S(f({},at),{series:x6,navigator:ii}),li),sankey:f(S(f({},at),{series:O6,navigator:ii}),li),chord:f(S(f({},at),{series:f6,navigator:ii}),li),pyramid:f(S(f({},at),{series:M6,navigator:ii}),li),"radial-gauge":S(f(f({},at),lD),{targets:ue(uS,["value"]),tooltip:f(f({},lD.tooltip),at.tooltip)}),"linear-gauge":S(f(f({},at),sD),{targets:ue(dS,["value"]),tooltip:f(f({},sD.tooltip),at.tooltip)})};function Cw(t,i){let e={};for(let n of Reflect.ownKeys(t))e[n]=i(t[n],n,t);return e}var Wpe=Cw(Gpe,function t(i,e){if(Hp(e))return i;if(vs(i))return $e(i,Wp,Hp);if(qt(i))return $e(zi(Sy in i?Cw(i,n=>qt(n)?Cw(n,t):n):Cw(i,t)),Wp,Hp);throw new Error(`Invalid theme override value: ${String(i)}`)}),Sr={BLUE:"#0083ff",ORANGE:"#ff6600",GREEN:"#00af00",CYAN:"#00ccff",YELLOW:"#f7c700",VIOLET:"#ac26ff",GRAY:"#a7a7b7",MAGENTA:"#e800c5",BROWN:"#b54300",RED:"#ff0000"},Mh={BLUE:"#67b7ff",ORANGE:"#ffc24d",GREEN:"#5cc86f",CYAN:"#54ebff",VIOLET:"#fff653",YELLOW:"#c18aff",GRAY:"#aeaeae",MAGENTA:"#f078d4",BROWN:"#ba8438",RED:"#ff726e"},$pe=class extends Wf{getDefaultColors(){return{fills:Sr,fillsFallback:Object.values(Sr),strokes:Mh,sequentialColors:ho(Sr),divergingColors:[Sr.ORANGE,Sr.YELLOW,Sr.GREEN],hierarchyColors:[],secondSequentialColors:["#0083ff","#0076e6","#0069cc","#005cb3","#004f99","#004280","#003466","#00274c"],secondDivergingColors:[Sr.GREEN,Sr.YELLOW,Sr.RED],secondHierarchyColors:[],up:{fill:Sr.GREEN,stroke:Mh.GREEN},down:{fill:Sr.RED,stroke:Mh.RED},neutral:{fill:Sr.GRAY,stroke:Mh.GRAY},altUp:{fill:Sr.BLUE,stroke:Mh.BLUE},altDown:{fill:Sr.ORANGE,stroke:Mh.ORANGE},altNeutral:{fill:Sr.GRAY,stroke:Mh.GRAY}}}getTemplateParameters(){let t=super.getTemplateParameters();return t.set(rn,Sr.BLUE),t.set(Rn,Sr.BLUE),t}},Mr={BLUE:"#0083ff",ORANGE:"#ff6600",GREEN:"#00af00",CYAN:"#00ccff",YELLOW:"#f7c700",VIOLET:"#ac26ff",GRAY:"#a7a7b7",MAGENTA:"#e800c5",BROWN:"#b54300",RED:"#ff0000"},Ih={BLUE:"#0f68c0",ORANGE:"#d47100",GREEN:"#007922",CYAN:"#009ac2",VIOLET:"#bca400",YELLOW:"#753cac",GRAY:"#646464",MAGENTA:"#9b2685",BROWN:"#6c3b00",RED:"#cb0021"},Ype=class extends Ns{getDefaultColors(){return S(f({},super.getDefaultColors()),{fills:Mr,fillsFallback:Object.values(Mr),strokes:Ih,sequentialColors:ho(Mr),divergingColors:[Mr.ORANGE,Mr.YELLOW,Mr.GREEN],hierarchyColors:[],secondSequentialColors:["#0083ff","#1a8fff","#339cff","#4da8ff","#66b5ff","#80c1ff","#99cdff","#b3daff"],secondDivergingColors:[Mr.GREEN,Mr.YELLOW,Mr.RED],secondHierarchyColors:[],up:{fill:Mr.GREEN,stroke:Ih.GREEN},down:{fill:Mr.RED,stroke:Ih.RED},neutral:{fill:Mr.GRAY,stroke:Ih.GRAY},altUp:{fill:Mr.BLUE,stroke:Ih.BLUE},altDown:{fill:Mr.ORANGE,stroke:Ih.ORANGE},altNeutral:{fill:Mr.GRAY,stroke:Ih.GRAY}})}getTemplateParameters(){let t=super.getTemplateParameters();return t.set(rn,Mr.BLUE),t.set(Rn,Mr.BLUE),t}},MR=Ar(()=>new Ns),Kpe=yt.create(!0,"perf"),Ss=(t,i,e)=>{Kpe("[CACHE] ChartTheme",t,i.name,e)},KO={"ag-default-dark":Ar(()=>new Wf),"ag-sheets-dark":Ar(()=>new Jme,Ss),"ag-polychroma-dark":Ar(()=>new Qme,Ss),"ag-vivid-dark":Ar(()=>new $pe,Ss),"ag-material-dark":Ar(()=>new qme,Ss),"ag-financial-dark":Ar(()=>new Yme,Ss),"ag-default":MR,"ag-sheets":Ar(()=>new epe,Ss),"ag-polychroma":Ar(()=>new Xme,Ss),"ag-vivid":Ar(()=>new Ype,Ss),"ag-material":Ar(()=>new Zme,Ss),"ag-financial":Ar(()=>new Kme,Ss)},uD=Ar(qpe,Ss);function qpe(t){if(t instanceof Ns)return t;if(!Jpe(t))return MR();if(t==null||typeof t=="string"){let r=KO[t??"ag-default"];if(r)return r();throw new Error(`Cannot find theme \`${t}\`.`)}let{cleared:i,invalid:e}=mn(Zpe(t),Qpe,"theme");for(let r of e)z.warnOnce(String(r));let n=i?.baseTheme?uD(i.baseTheme):MR();return i?new n.constructor(i):n}function Zpe(t){if(!qt(t)||!qt(t.baseTheme))return t;let i=t,e,n,r=[];for(;typeof i=="object";)e??(e=i.palette),n??(n=i.params),i.overrides&&r.push(i.overrides),i=i.baseTheme;return{baseTheme:i,overrides:Jt(...r),params:n,palette:e}}var Qpe={baseTheme:$e(B,mh),overrides:Wpe,params:{accentColor:se,axisColor:se,backgroundColor:se,borderColor:se,borderRadius:j,chartBackgroundColor:se,chartPadding:j,focusShadow:B,foregroundColor:se,fontFamily:cw,fontSize:j,fontWeight:$e(B,j),gridLineColor:se,popupShadow:B,subtleTextColor:se,textColor:se,chromeBackgroundColor:se,chromeFontFamily:cw,chromeFontSize:j,chromeFontWeight:$e(B,j),chromeSubtleTextColor:se,chromeTextColor:se,buttonBackgroundColor:se,buttonBorder:R,buttonFontWeight:j,buttonTextColor:se,inputBackgroundColor:se,inputBorder:R,inputTextColor:se,menuBackgroundColor:se,menuBorder:R,menuTextColor:se,panelBackgroundColor:se,panelSubtleTextColor:se,tooltipBackgroundColor:se,tooltipBorder:R,tooltipTextColor:se,tooltipSubtleTextColor:se,crosshairLabelBackgroundColor:se,crosshairLabelTextColor:se},palette:{fills:Le(Hr),strokes:Le(se),up:{fill:$e(se,sw),stroke:se},down:{fill:$e(se,sw),stroke:se},neutral:{fill:$e(se,sw),stroke:se}}},Xpe=K("ag-default","ag-default-dark","ag-sheets","ag-sheets-dark","ag-polychroma","ag-polychroma-dark","ag-vivid","ag-vivid-dark","ag-material","ag-material-dark","ag-financial","ag-financial-dark");function Jpe(t){let{invalid:i}=mn({theme:t},{theme:$e(Xpe,mh)});for(let e of i)z.warnOnce(String(e));return i.length===0}var Yd={isEnterprise:!1},Qn="path",Ds="pathArray",Zn="default",Ms="override",bf="user",Py="operation",Fy="operationValue",qO="dependency",A1="autoEnable",i5="autoEnableValue";function ZO(t){return uh(t)&&t>=0&&t<=1}function Vy(t,i){let e=t;for(let n of i){if(!(typeof n=="string"&&e!=null&&(typeof e=="object"||Array.isArray(e))&&n in e))return!1;e=e[n]}return!0}function ks(t,i){let e=t;for(let n of i){if(!(typeof n=="string"&&e!=null&&(typeof e=="object"||Array.isArray(e))&&n in e))return;e=e[n]}return e}function E1(t,i,e){let n=i.length;if(n===0)return;let r=t,a=n-1,o=i[a];for(let s=0;s<a;s++){let l=i[s],c=i[s+1],d=r[l];(d==null||!dh(d))&&(d=isNaN(Number(c))?{}:[],r[l]=d),r=d}r[o]=e}var efe=/^\d+$/;function F6(t){for(let i=t.length-1;i>=0;i--){let e=t[i];if(efe.test(e))return i}return-1}function bv(t){let i=F6(t);return Number(t[i])}function tm(t,i,e){let n=i.split("/"),r=[...t];i.startsWith("/")&&(r=[],n.shift());let a=!1;for(let o of n){if(o==="..")r.pop(),a||r.pop();else if(o===".")r.pop();else if(o==="$index"){let s=bv(t);if(isNaN(s))return Ll;r.push(`${s}`)}else if(o==="$prevIndex"){let s=bv(t);if(isNaN(s)||Number(s)<=0)return Ll;r.push(`${Number(s)-1}`)}else if(o.startsWith("$")){let s=e?.[o.slice(1)];if(s==null)return Ll;r.push(s)}else o.length!==0&&r.push(o);a=o===".."}return r}var Ll=Symbol("unresolvable-path"),Jd=Symbol("resolved-to-branch");function Df(t,i){if(t==null||typeof t!="object"||Array.isArray(t)||(i??(i=Object.keys(t)),i.length===0))return;let e=i[0];if(B6.has(e))return{operation:e,values:Array.isArray(t[e])?t[e]:[t[e]]}}function tfe(t,i,e){let n=Df(t.getVertexValue(e));switch(n?.operation){case"$path":{let[r]=n.values,a=t.getPathArray(i),o=tm(a,r);return o===Ll?void 0:t.findVertexAtPath(o)}case"$value":return i}}var ife={$hasSeriesType:{dependencies:T1,resolve:nfe},$isChartType:{dependencies:T1,resolve:afe},$isSeriesType:{dependencies:T1,resolve:rfe}};function T1(t,i,e){let n=t.findVertexAtPath(["series","0","type"]);n&&t.addEdge(i,n,qO)}function nfe(t,i,e){let[n]=e,r=t.resolveVertexValue(i,n),a=t.getResolvedPath(["series"]);if(!Array.isArray(a))return!1;for(let o of a)if(o.type===r)return!0;return!1}function rfe(t,i,e){let[n]=e,r=t.resolveVertexValue(i,n);return t.getResolvedPath(["series","0","type"])===r}function afe(t,i,e){let[n]=e,r=t.resolveVertexValue(i,n),a=t.getResolvedPath(["series","0","type"]);if(typeof a!="string")return!1;switch(r){case"cartesian":return Jn.isCartesian(a);case"polar":return Jn.isPolar(a);case"standalone":return Jn.isStandalone(a)}return!1}var ofe={$foregroundBackgroundMix:sfe,$foregroundOpacity:lfe,$interpolate:cfe,$isGradient:dfe,$isImage:ufe,$isPattern:hfe,$mix:mfe};function sfe(t,i,e){let[n]=e,r=t.resolveVertexValue(i,n),a=t.getParamValue("foregroundColor"),o=t.getParamValue("backgroundColor");if(typeof a=="string"&&typeof o=="string"&&ZO(r))return wi.mix(wi.fromString(a),wi.fromString(o),1-r).toString();yt.inDevelopmentMode(()=>z.warnOnce(`\`$foregroundBackgroundMix\` json operation failed on [${String(r)}}}] at [${t.getPathArray(i).join(".")}], expecting a number between 0 and 1.`))}function lfe(t,i,e){let[n]=e,r=t.resolveVertexValue(i,n),a=t.getParamValue("foregroundColor");if(typeof a=="string"&&ZO(r)){let o=wi.fromString(a);return new wi(o.r,o.g,o.b,r).toString()}yt.inDevelopmentMode(()=>z.warnOnce(`\`$foregroundOpacity\` json operation failed on [${String(r)}}}] at [${t.getPathArray(i).join(".")}], expecting a number between 0 and 1.`))}function cfe(t,i,e){let[n,r]=e,a=t.resolveVertexValue(i,n),o=t.resolveVertexValue(i,r);if(!(!Xe(a)||!uh(o)))return wi.interpolate(a.map(s=>wi.fromString(s)),o).map(s=>s.toString())}function dfe(t,i,e){let[n]=e,r=t.resolveVertexValue(i,n);return Os(r)}function ufe(t,i,e){let[n]=e,r=t.resolveVertexValue(i,n);return jh(r)}function hfe(t,i,e){let[n]=e,r=t.resolveVertexValue(i,n);return qd(r)}function mfe(t,i,e){let[n,r,a]=e,o=t.resolveVertexValue(i,n),s=t.resolveVertexValue(i,r),l=t.resolveVertexValue(i,a),c=t.getPathArray(i),d=`\`$mix\` json operation failed on [${String(o)}, ${String(s)}, ${String(l)}] at [${c.join(".")}], expecting`,u=`${d} two colors and a number between 0 and 1.`;if(typeof s!="string"||!ZO(l)){yt.inDevelopmentMode(()=>z.warnOnce(u));return}if(typeof o=="string")try{return wi.mix(wi.fromString(o),wi.fromString(s),l).toString()}catch{yt.inDevelopmentMode(()=>z.warnOnce(u));return}if(!Os(o)){yt.inDevelopmentMode(()=>z.warnOnce(u));return}let h=o.colorStops;try{h=h?.map(m=>{let p;return typeof m.color=="string"&&(p=wi.mix(wi.fromString(m.color),wi.fromString(s),l).toString()),S(f({},m),{color:p})})}catch{yt.inDevelopmentMode(()=>z.warnOnce(`${d} a gradient, a color and a number between 0 and 1.`));return}return S(f({},o),{colorStops:h})}var pfe={$rem:ffe};function ffe(t,i,e){let[n]=e,r=t.getVertexValue(n),a=t.getParamValue("fontSize");if(typeof a=="number"&&typeof r=="number")return Math.round(r*a);yt.inDevelopmentMode(()=>z.warnOnce(`\`$rem\` json operation failed on [${String(r)}] at [${t.getPathArray(i).join(".")}], expecting a number.`))}var gfe={$and:bfe,$eq:yfe,$greaterThan:vfe,$if:_fe,$lessThan:xfe,$not:Cfe,$or:wfe,$switch:Dfe};function bfe(t,i,e){for(let n of e)if(!t.resolveVertexValue(i,n))return!1;return!0}function yfe(t,i,e){let n,r=!0;for(let a of e){let o=t.resolveVertexValue(i,a);if(r)n=o,r=!1;else if(o!==n)return!1}return!0}function vfe(t,i,e){let[n,r]=e;return t.resolveVertexValue(i,n)>t.resolveVertexValue(i,r)}function _fe(t,i,e){let[n,r,a]=e,s=t.resolveVertexValue(i,n)?r:a,l=t.neighboursWithEdgeValue(s,Qn);if(l)for(let c of l)t.addEdge(i,c,Qn);return t.resolveVertexValue(i,s)}function xfe(t,i,e){let[n,r]=e;return t.resolveVertexValue(i,n)<t.resolveVertexValue(i,r)}function Cfe(t,i,e){for(let n of e)return!t.resolveVertexValue(i,n)}function wfe(t,i,e){for(let n of e)if(t.resolveVertexValue(i,n))return!0;return!1}function Dfe(t,i,e){let[n,r,...a]=e,o=t.resolveVertexValue(i,n);for(let s of a){let l=t.getVertexValue(s);if(!Array.isArray(l))continue;let[c,d]=l;if(o===c||Array.isArray(c)&&c.includes(o))return d}return t.getVertexValue(r)}var Sfe={$isUserOption:Mfe,$isThemeOverride:Ife,$palette:kfe,$mapPalette:Afe,$path:{dependencies:r5,resolve:Efe},$pathString:{dependencies:r5,resolve:Tfe},$ref:Rfe};function Mfe(t,i,e){let[n,r,a]=e,o=t.neighboursWithEdgeValue(n,Qn);if(o)for(let s of o){let l=t.findNeighbour(s,Zn);if(l&&n5(t,i,l))return t.resolveVertexValue(i,r)}else if(n5(t,i,n))return t.resolveVertexValue(i,r);return t.resolveVertexValue(i,a)}function n5(t,i,e){let n=t.resolveVertexValue(i,e);if(!Gi(n))throw new Error(`\`$isUserOption\` json operation failed on [${String(n)}], expecting a string.`);let r=t.getPathArray(i),a=tm(r,n);return a===Ll?!1:t.hasUserOption(a)}function Ife(t,i,e){let[n,r,a]=e,o=t.resolveVertexValue(i,n);if(!Gi(o))throw new Error(`\`$isThemeOverride\` json operation failed on [${String(o)}], expecting a string.`);let s=t.getPathArray(i),l=tm(s,o);if(l!==Ll)return t.hasThemeOverride(l)?t.resolveVertexValue(i,r):t.resolveVertexValue(i,a)}var V6=new Set(["fill","fillFallback","stroke","gradient","range2"]);function kfe(t,i,e){let[n]=e,r=t.resolveVertexValue(i,n);if(!Gi(r))return;if(V6.has(r)){let o=t.getPathArray(i),s=bv(o);if(isNaN(s))return;switch(r){case"fill":return xs(t.palette.fills,1,s)[0];case"fillFallback":return xs(t.palette.fillsFallback,1,s)[0];case"stroke":return xs(t.palette.strokes,1,s)[0];case"gradient":return xs(t.palette.sequentialColors,1,s)[0];case"range2":return xs(t.palette.fills,2,s)}return}if(r==="gradients")return t.palette.sequentialColors;let a=ks(t.palette,r.split("."));return Array.isArray(a)?[...a]:typeof a=="object"?f({},a):a}function Afe(t,i,e){let[n]=e,r=t.resolveVertexValue(i,n);if(!Gi(r))return;if(V6.has(r)){let o=t.getPathArray(i),s=bv(o),l=0,c=["series","0","type"];for(let d=0;d<s;d++){c[1]=`${d}`;let u=t.getResolvedPath(c);(u==="map-shape-background"||u==="map-line-background")&&l++}if(s-=l,isNaN(s))return;switch(r){case"fill":return xs(t.palette.fills,1,s)[0];case"fillFallback":return xs(t.palette.fillsFallback,1,s)[0];case"stroke":return xs(t.palette.strokes,1,s)[0];case"gradient":return xs(t.palette.sequentialColors,1,s)[0];case"range2":return xs(t.palette.fills,2,s)}return}if(r==="gradients")return t.palette.sequentialColors;let a=ks(t.palette,r.split("."));return Array.isArray(a)?[...a]:typeof a=="object"?f({},a):a}function r5(t,i,e){let[n]=e,r=t.getVertexValue(n);if(Gi(r)){let a=t.getPathArray(i),o=tm(a,r);if(o===Ll)return;let s=t.findVertexAtPath(o);s&&t.addEdge(i,s,qO)}}function Efe(t,i,e){let n=e.length>1,r=e.length>2,[a,o,s]=e,l=t.resolveVertexValue(i,a),c=r?t.resolveVertexValue(i,s):null;if(!Gi(l))throw new Error(`\`$path\` json operation failed on [${String(l)}], expecting a string.`);let d=t.getPathArray(i),u=tm(d,l);if(u===Ll)return;let h=c?ks(c,u):t.getResolvedPath(u);if(h!=null)return h;if(n)return t.resolveVertexValue(i,o)}function Tfe(t,i,e){let[n,r]=e,a=t.resolveVertexValue(i,n);if(!Gi(a))throw new Error(`\`$path\` json operation failed on [${String(a)}], expecting a string.`);let o;r&&(o=t.graftAndResolveOrphan(i,r));let s=t.getPathArray(i),l=tm(s,a,o);if(l===Ll)throw new Error(`Unresolvable path [${a}] at [${s.join(".")}]`);return l}function Rfe(t,i,e){let[n]=e,r=t.getVertexValue(n);return t.getParamValue(r)}var Ofe={$apply:Lfe,$applyTheme:Nfe,$findFirstSiblingNotOperation:Pfe,$map:Ffe,$merge:Vfe,$omit:Bfe,$size:zfe,$shallow:jfe,$value:Ufe};function Lfe(t,i,e){let[n,r,a,o]=e,s=t.getVertexValue(n);if(!bt(s))return;let l=r?t.getVertexValue(r):void 0,c=t.neighboursWithEdgeValue(i,Qn),d=a?t.resolveVertexValue(i,a):void 0,u=o?t.resolveVertexValue(i,o):void 0;if((!c||c.length===0)&&l!=null)if(Df(l)){let h=t.resolveVertexValue(i,r);bt(h)&&t.graftObject(i,h,[d,u])}else t.graftObject(i,l,[d,u]);if(!c)return Jd;for(let h of c){let m=t.neighboursWithEdgeValue(h,Qn);if(!m||m.length===0){let p=t.addVertex({});t.addEdge(h,p,Zn)}else t.graftObject(h,s,[d,u])}return Jd}function Nfe(t,i,e){let[n,r,a]=e,o=t.getVertexValue(n);if(typeof o=="string"&&(o=[o]),!Array.isArray(o))return;let s=t.neighboursWithEdgeValue(i,Qn),l=a?t.getVertexValue(a):[],c=Array.isArray(l)?new Set(l):new Set;if(!s)return Jd;for(let d of s){let u=t.graftAndResolveOrphan(d,r);for(let h of o){let m=tm([],h,u);m!==Ll&&t.graftConfig(d,m,c)}}return Jd}function Pfe(t,i,e){let[n]=e,r=t.getPathArray(i),a=F6(r);if(a<0)return t.resolveVertexValue(i,n);let o=r.slice(0,a),s=t.findVertexAtPath(o);if(!s)return t.resolveVertexValue(i,n);let l=t.neighboursWithEdgeValue(s,Qn);if(l)for(let c=0;c<l.length;c++){if(`${c}`===r[a])continue;let d=o.concat([`${c}`,...r.slice(a+1)]),u=t.findVertexAtPath(d);if(!u)continue;let h=t.findNeighbourValue(u,bf);if(h!=null)return h;let m=t.findNeighbourValue(u,Ms);if(m!=null)return m}return t.resolveVertexValue(i,n)}function Ffe(t,i,e){let[n,r]=e,a=t.getVertexValue(n),o=t.resolveVertexValue(i,r);if(!Array.isArray(o))return;if(!Df(a))return o.map(()=>a);let s=0;for(let l of o)t.graftValue(i,`${s}`,a,l),s++;return Jd}function Vfe(t,i,e){for(let n of e){let r=t.resolveVertexValue(i,n);bt(r)&&t.graftObject(i,r)}return Jd}function Bfe(t,i,e){let[n,r]=e,a=t.getVertexValue(n);if(!Array.isArray(a)){let s=tfe(t,i,r);if(!s)return;a=t.resolveVertexValue(s,n)}let o=t.resolveVertexValue(i,r);if(!(!Array.isArray(a)||!bt(o)))return ue(o,a)}function zfe(t,i,e){let[n]=e,r=t.resolveVertexValue(i,n);return dh(r)?Object.keys(r).length:0}function jfe(t,i,e){let n=[];for(let r of e)n.push(t.getVertexValue(r));return n}function Ufe(t,i,e){let[n]=e,r=t.getVertexValue(n),a=t.getPathArray(i);if(r==="$index")return bv(a);if(r==="$1")return t.resolveValue$1(a)}var Hfe={$isEven:Gfe,$mul:Wfe,$round:$fe};function Gfe(t,i,e){let[n]=e,r=t.resolveVertexValue(i,n);return isNaN(Number(r))?!1:Number(r)%2===0}function Wfe(t,i,e){let n;for(let r of e){let a=t.resolveVertexValue(i,r);n==null?n=Number(a):n*=Number(a)}return n}function $fe(t,i,e){for(let n of e)return Math.round(Number(t.resolveVertexValue(i,n)))}var Wy=f(f(f(f(f(f(f({},ife),ofe),pfe),Sfe),gfe),Hfe),Ofe),B6=new Set(Object.keys(Wy));function By(t){return B6.has(t)}var Yfe=Ar(Kfe);function Kfe(t,i){return new z6(t.config,i,t.params,t.palette,t.overrides,t.getTemplateParameters())}var qfe=(()=>{let t=class Is extends PU{constructor(e={},n={},r=void 0,a=void 0,o={},s=new Map){super(Qn,Py),this.config=e,this.userOptions=n,this.overrides=o,this.internalParams=s,this.resolvedParams={},this.resolvedAnnotations={},this.value$1={},this.cachedPathVertices=new Map,this.EMPTY_PATH_ARRAY_VERTEX=this.addVertex([]),this.root=this.addVertex("root"),this.params=this.addVertex("params"),this.annotations=this.addVertex("annotations"),this.config=e,this.overrides=o,this.internalParams=s,this.palette=a?Zi(a):{},this.palette.type=qt(n?.theme)?l$(n.theme?.palette):"inbuilt";let c=n.series?.[0]?.type??"line",d=As.cloneDefaultAxes(c);n.axes??(n.axes=d?.axes??[]),this.buildGraphFromObject(this.root,bf,ue(n,["theme"])),this.buildGraphFromObject(this.root,Zn,ue(e[c],Is.COMPLEX_KEYS));let u=o?ue(o[c],Is.COMPLEX_KEYS):{};Object.keys(u).length>0&&this.buildGraphFromObject(this.root,Ms,u);let h=o?ue(o.common,Is.COMPLEX_KEYS):{};Object.keys(h).length>0&&this.buildGraphFromObject(this.root,Ms,Jn.isCartesian(c)?h:ue(h,["zoom","navigator"])),r&&this.buildGraphFromObject(this.params,Zn,r);let m=this.findNeighbourWithValue(this.root,"axes",Qn),p=this.findNeighbourWithValue(this.root,"series",Qn);m&&this.buildGraphFromObject(m,Zn,{$applyTheme:[["/$seriesType/axes/$axisType/$position","/$seriesType/axes/$axisType"],{seriesType:{$path:["/series/0/type","line"]},axisType:{$path:["./type","category"]},position:{$path:["./position"]}},["top","right","bottom","left"]]}),p&&this.buildGraphFromObject(p,Zn,{$applyTheme:["/$seriesType/series",{seriesType:{$path:["./type","line"]}}]});let g=ue(e[c]?.annotations??{},Is.ANNOTATIONS_OPTIONS_KEYS);Object.keys(g).length>0&&this.buildGraphFromObject(this.annotations,Zn,g);let y=ue(o?.common?.annotations??{},Is.ANNOTATIONS_OPTIONS_KEYS);Object.keys(y).length>0&&this.buildGraphFromObject(this.annotations,Ms,y);let v=Y1(e[c]?.annotations??{},Is.ANNOTATIONS_OPTIONS_KEYS);Object.keys(v).length>0&&this.buildGraphFromObject(this.root,Zn,{annotations:v});let x=Y1(o?.common?.annotations??{},Is.ANNOTATIONS_OPTIONS_KEYS);Object.keys(x).length>0&&this.buildGraphFromObject(this.root,Ms,{annotations:x}),this.buildDependencyGraph()}clear(){super.clear(),this.cachedPathVertices.clear()}resolve(){return this.resolved={},this.resolvedParams={},this.resolvedAnnotations={},this.resolveVertex(this.params,this.resolvedParams),this.resolveVertex(this.annotations,this.resolvedAnnotations),this.resolveVertex(this.root),this.resolved}resolveParams(){return this.resolvedParams}resolveAnnotationThemes(){return this.resolvedAnnotations}findVertexAtPath(e){let n=e.join(".");if(this.cachedPathVertices.has(n))return this.cachedPathVertices.get(n);let r=this.findVertexAlongEdge(this.root,e,Qn);if(r)return this.cachedPathVertices.set(n,r),r}hasUserOption(e){return Vy(this.userOptions,e)}hasThemeOverride(e){if(e[0]==="axes"&&e.length>1){let n=this.getResolvedPath(["axes",e[1],"type"]);if(Vy(this.overrides,["common","axes",n,...e.slice(2)]))return!0;let r=this.getResolvedPath(["series","0","type"]);return Vy(this.overrides,[r,"axes",n,...e.slice(2)])}if(e[0]==="series"&&e.length>1){let n=this.getResolvedPath(["series",e[1],"type"]);return Vy(this.overrides,[n,"series",...e.slice(2)])}return Vy(this.overrides,e)}getParamValue(e){if(this.resolvedParams[e]!=null)return this.resolvedParams[e];let n=this.findVertexAlongEdge(this.params,[e],Qn);if(!n)return;let r=this.findNeighbour(n,Zn);if(!r)return;let a=this.resolveVertexValue(n,r);return this.resolvedParams[e]=a,a}getPathArray(e){return this.findNeighbourValue(e,Ds)??[]}getResolvedPath(e){return ks(this.resolved,e)}resolveVertexValue(e,n){this.resolveVertexDependencies(n);let r=this.findNeighbourValue(n,Py);if(r&&By(r)){let o=this.neighboursWithEdgeValue(n,Fy),s=Wy[r],c=(typeof s=="function"?s:s.resolve)?.(this,e,o??[]);return c===Jd?void 0:c}let a=this.getVertexValue(n);if(Array.isArray(a)){let o={};this.resolveVertexChildren(n,o),a=ks(o,this.getPathArray(e))}return this.resolveValueOrSymbol(a)}resolveValue$1(e){return ks(this.value$1,e)}graftConfig(e,n,r){let a=ks(this.config,n),o=this.findNeighbour(e,Ds);if(bt(a)&&this.buildGraphFromObject(e,Zn,a,o,void 0,r),this.overrides){let s=ks(this.overrides,n);bt(s)&&this.buildGraphFromObject(e,Ms,s,o,void 0,r);let l=ks(this.overrides,["common",...n.slice(1)]);bt(l)&&this.buildGraphFromObject(e,Ms,l,o,void 0,r)}this.buildDependencyGraph()}graftObject(e,n,r){let a=this.findNeighbour(e,Ds);if(this.buildGraphFromObject(e,Zn,n,a),this.overrides&&r)for(let o of r){if(o==null)continue;let s=ks(this.overrides,o);s&&this.buildGraphFromObject(e,Ms,s,a)}this.buildDependencyGraph()}graftValue(e,n,r,a){let o=[...this.getPathArray(e),n];E1(this.value$1,o,a);let s=this.findVertexAtPath(o)??this.addVertex(n);this.buildGraphFromValue(e,s,Zn,o,r),this.buildDependencyGraph()}graftAndResolveOrphan(e,n){let r={},a=this.addVertex(r),o=this.getPathArray(e);return this.graftAndResolveChildren(n,a,o,[]),this.resolveVertex(a,r),ks(r,o)}buildGraphFromObject(e,n,r,a,o=Is.SHALLOW_KEYS,s){let l=Object.keys(r),c=Df(r,l);if(c){let g=this.addVertex(r);this.addEdge(e,g,n),this.buildGraphFromOperation(g,n,c,a);return}if(l.length===0){this.addEdge(e,this.addVertex(Array.isArray(r)?[]:{}),n),this.buildGraphAutoEnable(e,n,r,void 0);return}let d=this.getVertexChildrenByKey(e),u=a?this.getVertexValue(a):[],h,m=[...u],p=u.length;for(let g of l){if(s?.has(g))continue;let y=d?.get(g)??this.addVertex(g);m[p]=g,o?.has(g)?this.buildShallowGraphFromValue(e,y,n,m,r[g]):this.buildGraphFromValue(e,y,n,m,r[g],o),g==="enabled"&&(h=y)}this.buildGraphAutoEnable(e,n,r,h)}buildGraphAutoEnable(e,n,r,a){if(n===Zn&&!a||n===bf&&a||n!==Zn&&n!==bf&&n!==Ms)return;let o=this.findNeighbour(e,A1);o||(o=this.addVertex(A1),this.addEdge(e,o,A1)),a&&this.addEdge(a,o,i5);let{enabled:s,_enabledFromTheme:l}=r;this.addEdge(o,this.addVertex({enabled:s,_enabledFromTheme:l,keys:Object.keys(r).length}),n)}getVertexChildrenByKey(e){let n=this.neighboursWithEdgeValue(e,Qn);if(!n)return;let r=new Map;for(let a of n)r.set(this.getVertexValue(a),a);return r}buildGraphFromValue(e,n,r,a,o,s){this.addEdge(e,n,Qn);let l=this.findNeighbour(n,Ds);l||(l=this.addVertex([...a]),this.addEdge(n,l,Ds));let c=Df(o);if(c){let d=this.addVertex(o);this.addEdge(n,d,r),this.addEdge(d,l,Ds),this.buildGraphFromOperation(d,r,c,l)}else if(dh(o))this.buildGraphFromObject(n,r,o,l,s);else{let d=this.addVertex(o);this.addEdge(n,d,r)}}buildShallowGraphFromValue(e,n,r,a,o){this.addEdge(e,n,Qn);let s=this.findNeighbour(n,Ds);s||(s=this.addVertex([...a]),this.addEdge(n,s,Ds));let l=this.addVertex(o);this.addEdge(n,l,r)}buildGraphFromOperation(e,n,r,a){let o=this.addVertex(r.operation);this.addEdge(e,o,Py);for(let s of r.values)this.buildGraphFromOperationValue(e,s,n,a)}buildGraphFromOperationValue(e,n,r,a=this.EMPTY_PATH_ARRAY_VERTEX){let o=this.addVertex(n);this.addEdge(e,a,Ds),this.addEdge(e,o,Fy);let s=Df(n);s?this.buildGraphFromOperation(o,r,s,a):dh(n)&&this.buildGraphFromObject(o,r,n,a)}buildDependencyGraph(){for(let e=0;e<this.pendingProcessingEdgesFrom.length;e++){let n=this.pendingProcessingEdgesFrom[e],r=this.pendingProcessingEdgesTo[e],a=this.getVertexValue(r);if(!By(a))continue;let o=this.neighboursWithEdgeValue(n,Fy),s=Wy[a];(typeof s=="function"?void 0:s.dependencies)?.(this,n,o??[])}this.pendingProcessingEdgesFrom=[],this.pendingProcessingEdgesTo=[]}resolveVertex(e,n=this.resolved){let r=this.getPathArray(e);this.resolveVertexInEdgePriority(e,n,r),this.resolveVertexAutoEnable(e,n,r),this.resolveVertexChildren(e,n)}resolveVertexInEdgePriority(e,n,r){let a=this.neighboursWithEdgeValue(e,Qn),[o]=Is.EDGE_PRIORITY;for(let s of Is.EDGE_PRIORITY){let l=this.findNeighbour(e,s);if(l==null)continue;let c=this.resolveVertexValueInternal(e,l);if(!(c==null&&s!==o)&&!(a&&a.length>0&&Array.isArray(c)&&s!==o)){if(r.length===0){if(c==null)continue;this.resolved=c}else E1(n,r,c);break}}}resolveVertexValueInternal(e,n){this.resolveVertexDependencies(n);let r=this.findNeighbourValue(n,Py);if(r&&By(r)){let a=this.neighboursWithEdgeValue(n,Fy),o=Wy[r],l=(typeof o=="function"?o:o.resolve)?.(this,e,a??[]);return l===Jd?void 0:l}return this.resolveValueOrSymbol(this.getVertexValue(n))}resolveVertexAutoEnable(e,n,r){let a=this.neighboursWithEdgeValue(e,i5)?.[0];if(!a)return;let o=this.findNeighbourValue(a,Zn),s=this.findNeighbourValue(a,Ms),l=this.findNeighbourValue(a,bf);l&&l.enabled==null&&!o?._enabledFromTheme&&!s?._enabledFromTheme&&E1(n,r,!0)}resolveVertexChildren(e,n){let r=this.neighboursWithEdgeValue(e,Qn);if(r)for(let a of r){let o=this.getVertexValue(a);r.length>1&&By(o)||o!=="_enabledFromTheme"&&this.resolveVertex(a,n)}}resolveVertexDependencies(e){let n=this.neighboursWithEdgeValue(e,qO);if(n)for(let r of n)this.resolveVertex(r)}graftAndResolveChildren(e,n,r,a){let o=this.neighboursWithEdgeValue(e,Qn);if(o)for(let s of o){let l=this.getVertexValue(s),c=[...r,l],d=[...a,l],u=this.addVertex(l),h=this.findNeighbourValue(s,Zn);this.addEdge(n,u,Qn);let m=this.addVertex(c);if(this.addEdge(u,m,Ds),bt(h)){this.buildGraphFromObject(u,Zn,h,m);let p=this.findNeighbour(u,Zn);this.addEdge(p,this.addVertex(c),Ds);let g=this.findNeighbourValue(p,Py);if(By(g)){let y=this.neighboursWithEdgeValue(p,Fy),v=Wy[g];(typeof v=="function"?void 0:v.dependencies)?.(this,p,y??[])}}this.graftAndResolveChildren(s,u,c,d)}}resolveValueOrSymbol(e){return typeof e=="symbol"&&this.internalParams?.has(e)?this.internalParams.get(e):e}};return t.EDGE_PRIORITY=[bf,Ms,Zn],t.SHALLOW_KEYS=new Set(["context","data","topology"]),t.COMPLEX_KEYS=["annotations","axes","series"],t.ANNOTATIONS_OPTIONS_KEYS=["axesButtons","data","enabled","optionsToolbar","snap","toolbar","xKey","volumeKey"],t})(),z6=qfe,a5=t=>`'${t}'`,im=class hr{constructor(i,e,n,r,a,o,s=!1,l){this.themeParameters={},this.optionMetadata=a??{},this.processedOverrides=n??{};let c=null;i instanceof hr?(c=i,this.specialOverrides=c.specialOverrides,o===void 0&&(o=Tc(c.userOptions,e,hr.JSON_DIFF_OPTS)),this.userOptions=Zi(iv(o,c.userOptions),S(f({},hr.OPTIONS_CLONE_OPTS_SLOW),{seen:[]}))):(this.userOptions=Zi(i??e,S(f({},hr.OPTIONS_CLONE_OPTS_SLOW),{seen:[]})),this.specialOverrides=this.specialOverridesDefaults(f({},r))),s&&this.removeLeftoverSymbols(this.userOptions);let d,u,h,m,p,g;if(!s&&o!==void 0&&hr.isFastPathDelta(o)&&c!=null?({activeTheme:d,processedOptions:u,fastDelta:h}=this.fastSetup(o,c),m=c.themeParameters,p=c.annotationThemes):(hr.perfDebug("ChartOptions.slowSetup()"),{activeTheme:d,processedOptions:u,themeParameters:m,annotationThemes:p,googleFonts:g}=this.slowSetup(n,o,s)),this.activeTheme=d,this.processedOptions=u,this.fastDelta=h??void 0,this.themeParameters=m,this.annotationThemes=p,this.googleFonts=g,l!==void 0&&typeof l=="number"&&!isNaN(l)){let y=performance.now();this.optionsProcessingTime=y-l}yt.inDevelopmentMode(()=>wc(this))}static isFastPathDelta(i){for(let e of Object.keys(i??{}))if(!this.FAST_PATH_OPTIONS.has(e))return hr.perfDebug("ChartOptions.isFastPathDelta() - slow path required due to presence of: ",e),!1;return hr.perfDebug("ChartOptions.isFastPathDelta() - fast path possible."),!0}fastSetup(i,e){let{activeTheme:n,processedOptions:r}=e,{presetType:a}=this.optionMetadata;if(a!=null&&i?.data!=null){let s=dr.getPresetModule(a);if(s?.processData){let{series:l,data:c}=s.processData(i.data);i=Jt({series:l,data:c},i)}}this.fastSeriesSetup(i,r);let o=Jt(i,r);return hr.debug("ChartOptions.fastSetup() - processed options",o),{activeTheme:n,processedOptions:o,fastDelta:i}}fastSeriesSetup(i,e){i?.series&&(i.series?.every((n,r)=>uG(n,e.series?.[r]??{}))?delete i.series:i.series=i.series.map((n,r)=>iv(n,e.series?.[r]??{})))}slowSetup(i,e,n=!1){let r=Zi(this.userOptions,hr.OPTIONS_CLONE_OPTS_FAST);e&&(r=Jt(e,r),n&&this.removeLeftoverSymbols(r));let{presetType:a}=this.optionMetadata;if(a!=null){let m=dr.getPresetModule(a);if(m){let{validate:p=mn}=m,g=r,y=r.type,v=y!=null?uD(r.theme).presets[y]:void 0,{cleared:x,invalid:w}=p(g,m.options,"");w.forEach(D=>z.warn(D)),fh(w,"")?r={}:(hr.debug(">>> AgCharts.createOrUpdate() - applying preset",x),r=m.create(x,v,()=>this.activeTheme))}}this.soloSeriesIntegrity(r),Yd.isEnterprise||YH(r);let o=uD(r.theme);if(a!=null&&o.templateTheme(r,!1),this.validateSeriesOptions(r),this.chartDef=dr.detectChartDefinition(r),!this.chartDef.placeholder){let{validate:m=mn}=this.chartDef,{cleared:p,invalid:g}=m(r,this.chartDef.options,"");g.forEach(y=>z.warn(y)),r=p}this.validateAxesOptions(r),this.removeDisabledOptions(r);let s=this.processFonts(o.params);s=this.processFonts(r,s),this.processSeriesOptions(r);let l=Yfe(o,r),c=l.resolve(),d=l.resolveParams(),u=l.resolveAnnotationThemes();l.clear();let h=Jt(i,c);return Nme(h),Yd.isEnterprise||YH(h,!0),this.validateSeriesOptions(h),this.validateAxesOptions(h),this.validatePluginOptions(h),this.processMiniChartSeriesOptions(h),h.loadGoogleFonts||s.clear(),hr.debug(()=>["ChartOptions.slowSetup() - processed options",Zi(h)]),{activeTheme:o,processedOptions:h,themeParameters:d,annotationThemes:u,googleFonts:s}}validatePluginOptions(i){for(let e of dr.listModulesByType(Iy.Plugin)){let n=e.name;if(n in i&&(!e.chartType||e.chartType===this.chartDef?.name)){let{cleared:r,invalid:a}=mn(i[n],e.options,e.name);a.forEach(o=>z.warn(o)),i[n]=r}}}validateSeriesOptions(i){let e=this.chartDef?.name,n=[],r=i.series?.length??0,a;for(let o=0;o<r;o++){let s=`series[${o}]`,l=i.series[o],c=dr.getSeriesModule(l.type);if(c==null){a??(a=Gp(Array.from(dr.listModulesByType(Iy.Series)).filter(m=>!e||m.chartType===e).map(m=>m.name),"or",a5)),z.warn(l.type==null?`Option \`${s}.type\` is required and has not been provided; expecting ${a}, ignoring.`:`Unknown type \`${l.type}\` at \`${s}.type\`; expecting ${a}, ignoring.`);continue}else if(e&&c.chartType!==e){z.warn(`Series type \`${c.name}\` at \`${s}.type\` is not supported by chart type \`${e}\`, ignoring.`);continue}let{validate:d=mn}=c,{cleared:u,invalid:h}=d(l,c.options,s);h.forEach(m=>z.warn(m)),fh(h,s)||n.push(u)}i.series=n}validateAxesOptions(i){if(!("axes"in i)||!i.axes)return;let e=this.chartDef?.name,n=[],r=i.axes.length??0,a;for(let o=0;o<r;o++){let s=`axes[${o}]`,l=i.axes[o],c=dr.getAxisModule(l.type);if(c==null){a??(a=Gp(Array.from(dr.listModulesByType(Iy.Axis)).filter(m=>m.chartType===e).map(m=>m.name),"or",a5)),z.warn(`Unknown type \`${l.type}\` at  \`${s}.type\`; expecting one of ${a}, ignoring all axes options.`),delete i.axes;break}else if(c.chartType!==e){z.warn(`Axis type \`${c.name}\` at  \`${s}.type\` is not supported by chart type \`${e}\`, ignoring.`);break}let{validate:d=mn}=c,{cleared:u,invalid:h}=d(l,c.options,s);h.forEach(m=>z.warn(m)),fh(h,s)||n.push(u)}i.axes=n}diffOptions(i){return this===i?{}:i==null?this.processedOptions:this.fastDelta??Tc(i.processedOptions,this.processedOptions,hr.JSON_DIFF_OPTS)}optionsType(i){return i.series?.[0]?.type??"line"}processSeriesOptions(i){let e=i.series?.map(n=>{n.type??(n.type="line");let a=!!dr.getSeriesModule(n.type)?.options.visible;return Jt(this.getSeriesGroupingOptions(n),n,a&&{visible:!0})});i.series=this.setSeriesGroupingOptions(e??[])}processMiniChartSeriesOptions(i){let e=i.navigator?.miniChart?.series;e!=null&&(i.navigator.miniChart.series=this.setSeriesGroupingOptions(e))}getSeriesGroupingOptions(i){let e=As.isGroupable(i.type),n=As.isStackable(i.type),r=As.isStackedByDefault(i.type);i.grouped&&!e&&z.warnOnce(`unsupported grouping of series type "${i.type}".`),(i.stacked||i.stackGroup)&&!n&&z.warnOnce(`unsupported stacking of series type "${i.type}".`);let{grouped:a,stacked:o}=i;return o??(o=(r||i.stackGroup!=null)&&!(e&&a)),a??(a=!0),{stacked:n&&o,grouped:e&&a&&!(n&&o)}}setSeriesGroupingOptions(i){let e=this.getSeriesGrouping(i);hr.debug("ChartOptions.setSeriesGroupingOptions() - series grouping: ",e);let n={},r=e.reduce((a,o)=>{var s;return o.groupType==="default"||(a[s=o.seriesType]??(a[s]=0),a[o.seriesType]+=o.groupType==="stack"?1:o.series.length),a},{});return e.flatMap(a=>{var o;switch(n[o=a.seriesType]??(n[o]=0),a.groupType){case"stack":{let s=n[a.seriesType]++;return a.series.map((l,c)=>Object.assign(l,{seriesGrouping:{groupId:a.groupId,groupIndex:s,groupCount:r[a.seriesType],stackIndex:c,stackCount:a.series.length}}))}case"group":return a.series.map(s=>Object.assign(s,{seriesGrouping:{groupId:a.groupId,groupIndex:n[a.seriesType]++,groupCount:r[a.seriesType],stackIndex:0,stackCount:0}}))}return a.series}).map(l=>{var c=l,{stacked:a,grouped:o}=c,s=ci(c,["stacked","grouped"]);return s})}getSeriesGroupId(i){return[i.type,i.xKey,i.stacked?i.stackGroup??"stacked":"grouped"].filter(Boolean).join("-")}getSeriesGrouping(i){let e=new Map;return i.reduce((n,r)=>{let a=r.type;if(!r.stacked&&!r.grouped)n.push({groupType:"default",seriesType:a,series:[r],groupId:"__default__"});else{let o=this.getSeriesGroupId(r);if(!e.has(o)){let l={groupType:r.stacked?"stack":"group",seriesType:a,series:[],groupId:o};e.set(o,l),n.push(l)}e.get(o).series.push(r)}return n},[])}soloSeriesIntegrity(i){if(!Xe(i.series))return;let e=i.series;if(e&&e.length>1&&e.some(n=>As.isSolo(n.type))){let n=this.optionsType(i);if(As.isSolo(n))z.warn(`series[0] of type '${n}' is incompatible with other series types. Only processing series[0]`),i.series=e.slice(0,1);else{let{solo:r,nonSolo:a}=$p(e,s=>As.isSolo(s.type)?"solo":"nonSolo"),o=CU(r.map(s=>s.type)).join(", ");z.warn(`Unable to mix these series types with the lead series type: ${o}`),i.series=a}}}static processFontOptions(i,e,n,r=new Set){if(typeof i=="object"&&"fontFamily"in i)if(Array.isArray(i.fontFamily)){let a=[];for(let o of i.fontFamily)typeof o=="object"&&"googleFont"in o?(a.push(o.googleFont),r?.add(o.googleFont)):a.push(o);i.fontFamily=a.join(", ")}else typeof i.fontFamily=="object"&&"googleFont"in i.fontFamily&&(i.fontFamily=i.fontFamily.googleFont,r?.add(i.fontFamily));return r}processFonts(i,e=new Set){return Hd(i,hr.processFontOptions,new Set(["data","theme"]),void 0,void 0,e)}static removeDisabledOptionJson(i){"enabled"in i&&i.enabled===!1&&Object.keys(i).forEach(e=>{e!=="enabled"&&delete i[e]})}removeDisabledOptions(i){Hd(i,hr.removeDisabledOptionJson,new Set(["data","theme","contextMenu"]))}static removeLeftoverSymbolsJson(i){if(!(!i||!qt(i)))for(let e of Object.keys(i)){let n=i[e];Hp(n)&&delete i[e]}}removeLeftoverSymbols(i){Hd(i,hr.removeLeftoverSymbolsJson,new Set(["data"]))}specialOverridesDefaults(i){if(i.window==null?i.window=tt():cU(i.window),i.document==null?i.document=Ur():lU(i.document),i.window==null)throw new Error("AG Charts - unable to resolve global window");if(i.document==null)throw new Error("AG Charts - unable to resolve global document");return i}};im.OPTIONS_CLONE_OPTS_SLOW={shallow:new Set(["data","container"]),assign:new Set(["context","theme"])};im.OPTIONS_CLONE_OPTS_FAST={shallow:new Set(["container"]),assign:new Set(["data","context","theme"])};im.JSON_DIFF_OPTS=new Set(["data"]);im.perfDebug=yt.create(!0,"perf");im.FAST_PATH_OPTIONS=new Set(["data","width","height","container"]);im.debug=yt.create(!0,"opts");var Jy=im,o5=yt.create(!0,"opts"),kh="AG Charts - Chart was destroyed, cannot perform request.",Vw=(()=>{let t=class{constructor(e,n,r){this.factoryApi=n,this.licenseManager=r,this.chart=e}update(e){return L(this,null,function*(){if(!this.chart)throw new Error(kh);return o5.group("AgChartInstance.update()",()=>L(this,null,function*(){let n=yt.check("scene:stats","scene:stats:verbose")?performance.now():void 0;this.factoryApi.update(e,this,void 0,n),yield this.chart?.waitForUpdate()}))})}updateDelta(e){return L(this,null,function*(){if(!this.chart)throw new Error(kh);return o5.group("AgChartInstance.updateDelta()",()=>L(this,null,function*(){let n=yt.check("scene:stats","scene:stats:verbose")?performance.now():void 0;this.factoryApi.updateUserDelta(this,e,n),yield this.chart?.waitForUpdate()}))})}getOptions(){if(!this.chart)throw new Error(kh);let e=Zi(this.chart.getOptions(),Jy.OPTIONS_CLONE_OPTS_FAST);for(let n of Object.keys(e))n.startsWith("_")&&delete e[n];return e}waitForUpdate(){if(!this.chart)throw new Error(kh);return this.chart.waitForUpdate()}download(e){return L(this,null,function*(){if(!this.chart)throw new Error(kh);let n=yield this.prepareResizedChart(this,this.chart,e);try{n.chart?.download(e?.fileName,e?.fileFormat)}finally{n.destroy()}})}__toSVG(e){return L(this,null,function*(){if(!this.chart)throw new Error(kh);let n=yield this.prepareResizedChart(this,this.chart,f({width:600,height:300},e));try{return n?.chart?.toSVG()}finally{n?.destroy()}})}getImageDataURL(e){return L(this,null,function*(){if(!this.chart)throw new Error(kh);let n=yield this.prepareResizedChart(this,this.chart,e);try{return n.chart.getCanvasDataURL(e?.fileFormat)}finally{n.destroy()}})}getState(){return this.factoryApi.caretaker.save(...this.getEnabledOriginators())}setState(e){return L(this,null,function*(){let{chart:n}=this;if(!n)return;let r=this.getEnabledOriginators();if(!r.includes(n.ctx.legendManager)){yield this.setStateOriginators(e,r);return}yield this.setStateOriginators(e,r.filter(a=>a!==n.ctx.zoomManager)),yield this.setStateOriginators(e,[n.ctx.zoomManager])})}resetAnimations(){this.chart?.resetAnimations()}skipAnimations(){this.chart?.skipAnimations()}destroy(){this.releaseChart?(this.releaseChart(),this.releaseChart=void 0):this.chart&&(this.chart.publicApi=void 0,this.chart.destroy()),this.chart=void 0}prepareResizedChart(a,o){return L(this,arguments,function*(e,n,r={}){let s=r.width??n.width??n.ctx.scene.canvas.width,l=r.height??n.height??n.ctx.scene.canvas.height,c=e.getState(),d=Tl.hasEnterpriseModules(),u=S(f({},n.chartOptions.processedOverrides),{container:document.createElement("div"),width:s,height:l});r.width!=null&&r.height!=null&&(u.overrideDevicePixelRatio=1);let h=n.getOptions();d&&(u.animation={enabled:!1},this.licenseManager?.isDisplayWatermark()&&(u.foreground={text:this.licenseManager.getWatermarkMessage(),image:{url:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjU4IiBoZWlnaHQ9IjQwIiB2aWV3Qm94PSIwIDAgMjU4IDQwIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNMjUuNzc5IDI4LjY1N0gxMy4zNTlMMTEuMTczIDM0LjAxMkg1LjY3Mjk3TDE3LjE4MiA3LjA1OTk5SDIxLjk1M0wzMy40NjIgMzQuMDEySDI3Ljk2MkwyNS43NzYgMjguNjU3SDI1Ljc3OVpNMjQuMDY4IDI0LjM5N0wxOS41ODggMTMuNDM0TDE1LjEwNyAyNC4zOTdIMjQuMDY4Wk02Mi4wOTIgMTguODIzSDQ5LjgxN1YyMy4wODZINTYuNzc1QzU2LjU1NSAyNS4yMjIgNTUuNzU1IDI2LjkyNyA1NC4zNzIgMjguMjAyQzUyLjk4OSAyOS40NzYgNTEuMTY2IDMwLjExNSA0OC45MDkgMzAuMTE1QzQ3LjYyMiAzMC4xMTUgNDYuNDUgMjkuODg1IDQ1LjM5MyAyOS40MjNDNDQuMzU4MyAyOC45NzgxIDQzLjQzMjYgMjguMzEzOCA0Mi42OCAyNy40NzZDNDEuOTI3IDI2LjYzOSA0MS4zNDQgMjUuNjMxIDQwLjkzMSAyNC40NTNDNDAuNTE5IDIzLjI3NSA0MC4zMTEgMjEuOTcgNDAuMzExIDIwLjUzN0M0MC4zMTEgMTkuMTA1IDQwLjUxNiAxNy44IDQwLjkzMSAxNi42MjFDNDEuMzQ0IDE1LjQ0MyA0MS45MjcgMTQuNDM2IDQyLjY4IDEzLjU5OEM0My40Mzc2IDEyLjc1NzcgNDQuMzY5NiAxMi4wOTMyIDQ1LjQxMSAxMS42NTFDNDYuNDc4IDExLjE4OSA0Ny42NTYgMTAuOTYgNDguOTQ2IDEwLjk2QzUxLjYxMiAxMC45NiA1My42MzcgMTEuNjAyIDU1LjAyIDEyLjg4NUw1OC4zIDkuNjA0OTlDNTUuODE3IDcuNjY5OTkgNTIuNjc2IDYuNjk5OTkgNDguODcyIDYuNjk5OTlDNDYuNzYgNi42OTk5OSA0NC44NTMgNy4wMzQ5OSA0My4xNTQgNy43MDA5OUM0MS40NTUgOC4zNjc5OSAzOS45OTggOS4zMDM5OSAzOC43ODMgMTAuNTA0QzM3LjU2NyAxMS43MDcgMzYuNjM0IDEzLjE1OCAzNS45NzcgMTQuODU3QzM1LjMxOSAxNi41NTYgMzQuOTk0IDE4LjQ1MSAzNC45OTQgMjAuNTRDMzQuOTk0IDIyLjYzIDM1LjMyOSAyNC40OTQgMzUuOTk1IDI2LjIwNUMzNi42NjIgMjcuOTE2IDM3LjYwNSAyOS4zNzQgMzguODE3IDMwLjU3N0M0MC4wMzIgMzEuNzggNDEuNDg2IDMyLjcxMyA0My4xODggMzMuMzgzQzQ0Ljg4OCAzNC4wNDkgNDYuNzgyIDM0LjM4NCA0OC44NzIgMzQuMzg0QzUwLjk2MSAzNC4zODQgNTIuNzUgMzQuMDQ5IDU0LjM5IDMzLjM4M0M1Ni4wMzEgMzIuNzE2IDU3LjQyNiAzMS43OCA1OC41NzkgMzAuNTc3QzU5LjczMyAyOS4zNzQgNjAuNjE5IDI3LjkxNiA2MS4yMzkgMjYuMjA1QzYxLjg2IDI0LjQ5NCA2Mi4xNyAyMi42MDUgNjIuMTcgMjAuNTRDNjIuMTY5NiAxOS45Njg4IDYyLjE0NDUgMTkuMzk4IDYyLjA5NSAxOC44MjlMNjIuMDkyIDE4LjgyM1pNMTUxLjgxIDE2Ljk4MUMxNTMuNDEgMTQuNjA5IDE1Ny40MTkgMTQuMzU4IDE1OS4wMjIgMTQuMzU4VjE4LjkxQzE1Ni45NTcgMTguOTEgMTU0Ljk4NSAxOC45OTYgMTUzLjc1NyAxOS44OTJDMTUyLjUyOSAyMC43OTIgMTUxLjkxOSAyMS45ODIgMTUxLjkxOSAyMy40NjRWMzMuOTlIMTQ2Ljk2NFYxNC4zNThIMTUxLjczNkwxNTEuODEgMTYuOTgxWk0xNDMuMDExIDE0LjM2MVYzNC4wMzFIMTM4LjI0TDEzOC4xMzEgMzEuMDQ1QzEzNy40NjYgMzIuMDc2IDEzNi41NTEgMzIuOTIxOSAxMzUuNDcxIDMzLjUwNEMxMzQuMzc2IDM0LjA5OSAxMzMuMDY4IDM0LjM5NiAxMzEuNTM2IDM0LjM5NkMxMzAuMiAzNC4zOTYgMTI4Ljk2MyAzNC4xNTIgMTI3LjgyMiAzMy42NjhDMTI2LjcgMzMuMTk2NCAxMjUuNjg5IDMyLjQ5NSAxMjQuODU1IDMxLjYwOUMxMjQuMDE4IDMwLjcyMiAxMjMuMzU0IDI5LjY2MiAxMjIuODcxIDI4LjQyMkMxMjIuMzg0IDI3LjE4NSAxMjIuMTQyIDI1LjgxMSAxMjIuMTQyIDI0LjMwNEMxMjIuMTQyIDIyLjc5OCAxMjIuMzg0IDIxLjM3OCAxMjIuODcxIDIwLjExNkMxMjMuMzU3IDE4Ljg1NCAxMjQuMDE4IDE3Ljc3MiAxMjQuODU1IDE2Ljg3M0MxMjUuNjg4IDE1Ljk3NjQgMTI2LjY5OCAxNS4yNjM2IDEyNy44MjIgMTQuNzhDMTI4Ljk2MyAxNC4yODEgMTMwLjIwMyAxNC4wMzMgMTMxLjUzNiAxNC4wMzNDMTMzLjA0MyAxNC4wMzMgMTM0LjMzIDE0LjMxOCAxMzUuMzk3IDE0Ljg4OEMxMzYuNDYyIDE1LjQ1ODkgMTM3LjM3NSAxNi4yNzggMTM4LjA1NyAxNy4yNzZWMTQuMzYxSDE0My4wMTFaTTEzMi42MzEgMzAuMTMzQzEzNC4yNTYgMzAuMTMzIDEzNS41NjcgMjkuNTk0IDEzNi41NjUgMjguNTEyQzEzNy41NjEgMjcuNDMgMTM4LjA2IDI1Ljk5MSAxMzguMDYgMjQuMTk2QzEzOC4wNiAyMi40MDEgMTM3LjU2MSAyMC45OSAxMzYuNTY1IDE5Ljg5OUMxMzUuNTcgMTguODA3IDEzNC4yNTkgMTguMjU4IDEzMi42MzEgMTguMjU4QzEzMS4wMDMgMTguMjU4IDEyOS43MjkgMTguODA0IDEyOC43MzQgMTkuODk5QzEyNy43MzggMjAuOTkzIDEyNy4yMzkgMjIuNDM4IDEyNy4yMzkgMjQuMjMzQzEyNy4yMzkgMjYuMDI4IDEyNy43MzUgMjcuNDMzIDEyOC43MzQgMjguNTE1QzEyOS43MjkgMjkuNTk0IDEzMS4wMjggMzAuMTM2IDEzMi42MzEgMzAuMTM2VjMwLjEzM1pNOTMuNjk4IDI3Ljg3NkM5My41Nzk1IDI4LjAwMjUgOTMuNDU2NCAyOC4xMjQ2IDkzLjMyOSAyOC4yNDJDOTEuOTQ3IDI5LjUxNiA5MC4xMjMgMzAuMTU1IDg3Ljg2NiAzMC4xNTVDODYuNTggMzAuMTU1IDg1LjQwOCAyOS45MjYgODQuMzUgMjkuNDY0QzgzLjMxNTUgMjkuMDE4OSA4Mi4zODk4IDI4LjM1NDYgODEuNjM3IDI3LjUxN0M4MC44ODQgMjYuNjc5IDgwLjMwMSAyNS42NzIgNzkuODg5IDI0LjQ5NEM3OS40NzYgMjMuMzE1IDc5LjI2OSAyMi4wMSA3OS4yNjkgMjAuNTc4Qzc5LjI2OSAxOS4xNDUgNzkuNDczIDE3Ljg0IDc5Ljg4OSAxNi42NjJDODAuMzAxIDE1LjQ4NCA4MC44ODQgMTQuNDc2IDgxLjYzNyAxMy42MzlDODIuMzk0OSAxMi43OTg3IDgzLjMyNzMgMTIuMTM0MiA4NC4zNjkgMTEuNjkyQzg1LjQzNiAxMS4yMyA4Ni42MTQgMTEgODcuOTAzIDExQzkwLjU3IDExIDkyLjU5NSAxMS42NDIgOTMuOTc3IDEyLjkyNkw5Ny4yNTggOS42NDQ5OUM5NC43NzQgNy43MTA5OSA5MS42MzMgNi43Mzk5OSA4Ny44MjkgNi43Mzk5OUM4NS43MTggNi43Mzk5OSA4My44MTEgNy4wNzQ5OSA4Mi4xMTIgNy43NDE5OUM4MC40MTMgOC40MDc5OSA3OC45NTYgOS4zNDQ5OSA3Ny43NCAxMC41NDVDNzYuNTI1IDExLjc0NyA3NS41OTIgMTMuMTk5IDc0LjkzNCAxNC44OThDNzQuMjc3IDE2LjU5NyA3My45NTEgMTguNDkxIDczLjk1MSAyMC41ODFDNzMuOTUxIDIyLjY3IDc0LjI4NiAyNC41MzQgNzQuOTUzIDI2LjI0NUM3NS42MTkgMjcuOTU3IDc2LjU2MiAyOS40MTQgNzcuNzc0IDMwLjYxN0M3OC45OSAzMS44MiA4MC40NDQgMzIuNzUzIDgyLjE0NiAzMy40MjNDODMuODQ1IDM0LjA5IDg1LjczOSAzNC40MjQgODcuODI5IDM0LjQyNEM4OS45MTkgMzQuNDI0IDkxLjcwOCAzNC4wOSA5My4zNDggMzMuNDIzQzk0LjcxOCAzMi44NjUgOTUuOTE4IDMyLjEyMSA5Ni45NDggMzEuMTkxQzk3LjE0OSAzMS4wMDggOTcuMzQ4IDMwLjgxNSA5Ny41MzcgMzAuNjJMOTMuNzAxIDI3Ljg4NUw5My42OTggMjcuODc2Wk0xMTAuODAyIDE0LjAxNUMxMDkuMTk5IDE0LjAxNSAxMDYuODM2IDE0LjQ3MSAxMDUuNjExIDE2LjE1OEwxMDUuNTM3IDYuMDE1OTlIMTAwLjc2NVYzMy45MzlIMTA1LjcyVjIyLjY0MUMxMDUuNzcxIDIxLjQ2MDcgMTA2LjI4OCAyMC4zNDg4IDEwNy4xNTcgMTkuNTQ4OUMxMDguMDI3IDE4Ljc0OTEgMTA5LjE3OCAxOC4zMjY2IDExMC4zNTggMTguMzc0QzExMy4zOTcgMTguMzc0IDExNC4yNjggMjEuMTU5IDExNC4yNjggMjIuNjQxVjMzLjkzOUgxMTkuMjIzVjIxLjA1OUMxMTkuMjIzIDIxLjA1OSAxMTkuMTQyIDE0LjAxNSAxMTAuODAyIDE0LjAxNVpNMTczLjc2MyAxNC4zNThIMTY5Ljk5OVY4LjcxNDk5SDE2NS4wNDhWMTQuMzU4SDE2MS4yODRWMTguOTE2SDE2NS4wNDhWMzQuMDAzSDE2OS45OTlWMTguOTE2SDE3My43NjNWMTQuMzU4Wk0xOTAuNzg3IDI1LjI2MkMxOTAuMTI5IDI0LjUwMTQgMTg5LjMwNyAyMy44OTk0IDE4OC4zODQgMjMuNTAxQzE4Ny40ODggMjMuMTE3IDE4Ni4zMzEgMjIuNzMyIDE4NC45NDggMjIuMzY0QzE4NC4xNjUgMjIuMTQzOSAxODMuMzkgMjEuODk3OCAxODIuNjIzIDIxLjYyNkMxODIuMTYzIDIxLjQ2MjEgMTgxLjc0MSAyMS4yMDY2IDE4MS4zODMgMjAuODc1QzE4MS4yMzUgMjAuNzQyMSAxODEuMTE4IDIwLjU3ODkgMTgxLjAzOSAyMC4zOTY0QzE4MC45NjEgMjAuMjE0IDE4MC45MjIgMjAuMDE2NiAxODAuOTI3IDE5LjgxOEMxODAuOTI3IDE5LjI3MiAxODEuMTU2IDE4Ljg0NCAxODEuNjI1IDE4LjUxQzE4Mi4xMjEgMTguMTU2IDE4Mi44NjIgMTcuOTc2IDE4My44MjYgMTcuOTc2QzE4NC43OSAxNy45NzYgMTg1LjU4NyAxOC4yMDkgMTg2LjE0OCAxOC42NjhDMTg2LjcwNiAxOS4xMjQgMTg3LjAwNyAxOS43MjUgMTg3LjA3MiAyMC41TDE4Ny4wOTQgMjAuNzgySDE5MS42MzNMMTkxLjYxNyAyMC40NkMxOTEuNTIxIDE4LjQ4NSAxOTAuNzcxIDE2LjkgMTg5LjM4NSAxNS43NUMxODguMDEyIDE0LjYxMiAxODYuMTg1IDE0LjAzMyAxODMuOTYyIDE0LjAzM0MxODIuNDc3IDE0LjAzMyAxODEuMTQxIDE0LjI4NyAxNzkuOTk0IDE0Ljc4NkMxNzguODMxIDE1LjI5MSAxNzcuOTI2IDE1Ljk5NSAxNzcuMjk2IDE2Ljg4MkMxNzYuNjczIDE3Ljc0NTUgMTc2LjMzOCAxOC43ODQgMTc2LjM0MSAxOS44NDlDMTc2LjM0MSAyMS4xNjcgMTc2LjY5OCAyMi4yNDkgMTc3LjM5OSAyMy4wNjRDMTc4LjA2IDIzLjg0MzIgMTc4Ljg5OCAyNC40NTM0IDE3OS44NDIgMjQuODQ0QzE4MC43NDQgMjUuMjE2IDE4MS45MjggMjUuNjA3IDE4My4zNjEgMjZDMTg0LjgwNiAyNi40MSAxODUuODcyIDI2Ljc4NSAxODYuNTMgMjcuMTIzQzE4Ny4xIDI3LjQxNCAxODcuMzc5IDI3Ljg0NSAxODcuMzc5IDI4LjQ0NEMxODcuMzc5IDI5LjA0MiAxODcuMTIyIDI5LjQ2NyAxODYuNTk1IDI5LjgzOUMxODYuMDQzIDMwLjIyNiAxODUuMjM3IDMwLjQyNSAxODQuMjAxIDMwLjQyNUMxODMuMTY2IDMwLjQyNSAxODIuMzk0IDMwLjE3NCAxODEuNzQ5IDI5LjY3NEMxODEuMTEzIDI5LjE4MSAxODAuNzcyIDI4LjU4OSAxODAuNzEgMjcuODY0TDE4MC42ODUgMjcuNTgySDE3Ni4wMTNMMTc2LjAyNSAyNy45MDFDMTc2LjA2NyAyOS4wOTU1IDE3Ni40NzIgMzAuMjQ4NyAxNzcuMTg4IDMxLjIwNkMxNzcuOTA3IDMyLjE4IDE3OC44OTMgMzIuOTU4IDE4MC4xMTggMzMuNTE5QzE4MS4zMzYgMzQuMDc3IDE4Mi43MzIgMzQuMzYyIDE4NC4yNjYgMzQuMzYyQzE4NS44MDEgMzQuMzYyIDE4Ny4xMDkgMzQuMTA4IDE4OC4yMzggMzMuNjA5QzE4OS4zNzYgMzMuMTA0IDE5MC4yNzIgMzIuMzk0IDE5MC45MDEgMzEuNDk0QzE5MS41MzQgMzAuNTkyIDE5MS44NTMgMjkuNTU0IDE5MS44NTMgMjguNDAzQzE5MS44MjggMjcuMTEgMTkxLjQ2NiAyNi4wNTMgMTkwLjc3NyAyNS4yNjJIMTkwLjc4N1oiIGZpbGw9IiM5QjlCOUIiLz4KPHBhdGggZD0iTTI0MS45ODIgMjUuNjU4MlYxNy43MTE3SDIyOC40NDFMMjIwLjQ5NCAyNS42NTgySDI0MS45ODJaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yNTcuMjM5IDUuOTUwODFIMjQwLjI2NUwyMzIuMjU1IDEzLjg5NzNIMjU3LjIzOVY1Ljk1MDgxWiIgZmlsbD0iIzlCOUI5QiIvPgo8cGF0aCBkPSJNMjEyLjYxMSAzMy42MDQ4TDIxNi42OCAyOS41MzYxSDIzMC40MTJWMzcuNDgyN0gyMTIuNjExVjMzLjYwNDhaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yMTUuNTk5IDIxLjc4MDNIMjI0LjM3MkwyMzIuMzgyIDEzLjgzMzdIMjE1LjU5OVYyMS43ODAzWiIgZmlsbD0iIzlCOUI5QiIvPgo8cGF0aCBkPSJNMjA2IDMzLjYwNDdIMjEyLjYxMUwyMjAuNDk0IDI1LjY1ODJIMjA2VjMzLjYwNDdaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yNDAuMjY1IDUuOTUwODFMMjM2LjE5NyAxMC4wMTk0SDIxMC4yNTlWMi4wNzI4OEgyNDAuMjY1VjUuOTUwODFaIiBmaWxsPSIjOUI5QjlCIi8+Cjwvc3ZnPgo=",width:170,height:25,right:25,bottom:50,opacity:.7}}));let m=f({},n.chartOptions.specialOverrides),p=f({},n.chartOptions.optionMetadata),g=yield this.chart?.ctx.dataService.getData(),y=this.factoryApi.create(h,u,m,p,g);yield y.setState(c),y.chart?.ctx.zoomManager.updateZoom("chartProxy",n.ctx.zoomManager.getZoom()),y.chart?.ctx.legendManager.clearData(),y.chart?.ctx.legendManager.update(n.ctx.legendManager.getData()),n.series.forEach((x,w)=>{y.chart.series[w].visible=x.visible});let v=[];for(let x of n.modulesManager.legends())v.push(x.legend.pagination?.currentPage??0);for(let x of y.chart.modulesManager.legends()){let w=v.shift()??0;x.legend.pagination&&x.legend.pagination.setPage(w)}return y.chart?.update(0,{forceNodeDataRefresh:!0}),yield y.waitForUpdate(),y})}getEnabledOriginators(){if(!this.chart)return[];let{chartOptions:{processedOptions:e,optionMetadata:n},ctx:{annotationManager:r,chartTypeOriginator:a,zoomManager:o,legendManager:s}}=this.chart,l=[];return"annotations"in e&&e.annotations?.enabled&&l.push(r),n.presetType==="price-volume"&&l.push(a),(e.navigator?.enabled||e.zoom?.enabled)&&l.push(o),"legend"in this.chart&&l.push(s),l}setStateOriginators(e,n){return L(this,null,function*(){this.factoryApi.caretaker.restore(e,...n),this.chart?.ctx.updateService.update(2,{forceNodeDataRefresh:!0}),yield this.chart?.waitForUpdate()})}};return t.chartInstances=new WeakMap,t})();b([Zr({oldValue(t){t.destroyed||(t.publicApi=void 0),Vw.chartInstances.delete(t)},newValue(t){t&&(t.publicApi=this,Vw.chartInstances.set(t,this))}})],Vw.prototype,"chart",2);var s5=Vw,QO=class extends _D{constructor(t){super(),this.ctx=t,this.localeText=void 0}};b([eu(t=>{t.ctx.localeManager.setLocaleText(t.localeText)}),C],QO.prototype,"localeText",2);b([eu(t=>{t.ctx.localeManager.setLocaleTextFormatter(t.getLocaleText)}),C],QO.prototype,"getLocaleText",2);var Zfe={type:"root",optionsKey:"locale",packageType:"community",chartTypes:["cartesian","polar","topology","standalone"],moduleFactory:t=>new QO(t)},Jf=class extends _D{constructor(t){super(),this.ctx=t,this.rectNode=new ir,this.textNode=new oo,this.fill="white",this.node=this.createNode(),this.node.append([this.rectNode,this.textNode]),this.visible=!0,this.cleanup.register(t.scene.attachNode(this.node),t.eventsHub.on("layout:complete",i=>this.onLayoutComplete(i)))}createNode(){return new mt({name:"background",zIndex:0})}onLayoutComplete(t){let{width:i,height:e}=t.chart;this.rectNode.width=i,this.rectNode.height=e}};b([C,bn("node","visible")],Jf.prototype,"visible",2);b([C,bn("rectNode","fill")],Jf.prototype,"fill",2);b([C],Jf.prototype,"image",2);b([C,bn("textNode")],Jf.prototype,"text",2);var j6={type:"root",optionsKey:"background",packageType:"community",chartTypes:["cartesian","polar","topology","standalone"],moduleFactory:t=>new Jf(t)},nm=class extends nt{constructor(t){super(),this.node=t,this.enabled=!1,this.stroke="black",this.strokeOpacity=1,this.strokeWidth=1}};b([Zr({changeValue(t){t?this.node.strokeWidth=this.strokeWidth:this.node.strokeWidth=0}}),C],nm.prototype,"enabled",2);b([bn("node","stroke"),C],nm.prototype,"stroke",2);b([bn("node","strokeOpacity"),C],nm.prototype,"strokeOpacity",2);b([Zr({changeValue(t){this.enabled?this.node.strokeWidth=t:this.node.strokeWidth=0}}),C],nm.prototype,"strokeWidth",2);function Qfe({orientation:t,bboxes:i,maxHeight:e,maxWidth:n,itemPaddingY:r=0,itemPaddingX:a=0,forceResult:o=!1}){let s=t==="horizontal",l={max:s?n:e,fn:s?h=>h.width:h=>h.height,padding:s?a:r},c={max:s?e:n,fn:s?h=>h.height:h=>h.width,padding:s?r:a},d=0,u=[];for(;d<i.length;){let h=i.slice(d),m=Xfe(h,d,l,c,o);if(!m)return;d+=m.processedBBoxCount,u.push(m.pageIndices)}return ege(u,t,i,r,a)}function Xfe(t,i,e,n,r){let o=ige(t,e);if(o<1){if(!r)return;o=1}let s=o;for(;s>=1;){let l=Jfe(t,i,s,e,n,r);if(l==null&&s<=1)return;if(l==null){s--;continue}if(typeof l=="number"){if(l<=1)return;s=l<s&&l>1?l:s,s--;continue}return{processedBBoxCount:l.length*l[0].length,pageIndices:l}}}function Jfe(t,i,e,n,r,a){let o=[],s=0,l=0,c=[],d=[];for(let u=0;u<t.length;u++){let h=(u+e)%e;h===0&&(s+=l,l=0,c.length>0&&o.push(c),c=[]);let m=n.fn(t[u])+n.padding;d[h]=Math.max(d[h]??0,m),l=Math.max(l,r.fn(t[u])+r.padding);let p=s+l,g=!a||o.length>0;if(p>r.max&&g){c=[];break}if(d.reduce((v,x)=>v+x,0)>n.max&&!a)return d.length<e?d.length:void 0;c.push(u+i)}return c.length>0&&o.push(c),o.length>0?o:void 0}function ege(t,i,e,n,r){let a=0,o=0;return{pages:t.map(l=>{i==="horizontal"&&(l=tge(l));let c=0,d=l.map(m=>{let p=m.map(v=>(c=Math.max(v,c),e[v])),g=0,y=0;return p.forEach(v=>{g+=v.height+n,y=Math.max(y,v.width+r)}),{indices:m,bboxes:p,columnHeight:Math.ceil(g),columnWidth:Math.ceil(y)}}),u=0,h=0;return d.forEach(m=>{u+=m.columnWidth,h=Math.max(h,m.columnHeight)}),a=Math.max(u,a),o=Math.max(h,o),{columns:d,startIndex:l[0][0],endIndex:c,pageWidth:u,pageHeight:h}}),maxPageWidth:a,maxPageHeight:o}}function tge(t){let i=[];for(let e of t[0])i.push([]);return t.forEach((e,n)=>{e.forEach((r,a)=>{i[a][n]=r})}),i}function ige(t,i){let e=t.length,n=0;for(let r=0;r<e;r++)if(n+=i.fn(t[r])+i.padding,n>i.max)return e/r<2?Math.ceil(e/2):r;return e}var eg=class extends nt{constructor(){super(...arguments),this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}};b([C],eg.prototype,"color",2);b([C],eg.prototype,"fontStyle",2);b([C],eg.prototype,"fontWeight",2);b([C],eg.prototype,"fontSize",2);b([C],eg.prototype,"fontFamily",2);var Ic=class extends nt{constructor(){super(...arguments),this.size=15,this.fill=void 0,this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=1,this.strokeOpacity=1}};b([C],Ic.prototype,"size",2);b([C],Ic.prototype,"fill",2);b([C],Ic.prototype,"fillOpacity",2);b([C],Ic.prototype,"stroke",2);b([C],Ic.prototype,"strokeWidth",2);b([C],Ic.prototype,"strokeOpacity",2);var CS=class extends nt{constructor(t){super(),this.parent=t,this.shape="triangle",this.size=15,this.padding=8}};b([Zr({changeValue(){this.parent.marker===this&&this.parent.onMarkerShapeChange()}})],CS.prototype,"shape",2);b([C],CS.prototype,"size",2);b([C],CS.prototype,"padding",2);var tg=(()=>{let t=class extends nt{constructor(i,e){super(),this.chartUpdateCallback=i,this.pageUpdateCallback=e,this.id=pn(this),this.marker=new CS(this),this.activeStyle=new Ic,this.inactiveStyle=new Ic,this.highlightStyle=new Ic,this.label=new eg,this.group=new Kr({name:"pagination"}),this.labelNode=new oo,this.totalPages=0,this.currentPage=0,this.translationX=0,this.translationY=0,this.nextButtonDisabled=!1,this.previousButtonDisabled=!1,this._visible=!0,this._enabled=!0,this._orientation="vertical",this.nextButton=new On,this.previousButton=new On,this.labelNode.setProperties({textBaseline:"middle",fontSize:12,fontFamily:"Verdana, sans-serif",fill:"black",y:1}),this.group.append([this.nextButton,this.previousButton,this.labelNode]),this.update(),this.updateMarkers()}set visible(i){this._visible=i,this.updateGroupVisibility()}get visible(){return this._visible}set enabled(i){this._enabled=i,this.updateGroupVisibility()}get enabled(){return this._enabled}updateGroupVisibility(){this.group.visible=this.enabled&&this.visible}set orientation(i){switch(this._orientation=i,i){case"horizontal":{this.previousButton.rotation=-Math.PI/2,this.nextButton.rotation=Math.PI/2;break}case"vertical":default:this.previousButton.rotation=0,this.nextButton.rotation=Math.PI}}get orientation(){return this._orientation}update(){this.updateLabel(),this.updatePositions(),this.enableOrDisableButtons()}updatePositions(){this.group.translationX=this.translationX,this.group.translationY=this.translationY,this.updateLabelPosition(),this.updateNextButtonPosition()}updateLabelPosition(){let{size:i,padding:e}=this.marker;this.nextButton.size=i,this.previousButton.size=i,this.labelNode.x=i/2+e}updateNextButtonPosition(){let i=this.labelNode.getBBox();this.nextButton.translationX=i.width+(this.marker.size/2+this.marker.padding)*2}updateLabel(){let{currentPage:i,totalPages:e,labelNode:n,label:{color:r,fontStyle:a,fontWeight:o,fontSize:s,fontFamily:l}}=this;n.text=`${i+1} / ${e}`,n.fill=r,n.fontStyle=a,n.fontWeight=o,n.fontSize=s,n.fontFamily=l}updateMarkers(){let{nextButton:i,previousButton:e,nextButtonDisabled:n,previousButtonDisabled:r,activeStyle:a,inactiveStyle:o,highlightStyle:s,highlightActive:l}=this,c=(d,u)=>u?o:d===l?s:a;this.updateMarker(i,c("next",n)),this.updateMarker(e,c("previous",r))}updateMarker(i,e){let{shape:n,size:r}=this.marker;i.shape=n,i.size=r,i.fill=e.fill,i.fillOpacity=e.fillOpacity??1,i.stroke=e.stroke,i.strokeWidth=e.strokeWidth,i.strokeOpacity=e.strokeOpacity}enableOrDisableButtons(){let{currentPage:i,totalPages:e}=this,n=e===0,r=i===e-1,a=i===0;this.nextButtonDisabled=r||n,this.previousButtonDisabled=a||n}setPage(i){i=Ae(0,i,Math.max(0,this.totalPages-1)),this.currentPage!==i&&(this.currentPage=i,this.onPaginationChanged())}getCursor(i){return{previous:this.previousButtonDisabled,next:this.nextButtonDisabled}[i]?void 0:"pointer"}onClick(i,e){i.preventDefault(),e==="next"&&!this.nextButtonDisabled?(this.incrementPage(),this.onPaginationChanged()):e==="previous"&&!this.previousButtonDisabled&&(this.decrementPage(),this.onPaginationChanged())}onMouseHover(i){this.highlightActive=i,this.updateMarkers(),this.chartUpdateCallback(7)}onPaginationChanged(){this.pageUpdateCallback(this.currentPage)}incrementPage(){this.currentPage=Math.min(this.currentPage+1,this.totalPages-1)}decrementPage(){this.currentPage=Math.max(this.currentPage-1,0)}onMarkerShapeChange(){this.updatePositions(),this.updateMarkers(),this.chartUpdateCallback(7)}attachPagination(i){i.append(this.group)}getBBox(){return this.group.getBBox()}computeCSSBounds(){let i=an.toCanvas(this.previousButton),e=an.toCanvas(this.nextButton);return{prev:i,next:e}}};return t.className="Pagination",t})();b([C],tg.prototype,"marker",2);b([C],tg.prototype,"activeStyle",2);b([C],tg.prototype,"inactiveStyle",2);b([C],tg.prototype,"highlightStyle",2);b([C],tg.prototype,"label",2);var nge=class{constructor(t,i){this.dirty=!0,this.itemList=t.proxyInteractionService.createProxyContainer({type:"list",domManagerId:`${i}-toolbar`,classList:["ag-charts-proxy-legend-toolbar"],ariaLabel:{id:"ariaLabelLegend"}}),this.paginationGroup=t.proxyInteractionService.createProxyContainer({type:"group",domManagerId:`${i}-pagination`,classList:["ag-charts-proxy-legend-pagination"],ariaLabel:{id:"ariaLabelLegendPagination"}}),this.itemDescription=Ne("p"),this.itemDescription.style.display="none",this.itemDescription.id=bh(),this.itemDescription.textContent=this.getItemAriaDescription(t.localeManager),this.itemList.getElement().append(this.itemDescription)}initLegendList(t){if(!this.dirty)return;let{ctx:i,itemSelection:e,datumReader:n,itemListener:r}=t,a=i.localeManager,o=e.length;e.each((s,l,c)=>{s.proxyButton?.destroy(),s.proxyButton=i.proxyInteractionService.createProxyElement({type:"listswitch",textContent:this.getItemAriaText(a,n.getItemLabel(l),c,o),ariaChecked:!!s.datum.enabled,ariaDescribedBy:this.itemDescription.id,parent:this.itemList});let d=s.proxyButton;d.addListener("click",u=>r.onClick(u.sourceEvent,s.datum,d)),d.addListener("dblclick",u=>r.onDoubleClick(u.sourceEvent,s.datum)),d.addListener("mouseenter",u=>r.onHover(u.sourceEvent,s)),d.addListener("mouseleave",()=>r.onLeave()),d.addListener("contextmenu",u=>r.onContextClick(u,s)),d.addListener("blur",()=>r.onLeave()),d.addListener("focus",u=>r.onHover(u.sourceEvent,s)),d.addListener("drag-start",()=>{})}),this.dirty=!1}update(t){t.visible&&(this.initLegendList(t),this.updateItemProxyButtons(t),this.updatePaginationProxyButtons(t,!0)),this.updateVisibility(t.visible)}updateVisibility(t){this.itemList.setHidden(!t),this.paginationGroup.setHidden(!t)}updateItemProxyButtons({itemSelection:t,group:i,pagination:e,interactive:n}){let r=an.toCanvas(i);this.itemList.setBounds(r);let a=Math.max(...t.nodes().map(o=>o.getBBox().height));t.each((o,s)=>{if(o.proxyButton){let l=o.pageIndex===e.currentPage,{x:c,y:d,height:u,width:h}=an.toCanvas(o),m=(a-u)/2,p={x:c-r.x,y:d-m-r.y,height:a,width:h},g=n&&l;o.proxyButton.setCursor("pointer"),o.proxyButton.setEnabled(g),o.proxyButton.setPointerEvents(g?void 0:"none"),o.proxyButton.setBounds(p)}})}updatePaginationProxyButtons(t,i){let{pagination:e}=t;if(this.paginationGroup.setHidden(!e.visible),i&&"ctx"in t){let{ctx:n,oldPages:r,newPages:a}=t,o=(r?.length??a.length)>1,s=a.length>1;o!==s&&(s?(this.prevButton=n.proxyInteractionService.createProxyElement({type:"button",textContent:{id:"ariaLabelLegendPagePrevious"},tabIndex:0,parent:this.paginationGroup}),this.prevButton.addListener("click",l=>this.onPageButton(t,l,"previous")),this.prevButton.addListener("mouseenter",()=>e.onMouseHover("previous")),this.prevButton.addListener("mouseleave",()=>e.onMouseHover(void 0)),this.nextButton??(this.nextButton=n.proxyInteractionService.createProxyElement({type:"button",textContent:{id:"ariaLabelLegendPageNext"},tabIndex:0,parent:this.paginationGroup})),this.nextButton.addListener("click",l=>this.onPageButton(t,l,"next")),this.nextButton.addListener("mouseenter",()=>e.onMouseHover("next")),this.nextButton.addListener("mouseleave",()=>e.onMouseHover(void 0))):(this.nextButton?.destroy(),this.prevButton?.destroy(),this.nextButton=void 0,this.prevButton=void 0)),this.paginationGroup.setAriaHidden(s?void 0:!0)}if(this.prevButton&&this.nextButton){let{prev:n,next:r}=e.computeCSSBounds(),a=we.merge([n,r]);n.x-=a.x,n.y-=a.y,r.x-=a.x,r.y-=a.y,this.paginationGroup.setBounds(a),this.prevButton.setBounds(n),this.nextButton.setBounds(r),this.prevButton.setEnabled(e.currentPage!==0),this.nextButton.setEnabled(e.currentPage!==e.totalPages-1),this.nextButton.setCursor(e.getCursor("next")),this.prevButton.setCursor(e.getCursor("previous"))}}onPageButton(t,i,e){t.pagination.onClick(i.sourceEvent,e),this.updatePaginationProxyButtons(t,!1)}onDataUpdate(t,i){this.dirty=t.length!==i.length||t.some((e,n,r)=>{let[a,o]=[i[n],t[n]];return a.id!==o.id})}onLocaleChanged(t,i,e){let n=i.length;i.each(({proxyButton:r},a,o)=>{let s=r?.getElement();if(s!=null){let l=e.getItemLabel(a);s.textContent=this.getItemAriaText(t,l,o,n)}}),this.itemDescription.textContent=this.getItemAriaDescription(t)}onPageChange(t){this.updateItemProxyButtons(t),this.updatePaginationProxyButtons(t,!1)}getItemAriaText(t,i,e,n){return e>=0&&i?(e++,t.t("ariaLabelLegendItem",{label:i,index:e,count:n})):t.t("ariaLabelLegendItemUnknown")}getItemAriaDescription(t){return t.t("ariaDescriptionLegendItem")}};function l5(t,{itemId:i,seriesId:e,label:{text:n}},r){let a={defaultPrevented:!1,apiEvent:{type:t,itemId:i,seriesId:e,text:n,event:r,preventDefault:()=>a.defaultPrevented=!0}};return a}var Bs=(()=>{let t=class extends Kr{constructor(){super({name:"markerLabelGroup"}),this.symbolsGroup=this.appendChild(new mt({name:"legend-markerLabel-symbols"})),this.label=this.appendChild(new oo),this.enabled=!0,this.pageIndex=NaN,this.spacing=0,this.length=0,this.isCustomMarker=!1,this.marker=this.symbolsGroup.appendChild(new On({zIndex:1})),this.line=this.symbolsGroup.appendChild(new Vo({zIndex:0}));let{label:i,line:e,symbolsGroup:n}=this;e.visible=!1,n.renderToOffscreenCanvas=!0,n.optimizeForInfrequentRedraws=!0,i.textBaseline="middle",i.fontSize=12,i.fontFamily="Verdana, sans-serif",i.fill="black",i.y=1}destroy(){super.destroy(),this.proxyButton?.destroy()}setEnabled(i){this.enabled=i,this.refreshVisibilities()}getTextMeasureBBox(){return this.layout(),we.merge([this.symbolsGroup.getBBox(),this.label.getTextMeasureBBox()])}refreshVisibilities(){let i=this.enabled?1:.5;this.label.opacity=i,this.opacity=i}layout(){let{marker:i,line:e,length:n,isCustomMarker:r}=this,a=0,o=0;if(i.visible){let{size:s}=i,l=On.anchor(i.shape);a=(l.x-.5)*s+n/2,o=(l.y-.5)*s,r?(i.x=0,i.y=0,i.translationX=a,i.translationY=o):(i.x=a,i.y=o,i.translationX=0,i.translationY=0)}e.visible&&(e.x1=0,e.x2=n,e.y1=0,e.y2=0)}preRender(i){let e=super.preRender(i);return this.layout(),e}layoutLabel(){let{length:i,spacing:e}=this;this.label.x=i+e}computeBBox(){return this.layout(),super.computeBBox()}};return t.className="MarkerLabel",t})();b([bn("label")],Bs.prototype,"text",2);b([bn("label")],Bs.prototype,"fontStyle",2);b([bn("label")],Bs.prototype,"fontWeight",2);b([bn("label")],Bs.prototype,"fontSize",2);b([bn("label")],Bs.prototype,"fontFamily",2);b([bn("label","fill")],Bs.prototype,"color",2);b([eu(t=>t.layoutLabel())],Bs.prototype,"spacing",2);b([eu(t=>t.layoutLabel())],Bs.prototype,"length",2);b([te()],Bs.prototype,"isCustomMarker",2);function Bw(t){let{placement:i="bottom",floating:e=!1,xOffset:n=0,yOffset:r=0}=typeof t=="string"?{placement:t,floating:!1}:t;return{placement:i,floating:e,xOffset:n,yOffset:r}}var lu=class extends nt{constructor(){super(...arguments),this.maxLength=void 0,this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}};b([C],lu.prototype,"maxLength",2);b([C],lu.prototype,"color",2);b([C],lu.prototype,"fontStyle",2);b([C],lu.prototype,"fontWeight",2);b([C],lu.prototype,"fontSize",2);b([C],lu.prototype,"fontFamily",2);b([C],lu.prototype,"formatter",2);var ig=class extends nt{constructor(){super(...arguments),this.shape=void 0,this.size=15,this.padding=8}};b([C],ig.prototype,"shape",2);b([C],ig.prototype,"size",2);b([C],ig.prototype,"padding",2);b([C],ig.prototype,"strokeWidth",2);b([C],ig.prototype,"enabled",2);var XO=class extends nt{};b([C],XO.prototype,"strokeWidth",2);b([C],XO.prototype,"length",2);var cu=class extends nt{constructor(){super(...arguments),this.paddingX=16,this.paddingY=8,this.showSeriesStroke=!1,this.marker=new ig,this.label=new lu,this.line=new XO}};b([C],cu.prototype,"maxWidth",2);b([C],cu.prototype,"paddingX",2);b([C],cu.prototype,"paddingY",2);b([C],cu.prototype,"showSeriesStroke",2);b([C],cu.prototype,"marker",2);b([C],cu.prototype,"label",2);b([C],cu.prototype,"line",2);var JO=class extends nt{};b([C],JO.prototype,"legendItemClick",2);b([C],JO.prototype,"legendItemDoubleClick",2);var c5={type:"gradient",bounds:"item",gradient:"linear",colorStops:[{color:"black"}],rotation:0,reverse:!1},d5={type:"pattern",pattern:"forward-slanted-lines",width:8,height:8,padding:1,fill:"black",fillOpacity:1,backgroundFill:"white",backgroundFillOpacity:1,stroke:"black",strokeOpacity:1,strokeWidth:1,rotation:0,scale:1},u5={type:"image",backgroundFill:"black",backgroundFillOpacity:1,rotation:0,repeat:"no-repeat",fit:"contain",width:8,height:8},Nn=(()=>{let t=class extends nt{constructor(i){super(),this.ctx=i,this.id=pn(this),this.group=new Kr({name:"legend",zIndex:16}),this.itemSelection=qr.select(this.group,Bs),this.containerNode=this.group.appendChild(new ir({name:"legend-container"})),this.oldSize=[0,0],this.pages=[],this.maxPageSize=[0,0],this.paginationTrackingIndex=0,this.truncatedItems=new Set,this._data=[],this.toggleSeries=!0,this.item=new cu,this.listeners=new JO,this.enabled=!0,this.position="bottom",this.border=new nm(this.containerNode),this.cornerRadius=0,this.fillOpacity=1,this.padding=4,this.spacing=20,this.cleanup=new pt,this.size=[0,0],this._visible=!0,this.pagination=new tg(n=>i.updateService.update(n),n=>this.updatePageNumber(n)),this.pagination.attachPagination(this.group);let{items:e}=i.contextMenuRegistry.builtins;e["toggle-series-visibility"].action=n=>this.contextToggleVisibility(n),e["toggle-other-series"].action=n=>this.contextToggleOtherSeries(n),this.cleanup.register(i.eventsHub.on("legend:change",this.onLegendDataChange.bind(this)),i.layoutManager.registerElement(1,n=>this.positionLegend(n)),i.eventsHub.on("locale:change",()=>this.onLocaleChanged()),()=>delete e["toggle-series-visibility"].action,()=>delete e["toggle-other-series"].action,()=>this.group.remove()),this.domProxy=new nge(this.ctx,this.id),this.ctx.historyManager.addMementoOriginator(i.legendManager)}set data(i){Ln(i,this._data)||(this.domProxy.onDataUpdate(this._data,i),this._data=i,this.updateGroupVisibility())}get data(){return this._data}onLegendDataChange({legendData:i=[]}){this.enabled&&(this.data=i.filter(e=>!e.hideInLegend))}destroy(){this.ctx.domManager.removeChild("canvas-overlay",`${this.id}-toolbar`),this.ctx.domManager.removeChild("canvas-overlay",`${this.id}-pagination`),this.cleanup.flush(),this.itemSelection.clear()}getOrientation(){return this.orientation??"horizontal"}set visible(i){this._visible=i,this.updateGroupVisibility()}get visible(){return this._visible}updateGroupVisibility(){this.group.visible=this.enabled&&this.visible&&this.data.length>0}attachLegend(i){i.appendChild(this.group)}getItemLabel(i){let{formatter:e}=this.item.label;if(e){let n=i.datum;return this.cachedCallWithContext(e,f({itemId:i.itemId,value:i.label.text,seriesId:i.seriesId},n&&{datum:n}))}return i.label.text}calcLayout(i,e){let{paddingX:n,paddingY:r,label:a,maxWidth:o,label:{maxLength:s=1/0,fontStyle:l,fontWeight:c,fontSize:d,fontFamily:u}}=this.item,h=[...this.data];this.reverseOrder&&h.reverse(),this.itemSelection.update(h);let m=[],p=tu.getMeasurer({font:a}),y=o??i*.8,{markerWidth:v,anyLineEnabled:x}=this.calculateMarkerWidth();if(this.itemSelection.each((U,H)=>{U.fontStyle=l,U.fontWeight=c,U.fontSize=d,U.fontFamily=u;let q=this.updateMarkerLabel(U,H,v,x),he=H.itemId??H.id,Oe=(this.getItemLabel(H)??"<unknown>").replace(/\r?\n/g," ");U.text=this.truncate(Oe,s,y,q,p,he),m.push(U.getTextMeasureBBox())}),i=Math.max(1,i),e=Math.max(1,e),!isFinite(i))return{};[i,e]=this.updateContainer(i,e);let w=this.size,D=this.oldSize;w[0]=i,w[1]=e,(w[0]!==D[0]||w[1]!==D[1])&&(D[0]=w[0],D[1]=w[1]);let{pages:k,maxPageHeight:E,maxPageWidth:A}=this.updatePagination(m,i,e),N=this.pages;this.pages=k,this.maxPageSize=[A-n,E-r];let F=this.pagination.currentPage,P=this.pages[F];return this.pages.length<1||!P?(this.visible=!1,{oldPages:N}):(this.visible=!0,this.updatePositions(F),this.update(),{oldPages:N})}isCustomMarker(i,e){return i&&e!==void 0&&typeof e!="string"}calcSymbolsEnabled(i){let{showSeriesStroke:e,marker:n}=this.item,r=!!n.enabled||!e||(i.marker.enabled??!0),a=!!(i.line&&e),o=this.isCustomMarker(r,i.marker.shape);return{markerEnabled:r,lineEnabled:a,isCustomMarker:o}}calcSymbolsLengths(i,e,n){let{marker:r,line:a}=this.item,o,{shape:s}=i.marker;if(this.isCustomMarker(e,s)){let d=new On;d.shape=s,d.updatePath();let u=d.getBBox();o=Math.max(u.width,u.height)}let l=e?r.size:0,c=n?a.length??25:0;return{markerLength:l,lineLength:c,customMarkerSize:o}}calculateMarkerWidth(){let i=0,e=!1;return this.itemSelection.each((n,r)=>{let{symbol:a}=r,{lineEnabled:o,markerEnabled:s}=this.calcSymbolsEnabled(a),{markerLength:l,lineLength:c,customMarkerSize:d=-1/0}=this.calcSymbolsLengths(a,s,o);i=Math.max(i,c,d,l),e||(e=o)}),{markerWidth:i,anyLineEnabled:e}}updateMarkerLabel(i,e,n,r){let{marker:a,paddingX:o}=this.item,{symbol:s}=e,l=o,{markerEnabled:c,isCustomMarker:d}=this.calcSymbolsEnabled(s),u=a.padding;(c||r)&&(l+=u+n);let{marker:h,line:m}=i;return h.visible=c,h.visible&&(h.shape=a.shape??s.marker.shape??"square",h.size=a.size,Sc(h,this.getMarkerStyles(s))),m.visible=r,m.visible&&Sc(m,this.getLineStyles(s)),i.length=n,i.spacing=u,i.isCustomMarker=d,l}updateContainer(i,e){let n=this.getContainerStyles();return this.containerNode.width=0,this.containerNode.height=0,Sc(this.containerNode,n),this.containerNode.cornerRadius=n.cornerRadius,i-=n.strokeWidth*2+n.padding.left+n.padding.right,e-=n.strokeWidth*2+n.padding.top+n.padding.bottom,[i,e]}truncate(i,e,n,r,a,o){let s=!1;i.length>e&&(i=i.substring(0,e),s=!0);let l=Iv.truncateLine(i,a,n-r,s);return l.endsWith(Pi.EllipsisChar)?this.truncatedItems.add(o):this.truncatedItems.delete(o),l}updatePagination(i,e,n){let r=this.getOrientation(),a=Math.min(this.paginationTrackingIndex,i.length);this.pagination.orientation=r,this.pagination.translationX=0,this.pagination.translationY=0;let{pages:o,maxPageHeight:s,maxPageWidth:l,paginationBBox:c,paginationVertical:d}=this.calculatePagination(i,e,n),u=o.findIndex(D=>D.endIndex>=a);this.pagination.currentPage=Ae(0,u,o.length-1);let{paddingX:h,paddingY:m}=this.item,p=8,g=l-h,y=s-m,v=0,x=-c.y-this.item.marker.size/2;d?x+=y+p:(v+=-c.x+g+p,x+=(y-c.height)/2),this.pagination.translationX=v,this.pagination.translationY=x,this.pagination.update(),this.pagination.updateMarkers();let w=0;return this.itemSelection.each((D,k,E)=>{E>(o[w]?.endIndex??1/0)&&w++,D.pageIndex=w}),{maxPageHeight:s,maxPageWidth:l,pages:o}}calculatePagination(i,e,n){let{paddingX:r,paddingY:a}=this.item,o=["left","left-top","left-bottom","right","right-top","right-bottom"],{placement:s}=Bw(this.position),l=this.getOrientation(),c=o.includes(s),d=this.pagination.getBBox(),u=new we(0,0,0,0),h=[],m=0,p=0,g=0,y=x=>x.width===d.width&&x.height===d.height,v=this.maxWidth!==void 0&&this.maxHeight!==void 0;do{if(g++>10){z.warn("unable to find stable legend layout.");break}d=u;let x=e-(c?0:d.width),w=n-(c?d.height:0),D=Qfe({orientation:l,bboxes:i,maxHeight:w,maxWidth:x,itemPaddingY:a,itemPaddingX:r,forceResult:v});h=D?.pages??[],m=D?.maxPageWidth??0,p=D?.maxPageHeight??0;let k=h.length;if(this.pagination.visible=k>1,this.pagination.totalPages=k,this.pagination.update(),this.pagination.updateMarkers(),u=this.pagination.getBBox(),!this.pagination.visible)break}while(!y(u));return{maxPageWidth:m,maxPageHeight:p,pages:h,paginationBBox:u,paginationVertical:c}}updatePositions(i=0){let{item:{paddingY:e},itemSelection:n,pages:r}=this;if(r.length<1||!r[i])return;let{columns:a,startIndex:o,endIndex:s}=r[i],l=0,c=0,d=a.length,u=a[0].indices.length,h=this.getOrientation()==="horizontal",m=a[0].bboxes[0].height+e,p=[];n.each((g,y,v)=>{if(v<o||v>s){g.visible=!1;return}let x=v-o,w,D;h?(w=x%d,D=Math.floor(x/d)):(w=Math.floor(x/u),D=x%u),g.visible=!0;let k=a[w];k&&(c=Math.floor(m*D),l=Math.floor(p[D]??0),p[D]=(p[D]??0)+k.columnWidth,g.translationX=l,g.translationY=c)})}updatePageNumber(i){let{itemSelection:e,group:n,pagination:r,pages:a,toggleSeries:o}=this,{startIndex:s,endIndex:l}=a[i];s===0?this.paginationTrackingIndex=0:i===a.length-1?this.paginationTrackingIndex=l:this.paginationTrackingIndex=Math.floor((s+l)/2),this.pagination.update(),this.pagination.updateMarkers(),this.updatePositions(i),this.domProxy.onPageChange({itemSelection:e,group:n,pagination:r,interactive:o}),this.ctx.updateService.update(7)}update(){let{label:{color:i}}=this.item;this.itemSelection.each((e,n)=>{e.setEnabled(n.enabled),e.color=i}),this.updateContextMenu()}updateContextMenu(){this.ctx.contextMenuRegistry.setVisible("toggle-series-visibility",this.toggleSeries),this.ctx.contextMenuRegistry.setVisible("toggle-other-series",this.toggleSeries)}getLineStyles(i){let{stroke:e,strokeOpacity:n=1,strokeWidth:r,lineDash:a}=i.line??{},o=Math.min(2,r??1);return{stroke:e,strokeOpacity:n,strokeWidth:this.item.line.strokeWidth??o,lineDash:a}}getMarkerStyles({marker:i}){let{fill:e,stroke:n,strokeOpacity:r=1,fillOpacity:a=1,strokeWidth:o,lineDash:s,lineDashOffset:l}=i,c=Math.min(2,o??1);return qd(e)&&(e.width=8,e.height=8,e.padding=1,e.strokeWidth=Math.min(2,e.strokeWidth??2)),jh(e)&&(e.fit="contain",e.width=void 0,e.height=void 0,e.repeat="no-repeat"),Ol({fill:e,stroke:n,strokeOpacity:r,fillOpacity:a,strokeWidth:this.item.marker.strokeWidth??c,lineDash:s,lineDashOffset:l},c5,d5,u5)}getContainerStyles(){let{stroke:i,strokeOpacity:e,strokeWidth:n}=this.border,{cornerRadius:r,fill:a,fillOpacity:o,padding:s}=this,l=typeof s=="number";return Ol({cornerRadius:r,fill:a,fillOpacity:o,padding:{top:l?s:s.top??0,right:l?s:s.right??0,bottom:l?s:s.bottom??0,left:l?s:s.left??0},stroke:i,strokeOpacity:e,strokeWidth:this.border.enabled?n:0},c5,d5,u5)}computePagedBBox(){let i=mt.computeChildrenBBox(this.group.excludeChildren({name:"legend-container"}));if(this.pages.length>1){let[r,a]=this.maxPageSize;i.height=Math.max(a,i.height),i.width=Math.max(r,i.width)}let{strokeWidth:e,padding:n}=this.getContainerStyles();return i.grow(n).grow(e),i}findNode(i){let{datum:e,proxyButton:n}=this.itemSelection.select(r=>r.datum?.itemId===i.itemId)[0]??{};if(e===void 0||n===void 0)throw new Error(`AG Charts - Missing required properties { datum: ${e}, proxyButton: ${JSON.stringify(n)} }`);return{datum:e,proxyButton:n}}contextToggleVisibility(i){let{datum:e,proxyButton:n}=this.findNode(i);this.doClick(i.event,e,n)}contextToggleOtherSeries(i){this.doDoubleClick(i.event,this.findNode(i).datum)}onContextClick(i,e){let{sourceEvent:n}=i,r=e.datum;this.preventHidingAll&&this.contextMenuDatum?.enabled&&this.getVisibleItemCount()<=1?this.ctx.contextMenuRegistry.builtins.items["toggle-series-visibility"].enabled=!1:this.ctx.contextMenuRegistry.builtins.items["toggle-series-visibility"].enabled=!0;let a=this.ctx.chartService.series.length>1&&this.ctx.chartService.series[0]?.getLegendData("category")[0]?.hideToggleOtherSeries!==!0;this.ctx.contextMenuRegistry.setVisible("toggle-other-series",a);let{offsetX:o,offsetY:s}=n,{x:l,y:c}=an.toCanvasPoint(e,o,s);this.ctx.contextMenuRegistry.dispatchContext("legend-item",{widgetEvent:i,canvasX:l,canvasY:c},{legendItem:r})}onClick(i,e,n){this.doClick(i,e,n)&&i.preventDefault()}getVisibleItemCount(){return this.ctx.chartService.series.flatMap(i=>i.getLegendData("category")).filter(i=>i.enabled).length}doClick(i,e,n){let{listeners:{legendItemClick:r},ctx:{chartService:a,highlightManager:o},preventHidingAll:s,toggleSeries:l}=this;if(!e)return!1;let{legendType:c,seriesId:d,itemId:u,enabled:h,legendItemName:m}=e,p=a.series.find(v=>v.id===d);if(!p)return!1;let g=h,y=l5("click",e,i);return r&&Ls([p.properties,this.ctx.chartService],r,y.apiEvent),y.defaultPrevented||(l&&(g=!h,s&&!g&&this.getVisibleItemCount()<2&&(g=!0),n.setChecked(g),this.ctx.eventsHub.emit("legend:item-click",{legendType:c,series:p,itemId:u,enabled:g,legendItemName:m})),g?o.updateHighlight(this.id,{series:p,itemId:u,datum:void 0,datumIndex:void 0,legendItemName:m}):o.updateHighlight(this.id),this.ctx.legendManager.update(),this.ctx.updateService.update(2,{forceNodeDataRefresh:!0,skipAnimations:e.skipAnimations??!1})),!0}onDoubleClick(i,e){this.doDoubleClick(i,e)&&i.preventDefault()}doDoubleClick(i,e){let{listeners:{legendItemDoubleClick:n},ctx:{chartService:r},toggleSeries:a}=this;if(!e)return!1;let{legendType:o,id:s,itemId:l,seriesId:c}=e,d=r.series.find(h=>h.id===s);if(!d)return!1;let u=l5("dblclick",e,i);if(n&&Ls([d.properties,this.ctx.chartService],n,u.apiEvent),u.defaultPrevented)return!0;if(a){let h=r.series.flatMap(y=>y.getLegendData("category")),m=0,p=new Set;for(let y of h)y.enabled&&(m+=1,y.legendItemName!=null&&p.add(y.legendItemName));p.size>0&&(m=p.size);let g=h.find(y=>y.itemId===l&&y.seriesId===c);this.ctx.eventsHub.emit("legend:item-double-click",{legendType:o,series:d,itemId:l,numVisibleItems:m,enabled:g?.enabled??!1,legendItemName:g?.legendItemName})}return this.ctx.legendManager.update(),this.ctx.updateService.update(2,{forceNodeDataRefresh:!0}),!0}toTooltipMeta(i,e){let n;return i instanceof FocusEvent?n=an.toCanvas(e).computeCenter():(i.preventDefault(),n=an.toCanvasPoint(e,i.offsetX,i.offsetY)),{canvasX:n.x,canvasY:n.y,showArrow:!1}}onHover(i,e){if(!this.enabled)throw new Error("AG Charts - onHover handler called on disabled legend");this.pagination.setPage(e.pageIndex);let n=e.datum,r=n?this.ctx.chartService.series.find(a=>a.id===n?.id):void 0;if(n&&this.truncatedItems.has(n.itemId??n.id)){let a=this.toTooltipMeta(i,e);this.ctx.tooltipManager.updateTooltip(this.id,a,[{type:"structured",title:this.getItemLabel(n)}])}else this.ctx.tooltipManager.removeTooltip(this.id);n?.enabled&&r?this.updateHighlight({series:r,itemId:n?.itemId,datum:void 0,datumIndex:void 0,legendItemName:n?.legendItemName}):this.updateHighlight()}onLeave(){this.ctx.tooltipManager.removeTooltip(this.id),this.updateHighlight()}updateHighlight(i){this.ctx.interactionManager.isState(32)?this.ctx.highlightManager.updateHighlight(this.id,i):this.ctx.interactionManager.isState(2)&&(this.pendingHighlightDatum=i,this.ctx.animationManager.onBatchStop(()=>{this.ctx.highlightManager.updateHighlight(this.id,this.pendingHighlightDatum)}))}onLocaleChanged(){this.domProxy.onLocaleChanged(this.ctx.localeManager,this.itemSelection,this)}positionLegend(i){let e=this.positionLegendScene(i);this.positionLegendDOM(e)}positionLegendScene(i){if(!this.enabled||!this.data.length)return;let{placement:e,floating:n,xOffset:r,yOffset:a}=Bw(this.position),o=n?new we(0,0,i.width,i.height):i.layoutBox,{x:s,y:l,width:c,height:d}=o,[u,h]=this.calculateLegendDimensions(o),{oldPages:m}=this.calcLayout(u,h),p=this.computePagedBBox();if(this.visible){let y=function(D){};var g=y;let v=this.spacing,x,w;switch(e){case"top":x=(c-p.width)/2,w=0;break;case"bottom":x=(c-p.width)/2,w=d-p.height;break;case"right":x=c-p.width,w=(d-p.height)/2;break;case"left":x=0,w=(d-p.height)/2;break;case"top-right":case"right-top":x=c-p.width,w=0;break;case"top-left":case"left-top":x=0,w=0;break;case"bottom-right":case"right-bottom":x=c-p.width,w=d-p.height;break;case"bottom-left":case"left-bottom":x=0,w=d-p.height;break;default:y(e)}if(!n){let D,k;switch(e){case"top":case"top-right":case"top-left":D=p.height+v,k="top";break;case"bottom":case"bottom-right":case"bottom-left":D=p.height+v,k="bottom";break;case"left":case"left-top":case"left-bottom":D=p.width+v,k="left";break;case"right":case"right-top":case"right-bottom":D=p.width+v,k="right";break;default:y(e)}o.shrink(D,k)}x+=r,w+=a,this.group.translationX=Math.floor(s+x-p.x),this.group.translationY=Math.floor(l+w-p.y),this.containerNode.x=p.x,this.containerNode.y=p.y,this.containerNode.width=p.width,this.containerNode.height=p.height}return m}positionLegendDOM(i){let{ctx:e,itemSelection:n,pagination:r,pages:a,toggleSeries:o,group:s,listeners:{legendItemClick:l,legendItemDoubleClick:c}}=this,d=this.visible&&this.enabled,u=o||c!=null||l!=null;this.domProxy.update({visible:d,interactive:u,ctx:e,itemSelection:n,group:s,pagination:r,oldPages:i,newPages:a,datumReader:this,itemListener:this})}calculateLegendDimensions(i){let{width:e,height:n}=i,{placement:r}=Bw(this.position),a=e/n,o=.5,s=.2,l=.25,c,d;function u(h){}switch(r){case"top":case"top-left":case"top-right":case"bottom":case"bottom-left":case"bottom-right":{let h=a<1?Math.min(o,s*(1/a)):s;c=this.maxWidth?Math.min(this.maxWidth,e):e,d=this.maxHeight?Math.min(this.maxHeight,n):Math.round(n*h);break}case"left":case"left-top":case"left-bottom":case"right":case"right-top":case"right-bottom":{let h=a>1?Math.min(o,l*a):l;c=this.maxWidth?Math.min(this.maxWidth,e):Math.round(e*h),d=this.maxHeight?Math.min(this.maxHeight,n):n;break}default:}return[c,d]}cachedCallWithContext(i,...e){let{callbackCache:n,chartService:r}=this.ctx;return n.call([this,r],i,...e)}};return t.className="Legend",t})();b([C],Nn.prototype,"toggleSeries",2);b([C],Nn.prototype,"pagination",2);b([C],Nn.prototype,"item",2);b([C],Nn.prototype,"listeners",2);b([eu((t,i,e)=>{if(t.updateGroupVisibility(),i===e)return;let{ctx:{legendManager:n,stateManager:r}}=t;e===!1&&i===!0&&r.restoreState(n)}),C],Nn.prototype,"enabled",2);b([C],Nn.prototype,"position",2);b([C],Nn.prototype,"maxWidth",2);b([C],Nn.prototype,"maxHeight",2);b([C],Nn.prototype,"reverseOrder",2);b([C],Nn.prototype,"orientation",2);b([C],Nn.prototype,"preventHidingAll",2);b([C],Nn.prototype,"border",2);b([C],Nn.prototype,"cornerRadius",2);b([C],Nn.prototype,"fill",2);b([C],Nn.prototype,"fillOpacity",2);b([C],Nn.prototype,"padding",2);b([C],Nn.prototype,"spacing",2);b([C],Nn.prototype,"xOffset",2);b([C],Nn.prototype,"yOffset",2);var rge={type:"legend",optionsKey:"legend",identifier:"category",chartTypes:["cartesian","polar","topology","standalone"],moduleFactory:t=>new Nn(t),packageType:"community",removable:"standalone-only"},d_=class extends nt{constructor(t){super(),this.ctx=t,this.rectNode=new ir,this.border=new nm(this.rectNode),this.cornerRadius=0,this.padding=0,this.cleanup=new pt,this.node=this.createNode(),this.node.append([this.rectNode]),this.rectNode.fill=void 0,this.cleanup.register(t.scene.attachNode(this.node),t.eventsHub.on("layout:complete",i=>this.onLayoutComplete(i)))}destroy(){this.cleanup.flush()}getPadding(){let{border:t,padding:i}=this,e=t.enabled?t.strokeWidth:0;if(typeof i=="number"){let n=i+e;return{top:n,right:n,bottom:n,left:n}}return{top:(i.top??0)+e,right:(i.right??0)+e,bottom:(i.bottom??0)+e,left:(i.left??0)+e}}createNode(){return new mt({name:"series-area-container",zIndex:4})}onLayoutComplete(t){let{x:i,y:e,width:n,height:r}=t.series.paddedRect;this.rectNode.x=i,this.rectNode.y=e,this.rectNode.width=n,this.rectNode.height=r}};b([C],d_.prototype,"border",2);b([C],d_.prototype,"clip",2);b([bn("rectNode","cornerRadius"),C],d_.prototype,"cornerRadius",2);b([C],d_.prototype,"padding",2);var age={type:"root",optionsKey:"seriesArea",packageType:"community",chartTypes:["cartesian","polar","topology","standalone"],moduleFactory:t=>new d_(t)};function hD(t,i,e,n,r){let a=(u,h,m,p)=>{e.animate({id:`${t}_${i}_${h.id}_${u}`,groupId:t,from:m?1:0,to:1,ease:av,collapsable:m,onUpdate(g,y){y&&u!=="removed"||(h.path.clear(!0),p(g,h),h.checkPathDirty())},onStop(){u==="added"&&(h.path.clear(!0),p(1,h),h.checkPathDirty())},phase:Ts[u]})},o=new va,s=u=>(o.resetPathDirty(),u(0,o),o.resetPathDirty(),u(1,o),o.checkPathDirty(),o.isPathDirty()),{addPhaseFn:l,updatePhaseFn:c,removePhaseFn:d}=r;for(let u of n)e.isSkipped()||(a("removed",u,!s(d),d),a("updated",u,!s(c),c)),a("added",u,!s(l),l)}function Al(t,i,e,n,r,a){if(n.itemStyler){let o={border:n.border,color:n.color,cornerRadius:n.cornerRadius,datum:i?.datum,enabled:n.enabled,fill:n.fill,fillOpacity:n.fillOpacity,fontFamily:n.fontFamily,fontSize:n.fontSize,fontStyle:n.fontStyle,fontWeight:n.fontWeight,itemId:void 0,seriesId:t.id,padding:n.padding,highlighted:r,highlightState:a};return Jt(t.callWithContext(n.itemStyler,f(f({},e),o)),o)}return n}function U6(t,i,e,n,r,a,o){if(n.enabled&&r){let s=Al(t,r,e,n,a,o);i.visible=!0,i.x=r.x,i.y=r.y,i.text=r.text,i.fill=s.color,i.setAlign(r),i.setFont(s),i.setBoxing(s)}else i.visible=!1}var oge={"inside-start":{inside:!0,direction:-1,textAlignment:1},"inside-end":{inside:!0,direction:1,textAlignment:-1},"outside-start":{inside:!1,direction:-1,textAlignment:-1},"outside-end":{inside:!1,direction:1,textAlignment:1}};function H6({isUpward:t,isVertical:i,placement:e,spacing:n=0,rect:r}){let a=r.x+r.width/2,o=r.y+r.height/2,s="center",l="middle";if(e!=="inside-center"){let c=(t?1:-1)*(i?-1:1),{direction:d,textAlignment:u}=oge[e],h=(d+1)*.5;if(i){let m=t?r.y+r.height:r.y,p=r.height*c;o=m+p*h+n*u*c,l=u===c?"top":"bottom"}else{let m=t?r.x:r.x+r.width,p=r.width*c;a=m+p*h+n*u*c,s=u===c?"left":"right"}}return{x:a,y:o,textAlign:s,textBaseline:l}}function fn({id:t},i,e,...n){for(let r of n)r.cleanup();Nc(t,i,e,n,{opacity:0},{opacity:1},{phase:"trailing"})}function zw({id:t},i,e,...n){Nc(t,i,e,n,{opacity:1},{opacity:0},{phase:"remove"})}function rm(t){return{opacity:1}}var eL=class extends nt{constructor(){super(...arguments),this._dirty=!0}markDirty(){this._dirty=!0}markClean(t){this._dirty=!1}isDirty(){return this._dirty}onChangeDetection(t){this.markDirty()}},Vl=class extends eL{constructor(){super(...arguments),this.enabled=!0,this.color="rgba(0, 0, 0, 0.5)",this.xOffset=0,this.yOffset=0,this.blur=5}};b([C,te()],Vl.prototype,"enabled",2);b([C,te()],Vl.prototype,"color",2);b([C,te()],Vl.prototype,"xOffset",2);b([C,te()],Vl.prototype,"yOffset",2);b([C,te()],Vl.prototype,"blur",2);var pr=class extends eL{constructor(){super(...arguments),this.enabled=!0,this.shape="circle",this.size=6,this.fillGradientDefaults=new Go,this.fillPatternDefaults=new Wi,this.fillImageDefaults=new Ua,this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0}getStyle(){let{size:t,shape:i,fill:e,fillOpacity:n,stroke:r,strokeWidth:a,strokeOpacity:o,lineDash:s,lineDashOffset:l}=this;return{size:t,shape:i,fill:e,fillOpacity:n,stroke:r,strokeWidth:a,strokeOpacity:o,lineDash:s,lineDashOffset:l}}getDiameter(){return this.size+this.strokeWidth}};b([C,te()],pr.prototype,"enabled",2);b([C,uo({equals:Vf})],pr.prototype,"shape",2);b([C,te()],pr.prototype,"size",2);b([C,uo({equals:Ln})],pr.prototype,"fill",2);b([C],pr.prototype,"fillGradientDefaults",2);b([C],pr.prototype,"fillPatternDefaults",2);b([C],pr.prototype,"fillImageDefaults",2);b([C,te()],pr.prototype,"fillOpacity",2);b([C,te()],pr.prototype,"stroke",2);b([C,te()],pr.prototype,"strokeWidth",2);b([C,te()],pr.prototype,"strokeOpacity",2);b([C],pr.prototype,"lineDash",2);b([C],pr.prototype,"lineDashOffset",2);b([C,uo({equals:Vf})],pr.prototype,"itemStyler",2);var G6=class extends nt{constructor(){super(...arguments),this.enabled=!1}};b([C],G6.prototype,"enabled",2);var Uc=class extends nt{constructor(){super(...arguments),this.interaction=new G6,this.position=new Zh,this.range=void 0,this.class=void 0}formatTooltip(t,i,e){let n=this.renderer==null?void 0:Ls(t,this.renderer,e);return typeof n=="string"?{type:"raw",rawHtmlString:n}:n!=null?f(f({type:"structured"},i),n):f({type:"structured"},i)}};b([C],Uc.prototype,"enabled",2);b([C],Uc.prototype,"showArrow",2);b([C],Uc.prototype,"renderer",2);b([C],Uc.prototype,"interaction",2);b([C],Uc.prototype,"position",2);b([C],Uc.prototype,"range",2);b([C],Uc.prototype,"class",2);function am(){return new Uc}var W6=class{constructor(t,i,e){this.root=new cge(t,i,e)}clear(t){this.root.clear(t)}addValue(t,i){let e={hitTester:t,value:i,distanceSquared:(n,r)=>t.distanceSquared(n,r)};this.root.addElem(e)}find(t,i){let e={best:{nearest:void 0,distanceSquared:1/0}};return this.root.find(t,i,e),e.best}},sge=class{constructor(t,i,e,n){this.nw=t,this.ne=i,this.sw=e,this.se=n}addElem(t){this.nw.addElem(t),this.ne.addElem(t),this.sw.addElem(t),this.se.addElem(t)}find(t,i,e){this.nw.find(t,i,e),this.ne.find(t,i,e),this.sw.find(t,i,e),this.se.find(t,i,e)}},lge=class{constructor(t,i,e){this.capacity=t,this.maxdepth=i,this.boundary=e??we.NaN,this.elems=[],this.subdivisions=void 0}clear(t){this.elems.length=0,this.boundary=t,this.subdivisions=void 0}addElem(t){this.addCondition(t)&&(this.subdivisions===void 0?this.maxdepth===0||this.elems.length<this.capacity?this.elems.push(t):this.subdivide(t):this.subdivisions.addElem(t))}find(t,i,e){this.findCondition(t,i,e)&&(this.subdivisions===void 0?this.findAction(t,i,e):this.subdivisions.find(t,i,e))}subdivide(t){this.subdivisions=this.makeSubdivisions();for(let i of this.elems)this.subdivisions.addElem(i);this.subdivisions.addElem(t),this.elems.length=0}makeSubdivisions(){let{x:t,y:i,width:e,height:n}=this.boundary,{capacity:r}=this,a=this.maxdepth-1,o=e/2,s=n/2,l=new we(t,i,o,s),c=new we(t+o,i,o,s),d=new we(t,i+s,o,s),u=new we(t+o,i+s,o,s);return new sge(this.child(r,a,l),this.child(r,a,c),this.child(r,a,d),this.child(r,a,u))}},cge=class $6 extends lge{addCondition(i){let{x:e,y:n}=i.hitTester.midPoint;return this.boundary.containsPoint(e,n)}findCondition(i,e,n){let{best:r}=n;return r.distanceSquared!==0&&this.boundary.distanceSquared(i,e)<r.distanceSquared}findAction(i,e,n){let r=CD(i,e,this.elems,n.best.distanceSquared);r.nearest!==void 0&&r.distanceSquared<n.best.distanceSquared&&(n.best=r)}child(i,e,n){return new $6(i,e,n)}},tL=class extends qD{constructor(n){var r=n,{clipFocusBox:t,categoryKey:i}=r,e=ci(r,["clipFocusBox","categoryKey"]);super(e),this.categoryKey=i,this.clipFocusBox=t??!0}dataCount(){return this.processedData?.dataSources?.get(this.id)?.length??0}getScaleInformation({xScale:t,yScale:i}){let e=Di.is(t),n=Di.is(i);return{isContinuousX:e,isContinuousY:n,xScaleType:t?.type,yScaleType:i?.type}}getModulePropertyDefinitions(){let t=this.axes.x?.scale,i=this.axes.y?.scale;return this.moduleMap.mapModules(e=>e.getPropertyDefinitions(this.getScaleInformation({xScale:t,yScale:i}))).flat()}requestDataModel(t,i,e){return L(this,null,function*(){e.props.push(...this.getModulePropertyDefinitions());let{dataModel:n,processedData:r}=yield t.request(this.id,i??[],e);return this.dataModel=n,this.processedData=r,this.events.emit("data-processed",{dataModel:n,processedData:r}),{dataModel:n,processedData:r}})}isProcessedDataAnimatable(){let{processedData:t}=this;if(!t)return!1;let i=t.reduced?.animationValidation;if(!i)return!0;let{orderedKeys:e,uniqueKeys:n}=i;return e&&n}checkProcessedDataAnimatable(){this.isProcessedDataAnimatable()||this.ctx.animationManager.skipCurrentBatch()}pickFocus(t){let i=this.getNodeData();if(i===void 0||i.length===0)return;let e=this.computeFocusDatumIndex(t,i);if(e===void 0)return;let{clipFocusBox:n}=this,r=i[e],a=S(f({},t),{datumIndex:e}),o=this.computeFocusBounds(a);if(o!==void 0)return{bounds:o,clipFocusBox:n,datum:r,datumIndex:e}}pickNodesExactShape(t){let i=super.pickNodesExactShape(t);return i.sort((e,n)=>e.datumIndex-n.datumIndex),i}isDatumEnabled(t,i){let{missing:e=!1,enabled:n=!0,focusable:r=!0}=t[i];return!e&&n&&r}computeFocusDatumIndex(t,i){let e=(o,s)=>{for(;o>=0&&!this.isDatumEnabled(i,o);)o+=s;return o===-1?void 0:o},n=(o,s)=>{for(;o<i.length&&!this.isDatumEnabled(i,o);)o+=s;return o===i.length?void 0:o},r,a=Ae(0,t.datumIndex,i.length-1);return t.datumIndexDelta<0?r=e(a,t.datumIndexDelta):t.datumIndexDelta>0?r=n(a,t.datumIndexDelta):r=n(a,1)??e(a,-1),r===void 0?t.datumIndexDelta===0?void 0:t.datumIndex-t.datumIndexDelta:r}dataModelPropertyIsKey(t){let{processedData:i}=this;return i?i.defs.keys.some(e=>e.id===t&&e.idsMap?.get(this.id)?.has(t)===!0):!1}keysOrValues(t){let{dataModel:i,processedData:e}=this;return!i||!e?[]:this.dataModelPropertyIsKey(t)?i.resolveKeysById(this,t,e):i.resolveColumnById(this,t,e)}sortOrder(t){let{dataModel:i,processedData:e}=this;if(!(!i||!e))return this.dataModelPropertyIsKey(t)?i.getKeySortOrder(this,t,e):i.getColumnSortOrder(this,t,e)}getCategoryKey(){return this.categoryKey}getCategoryValue(t){let{processedData:i,dataModel:e}=this,n=this.getCategoryKey();return!i||!e||!n||(i.invalidData?.get(this.id)?.[t]??!1)?void 0:this.keysOrValues(n)[t]}datumIndexForCategoryValue(t){let{processedData:i,dataModel:e}=this,n=this.getCategoryKey();if(!i||!e||!n)return;t=t.valueOf();let r=i.invalidData?.get(this.id),a=this.keysOrValues(n);for(let o=0;o<a.length;o+=1){if(r?.[o]===!0)continue;let s=a[o]?.valueOf();if(Ln(t,s))return o}}},ng={x:["xKey"],y:["yKey"]},rg={x:["xName"],y:["yName"]},iL=class extends KD{constructor(t,i,e,n){super(t,i,e,n),this.xKey=n.properties.xKey,this.yKey=n.properties.yKey}},du=class extends Wo{constructor(){super(...arguments),this.pickOutsideVisibleMinorAxis=!1}};b([C],du.prototype,"legendItemName",2);b([C],du.prototype,"pickOutsideVisibleMinorAxis",2);var mD=100,om=class extends tL{constructor(l){var c=l,{pathsPerSeries:t=["path"],pathsZIndexSubOrderOffset:i=[],datumSelectionGarbageCollection:e=!0,animationAlwaysUpdateSelections:n=!1,animationResetFns:r,propertyKeys:a,propertyNames:o}=c,s=ci(c,["pathsPerSeries","pathsZIndexSubOrderOffset","datumSelectionGarbageCollection","animationAlwaysUpdateSelections","animationResetFns","propertyKeys","propertyNames"]);if(super(f({propertyKeys:a,propertyNames:o,canHaveAxes:!0},s)),this.NodeEvent=iL,this.dataNodeGroup=this.contentGroup.appendChild(new mt({name:`${this.id}-series-dataNodes`,zIndex:1})),this.labelGroup=this.contentGroup.appendChild(new Kr({name:`${this.id}-series-labels`})),this.labelSelection=qr.select(this.labelGroup,oo),this.highlightSelection=qr.select(this.highlightGroup,()=>this.nodeFactory()),this.annotationSelections=new Set,this.debug=yt.create(),!a||!o)throw new Error(`Unable to initialise series type ${this.type}`);this.opts={pathsPerSeries:t,pathsZIndexSubOrderOffset:i,propertyKeys:a,propertyNames:o,animationResetFns:r,animationAlwaysUpdateSelections:n,datumSelectionGarbageCollection:e},this.paths=t.map(d=>new va({name:`${this.id}-${d}`})),this.datumSelection=qr.select(this.dataNodeGroup,()=>this.nodeFactory(),e),this.animationState=new Rv("empty",{empty:{update:{target:"ready",action:d=>this.animateEmptyUpdateReady(d)},reset:"empty",skip:"ready",disable:"disabled"},ready:{updateData:"waiting",clear:"clearing",highlight:d=>this.animateReadyHighlight(d),resize:d=>this.animateReadyResize(d),reset:"empty",skip:"ready",disable:"disabled"},waiting:{update:{target:"ready",action:d=>{this.ctx.animationManager.isSkipped()?this.resetAllAnimation(d):this.animateWaitingUpdateReady(d)}},reset:"empty",skip:"ready",disable:"disabled"},disabled:{update:d=>this.resetAllAnimation(d),reset:"empty"},clearing:{update:{target:"empty",action:d=>this.animateClearingUpdateEmpty(d)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}get contextNodeData(){return this._contextNodeData}getNodeData(){return this.contextNodeData?.nodeData}attachSeries(t,i,e){super.attachSeries(t,i,e),this.attachPaths(this.paths)}detachSeries(t,i,e){super.detachSeries(t,i,e),this.detachPaths(this.paths)}updatedDomains(){this.animationState.transition("updateData")}attachPaths(t){for(let i of t)this.contentGroup.appendChild(i)}detachPaths(t){for(let i of t)this.contentGroup.removeChild(i)}renderToOffscreenCanvas(){let t=this.getNodeData();return t!=null&&t.length>mD}resetAnimation(t){t==="initial"?this.animationState.transition("reset"):t==="ready"?this.animationState.transition("skip"):t==="disabled"&&this.animationState.transition("disable")}addChartEventListeners(){this.cleanup.register(this.ctx.eventsHub.on("legend:item-click",t=>this.onLegendItemClick(t)),this.ctx.eventsHub.on("legend:item-double-click",t=>this.onLegendItemDoubleClick(t)))}destroy(){super.destroy(),this._contextNodeData=void 0}isSeriesHighlighted(t){let{series:i,legendItemName:e}=t??{},{legendItemName:n}=this.properties;return i===this||n!=null&&n===e}strokewidthChange(){let t=("strokeWidth"in this.properties&&this.properties.strokeWidth)??0,i=this.properties.highlight.highlightedSeries.strokeWidth??t,e=this.properties.highlight.highlightedItem?.strokeWidth??t;return t>e||i>e}update({seriesRect:t}){let{_contextNodeData:i}=this,e=this.checkResize(t),n=this.updateHighlightSelection();this.contentGroup.batchedUpdate(()=>{let a=this.updateSelections();this.updateNodes(n,e||a)});let r=this.getAnimationData(t,i);r&&(e&&this.animationState.transition("resize",r),this.animationState.transition("update",r))}updateSelections(){var t;let i=!this.opts.animationAlwaysUpdateSelections&&this.ctx.animationManager.isSkipped();if(!this.visible&&i)return!1;let{nodeDataRefresh:e}=this;if(!e&&!this.isPathOrSelectionDirty())return!1;if(e){this.nodeDataRefresh=!1,this.debug("CartesianSeries.updateSelections() - calling createNodeData() for",this.id),this.markQuadtreeDirty(),this._contextNodeData=this.createNodeData();let n=this.isProcessedDataAnimatable();this._contextNodeData&&((t=this._contextNodeData).animationValid??(t.animationValid=n));let{dataModel:r,processedData:a}=this;r!==void 0&&a!==void 0&&this.events.emit("data-update",{dataModel:r,processedData:a}),this.updateSeriesSelections()}return e}updateSeriesSelections(){let{datumSelection:t,labelSelection:i,paths:e}=this,n=this._contextNodeData;if(!n)return;let{nodeData:r,labelData:a,itemId:o}=n;this.updatePaths({itemId:o,contextData:n,paths:e}),this.datumSelection=this.updateDatumSelection({nodeData:r,datumSelection:t}),this.labelGroup.batchedUpdate(()=>{this.labelSelection=this.updateLabelSelection({labelData:a,labelSelection:i})??i})}getShapeFillBBox(){let{axes:t}=this,i=t.x,e=t.y,[n,r]=er(i?.range??[0,1]),[a,o]=er(e?.range??[0,1]),s=this.getSeriesDomain("x"),l=[i?.scale.convert(s.at(0)),i?.scale.convert(s.at(-1))],c=this.getSeriesDomain("y"),d=[e?.scale.convert(c.at(0)),e?.scale.convert(c.at(-1))],[u,h]=er(l),[m,p]=er(d);return{axis:new we(n,a,r-n,o-a),series:new we(u,m,h-u,p-m)}}updateNodes(t,i){let{highlightSelection:e,datumSelection:n}=this,r=!this.ctx.animationManager.isSkipped(),a=this.visible&&this._contextNodeData!=null;this.contentGroup.visible=r||a,this.highlightGroup.visible=(r||a)&&t,this.updateDatumNodes({datumSelection:e,isHighlight:!0}),this.animationState.transition("highlight",e);let{dataNodeGroup:o,labelSelection:s,paths:l,labelGroup:c}=this,{itemId:d}=this.contextNodeData??{};if(this.updatePathNodes({itemId:d,paths:l,visible:a,animationEnabled:r}),o.visible=r||a,c.visible=a,!o.visible)return;let u=this.strokewidthChange()||this.hasChangesOnHighlight;(i||u)&&(this.updateDatumNodes({datumSelection:n,isHighlight:!1}),this.usesPlacedLabels||this.labelGroup.batchedUpdate(()=>{this.updateLabelNodes({labelSelection:s,isHighlight:!1})}))}getHighlightLabelData(t,i){let e=t.filter(n=>n.datum===i.datum&&n.itemId===i.itemId);return e.length===0?void 0:e}getHighlightData(t,i){return i?[i]:void 0}updateHighlightSelection(){let{highlightSelection:t,_contextNodeData:i}=this;if(!i)return!1;let e=this.ctx.highlightManager?.getActiveHighlight(),r=this.isSeriesHighlighted(e)&&e?.datum?e:void 0;if(r==null)return!1;let{nodeData:a}=i,o=this.getHighlightData(a,r);return this.highlightSelection=this.updateHighlightSelectionItem({items:o,highlightSelection:t}),!0}markQuadtreeDirty(){this.quadtree=void 0}*datumNodesIter(){for(let{node:t}of this.datumSelection)t.datum.missing!==!0&&(yield t)}getQuadTree(){if(this.quadtree===void 0){let{width:t,height:i}=this.ctx.scene.canvas,e=new we(0,0,t,i);this.quadtree=new W6(100,10,e),this.initQuadTree(this.quadtree)}return this.quadtree}initQuadTree(t){}pickNodesExactShape(t){let i=super.pickNodesExactShape(t);if(i.length!==0)return i;let{x:e,y:n}=t,{dataNodeGroup:r}=this,a=r.pickNodes(e,n).filter(o=>o.datum.missing!==!0);if(a.length!==0)return a.map(s=>s.datum);for(let o of this.moduleMap.modules()){let{datum:s}=o.pickNodeExact(t)??{};if(s!=null&&s?.missing!==!0)return[s]}return[]}pickNodeClosestDatum(t){let{x:i,y:e}=t,{axes:n,_contextNodeData:r}=this;if(!r)return;let a=n.x,o=n.y,s={x:i,y:e},l=1/0,c;for(let d of r.nodeData){let{point:{x:u=NaN,y:h=NaN}={}}=d;if(isNaN(u)||isNaN(h)||!(a?.inRange(u)&&o?.inRange(h)))continue;let p=Math.max((s.x-u)**2+(s.y-h)**2,0);p<l&&(l=p,c=d)}for(let d of this.moduleMap.modules()){let u=d.pickNodeNearest(t);if(u!==void 0&&u.distanceSquared<l){l=u.distanceSquared,c=u.datum;break}}if(c){let d=Math.max(Math.sqrt(l)-(c.point?.size??0)/2,0);return{datum:c,distance:d}}}pickNodeMainAxisFirst(t,i){let{x:e,y:n}=t,{axes:r,_contextNodeData:a}=this,{pickOutsideVisibleMinorAxis:o}=this.properties;if(!a)return;let s=r.x,l=r.y;if(s==null||l==null)return;let c=[s,l].filter(p=>p.isCategoryLike()).map(p=>p.direction);if(i&&c.length===0)return;let[d="x"]=c,u=[e,n];d!=="x"&&u.reverse();let h=[1/0,1/0],m;for(let p of a.nodeData){let{x:g=NaN,y=NaN}=p.point??p.midPoint??{};if(isNaN(g)||isNaN(y)||p.missing===!0)continue;let v=[s?.inRange(g,1),l?.inRange(y,1)];if(d!=="x"&&v.reverse(),!v[0]||!o&&!v[1])continue;let x=[g,y];d!=="x"&&x.reverse();let w=!0;for(let D=0;D<x.length;D++){let k=Math.abs(x[D]-u[D]);if(k>h[D]){w=!1;break}else k<h[D]&&(h[D]=k,h.fill(1/0,D+1,h.length))}w&&(m=p)}if(m){let p=Math.max(h[0]**2+h[1]**2-(m.point?.size??0),0);for(let g of this.moduleMap.modules()){let y=g.pickNodeMainAxisFirst(t,d);if(y!==void 0&&y.distanceSquared<p){m=y.datum,p=y.distanceSquared;break}}return{datum:m,distance:Math.sqrt(p)}}}isPathOrSelectionDirty(){return!1}shouldFlipXY(){return!1}visibleRangeIndices(t,i,e,n){let r;if(n==null){let{processedData:c,dataModel:d}=this;r=d.getColumnSortOrder(this,t,c)??1}else r=n.sortOrder;let a=this.keysOrValues(t),o=0,[s,l]=ZG(r,e?.length??a.length,i,c=>{let d=e?.[c]??c;return this.xCoordinateRange(a[d],o,d)});return s<l?[s,l]:[l,s]}domainForVisibleRange(t,i,e,n,r){let{processedData:a,dataModel:o}=this,[s,l]=n,c=this.keysOrValues(e),d=this.sortOrder(e);if(d!=null){let p=this.visibleRangeIndices(e,n,r,{sortOrder:d});return o.getDomainBetweenRange(this,i,p,a)}let u=i.map(p=>this.keysOrValues(p)),h=1/0,m=-1/0;return c.forEach((p,g)=>{let[y,v]=this.xCoordinateRange(p,0,g);if(!(v<s||y>l))for(let x=0;x<i.length;x++){let w=u[x][g];h=Math.min(h,w),m=Math.max(m,w)}}),h>m?[NaN,NaN]:[h,m]}domainForClippedRange(t,i,e){let{processedData:n,dataModel:r,axes:a}=this,s=dge(a[t==="x"?"y":"x"]);if(!s)return i.flatMap(p=>r.getDomain(this,p,"value",n));let l=this.keysOrValues(e),c=r.getColumnSortOrder(this,e,n);if(c!=null){let p=uge(c,l.length,s,g=>l[g]);return r.getDomainBetweenRange(this,i,p,n)}let d=i.map(p=>this.keysOrValues(p)),u=s[0].valueOf(),h=s[1].valueOf(),m=[];return l.forEach((p,g)=>{let y=p.valueOf();if(y<u||y>h)return;let v=d.map(x=>x[g]);y>=u&&m.push(...v),y<=h&&m.push(...v)}),m}countVisibleItems(t,i,e,n,r){let{dataModel:a,processedData:o}=this;if(!a||!o)return 1/0;let s=this.keysOrValues(t),l=i.map(k=>a.resolveColumnById(this,k,o)),c=this.axes.x,d=this.axes.y,u=this.shouldFlipXY();if(n==null){let k=this.sortOrder(t);if(k==null)n=[0,1];else{let E=c.scale,A=E.range;E.range=[0,1];let[N,F]=this.visibleRangeIndices(t,e,void 0,{sortOrder:k}),P=this.keysOrValues(t),U=0;this.xCoordinateRange(P[N],U,N)[0]<e[0]&&(N+=1),F<P.length&&this.xCoordinateRange(P[F],U,F)[1]>e[1]&&(F-=1);let H=Math.abs(F-N);return E.range=A,H}}let h=(k,E,A)=>k[0]+(A-E[0])/(E[1]-E[0])*(k[1]-k[0]),m=c.range,p=d.range,g=h(m,c.visibleRange,e[0]),y=h(m,c.visibleRange,e[1]),v=h(p,d.visibleRange,u?n[0]:n[1]),x=h(p,d.visibleRange,u?n[1]:n[0]),w=Math.round((e[0]+(e[1]-e[0])/2)*s.length),D=0;return QG(0,s.length-1,w,r,k=>{let[E,A]=this.xCoordinateRange(s[k],D,k),[N,F]=this.yCoordinateRange(l.map(P=>P[k]),D,k);return!Tt(E)||!Tt(A)||!Tt(N)||!Tt(F)?!1:(u&&([E,A,N,F]=[N,F,E,A]),E>=g&&A<=y&&N>=v&&F<=x)})}minTimeInterval(){let t;try{t=this.keysOrValues("xValue")}catch{}if(t==null||t.length>1e3)return;let i=1/0,e=t[0],n;for(let r=1;r<t.length;r++){let a=t[r];if(a!=null&&e!=null){let o=a.valueOf()-e.valueOf(),s=Math.sign(o);if(s===0)continue;if(n!==void 0&&s!==n)return;i=Math.min(i,Math.abs(o)),n=s}e=a}if(Number.isFinite(i))return i}updateHighlightSelectionItem(t){let{items:i,highlightSelection:e}=t,n=i??[];return this.updateDatumSelection({nodeData:n,datumSelection:e})}updateHighlightSelectionLabel(t){return this.updateLabelSelection({labelData:t.items??[],labelSelection:t.highlightLabelSelection})}updateDatumSelection(t){return t.datumSelection}updateDatumNodes(t){}updatePaths(t){t.paths.forEach(i=>i.visible=!1)}updatePathNodes(t){let{paths:i,visible:e}=t;for(let n of i)n.visible=e}resetPathAnimation(t){let{path:i}=this.opts?.animationResetFns??{};i&&t.paths.forEach(e=>{Er([e],i)})}resetDatumAnimation(t){let{datum:i}=this.opts?.animationResetFns??{};i&&Er([t.datumSelection],i)}resetLabelAnimation(t){let{label:i}=this.opts?.animationResetFns??{};i&&Er([t.labelSelection],i)}resetAllAnimation(t){this.ctx.animationManager.stopByAnimationGroupId(this.id),this.resetPathAnimation(t),this.resetDatumAnimation(t),this.resetLabelAnimation(t),t.contextData?.animationValid===!1&&this.ctx.animationManager.skipCurrentBatch()}animateEmptyUpdateReady(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(t)}animateWaitingUpdateReady(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(t)}animateReadyHighlight(t){let{datum:i}=this.opts?.animationResetFns??{};i&&Er([t],i)}animateReadyResize(t){this.resetAllAnimation(t)}animateClearingUpdateEmpty(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(t)}getAnimationData(t,i){let{_contextNodeData:e}=this;return e?{datumSelection:this.datumSelection,labelSelection:this.labelSelection,annotationSelections:[...this.annotationSelections],contextData:e,previousContextData:i,paths:this.paths,seriesRect:t}:void 0}updateLabelSelection(t){return t.labelSelection}getScaling(t){if(t instanceof jO){let{range:i,domain:e}=t;return{type:"log",convert:n=>t.convert(n),domain:[e[0],e[1]],range:[i[0],i[1]]}}else if(t instanceof Di){let{range:i,domain:e}=t;return{type:"continuous",domain:[e[0],e[1]],range:[i[0],i[1]]}}else if(t instanceof Lc)return{type:"category",domain:t instanceof Fd?t.bands:t.domain,inset:t.inset,step:t.step}}calculateScaling(){let t={};for(let i of Object.values(QR)){let e=this.axes[i];if(!e)continue;let n=this.getScaling(e.scale);n!=null&&(t[i]=n)}return t}};function dge(t){let i,e;if((t instanceof ou||t instanceof su)&&({min:i,max:e}=t),!(i==null&&e==null))return i??(i=-1/0),e??(e=1/0),[i,e]}function uge(t,i,e,n){let r=e[0].valueOf(),a=e[1].valueOf(),o=fc(0,i-1,l=>{let c=t===1?l:i-l,d=n(c)?.valueOf();return!Number.isFinite(d)||d>=r}),s=Cs(0,i-1,l=>{let c=t===1?l:i-l,d=n(c)?.valueOf();return!Number.isFinite(d)||d<=a});return o==null||s==null?[0,0]:(t===-1&&([o,s]=[i-s,i-o]),o=Math.max(o,0),s=Math.min(s+1,i),[o,s])}var ag=class extends nt{constructor(){super(...arguments),this.type="linear",this.tension=1,this.position="end"}};b([C],ag.prototype,"type",2);b([C],ag.prototype,"tension",2);b([C],ag.prototype,"position",2);var ln=class extends du{constructor(){super(...arguments),this.xName=void 0,this.fill="#c16068",this.fillGradientDefaults=new Go,this.fillPatternDefaults=new Wi,this.fillImageDefaults=new Ua,this.fillOpacity=1,this.stroke="#874349",this.strokeWidth=2,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.interpolation=new ag,this.shadow=new Vl,this.marker=new pr,this.label=new sn,this.tooltip=am(),this.connectMissingData=!1}};b([C],ln.prototype,"xKey",2);b([C],ln.prototype,"xName",2);b([C],ln.prototype,"yKey",2);b([C],ln.prototype,"yName",2);b([C],ln.prototype,"yFilterKey",2);b([C],ln.prototype,"normalizedTo",2);b([C],ln.prototype,"fill",2);b([C],ln.prototype,"fillGradientDefaults",2);b([C],ln.prototype,"fillPatternDefaults",2);b([C],ln.prototype,"fillImageDefaults",2);b([C],ln.prototype,"fillOpacity",2);b([C],ln.prototype,"stroke",2);b([C],ln.prototype,"strokeWidth",2);b([C],ln.prototype,"strokeOpacity",2);b([C],ln.prototype,"lineDash",2);b([C],ln.prototype,"lineDashOffset",2);b([C],ln.prototype,"interpolation",2);b([C],ln.prototype,"shadow",2);b([C],ln.prototype,"marker",2);b([C],ln.prototype,"label",2);b([C],ln.prototype,"tooltip",2);b([C],ln.prototype,"connectMissingData",2);function Uo(t){switch(t.type){case"linear":case"step":return[{x:t.x0,y:t.y0},{x:t.x1,y:t.y1}];case"cubic":return[{x:t.cp0x,y:t.cp0y},{x:t.cp3x,y:t.cp3y}]}}function hge(t){let i=Uo(t);return i[0].x>i[1].x&&i.reverse(),i}function mge(t,i){let{x:e,y:n}=i;switch(t.type){case"linear":return{type:"linear",moveTo:t.moveTo,x0:e,y0:n,x1:e,y1:n};case"step":return{type:"step",moveTo:t.moveTo,x0:e,y0:n,x1:e,y1:n,stepX:e};case"cubic":return{type:"cubic",moveTo:t.moveTo,cp0x:e,cp0y:n,cp1x:e,cp1y:n,cp2x:e,cp2y:n,cp3x:e,cp3y:n}}}function yv(t,i,e){let[n,r]=Uo(t),a=r.x!==n.x?(e.x-i.x)/(r.x-n.x):0,o=r.y!==n.y?(e.y-i.y)/(r.y-n.y):0;switch(t.type){case"linear":return{type:"linear",moveTo:t.moveTo,x0:i.x,y0:i.y,x1:e.x,y1:e.y};case"cubic":return{type:"cubic",moveTo:t.moveTo,cp0x:i.x,cp0y:i.y,cp1x:e.x-(t.cp2x-n.x)*a,cp1y:e.y-(t.cp2y-n.y)*o,cp2x:e.x-(t.cp1x-n.x)*a,cp2y:e.y-(t.cp1y-n.y)*o,cp3x:e.x,cp3y:e.y};case"step":return{type:"step",moveTo:t.moveTo,x0:i.x,y0:i.y,x1:e.x,y1:e.y,stepX:e.x-(t.stepX-n.x)*a}}}function Y6(t,i,e){let{moveTo:n}=t,[r,a]=hge(t),{x:o,y:s}=r,{x:l,y:c}=a;if(e<o)return yv(t,r,r);if(i>l)return yv(t,a,a);switch(t.type){case"linear":{let d=s===c?void 0:(c-s)/(l-o),u=d==null?s:d*(i-o)+s,h=d==null?s:d*(e-o)+s;return{type:"linear",moveTo:n,x0:i,y0:u,x1:e,y1:h}}case"step":if(e<=t.stepX){let d=t.y0;return{type:"step",moveTo:n,x0:i,y0:d,x1:e,y1:d,stepX:e}}else if(i>=t.stepX){let d=t.y1;return{type:"step",moveTo:n,x0:i,y0:d,x1:e,y1:d,stepX:i}}else{let{y0:d,y1:u,stepX:h}=t;return{type:"step",moveTo:n,x0:i,y0:d,x1:e,y1:u,stepX:h}}case"cubic":{let d=qw(t.cp0x,t.cp1x,t.cp2x,t.cp3x,i),[u,h]=nv(t.cp0x,t.cp0y,t.cp1x,t.cp1y,t.cp2x,t.cp2y,t.cp3x,t.cp3y,d),m=qw(h[0].x,h[1].x,h[2].x,h[3].x,e);return[h,u]=nv(h[0].x,h[0].y,h[1].x,h[1].y,h[2].x,h[2].y,h[3].x,h[3].y,m),{type:"cubic",moveTo:n,cp0x:h[0].x,cp0y:h[0].y,cp1x:h[1].x,cp1y:h[1].y,cp2x:h[2].x,cp2y:h[2].y,cp3x:h[3].x,cp3y:h[3].y}}}}function pge(t){let i=[],e=0,n=NaN,r=NaN;for(let{x:a,y:o}of t){if(e>0){let s=e===1;i.push({type:"linear",moveTo:s,x0:n,y0:r,x1:a,y1:o})}e+=1,n=a,r=o}return i}var fge={start:0,middle:.5,end:1};function gge(t,i){let e=[],n=0,r=NaN,a=NaN,o=typeof i=="number"?i:fge[i];for(let{x:s,y:l}of t){if(n>0){let c=n===1,d=r+(s-r)*o;e.push({type:"step",moveTo:c,x0:r,y0:a,x1:s,y1:l,stepX:d})}n+=1,r=s,a=l}return e}var ww=.05;function bge(t,i){let e=Array.isArray(t)?t:Array.from(t);if(e.length<=1)return[];let n=e.map((a,o)=>{let s=o===0?a:e[o-1],l=o===e.length-1?a:e[o+1],c=o===0||o===e.length-1;if(Math.sign(s.y-a.y)===Math.sign(l.y-a.y))return 0;if(!c){let d=Math.abs(s.y-l.y),u=Math.abs(a.y-s.y)/d,h=Math.abs(a.y-l.y)/d;if(u<=ww||1-u<=ww||h<=ww||1-h<=ww)return 0}return(l.y-s.y)/(l.x-s.x)});n[1]===0&&(n[0]*=2),n[n.length-2]===0&&(n[n.length-1]*=2);let r=[];for(let a=1;a<e.length;a+=1){let o=e[a-1],s=n[a-1],l=e[a],c=n[a],d=l.x-o.x,u=l.y-o.y,h=d*i/3,m=d*s*i/3,p=d*i/3,g=d*c*i/3;c===0&&Math.abs(m)>Math.abs(u)&&(h*=Math.abs(u/m),m=Math.sign(m)*Math.abs(u)),s===0&&Math.abs(g)>Math.abs(u)&&(p*=Math.abs(u/g),g=Math.sign(g)*Math.abs(u)),r.push({type:"cubic",moveTo:a===1,cp0x:o.x,cp0y:o.y,cp1x:o.x+h,cp1y:o.y+m,cp2x:l.x-p,cp2y:l.y-g,cp3x:l.x,cp3y:l.y})}return r}function En(t,i,e){return(i-t)*e+t}function yge(t,i){let{x0:e,y0:n,x1:r,y1:a}=t,s=(a-n)/(r-e)*(i-e)+n;return{leftCp1x:e,leftCp1y:n,leftCp2x:i,leftCp2y:s,stepX:i,stepY0:s,stepY1:s,rightCp1x:i,rightCp1y:s,rightCp2x:r,rightCp2y:a}}function vge(t,i){let{cp0x:e,cp0y:n,cp1x:r,cp1y:a,cp2x:o,cp2y:s,cp3x:l,cp3y:c}=t,d=qw(e,r,o,l,i),[u,h]=nv(e,n,r,a,o,s,l,c,d),m=u[3].y;return{leftCp1x:u[1].x,leftCp1y:u[1].y,leftCp2x:u[2].x,leftCp2y:u[2].y,stepX:i,stepY0:m,stepY1:m,rightCp1x:h[1].x,rightCp1y:h[1].y,rightCp2x:h[2].x,rightCp2y:h[2].y}}function _ge(t){let{x0:i,y0:e,x1:n,y1:r,stepX:a}=t;return{leftCp1x:(i+a)/2,leftCp1y:e,leftCp2x:(i+a)/2,leftCp2y:e,stepX:a,stepY0:e,stepY1:r,rightCp1x:(a+n)/2,rightCp1y:r,rightCp2x:(a+n)/2,rightCp2y:r}}function h5(t,i){return t.type==="linear"?yge(t,i):t.type==="cubic"?vge(t,i):_ge(t)}function K6(t,i,e,n,r,a,o){switch(i){case 0:o?t.moveTo(r,a):t.moveTo(e,n);break;case 1:o?t.lineTo(r,a):t.lineTo(e,n);break}}function q6(t,i,e,n,r,a){a?t.lineTo(i,e):t.lineTo(n,r)}function Z6(t,i,e,n,r,a,o,s,l,c){c?t.cubicCurveTo(a,o,n,r,i,e):t.cubicCurveTo(n,r,a,o,s,l)}function Q6(t,i,e,n,r,a,o){o?(t.lineTo(a,r),t.lineTo(a,e),t.lineTo(i,e)):(t.lineTo(a,e),t.lineTo(a,r),t.lineTo(n,r))}function $y(t,i,e,n){let[r,a]=Uo(i);switch(K6(t,e,r.x,r.y,a.x,a.y,n),i.type){case"linear":q6(t,i.x0,i.y0,i.x1,i.y1,n);break;case"cubic":Z6(t,i.cp0x,i.cp0y,i.cp1x,i.cp1y,i.cp2x,i.cp2y,i.cp3x,i.cp3y,n);break;case"step":Q6(t,i.x0,i.y0,i.x1,i.y1,i.stepX,n);break}}function X6(t,i,e){let[n,r]=Uo(t),[a,o]=Uo(i),s=En(n.x,a.x,e),l=En(n.y,a.y,e),c=En(r.x,o.x,e),d=En(r.y,o.y,e);return[{x:s,y:l},{x:c,y:d}]}function IR(t,i,e,n,r,a){let[{x:o,y:s},{x:l,y:c}]=X6(i,e,n);if(K6(t,r,o,s,l,c,a),i.type==="cubic"&&e.type==="cubic"){let d=En(i.cp1x,e.cp1x,n),u=En(i.cp1y,e.cp1y,n),h=En(i.cp2x,e.cp2x,n),m=En(i.cp2y,e.cp2y,n);Z6(t,o,s,d,u,h,m,l,c,a)}else if(i.type==="step"&&e.type==="step"){let d=En(i.stepX,e.stepX,n);Q6(t,o,s,l,c,d,a)}else if(i.type==="linear"&&e.type==="linear")q6(t,o,s,l,c,a);else{let d;i.type==="step"?d=i.stepX:e.type==="step"?d=e.stepX:d=(o+l)/2;let u=h5(i,d),h=h5(e,d),m=En(u.leftCp1x,h.leftCp1x,n),p=En(u.leftCp1y,h.leftCp1y,n),g=En(u.leftCp2x,h.leftCp2x,n),y=En(u.leftCp2y,h.leftCp2y,n),v=En(u.stepX,h.stepX,n),x=En(u.stepY0,h.stepY0,n),w=En(u.stepY1,h.stepY1,n),D=En(u.rightCp1x,h.rightCp1x,n),k=En(u.rightCp1y,h.rightCp1y,n),E=En(u.rightCp2x,h.rightCp2x,n),A=En(u.rightCp2y,h.rightCp2y,n);a?(t.cubicCurveTo(E,A,D,k,v,w),t.lineTo(v,x),t.cubicCurveTo(g,y,m,p,o,s)):(t.cubicCurveTo(m,p,g,y,v,x),t.lineTo(v,w),t.cubicCurveTo(D,k,E,A,l,c))}}var xge=1e3,J6=(t=>(t[t.Zero=0]="Zero",t[t.Split=1]="Split",t))(J6||{});function Cge(t,i){return t==null||i==null||typeof t!="object"||typeof i!="object"?!1:"id"in t&&"id"in i?t.id===i.id:t.toString()===i.toString()}function Ba(t){return lR(t).valueOf()}function Yr(t,i){if(!i)return NaN;if(t instanceof Date&&(t=t.getTime()),i.type==="continuous"&&typeof t=="number")return(t-i.domain[0])/(i.domain[1]-i.domain[0])*(i.range[1]-i.range[0])+i.range[0];if(i.type==="log"&&typeof t=="number")return i.convert(t);if(i.type!=="category")return NaN;let e=Ba(t),n=i.domain.findIndex(r=>Ba(r)===e);return n===-1&&(n=i.domain.findIndex(r=>Cge(t,r))),n>=0?i.inset+i.step*n:NaN}function m5({data:t},i){return t.map((e,n)=>({xValue0Index:i.indexOf(Ba(e.xValue0)),xValue1Index:i.indexOf(Ba(e.xValue1)),datumIndex:n}))}function p5(t){return Object.values(t.scales).every(i=>i.type==="category"?i.domain.length<xge:!0)}function wge(t,i){let e=i.scales.x,n=t.scales.x;if(e?.type!=="category"||n?.type!=="category")return!0;let r=-1/0;for(let a of e.domain){let o=Yr(a,n);if(Number.isFinite(o)){if(o<r)return!1;r=o}}return!0}function Dge(t,i){let e=-1/0;for(let n of t){let r=Yr(n.value,i.scales.x);if(Number.isFinite(r)){if(r<e)return!1;e=r}}return!0}function Sge(t,i){let e=new Map;for(let{xValue0:d,xValue1:u}of t.data){let h=Ba(d),m=Ba(u);e.set(h,d).set(m,u)}let n=Array.from(e,([d,u])=>({axisValue:d,value:u}));n.sort((d,u)=>Yr(d.value,t.scales.x)-Yr(u.value,t.scales.x));let r=[];for(let{xValue0:d,xValue1:u}of i.data){let h=Ba(d),m=Ba(u);e.has(h)||(e.set(h,d),r.push({axisValue:h,value:d})),e.has(m)||(e.set(m,u),r.push({axisValue:m,value:u}))}r.sort((d,u)=>Yr(d.value,i.scales.x)-Yr(u.value,i.scales.x));let a=n,o=0;for(let d of r){for(let u=a.length-1;u>=o;u-=1){let h=Yr(d.value,i.scales.x),m=Yr(a[u].value,i.scales.x);if(h>m){o=u+1;break}}a.splice(o,0,d),o+=1}if(!Dge(a,i))return;let s=a.map(d=>d.axisValue),l=m5(i,s),c=m5(t,s);return{axisValues:s,oldDataAxisIndices:l,newDataAxisIndices:c}}function f5(t,i,e){if(e.xValue1Index===e.xValue0Index+1)return t;let n=Uo(t),r=(n[1].x-n[0].x)/(e.xValue1Index-e.xValue0Index),a=n[0].x+(i-e.xValue0Index)*r,o=a+r;return Y6(t,a,o)}function e8(t,i){let[e,n]=Uo(t),r=Yr(0,i.scales.y);return yv(t,{x:e.x,y:r},{x:n.x,y:r})}function t8(t){let[i,e]=Uo(t);return mge(t,{x:(i.x+e.x)/2,y:(i.y+e.y)/2})}function i8(t,i,e,n,r,a){let o,s;if(r.xValue0Index>=a.xValue1Index){let u=n.findLast(m=>m.xValue1Index<=a.xValue1Index)?.datumIndex,h=u!=null?e.data[u]:void 0;o=h?.xValue1,s=h?.yValue1}else if(r.xValue0Index<=a.xValue0Index){let u=n.find(m=>m.xValue0Index>=a.xValue0Index)?.datumIndex,h=u!=null?e.data[u]:void 0;o=h?.xValue0,s=h?.yValue0}if(o==null||s==null)switch(i){case 0:return e8(t,e);case 1:return t8(t)}let l=Yr(o,e.scales.x),c=Yr(s,e.scales.y),d={x:l,y:c};return yv(t,d,d)}function nL(t,i){if(i==null)return;let e=Ba(t.xValue0),n=Ba(t.xValue1);return i.find(r=>Ba(r.xValue0)===e&&Ba(r.xValue1)===n)?.span}function g5(t,i,e,n,r,a,o){let s=t.data[n.datumIndex],l=s.span,c=nL(s,r);if(c!=null)o.removed.push({from:c,to:c}),o.moved.push({from:c,to:l}),o.added.push({from:l,to:l});else{let d=i8(l,i,t,e,n,a);o.added.push({from:d,to:l})}}function b5(t,i,e,n,r,a,o){let s=t.data[n.datumIndex],l=s.span,c=nL(s,r);if(c!=null)o.removed.push({from:l,to:l}),o.moved.push({from:l,to:c}),o.added.push({from:c,to:c});else{let d=i8(l,i,t,e,n,a);o.removed.push({from:l,to:d})}}function y5(t,i,e,n,r){let a=i[r.xValue0Index],o=e.data.find(y=>Ba(y.xValue0)===a),s=i[r.xValue1Index],l=e.data.find(y=>Ba(y.xValue1)===s);if(o==null||l==null)return;let[{x:c},{x:d}]=Uo(t),u=Yr(o.xValue0,e.scales.x),h=Yr(o.yValue0,e.scales.y),m=Yr(l.xValue1,e.scales.x),p=Yr(l.yValue1,e.scales.y),g=n.data[r.datumIndex].span;return g=yv(g,{x:u,y:h},{x:m,y:p}),g=Y6(g,c,d),g}function Mge(t,i,e,n,r,a,o,s,l){let c=r+1,d=o.find(w=>w.xValue0Index<=r&&w.xValue1Index>=c),u=a.find(w=>w.xValue0Index<=r&&w.xValue1Index>=c),h=i.zeroData,m=t.zeroData;if(d==null&&u!=null){g5(t,e,a,u,h,s,l);return}else if(d!=null&&u==null){b5(i,e,o,d,m,s,l);return}else if(d==null||u==null)return;let p;d.xValue0Index===u.xValue0Index&&d.xValue1Index===u.xValue1Index?p=0:d.xValue0Index<=u.xValue0Index&&d.xValue1Index>=u.xValue1Index?p=-1:d.xValue0Index>=u.xValue0Index&&d.xValue1Index<=u.xValue1Index?p=1:p=0;let g=i.data[d.datumIndex],y=f5(g.span,r,d),v=t.data[u.datumIndex],x=f5(v.span,r,u);if(p===1){let w=y5(y,n,i,t,u);w!=null?(l.removed.push({from:y,to:w}),l.moved.push({from:w,to:x}),l.added.push({from:x,to:x})):b5(i,e,o,d,m,s,l)}else if(p===-1){let w=y5(x,n,t,i,d);w!=null?(l.removed.push({from:y,to:y}),l.moved.push({from:y,to:w}),l.added.push({from:w,to:x})):g5(t,e,a,u,h,s,l)}else l.removed.push({from:y,to:y}),l.moved.push({from:y,to:x}),l.added.push({from:x,to:x})}function Ige(t,i,e,n){let r={removed:[],moved:[],added:[]},{axisValues:a,oldDataAxisIndices:o,newDataAxisIndices:s}=t,l={xValue0Index:Math.max(o.at(0)?.xValue0Index??-1/0,s.at(0)?.xValue0Index??-1/0),xValue1Index:Math.min(o.at(-1)?.xValue1Index??1/0,s.at(-1)?.xValue1Index??1/0)};for(let c=0;c<a.length-1;c+=1)Mge(i,e,n,a,c,s,o,l,r);return r}function v5(t,i,e){let{span:n}=i;switch(e){case 0:return nL(i,t.zeroData)??e8(n,t);case 1:return t8(n)}}function kge(t,i,e){let n=[],r=[];for(let a of i.data){let o=a.span,s=v5(i,a,e);r.push({from:o,to:s})}for(let a of t.data){let o=a.span,s=v5(t,a,e);n.push({from:s,to:o})}return{removed:r,moved:[],added:n}}function ev(t,i,e){if(!p5(t)||!p5(i)||!wge(t,i))return;let n=Sge(t,i);return n==null?kge(t,i,e):Ige(n,t,i,e)}function _5(t){return t.type==="continuous"||t.type==="log"}function x5(t){return t.type==="category"}function Bh(t,i){return t===void 0||i===void 0?t!==void 0||i!==void 0:_5(t)&&_5(i)?t.type===i.type&&Oa(t.domain,i.domain)&&Oa(t.range,i.range):x5(t)&&x5(i)?t.inset===i.inset&&t.step===i.step&&Oa(t.domain,i.domain):!1}function vv(t){return t==null?!1:t.type==="category"?t.domain.every(i=>i!=null):t.domain.every(i=>Number.isFinite(i)||i instanceof Date)&&t.range.every(i=>Number.isFinite(i))}function pD(t,i){let e,n=t.map(r=>r.point);switch(i.type){case"linear":e=pge(n);break;case"smooth":e=bge(n,i.tension);break;case"step":e=gge(n,i.position);break}return e.map((r,a)=>({span:r,xValue0:t[a].xDatum,yValue0:t[a].yDatum,xValue1:t[a+1].xDatum,yValue1:t[a+1].yDatum}))}function _v(t,i,e=.001){return Math.abs(t.x-i.x)<e&&Math.abs(t.y-i.y)<e}function rL({path:t},i){let e;for(let{span:n}of i){let[r,a]=Uo(n),o=e!=null&&_v(e,r)?1:0;$y(t,n,o,!1),e=a}}function jw(t,i,e){let n;for(let r of e){let[a,o]=X6(r.from,r.to,t),s=n!=null&&_v(n,a)?1:0;IR(i.path,r.from,r.to,t,s,!1),n=o}}function aL(t,i,e){let n=(s,l)=>jw(s,l,i.removed),r=(s,l)=>jw(s,l,i.moved),a=(s,l)=>jw(s,l,i.added),o=oL(t,e);return{status:t,path:{addPhaseFn:a,updatePhaseFn:r,removePhaseFn:n},pathProperties:o}}function oL(t,i){let e=i==="none"?"updated":t,n={fromFn:r=>{let a;return t==="removed"?a={finish:{visible:!1}}:t==="added"?a={start:{visible:!0}}:a={},f({phase:Ts[e]},a)},toFn:r=>({phase:Ts[e]})};return i==="fade"?{fromFn:r=>{let a=t==="added"?0:r.opacity;return f({opacity:a},n.fromFn(r))},toFn:r=>f({opacity:t==="removed"?0:1},n.toFn(r))}:n}function n8(t,i,e){let n=t.scales.x?.type==="category",r=i.scales.x?.type==="category";if(n!==r||!vv(t.scales.x)||!vv(i.scales.x)||t.strokeData==null||i.strokeData==null)return;let a="updated";i.visible&&!t.visible?a="removed":!i.visible&&t.visible&&(a="added");let o=ev({scales:t.scales,data:t.strokeData.spans},{scales:i.scales,data:i.strokeData.spans},1);if(o==null)return;let s=aL(a,o,"fade"),l=(e?.changed??!0)||!Bh(t.scales.x,i.scales.x)||!Bh(t.scales.y,i.scales.y)||a!=="updated";return{status:a,stroke:s,hasMotion:l}}function r8({path:t},{spans:i,phantomSpans:e}){let n=0,r={x:NaN,y:NaN},a={x:NaN,y:NaN};for(let o=0;o<i.length;o+=1){let{span:s}=i[o],{span:l}=e[o],{0:c,1:d}=Uo(s),{0:u,1:h}=Uo(l);if(_v(r,c)&&_v(a,u))$y(t,s,1,!1);else{for(let m=o-1;m>=n;m-=1)$y(t,e[m].span,1,!0);t.closePath(),$y(t,s,0,!1),n=o}r=d,a=h}for(let o=i.length-1;o>=n;o-=1)$y(t,e[o].span,1,!0);t.closePath()}function Uw(t,{path:i},e,n){for(let r=0;r<e.length;r+=1){let a=e[r],o=n[r];IR(i,a.from,a.to,t,0,!1),IR(i,o.from,o.to,t,1,!0),i.closePath()}}function a8(t,i,e,n){let r=(l,c)=>Uw(l,c,i.removed,e.removed),a=(l,c)=>Uw(l,c,i.moved,e.moved),o=(l,c)=>Uw(l,c,i.added,e.added),s=oL(t,n);return{status:t,path:{addPhaseFn:o,updatePhaseFn:a,removePhaseFn:r},pathProperties:s}}function o8(t,i){let e=t.scales.x?.type==="category",n=i.scales.x?.type==="category";if(e!==n||!vv(t.scales.x)||!vv(i.scales.x))return;let r="updated";i.visible&&!t.visible?r="removed":!i.visible&&t.visible&&(r="added");let a=ev({scales:t.scales,data:t.fillData.spans},{scales:i.scales,data:i.fillData.spans},0);if(a==null)return;let o=ev({scales:t.scales,data:t.fillData.phantomSpans},{scales:i.scales,data:i.fillData.phantomSpans},0);if(o==null)return;let s=ev({scales:t.scales,data:t.strokeData.spans,zeroData:t.fillData.phantomSpans},{scales:i.scales,data:i.strokeData.spans,zeroData:i.fillData.phantomSpans},0);if(s==null)return;let l="none",c=a8(r,a,o,l),d=aL(r,s,l);return{status:r,fill:c,stroke:d}}var ba=0,ao=1,No=2,Po=3,El=4;function sL(t){let i=Math.ceil(Math.log2(t.length))-1;return i=Math.min(Math.max(i,0),24),2**i|0}function xv(t,i){switch(t){case"category":return[NaN,NaN];case"number":case"time":case"ordinal-time":case"unit-time":{let e=1/0,n=-1/0;for(let r of i){let a=Number(r);e=Math.min(e,a),n=Math.max(n,a)}return[e,n]}case"color":case"log":case"mercator":return[0,0]}}function lL(t,i){return t/i}function Oc(t,i,e){return(t.valueOf()-i)/(e-i)}function cL(t,i){return Math.min(Math.floor(t*i),i-1)*El|0}function dL(t,i,e,n,r,a){let o=new Int32Array(a*El).fill(-1),s=new Float64Array(a*El).fill(NaN),l=Number.isFinite(n)&&Number.isFinite(r),c=t.length;for(let d=0;d<t.length;d+=1){let u=t[d];if(u==null)continue;let h=l?Oc(u,n,r):lL(d,c),m=cL(h,a),p=i[d],g=e[d],y=p!=null?p.valueOf():NaN,v=g!=null?g.valueOf():NaN,x=o[m+ba]===-1;(x||h<s[m+ba])&&(o[m+ba]=d,s[m+ba]=h),(x||h>s[m+ao])&&(o[m+ao]=d,s[m+ao]=h),!Number.isNaN(v)&&(x||v<s[m+No])&&(o[m+No]=d,s[m+No]=v),!Number.isNaN(y)&&(x||y>s[m+Po])&&(o[m+Po]=d,s[m+Po]=y)}return{indexData:o,valueData:s}}function uL(t,i,e,{inPlace:n=!1}={}){let r=e/2|0,a=n?t:new Int32Array(r*El),o=n?i:new Float64Array(r*El);for(let s=0;s<r;s+=1){let l=s*El|0,c=l*2|0,d=c+El|0,u=t[d+ba]===-1,h=u||i[c+ba]<i[d+ba]?c:d;a[l+ba]=t[h+ba],o[l+ba]=i[h+ba];let m=u||i[c+ao]>i[d+ao]?c:d;a[l+ao]=t[m+ao],o[l+ao]=i[m+ao];let p=u||i[c+No]<i[d+No]?c:d;a[l+No]=t[p+No],o[l+No]=i[p+No];let g=u||i[c+Po]>i[d+Po]?c:d;a[l+Po]=t[g+Po],o[l+Po]=i[g+Po]}return{maxRange:r,indexData:a,valueData:o}}var Age=1e3,Ege=10;function C5(t,i,e,n,r,a){let o=t[a];if(o==null)return!1;let s=Number.isFinite(i)?Oc(o,i,e):lL(a,t.length),l=cL(s,r);return a===n[l+ba]||a===n[l+ao]||a===n[l+No]||a===n[l+Po]}function s8(t,i,e,n){if(i.length<Age)return;let[r,a]=xv(t,n),o=sL(i),{indexData:s,valueData:l}=dL(i,e,e,r,a,o),c=[];for(let u=0;u<i.length;u+=1)C5(i,r,a,s,o,u)&&c.push(u);let d=[{maxRange:o,indices:c}];for(;c.length>Ege&&o>64;)({maxRange:o}=uL(s,l,o,{inPlace:!0})),c=c.filter(C5.bind(null,i,r,a,s,o)),d.push({maxRange:o,indices:c});return d.reverse(),d}function Cv({id:t},i,e,...n){let r={phase:e?Ts[e]:"trailing"};Nc(t,"markers",i,n,{opacity:0},{opacity:1},r),n.forEach(a=>a.cleanup())}function l8({id:t},i,...e){Nc(t,"markers",i,e,{scalingX:0,scalingY:0},{scalingX:1,scalingY:1},{phase:"initial"}),e.forEach(n=>n.cleanup())}function hL({id:t,nodeDataDependencies:i},e,...n){let r=i.seriesRectWidth;Tn(t,"markers",e,n,{fromFn:(s,l)=>{let c=l.midPoint?.x??r,d=Ae(0,jG(c/r),1);return isNaN(d)&&(d=0),{scalingX:0,scalingY:0,delay:d,duration:Qw,phase:"initial"}},toFn:()=>({scalingX:1,scalingY:1})})}function wS(t){return{opacity:1,scalingX:1,scalingY:1}}function wv(t,i){return{x:i.point?.x??NaN,y:i.point?.y??NaN,scalingCenterX:i.point?.x??NaN,scalingCenterY:i.point?.y??NaN}}function DS(t,{datumIndex:i}){let e=t.getNodeData();if(e===void 0)return;let n=e[i],{point:r}=n??{};if(n==null||r==null)return;let a=t.getFormattedMarkerStyle(n),o=On.anchor(a.shape),s=r.focusSize??a.size,l=4+s,c=l/2,d=(o.x-.5)*s,u=(o.y-.5)*s,h=n.point.x-c-d,m=n.point.y-c-u;return an.toCanvas(t.contentGroup,new we(h,m,l,l))}function mL({id:t,visible:i,nodeDataDependencies:e},n,...r){let{seriesRectWidth:a,seriesRectHeight:o}=e;Nc(t,"path_properties",n,r,{clipX:0},{clipX:a},{phase:"initial",start:{clip:!0,clipY:o,visible:i},finish:{clip:!1,visible:i}})}function fD({id:t},i,e,n="add",...r){Nc(t,i,e,r,{opacity:0},{opacity:1},{phase:n})}function pL(t){return i=>({visible:t.getVisible(),opacity:t.getOpacity(),clipScalingX:1,clip:!1})}function gD({nodeDataDependencies:t},i){let e=n=>isFinite(n)?n:0;i.clipX=e(t.seriesRectWidth),i.clipY=e(t.seriesRectHeight)}var Tge=.125,Rge=.25,Oge=Ev(s8),c8=(()=>{let t=class extends om{constructor(i){super({moduleCtx:i,propertyKeys:ng,propertyNames:rg,categoryKey:"xValue",pathsPerSeries:["fill","stroke"],pathsZIndexSubOrderOffset:[0,1e3],datumSelectionGarbageCollection:!1,pickModes:[2,0],animationResetFns:{path:pL({getVisible:()=>this.visible,getOpacity:()=>this.getOpacity()}),label:rm,datum:(e,n)=>f(f({},wS(e)),wv(e,n))},clipFocusBox:!1}),this.properties=new ln,this.connectsToYAxis=!0,this.dataAggregationFilters=void 0,this.backgroundGroup=new mt({name:`${this.id}-background`,zIndex:0}),this._isStacked=void 0}get pickModeAxis(){return"main"}renderToOffscreenCanvas(){return super.renderToOffscreenCanvas()||this.contextNodeData!=null&&(this.contextNodeData.fillData.spans.length>mD||this.contextNodeData.strokeData.spans.length>mD)}attachSeries(i,e,n){super.attachSeries(i,e,n),i.appendChild(this.backgroundGroup)}detachSeries(i,e,n){super.detachSeries(i,e,n),i?.removeChild(this.backgroundGroup)}attachPaths([i,e]){this.backgroundGroup.appendChild(i),this.contentGroup.appendChild(e),e.zIndex=-1}detachPaths([i,e]){this.backgroundGroup.removeChild(i),this.contentGroup.removeChild(e)}isStacked(){return(this.seriesGrouping?.stackCount??1)>1}setSeriesIndex(i){let n=this.isStacked()===this._isStacked;return this._isStacked=n,super.setSeriesIndex(i,n)}setZIndex(i){super.setZIndex(i),this.isStacked()?(this.backgroundGroup.zIndex=[0,i],this.contentGroup.zIndex=[1,i,0]):(this.backgroundGroup.zIndex=[1,i,0,0],this.contentGroup.zIndex=[1,i,0,1])}processData(i){return L(this,null,function*(){if(this.data==null)return;let{data:e,visible:n,seriesGrouping:{groupIndex:r=this.id,stackCount:a=1}={}}=this,{xKey:o,yKey:s,yFilterKey:l,connectMissingData:c,normalizedTo:d}=this.properties,u=!this.ctx.animationManager.isSkipped(),h=this.axes.x?.scale,m=this.axes.y?.scale,{xScaleType:p,yScaleType:g}=this.getScaleInformation({xScale:h,yScale:m}),y=a>1||d!=null,v={value:`area-stack-${r}-yValue`,values:`area-stack-${r}-yValues`,stack:`area-stack-${r}-yValue-stack`,marker:`area-stack-${r}-yValues-marker`},x={invalidValue:null};(ch(d)||c)&&a>1&&(x.invalidValue=0),n||(x.forceValue=0);let w=[Wd(o,p,{id:"xValue"}),Fi(s,g,f({id:"yValueRaw"},x)),...l!=null?[Fi(l,g,{id:"yFilterRaw"})]:[],...T$(s,g,S(f({id:"yValueStack"},x),{groupId:v.stack})),Fi(s,g,S(f({id:"yValue"},x),{groupId:v.value}))];y&&w.push(...$d(s,"window","current",S(f({id:"yValueEnd"},x),{groupId:v.values}),g),...$d(s,"normal","current",S(f({id:"yValueCumulative"},x),{groupId:v.marker}),g)),ch(d)&&w.push(gS(Object.values(v),d)),u&&w.push(o_());let{dataModel:D,processedData:k}=yield this.requestDataModel(i,e,{props:w,groupByKeys:y,groupByData:!y});this.dataAggregationFilters=this.aggregateData(D,k),this.animationState.transition("updateData")})}xCoordinateRange(i,e){let{marker:n}=this.properties,r=this.axes.x.scale.convert(i),a=n.enabled?.5*n.size*e:0;return[r-a,r+a]}yCoordinateRange(i,e){let{marker:n}=this.properties,r=this.axes.y.scale.convert(i[0]),a=n.enabled?.5*n.size*e:0;return[r-a,r+a]}yCumulativeKey(i){return i.type==="grouped"?"yValueCumulative":"yValue"}getSeriesDomain(i){let{processedData:e,dataModel:n,axes:r}=this;if(!e||!n)return[];let a=r.y;if(i==="x"){let s=n.resolveProcessedDataDefById(this,"xValue"),l=n.getDomain(this,"xValue","key",e);return s?.def.type==="key"&&s.def.valueType==="category"?l:co(au(l))}let o=this.domainForClippedRange("y",[this.yCumulativeKey(e)],"xValue");if(a instanceof yS||a instanceof su)return co(o);{let s=Number.isFinite(o[1]-o[0])?[o[0]>0?0:o[0],o[1]<0?0:o[1]]:[];return co(s)}}getSeriesRange(i,e){let[n,r]=this.domainForVisibleRange("y",[this.yCumulativeKey(this.processedData)],"xValue",e);return[Math.min(n,0),Math.max(r,0)]}getVisibleItems(i,e,n){return this.countVisibleItems("xValue",[this.yCumulativeKey(this.processedData)],i,e,n)}aggregateData(i,e){if(e.type==="grouped"||Kf(e))return;let n=this.axes.x;if(n==null)return;let{scale:r}=n,a=i.resolveColumnById(this,"xValue",e),o=i.resolveColumnById(this,"yValueRaw",e),s=i.getDomain(this,"xValue","value",e);return Oge(r.type,a,o,s)}createNodeData(){let{axes:i,data:e,processedData:n,dataModel:r,dataAggregationFilters:a}=this,o=i.x,s=i.y;if(!o||!s||!e||!r||!n)return;let{yKey:l,xKey:c,xName:d,yName:u,yFilterKey:h,marker:m,label:p,fill:g,stroke:y,connectMissingData:v,interpolation:x}=this.properties,{scale:w}=o,{scale:D}=s,k=this.getSeriesDomain("y"),{isContinuousY:E}=this.getScaleInformation({xScale:w,yScale:D}),A=(w.bandwidth??0)/2,N=n.type==="grouped",F=r.resolveKeysById(this,"xValue",n),P=r.resolveColumnById(this,"yValueRaw",n),U=N?r.resolveColumnById(this,"yValueCumulative",n):P,H=h!=null?r.resolveColumnById(this,"yFilterRaw",n):void 0,q=n.type==="grouped"?r.resolveColumnById(this,"yValueStack",n):void 0,he=[],ne=[],{visibleSameStackCount:Oe}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this),st=!1,{dataSources:Ct}=n,Zt=Ct.get(this.id)??[],[Xt,vt]=w.range,Ge=Math.abs(vt-Xt),We=a?.find(Je=>Je.maxRange>Ge),Fe=0,jt=0,ft=We?.indices;[Fe,jt]=this.visibleRangeIndices("xValue",o.range,ft),Fe=Math.max(Fe-1,0),jt=Math.min(jt+1,ft?.length??F.length),n.input.count<1e3&&(Fe=0,jt=n.input.count);let dt=(Je,ht,Et)=>{let wt;return(ch(this.properties.normalizedTo)?E&&VD(Et):!isNaN(Et))&&(wt=ht),{x:w.convert(Je)+A,y:D.convert(wt),size:m.size}},rt=Je=>{let ht=F[Je];if(ht==null)return;let Et=Zt[Je],wt=P[Je],Mi=U[Je],Ii=Number.isFinite(wt),Jr=dt(ht,+Mi,wt),mo=H!=null?H[Je]===wt:void 0;if(mo===!1&&(st=!0),Ii&&m&&ne.push({series:this,itemId:l,datum:Et,datumIndex:Je,midPoint:{x:Jr.x,y:Jr.y},cumulativeValue:Mi,yValue:wt,xValue:ht,yKey:l,xKey:c,point:Jr,fill:m.fill??g,stroke:m.stroke??y,strokeWidth:m.strokeWidth??this.properties.strokeWidth,selected:mo}),p.enabled&&Ii){let Gc=this.getLabelText(wt,Et,l,"y",k,p,{value:wt,datum:Et,xKey:c,yKey:l,xName:d,yName:u});he.push({series:this,itemId:l,datum:Et,datumIndex:Je,x:Jr.x,y:Jr.y,labelText:Gc})}};if(n.type==="grouped")for(let{datumIndex:Je}of r.forEachGroupDatum(this,n))rt(Je);else for(let Je=Fe;Je<jt;Je+=1){let ht=ft?.[Je]??Je;F[ht]!=null&&rt(ht)}let Ze=Je=>Je.flatMap(ht=>Array.isArray(ht)?pD(ht,x):new Array(ht.skip).fill(null)),je=(Je,ht)=>({point:{x:w.convert(Je)+A,y:D.convert(ht)},xDatum:Je,yDatum:ht}),Pe=Je=>{let ht=[],Et=(wt,Mi,Ii)=>{let Jr=F[Mi],mo=q!=null?q?.[Mi][Je]:P[Mi];if(v&&!Number.isFinite(P[Mi]))return;let Gc=Number.isFinite(mo),uu=0,AS=!0,lg=0,ES=!0;if(q==null)AS=wt==null||Number.isFinite(P[wt]),ES=Ii==null||Number.isFinite(P[Ii]),uu=wt!=null&&Number.isFinite(P[wt])?mo:0,lg=Ii!=null&&Number.isFinite(P[Ii])?mo:0;else{let cg=q[Mi],Wc=wt!=null?q[wt]:void 0,PL=Ii!=null?q[Ii]:void 0;for(let dg=0;dg<=Je;dg+=1){let TS=cg[dg];if(Number.isFinite(TS)){let rY=Wc==null||Number.isFinite(Wc[dg]),aY=PL==null||Number.isFinite(PL[dg]);rY?uu+=TS:AS=!1,aY?lg+=TS:ES=!1}}}let Us=ht[ht.length-1];if(!v&&(!AS||!ES||!Gc||uu!==lg))if(!Gc&&Array.isArray(Us)&&Us.length===1)ht[ht.length-1]={skip:1};else{let cg=je(Jr,uu),Wc=je(Jr,lg);Array.isArray(Us)?Us.push(cg):Us!=null&&(Us.skip+=1),ht.push(Gc?[Wc]:{skip:0})}else{let cg=v?mo:Math.max(uu,lg),Wc=je(Jr,cg);Array.isArray(Us)?Us.push(Wc):Us!=null?(Us.skip+=1,ht.push([Wc])):ht.push([Wc])}};if(n.type==="grouped")for(let{datumIndexes:[wt,Mi,Ii]}of r.forEachGroupDatumTuple(this,n))Et(wt,Mi,Ii);else{let wt,Mi;for(let Ii=Fe;Ii<jt;Ii+=1){let Jr=ft?.[Ii]??Ii;F[Jr]!=null&&(Mi!=null&&Et(wt,Mi,Jr),wt=Mi,Mi=Jr)}Mi!=null&&Et(wt,Mi,void 0)}return Ze(ht)},ot=this.seriesGrouping?.stackIndex??0,lt=()=>{let Je=Et=>{let wt=F[Et],Mi=q?.[Et][ot]??P[Et];if(!(v&&!Number.isFinite(Mi)))return je(wt,0)},ht;if(n.type==="grouped")ht=Array.from(r.forEachGroupDatum(this,n),({datumIndex:Et})=>Je(Et));else{ht=[];for(let Et=Fe;Et<jt;Et+=1){let wt=ft?.[Et]??Et;F[wt]!=null&&ht.push(Je(wt))}}return ht=ht.filter(Et=>Et!=null),pD(ht,x)},Si=Pe(ot),dn=Si.map(()=>null);for(let Je=ot-1;Je>=-1;Je-=1){let ht;for(let Et=0;Et<dn.length;Et+=1)dn[Et]==null&&(ht??(ht=Je!==-1?Pe(Je):lt()),dn[Et]=ht[Et])}let Qi=Si.map((Je,ht)=>Je??dn[ht]),bi=Si.filter(Je=>Je!=null);return{itemId:l,fillData:{itemId:l,spans:Qi,phantomSpans:dn},strokeData:{itemId:l,spans:bi},labelData:he,nodeData:ne,scales:this.calculateScaling(),visible:this.visible,stackVisible:Oe>0,crossFiltering:st}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}updatePathNodes(i){let{visible:e,animationEnabled:n}=i,[r,a]=i.paths,o=this.contextNodeData?.crossFiltering===!0,{strokeWidth:s,stroke:l,strokeOpacity:c,lineDash:d,lineDashOffset:u,fill:h,fillOpacity:m,opacity:p}=Jt(this.getHighlightStyle(),this.properties);a.setProperties({fill:void 0,lineCap:"round",lineJoin:"round",pointerEvents:1,stroke:l,strokeWidth:s,strokeOpacity:c*(o?Rge:1),lineDash:d,lineDashOffset:u,opacity:p,visible:e||n});let g=Cf(h,this.properties.fillGradientDefaults,this.properties.fillPatternDefaults,this.properties.fillImageDefaults);Sc(r,{fill:g,stroke:void 0,fillOpacity:m*(o?Tge:1)},this.getShapeFillBBox()),r.setProperties({lineJoin:"round",pointerEvents:1,fillShadow:this.properties.shadow,opacity:p,visible:e||n}),gD(this,a),gD(this,r)}updatePaths(i){this.updateAreaPaths(i.paths,i.contextData)}updateAreaPaths(i,e){for(let n of i)n.visible=e.visible;if(e.visible)this.updateFillPath(i,e),this.updateStrokePath(i,e);else for(let n of i)n.path.clear(),n.markDirty("AreaSeries")}updateFillPath(i,e){let[n]=i;n.path.clear(),r8(n,e.fillData),n.markDirty("AreaSeries")}updateStrokePath(i,e){let{spans:n}=e.strokeData,[,r]=i;r.path.clear(),rL(r,n),r.markDirty("AreaSeries")}updateDatumSelection(i){let{nodeData:e,datumSelection:n}=i,r=this.properties.marker.enabled||this.contextNodeData?.crossFiltering===!0;return this.properties.marker.isDirty()&&(n.clear(),n.cleanup()),n.update(r?e:[])}updateDatumNodes(i){let{datumSelection:e,isHighlight:n}=i,{xKey:r,yKey:a,marker:o,stroke:s,strokeWidth:l,strokeOpacity:c}=this.properties,d=this.getSeriesDomain("x"),u=this.getSeriesDomain("y"),h=this.getShapeFillBBox();e.each((m,p)=>{let{xValue:g,yValue:y}=p,v=Gd(g,y,r,a,d,u),x=this.getMarkerStyle(o,p,v,n,void 0,{stroke:s,strokeWidth:l,strokeOpacity:c});this.applyMarkerStyle(x,m,p.point,h,{selected:p.selected})}),n||this.properties.marker.markClean(),n||this.properties.marker.markClean()}updateLabelSelection(i){let{labelData:e,labelSelection:n}=i;return n.update(e)}updateLabelNodes(i){let{isHighlight:e=!1}=i,n=this.ctx.highlightManager?.getActiveHighlight();i.labelSelection.each((r,a)=>{let{x:o,y:s,labelText:l}=a,c=e||this.isSeriesHighlighted(n),d=this.getHighlightStateString(n,c,a.datumIndex),u=Al(this,a,this.properties,this.properties.label,c,d),{enabled:h,fontStyle:m,fontWeight:p,fontSize:g,fontFamily:y,color:v}=u;l&&h&&this.visible?(r.fontStyle=m,r.fontWeight=p,r.fontSize=g,r.fontFamily=y,r.textAlign="center",r.textBaseline="bottom",r.text=l,r.x=o,r.y=s-10,r.fill=v,r.fillOpacity=this.getHighlightStyle(e,a.datumIndex).opacity??1,r.visible=!0,r.setBoxing(u)):r.visible=!1})}getTooltipContent(i){let{id:e,dataModel:n,processedData:r,axes:a,properties:o}=this,{xKey:s,xName:l,yKey:c,yName:d,tooltip:u,marker:h,legendItemName:m}=o,p=a.x,g=a.y;if(!n||!r||!p||!g)return;let y=r.dataSources.get(this.id)?.[i],v=n.resolveKeysById(this,"xValue",r)[i],x=n.resolveColumnById(this,"yValueRaw",r)[i],{xDomain:w,yDomain:D}=this.cachedDatumCallback("domain",()=>({xDomain:this.getSeriesDomain("x"),yDomain:this.getSeriesDomain("y")}));if(v==null)return;let k=this.getMarkerStyle(h,{datum:y,datumIndex:i},Gd(v,x,s,c,w,D),!1);return this.formatTooltipWithContext(u,{heading:this.getAxisValueText(p,"tooltip",v,y,s,m),symbol:this.legendItemSymbol(),data:[{label:d,fallbackLabel:c,value:this.getAxisValueText(g,"tooltip",x,y,c,m)}]},f(f({seriesId:e,datum:y,title:d,xKey:s,xName:l,yKey:c,yName:d},k),this.getModuleTooltipParams()))}legendItemSymbol(){let{fill:i,stroke:e,fillOpacity:n,strokeOpacity:r,strokeWidth:a,lineDash:o,marker:s,fillGradientDefaults:l,fillPatternDefaults:c,fillImageDefaults:d}=this.properties,u=!s.enabled||s.fill===void 0,h=u?Cf(i,l,c,d):Cf(s.fill,s.fillGradientDefaults,s.fillPatternDefaults,s.fillImageDefaults),m=this.getMarkerStyle(s,{},void 0,!1,{size:s.size,fill:h,fillOpacity:u?n:s.fillOpacity},void 0,!1);return{marker:S(f({},m),{enabled:s.enabled||a<=0}),line:{stroke:e,strokeOpacity:r,strokeWidth:a,lineDash:o}}}getLegendData(i){if(i!=="category")return[];let{id:e,ctx:{legendManager:n},visible:r}=this,{yKey:a,yName:o,legendItemName:s,showInLegend:l}=this.properties;return[{legendType:i,id:e,itemId:a,seriesId:e,enabled:r&&n.getItemEnabled({seriesId:e,itemId:a}),label:{text:s??o??a},symbol:this.legendItemSymbol(),legendItemName:s,hideInLegend:!l}]}animateEmptyUpdateReady(i){let{datumSelection:e,labelSelection:n,contextData:r,paths:a}=i,{animationManager:o}=this.ctx;this.updateAreaPaths(a,r),mL(this,o,...a),Er([e],wv),hL(this,o,e),fn(this,"labels",o,n)}animateReadyResize(i){let{contextData:e,paths:n}=i;this.updateAreaPaths(n,e),super.animateReadyResize(i)}animateWaitingUpdateReady(i){let{animationManager:e}=this.ctx,{datumSelection:n,labelSelection:r,contextData:a,paths:o,previousContextData:s}=i,[l,c]=o;if(a.visible===!1&&s?.visible===!1||l==null&&c==null)return;this.resetDatumAnimation(i),this.resetLabelAnimation(i);let d=()=>{this.resetPathAnimation(i),this.updateAreaPaths(o,a)},u=()=>{e.skipCurrentBatch(),d()};if(a==null||s==null){d(),Cv(this,e,"added",n),fD(this,"fill_path_properties",e,"add",l),fD(this,"stroke_path_properties",e,"add",c),fn(this,"labels",e,r);return}if(a.crossFiltering!==s.crossFiltering){u();return}let h=o8(a,s);if(h===void 0){u();return}else if(h.status==="no-op")return;Cv(this,e,void 0,n),Tn(this.id,"fill_path_properties",e,[l],h.fill.pathProperties),hD(this.id,"fill_path_update",e,[l],h.fill.path),Tn(this.id,"stroke_path_properties",e,[c],h.stroke.pathProperties),hD(this.id,"stroke_path_update",e,[c],h.stroke.path),fn(this,"labels",e,r),this.ctx.animationManager.animate({id:this.id,groupId:"reset_after_animation",phase:"trailing",from:{},to:{},onComplete:()=>this.updateAreaPaths(o,a)})}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new On}getFormattedMarkerStyle(i){let{xValue:e,yValue:n,xKey:r,yKey:a}=i,o=this.getSeriesDomain("x"),s=this.getSeriesDomain("y");return this.getMarkerStyle(this.properties.marker,i,Gd(e,n,r,a,o,s),!0)}computeFocusBounds(i){return DS(this,i)}hasItemStylers(){return this.properties.marker.itemStyler!=null||this.properties.label.itemStyler!=null}};return t.className="AreaSeries",t.type="area",t})(),Lge={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"area",moduleFactory:t=>new c8(t),stackable:!0,defaultAxes:[{type:"number",position:"left"},{type:"category",position:"bottom"}],themeTemplate:{series:{nodeClickRange:"nearest",fill:{$palette:"fill"},fillGradientDefaults:Gf,fillPatternDefaults:Rc,fillImageDefaults:Qh,stroke:{$palette:"stroke"},fillOpacity:.8,strokeOpacity:1,strokeWidth:{$isUserOption:["./stroke",2,0]},lineDash:[0],lineDashOffset:0,shadow:{enabled:!1,color:iu,xOffset:3,yOffset:3,blur:5},interpolation:{type:"linear"},marker:{enabled:!1,shape:"circle",size:7,strokeWidth:{$isUserOption:["./stroke",1,0]},fill:{$palette:"fill"},stroke:{$palette:"stroke"},fillGradientDefaults:Jv,fillPatternDefaults:Rc},label:S(f({},Bo),{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}}),tooltip:{range:{$path:["/tooltip/range","nearest"]},position:{anchorTo:{$path:["/tooltip/position/anchorTo","node"]}}},highlight:nu()}}},d8={type:"series",name:"area",chartType:"cartesian",options:Q$,create:t=>new c8(t)},fL=class extends ir{constructor(){super(...arguments),this.direction="x",this.featherRatio=0}get feathered(){return Math.abs(this.featherRatio)>1e-6}isPointInPath(t,i){return this.feathered?this.getBBox().containsPoint(t,i):super.isPointInPath(t,i)}updatePath(){if(!this.feathered){super.updatePath();return}let{path:t,x:i,y:e,width:n,height:r,direction:a,featherRatio:o}=this;if(t.clear(),a==="x"){let s=Math.abs(o)*n;o>0?(t.moveTo(i,e),t.lineTo(i+n-s,e),t.lineTo(i+n,e+r/2),t.lineTo(i+n-s,e+r),t.lineTo(i,e+r),t.closePath()):(t.moveTo(i+s,e),t.lineTo(i+n,e),t.lineTo(i+n,e+r),t.lineTo(i+s,e+r),t.lineTo(i,e+r/2),t.closePath())}else{let s=Math.abs(o)*r;o>0?(t.moveTo(i,e+s),t.lineTo(i+n/2,e),t.lineTo(i+n,e+s),t.lineTo(i+n,e+r),t.lineTo(i,e+r),t.closePath()):(t.moveTo(i,e),t.lineTo(i+n,e),t.lineTo(i+n,e+r-s),t.lineTo(i+n/2,e+r),t.lineTo(i,e+r-s),t.closePath())}}};b([te()],fL.prototype,"direction",2);b([te()],fL.prototype,"featherRatio",2);function gL(t,i){for(let e of i){let n=e.datum;n===void 0?z.error("undefined datum"):t.addValue(e,n)}}function bD(t,i){let{x:e,y:n}=i,{nearest:r,distanceSquared:a}=t.getQuadTree().find(e,n);if(r!==void 0)return{datum:r.value,distance:Math.sqrt(a)}}var bL=class extends du{constructor(){super(...arguments),this.direction="vertical"}};b([C],bL.prototype,"direction",2);var u8=class extends om{constructor(){super(...arguments),this.groupScale=new Uf,this.smallestDataInterval=void 0,this.largestDataInterval=void 0}padBandExtent(t,i){let e=typeof i=="boolean"?1:.5,n=Tt(this.smallestDataInterval)?this.smallestDataInterval*e:0,r=au(t)??[NaN,NaN];return typeof i=="boolean"?r[i?0:1]-=(i?1:-1)*n:(r[0]-=n,r[1]+=n),co(r)}getBandScalePadding(){return{inner:.3,outer:.15}}shouldFlipXY(){return!this.isVertical()}isVertical(){return this.properties.direction==="vertical"}getBarDirection(){return this.shouldFlipXY()?"x":"y"}getCategoryDirection(){return this.shouldFlipXY()?"y":"x"}getValueAxis(){let t=this.getBarDirection();return this.axes[t]}getCategoryAxis(){let t=this.getCategoryDirection();return this.axes[t]}getBandwidth(t,i){return Di.is(t.scale)?t.scale.calcBandwidth(this.smallestDataInterval,i):t.scale.bandwidth}xCoordinateRange(t){let i=this.axes[this.getCategoryDirection()],e=i.scale,n=this.getBandwidth(i,0)??0,r=Di.is(e)?n*-.5:0,a=e.convert(t)+r;return[a,a+n]}yCoordinateRange(t){let e=this.axes[this.getBarDirection()].scale,n=t.map(r=>e.convert(r));if(n.length===1){let r=e.convert(0);return[Math.min(n[0],r),Math.max(n[0],r)]}return[Math.min(...n),Math.max(...n)]}updateGroupScale(t){let i=[],{groupScale:e}=this,n=this.getBandwidth(t),{index:r,visibleGroupCount:a}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this);for(let s=0;s<a;s++)i.push(String(s));return e.domain=i,e.range=[0,n??0],t instanceof l_?e.paddingInner=t.groupPaddingInner:t instanceof Yf?(e.paddingInner=t.groupPaddingInner,e.round=e.padding!==0):e.padding=0,{barWidth:e.bandwidth>=1?e.bandwidth:e.rawBandwidth,groupIndex:r}}resolveKeyDirection(t){return this.getBarDirection()==="x"?t==="x"?"y":"x":t}initQuadTree(t){gL(t,this.datumNodesIter())}pickNodesExactShape(t){let i=bD(this,t);return i!=null&&i.distance<=0?[i.datum]:[]}pickNodeClosestDatum(t){return bD(this,t)}},Nge=ba,Pge=ao,Fge=No,Vge=Po,Bge=El,zge=1e3;function w5(t,i){return Array.from({length:t},(e,n)=>{let r=n*El,a=i[r+ba],o=i[r+ao];return(a+o)/2|0})}function jge(t,i,e,n){if(i.length<zge)return;let[r,a]=xv(t,n),o=sL(i),{indexData:s,valueData:l}=dL(i,e,e,r,a,o),c=w5(o,s),d=[{maxRange:o,indexData:s,indices:c}];for(;o>64;)({indexData:s,valueData:l,maxRange:o}=uL(s,l,o)),c=w5(o,s),d.push({maxRange:o,indexData:s,indices:c});return d.reverse(),d}var yL=class extends sn{constructor(){super(...arguments),this.placement="inside-center",this.spacing=0}};b([C],yL.prototype,"placement",2);b([C],yL.prototype,"spacing",2);var $i=class extends bL{constructor(){super(...arguments),this.fill="#c16068",this.fillGradientDefaults=new Go,this.fillPatternDefaults=new Wi,this.fillImageDefaults=new Ua,this.fillOpacity=1,this.stroke="#874349",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.crisp=void 0,this.shadow=new Vl,this.label=new yL,this.tooltip=am(),this.sparklineMode=!1}getStyle(){let{fill:t,fillOpacity:i,stroke:e,strokeWidth:n,strokeOpacity:r,lineDash:a,lineDashOffset:o,cornerRadius:s}=this;return{fill:t,fillOpacity:i,stroke:e,strokeWidth:n,strokeOpacity:r,lineDash:a,lineDashOffset:o,cornerRadius:s,opacity:1}}};b([C],$i.prototype,"xKey",2);b([C],$i.prototype,"xName",2);b([C],$i.prototype,"yKey",2);b([C],$i.prototype,"yName",2);b([C],$i.prototype,"yFilterKey",2);b([C],$i.prototype,"stackGroup",2);b([C],$i.prototype,"normalizedTo",2);b([C],$i.prototype,"fill",2);b([C],$i.prototype,"fillGradientDefaults",2);b([C],$i.prototype,"fillPatternDefaults",2);b([C],$i.prototype,"fillImageDefaults",2);b([C],$i.prototype,"fillOpacity",2);b([C],$i.prototype,"stroke",2);b([C],$i.prototype,"strokeWidth",2);b([C],$i.prototype,"strokeOpacity",2);b([C],$i.prototype,"lineDash",2);b([C],$i.prototype,"lineDashOffset",2);b([C],$i.prototype,"cornerRadius",2);b([C],$i.prototype,"crisp",2);b([C],$i.prototype,"itemStyler",2);b([C],$i.prototype,"shadow",2);b([C],$i.prototype,"label",2);b([C],$i.prototype,"tooltip",2);b([C],$i.prototype,"sparklineMode",2);function h8(t,i,e,n){if(i!=null){let[r,a]=i;if(r!==0||a!==1)return!1}if(Di.is(t)){let r=t.calcBandwidth(n)-t.calcBandwidth(e);if(r>0&&r<1)return!1}if(Lc.is(t)){let{bandwidth:r,step:a}=t;if(r>0&&r<1)return!1;let o=a-r;if(o>0&&o<1)return!1}return!0}var R1=t=>Zp(t.yValue??0);function yD(t,i,e){let{startingX:n,startingY:r}=Hge(t,i);return{isVertical:t,calculate:(o,s)=>{let l=t?o.x:n,c=t?r:o.y,d=t?o.width:0,u=t?0:o.height,{opacity:h=1}=o;s&&(isNaN(l)||isNaN(c))&&({x:l,y:c}=s,d=t?s.width:0,u=t?0:s.height,t&&!R1(s)?c+=s.height:!t&&R1(s)&&(l+=s.width));let m;return o.clipBBox==null?m=void 0:R1(o)?m=t?new we(l,c-u,d,u):new we(l-d,c,d,u):m=new we(l,c,d,u),{x:l,y:c,width:d,height:u,clipBBox:m,opacity:h}},mode:e}}function Uge(t,i){return{isVertical:t,calculate:e=>({x:t?e.x:e.x+e.width/2,y:t?e.y+e.height/2:e.y,width:t?e.width:0,height:t?0:e.height,clipBBox:e.clipBBox,opacity:e.opacity??1}),mode:i}}function vD(t){let i=a=>a==null||isNaN(a.x)||isNaN(a.y);return{toFn:(a,o,s)=>s==="removed"&&a.datum==null&&t.mode==="fade"?S(f({},Dv(a,o)),{opacity:0}):s==="removed"||i(o)?t.calculate(o,a.previousDatum):{x:o.x,y:o.y,width:o.width,height:o.height,clipBBox:o.clipBBox,opacity:o.opacity??1},fromFn:(a,o,s)=>{s==="updated"&&i(o)?s="removed":s==="updated"&&i(a.previousDatum)&&(s="added");let l;s==="added"&&a.previousDatum==null&&t.mode==="fade"?l=S(f({},Dv(a,o)),{opacity:0}):s==="unknown"||s==="added"?l=t.calculate(o,a.previousDatum):l={x:a.x,y:a.y,width:a.width,height:a.height,clipBBox:a.clipBBox,opacity:a.opacity??1};let c=Ts[s];return S(f({},l),{phase:c})},applyFn:(a,o,s)=>{a.setProperties(o),a.crisp=s==="end"&&(a.datum?.crisp??!1)}}}function Hge(t,i){let e=i[t?"y":"x"],n=1/0,r=0;return e?(t?r=e.scale.convert(Di.is(e.scale)?0:Math.max(...e.range)):n=e.scale.convert(Di.is(e.scale)?0:Math.min(...e.range)),{startingX:n,startingY:r}):{startingX:n,startingY:r}}function Dv(t,{x:i,y:e,width:n,height:r,clipBBox:a,opacity:o=1}){return{x:i,y:e,width:n,height:r,clipBBox:a,opacity:o,crisp:t.datum?.crisp??!1}}function vL(t,i){if(i===void 0)return;let{x:e,y:n,width:r,height:a}=i;return an.toCanvas(t.contentGroup,new we(e,n,r,a))}function m8(t,i,e,n,r,a){let o=a?.reduced?.diff?.[t];if(o?.changed)return o;let s=Gge(n,r);return o==null&&a?.reduced?.diff!=null?(o={changed:!0,added:new Set,updated:new Set,removed:new Set,moved:new Set},s?o.updated=new Set(Array.from(i,({datum:l})=>e(l))):o.added=new Set(Array.from(i,({datum:l})=>e(l)))):s&&(o={changed:!0,added:new Set,updated:new Set(Array.from(i,({datum:l})=>e(l))),removed:new Set,moved:new Set}),o}function D5(t){return typeof t=="object"&&t!==null&&"groupScale"in t}function Gge(t,i){if(!i)return!1;let e=t.scales,n=i.scales;if(!Bh(e.x,n.x)||!Bh(e.y,n.y))return!0;if(!D5(t)||!D5(i))return!1;let r=t.groupScale,a=i.groupScale;return!Bh(r,a)}var Wge=Ev(jge),_L=(()=>{let t=class extends u8{constructor(i){super({moduleCtx:i,propertyKeys:ng,propertyNames:rg,categoryKey:"xValue",pickModes:[2,1,0],pathsPerSeries:[],datumSelectionGarbageCollection:!1,animationAlwaysUpdateSelections:!0,animationResetFns:{datum:Dv,label:rm}}),this.properties=new $i,this.connectsToYAxis=!0,this.dataAggregationFilters=void 0}get pickModeAxis(){return this.properties.sparklineMode?"main":void 0}crossFilteringEnabled(){return this.properties.yFilterKey!=null&&(this.seriesGrouping==null||this.seriesGrouping.stackIndex===0)}processData(i){return L(this,null,function*(){if(!this.data)return;let{xKey:e,yKey:n,yFilterKey:r,normalizedTo:a}=this.properties,{seriesGrouping:{groupIndex:o=this.id}={},data:s}=this,c=(this.seriesGrouping?.stackCount??0)>1||a!=null,d=c,u=!this.ctx.animationManager.isSkipped(),h=this.getCategoryAxis()?.scale,m=this.getValueAxis()?.scale,{isContinuousX:p,xScaleType:g,yScaleType:y}=this.getScaleInformation({xScale:h,yScale:m}),v=`bar-stack-${o}-yValues`,x=`${v}-trailing`,w=this.visible?{}:{forceValue:0},D=[Wd(e,g,{id:"xValue"}),Fi(n,y,f({id:"yValue-raw",invalidValue:null},w))];this.crossFilteringEnabled()&&D.push(Fi(r,y,f({id:"yFilterValue",invalidValue:null},w))),c&&D.push(...$d(n,"normal","current",f({id:"yValue-end",rangeId:"yValue-range",invalidValue:null,missingValue:0,groupId:v,separateNegative:!0},w),y),...$d(n,"trailing","current",f({id:"yValue-start",invalidValue:null,missingValue:0,groupId:x,separateNegative:!0},w),y)),p&&D.push(R$,O$),Tt(a)&&D.push(gS([v,x],Math.abs(a))),u&&this.processedData&&D.push(s_(this.id,this.processedData)),(u||!d)&&D.push(o_());let{dataModel:k,processedData:E}=yield this.requestDataModel(i,s,{props:D,groupByKeys:d,groupByData:!d});this.dataAggregationFilters=this.aggregateData(k,E),this.smallestDataInterval=E.reduced?.smallestKeyInterval,this.largestDataInterval=E.reduced?.largestKeyInterval,this.animationState.transition("updateData")})}getSeriesDomain(i){let{processedData:e,dataModel:n}=this;if(n==null||e==null)return[];if(i===this.getCategoryDirection()){let s=n.resolveProcessedDataDefById(this,"xValue"),l=n.getDomain(this,"xValue","key",e);return s?.def.type==="key"&&s.def.valueType==="category"?l:this.padBandExtent(l)}let r=this.dataModel?.hasColumnById(this,"yValue-end")?"yValue-end":"yValue-raw",a=this.domainForClippedRange(i,[r],"xValue"),o=this.crossFilteringEnabled()?n.getDomain(this,"yFilterValue","value",e):void 0;if(o!=null&&(a=[Math.min(a[0],o[0]),Math.max(a[1],o[1])]),this.getValueAxis()instanceof yS)return co(a);{let s=Number.isFinite(a[1]-a[0])?[Math.min(0,a[0]),Math.max(0,a[1])]:[];return co(s)}}getSeriesRange(i,e){let n=this.dataModel?.hasColumnById(this,"yValue-end")?"yValue-end":"yValue-raw",[r,a]=this.domainForVisibleRange("y",[n],"xValue",e);return[Math.min(r,0),Math.max(a,0)]}getVisibleItems(i,e,n){let r=this.dataModel?.hasColumnById(this,"yValue-end")?"yValue-end":"yValue-raw";return this.countVisibleItems("xValue",[r],i,e,n)}aggregateData(i,e){if(e.type!=="ungrouped"||Kf(e))return;let n=this.axes.x;if(n==null)return;let r=i.resolveKeysById(this,"xValue",e),a=i.resolveColumnById(this,"yValue-raw",e),{index:o}=i.resolveProcessedDataDefById(this,"xValue"),s=e.domain.keys[o];return Wge(n.scale.type,r,a,s)}createNodeData(){let{dataModel:i,processedData:e,groupScale:n,dataAggregationFilters:r}=this,a=this.getCategoryAxis(),o=this.getValueAxis();if(!i||!e||!a||!o)return;let s=e.dataSources?.get(this.id);if(s==null)return;let l=a.scale,c=o.scale,{xKey:d,yKey:u,xName:h,yName:m,legendItemName:p,label:g}=this.properties,y=this.getSeriesDomain("y"),v=o.isReversed(),{barWidth:x,groupIndex:w}=this.updateGroupScale(a),D=n.convert(String(w)),k=Di.is(l)?x*-.5:0,E=i.resolveKeysById(this,"xValue",e),A=i.resolveColumnById(this,"yValue-raw",e),N=this.crossFilteringEnabled()?i.resolveColumnById(this,"yFilterValue",e):void 0,F=!this.ctx.animationManager.isSkipped(),P=Ge=>l.convert(E[Ge])+D+k,U=this.properties.crisp??h8(a?.scale,a?.visibleRange,this.smallestDataInterval,this.largestDataInterval),H=c.convert(0),q=({datum:Ge,datumIndex:We,xValue:Fe,yValue:jt,cumulativeValue:ft,phantom:dt,currY:rt,prevY:Ze,x:je,width:Pe,isPositive:ot,yRange:lt,labelText:Si,opacity:dn,featherRatio:Qi,crossScale:bi=1})=>{let Fn=ot!==v,Je=c.convert(rt),ht=c.convert(Ze),Et=c.convert(lt),wt=this.getBarDirection()==="x",Mi=Pe*.5*(1-bi),Ii={x:wt?Math.min(Je,ht):je+Mi,y:wt?je+Mi:Math.min(Je,ht),width:wt?Math.abs(ht-Je):Pe*bi,height:wt?Pe*bi:Math.abs(ht-Je)},Jr=new we(Ii.x,Ii.y,Ii.width,Ii.height),mo={x:wt?Math.min(H,Et):je+Mi,y:wt?je+Mi:Math.min(H,Et),width:wt?Math.abs(H-Et):Pe*bi,height:wt?Pe*bi:Math.abs(H-Et)},Gc=this.shouldFlipXY()?Ii.height:Ii.width,uu=g.spacing+(typeof g.padding=="number"?g.padding:0);return{series:this,itemId:dt?Mc(u,dt):u,datum:Ge,datumIndex:We,cumulativeValue:ft,phantom:dt,xValue:Fe,yValue:jt,yKey:u,xKey:d,capDefaults:{lengthRatioMultiplier:Gc,lengthMax:Gc},x:mo.x,y:mo.y,width:mo.width,height:mo.height,midPoint:{x:Ii.x+Ii.width/2,y:Ii.y+Ii.height/2},opacity:dn,featherRatio:Qi,topLeftCornerRadius:wt!==Fn,topRightCornerRadius:Fn,bottomRightCornerRadius:wt===Fn,bottomLeftCornerRadius:!Fn,clipBBox:Jr,crisp:U,label:Si!=null?f({text:Si},H6({isUpward:Fn,isVertical:!wt,placement:g.placement,spacing:uu,rect:Ii})):void 0,missing:jt==null,focusable:!dt}},he=[],ne=[],Oe=[],st=(Ge,We,Fe,jt,ft,dt,rt=0,Ze=1)=>{let je=E[Ge];if(je==null)return;let Pe=s[Ge],ot=A[Ge],lt=N!=null?Number(N[Ge]):void 0,Si=ot>=0&&!Object.is(ot,-0);if(!Number.isFinite(ft)||lt!=null&&!Number.isFinite(lt))return;let dn=g.enabled&&ot!=null?this.getLabelText(lt??ot,Pe,u,"y",y,g,{datum:Pe,value:lt??ot,xKey:d,yKey:u,xName:h,yName:m,legendItemName:p}):void 0,Qi=lt!=null&&lt>ot,bi=q({datum:Pe,datumIndex:Ge,xValue:je,yValue:lt??ot,cumulativeValue:lt??ft,phantom:!1,currY:lt!=null?jt+lt:ft,prevY:jt,x:We,width:Fe,isPositive:Si,yRange:Math.max(jt+(lt??-1/0),dt),labelText:dn,opacity:Ze,featherRatio:rt,crossScale:Qi?.6:void 0});if(ne.push(bi),Oe.push(bi),lt!=null){let Fn=q({datum:s[Ge],datumIndex:Ge,xValue:je,yValue:lt,cumulativeValue:lt,phantom:!0,currY:ft,prevY:jt,x:We,width:Fe,isPositive:Si,yRange:dt,labelText:void 0,opacity:Ze,featherRatio:rt,crossScale:void 0});he.push(Fn)}},[Ct,Zt]=l.range,Xt=Math.abs(Zt-Ct),vt=r?.find(Ge=>Ge.maxRange>Xt);if(e.type==="grouped"){let Ge=x,We=i.hasColumnById(this,"yValue-start"),Fe=We?i.resolveColumnById(this,"yValue-start",e):void 0,jt=We?i.resolveColumnById(this,"yValue-end",e):void 0,ft=We?i.resolveProcessedDataIndexById(this,"yValue-range"):-1;for(let{datumIndex:dt,group:{aggregation:rt}}of i.forEachGroupDatum(this,e)){let Ze=P(dt),je=A[dt],Pe=je>=0&&!Object.is(je,-0),ot=We?Number(Fe?.[dt]):0,lt=We?Number(jt?.[dt]):je,Si=lt;We&&(Si=rt[ft][Pe?1:0]),st(dt,Ze,Ge,ot,lt,Si)}}else if(vt==null){let Ge=e.invalidData?.get(this.id),We=x,[Fe,jt]=this.visibleRangeIndices("xValue",a.range);e.input.count<1e3&&(Fe=0,jt=e.input.count);for(let ft=Fe;ft<jt;ft+=1){if(Ge?.[ft]===!0)continue;let dt=P(ft),rt=Number(A[ft]);st(ft,dt,We,0,rt,rt)}}else{let{indexData:Ge,indices:We}=vt,[Fe,jt]=this.visibleRangeIndices("xValue",a.range,We),ft=v?-1:1;for(let dt=Fe;dt<jt;dt+=1){let rt=dt*Bge,Ze=Ge[rt+Nge],je=Ge[rt+Pge],Pe=Ge[rt+Fge],ot=Ge[rt+Vge];if(Ze===-1)continue;let lt=P((Ze+je)/2|0),Si=Math.abs(P(je)-P(Ze))+x,dn=Math.abs(je-Ze),Qi=Lc.is(l)?l.bandwidth*Math.max(dn-1,1)/(l.step*dn):1,bi=E[ot]!=null?Number(A[ot]):NaN,Fn=E[Pe]!=null?Number(A[Pe]):NaN;if(bi>0){let Je=Fn>=0?ft*(1-Fn/bi):ft;st(ot,lt,Si,0,bi,bi,Je,Qi)}if(Fn<0){let Je=bi<=0?-ft*(1-bi/Fn):-ft;st(Pe,lt,Si,0,Fn,Fn,Je,Qi)}}}return{itemId:u,nodeData:he.length>0?[...he,...ne]:ne,labelData:Oe,scales:this.calculateScaling(),visible:this.visible||F,groupScale:this.getScaling(this.groupScale)}}nodeFactory(){return new fL}getHighlightData(i,e){let n=i.find(r=>r.datum===e.datum&&!r.phantom);return n!=null?[n]:void 0}updateDatumSelection(i){return i.datumSelection.update(i.nodeData,void 0,e=>this.getDatumId(e))}getItemStyle(i,e){let{id:n,properties:r}=this,{xKey:a,yKey:o,itemStyler:s,fillGradientDefaults:l,fillPatternDefaults:c,fillImageDefaults:d}=r,{xValue:u,yValue:h,datum:m,datumIndex:p}=i,g=this.getHighlightStyle(e,p),y=Ol(Jt(g,r.getStyle()),l,c,d);if(s&&i!=null){let{xDomain:v,yDomain:x}=this.cachedDatumCallback("domain",()=>({xDomain:this.getSeriesDomain("x"),yDomain:this.getSeriesDomain("y")})),w=this.cachedDatumCallback(Mc(this.getDatumId(i),e?"highlight":"node"),()=>{let D=this.ctx.highlightManager?.getActiveHighlight(),k=this.getHighlightStateString(D,e,p);return this.callWithContext(s,f(S(f({seriesId:n},Gd(u,h,a,o,v,x)),{datum:m,xValue:u,yValue:h,highlighted:e,highlightState:k}),y))});w&&(y=Ol(Jt(w,y),l,c,d))}return y}updateDatumNodes(i){let{shadow:e}=this.properties,n=this.getCategoryDirection()==="x",r=this.getShapeFillBBox(),a=this.getBarDirection();i.datumSelection.each((o,s)=>{let l=this.getItemStyle(s,i.isHighlight);Sc(o,l,r);let c=l.cornerRadius??0;o.topLeftCornerRadius=s.topLeftCornerRadius?c:0,o.topRightCornerRadius=s.topRightCornerRadius?c:0,o.bottomRightCornerRadius=s.bottomRightCornerRadius?c:0,o.bottomLeftCornerRadius=s.bottomLeftCornerRadius?c:0,o.visible=n?(s.clipBBox?.width??s.width)>0:(s.clipBBox?.height??s.height)>0,o.direction=a,o.featherRatio=s.featherRatio,o.crisp=s.crisp,o.fillShadow=e})}updateLabelSelection(i){let e=this.isLabelEnabled()?i.labelData:[];return i.labelSelection.update(e,n=>{n.pointerEvents=1})}updateLabelNodes(i){let{isHighlight:e=!1}=i,n={xKey:this.properties.xKey,xName:this.properties.xName??this.properties.xKey,yKey:this.properties.yKey,yName:this.properties.yName??this.properties.yKey,legendItemName:this.properties.legendItemName??this.properties.xName??this.properties.xKey};i.labelSelection.each((r,a)=>{r.fillOpacity=this.getHighlightStyle(e,a?.datumIndex).opacity??1;let o=this.ctx.highlightManager?.getActiveHighlight(),s=this.getHighlightStateString(o,e,a.datumIndex);U6(this,r,n,this.properties.label,a.label,e,s)})}getTooltipContent(i){let{id:e,dataModel:n,processedData:r,properties:a}=this,{xKey:o,xName:s,yKey:l,yName:c,legendItemName:d,stackGroup:u,tooltip:h}=a,m=this.getCategoryAxis(),p=this.getValueAxis(),g=this.contextNodeData?.nodeData?.[i];if(!n||!r||!m||!p||!g)return;let y=r.dataSources.get(this.id)?.[i],v=n.resolveKeysById(this,"xValue",r)[i],x=n.resolveColumnById(this,"yValue-raw",r)[i];if(v==null)return;let w=this.getItemStyle(g,!1);return this.formatTooltipWithContext(h,{heading:this.getAxisValueText(m,"tooltip",v,y,o,d),symbol:this.legendItemSymbol(),data:[{label:c,fallbackLabel:l,value:this.getAxisValueText(p,"tooltip",x,y,l,d)}]},f(f({seriesId:e,datum:y,title:c,xKey:o,xName:s,yKey:l,yName:c,legendItemName:d,stackGroup:u},w),this.getModuleTooltipParams()))}legendItemSymbol(){let{fill:i,stroke:e,strokeWidth:n,fillOpacity:r,strokeOpacity:a,lineDash:o,lineDashOffset:s,fillGradientDefaults:l,fillPatternDefaults:c,fillImageDefaults:d}=this.properties;return{marker:Ol({fill:i??"rgba(0, 0, 0, 0)",stroke:e??"rgba(0, 0, 0, 0)",fillOpacity:r,strokeOpacity:a,strokeWidth:n,lineDash:o,lineDashOffset:s},l,c,d)}}getLegendData(i){let{showInLegend:e}=this.properties;if(i!=="category")return[];let{id:n,ctx:{legendManager:r},visible:a}=this,{yKey:o,yName:s,legendItemName:l}=this.properties;return[{legendType:"category",id:n,itemId:o,seriesId:n,enabled:a&&r.getItemEnabled({seriesId:n,itemId:o}),label:{text:l??s??o},symbol:this.legendItemSymbol(),legendItemName:l,hideInLegend:!e}]}animateEmptyUpdateReady({datumSelection:i,labelSelection:e,annotationSelections:n}){let r=vD(yD(this.isVertical(),this.axes,"normal"));Tn(this.id,"nodes",this.ctx.animationManager,[i],r),fn(this,"labels",this.ctx.animationManager,e),fn(this,"annotations",this.ctx.animationManager,...n)}animateWaitingUpdateReady(i){let{datumSelection:e,labelSelection:n,annotationSelections:r,contextData:a,previousContextData:o}=i;this.ctx.animationManager.stopByAnimationGroupId(this.id);let s=m8(this.id,e,this.getDatumId.bind(this),i.contextData,o,this.processedData),l=o==null?"fade":"normal",c=vD(yD(this.isVertical(),this.axes,l));Tn(this.id,"nodes",this.ctx.animationManager,[e],c,(d,u)=>this.getDatumId(u),s),(s?.changed||!Bh(a.groupScale,o?.groupScale))&&(fn(this,"labels",this.ctx.animationManager,n),fn(this,"annotations",this.ctx.animationManager,...r))}getDatumId(i){return Mc(i.xValue,i.phantom)}isLabelEnabled(){return this.properties.label.enabled}computeFocusBounds({datumIndex:i}){let e=this.contextNodeData?.nodeData[i].clipBBox;return vL(this,e)}hasItemStylers(){return this.properties.itemStyler!=null||this.properties.label.itemStyler!=null}};return t.className="BarSeries",t.type="bar",t})(),p8={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"bar",moduleFactory:t=>new _L(t),stackable:!0,groupable:!0,defaultAxes:c$,themeTemplate:{series:{direction:"vertical",fill:{$palette:"fill"},stroke:{$palette:"stroke"},fillGradientDefaults:Gf,fillPatternDefaults:Rc,fillImageDefaults:Qh,fillOpacity:1,strokeWidth:{$isUserOption:["./stroke",2,0]},lineDash:[0],lineDashOffset:0,label:S(f({},Bo),{padding:{$isUserOption:["./spacing",0,8]},enabled:!1,fontWeight:{$ref:"fontWeight"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},color:{$if:[{$or:[{$eq:[{$path:"./placement"},"outside-start"]},{$eq:[{$path:"./placement"},"outside-end"]}]},{$ref:"textColor"},{$ref:"chartBackgroundColor"}]},placement:"inside-center"}),shadow:{enabled:!1,color:iu,xOffset:3,yOffset:3,blur:5},errorBar:{cap:{lengthRatio:.3}},highlight:nu()}}},f8={type:"series",name:"bar",chartType:"cartesian",options:vS,create:t=>new _L(t)},Dw=3,$ge=5;function S5(t,i,e,n,r,a,o,s,l,c,d){let u=0,h=1/0,m=(s+c)/2,p=(l+d)/2;for(let g of o){let y=t[g],v=i[g];if(y==null||v==null)continue;let x=Oc(y,e,r),w=Oc(v,n,a),D=(x-m)**2+(w-p)**2;D<h&&(h=D,u=g)}return u}function Yge(t,i,e,n,r,a,o,s,l,c,d){let u=0;for(let h of o){let m=t[h],p=i[h];if(m==null||p==null)continue;let g=Oc(m,e,r),y=Oc(p,n,a);g>=s&&g<=c&&y>=l&&y<=d&&(u+=1)}return u}function kR(t,i,e,n,r,a,o,s,l,c,d){if(o.length<$ge)return;if(s===c&&l===d){let v=S5(t,i,e,n,r,a,o,s,l,c,d);return{scale:0,x0:s,y0:l,x1:c,y1:d,indices:o,primaryDatumIndex:v,children:null}}let u=[{x0:1,y0:1,x1:0,y1:0,indices:[]},{x0:1,y0:1,x1:0,y1:0,indices:[]},{x0:1,y0:1,x1:0,y1:0,indices:[]},{x0:1,y0:1,x1:0,y1:0,indices:[]}],h=(s+c)/2,m=(l+d)/2;for(let v of o){let x=t[v],w=i[v];if(x==null||w==null)continue;let D=Oc(x,e,r),k=Oc(w,n,a),E=(D>h?1:0)+(k>m?2:0),A=u[E];A.indices.push(v),A.x0=Math.min(A.x0,D),A.y0=Math.min(A.y0,k),A.x1=Math.max(A.x1,D),A.y1=Math.max(A.y1,k)}let p=[];for(let v of u){let{indices:x,x0:w,x1:D,y0:k,y1:E}=v,A=kR(t,i,e,n,r,a,x,w,k,D,E);A!=null&&p.push(A)}if(p.length===1)return p[0];p.length===0&&(p=null);let g=Math.hypot(c-s,d-l),y=S5(t,i,e,n,r,a,o,s,l,c,d);return{scale:g,x0:s,y0:l,x1:c,y1:d,indices:o,primaryDatumIndex:y,children:p}}function Kge(t,i,e,n,r,a,o,s){let[l,c]=xv(t,a),[d,u]=xv(i,o),[h,m]=s,p=[];if(r!=null&&m>h){let g=Array.from({length:Dw},()=>[]);for(let y=0;y<r.length;y+=1){let w=(r[y]-h)/(m-h)*Dw|0;w>=0&&w<Dw&&g[w].push(y)}for(let y=0;y<g.length;y+=1){let v=g[y],x=kR(e,n,l,d,c,u,v,0,0,1,1);if(x!=null){let w=y/Dw;p.push({sizeRatio:w,node:x})}}}else{let g=e.map((v,x)=>x),y=kR(e,n,l,d,c,u,g,0,0,1,1);y!=null&&p.push({sizeRatio:0,node:y})}return p.length>0?{xValues:e,yValues:n,xd0:l,xd1:c,yd0:d,yd1:u,filters:p}:void 0}function g8(t,i,e,n,r,a){let{xRange:o,yRange:s,xVisibleRange:[l,c],yVisibleRange:[d,u],minSize:h,maxSize:m}=e,{xValues:p,yValues:g,xd0:y,xd1:v,yd0:x,yd1:w}=i,D=1/Math.min(o/(c-l),s/(u-d));for(let{sizeRatio:k,node:E}of i.filters){let A=.5*(h+k*(m-h)),N=A*D,F=t*N,P=l-A/o,U=c+A/o,H=d-A/s,q=u+A/s,he=[E];for(;he.length>0;){let ne=he.pop();if(!(ne.x1<P||ne.x0>U||ne.y1<H||ne.y0>q))if(ne.scale<=F)n!=null&&(n.count+=1),r?.push({datumIndex:ne.primaryDatumIndex,count:ne.indices.length,dilation:Ae(1,ne.scale/N,t)});else if(ne.children==null){let{indices:Oe}=ne;if(n!=null){let Ct=ne.x0>=l&&ne.x1<=c&&ne.y0>=d&&ne.y1<=u?Oe.length:Yge(p,g,y,x,v,w,Oe,l,d,c,u);n.count+=Ct}a?.push(...Oe)}else he.push(...ne.children)}}}function AR(t,i,e){let n={count:0};return g8(t,i,e,n,void 0,void 0),n.count}var qge=100,Zge=12;function Qge(t,i,e){let n=1,r=2;for(;AR(r,t,i)>e&&r<qge;)n*=2,r*=2;for(let a=0;a<Zge;a+=1){let o=(r+n)/2;AR(o,t,i)>e?n=o:r=o}return n}function Xge(t,i,e){let n=[],r=[];return g8(t,i,e,void 0,n,r),{groupedAggregation:n,singleDatumIndices:r}}var xL=class extends pr{constructor(){super(...arguments),this.maxSize=30}};b([C,te()],xL.prototype,"maxSize",2);b([C,jR()],xL.prototype,"domain",2);var b8=class extends sn{constructor(){super(...arguments),this.placement="top"}};b([C],b8.prototype,"placement",2);var mi=class extends du{constructor(){super(...arguments),this.label=new b8,this.tooltip=am(),this.maxRenderedItems=1/0,this.marker=new xL}};b([C],mi.prototype,"xKey",2);b([C],mi.prototype,"yKey",2);b([C],mi.prototype,"sizeKey",2);b([C],mi.prototype,"labelKey",2);b([C],mi.prototype,"xFilterKey",2);b([C],mi.prototype,"yFilterKey",2);b([C],mi.prototype,"sizeFilterKey",2);b([C],mi.prototype,"xName",2);b([C],mi.prototype,"yName",2);b([C],mi.prototype,"sizeName",2);b([C],mi.prototype,"labelName",2);b([C],mi.prototype,"title",2);b([tr("marker.shape")],mi.prototype,"shape",2);b([tr("marker.size")],mi.prototype,"size",2);b([tr("marker.maxSize")],mi.prototype,"maxSize",2);b([tr("marker.domain")],mi.prototype,"domain",2);b([tr("marker.fillGradientDefaults")],mi.prototype,"fillGradientDefaults",2);b([tr("marker.fillPatternDefaults")],mi.prototype,"fillPatternDefaults",2);b([tr("marker.fillImageDefaults")],mi.prototype,"fillImageDefaults",2);b([tr("marker.fill")],mi.prototype,"fill",2);b([tr("marker.fillOpacity")],mi.prototype,"fillOpacity",2);b([tr("marker.stroke")],mi.prototype,"stroke",2);b([tr("marker.strokeWidth")],mi.prototype,"strokeWidth",2);b([tr("marker.strokeOpacity")],mi.prototype,"strokeOpacity",2);b([tr("marker.lineDash")],mi.prototype,"lineDash",2);b([tr("marker.lineDashOffset")],mi.prototype,"lineDashOffset",2);b([tr("marker.itemStyler")],mi.prototype,"itemStyler",2);b([C],mi.prototype,"label",2);b([C],mi.prototype,"tooltip",2);b([C],mi.prototype,"maxRenderedItems",2);var Jge=class extends iL{constructor(t,i,e,n){super(t,i,e,n),this.sizeKey=n.properties.sizeKey}},CL=(()=>{let t=class extends om{constructor(i){super({moduleCtx:i,propertyKeys:S(f({},ng),{label:["labelKey"],size:["sizeKey"]}),propertyNames:S(f({},rg),{label:["labelName"],size:["sizeName"]}),categoryKey:void 0,pickModes:[2,1,0],pathsPerSeries:[],datumSelectionGarbageCollection:!1,animationResetFns:{label:rm,datum:wS},usesPlacedLabels:!0,clipFocusBox:!1}),this.NodeEvent=Jge,this.properties=new mi,this.dataAggregation=void 0,this.sizeScale=new Vh}get pickModeAxis(){return"main-category"}processData(i){return L(this,null,function*(){if(this.data==null||!this.visible)return;let e=this.axes.x?.scale,n=this.axes.y?.scale,{xScaleType:r,yScaleType:a}=this.getScaleInformation({xScale:e,yScale:n}),o=this.sizeScale.type,{xKey:s,yKey:l,sizeKey:c,xFilterKey:d,yFilterKey:u,sizeFilterKey:h,labelKey:m,marker:p}=this.properties,{dataModel:g,processedData:y}=yield this.requestDataModel(i,this.data,{props:[Fi(s,r,{id:"xValue"}),Fi(l,a,{id:"yValue"}),...d!=null?[Fi(d,r,{id:"xFilterValue"})]:[],...u!=null?[Fi(u,a,{id:"yFilterValue"})]:[],...h!=null?[Fi(h,o,{id:"sizeFilterValue"})]:[],...c?[Fi(c,o,{id:"sizeValue"})]:[],...m?[Fi(m,"category",{id:"labelValue"})]:[]]});this.dataAggregation=this.aggregateData(g,y);let v=c?g.resolveProcessedDataIndexById(this,"sizeValue"):void 0,x=p.domain?[p.domain[0],p.domain[1]]:void 0;this.sizeScale.domain=x??(v==null?void 0:y.domain.values[v])??[],this.animationState.transition("updateData")})}xCoordinateRange(i,e,n){let{properties:r,sizeScale:a}=this,{size:o,sizeKey:s}=r,l=this.axes.x.scale.convert(i),c=s!=null?this.dataModel.resolveColumnById(this,"sizeValue",this.processedData):void 0,u=.5*(c!=null?a.convert(c[n]):o)*e;return[l-u,l+u]}yCoordinateRange(i,e,n){let{properties:r,sizeScale:a}=this,{size:o,sizeKey:s}=r,l=this.axes.y.scale.convert(i[0]),c=s!=null?this.dataModel.resolveColumnById(this,"sizeValue",this.processedData):void 0,u=.5*(c!=null?a.convert(c[n]):o)*e;return[l-u,l+u]}getSeriesDomain(i){let{dataModel:e,processedData:n}=this;if(!n||!e)return[];let r={x:"xValue",y:"yValue"},a=r[i],o=e.resolveProcessedDataDefById(this,a),s=e.getDomain(this,a,"value",n);if(o?.def.type==="value"&&o?.def.valueType==="category")return s;let c=r[i==="x"?"y":"x"],d=this.domainForClippedRange(i,[a],c);return co(au(d))}getSeriesRange(i,e){return this.domainForVisibleRange("y",["yValue"],"xValue",e)}getVisibleItems(i,e,n){let{dataAggregation:r,axes:a}=this,o=a.x,s=a.y;if(r==null||o==null||s==null)return this.countVisibleItems("xValue",["yValue"],i,e,n);let l=this.aggregationOptions(o,s,i,e??[0,1]);return AR(0,r,l)}aggregateData(i,e){if(e.type==="grouped"||e.input.count<=this.properties.maxRenderedItems)return;let n=this.axes.x,r=this.axes.y;if(n==null||r==null)return;let a=n.scale,o=r.scale;if(!Di.is(a)||!Di.is(o))return;let{sizeScale:s,properties:l}=this,{sizeKey:c}=l,d=i.resolveColumnById(this,"xValue",e),u=i.resolveColumnById(this,"yValue",e),h=c?i.resolveColumnById(this,"sizeValue",e):void 0,m=i.getDomain(this,"xValue","value",e),p=i.getDomain(this,"yValue","value",e),g=c?s.domain:[0,0];return Kge(a.type,o.type,d,u,h,m,p,g)}aggregationOptions(i,e,n=i.visibleRange,r=e.visibleRange){let{sizeKey:a,marker:o}=this.properties,s=Math.abs(i.range[1]-i.range[0]),l=Math.abs(e.range[1]-e.range[0]),c=o.size,d=a?o.maxSize:c;return{xRange:s,yRange:l,minSize:c,maxSize:d,xVisibleRange:n,yVisibleRange:r}}createNodeData(){let{axes:i,dataModel:e,processedData:n,sizeScale:r,visible:a}=this,{xKey:o,yKey:s,sizeKey:l,xFilterKey:c,yFilterKey:d,sizeFilterKey:u,labelKey:h,xName:m,yName:p,sizeName:g,labelName:y,label:v,marker:x,maxRenderedItems:w}=this.properties,{enabled:D,placement:k}=v,E=On.anchor(x.shape),A=i.x,N=i.y;if(!(e&&n&&a&&A&&N))return;let F=e.resolveColumnById(this,"xValue",n),P=e.resolveColumnById(this,"yValue",n),U=l!=null?e.resolveColumnById(this,"sizeValue",n):void 0,H=h!=null?e.resolveColumnById(this,"labelValue",n):void 0,q=c!=null?e.resolveColumnById(this,"xFilterValue",n):void 0,he=d!=null?e.resolveColumnById(this,"yFilterValue",n):void 0,ne=u!=null?e.resolveColumnById(this,"sizeFilterValue",n):void 0,Oe;h?Oe=[]:l?Oe=e.getDomain(this,"sizeValue","value",n):Oe=[];let st=A.scale,Ct=N.scale,Zt=(st.bandwidth??0)/2,Xt=(Ct.bandwidth??0)/2,vt=[];r.range=[x.size,x.maxSize];let Ge=tu.getMeasurer({font:v}),We=n.dataSources.get(this.id);if(We==null)return;let Fe=Nf(v),jt=(dt,rt,Ze)=>{let je=We[dt],Pe=F[dt],ot=P[dt],lt=U?.[dt],Si=st.convert(Pe)+Zt,dn=Ct.convert(ot)+Xt,Qi;q!=null&&he!=null&&(Qi=q[dt]===Pe&&he[dt]===ot,ne!=null&&Qi&&(Qi=ne[dt]===lt));let bi;if(D){let Je,ht,Et;h&&H?(Je=H[dt],ht=h,Et="label"):l?(Je=lt,ht=l,Et="size"):(Je=ot,ht=s,Et="y");let wt=this.getLabelText(Je,je,ht,Et,Oe,v,{value:Je,datum:je,xKey:o,yKey:s,sizeKey:l,labelKey:h,xName:m,yName:p,sizeName:g,labelName:y}),Mi=Ge.measureText(String(wt));Mi.width+=Fe.left+Fe.right,Mi.height+=Fe.bottom+Fe.top,bi=f({text:wt},Mi)}else bi={text:"",width:0,height:0};let Fn=lt!=null?r.convert(lt):x.size;vt.push({series:this,itemId:s,yKey:s,xKey:o,datum:je,datumIndex:dt,xValue:Pe,yValue:ot,sizeValue:lt,capDefaults:{lengthRatioMultiplier:x.getDiameter(),lengthMax:1/0},point:{x:Si,y:dn,size:Math.sqrt(Ze)*Fn},midPoint:{x:Si,y:dn},label:bi,anchor:E,placement:k,count:rt,dilation:Ze,selected:Qi})},{dataAggregation:ft}=this;if(ft==null)for(let dt=0;dt<We.length;dt++)jt(dt,1,1);else{let dt=this.aggregationOptions(A,N),rt=Qge(ft,dt,w),{groupedAggregation:Ze,singleDatumIndices:je}=Xge(rt,ft,dt);for(let{datumIndex:Pe,count:ot,dilation:lt}of Ze)jt(Pe,ot,lt);for(let Pe of je)jt(Pe,1,1)}return{itemId:s,nodeData:vt,labelData:D?vt:[],scales:this.calculateScaling(),visible:this.visible}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}getLabelData(){return this.isLabelEnabled()?this.contextNodeData?.labelData??[]:[]}updateDatumSelection(i){let{nodeData:e,datumSelection:n}=i,{sizeKey:r}=this.properties;this.properties.marker.isDirty()&&(n.clear(),n.cleanup());let a=this.properties.marker.enabled?e:[],o;return r&&(o=s=>Mc([s.xValue,s.yValue,s.sizeValue,s.label.text])),n.update(a,void 0,o)}updateDatumNodes(i){let{datumSelection:e,isHighlight:n}=i,{xKey:r,yKey:a,sizeKey:o,labelKey:s,marker:l}=this.properties;this.sizeScale.range=[l.size,l.maxSize];let c=this.getShapeFillBBox(),d=this.dataAggregation!=null,u={xKey:r,yKey:a,sizeKey:o,labelKey:s};e.each((h,m,p)=>{let{count:g,dilation:y}=m,v=this.getMarkerStyle(l,m,u,n);v.fillOpacity=(1-(1-(v.fillOpacity??1))**g)/Math.sqrt(y),this.applyMarkerStyle(v,h,m.point,c,{selected:m.selected}),h.zIndex=d?[-g,p]:0}),n||this.properties.marker.markClean()}updatePlacedLabelData(i){this.labelSelection.update(i.map(e=>S(f({},e.datum),{point:{x:e.x,y:e.y,size:e.datum.point.size}})),e=>{e.pointerEvents=1}),this.updateLabelNodes({labelSelection:this.labelSelection})}updateLabelNodes(i){let{isHighlight:e=!1}=i,n=this.ctx.highlightManager?.getActiveHighlight();i.labelSelection.each((r,a)=>{let o=e||this.isSeriesHighlighted(n),s=this.getHighlightStateString(n,o,a.datumIndex),l=Al(this,a,this.properties,this.properties.label,o,s);r.text=a.label.text,r.fill=l.color,r.x=a.point?.x??0,r.y=a.point?.y??0,r.fontStyle=l.fontStyle,r.fontWeight=l.fontWeight,r.fontSize=l.fontSize,r.fontFamily=l.fontFamily,r.textAlign="left",r.textBaseline="top",r.fillOpacity=this.getHighlightStyle(e,a.datumIndex).opacity??1,r.setBoxing(l)})}getTooltipContent(i){let{id:e,dataModel:n,processedData:r,axes:a,properties:o,ctx:s}=this,{formatManager:l}=s,{xKey:c,xName:d,yKey:u,yName:h,sizeKey:m,sizeName:p,labelKey:g,labelName:y,title:v,tooltip:x,marker:w,legendItemName:D}=o,k=a.x,E=a.y;if(!n||!r||!k||!E)return;let A=r.dataSources.get(this.id)?.[i],N=n.resolveColumnById(this,"xValue",r)[i],F=n.resolveColumnById(this,"yValue",r)[i],P=this.contextNodeData?.nodeData[i];if(N==null||P==null)return;let U=[];if(this.isLabelEnabled()&&g!=null){let q=n.resolveColumnById(this,"labelValue",r)[i],he=l.format(this.callWithContext.bind(this),{type:"category",value:q,datum:A,seriesId:e,legendItemName:D,key:g,source:"tooltip",property:"label",domain:[],boundSeries:this.getFormatterContext("label")});U.push({label:y,fallbackLabel:g,value:he??Tf(q)})}if(U.push({label:d,fallbackLabel:c,value:this.getAxisValueText(k,"tooltip",N,A,c,D)},{label:h,fallbackLabel:u,value:this.getAxisValueText(E,"tooltip",F,A,u,D)}),m!=null){let q=n.resolveColumnById(this,"sizeValue",r)[i],he=n.getDomain(this,"sizeValue","value",r),ne=l.format(this.callWithContext.bind(this),{type:"number",value:q,datum:A,seriesId:e,legendItemName:D,key:m,source:"tooltip",property:"size",boundSeries:this.getFormatterContext("size"),domain:he,fractionDigits:void 0});U.push({label:p,fallbackLabel:m,value:ne??Tf(q)})}let H=this.getMarkerStyle(w,{datum:A,datumIndex:i},{xKey:c,yKey:u,sizeKey:m,labelKey:g,highlighted:!0},!1);return this.formatTooltipWithContext(x,{title:v,symbol:this.legendItemSymbol(),data:U},f(f({seriesId:e,datum:A,title:u,xKey:c,xName:d,yKey:u,yName:h,sizeKey:m,sizeName:p,labelKey:g,labelName:y},H),this.getModuleTooltipParams()))}legendItemSymbol(){return{marker:this.getMarkerStyle(this.properties.marker,{},void 0,!1,void 0,void 0,!1)}}getLegendData(){let{id:i,ctx:{legendManager:e},visible:n}=this,{yKey:r,yName:a,title:o}=this.properties;return[{legendType:"category",id:i,itemId:r,seriesId:i,enabled:n&&e.getItemEnabled({seriesId:i,itemId:r}),label:{text:o??a??r},symbol:this.legendItemSymbol()}]}animateEmptyUpdateReady({datumSelection:i,labelSelection:e}){l8(this,this.ctx.animationManager,i),fn(this,"labels",this.ctx.animationManager,e)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new On}getFormattedMarkerStyle(i){let{xKey:e,yKey:n,sizeKey:r,labelKey:a,marker:o}=this.properties;return this.getMarkerStyle(o,i,{xKey:e,yKey:n,sizeKey:r,labelKey:a},!1)}computeFocusBounds(i){return DS(this,i)}hasItemStylers(){let{itemStyler:i,marker:e,label:n}=this.properties;return!!(i??e.itemStyler??n.itemStyler)}};return t.className="BubbleSeries",t.type="bubble",t})(),ebe={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"bubble",moduleFactory:t=>new CL(t),defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{shape:"circle",size:7,maxSize:30,fill:{$palette:"fill"},stroke:{$palette:"stroke"},fillGradientDefaults:Jv,fillPatternDefaults:Rc,fillImageDefaults:Qh,fillOpacity:.8,maxRenderedItems:1e4,label:S(f({},Bo),{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}}),tooltip:{range:{$path:["/tooltip/range","nearest"]},position:{anchorTo:{$path:["/tooltip/position/anchorTo","node"]}}},highlight:nu()}}},y8={type:"series",name:"bubble",chartType:"cartesian",options:Vpe,create:t=>new CL(t)},cn=class extends du{constructor(){super(...arguments),this.fillGradientDefaults=new Go,this.fillPatternDefaults=new Wi,this.fillImageDefaults=new Ua,this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.areaPlot=!1,this.aggregation="sum",this.shadow=new Vl,this.label=new sn,this.tooltip=am()}getStyle(){let{fill:t,fillOpacity:i,stroke:e,strokeWidth:n,strokeOpacity:r,lineDash:a,lineDashOffset:o,cornerRadius:s}=this;return{fill:t,fillOpacity:i,stroke:e,strokeWidth:n,strokeOpacity:r,lineDash:a,lineDashOffset:o,cornerRadius:s,opacity:1}}};b([C],cn.prototype,"xKey",2);b([C],cn.prototype,"yKey",2);b([C],cn.prototype,"xName",2);b([C],cn.prototype,"yName",2);b([C],cn.prototype,"fill",2);b([C],cn.prototype,"fillGradientDefaults",2);b([C],cn.prototype,"fillPatternDefaults",2);b([C],cn.prototype,"fillImageDefaults",2);b([C],cn.prototype,"fillOpacity",2);b([C],cn.prototype,"stroke",2);b([C],cn.prototype,"strokeWidth",2);b([C],cn.prototype,"strokeOpacity",2);b([C],cn.prototype,"lineDash",2);b([C],cn.prototype,"lineDashOffset",2);b([C],cn.prototype,"cornerRadius",2);b([C],cn.prototype,"areaPlot",2);b([C],cn.prototype,"bins",2);b([C],cn.prototype,"aggregation",2);b([C],cn.prototype,"binCount",2);b([C],cn.prototype,"shadow",2);b([C],cn.prototype,"label",2);b([C],cn.prototype,"tooltip",2);var M5=10,v8=(()=>{let t=class extends om{constructor(i){super({moduleCtx:i,propertyKeys:ng,propertyNames:rg,categoryKey:void 0,pickModes:[1,0],datumSelectionGarbageCollection:!0,animationResetFns:{datum:Dv,label:rm}}),this.properties=new cn,this.calculatedBins=[]}deriveBins(i){let e=Vv(i[0],i[1],M5).ticks,n=hv(i[0],i[1],M5),[r]=e,a=o=>[o,o+n];return[[r-n,r],...e.map(a)]}calculateNiceBins(i,e){let n=Math.floor(i[0]),r=i[1],a=e||1,{start:o,binSize:s}=this.calculateNiceStart(n,r,a);return this.getBins(o,r,s,a)}getBins(i,e,n,r){let a=[],o=this.calculatePrecision(n);for(let s=0;s<r;s++){let l=Math.round((i+s*n)*o)/o,c=Math.round((i+(s+1)*n)*o)/o;s===r-1&&(c=Math.max(c,e)),a[s]=[l,c]}return a}calculatePrecision(i){let e=10;if(isFinite(i)&&i>0)for(;i<1;)e*=10,i*=10;return e}calculateNiceStart(i,e,n){let r=Math.abs(e-i)/n,a=Math.floor(Math.log10(r)),o=Math.pow(10,a);return{start:Math.floor(i/o)*o,binSize:r}}processData(i){return L(this,null,function*(){this.visible||(this.processedData=void 0,this.animationState.transition("updateData"));let{xKey:e,yKey:n,areaPlot:r,aggregation:a}=this.properties,o=this.axes.x?.scale,s=this.axes.y?.scale,{xScaleType:l,yScaleType:c}=this.getScaleInformation({yScale:s,xScale:o}),d=[Wd(e,l),L$];if(n){let h=bR("groupAgg");a==="count"||(a==="sum"?h=x$("groupAgg"):a==="mean"&&(h=C$("groupAgg"))),r&&(h=yR("groupAgg",h)),d.push(Fi(n,c,{invalidValue:void 0}),h)}else{d.push(k$("count"));let h=bR("groupAgg");r&&(h=yR("groupAgg",h)),d.push(h)}let u=h=>{let m=co(h.domain.keys[0]);if(m.length===0)return h.domain.groups=[],()=>[];let p=uh(this.properties.binCount)?this.calculateNiceBins(m,this.properties.binCount):this.properties.bins??this.deriveBins(m),g=p.length;return this.calculatedBins=[...p],y=>{let v=y[0];if(hc(v)&&(v=v.getTime()),!uh(v))return[];for(let x=0;x<g;x++){let w=p[x];if(v>=w[0]&&v<w[1]||x===g-1&&v<=w[1])return w}return[]}};!this.ctx.animationManager.isSkipped()&&this.processedData&&d.push(s_(this.id,this.processedData,!1)),yield this.requestDataModel(i,this.data,{props:d,groupByFn:u}),this.animationState.transition("updateData")})}xCoordinateRange(){return[NaN,NaN]}yCoordinateRange(){return[NaN,NaN]}getSeriesDomain(i){let{processedData:e,dataModel:n}=this;if(!e||!n||!this.calculatedBins.length)return[];let r=n.getDomain(this,"groupAgg","aggregate",e),a=this.calculatedBins?.[0][0],o=this.calculatedBins?.[(this.calculatedBins?.length??0)-1][1];return co(i==="x"?[a,o]:r)}getSeriesRange(i,[e,n]){let{dataModel:r,processedData:a}=this;if(!r||a?.type!=="grouped")return[NaN,NaN];let o=this.axes.x.scale,s=0,l=-1/0;return a.groups.forEach(({keys:c,aggregation:d})=>{let[[u,h]=[0,0]]=d,[m,p]=c,[g,y]=er([o.convert(m),o.convert(p)]);if(y>=e&&g<=n){let v=u+h;l=Math.max(l,v)}}),s>l?[NaN,NaN]:[s,l]}frequency(i){return i.datumIndices.reduce((e,n)=>e+n.length,0)}createNodeData(){let{axes:i,processedData:e,dataModel:n}=this,r=i.x,a=i.y;if(!r||!a||!n)return;let{scale:o}=r,{scale:s}=a,{xKey:l,yKey:c,xName:d,yName:u,label:h}=this.properties,m=[],p={itemId:this.properties.yKey??this.id,nodeData:m,labelData:m,scales:this.calculateScaling(),animationValid:!0,visible:this.visible};return!this.visible||e==null||e.type!=="grouped"||(e.groups.forEach((g,y)=>{let{keys:v,aggregation:x}=g,[[w,D]=[0,0]]=x,k=this.frequency(g),E=v,[A,N]=E,F=[...n.forEachDatum(this,e,g)],P=o.convert(A),U=o.convert(N),H=w+D,q=s.convert(0),he=s.convert(H),ne=Math.abs(U-P),Oe=Math.abs(he-q),st=Math.min(P,U),Ct=Math.min(q,he),Zt;h.enabled&&H!==0&&(Zt={x:st+ne/2,y:Ct+Oe/2,text:this.getLabelText(H,F,c,"y",[],h,{value:H,datum:F,xKey:l,yKey:c,xName:d,yName:u})});let Xt={x:st+ne/2,y:Ct+Oe/2},vt=a.isReversed();m.push({series:this,datumIndex:y,datum:F,aggregatedValue:H,frequency:k,domain:E,yKey:c,xKey:l,x:st,y:Ct,xValue:P,yValue:he,width:ne,height:Oe,midPoint:Xt,topLeftCornerRadius:!vt,topRightCornerRadius:!vt,bottomRightCornerRadius:vt,bottomLeftCornerRadius:vt,label:Zt,crisp:!0})}),m.sort((g,y)=>g.x-y.x)),p}nodeFactory(){return new ir}updateDatumSelection(i){let{nodeData:e,datumSelection:n}=i;return n.update(e,void 0,r=>r.domain.join("_"))}getItemStyle(i,e){let{properties:n}=this,r=this.getHighlightStyle(i,e?.datumIndex);return Ol(Jt(r,n.getStyle()),n.fillGradientDefaults,n.fillPatternDefaults,n.fillImageDefaults)}updateDatumNodes(i){let{isHighlight:e}=i,{shadow:n}=this.properties,r=this.getShapeFillBBox();i.datumSelection.each((a,o)=>{let s=this.getItemStyle(e,o),{cornerRadius:l=0}=s,{topLeftCornerRadius:c,topRightCornerRadius:d,bottomRightCornerRadius:u,bottomLeftCornerRadius:h}=o;Sc(a,s,r),a.topLeftCornerRadius=c?l:0,a.topRightCornerRadius=d?l:0,a.bottomRightCornerRadius=u?l:0,a.bottomLeftCornerRadius=h?l:0,a.crisp=o.crisp,a.fillShadow=n,a.visible=o.height>0})}updateLabelSelection(i){let{labelData:e,labelSelection:n}=i;return n.update(e,r=>{r.pointerEvents=1,r.textAlign="center",r.textBaseline="middle"})}updateLabelNodes(i){let e=this.isLabelEnabled();i.labelSelection.each((n,r)=>{let a=Al(this,r,this.properties,this.properties.label),{enabled:o,fontStyle:s,fontWeight:l,fontSize:c,fontFamily:d,color:u}=a;o&&e&&r?.label?(n.text=r.label.text,n.x=r.label.x,n.y=r.label.y,n.fontStyle=s,n.fontWeight=l,n.fontFamily=d,n.fontSize=c,n.fill=u,n.visible=!0,n.fillOpacity=this.getHighlightStyle(!1,r.datumIndex).opacity??1,n.setBoxing(a)):n.visible=!1})}initQuadTree(i){let{value:e}=this.contentGroup.children().next();e instanceof mt&&gL(i,e.children())}pickNodeClosestDatum(i){return bD(this,i)}getTooltipContent(i){let{id:e,dataModel:n,processedData:r,axes:a,properties:o,ctx:{localeManager:s}}=this,{xKey:l,xName:c,yKey:d,yName:u,tooltip:h,legendItemName:m}=o,p=a.x,g=a.y;if(!n||r?.type!=="grouped"||!p||!g)return;let y=r.groups[i],{aggregation:v,keys:x}=y,[[w,D]=[0,0]]=v,k=this.frequency(y),E=x,[A,N]=E,F=w+D,P={data:[...n.forEachDatum(this,r,y)],aggregatedValue:F,frequency:k,domain:E},U=[{label:c,fallbackLabel:l,value:`${this.getAxisValueText(p,"tooltip",A,P,l,m)} - ${this.getAxisValueText(p,"tooltip",N,P,l,m)}`},{label:s.t("seriesHistogramTooltipFrequency"),value:this.getAxisValueText(g,"tooltip",k,P,d,m)}];if(d!=null){let H;switch(o.aggregation){case"sum":H=s.t("seriesHistogramTooltipSum",{yName:u??d});break;case"mean":H=s.t("seriesHistogramTooltipMean",{yName:u??d});break;case"count":H=s.t("seriesHistogramTooltipCount",{yName:u??d});break}U.push({label:H,value:this.getAxisValueText(g,"tooltip",F,P,d,m)})}return this.formatTooltipWithContext(h,{symbol:this.legendItemSymbol(),data:U},f({seriesId:e,datum:P,title:u,xKey:l,xName:c,yKey:d,yName:u,xRange:[A,N],frequency:k},this.getItemStyle(!1)))}legendItemSymbol(){let{fill:i,fillOpacity:e,stroke:n,strokeWidth:r,strokeOpacity:a,lineDash:o,lineDashOffset:s,fillGradientDefaults:l,fillPatternDefaults:c,fillImageDefaults:d}=this.properties;return{marker:Ol({fill:i??"rgba(0, 0, 0, 0)",stroke:n??"rgba(0, 0, 0, 0)",fillOpacity:e,strokeOpacity:a,strokeWidth:r,lineDash:o,lineDashOffset:s},l,c,d)}}getLegendData(i){if(i!=="category")return[];let{id:e,ctx:{legendManager:n},visible:r}=this,{xKey:a,yName:o,showInLegend:s}=this.properties;return[{legendType:"category",id:e,itemId:a,seriesId:e,enabled:r&&n.getItemEnabled({seriesId:e,itemId:a}),label:{text:o??a??"Frequency"},symbol:this.legendItemSymbol(),hideInLegend:!s}]}animateEmptyUpdateReady({datumSelection:i,labelSelection:e}){let n=vD(yD(!0,this.axes,"normal"));Tn(this.id,"datums",this.ctx.animationManager,[i],n),fn(this,"labels",this.ctx.animationManager,e)}animateWaitingUpdateReady(i){this.ctx.animationManager.skipCurrentBatch(),this.resetDatumAnimation(i)}isLabelEnabled(){return this.properties.label.enabled}computeFocusBounds({datumIndex:i}){return vL(this,this.contextNodeData?.nodeData[i])}hasItemStylers(){return this.properties.label.itemStyler!=null}};return t.className="HistogramSeries",t.type="histogram",t})(),tbe={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"histogram",moduleFactory:t=>new v8(t),defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{fill:{$palette:"fill"},stroke:{$palette:"stroke"},fillGradientDefaults:Gf,fillPatternDefaults:Rc,fillImageDefaults:Qh,strokeWidth:1,fillOpacity:1,strokeOpacity:1,lineDash:[0],lineDashOffset:0,label:S(f({},Bo),{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"chartBackgroundColor"}}),shadow:{enabled:!1,color:iu,xOffset:3,yOffset:3,blur:5},highlight:nu()}}},_8={type:"series",name:"histogram",chartType:"cartesian",enterprise:!0,options:Bpe,create:t=>new v8(t)},Pn=class extends du{constructor(){super(...arguments),this.stroke="#874349",this.strokeWidth=2,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.interpolation=new ag,this.marker=new pr,this.label=new sn,this.tooltip=am(),this.connectMissingData=!1,this.sparklineMode=!1}};b([C],Pn.prototype,"xKey",2);b([C],Pn.prototype,"yKey",2);b([C],Pn.prototype,"xName",2);b([C],Pn.prototype,"yName",2);b([C],Pn.prototype,"yFilterKey",2);b([C],Pn.prototype,"stackGroup",2);b([C],Pn.prototype,"normalizedTo",2);b([C],Pn.prototype,"title",2);b([C],Pn.prototype,"stroke",2);b([C],Pn.prototype,"strokeWidth",2);b([C],Pn.prototype,"strokeOpacity",2);b([C],Pn.prototype,"lineDash",2);b([C],Pn.prototype,"lineDashOffset",2);b([C],Pn.prototype,"interpolation",2);b([C],Pn.prototype,"marker",2);b([C],Pn.prototype,"label",2);b([C],Pn.prototype,"tooltip",2);b([C],Pn.prototype,"connectMissingData",2);b([C],Pn.prototype,"sparklineMode",2);var ibe=.25,nbe=Ev(s8),wL=(()=>{let t=class extends om{constructor(i){super({moduleCtx:i,propertyKeys:ng,propertyNames:rg,categoryKey:"xValue",pickModes:[2,1,0],datumSelectionGarbageCollection:!1,animationResetFns:{path:pL({getVisible:()=>this.visible,getOpacity:()=>this.getOpacity()}),label:rm,datum:(e,n)=>f(f({},wS(e)),wv(e,n))},clipFocusBox:!1}),this.properties=new Pn,this.dataAggregationFilters=void 0}get pickModeAxis(){return this.properties.sparklineMode?"main":"main-category"}processData(i){return L(this,null,function*(){if(this.data==null)return;let{data:e,visible:n,seriesGrouping:{groupIndex:r=this.id,stackCount:a=0}={}}=this,{xKey:o,yKey:s,yFilterKey:l,connectMissingData:c,normalizedTo:d}=this.properties,u=!this.ctx.animationManager.isSkipped(),h=this.axes.x?.scale,m=this.axes.y?.scale,{isContinuousX:p,xScaleType:g,yScaleType:y}=this.getScaleInformation({xScale:h,yScale:m}),v=a>1||d!=null,x={invalidValue:null};c&&v&&(x.invalidValue=0),v&&!n&&(x.forceValue=0);let w=[];if((!p||v)&&w.push(Wd(o,g,{id:"xKey"})),w.push(Fi(o,g,{id:"xValue"}),Fi(s,y,S(f({id:"yValueRaw"},x),{invalidValue:void 0}))),l!=null&&w.push(Fi(l,y,{id:"yFilterRaw"})),v){let E=[`line-stack-${r}-yValues`,`line-stack-${r}-yValues-trailing`,`line-stack-${r}-yValues-marker`];w.push(...$d(s,"window","current",S(f({id:"yValueEnd"},x),{groupId:E[0]}),y),...$d(s,"window-trailing","current",S(f({id:"yValueStart"},x),{groupId:E[1]}),y),...$d(s,"normal","current",S(f({id:"yValueCumulative"},x),{groupId:E[2]}),y)),ch(d)&&w.push(gS([E[0],E[1],E[2]],d))}u&&(w.push(o_(p?["xValue"]:void 0)),this.processedData&&w.push(s_(this.id,this.processedData)));let{dataModel:D,processedData:k}=yield this.requestDataModel(i,e,{props:w,groupByKeys:v,groupByData:!v});this.dataAggregationFilters=this.aggregateData(D,k),this.animationState.transition("updateData")})}xCoordinateRange(i,e){let{marker:n}=this.properties,r=this.axes.x.scale.convert(i),a=n.enabled?.5*n.size*e:0;return[r-a,r+a]}yCoordinateRange(i,e){let{marker:n}=this.properties,r=this.axes.y.scale.convert(i[0]),a=n.enabled?.5*n.size*e:0;return[r-a,r+a]}getSeriesDomain(i){let{dataModel:e,processedData:n}=this;if(!e||!n)return[];if(i==="x"){let o=e.resolveProcessedDataDefById(this,"xValue"),s=e.getDomain(this,"xValue","value",n);return o?.def.type==="value"&&o.def.valueType==="category"?s:co(au(s))}let r=this.dataModel?.hasColumnById(this,"yValueEnd")?"yValueEnd":"yValueRaw",a=this.domainForClippedRange("y",[r],"xValue");return co(a)}getSeriesRange(i,e){let n=this.dataModel?.hasColumnById(this,"yValueEnd")?"yValueEnd":"yValueRaw";return this.domainForVisibleRange("y",[n],"xValue",e)}getVisibleItems(i,e,n){let r=this.dataModel?.hasColumnById(this,"yValueEnd")?"yValueEnd":"yValueRaw";return this.countVisibleItems("xValue",[r],i,e,n)}aggregateData(i,e){if(e.type!=="ungrouped"||Kf(e))return;let n=this.axes.x;if(n==null)return;let{scale:r}=n,a=i.resolveColumnById(this,"xValue",e),o=i.resolveColumnById(this,"yValueRaw",e),s=i.getDomain(this,"xValue","value",e);return nbe(r.type,a,o,s)}createNodeData(){let{dataModel:i,processedData:e,axes:n,dataAggregationFilters:r}=this,a=n.x,o=n.y;if(!i||!e||!a||!o)return;let{xKey:s,yKey:l,yFilterKey:c,xName:d,yName:u,marker:h,label:m,connectMissingData:p,interpolation:g,legendItemName:y}=this.properties,v=this.dataModel?.hasColumnById(this,"yValueEnd"),x=a.scale,w=o.scale,D=(x.bandwidth??0)/2,k=(w.bandwidth??0)/2,E=h.enabled?h.size:0,A=e.dataSources.get(this.id)??[],N=i.resolveColumnById(this,"xValue",e),F=i.resolveColumnById(this,"yValueRaw",e),P=v?i.resolveColumnById(this,"yValueEnd",e):void 0,U=v?i.resolveColumnById(this,"yValueCumulative",e):F,H=c!=null?i.resolveColumnById(this,"yFilterRaw",e):void 0,q=this.getSeriesDomain("y"),he={lengthRatioMultiplier:this.properties.marker.getDiameter(),lengthMax:1/0},ne=[],Oe=[],st=rt=>{let Ze=A[rt],je=N[rt],Pe=F[rt],ot=P?.[rt],lt=H?.[rt],Si=x.convert(je)+D,dn=w.convert(U[rt])+k;if(!Number.isFinite(Si))return;if(Pe!=null){let bi=m.enabled?this.getLabelText(Pe,Ze,l,"y",q,m,{value:Pe,datum:Ze,xKey:s,yKey:l,xName:d,yName:u,legendItemName:y}):void 0;ne.push({series:this,datum:Ze,datumIndex:rt,yKey:l,xKey:s,point:{x:Si,y:dn,size:E},midPoint:{x:Si,y:dn},cumulativeValue:ot,yValue:Pe,xValue:je,capDefaults:he,labelText:bi,selected:lt})}let Qi=Oe[Oe.length-1];if(Pe!=null){let bi={point:{x:Si,y:dn},xDatum:je,yDatum:Pe};Array.isArray(Qi)?Qi.push(bi):Qi!=null?(Qi.skip+=1,Oe.push([bi])):Oe.push([bi])}else p||(Array.isArray(Qi)||Qi==null?Oe.push({skip:0}):Qi.skip+=1)},[Ct,Zt]=x.range,Xt=Math.abs(Zt-Ct),Ge=r?.find(rt=>rt.maxRange>Xt)?.indices,[We,Fe]=this.visibleRangeIndices("xValue",a.range,Ge);We=Math.max(We-1,0),Fe=Math.min(Fe+1,Ge?.length??N.length),e.input.count<1e3&&(We=0,Fe=e.input.count);for(let rt=We;rt<Fe;rt+=1)st(Ge?.[rt]??rt);let jt=Oe.flatMap(rt=>Array.isArray(rt)?pD(rt,g):[]),ft={itemId:l,spans:jt},dt=H?.some((rt,Ze)=>rt===F[Ze])??!1;return{itemId:l,nodeData:ne,labelData:ne,strokeData:ft,scales:this.calculateScaling(),visible:this.visible,crossFiltering:dt}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}updatePathNodes(i){let{paths:[e],visible:n,animationEnabled:r}=i,a=this.contextNodeData?.crossFiltering===!0,{strokeWidth:o,stroke:s,strokeOpacity:l,lineDash:c,lineDashOffset:d,opacity:u}=Jt(this.getHighlightStyle(),this.properties);e.setProperties({fill:void 0,lineJoin:"round",pointerEvents:1,opacity:u,stroke:s,strokeWidth:o,strokeOpacity:l*(a?ibe:1),lineDash:c,lineDashOffset:d}),r||(e.visible=n),gD(this,e)}updateDatumSelection(i){let{nodeData:e}=i,{datumSelection:n}=i;return e=this.properties.marker.enabled||this.contextNodeData?.crossFiltering===!0?e:[],this.properties.marker.isDirty()&&(n.clear(),n.cleanup()),n.update(e,void 0,a=>Mc(a.xValue))}updateDatumNodes(i){let{datumSelection:e,isHighlight:n}=i,{xKey:r,yKey:a,marker:o,stroke:s,strokeWidth:l,strokeOpacity:c}=this.properties,d=this.getSeriesDomain("x"),u=this.getSeriesDomain("y"),h=this.ctx.animationManager.isSkipped(),m=this.getShapeFillBBox();e.each((p,g)=>{let{xValue:y,yValue:v}=g,x=Gd(y,v,r,a,d,u),w=this.getMarkerStyle(o,g,x,n,void 0,{stroke:s,strokeWidth:l,strokeOpacity:c});this.applyMarkerStyle(w,p,g.point,m,{applyTranslation:h,selected:g.selected})}),n||o.markClean()}updateLabelSelection(i){return i.labelSelection.update(this.isLabelEnabled()?i.labelData:[])}updateLabelNodes(i){let{isHighlight:e=!1}=i,n=this.ctx.highlightManager?.getActiveHighlight();i.labelSelection.each((r,a)=>{let o=e||this.isSeriesHighlighted(n),s=this.getHighlightStateString(n,o,a.datumIndex),l=Al(this,a,this.properties,this.properties.label,o,s),{enabled:c,fontStyle:d,fontWeight:u,fontSize:h,fontFamily:m,color:p}=l;c&&a?.labelText?(r.fontStyle=d,r.fontWeight=u,r.fontSize=h,r.fontFamily=m,r.textAlign="center",r.textBaseline="bottom",r.text=a.labelText,r.x=a.point.x,r.y=a.point.y-10,r.fill=p,r.visible=!0,r.fillOpacity=this.getHighlightStyle(e,a.datumIndex).opacity??1,r.setBoxing(l)):r.visible=!1})}getTooltipContent(i){let{id:e,dataModel:n,processedData:r,axes:a,properties:o}=this,{xKey:s,xName:l,yKey:c,yName:d,tooltip:u,legendItemName:h}=o,m=a.x,p=a.y;if(!n||!r||!m||!p)return;let g=r.dataSources.get(this.id)?.[i],y=n.resolveColumnById(this,"xValue",r)[i],v=n.resolveColumnById(this,"yValueRaw",r)[i];if(y==null)return;let x=this.getSeriesDomain("x"),w=this.getSeriesDomain("y"),D=Gd(y,v,s,c,x,w),k=this.getMarkerStyle(this.properties.marker,{datumIndex:i,datum:g},D,!1);return this.formatTooltipWithContext(u,{heading:this.getAxisValueText(m,"tooltip",y,g,s,h),symbol:this.legendItemSymbol(),data:[{label:d,fallbackLabel:c,value:this.getAxisValueText(p,"tooltip",v,g,c,h)}]},f(f({seriesId:e,datum:g,title:d,xKey:s,xName:l,yKey:c,yName:d},k),this.getModuleTooltipParams()))}legendItemSymbol(){let i="rgba(0, 0, 0, 0)",{stroke:e,strokeOpacity:n,strokeWidth:r,lineDash:a,marker:o}=this.properties,s=this.getMarkerStyle(o,{},void 0,!1,{size:o.size,fill:o.fill??i,stroke:o.stroke??e??i},void 0,!1);return{marker:S(f({},s),{enabled:o.enabled}),line:{stroke:e??i,strokeOpacity:n,strokeWidth:r,lineDash:a}}}getLegendData(i){if(i!=="category")return[];let{id:e,ctx:{legendManager:n},visible:r}=this,{yKey:a,yName:o,title:s,legendItemName:l,showInLegend:c}=this.properties;return[{legendType:"category",id:e,itemId:a,legendItemName:l,seriesId:e,enabled:r&&n.getItemEnabled({seriesId:e,itemId:a}),label:{text:l??s??o??a},symbol:this.legendItemSymbol(),hideInLegend:!c}]}updatePaths(i){this.updateLinePaths(i.paths,i.contextData)}updateLinePaths(i,e){let n=e.strokeData.spans,[r]=i;r.path.clear(),rL(r,n),r.markDirty("LineSeries")}animateEmptyUpdateReady(i){let{datumSelection:e,labelSelection:n,annotationSelections:r,contextData:a,paths:o}=i,{animationManager:s}=this.ctx;this.updateLinePaths(o,a),mL(this,s,...o),Er([e],wv),hL(this,s,e),fn(this,"labels",s,n),fn(this,"annotations",s,...r)}animateReadyResize(i){let{contextData:e,paths:n}=i;this.updateLinePaths(n,e),super.animateReadyResize(i)}animateWaitingUpdateReady(i){let{animationManager:e}=this.ctx,{datumSelection:n,labelSelection:r,annotationSelections:a,contextData:o,paths:s,previousContextData:l}=i,[c]=s;if(o.visible===!1&&l?.visible===!1)return;this.resetDatumAnimation(i),this.resetLabelAnimation(i);let d=()=>{this.resetPathAnimation(i),this.updateLinePaths(s,o)},u=()=>{e.skipCurrentBatch(),d()};if(o==null||l==null){d(),Cv(this,e,"added",n),fD(this,"path_properties",e,"add",c),fn(this,"labels",e,r),fn(this,"annotations",e,...a);return}if(o.crossFiltering!==l.crossFiltering){u();return}let h=n8(o,l,this.processedData?.reduced?.diff?.[this.id]);if(h===void 0){u();return}else if(h.status==="no-op")return;Tn(this.id,"path_properties",e,[c],h.stroke.pathProperties),h.status==="added"?this.updateLinePaths(s,o):h.status==="removed"?this.updateLinePaths(s,l):hD(this.id,"path_update",e,[c],h.stroke.path),h.hasMotion&&(Cv(this,e,void 0,n),fn(this,"labels",e,r),fn(this,"annotations",e,...a))}isLabelEnabled(){return this.properties.label.enabled}getBandScalePadding(){return{inner:1,outer:.1}}nodeFactory(){return new On}getFormattedMarkerStyle(i){let{xKey:e,yKey:n}=this.properties,{xValue:r,yValue:a}=i,o=this.getSeriesDomain("x"),s=this.getSeriesDomain("y");return this.getMarkerStyle(this.properties.marker,i,Gd(r,a,e,n,o,s),!0)}computeFocusBounds(i){return DS(this,i)}hasItemStylers(){return this.properties.marker.itemStyler!=null||this.properties.label.itemStyler!=null}};return t.className="LineSeries",t.type="line",t})(),x8={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"line",moduleFactory:t=>new wL(t),stackable:!0,defaultAxes:[{type:"number",position:"left"},{type:"category",position:"bottom"}],themeTemplate:{series:{stroke:aS,strokeWidth:2,strokeOpacity:1,lineDash:[0],lineDashOffset:0,interpolation:{type:"linear"},marker:{shape:"circle",size:7,strokeWidth:{$isUserOption:["./stroke",1,0]},fill:{$palette:"fill"},stroke:{$palette:"stroke"},fillGradientDefaults:Jv,fillPatternDefaults:Rc,fillImageDefaults:Qh},label:S(f({},Bo),{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}}),errorBar:{cap:{lengthRatio:1}},tooltip:{range:{$path:["/tooltip/range","nearest"]},position:{anchorTo:{$path:["/tooltip/position/anchorTo","node"]}}},highlight:nu()}}},C8={type:"series",name:"line",chartType:"cartesian",options:_S,create:t=>new wL(t)},w8=(()=>{let t=class extends CL{};return t.className="ScatterSeries",t.type="scatter",t})(),rbe={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"scatter",moduleFactory:t=>new w8(t),defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{shape:"circle",size:7,fill:{$palette:"fill"},stroke:{$palette:"stroke"},fillGradientDefaults:Jv,fillPatternDefaults:Rc,fillImageDefaults:Qh,fillOpacity:.8,maxRenderedItems:1e4,label:S(f({},Bo),{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}}),errorBar:{cap:{lengthRatio:1}},tooltip:{range:{$path:["/tooltip/range","nearest"]},position:{anchorTo:{$path:["/tooltip/position/anchorTo","node"]}}},highlight:nu()}}},D8={type:"series",name:"scatter",chartType:"cartesian",options:zpe,create:t=>new w8(t)},S8=class ER{constructor(i,e,n,r){this.startAngle=i,this.endAngle=e,this.innerRadius=n,this.outerRadius=r}clone(){let{startAngle:i,endAngle:e,innerRadius:n,outerRadius:r}=this;return new ER(i,e,n,r)}equals(i){return this.startAngle===i.startAngle&&this.endAngle===i.endAngle&&this.innerRadius===i.innerRadius&&this.outerRadius===i.outerRadius}[xD](i,e){return new ER(this.startAngle*(1-e)+i.startAngle*e,this.endAngle*(1-e)+i.endAngle*e,this.innerRadius*(1-e)+i.innerRadius*e,this.outerRadius*(1-e)+i.outerRadius*e)}};function M8({startAngle:t,endAngle:i,innerRadius:e,outerRadius:n}){let r=1/0,a=1/0,o=-1/0,s=-1/0,l=(c,d)=>{r=Math.min(c,r),a=Math.min(d,a),o=Math.max(c,o),s=Math.max(d,s)};return l(e*Math.cos(t),e*Math.sin(t)),l(e*Math.cos(i),e*Math.sin(i)),l(n*Math.cos(t),n*Math.sin(t)),l(n*Math.cos(i),n*Math.sin(i)),Rh(0,t,i)&&l(n,0),Rh(Math.PI*.5,t,i)&&l(0,n),Rh(Math.PI,t,i)&&l(-n,0),Rh(Math.PI*1.5,t,i)&&l(0,-n),new we(r,a,o-r,s-a)}function TR(t,i,e){let n=Math.sqrt(Math.pow(t,2)+Math.pow(i,2)),{innerRadius:r,outerRadius:a}=e;if(e.startAngle===e.endAngle||n<Math.min(r,a)||n>Math.max(r,a))return!1;let o=Yw(e.startAngle),s=Yw(e.endAngle),l=Math.atan2(i,t);return o<s?l<=s&&l>=o:l<=s&&l>=-Math.PI||l>=o&&l<=Math.PI}function abe(t,i,e,n,r,a,o,s,l,c){if(isNaN(t)||isNaN(i))return 0;a&&([r,n]=[n,r]);let d=(c-s)/(l-o),u=s-d*o,h=Math.pow(d,2)+1,m=2*(d*(u-i)-t),p=Math.pow(t,2)+Math.pow(u-i,2)-Math.pow(e,2),g=Math.pow(m,2)-4*h*p;if(g<0)return 0;let y=(-m+Math.sqrt(g))/2/h,v=(-m-Math.sqrt(g))/2/h,x=0;return[y,v].forEach(w=>{if(!(w>=Math.min(o,l)&&w<=Math.max(o,l)))return;let k=d*w+u,E=w-t,A=k-i,N=Math.atan2(A,E);Rh(N,n,r)&&x++}),x}function I5(t,i){let{startAngle:e,endAngle:n,innerRadius:r,outerRadius:a}=i,o={x:a*Math.cos(e),y:a*Math.sin(e)},s={x:a*Math.cos(n),y:a*Math.sin(n)},l=r===0?{x:0,y:0}:{x:r*Math.cos(e),y:r*Math.sin(e)},c=r===0?{x:0,y:0}:{x:r*Math.cos(n),y:r*Math.sin(n)};return Ky(t.start.x,t.start.y,t.end.x,t.end.y,o.x,o.y,l.x,l.y)||Ky(t.start.x,t.start.y,t.end.x,t.end.y,s.x,s.y,c.x,c.y)||abe(0,0,a,e,n,!0,t.start.x,t.start.y,t.end.x,t.end.y)}function obe(t,i){let e={x:t.x,y:t.y},n={x:t.x+t.width,y:t.y},r={x:t.x,y:t.y+t.height},a={x:t.x+t.width,y:t.y+t.height};return I5({start:e,end:n},i)||I5({start:r,end:a},i)}function k5(t,i,e,n){if(e===0&&n===0)return 0;if(Math.asin(Math.abs(1*e)/(t+1*e))+Math.asin(Math.abs(1*n)/(t+1*n))-i<0)return 1;let a=0,o=1;for(let s=0;s<8;s+=1){let l=(a+o)/2;Math.asin(Math.abs(l*e)/(t+l*e))+Math.asin(Math.abs(l*n)/(t+l*n))-i<0?a=l:o=l}return a}var sbe=1e-6;function Kd(t,i){return DD(t,i)<sbe?i:Dn(t-i)+i}function Sw(t,i,e=0){let r=Math.abs(i-t)>=2*Math.PI?2*Math.PI:Dn(i-t);return t=Kd(t,e),i=t+r,{startAngle:t,endAngle:i}}function Mw(t,i,e,n,r,a){let o=Math.sin(a),s=Math.cos(a),l=t**2+i**2-e**2,c,d,u,h;if(s>.5){let w=o/s,D=1+w**2,k=-2*(t+i*w),E=k**2-4*D*l;if(E<0)return;let A=(-k+Math.sqrt(E))/(2*D),N=(-k-Math.sqrt(E))/(2*D);c=A,d=A*w,u=N,h=N*w}else{let w=s/o,D=1+w**2,k=-2*(i+t*w),E=k**2-4*D*l;if(E<0)return;let A=(-k+Math.sqrt(E))/(2*D),N=(-k-Math.sqrt(E))/(2*D);c=A*w,d=A,u=N*w,h=N}let m=s,p=o,g=c*m+d*p,y=u*m+h*p,v=g>0?Kd(Math.atan2(d-i,c-t),n):NaN,x=y>0?Kd(Math.atan2(h-i,u-t),n):NaN;if(v>=n&&v<=r)return v;if(x>=n&&x<=r)return x}function Iw(t,i,e,n,r,a){let o=Math.hypot(t,i),s=(o**2-e**2+a**2)/(2*o),l=o-s,c=Math.atan2(i,t),d=Math.acos(-l/e),u=Kd(c+d,n),h=Kd(c-d,n);if(u>=n&&u<=r)return u;if(h>=n&&h<=r)return h}var O1=class{constructor(t,i,e,n,r){this.cx=t,this.cy=i,this.r=e,this.a0=n,this.a1=r,this.a0>=this.a1&&(this.a0=NaN,this.a1=NaN)}isValid(){return Number.isFinite(this.a0)&&Number.isFinite(this.a1)}pointAt(t){return{x:this.cx+this.r*Math.cos(t),y:this.cy+this.r*Math.sin(t)}}clipStart(t){t==null||!this.isValid()||t<this.a0||(this.a0=t,(Number.isNaN(t)||this.a0>=this.a1)&&(this.a0=NaN,this.a1=NaN))}clipEnd(t){t==null||!this.isValid()||t>this.a1||(this.a1=t,(Number.isNaN(t)||this.a0>=this.a1)&&(this.a0=NaN,this.a1=NaN))}},Xr=(()=>{let t=class extends va{constructor(){super(...arguments),this.centerX=0,this.centerY=0,this.innerRadius=10,this.outerRadius=20,this.startAngle=0,this.endAngle=Math.PI*2,this.clipSector=void 0,this.concentricEdgeInset=0,this.radialEdgeInset=0,this.startOuterCornerRadius=0,this.endOuterCornerRadius=0,this.startInnerCornerRadius=0,this.endInnerCornerRadius=0}set inset(i){this.concentricEdgeInset=i,this.radialEdgeInset=i}set cornerRadius(i){this.startOuterCornerRadius=i,this.endOuterCornerRadius=i,this.startInnerCornerRadius=i,this.endInnerCornerRadius=i}computeBBox(){return M8(this).translate(this.centerX,this.centerY)}normalizedRadii(){let{concentricEdgeInset:i}=this,{innerRadius:e,outerRadius:n}=this;return e=e>0?e+i:0,n=Math.max(n-i,0),{innerRadius:e,outerRadius:n}}normalizedClipSector(){let{clipSector:i}=this;if(i==null)return;let{startAngle:e,endAngle:n}=Sw(this.startAngle,this.endAngle),{innerRadius:r,outerRadius:a}=this.normalizedRadii(),o=Sw(i.startAngle,i.endAngle,e);return new S8(Math.max(e,o.startAngle),Math.min(n,o.endAngle),Math.max(r,i.innerRadius),Math.min(a,i.outerRadius))}getAngleOffset(i){return i>0?this.radialEdgeInset/i:0}arc(i,e,n,r,a,o,s,l){if(i<=0)return;let{startAngle:c,endAngle:d}=Sw(this.startAngle,this.endAngle),{innerRadius:u,outerRadius:h}=this.normalizedRadii(),m=this.normalizedClipSector();if(l&&u<=0)return;let p=l?this.getAngleOffset(u+i):this.getAngleOffset(h-i),g=s?c+p+e:d-p-e,y=l?u+i:h-i,v=y*Math.cos(g),x=y*Math.sin(g);if(m!=null&&(!s&&!(g>=c-1e-6&&g<=m.endAngle-1e-6)||s&&!(g>=m.startAngle+1e-6&&g<=d-1e-6)||l&&y<m.innerRadius-1e-6||!l&&y>m.outerRadius+1e-6))return;let w=new O1(v,x,i,n,r);if(m!=null){l?(w.clipStart(Mw(v,x,i,n,r,m.endAngle)),w.clipEnd(Mw(v,x,i,n,r,m.startAngle))):(w.clipStart(Mw(v,x,i,n,r,m.startAngle)),w.clipEnd(Mw(v,x,i,n,r,m.endAngle)));let N,F;if(s?(N=Iw(v,x,i,n,r,m.innerRadius),F=Iw(v,x,i,n,r,m.outerRadius)):(N=Iw(v,x,i,n,r,m.outerRadius),F=Iw(v,x,i,n,r,m.innerRadius)),w.clipStart(N),w.clipEnd(F),N!=null){let{x:P,y:U}=w.pointAt(N),H=Kd(Math.atan2(U,P),c);s?o?.clipStart(H):a.clipEnd(H)}if(F!=null){let{x:P,y:U}=w.pointAt(F),H=Kd(Math.atan2(U,P),c);s?a.clipStart(H):o?.clipEnd(H)}}if(m!=null){let{x:N,y:F}=w.pointAt((w.a0+w.a1)/2);if(!TR(N,F,m))return}let{x:D,y:k}=w.pointAt(s===l?w.a0:w.a1),E=Kd(Math.atan2(k,D),c),A=l?o:a;return s?A?.clipStart(E):A?.clipEnd(E),w}updatePath(){let{path:e,centerX:n,centerY:r,concentricEdgeInset:a,radialEdgeInset:o}=this,{startOuterCornerRadius:s,endOuterCornerRadius:l,startInnerCornerRadius:c,endInnerCornerRadius:d}=this,{startAngle:u,endAngle:h}=Sw(this.startAngle,this.endAngle),{innerRadius:m,outerRadius:p}=this.normalizedRadii(),g=this.normalizedClipSector(),y=h-u,v=y>=2*Math.PI-1e-6;if(e.clear(),m===0&&p===0||m>p)return;if((g?.startAngle??u)===(g?.endAngle??h))return;if(v&&this.clipSector==null&&s===0&&l===0&&c===0&&d===0){e.moveTo(n+p*Math.cos(u),r+p*Math.sin(u)),e.arc(n,r,p,u,h),m>a&&(e.moveTo(n+m*Math.cos(h),r+m*Math.sin(h)),e.arc(n,r,m,h,u,!0)),e.closePath();return}else if(this.clipSector==null&&Math.abs(m-p)<1e-6){e.arc(n,r,p,u,h,!1),e.arc(n,r,p,h,u,!0),e.closePath();return}let x=this.getAngleOffset(m),w=this.getAngleOffset(p);if(y<2*w)return;let k=(g?.innerRadius??m)>a,E=m<a||y<2*x,A=p-m,N=Math.max(s,c,l,d),F=N>0?Math.min(A/N,1):1;s*=F,l*=F,c*=F,d*=F;let P=k5(p,y-2*w,-s,-l);if(s*=P,l*=P,!E&&k){let Ze=k5(m,y-2*x,c,d);c*=Ze,d*=Ze}else c=0,d=0;let U=Math.max(s+c,l+d),H=U>0?Math.min(A/U,1):1;s*=H,l*=H,c*=H,d*=H;let q=0,he=0,ne=s/(p-s),Oe=l/(p-l);if(ne>=0&&ne<.999999)q=Math.asin(ne);else{q=y/2;let Ze=p/(1/Math.sin(q)+1);s=Math.min(Ze,s)}if(Oe>=0&&Oe<.999999)he=Math.asin(Oe);else{he=y/2;let Ze=p/(1/Math.sin(he)+1);l=Math.min(Ze,l)}let st=Math.asin(c/(m+c)),Ct=Math.asin(d/(m+d)),Zt=g?.outerRadius??p,Xt=this.getAngleOffset(Zt),vt=new O1(0,0,Zt,u+Xt,h-Xt),Ge=g?.innerRadius??m,We=this.getAngleOffset(Ge),Fe=k?new O1(0,0,Ge,u+We,h-We):void 0;g!=null&&(vt.clipStart(g.startAngle),vt.clipEnd(g.endAngle),Fe?.clipStart(g.startAngle),Fe?.clipEnd(g.endAngle));let jt=this.arc(s,q,u-Math.PI*.5,u+q,vt,Fe,!0,!1),ft=this.arc(l,he,h-he,h+Math.PI*.5,vt,Fe,!1,!1),dt=this.arc(d,Ct,h+Math.PI*.5,h+Math.PI-Ct,vt,Fe,!1,!0),rt=this.arc(c,st,u+Math.PI+st,u+Math.PI*1.5,vt,Fe,!0,!0);if(E){let Ze=y<Math.PI*.5?o*(1+Math.cos(y))/Math.sin(y):NaN,je;Ze>0&&Ze<p?je=Math.max(Math.hypot(o,Ze),m):je=o,je=Math.max(je,m);let Pe=u+y*.5;e.moveTo(n+je*Math.cos(Pe),r+je*Math.sin(Pe))}else if(!(rt?.isValid()===!0||Fe?.isValid()===!0)){let Ze=u+y/2,je=m*Math.cos(Ze),Pe=m*Math.sin(Ze);e.moveTo(n+je,r+Pe)}if(jt?.isValid()===!0){let{cx:Ze,cy:je,r:Pe,a0:ot,a1:lt}=jt;e.arc(n+Ze,r+je,Pe,ot,lt)}if(vt.isValid()){let{r:Ze,a0:je,a1:Pe}=vt;e.arc(n,r,Ze,je,Pe)}if(ft?.isValid()===!0){let{cx:Ze,cy:je,r:Pe,a0:ot,a1:lt}=ft;e.arc(n+Ze,r+je,Pe,ot,lt)}if(!E){if(dt?.isValid()===!0){let{cx:Ze,cy:je,r:Pe,a0:ot,a1:lt}=dt;e.arc(n+Ze,r+je,Pe,ot,lt)}if(Fe?.isValid()===!0){let{r:Ze,a0:je,a1:Pe}=Fe;e.arc(n,r,Ze,Pe,je,!0)}if(rt?.isValid()===!0){let{cx:Ze,cy:je,r:Pe,a0:ot,a1:lt}=rt;e.arc(n+Ze,r+je,Pe,ot,lt)}}e.closePath()}isPointInPath(i,e){let{startAngle:n,endAngle:r,innerRadius:a,outerRadius:o}=this.clipSector??this;return TR(i-this.centerX,e-this.centerY,{startAngle:n,endAngle:r,innerRadius:Math.min(a,o),outerRadius:Math.max(a,o)})}};return t.className="Sector",t})();b([te()],Xr.prototype,"centerX",2);b([te()],Xr.prototype,"centerY",2);b([te()],Xr.prototype,"innerRadius",2);b([te()],Xr.prototype,"outerRadius",2);b([te()],Xr.prototype,"startAngle",2);b([te()],Xr.prototype,"endAngle",2);b([uo({equals:(t,i)=>t.equals(i)})],Xr.prototype,"clipSector",2);b([te()],Xr.prototype,"concentricEdgeInset",2);b([te()],Xr.prototype,"radialEdgeInset",2);b([te()],Xr.prototype,"startOuterCornerRadius",2);b([te()],Xr.prototype,"endOuterCornerRadius",2);b([te()],Xr.prototype,"startInnerCornerRadius",2);b([te()],Xr.prototype,"endInnerCornerRadius",2);var I8=class extends on{constructor(){super(...arguments),this.showInLegend=!1}};b([C],I8.prototype,"showInLegend",2);var DL=class extends sn{constructor(){super(...arguments),this.spacing=2}set(t,i){return super.set(t)}};b([C],DL.prototype,"text",2);b([C],DL.prototype,"spacing",2);var SL=class extends nt{constructor(){super(...arguments),this.fill="transparent",this.fillOpacity=1}};b([C],SL.prototype,"fill",2);b([C],SL.prototype,"fillOpacity",2);var og=class extends sn{constructor(){super(...arguments),this.offset=3,this.minAngle=0,this.minSpacing=4,this.maxCollisionOffset=50,this.avoidCollisions=!0}};b([C],og.prototype,"offset",2);b([C],og.prototype,"minAngle",2);b([C],og.prototype,"minSpacing",2);b([C],og.prototype,"maxCollisionOffset",2);b([C],og.prototype,"avoidCollisions",2);var ML=class extends sn{constructor(){super(...arguments),this.positionOffset=0,this.positionRatio=.5}};b([C],ML.prototype,"positionOffset",2);b([C],ML.prototype,"positionRatio",2);var SS=class extends nt{constructor(){super(...arguments),this.length=10,this.strokeWidth=1}};b([C],SS.prototype,"colors",2);b([C],SS.prototype,"length",2);b([C],SS.prototype,"strokeWidth",2);var Pt=class extends Wo{constructor(){super(...arguments),this.defaultColorRange=[],this.defaultPatternFills=[],this.fills=Object.values(wn),this.strokes=Object.values(vc),this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.rotation=0,this.outerRadiusOffset=0,this.outerRadiusRatio=1,this.strokeWidth=1,this.sectorSpacing=0,this.hideZeroValueSectorsInLegend=!1,this.innerLabels=new Mv(DL),this.title=new I8,this.innerCircle=new SL,this.shadow=new Vl,this.calloutLabel=new og,this.sectorLabel=new ML,this.calloutLine=new SS,this.tooltip=am()}};b([C],Pt.prototype,"angleKey",2);b([C],Pt.prototype,"angleName",2);b([C],Pt.prototype,"angleFilterKey",2);b([C],Pt.prototype,"radiusKey",2);b([C],Pt.prototype,"radiusName",2);b([C],Pt.prototype,"radiusMin",2);b([C],Pt.prototype,"radiusMax",2);b([C],Pt.prototype,"calloutLabelKey",2);b([C],Pt.prototype,"calloutLabelName",2);b([C],Pt.prototype,"sectorLabelKey",2);b([C],Pt.prototype,"sectorLabelName",2);b([C],Pt.prototype,"legendItemKey",2);b([C],Pt.prototype,"defaultColorRange",2);b([C],Pt.prototype,"defaultPatternFills",2);b([C],Pt.prototype,"fills",2);b([C],Pt.prototype,"strokes",2);b([C],Pt.prototype,"fillOpacity",2);b([C],Pt.prototype,"strokeOpacity",2);b([C],Pt.prototype,"lineDash",2);b([C],Pt.prototype,"lineDashOffset",2);b([C],Pt.prototype,"cornerRadius",2);b([C],Pt.prototype,"itemStyler",2);b([C],Pt.prototype,"rotation",2);b([C],Pt.prototype,"outerRadiusOffset",2);b([C],Pt.prototype,"outerRadiusRatio",2);b([C],Pt.prototype,"innerRadiusOffset",2);b([C],Pt.prototype,"innerRadiusRatio",2);b([C],Pt.prototype,"strokeWidth",2);b([C],Pt.prototype,"sectorSpacing",2);b([C],Pt.prototype,"hideZeroValueSectorsInLegend",2);b([C],Pt.prototype,"innerLabels",2);b([C],Pt.prototype,"title",2);b([C],Pt.prototype,"innerCircle",2);b([C],Pt.prototype,"shadow",2);b([C],Pt.prototype,"calloutLabel",2);b([C],Pt.prototype,"sectorLabel",2);b([C],Pt.prototype,"calloutLine",2);b([C],Pt.prototype,"tooltip",2);function Hw(t,i,e,n){let r=[e.convert(0),e.convert(1)],a=[n.convert(0),n.convert(1)],o=Math.PI/-2+Tr(i),s=t?"initial":"update",l=({radius:p})=>({innerRadius:r[0],outerRadius:r[0]+(r[1]-r[0])*p}),c=({radius:p})=>({innerRadius:a[0],outerRadius:a[0]+(a[1]-a[0])*p});return{nodes:{toFn:(p,g,y,{prevLive:v})=>{let{startAngle:x,endAngle:w,innerRadius:D,outerRadius:k}=g,{stroke:E,fill:A}=g.sectorFormat;if(y==="removed"&&v?(x=v.datum?.endAngle,w=v.datum?.endAngle):y==="removed"&&!v&&(x=o,w=o),y==="removed"){let N=l(g);D=N.innerRadius,k=N.outerRadius}return{startAngle:x,endAngle:w,outerRadius:k,innerRadius:D,stroke:E,fill:A}},fromFn:(p,g,y,{prevFromProps:v})=>{let{startAngle:x,endAngle:w,innerRadius:D,outerRadius:k}=p,{fill:E,stroke:A}=g.sectorFormat;if(y==="updated"&&p.previousDatum==null&&(y="added"),y==="unknown"||y==="added"&&!v?(x=o,w=o,D=g.innerRadius,k=g.outerRadius):y==="added"&&v&&(x=v.endAngle??o,w=v.endAngle??o,D=v.innerRadius??g.innerRadius,k=v.outerRadius??g.outerRadius),y==="added"&&!t){let N=c(g);D=N.innerRadius,k=N.outerRadius}return y==="updated"&&(E=p.fill??E,A=(typeof p.stroke=="string"?p.stroke:void 0)??A),{startAngle:x,endAngle:w,innerRadius:D,outerRadius:k,fill:E,stroke:A,phase:s}}},innerCircle:{fromFn:(p,g)=>({size:p.previousDatum?.radius??p.size??0,phase:s}),toFn:(p,g)=>({size:g.radius??0})}}}function k8(t,i){return{startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius,stroke:i.sectorFormat.stroke}}function A8(t,i){let e=i.y-t.centerY,n=i.x-t.centerX,r=Math.atan2(e,n),a=t.getItemNodes();for(let o of a)if(o.datum.missing!==!0&&Rh(r,o.startAngle,o.endAngle)){let s=Math.sqrt(n*n+e*e),l=0;return s<o.innerRadius?l=o.innerRadius-s:s>o.outerRadius&&(l=s-o.outerRadius),{datum:o.datum,distance:l}}}var E8=(t=>(t[t.BACKGROUND=0]="BACKGROUND",t[t.FOREGROUND=1]="FOREGROUND",t[t.HIGHLIGHT=2]="HIGHLIGHT",t[t.LABEL=3]="LABEL",t))(E8||{}),T8={angle:["angleKey"],radius:["radiusKey"]},R8={angle:["angleName"],radius:["radiusName"]},IL=class extends tL{constructor(a){var o=a,{categoryKey:t,pickModes:i=[1,0],canHaveAxes:e=!1,animationResetFns:n}=o,r=ci(o,["categoryKey","pickModes","canHaveAxes","animationResetFns"]);super(S(f({},r),{categoryKey:t,pickModes:i,canHaveAxes:e})),this.directions=["angle","radius"],this.itemGroup=this.contentGroup.appendChild(new mt),this.nodeData=[],this.itemSelection=qr.select(this.itemGroup,()=>this.nodeFactory(),!1),this.labelSelection=qr.select(this.labelGroup,()=>this.labelFactory(),!1),this.highlightSelection=qr.select(this.highlightGroup,()=>this.nodeFactory()),this.centerX=0,this.centerY=0,this.radius=0,this.animationResetFns=n,this.animationState=new Rv("empty",{empty:{update:{target:"ready",action:s=>this.animateEmptyUpdateReady(s)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:s=>this.animateReadyHighlight(s),highlightMarkers:s=>this.animateReadyHighlightMarkers(s),resize:s=>this.animateReadyResize(s),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:s=>this.animateWaitingUpdateReady(s)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:s=>this.animateClearingUpdateEmpty(s)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}getItemNodes(){return[...this.itemGroup.children()]}getNodeData(){return this.nodeData}setZIndex(t){super.setZIndex(t),this.contentGroup.zIndex=[t,1],this.highlightGroup.zIndex=[t,2],this.labelGroup.zIndex=[t,3]}resetAnimation(t){t==="initial"?this.animationState.transition("reset"):t==="ready"&&this.animationState.transition("skip")}labelFactory(){let t=new oo;return t.pointerEvents=1,t}addChartEventListeners(){this.cleanup.register(this.ctx.eventsHub.on("legend:item-click",t=>this.onLegendItemClick(t)),this.ctx.eventsHub.on("legend:item-double-click",t=>this.onLegendItemDoubleClick(t)))}getInnerRadius(){return 0}computeLabelsBBox(t,i){return null}getShapeFillBBox(){let t=this.radius;return{series:new we(-t,-t,t*2,t*2),axis:new we(-t,-t,t*2,t*2)}}resetAllAnimation(){let{item:t,label:i}=this.animationResetFns??{};this.ctx.animationManager.stopByAnimationGroupId(this.id),t&&Er([this.itemSelection,this.highlightSelection],t),i&&Er([this.labelSelection],i),this.itemSelection.cleanup(),this.labelSelection.cleanup(),this.highlightSelection.cleanup()}animateEmptyUpdateReady(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animateWaitingUpdateReady(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animateReadyHighlight(t){let{item:i}=this.animationResetFns??{};i&&Er([this.highlightSelection],i)}animateReadyHighlightMarkers(t){}animateReadyResize(t){this.resetAllAnimation()}animateClearingUpdateEmpty(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}computeFocusBounds(t){let i=this.getNodeData()?.[t.datumIndex];if(i!==void 0)return this.itemSelection.select(e=>e instanceof va&&e.datum===i)[0]}getSeriesRange(t,i){return[NaN,NaN]}isSeriesHighlighted(t,i){let{series:e,legendItemName:n,itemId:r}=t??{},a=i?.[r];return e===this||a!=null&&a===n}},lbe=class extends KD{constructor(t,i,e,n){super(t,i,e,n),this.angleKey=n.properties.angleKey,this.radiusKey=n.properties.radiusKey,this.calloutLabelKey=n.properties.calloutLabelKey,this.sectorLabelKey=n.properties.sectorLabelKey}},kL=(()=>{let t=class extends IL{constructor(i){super({moduleCtx:i,categoryKey:void 0,propertyKeys:S(f({},T8),{sectorLabel:["sectorLabelKey"],calloutLabel:["calloutLabelKey"]}),propertyNames:S(f({},R8),{sectorLabel:["sectorLabelName"],calloutLabel:["calloutLabelName"]}),pickModes:[1,0],animationResetFns:{item:k8,label:rm}}),this.properties=new Pt,this.phantomNodeData=void 0,this.backgroundGroup=new Kr({name:`${this.id}-background`,zIndex:0}),this.noVisibleData=!1,this.previousRadiusScale=new Vh,this.radiusScale=new Vh,this.phantomGroup=this.backgroundGroup.appendChild(new mt({name:"phantom"})),this.phantomSelection=qr.select(this.phantomGroup,()=>this.nodeFactory(),!1),this.calloutLabelGroup=this.contentGroup.appendChild(new mt({name:"pieCalloutLabels"})),this.calloutLabelSelection=new qr(this.calloutLabelGroup,mt),this.zerosumRingsGroup=this.backgroundGroup.appendChild(new mt({name:`${this.id}-zerosumRings`})),this.zerosumOuterRing=this.zerosumRingsGroup.appendChild(new On({shape:"circle"})),this.zerosumInnerRing=this.zerosumRingsGroup.appendChild(new On({shape:"circle"})),this.innerLabelsGroup=this.contentGroup.appendChild(new mt({name:"innerLabels"})),this.innerCircleGroup=this.backgroundGroup.appendChild(new mt({name:`${this.id}-innerCircle`})),this.innerLabelsSelection=qr.select(this.innerLabelsGroup,oo),this.innerCircleSelection=qr.select(this.innerCircleGroup,()=>new On({shape:"circle"})),this.surroundingRadius=void 0,this.NodeEvent=lbe,this.angleScale=new Vh,this.angleScale.domain=[0,1],this.angleScale.range=[-Math.PI,Math.PI].map(e=>e+Math.PI/2),this.phantomGroup.opacity=.2,this.innerLabelsGroup.pointerEvents=1}get calloutNodeData(){return this.phantomNodeData??this.nodeData}attachSeries(i,e,n){super.attachSeries(i,e,n),i?.appendChild(this.backgroundGroup)}detachSeries(i,e,n){super.detachSeries(i,e,n),i?.removeChild(this.backgroundGroup)}setZIndex(i){super.setZIndex(i),this.backgroundGroup.zIndex=[0,i]}nodeFactory(){let i=new Xr;return i.miterLimit=1e9,i}getSeriesDomain(i){return i==="angle"?this.angleScale.domain:this.radiusScale.domain}processData(i){return L(this,null,function*(){if(this.data==null)return;let{visible:e,id:n,ctx:{legendManager:r}}=this,{angleKey:a,angleFilterKey:o,radiusKey:s,calloutLabelKey:l,sectorLabelKey:c,legendItemKey:d}=this.properties,u=()=>(v,x)=>e&&r.getItemEnabled({seriesId:n,itemId:x})?v:0,h=!this.ctx.animationManager.isSkipped(),m=[],p=[];d?m.push(Wd(d,"category",{id:"legendItemKey"})):l?m.push(Wd(l,"category",{id:"calloutLabelKey"})):c&&m.push(Wd(c,"category",{id:"sectorLabelKey"}));let g=this.radiusScale.type,y=this.angleScale.type;s&&p.push(E$(s,{id:"radiusValue",min:this.properties.radiusMin??0,max:this.properties.radiusMax,missingValue:this.properties.radiusMax??1,processor:u}),Fi(s,g,{id:"radiusRaw",processor:u}),Pw("radiusValue",[0,1],1,this.properties.radiusMin??0,this.properties.radiusMax)),l&&p.push(Fi(l,"category",{id:"calloutLabelValue"})),c&&p.push(Fi(c,"category",{id:"sectorLabelValue"})),d&&p.push(Fi(d,"category",{id:"legendItemValue"})),o&&p.push(vR(o,y,{id:"angleFilterValue",onlyPositive:!0,invalidValue:0,processor:u}),Fi(o,y,{id:"angleFilterRaw"}),Pw("angleFilterValue",[0,1],0,0)),h&&this.processedData?.reduced?.animationValidation?.uniqueKeys&&m.length>0&&p.push(s_(this.id,this.processedData)),p.push(o_()),yield this.requestDataModel(i,this.data,{props:[...m,vR(a,y,{id:"angleValue",onlyPositive:!0,invalidValue:0,processor:u}),Fi(a,y,{id:"angleRaw"}),Pw("angleValue",[0,1],0,0),...p]});for(let v of this.processedData?.defs?.values??[]){let{id:x,missing:w,property:D}=v,k=lW(this,w);x!=="angleRaw"&&k>0&&z.warnOnce(`no value was found for the key '${String(D)}' on ${k} data element${k>1?"s":""}`)}this.animationState.transition("updateData")})}maybeRefreshNodeData(){if(!this.nodeDataRefresh)return;let{nodeData:i=[],phantomNodeData:e}=this.createNodeData()??{};this.nodeData=i,this.phantomNodeData=e,this.nodeDataRefresh=!1}getProcessedDataValues(i,e){let n=i.resolveColumnById(this,"angleValue",e),r=i.resolveColumnById(this,"angleRaw",e),a=this.properties.angleFilterKey!=null?i.resolveColumnById(this,"angleFilterValue",e):void 0,o=this.properties.angleFilterKey!=null?i.resolveColumnById(this,"angleFilterRaw",e):void 0,s=this.properties.radiusKey?i.resolveColumnById(this,"radiusValue",e):void 0,l=this.properties.radiusKey?i.resolveColumnById(this,"radiusRaw",e):void 0,c=this.properties.calloutLabelKey?i.resolveColumnById(this,"calloutLabelValue",e):void 0,d=this.properties.sectorLabelKey?i.resolveColumnById(this,"sectorLabelValue",e):void 0,u=this.properties.legendItemKey?i.resolveColumnById(this,"legendItemValue",e):void 0;return{angleValues:n,angleRawValues:r,angleFilterValues:a,angleFilterRawValues:o,radiusValues:s,radiusRawValues:l,calloutLabelValues:c,sectorLabelValues:d,legendItemValues:u}}createNodeData(){let{id:i,processedData:e,dataModel:n,angleScale:r,ctx:{legendManager:a},visible:o}=this,{rotation:s,innerRadiusRatio:l}=this.properties;if(!n||e?.type!=="ungrouped")return;let c=this.getProcessedDataValues(n,e),{angleValues:d,angleRawValues:u,angleFilterValues:h,angleFilterRawValues:m,radiusValues:p,radiusRawValues:g,legendItemValues:y}=c,v=m?.some((N,F)=>N>u[F])??!1,x=0,w=0,D=[],k=m!=null?[]:void 0,E=e.dataSources.get(this.id)??[],A=e.invalidData?.get(this.id);return E.forEach((N,F)=>{if(A?.[F]===!0)return;let P=v?h[F]:d[F],U=m!=null&&!v?Math.sqrt(m[F]/u[F]):1,H=r.convert(x)+Tr(s);x=P,w+=P;let q=r.convert(x)+Tr(s),he=Math.abs(q-H),ne=H+he/2,Oe=u[F],Ct=(p?.[F]??1)*U,Zt=g?.[F],Xt=y?.[F],vt=this.getLabels(F,N,ne,he,c),Ge=this.getSectorFormat(N,F,!1),We=f({itemId:F,series:this,datum:N,datumIndex:F,angleValue:Oe,midAngle:ne,midCos:Math.cos(ne),midSin:Math.sin(ne),startAngle:H,endAngle:q,radius:Ct,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(Ct),0),sectorFormat:Ge,radiusValue:Zt,legendItemValue:Xt,enabled:o&&a.getItemEnabled({seriesId:i,itemId:F}),focusable:!0},vt);D.push(We),k?.push(S(f({},We),{radius:1,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(1),0),focusable:!1}))}),this.zerosumOuterRing.visible=w===0,this.zerosumInnerRing.visible=w===0&&l!=null&&l!==1&&l>0,{itemId:i,nodeData:D,labelData:D,phantomNodeData:k}}getLabelContent(i,e,n){let{id:r,ctx:a,properties:o}=this,{formatManager:s}=a,{calloutLabel:l,sectorLabel:c,calloutLabelKey:d,sectorLabelKey:u,legendItemKey:h}=o,m=n.calloutLabelValues?.[i],p=n.sectorLabelValues?.[i],g=n.legendItemValues?.[i],y={datum:e,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey},v={callout:void 0,sector:void 0,legendItem:void 0};return d&&(v.callout=this.getLabelText(m,e,d,"calloutLabel",[],l,S(f({},y),{value:m}))),u&&(v.sector=this.getLabelText(p,e,u,"sectorLabel",[],c,S(f({},y),{value:p}))),h!=null&&g!=null&&(v.legendItem=s.format(this.callWithContext.bind(this),{type:"category",value:g,datum:e,seriesId:r,legendItemName:void 0,key:h,source:"legend-label",property:"legendItem",domain:[],boundSeries:this.getFormatterContext("legendItem")})??g),v}getLabels(i,e,n,r,a){let{properties:o}=this,{calloutLabel:s,sectorLabel:l,legendItemKey:c}=o,d=this.getLabelContent(i,e,a),u={};return s.enabled&&d.callout&&r>=Tr(s.minAngle)&&(u.calloutLabel=S(f({},this.getTextAlignment(n)),{text:d.callout,hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0,box:void 0})),l.enabled&&d.sector&&(u.sectorLabel={text:d.sector}),c&&d.legendItem&&(u.legendItem={key:c,text:d.legendItem}),u}getTextAlignment(i){let e=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"top"},{textAlign:"right",textBaseline:"middle"}],n=Yw(i),r=-.75*Math.PI,a=n-r,o=Math.floor(a/(Math.PI/2)),s=RU(o,e.length);return e[s]}getNodeFill(i,e,n){return Cf(i,{type:"gradient",bounds:"series",colorStops:e.map(r=>({color:r})),gradient:"radial",rotation:0,reverse:!0},{type:"pattern",pattern:"forward-slanted-lines",fill:n,fillOpacity:1,backgroundFill:"none",backgroundFillOpacity:1,stroke:n,strokeOpacity:1,strokeWidth:4,rotation:0},{type:"image",backgroundFill:n,backgroundFillOpacity:1,fit:"contain",repeat:"no-repeat",rotation:0})}getFillParams(i,e,n){if(!(!Os(i)||i.bounds==="item"))return{centerX:0,centerY:0,innerRadius:e,outerRadius:n}}getSectorFormat(i,e,n,r,a,o){let{angleKey:s,radiusKey:l,calloutLabelKey:c,sectorLabelKey:d,legendItemKey:u,fills:h,strokes:m,defaultColorRange:p,defaultPatternFills:g,itemStyler:y}=this.properties,v=m[e%m.length],x=h[e%h.length],{fill:w,fillOpacity:D,stroke:k,strokeWidth:E,strokeOpacity:A,lineDash:N,lineDashOffset:F,cornerRadius:P,opacity:U}=Jt(this.getHighlightStyle(n,r?.datumIndex,a),{fill:x,stroke:v},this.properties),H=p[e%p.length],q=g[e%g.length],he=w??"black",ne;return y&&(ne=this.cachedDatumCallback(this.getDatumId(e)+(n?"-highlight":"-hide"),()=>this.callWithContext(y,{datum:i,angleKey:s,radiusKey:l,calloutLabelKey:c,sectorLabelKey:d,legendItemKey:u,fill:this.getNodeFill(he,H,q),fillOpacity:D,stroke:k,strokeWidth:E,strokeOpacity:A,lineDash:N,lineDashOffset:F,cornerRadius:P,highlighted:n,highlightState:this.getHighlightStateString(o??this.ctx.highlightManager?.getActiveHighlight(),n,e),seriesId:this.id}))),{fill:this.getNodeFill(ne?.fill??he,H,q),fillOpacity:ne?.fillOpacity??D,stroke:ne?.stroke??k,strokeWidth:ne?.strokeWidth??E,strokeOpacity:ne?.strokeOpacity??A,lineDash:ne?.lineDash??N,lineDashOffset:ne?.lineDashOffset??F,cornerRadius:ne?.cornerRadius??P,opacity:U}}getInnerRadius(){let{radius:i}=this,{innerRadiusRatio:e=1,innerRadiusOffset:n=0}=this.properties,r=i*e+n;return r===i||r<0?0:r}getOuterRadius(){let{outerRadiusRatio:i,outerRadiusOffset:e}=this.properties;return Math.max(this.radius*i+e,0)}updateRadiusScale(i){let e=[this.getInnerRadius(),this.getOuterRadius()];this.radiusScale.range=e,i&&(this.previousRadiusScale.range=e);let n=r=>S(f({},r),{innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(r.radius),0)});this.nodeData=this.nodeData.map(n),this.phantomNodeData=this.phantomNodeData?.map(n)}getTitleTranslationY(){let i=Math.max(0,this.radiusScale.range[1]);if(i===0)return NaN;let n=2+(this.properties.title?.spacing??0),r=Math.max(0,-i);return-i-n-r}update({seriesRect:i}){let{title:e}=this.properties,n={seriesRectWidth:i?.width,seriesRectHeight:i?.height},r=Tc(this.nodeDataDependencies,n)!=null;if(r&&(this._nodeDataDependencies=n),this.maybeRefreshNodeData(),this.updateTitleNodes(),this.updateRadiusScale(r),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.backgroundGroup.translationX=this.centerX,this.backgroundGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),e){let a=this.getTitleTranslationY();e.node.y=isFinite(a)?a:0;let o=e.node.getBBox(!1);e.node.visible=e.enabled&&isFinite(a)&&!this.bboxIntersectsSurroundingSeries(o)}for(let a of[this.zerosumInnerRing,this.zerosumOuterRing])a.fillOpacity=0,a.stroke=this.properties.calloutLabel.color,a.strokeWidth=1,a.strokeOpacity=1;this.updateNodeMidPoint(),this.updateSelections(),this.updateNodes(i)}updateTitleNodes(){let{oldTitle:i}=this,{title:e}=this.properties;i!==e&&(i&&this.labelGroup?.removeChild(i.node),e&&(e.node.textBaseline="bottom",this.labelGroup?.appendChild(e.node)),this.oldTitle=e)}updateNodeMidPoint(){let i=e=>{let n=e.innerRadius+(e.outerRadius-e.innerRadius)/2;e.midPoint={x:e.midCos*Math.max(0,n),y:e.midSin*Math.max(0,n)}};this.nodeData.forEach(i),this.phantomNodeData?.forEach(i)}updateSelections(){this.updateGroupSelection(),this.updateInnerCircleSelection()}updateGroupSelection(){let{itemSelection:i,highlightSelection:e,phantomSelection:n,calloutLabelSelection:r,labelSelection:a,innerLabelsSelection:o}=this,s=this.nodeData.map(c=>S(f({},c),{sectorFormat:f({},c.sectorFormat)})),l=(c,d)=>{c.update(d,void 0,u=>this.getDatumId(u.datumIndex)),this.ctx.animationManager.isSkipped()&&c.cleanup()};l(i,this.nodeData),l(e,s),l(n,this.phantomNodeData??[]),r.update(this.calloutNodeData,c=>{let d=new Vo;d.tag=0,d.pointerEvents=1,c.appendChild(d);let u=new oo;u.tag=1,u.pointerEvents=1,c.appendChild(u)}),a.update(this.nodeData),o.update(this.properties.innerLabels,c=>{c.pointerEvents=1})}updateInnerCircleSelection(){let{innerCircle:i}=this.properties,e=0,n=this.getInnerRadius();if(n>0){let a=Math.min(n,this.getOuterRadius());e=Math.ceil(a*2+1)}let r=i?[{radius:e}]:[];this.innerCircleSelection.update(r)}updateNodes(i){let e=this.ctx.highlightManager.getActiveHighlight(),{visible:n,dataModel:r,processedData:a}=this;if(this.backgroundGroup.visible=n,this.contentGroup.visible=n,!r||!a)return;let{legendItemValues:o}=this.getProcessedDataValues(r,a),s=this.isSeriesHighlighted(e,o);this.highlightGroup.visible=n&&s,this.labelGroup.visible=n,this.innerCircleSelection.each((m,{radius:p})=>{m.setProperties({fill:this.getNodeFill(this.properties.innerCircle?.fill,["black"],"black"),opacity:this.properties.innerCircle?.fillOpacity,size:p})});let l=this.radiusScale.range[0],c=this.radiusScale.range[1],d=this.getShapeFillBBox(),u=this.ctx.animationManager.isSkipped(),h=(m,p,g,y)=>{let v=this.getSectorFormat(p.datum,p.itemId,y,p,o,e);p.sectorFormat.fill=v.fill,p.sectorFormat.stroke=v.stroke,u&&(m.startAngle=p.startAngle,m.endAngle=p.endAngle,m.innerRadius=p.innerRadius,m.outerRadius=p.outerRadius),(y||u)&&(m.fill=v.fill,m.stroke=v.stroke);let x=this.getFillParams(v.fill,l,c);Sc(m,v,d,x),m.cornerRadius=v.cornerRadius,m.fillShadow=this.properties.shadow;let w=Math.max((this.properties.sectorSpacing+(v.stroke!=null?v.strokeWidth:0))/2,0);m.inset=w,m.lineJoin=this.properties.sectorSpacing>=0||w>0?"miter":"round"};this.itemSelection.each((m,p,g)=>h(m,p,g,!1)),this.highlightSelection.each((m,p,g)=>{h(m,p,g,!0),m.visible=p.itemId===e?.itemId}),this.phantomSelection.each((m,p,g)=>h(m,p,g,!1)),this.updateCalloutLineNodes(),this.updateCalloutLabelNodes(i),this.updateSectorLabelNodes(),this.updateInnerLabelNodes(),this.updateZerosumRings(),this.animationState.transition("update")}updateCalloutLineNodes(){let{calloutLine:{length:i,strokeWidth:e,colors:n},strokes:r}=this.properties,a=e,o=Dce(n)?n??this.properties.strokes:r,{offset:s}=this.properties.calloutLabel;this.calloutLabelSelection.selectByTag(0).forEach(l=>{let c=l.closestDatum(),{calloutLabel:d,outerRadius:u,datumIndex:h}=c;if(d?.text&&!d.hidden&&u!==0){l.visible=!0,l.strokeWidth=a,l.stroke=o[h%o.length],l.strokeOpacity=this.getHighlightStyle(!1,c.datumIndex).opacity??1,l.fill=void 0;let m=c.midCos*u,p=c.midSin*u,g=c.midCos*(u+i),y=c.midSin*(u+i);if((d.collisionTextAlign??d.collisionOffsetY!==0)&&d.box!=null){let x=d.box,w=g,D=y;g<x.x?w=x.x:g>x.x+x.width&&(w=x.x+x.width),y<x.y?D=x.y:y>x.y+x.height&&(D=x.y+x.height);let k=w-g,E=D-y,A=Math.sqrt(Math.pow(k,2)+Math.pow(E,2)),N=A-s;N>0&&(g=g+k*N/A,y=y+E*N/A)}l.x1=m,l.y1=p,l.x2=g,l.y2=y}else l.visible=!1})}getLabelOverflow(i,e,n){let r=-this.centerX,a=r+n.width,o=-this.centerY,s=o+n.height,l=1,c=1;e.x+l<r?c=(e.x+e.width-r)/e.width:e.x+e.width-l>a&&(c=(a-e.x)/e.width);let d=e.y+l<o||e.y+e.height-l>s,u=c===1?i.length:Math.floor(i.length*c)-1,h=this.bboxIntersectsSurroundingSeries(e);return{textLength:u,hasVerticalOverflow:d,hasSurroundingSeriesOverflow:h}}bboxIntersectsSurroundingSeries(i){let{surroundingRadius:e}=this;if(e==null)return!1;let n=[{x:i.x,y:i.y},{x:i.x+i.width,y:i.y},{x:i.x+i.width,y:i.y+i.height},{x:i.x,y:i.y+i.height}],r=e**2;return n.some(a=>a.x**2+a.y**2>r)}computeCalloutLabelCollisionOffsets(){let{radiusScale:i}=this,{calloutLabel:e,calloutLine:n}=this.properties,{offset:r,minSpacing:a}=e,o=i.convert(0),s=w=>!w.calloutLabel||w.outerRadius===0,l=this.calloutNodeData,c=l.filter(w=>!s(w));if(c.forEach(w=>{let D=w.calloutLabel;D!=null&&(D.hidden=!1,D.collisionTextAlign=void 0,D.collisionOffsetY=0)}),c.length<=1)return;let d=c.filter(w=>w.midCos<0).sort((w,D)=>w.midSin-D.midSin),u=c.filter(w=>w.midCos>=0).sort((w,D)=>w.midSin-D.midSin),h=c.filter(w=>w.midSin<0&&w.calloutLabel?.textAlign==="center").sort((w,D)=>w.midCos-D.midCos),m=c.filter(w=>w.midSin>=0&&w.calloutLabel?.textAlign==="center").sort((w,D)=>w.midCos-D.midCos),p={angleKey:this.properties.angleKey},g=w=>{let D=w.calloutLabel;if(D==null)return we.zero.clone();let k=Al(this,w,p,e),E=Nf(k),A=w.outerRadius+n.length+r,N=w.midCos*A,F=w.midSin*A+D.collisionOffsetY,P=D.collisionTextAlign??D.textAlign,U=D.textBaseline;return oo.computeBBox(D.text,N,F,{font:this.properties.calloutLabel,textAlign:P,textBaseline:U},!1).grow(E)},y=(w,D,k)=>{let E=g(w).grow(a/2),A=g(D).grow(a/2);E.x<A.x+A.width&&E.x+E.width>A.x&&(k==="to-top"?E.y<A.y+A.height:E.y+E.height>A.y)&&(D.calloutLabel.collisionOffsetY=k==="to-top"?E.y-A.y-A.height:E.y+E.height-A.y)},v=w=>{let D=w.slice().sort((E,A)=>Math.abs(E.midSin)-Math.abs(A.midSin))[0],k=w.indexOf(D);for(let E=k-1;E>=0;E--){let A=w[E+1],N=w[E];y(A,N,"to-top")}for(let E=k+1;E<w.length;E++){let A=w[E-1],N=w[E];y(A,N,"to-bottom")}},x=w=>{let D=c.some(P=>P.calloutLabel.collisionOffsetY!==0),k=w.map(P=>g(P)),E=k.map(P=>P.clone().grow(a/2)),A=!1;for(let P=0;P<E.length&&!A;P++){let U=E[P];for(let H=P+1;H<w.length;H++){let q=E[H];if(U.collidesBBox(q)){A=!0;break}}}let N=l.map(P=>{let{startAngle:U,endAngle:H,outerRadius:q}=P;return{startAngle:U,endAngle:H,innerRadius:o,outerRadius:q}}),F=k.some(P=>N.some(U=>obe(P,U)));!A&&!D&&!F||w.filter(P=>P.calloutLabel.textAlign==="center").forEach(P=>{let U=P.calloutLabel;P.midCos<0?U.collisionTextAlign="right":P.midCos>0?U.collisionTextAlign="left":U.collisionTextAlign="center"})};v(d),v(u),x(h),x(m)}updateCalloutLabelNodes(i){let{radiusScale:e}=this,{calloutLabel:n,calloutLine:r}=this.properties,a=new oo;this.calloutLabelSelection.selectByTag(1).forEach(o=>{let s=o.closestDatum(),l=s.calloutLabel,c=e.convert(s.radius),d=Math.max(0,c);if(!l?.text||d===0||l.hidden){o.visible=!1;return}let u=this.ctx.highlightManager?.getActiveHighlight(),h=!1,m=this.getHighlightStateString(u,h,s.datumIndex),p=Al(this,s,this.properties,n,h,m),g=d+r.length+n.offset,y=s.midCos*g,v=s.midSin*g+l.collisionOffsetY,x={textAlign:l.collisionTextAlign??l.textAlign,textBaseline:l.textBaseline};a.text=l.text,a.x=y,a.y=v,a.setFont(p),a.setAlign(x),a.setBoxing(p);let w=a.getBBox(!1),D=l.text,k=!0;if(n.avoidCollisions){let{textLength:E,hasVerticalOverflow:A}=this.getLabelOverflow(l.text,w,i);D=l.text.length===E?l.text:`${l.text.substring(0,E)}\u2026`,k=!A}o.text=D,o.x=y,o.y=v,o.setFont(p),o.setAlign(x),o.setBoxing(p),o.fill=p.color,o.fillOpacity=this.getHighlightStyle(!1,s.datumIndex).opacity??1,o.visible=k})}computeLabelsBBox(i,e){let{calloutLabel:n,calloutLine:r}=this.properties,a=r.length,{offset:o,maxCollisionOffset:s,minSpacing:l}=n;if(!n.avoidCollisions)return null;this.maybeRefreshNodeData(),this.updateRadiusScale(!1),this.computeCalloutLabelCollisionOffsets();let c=[],d=new oo,u,{title:h}=this.properties;if(h?.text&&h.enabled){let p=this.getTitleTranslationY();isFinite(p)&&(d.text=h.text,d.x=0,d.y=p,d.setFont(h),d.setAlign({textBaseline:"bottom",textAlign:"center"}),u=d.getBBox(!1),c.push(u))}let m={angleKey:this.properties.angleKey};return this.calloutNodeData.forEach(p=>{let g=p.calloutLabel;if(!g||p.outerRadius===0)return null;let y=Al(this,p,m,n),v=p.outerRadius+a+o,x=p.midCos*v,w=p.midSin*v+g.collisionOffsetY;d.text=g.text,d.x=x,d.y=w,d.setFont(y),d.setAlign({textAlign:g.collisionTextAlign??g.textAlign,textBaseline:g.textBaseline}),d.setBoxing(y);let D=d.getBBox(!1);if(g.box=D,Math.abs(g.collisionOffsetY)>s){g.hidden=!0;return}if(u){let k=-this.centerY,E=new we(u.x-l,k,u.width+2*l,u.y+u.height+l-k);if(D.collidesBBox(E)){g.hidden=!0;return}}if(i.hideWhenNecessary){let{textLength:k,hasVerticalOverflow:E,hasSurroundingSeriesOverflow:A}=this.getLabelOverflow(g.text,D,e),N=g.text.length>2&&k<2;if(E||N||A){g.hidden=!0;return}}g.hidden=!1,c.push(D)}),c.length===0?null:we.merge(c)}updateSectorLabelNodes(){let{properties:i}=this,{positionOffset:e,positionRatio:n}=this.properties.sectorLabel,r=this.radiusScale.convert(0),a=r<=0&&this.ctx.legendManager.getData(this.id)?.filter(l=>l.enabled).length===1,o={textAlign:"center",textBaseline:"middle"},s=(l,c)=>{let{outerRadius:d,startAngle:u,endAngle:h}=c,m=!1;if(c.sectorLabel&&d!==0){let p=this.ctx.highlightManager?.getActiveHighlight(),g=!1,y=this.getHighlightStateString(p,g,c.datumIndex),v=Al(this,c,i,i.sectorLabel,g,y),x=r*(1-n)+d*n+e;l.fill=v.color,l.fillOpacity=this.getHighlightStyle(!1,c.datumIndex).opacity??1,l.text=c.sectorLabel.text,a?(l.x=0,l.y=0):(l.x=c.midCos*x,l.y=c.midSin*x),l.setFont(v),l.setAlign(o),l.setBoxing(v);let w=l.getBBox(!1),D=[[w.x,w.y],[w.x+w.width,w.y],[w.x+w.width,w.y+w.height],[w.x,w.y+w.height]],k={startAngle:u,endAngle:h,innerRadius:r,outerRadius:d};D.every(([E,A])=>TR(E,A,k))&&(m=!0)}l.visible=m};this.labelSelection.each(s)}updateInnerLabelNodes(){let i=[],e=[];this.innerLabelsSelection.each((u,h)=>{let{fontStyle:m,fontWeight:p,fontSize:g,fontFamily:y,color:v}=h;u.fontStyle=m,u.fontWeight=p,u.fontSize=g,u.fontFamily=y,u.text=h.text,u.x=0,u.y=0,u.fill=v,u.textAlign="center",u.textBaseline="alphabetic",i.push(u.getBBox()),e.push(h.spacing)});let n=u=>u===0?0:e[u],r=u=>u===e.length-1?0:e[u],a=i.reduce((u,h)=>u<h.width?h.width:u,0),o=i.reduce((u,h,m)=>u+h.height+n(m)+r(m),0),s=this.getInnerRadius(),c=Math.sqrt(Math.pow(a/2,2)+Math.pow(o/2,2))<=(s>0?s:this.getOuterRadius()),d=[];for(let u=0,h=-o/2;u<i.length;u++){let p=i[u].height+h+n(u);d.push(p),h=p+r(u)}this.innerLabelsSelection.each((u,h,m)=>{u.visible=c,Array.isArray(u.text)?u.y=d[m]-i[m].height:u.y=d[m]})}updateZerosumRings(){this.zerosumOuterRing.size=this.getOuterRadius()*2,this.zerosumInnerRing.size=this.getInnerRadius()*2}pickNodeClosestDatum(i){return A8(this,i)}getTooltipContent(i){let{id:e,dataModel:n,processedData:r,properties:a,ctx:{formatManager:o}}=this,{legendItemKey:s,calloutLabelKey:l,calloutLabelName:c,sectorLabelKey:d,sectorLabelName:u,angleKey:h,angleName:m,radiusKey:p,radiusName:g,tooltip:y}=a,v=this.properties.title.node.getPlainText();if(!n||!r)return;let x=r.dataSources.get(this.id)?.[i],w=this.getProcessedDataValues(n,r),{angleRawValues:D}=w,k=D[i],E=this.getLabelContent(i,x,w),A=E.legendItem??E.callout??E.sector??m,N=n.getDomain(this,"angleRaw","value",r),F=o.format(this.callWithContext.bind(this),{type:"number",value:k,datum:x,seriesId:e,legendItemName:void 0,key:h,source:"tooltip",property:"angle",domain:N,boundSeries:this.getFormatterContext("angle"),fractionDigits:void 0})??Tf(k,3);return this.formatTooltipWithContext(y,{title:v,symbol:this.legendItemSymbol(i),data:[{label:A,fallbackLabel:h,value:F}]},f({seriesId:e,datum:x,title:m,legendItemKey:s,calloutLabelKey:l,calloutLabelName:c,sectorLabelKey:d,sectorLabelName:u,angleKey:h,angleName:m,radiusKey:p,radiusName:g},this.getSectorFormat(x,i,!1)))}legendItemSymbol(i){let e=this.processedData?.dataSources.get(this.id)?.[i],n=this.getSectorFormat(e,i,!1),{fillOpacity:r,strokeOpacity:a,strokeWidth:o,lineDash:s,lineDashOffset:l}=this.properties,{fill:c}=n,{stroke:d}=n;return Os(c)&&(c=S(f({},c),{gradient:"linear",rotation:0,reverse:!1})),{marker:{fill:c,stroke:d,fillOpacity:r,strokeOpacity:a,strokeWidth:o,lineDash:s,lineDashOffset:l}}}getLegendData(i){let{visible:e,processedData:n,dataModel:r,id:a,ctx:{legendManager:o}}=this;if(!r||!n||i!=="category")return[];let{angleKey:s,calloutLabelKey:l,sectorLabelKey:c,legendItemKey:d,showInLegend:u}=this.properties;if(!d&&(!l||l===s)&&(!c||c===s))return[];let h=this.getProcessedDataValues(r,n),{angleRawValues:m}=h,p=this.properties.title?.showInLegend&&this.properties.title.text,g=[],y=this.properties.hideZeroValueSectorsInLegend,v=n.dataSources.get(this.id),x=n.invalidData?.get(this.id);for(let w=0;w<n.input.count;w++){let D=v?.[w],k=m[w];if(x?.[w]===!0||y&&k===0)continue;let E=[];p&&E.push(p);let A=this.getLabelContent(w,D,h);d&&A.legendItem!==void 0?E.push(A.legendItem):l&&l!==s&&A.callout!==void 0?E.push(A.callout):c&&c!==s&&A.sector!==void 0&&E.push(A.sector),E.length!==0&&g.push({legendType:"category",id:a,datum:D,itemId:w,seriesId:a,hideToggleOtherSeries:!0,enabled:e&&o.getItemEnabled({seriesId:a,itemId:w}),label:{text:E.join(" - ")},symbol:this.legendItemSymbol(w),legendItemName:d!=null?D[d]:void 0,hideInLegend:!u})}return g}setLegendState(i){let{id:e,ctx:{legendManager:n,updateService:r}}=this;i.forEach((a,o)=>n.toggleItem(a,e,o)),n.update(),r.update(5)}animateEmptyUpdateReady(i){let{animationManager:e}=this.ctx,n=Hw(!0,this.properties.rotation,this.radiusScale,this.previousRadiusScale);Tn(this.id,"nodes",e,[this.itemSelection,this.highlightSelection,this.phantomSelection],n.nodes,(r,a)=>this.getDatumId(a.datumIndex)),Tn(this.id,"innerCircle",e,[this.innerCircleSelection],n.innerCircle),fn(this,"callout",e,this.calloutLabelSelection),fn(this,"sector",e,this.labelSelection),fn(this,"inner",e,this.innerLabelsSelection),this.previousRadiusScale.range=this.radiusScale.range}animateWaitingUpdateReady(){let{itemSelection:i,highlightSelection:e,phantomSelection:n,processedData:r,radiusScale:a,previousRadiusScale:o}=this,{animationManager:s}=this.ctx,l=r?.reduced?.diff?.[this.id];this.ctx.animationManager.stopByAnimationGroupId(this.id);let c=(l?.moved.size??0)===0,d=(r?.defs.keys.length??0)>0,u=r?.reduced?.animationValidation?.uniqueKeys??!0;(!c||!d||!u)&&this.ctx.animationManager.skipCurrentBatch();let h=!this.nodeData.some(p=>p.enabled),m=Hw(!1,this.properties.rotation,a,o);Tn(this.id,"nodes",s,[i,e,n],m.nodes,(p,g)=>this.getDatumId(g.datumIndex),l),Tn(this.id,"innerCircle",s,[this.innerCircleSelection],m.innerCircle),fn(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),fn(this,"sector",this.ctx.animationManager,this.labelSelection),this.noVisibleData!==h&&(this.noVisibleData=h,fn(this,"inner",this.ctx.animationManager,this.innerLabelsSelection)),this.previousRadiusScale.range=this.radiusScale.range}animateClearingUpdateEmpty(){let{itemSelection:i,highlightSelection:e,phantomSelection:n,radiusScale:r,previousRadiusScale:a}=this,{animationManager:o}=this.ctx,s=Hw(!1,this.properties.rotation,r,a);Tn(this.id,"nodes",o,[i,e,n],s.nodes,(l,c)=>this.getDatumId(c.datumIndex)),Tn(this.id,"innerCircle",o,[this.innerCircleSelection],s.innerCircle),zw(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),zw(this,"sector",this.ctx.animationManager,this.labelSelection),zw(this,"inner",this.ctx.animationManager,this.innerLabelsSelection),this.previousRadiusScale.range=this.radiusScale.range}getDatumId(i){return`${i}`}hasItemStylers(){let{itemStyler:i,calloutLabel:e,sectorLabel:n}=this.properties;return(i??e.itemStyler??n.itemStyler)!=null}};return t.className="DonutSeries",t.type="donut",t})(),cbe={series:{title:{enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:{$rem:so.LARGE},fontFamily:{$ref:"fontFamily"},color:{$ref:"subtleTextColor"},spacing:5},calloutLabel:S(f({},Bo),{enabled:!0,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"},offset:3,minAngle:.001}),sectorLabel:S(f({},Bo),{enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},color:{$ref:"chartBackgroundColor"},positionOffset:0,positionRatio:.5}),calloutLine:{length:10,strokeWidth:2,colors:{$map:[{$if:[{$or:[{$isGradient:{$value:"$1"}},{$isPattern:{$value:"$1"}},{$isImage:{$value:"$1"}}]},{$path:["../../strokes/$index",{$ref:"foregroundColor"}]},{$value:"$1"}]},{$if:[{$eq:[{$path:"../strokeWidth"},0]},{$path:"../fills"},{$path:"../strokes"}]}]}},fills:{$palette:"fills"},strokes:{$palette:"strokes"},defaultColorRange:{$palette:"gradients"},defaultPatternFills:OO,fillOpacity:1,strokeOpacity:1,strokeWidth:{$isUserOption:["./strokes/0",2,0]},lineDash:[0],lineDashOffset:0,rotation:0,sectorSpacing:1,innerRadiusRatio:{$if:[{$eq:[{$path:["./innerRadiusOffset",void 0]},void 0]},.7,void 0]},shadow:{enabled:!1,color:iu,xOffset:3,yOffset:3,blur:5},innerLabels:{$apply:S(f({},Bo),{fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"},spacing:2})},highlight:u$()},legend:{enabled:!0}},dbe={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["polar"],identifier:"donut",moduleFactory:t=>new kL(t),themeTemplate:cbe},ube={type:"series",name:"donut",chartType:"polar",options:jpe,create:t=>new kL(t)},O8=(()=>{let t=class extends kL{};return t.className="PieSeries",t.type="pie",t})(),hbe={series:{title:{enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:{$rem:so.LARGE},fontFamily:{$ref:"fontFamily"},color:{$ref:"subtleTextColor"},spacing:5},calloutLabel:S(f({},Bo),{enabled:!0,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"},offset:3,minAngle:.001}),sectorLabel:S(f({},Bo),{enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},color:{$ref:"chartBackgroundColor"},positionOffset:0,positionRatio:.5}),calloutLine:{length:10,strokeWidth:2,colors:{$map:[{$if:[{$or:[{$isGradient:{$value:"$1"}},{$isPattern:{$value:"$1"}},{$isImage:{$value:"$1"}}]},{$path:["../../strokes/$index",{$ref:"foregroundColor"}]},{$value:"$1"}]},{$if:[{$eq:[{$path:"../strokeWidth"},0]},{$path:"../fills"},{$path:"../strokes"}]}]}},fills:{$palette:"fills"},strokes:{$palette:"strokes"},defaultColorRange:{$palette:"gradients"},defaultPatternFills:OO,fillOpacity:1,strokeOpacity:1,strokeWidth:{$isUserOption:["./strokes/0",2,0]},lineDash:[0],lineDashOffset:0,rotation:0,sectorSpacing:1,shadow:{enabled:!1,color:iu,xOffset:3,yOffset:3,blur:5},highlight:nu()},legend:{enabled:!0}},mbe={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["polar"],identifier:"pie",moduleFactory:t=>new O8(t),themeTemplate:hbe},pbe={type:"series",name:"pie",chartType:"polar",options:Jh,create:t=>new O8(t)};function L8(){Tl.register(j6,age,rge,Zfe,Lge,p8,ebe,x8,rbe,dbe,mbe,tbe);for(let t of[ou,Yf,su,l_,yS,Zf])Ph.register(t.type,{moduleFactory:i=>new t(i)})}function fbe(){for(let t of Tl.modules){if(t.packageType==="enterprise"&&!ohe(t)&&z.errorOnce("Unexpected enterprise module registered: "+t.identifier),t.type==="root"&&t.themeTemplate)for(let i of t.chartTypes)aR.set(i,t.themeTemplate);if(t.type==="series"){if(t.chartTypes.length>1)throw new Error(`AG Charts - Module definition error: ${t.identifier}`);As.register(t.identifier,t)}if(t.type==="series-option"&&t.themeTemplate)for(let i of t.seriesTypes)As.setThemeTemplate(i,t.themeTemplate);if(t.type==="axis-option"&&t.themeTemplate)for(let i of t.axisTypes){let e=Ph.getThemeTemplate(i),n=Jt(t.themeTemplate,e);Ph.setThemeTemplate(i,n)}t.type==="axis"&&Ph.register(t.identifier,t),t.type==="legend"&&uO.register(t.identifier,t)}if(Tl.hasEnterpriseModules()){let t=she();t.length>0&&z.errorOnce("Enterprise modules expected but not registered: ",t)}}var Va=Symbol("IGNORED_PROP");function zo(t,i){let e={};for(let n of Object.keys(i)){let r=i[n];r!==Va&&Object.hasOwn(t,n)&&(e[n]=r)}return e}function N8(t){let p=t,{enabled:i,mode:e,showArrow:n,range:r,position:a,pagination:o,delay:s,wrapping:l,interaction:c,renderer:d}=p,u=ci(p,["enabled","mode","showArrow","range","position","pagination","delay","wrapping","interaction","renderer"]),h=zo(t,f({enabled:i,showArrow:n,range:r,position:a,interaction:c,renderer:d},u));return{chartTooltipOptions:zo(t,f({enabled:Va,showArrow:Va,range:Va,position:Va,mode:e,pagination:o,delay:s,wrapping:l},u)),seriesTooltipOptions:h}}function gbe(t){let je=t,{animation:i,background:e,container:n,contextMenu:r,context:a,footnote:o,height:s,listeners:l,locale:c,minHeight:d,minWidth:u,overrideDevicePixelRatio:h,padding:m,subtitle:p,theme:g,title:y,width:v,type:x,cursor:w,nodeClickRange:D,tooltip:k={},value:E,scale:A={},startAngle:N,endAngle:F,highlightStyle:P,highlight:U,segmentation:H,bar:q,needle:he,targets:ne,outerRadius:Oe,innerRadius:st,outerRadiusRatio:Ct,innerRadiusRatio:Zt,cornerRadius:Xt,cornerMode:vt,label:Ge,secondaryLabel:We,spacing:Fe}=je,jt=ci(je,["animation","background","container","contextMenu","context","footnote","height","listeners","locale","minHeight","minWidth","overrideDevicePixelRatio","padding","subtitle","theme","title","width","type","cursor","nodeClickRange","tooltip","value","scale","startAngle","endAngle","highlightStyle","highlight","segmentation","bar","needle","targets","outerRadius","innerRadius","outerRadiusRatio","innerRadiusRatio","cornerRadius","cornerMode","label","secondaryLabel","spacing"]),{chartTooltipOptions:ft,seriesTooltipOptions:dt}=N8(k),rt=zo(t,{animation:i,background:e,container:n,contextMenu:r,context:a,footnote:o,height:s,listeners:l,locale:c,minHeight:d,minWidth:u,overrideDevicePixelRatio:h,padding:m,subtitle:p,theme:g,title:y,tooltip:ft,width:v}),Ze=zo(t,f({needle:he!=null?f({enabled:!0},he):Va,startAngle:N,endAngle:F,scale:A,type:x,cursor:w,context:a,nodeClickRange:D,tooltip:dt,value:E,highlightStyle:P,highlight:U,segmentation:H,bar:q,targets:ne,outerRadius:Oe,innerRadius:st,outerRadiusRatio:Ct,innerRadiusRatio:Zt,cornerRadius:Xt,cornerMode:vt,label:Ge,secondaryLabel:We,spacing:Fe},jt));return S(f({},rt),{series:[Ze]})}function bbe(t){let We=t,{animation:i,background:e,container:n,contextMenu:r,context:a,footnote:o,height:s,listeners:l,locale:c,minHeight:d,minWidth:u,overrideDevicePixelRatio:h,padding:m,subtitle:p,theme:g,title:y,width:v,type:x,cursor:w,nodeClickRange:D,tooltip:k={},value:E,scale:A={},direction:N="vertical",thickness:F,highlightStyle:P,highlight:U,segmentation:H,bar:q,targets:he,cornerRadius:ne,cornerMode:Oe,label:st}=We,Ct=ci(We,["animation","background","container","contextMenu","context","footnote","height","listeners","locale","minHeight","minWidth","overrideDevicePixelRatio","padding","subtitle","theme","title","width","type","cursor","nodeClickRange","tooltip","value","scale","direction","thickness","highlightStyle","highlight","segmentation","bar","targets","cornerRadius","cornerMode","label"]),{chartTooltipOptions:Zt,seriesTooltipOptions:Xt}=N8(k),vt=zo(t,{animation:i,background:e,container:n,contextMenu:r,context:a,footnote:o,height:s,listeners:l,locale:c,minHeight:d,minWidth:u,overrideDevicePixelRatio:h,padding:m,subtitle:p,theme:g,title:y,tooltip:Zt,width:v}),Ge=zo(t,f({scale:A,type:x,cursor:w,context:a,nodeClickRange:D,tooltip:Xt,value:E,direction:N,thickness:F,highlightStyle:P,highlight:U,segmentation:H,bar:q,targets:he,cornerRadius:ne,cornerMode:Oe,label:st},Ct));return S(f({},vt),{series:[Ge]})}function A5(t,i){if(i==null)return t;let r=i,{targets:e}=r,n=ci(r,["targets"]);return t=Jt(t,n),t.targets!=null&&e!=null&&(t.targets=U5(t.targets,e)),t}function ybe(t,i){switch(t.type){case"radial-gauge":return gbe(A5(t,i));case"linear-gauge":return bbe(A5(t,i));default:return{}}}var Oo={stroke:rn},Ir={fill:Gv},E5={color:"white",fill:rn},yc={color:rn},Th={color:Hv,fontSize:{$rem:so.LARGE},fontFamily:{$ref:"fontFamily"}},RR=S(f({},Th),{fontSize:{$ref:"fontSize"},color:Yv,fill:Wv,stroke:$v,strokeWidth:1,divider:{stroke:Kv,strokeWidth:1,strokeOpacity:.5}}),L1=S(f({},Oo),{background:{fill:Rn,fillOpacity:.2},handle:f({},Ir),text:f({},yc),statistics:f({},RR)}),vbe={line:S(f({},Oo),{handle:f({},Ir),text:f({},yc)}),"horizontal-line":S(f({},Oo),{handle:f({},Ir),axisLabel:f({},E5),text:f({},yc)}),"vertical-line":S(f({},Oo),{handle:f({},Ir),axisLabel:f({},E5),text:f({},yc)}),"disjoint-channel":S(f({},Oo),{background:{fill:Rn,fillOpacity:.2},handle:f({},Ir),text:f({},yc)}),"parallel-channel":S(f({},Oo),{background:{fill:Rn,fillOpacity:.2},handle:f({},Ir),text:f({},yc)}),"fibonacci-retracement":S(f({},Oo),{strokes:mv,rangeStroke:rn,handle:f({},Ir),text:S(f({},yc),{position:"center"}),label:S(f({},Th),{color:void 0,fontSize:{$rem:so.SMALLER}})}),"fibonacci-retracement-trend-based":S(f({},Oo),{strokes:mv,rangeStroke:rn,handle:f({},Ir),text:S(f({},yc),{position:"center"}),label:S(f({},Th),{color:void 0,fontSize:{$rem:so.SMALLER}})}),callout:S(f(f({},Oo),Th),{color:{$ref:"textColor"},handle:f({},Ir),fill:Rn,fillOpacity:.2}),comment:S(f({},Th),{color:"white",fontWeight:700,handle:f({},Ir),fill:rn}),note:S(f({},Th),{color:Qv,fill:rn,stroke:{$ref:"chartBackgroundColor"},strokeWidth:1,strokeOpacity:1,handle:f({},Ir),background:{fill:qv,stroke:Zv,strokeWidth:1}}),text:S(f({},Th),{handle:f({},Ir)}),arrow:S(f({},Oo),{handle:f({},Ir),text:f({},yc)}),"arrow-up":{fill:{$palette:"up.fill"},handle:S(f({},Ir),{stroke:rn})},"arrow-down":{fill:{$palette:"down.fill"},handle:S(f({},Ir),{stroke:rn})},"date-range":f({},L1),"price-range":f({},L1),"date-price-range":f({},L1),"quick-date-price-range":{up:S(f({},Oo),{fill:Rn,fillOpacity:.2,handle:f({},Ir),statistics:S(f({},RR),{color:"#fff",fill:Rn,strokeWidth:0,divider:{stroke:"#fff",strokeWidth:1,strokeOpacity:.5}})}),down:S(f({},Oo),{stroke:fv,fill:pv,fillOpacity:.2,handle:S(f({},Ir),{stroke:fv}),statistics:S(f({},RR),{color:"#fff",fill:pv,strokeWidth:0,divider:{stroke:"#fff",strokeWidth:1,strokeOpacity:.5}})})},axesButtons:{enabled:!0}},_be=["ohlc","line","step-line","hlc","high-low","candlestick","hollow-candlestick"],xbe=[{icon:"trend-line-drawing",tooltip:"toolbarAnnotationsLineAnnotations",value:"line-menu"},{icon:"fibonacci-retracement-drawing",tooltip:"toolbarAnnotationsFibonacciAnnotations",value:"fibonacci-menu"},{icon:"text-annotation",tooltip:"toolbarAnnotationsTextAnnotations",value:"text-menu"},{icon:"arrow-drawing",tooltip:"toolbarAnnotationsShapeAnnotations",value:"shape-menu"},{icon:"measurer-drawing",tooltip:"toolbarAnnotationsMeasurerAnnotations",value:"measurer-menu"},{icon:"delete",tooltip:"toolbarAnnotationsClearAll",value:"clear"}];function Cbe(t,i,e){let ne=t,{dateKey:n="date",highKey:r="high",openKey:a="open",lowKey:o="low",closeKey:s="close",volumeKey:l="volume",chartType:c="candlestick",navigator:d=!1,volume:u=!0,rangeButtons:h=!0,statusBar:m=!0,toolbar:p=!0,zoom:g=!0,sync:y=!1,theme:v,data:x,formatter:w}=ne,D=ci(ne,["dateKey","highKey","openKey","lowKey","closeKey","volumeKey","chartType","navigator","volume","rangeButtons","statusBar","toolbar","zoom","sync","theme","data","formatter"]),k=Dbe(c,n,r,o,a,s),E=wbe(e,a,s,u,l),N={navigator:f({enabled:d},u?{miniChart:{enabled:d,series:[{type:"line",xKey:n,yKey:l,stroke:aS,marker:{enabled:!1}}]},height:40,minHandle:{height:46},maxHandle:{height:46}}:null)},F={annotations:{enabled:p,optionsToolbar:{enabled:p},snap:!0,toolbar:{enabled:p,buttons:xbe,padding:0},data:x,xKey:n,volumeKey:u?l:void 0}},P=m?{statusBar:{enabled:!0,data:x,highKey:r,openKey:a,lowKey:o,closeKey:s,volumeKey:u?l:void 0}}:null,U={zoom:{enabled:g,autoScaling:{enabled:!0},enableIndependentAxes:!0}},H={ranges:{enabled:h}},q=y?{sync:{enabled:y,nodeInteraction:!0,zoom:!0}}:null,he=u?[{type:"number",position:"left",keys:[l],label:{enabled:!1},crosshair:{enabled:!1},gridLine:{enabled:!1},nice:!1,layoutConstraints:{stacked:!1,width:20,unit:"percent",align:"end"}}]:[];return f(f(f(f(f(f(f({theme:f({baseTheme:typeof v=="string"?v:"ag-financial"},Jt(typeof v=="object"?v:null,{overrides:{common:{title:{padding:4},padding:{top:6,right:8,bottom:6},chartToolbar:{enabled:p},annotations:f({},vbe),axes:{number:{interval:{maxSpacing:45},label:{format:".2f"}}}},bar:{series:{fillOpacity:.5}},line:{series:f({marker:{enabled:!1}},O5(c,{hlc:{stroke:{$palette:"altNeutral.stroke"},strokeWidth:2},line:{stroke:{$palette:"neutral.stroke"}},"step-line":{stroke:{$palette:"neutral.stroke"},interpolation:{type:"step"}}}))},candlestick:{series:f({},O5(c,{"hollow-candlestick":{item:{up:{fill:"transparent"}}}}))},"range-area":{series:{fillOpacity:.3,strokeWidth:2}}}})),animation:{enabled:!1},legend:{enabled:!1},series:[...E,...k],axes:[{type:"number",position:"right",keys:[a,s,r,o],crosshair:{enabled:!0,snap:!1},layoutConstraints:{stacked:!1,width:100,unit:"percent",align:"start"}},...he,{type:"ordinal-time",position:"bottom",line:{enabled:!1},label:{enabled:!0},crosshair:{enabled:!0}}],tooltip:{enabled:!1},data:x,formatter:w},F),N),P),U),H),q),D)}function wbe(t,i,e,n,r){return n?[{type:"bar",xKey:"date",yKey:r,tooltip:{enabled:!1},itemStyler({datum:a}){let{up:o,down:s}=t().palette;return{fill:a[i]<a[e]?o?.fill:s?.fill}},focusPriority:1,highlight:{enabled:!1}}]:[]}var T5="range-area";function Dbe(t,i,e,n,r,a){let o={xKey:i,openKey:r,closeKey:a,highKey:e,lowKey:n},s={xKey:i,yKey:a},l={pickOutsideVisibleMinorAxis:!0};switch(t??"candlestick"){case"ohlc":return Sbe(l,o);case"line":case"step-line":return Mbe(l,s);case"hlc":return Ibe(l,s,o);case"high-low":return kbe(l,o);case"candlestick":case"hollow-candlestick":return R5(l,o);default:return z.warnOnce(`unknown chart type: ${t}; expected one of: ${_be.join(", ")}`),R5(l,o)}}function Sbe(t,i){return[f(f({type:"ohlc",focusPriority:0},t),i)]}function Mbe(t,i){return[f(f({type:"line",focusPriority:0},t),i)]}function Ibe(t,i,{xKey:e,highKey:n,closeKey:r,lowKey:a}){return[S(f({type:T5,focusPriority:0},t),{xKey:e,yHighKey:n,yLowKey:r,fill:JD,stroke:QD}),S(f({type:T5,focusPriority:0},t),{xKey:e,yHighKey:r,yLowKey:a,fill:eS,stroke:XD}),f(f({type:"line"},t),i)]}function kbe(t,{xKey:i,highKey:e,lowKey:n}){return[S(f({type:"range-bar"},t),{xKey:i,yHighKey:e,yLowKey:n,fill:iS,stroke:tS,tooltip:{range:"nearest"},focusPriority:0})]}function R5(t,i){return[f(f({type:"candlestick",focusPriority:0},t),i)]}function O5(t,i){return i[t]??i.default}var P8={title:{enabled:!1},label:{enabled:!1},line:{enabled:!1},gridLine:{enabled:!1},crosshair:{enabled:!1,stroke:rS,lineDash:[0],label:{enabled:!1}}},N1=S(f({},P8),{nice:!1}),kw={mode:"compact",position:{anchorTo:"node",placement:["right","left"]},showArrow:!1},P1={style:[{stroke:{$ref:"gridLineColor"}}],width:2},Abe={number:{gridLine:P1},time:{gridLine:P1},category:{gridLine:P1}},Ebe={overrides:{common:{animation:{enabled:!1},contextMenu:{enabled:!1},keyboard:{enabled:!1},background:{visible:!1},navigator:{enabled:!1},padding:{top:0,right:0,bottom:0,left:0},axes:{number:S(f({},N1),{interval:{values:[0]}}),log:f({},N1),time:f({},N1),category:f({},P8)}},bar:{series:{crisp:!1,label:{placement:"inside-end",padding:4},sparklineMode:!0},tooltip:S(f({},kw),{position:S(f({},kw.position),{anchorTo:"pointer"}),range:"nearest"}),axes:Abe},line:{seriesArea:{padding:{top:2,right:2,bottom:2,left:2}},series:{sparklineMode:!0,strokeWidth:1,marker:{enabled:!1,size:3}},tooltip:kw},area:{seriesArea:{padding:{top:1,right:0,bottom:1,left:0}},series:{strokeWidth:1,fillOpacity:.4},tooltip:kw}}},F8=Ar(Tbe);function Tbe(t,i){return typeof t=="string"?S(f({},i),{baseTheme:t}):t!=null?S(f({},t),{baseTheme:F8(t.baseTheme,i)}):i}function V8(t){if(Array.isArray(t)&&t.length!==0){let i=t.find(e=>e!=null);if(typeof i=="number")return{data:t.map((n,r)=>({x:r,y:n})),series:[{xKey:"x",yKey:"y"}],datumKey:"y"};if(Array.isArray(i))return{data:t.map(n=>({x:n?.[0],y:n?.[1],datum:n})),series:[{xKey:"x",yKey:"y"}],datumKey:"datum"}}else if(t?.length===0)return{data:t,series:[{xKey:"x",yKey:"y"}],datumKey:"y"};return{data:t}}function Rbe(t){switch(t?.type){case"number":{let{type:i,min:e,max:n,reverse:r}=t;return zo(t,{type:i,reverse:r,min:e,max:n})}case"time":{let{type:i,min:e,max:n,reverse:r}=t;return zo(t,{type:i,reverse:r,min:e,max:n})}case"category":default:{let{paddingInner:i,paddingOuter:e,reverse:n}=t??{};return zo(S(f({},t),{type:"category"}),{type:"category",reverse:n,paddingInner:i,paddingOuter:e})}}}function Obe(t,i,e){let n={};return t?.stroke!=null&&(n.style=[{stroke:t?.stroke}],n.enabled??(n.enabled=!0)),t?.strokeWidth!=null&&(n.width=t?.strokeWidth,n.enabled??(n.enabled=!0)),e.type==="bar"&&e.direction!=="horizontal"&&(n.enabled??(n.enabled=!0)),t?.visible!=null&&(n.enabled=t.visible),n.enabled??(n.enabled=i),n}var Lbe=Ar((t,i,e)=>n=>{let r=n.datum[n.xKey],a=n.datum[n.yKey],o=e!=null?n.datum[e]:n.datum,s=i?.renderer?.({context:t,datum:o,xValue:r,yValue:a});if(typeof s=="string")return s;let l=s?.content??a.toFixed(2);return s?.title?{heading:void 0,title:void 0,data:[{label:s.title,value:l}]}:{heading:void 0,title:l,data:[]}});function Nbe(t){let ne=t,{background:i,container:e,height:n,listeners:r,locale:a,minHeight:o,minWidth:s,overrideDevicePixelRatio:l,padding:c,width:d,theme:u,data:h,crosshair:m,axis:p,min:g,max:y,tooltip:v,context:x,styleNonce:w}=ne,D=ci(ne,["background","container","height","listeners","locale","minHeight","minWidth","overrideDevicePixelRatio","padding","width","theme","data","crosshair","axis","min","max","tooltip","context","styleNonce"]),k=zo(t,{background:i,container:e,height:n,listeners:r,locale:a,minHeight:o,minWidth:s,overrideDevicePixelRatio:l,padding:c,width:d,styleNonce:w,tooltip:Va,context:Va,data:Va,crosshair:Va,axis:Va,min:Va,max:Va,theme:Va}),{data:E,series:[A]=[],datumKey:N}=V8(h),F=D;A!=null&&Object.assign(F,A),F.tooltip=S(f({},v),{renderer:Lbe(x,v,N)}),k.theme=F8(u,Ebe),k.data=E,k.series=[F];let P=F.type!=="bar"||F.direction!=="horizontal",[U,H]=P?["bottom","left"]:["left","bottom"],q=f(S(f({},Rbe(p)),{position:U}),zo(t,{crosshair:m})),he=f({type:"number",gridLine:Obe(p,!1,t),position:H},zo(t,{min:g,max:y}));return k.axes=P?[he,q]:[q,he],k}var Pbe={chartType:K("candlestick","hollow-candlestick","ohlc","line","step-line","hlc","high-low"),dateKey:B,openKey:B,highKey:B,lowKey:B,closeKey:B,volumeKey:B,navigator:R,volume:R,rangeButtons:R,statusBar:R,toolbar:R,zoom:R,sync:R,theme:Be,container:Be,width:Be,height:Be,minWidth:Be,minHeight:Be,listeners:Be,initialState:Be,title:Be,data:pa,formatter:Be},OR={theme:Be,container:Be,animation:Be,background:Be,contextMenu:Be,context:()=>!0,listeners:Be,locale:Be,width:Be,height:Be,minWidth:Be,minHeight:Be,title:Be,subtitle:Be,footnote:Be,padding:Be,tooltip:f(f({},ei),at.tooltip)};OR.overrideDevicePixelRatio=ze(O);var F1=["showInLegend","showInMiniChart","grouped","stacked","stackGroup","tooltip","listeners","errorBar","xKey","yKey","type"],V1={visible:R,reverse:R,stroke:se,strokeWidth:O},B1={context:()=>!0,tooltip:Be,theme:Be,background:Be,container:Be,width:Be,height:Be,minWidth:Be,minHeight:Be,padding:Be,listeners:Be,locale:Be,data:Be,styleNonce:B,axis:hh({number:S(f({},V1),{min:oi(j,fa("max")),max:oi(j,ga("min"))}),category:S(f({},V1),{paddingInner:Me,paddingOuter:Me}),time:S(f({},V1),{min:oi($e(j,Eo),fa("max")),max:oi($e(j,Eo),ga("min"))})},"axis options","category"),min:oi(j,fa("max")),max:oi(j,ga("min")),crosshair:f(f({enabled:R,snap:R},Z),_e),xKey:B,yKey:B},Fbe={type:"preset",name:"price-volume",enterprise:!0,options:Pbe,create:Cbe},Vbe={type:"preset",name:"gauge-preset",enterprise:!0,options:hh({"linear-gauge":f(f({},ue(Xd,["type"])),OR),"radial-gauge":f(f({},ue(t_,["type"])),OR)},"gauge options"),create:ybe},Bbe={type:"preset",name:"sparkline",options:hh({area:f(f({},B1),ue(Q$,F1)),bar:f(f({},B1),ue(vS,F1)),line:f(f({},B1),ue(_S,F1))},"sparkline options"),create:Nbe,processData:V8},zbe=["top","right","bottom","left"],jbe=(()=>{let t=class Gw extends ZD{constructor(e,n){super(e,n),this.paired=!0,this.lastUpdateClipRect=void 0,this.lastLayoutWidth=NaN,this.lastLayoutHeight=NaN}onAxisChange(e,n){super.onAxisChange(e,n),this.syncAxisChanges(e,n),this.ctx!=null&&this.ctx.zoomManager.updateAxes(e)}destroySeries(e){super.destroySeries(e),this.lastLayoutWidth=NaN,this.lastLayoutHeight=NaN}getChartType(){return"cartesian"}setRootClipRects(e){let{seriesRoot:n,annotationRoot:r}=this;n.setClipRect(e),r.setClipRect(e)}processData(){return L(this,null,function*(){yield Hs(Gw.prototype,this,"processData").call(this),this.syncStatus==="init"&&(this.syncStatus="domains-calculated"),this.ctx.updateService.dispatchProcessData({series:{shouldFlipXY:this.shouldFlipXY()}})})}processDomains(){return L(this,null,function*(){yield Hs(Gw.prototype,this,"processDomains").call(this);for(let e of this.axes){let n=yield this.getSyncedDomain(e);n!=null&&e.setDomains(n)}})}performLayout(e){let{seriesRoot:n,annotationRoot:r}=this,{clipSeries:a,seriesRect:o,visible:s}=this.updateAxes(e.layoutBox);this.seriesRoot.visible=s,this.seriesRect=o,this.animationRect=e.layoutBox;let{x:l,y:c}=o;if(e.width!==this.lastLayoutWidth||e.height!==this.lastLayoutHeight)for(let p of[n,r])p.translationX=Math.floor(l),p.translationY=Math.floor(c);else{let{translationX:p,translationY:g}=n;Nc(this.id,"seriesRect",this.ctx.animationManager,[n,r],{translationX:p,translationY:g},{translationX:Math.floor(l),translationY:Math.floor(c)},{phase:"update"})}this.lastLayoutWidth=e.width,this.lastLayoutHeight=e.height;let d=this.modulesManager.getModule("seriesArea"),u=o.clone().grow(d.getPadding()),h=d.clip||a?u:void 0,{lastUpdateClipRect:m}=this;this.lastUpdateClipRect=h,this.ctx.animationManager.isActive()&&m!=null?this.ctx.animationManager.animate({id:this.id,groupId:"clip-rect",phase:"update",from:m,to:u,onUpdate:p=>this.setRootClipRects(p),onComplete:()=>this.setRootClipRects(h)}):this.setRootClipRects(h),this.ctx.layoutManager.emitLayoutComplete(e,{axes:this.axes.map(p=>p.getLayoutState()),series:{visible:s,rect:o,paddedRect:u},clipSeries:a})}updateAxes(e){let{clipSeries:n,seriesRect:r,overflows:a}=this.resolveAxesLayout(e);for(let o of this.axes)o.update(),o.setCrossLinesVisible(!a),this.clipAxis(o,r,e);return{clipSeries:n,seriesRect:r,visible:!a}}resolveAxesLayout(e){let n,r,a=0,o=10;do if(r=n??this.getDefaultState(),n=this.updateAxesPass(new Map(r.axisAreaWidths),e.clone()),a++>o){z.warn("Max iterations reached. Unable to stabilize axes layout.");break}while(!this.isLayoutStable(n,r));return this.lastAreaWidths=n.axisAreaWidths,n}updateAxesPass(e,n){let r=new Map,a={},o=!1,s=!1;for(let x of zbe){let w=this.modulesManager.getModule("seriesArea").getPadding()[x],D=this.axes.findLast(k=>k.position===x);D?D.seriesAreaPadding=w:n.shrink(w,x)}let l=(e.get("left")??0)+(e.get("right")??0),c=(e.get("top")??0)+(e.get("bottom")??0),d=this.buildCrossLinePadding(e),u=d.left+d.right,h=d.top+d.bottom;n.width<=l+u||n.height<=c+h?o=!0:n.shrink(d);let{scene:m}=this.ctx,p=n.clone().shrink(Object.fromEntries(e));for(let x of this.axes){let{position:w="left",direction:D}=x,k=D==="y",E;this.sizeAxis(x,p,w),x.thickness==null?E=z1(k,m)*(x.maxThicknessRatio??1):E=x.thickness;let{primaryTickCount:A,bbox:N}=x.calculateLayout(x.nice?a[D]:void 0,{sizeLimit:E,padding:this.padding});a[D]??(a[D]=A),s||(s=x.dataDomain.clipped||x.visibleRange[0]>0||x.visibleRange[1]<1),x.thickness==null&&(E=Math.min(z1(k,N)??0,E)),r.set(x.id,Math.ceil(E))}let g=$p(this.axes,x=>x.position??"left"),y=new Map,v=new Map;for(let[x,w]of ur(g)){let D=z1(x!=="left"&&x!=="right",m)%m.pixelRatio,k=0;for(let E of w??[]){v.set(E.id,D);let A=r.get(E.id)??0;k=Math.max(k,D+A),E.layoutConstraints.stacked&&(D+=A+Gw.AxesPadding)}y.set(x,Math.ceil(k))}for(let[x,w]of ur(g))this.positionAxes({axes:w??[],position:x,axisWidths:r,axisOffsets:v,axisAreaWidths:y,axisBound:n,seriesRect:p});return{clipSeries:s,seriesRect:p,axisAreaWidths:y,overflows:o}}buildCrossLinePadding(e){let n={top:0,right:0,bottom:0,left:0};this.axes.forEach(r=>{let{position:a,label:o}=r;r.crossLines?.forEach(s=>{var l;s instanceof ja&&(s.position=a??"top",(l=s.label).parallel??(l.parallel=o.parallel)),s.calculatePadding?.(n)})});for(let[r,a=0]of ur(n))n[r]=Math.max(a-(e.get(r)??0),0);return n}clampToOutsideSeriesRect(e,n,r,a){let o=r==="x"?e.x:e.y,s=r==="x"?e.width:e.height;return a===1?Math.min(n,o+s):Math.max(n,o)}getSyncedDomain(e){return L(this,null,function*(){let n=this.modulesManager.getModule("sync");if(n?.enabled)return yield n.getSyncedDomain(e)})}syncAxisChanges(e,n){let r=this.modulesManager.getModule("sync");if(!r?.enabled)return;let a=new Set(n??[]);for(let o of e)a.delete(o);for(let o of a)r.removeAxis(o)}sizeAxis(e,n,r){let a=e instanceof ou,o=r==="left"||r==="right",{width:s,height:l}=n,c=o?l:s,d=0,u=c,{min:h,max:m}=this.ctx.zoomManager.getAxisZoom(e.id),{width:p,unit:g,align:y}=e.layoutConstraints;g==="px"?u=d+p:u=u*p/100,y==="end"&&(d=c-(u-d),u=c),o&&(a?[d,u]=[u,d]:[h,m]=[1-m,1-h]),e.range=[d,u],e.visibleRange=[h,m],e.gridLength=o?s:l}positionAxes(e){let{axes:n,axisBound:r,axisWidths:a,axisOffsets:o,axisAreaWidths:s,seriesRect:l,position:c}=e,d=s.get(c)??0,u="x",h="y",m=1;(c==="top"||c==="bottom")&&(u="y",h="x");let p=r[u];(c==="right"||c==="bottom")&&(m=-1,p+=u==="x"?r.width:r.height);for(let g of n){let y=s.get(h==="x"?"left":"top")??0,v=a.get(g.id)??0,x=o.get(g.id)??0;g.gridPadding=d-x-v,g.translation[h]=r[h]+y,g.translation[u]=this.clampToOutsideSeriesRect(l,p+m*(x+v),u,m)}}shouldFlipXY(){return this.series.every(e=>e instanceof om&&e.shouldFlipXY())}getDefaultState(){let e=new Map;if(this.lastAreaWidths)for(let{position:n="left"}of this.axes){let r=this.lastAreaWidths.get(n);r!=null&&e.set(n,r)}return{axisAreaWidths:e,clipSeries:!1,overflows:!1}}isLayoutStable(e,n){if(n.overflows!==e.overflows||n.clipSeries!==e.clipSeries)return!1;for(let r of e.axisAreaWidths.keys())if(!n.axisAreaWidths.has(r))return!1;for(let[r,a]of n.axisAreaWidths.entries()){let o=e.axisAreaWidths.get(r);if((a!=null||o!=null)&&a!==o)return!1}return!0}clipAxis(e,n,r){let a=Math.ceil(e.gridLine?.width??0),o=Math.ceil(e.line?.width??0),{width:s,height:l}=n;switch(s+=e.direction==="x"?a:o,l+=e.direction==="y"?a:o,e.clipGrid(n.x,n.y,s,l),e.position){case"left":case"right":e.clipTickLines(r.x,n.y-a,r.width+a,n.height+a*2);break;case"top":case"bottom":e.clipTickLines(n.x-a,r.y,n.width+a*2,r.height+a);break}}};return t.className="CartesianChart",t.type="cartesian",t.AxesPadding=15,t})(),Ube=jbe;function z1(t,i){return t?i?.width:i?.height}var MS={mode:ze(K("integrated","standalone")),container:ow,context:()=>!0,theme:Be,series:pa,annotations:Be,navigator:Be,initialState:{chartType:B,annotations:Be,legend:ji({visible:R,seriesId:B,itemId:B,legendItemName:B},"legend state array"),zoom:Be}},B8=S(f(f({},at),MS),{axes:_s(2),data:pa}),z8=S(f(f({},at),MS),{axes:_s(2),data:pa}),Hbe=S(f(f({},at),MS),{data:pa,topology:NU}),Gbe=S(f(f({},at),MS),{data:pa}),Wbe=new Set(["number","log","time"]),$be=t=>qt(t)&&!Wbe.has(t.type),Ybe={type:"chart",name:"cartesian",options:B8,detect:GW,create(t,i){return new Ube(t,i)},validate(t,i,e){let n=[];t?.series?.[0]?.type==="histogram"&&t?.axes?.some($be)&&(n.push(new uc("invalid","only continuous axis types when histogram series is used",t.axes,e,"axes")),t=ue(t,["axes"]));let r=mn(t,i,e);return r.invalid.push(...n),r}},j8=()=>{throw new Error("Enterprise module placeholder cannot be initialised")},Kbe={type:"chart",name:"standalone",placeholder:!0,options:{},detect:$W,create:j8},qbe={type:"chart",name:"topology",placeholder:!0,options:{},detect:WW,create:j8},Ff=class extends yO{constructor(){super(...arguments),this.shape="polygon",this.innerRadiusRatio=0,this.defaultTickMinSpacing=20}layoutCrossLines(){let t=this.label.getSideFlag(),i=this.hasDefinedDomain()||this.hasVisibleSeries(),{rotation:e,parallelFlipRotation:n,regularFlipRotation:r}=this.calculateRotations();this.crossLines.forEach(a=>{a.sideFlag=-t,a.direction=e===-Math.PI/2?"angle":"radius",a.parallelFlipRotation=n,a.regularFlipRotation=r,a.calculateLayout?.(i,this.reverse)})}updatePosition(){super.updatePosition();let t=Math.floor(this.translation.x),i=Math.floor(this.translation.y);this.tickLineGroup.translationX=t,this.tickLineGroup.translationY=i,this.tickLabelGroup.translationX=t,this.tickLabelGroup.translationY=i,this.crossLineRangeGroup.translationX=t,this.crossLineRangeGroup.translationY=i,this.crossLineLineGroup.translationX=t,this.crossLineLineGroup.translationY=i,this.crossLineLabelGroup.translationX=t,this.crossLineLabelGroup.translationY=i,this.tickLabelGroupSelection.each(nD())}computeLabelsBBox(t,i){return null}computeRange(){}getAxisLinePoints(){}};b([C],Ff.prototype,"shape",2);b([C],Ff.prototype,"innerRadiusRatio",2);var Zbe=(()=>{let t=class extends ZD{constructor(i,e){super(i,e),this.padding=new Wh(40),this.ctx.axisManager.axisGroup.zIndex=8}getChartType(){return"polar"}performLayout(i){return L(this,null,function*(){let{layoutBox:e}=i,n=e.clone().shrink(this.modulesManager.getModule("seriesArea").getPadding());this.seriesRect=n,this.animationRect=n,this.seriesRoot.translationX=n.x,this.seriesRoot.translationY=n.y,yield this.computeCircle(n),this.axes.forEach(r=>r.update()),this.ctx.layoutManager.emitLayoutComplete(i,{series:{visible:!0,rect:n,paddedRect:e}})})}updateAxes(i,e,n,r){let a=this.axes.find(c=>c.direction==="angle"),o=this.axes.find(c=>c.direction==="radius");if(!(a instanceof Ff)||!(o instanceof Ff))return;let s=a.scale,l=o.innerRadiusRatio;a.innerRadiusRatio=l,a.computeRange(),a.gridLength=r,o.gridAngles=s.ticks({nice:a.nice,interval:void 0,tickCount:void 0,minTickCount:0,maxTickCount:1/0})?.ticks?.map(c=>s.convert(c)),o.gridRange=a.range,o.range=[r,r*l],[a,o].forEach(c=>{c.translation.x=i.x+e,c.translation.y=i.y+n,c.calculateLayout()})}computeCircle(i){return L(this,null,function*(){let e=this.series.filter(Qbe),n=this.axes.filter(Xbe),r=(d,u,h)=>{this.updateAxes(i,d,u,h),e.forEach(p=>{p.centerX=d,p.centerY=u,p.radius=h});let m=e.filter(p=>p.type==="donut"||p.type==="pie");if(m.length>1){let p=m.map(g=>{let y=g.getInnerRadius();return{series:g,innerRadius:y}}).sort((g,y)=>g.innerRadius-y.innerRadius);p.at(-1).series.surroundingRadius=void 0;for(let g=0;g<p.length-1;g++)p[g].series.surroundingRadius=p[g+1].innerRadius}},a=i.width/2,o=i.height/2,s=Math.max(0,Math.min(i.width,i.height)/2),l=s;r(a,o,l);let c=(...u)=>L(this,[...u],function*({hideWhenNecessary:d=!1}={}){let h=[];for(let g of Ed(n,e)){let y=yield g.computeLabelsBBox({hideWhenNecessary:d},i);y&&h.push(y)}if(h.length===0){r(a,o,s);return}let m=we.merge(h),p=this.refineCircle(m,l,i);r(p.centerX,p.centerY,p.radius),l=p.radius});yield c(),yield c(),yield c(),yield c({hideWhenNecessary:!0}),yield c({hideWhenNecessary:!0});for(let d of Ed(n,e))yield d.computeLabelsBBox({hideWhenNecessary:!0},i);return{radius:l,centerX:a,centerY:o}})}refineCircle(i,e,n){let a=-e,o=-e,s=e,l=e,c=Math.max(0,a-i.x),d=Math.max(0,o-i.y),u=Math.max(0,i.x+i.width-s),h=Math.max(0,i.y+i.height-l);c=u=Math.max(c,u),d=h=Math.max(d,h);let m=n.width-c-u,p=n.height-d-h,g=Math.min(m,p)/2,y=.5*n.width/2,v=.5*n.height/2,x=Math.min(y,v);if(g<x){g=x;let k=c+u,E=d+h;if(2*g+E>n.height){let A=n.height-2*g;Math.min(d,h)*2>A?(d=A/2,h=A/2):d>h?d=A-h:h=A-d}if(2*g+k>n.width){let A=n.width-2*g;Math.min(c,u)*2>A?(c=A/2,u=A/2):c>u?c=A-u:u=A-c}}let w=c+2*g+u,D=d+2*g+h;return{centerX:(n.width-w)/2+c+g,centerY:(n.height-D)/2+d+g,radius:g}}};return t.className="PolarChart",t.type="polar",t})();function Qbe(t){return t instanceof IL}function Xbe(t){return t instanceof Ff}var Jbe={type:"chart",name:"polar",options:z8,detect:Jhe,create(t,i){return new Zbe(t,i)},validate(t,i,e){let n=[],r=t?.series?.[0]?.type;(r==="pie"||r==="donut")&&t?.axes&&(n.push(new aw([],t.axes,e,"axes")),t=ue(t,["axes"]));let a=mn(t,i,e);return a.invalid.push(...n),a}},eye=[Ybe,Tpe,Rpe,Ope,Lpe,Npe,Ppe,d8,f8,y8,_8,C8,D8],tye=[Jbe,ube,pbe],iye=[...eye,...tye,Kbe,qbe,Fbe,Vbe,Bbe],nye=1e3,AL=class Nd{constructor(i,e,n,r,a,o=nye){this.name=i,this.buildItem=e,this.releaseItem=n,this.destroyItem=r,this.maxPoolSize=a,this.cleanupTimeMs=o,this.freePool=[],this.busyPool=new Set}static getPool(i,e,n,r,a){return this.pools.has(i)||this.pools.set(i,new Nd(i,e,n,r,a)),this.pools.get(i)}isFull(){return this.freePool.length+this.busyPool.size>=this.maxPoolSize}hasFree(){return this.freePool.length>0}obtain(i){if(!this.hasFree()&&this.isFull())throw new Error("AG Charts - pool exhausted");let e=this.freePool.pop();return e==null?(e=this.buildItem(i),Nd.debug(()=>[`Pool[name=${this.name}]: Created instance (${this.freePool.length} / ${this.busyPool.size+1} / ${this.maxPoolSize})`,e])):Nd.debug(()=>[`Pool[name=${this.name}]: Re-used instance (${this.freePool.length} / ${this.busyPool.size+1} / ${this.maxPoolSize})`,e]),this.busyPool.add(e),{item:e,release:()=>this.release(e)}}obtainFree(){let i=this.freePool.pop();if(i==null)throw new Error("AG Charts - pool has no free instances");return Nd.debug(()=>[`Pool[name=${this.name}]: Re-used instance (${this.freePool.length} / ${this.busyPool.size+1} / ${this.maxPoolSize})`,i]),this.busyPool.add(i),{item:i,release:()=>this.release(i)}}release(i){if(!this.busyPool.has(i))throw new Error("AG Charts - cannot free item from pool which is not tracked as busy.");Nd.debug(()=>[`Pool[name=${this.name}]: Releasing instance (${this.freePool.length} / ${this.busyPool.size} / ${this.maxPoolSize})`,i]),this.releaseItem(i),this.busyPool.delete(i),this.freePool.push(i),Nd.debug(()=>[`Pool[name=${this.name}]: Returned instance to free pool (${this.freePool.length} / ${this.busyPool.size} / ${this.maxPoolSize})`,i]);let e=Date.now(),n=e+this.cleanupTimeMs*.5;this.cleanPoolTimer&&(this.cleanPoolDue??1/0)<n&&(clearTimeout(this.cleanPoolTimer),this.cleanPoolTimer=void 0),this.cleanPoolTimer||(this.cleanPoolDue=e+this.cleanupTimeMs,this.cleanPoolTimer=setTimeout(this.cleanPool.bind(this),this.cleanupTimeMs))}cleanPool(){let i=this.freePool.splice(0);for(let e of i)this.destroyItem(e);Nd.debug(()=>[`Pool[name=${this.name}]: Cleaned pool of ${i.length} items (${this.freePool.length} / ${this.busyPool.size} / ${this.maxPoolSize})`])}destroy(){this.cleanPool();for(let i of this.busyPool.values())this.destroyItem(i);this.busyPool.clear()}};AL.pools=new Map;AL.debug=yt.create(!0,"pool");var rye=AL;dr.registerMany(iye,kf);var Cc=yt.create(!0,"opts"),jd=(()=>{let t=class{static licenseCheck(i){this.licenseChecked||(this.licenseManager=Yd.licenseManager?.(i),this.licenseManager?.validateLicense(),this.licenseChecked=!0)}static getLicenseDetails(i){return Yd.licenseManager?.({}).getLicenseDetails(i)}static getInstance(i){return L5.getInstance(i)}static create(i,e){let n=yt.check("scene:stats","scene:stats:verbose")?performance.now():void 0;return Cc.group("AgCharts.create()",()=>{i=yt.inDevelopmentMode(()=>wc(Zi(i)))??i,this.licenseCheck(i);let r=L5.createOrUpdate({userOptions:i,licenseManager:this.licenseManager,optionsMetadata:e,apiStartTime:n});return this.licenseManager?.isDisplayWatermark()&&this.licenseManager&&Yd.injectWatermark?.(r.chart.ctx.domManager,this.licenseManager.getWatermarkMessage()),r})}static createFinancialChart(i){return Cc.group("AgCharts.createFinancialChart()",()=>this.create(i,{presetType:"price-volume"}))}static createGauge(i){return Cc.group("AgCharts.createGauge()",()=>this.create(i,{presetType:"gauge-preset"}))}static __createSparkline(i){return Cc.group("AgCharts.__createSparkline()",()=>{let r=i,{pool:e}=r,n=ci(r,["pool"]);return this.create(n,{presetType:"sparkline",pool:e??!0,domMode:"minimal",withDragInterpretation:!1})})}};return t.licenseChecked=!1,t})(),Il=class Pd{static getInstance(i){let e=ZD.getInstance(i);return e?s5.chartInstances.get(e):void 0}static initialiseModules(){Pd.initialised||(L8(),fbe(),Pd.initialised=!0)}static createOrUpdate(i){let{proxy:e}=i,{userOptions:n,licenseManager:r,processedOverrides:a=e?.chart?.chartOptions.processedOverrides??{},specialOverrides:o=e?.chart?.chartOptions.specialOverrides??{},optionsMetadata:s=e?.chart?.chartOptions.optionMetadata??{},deltaOptions:l,data:c,stripSymbols:d=!1,apiStartTime:u}=i,h=Yd.styles!=null?[["ag-charts-enterprise",Yd.styles]]:[];Pd.initialiseModules(),Cc(()=>[">>> AgCharts.createOrUpdate() user options",Zi(n)]);let{presetType:m}=s,p=n;jd.optionsMutationFn&&p&&(p=jd.optionsMutationFn(Zi(p,Jy.OPTIONS_CLONE_OPTS_FAST),m),Cc(()=>[">>> AgCharts.createOrUpdate() MUTATED user options",Zi(p)]));let g=this.getPool(s),y=!1,v,x=e?.chart;x==null&&g?.hasFree()&&(v=g.obtainFree(),x=v.item);let F=p??{},{document:w,window:D,styleContainer:k}=F,E=ci(F,["document","window","styleContainer"]),A=x?.getChartOptions(),N=new Jy(A,E,a,S(f({},o),{document:w,window:D,styleContainer:k}),s,l,d,u);return(x==null||dr.detectChartDefinition(N.processedOptions)!==dr.detectChartDefinition(x.chartOptions.processedOptions))&&(v?.release(),v=this.getPool(N.optionMetadata)?.obtain(N),v?x=v.item:(y=!0,x=Pd.createChartInstance(N,x))),h.forEach(([P,U])=>{x.ctx.domManager.addStyles(P,U)}),x.ctx.fontManager.updateFonts(N.googleFonts),c!=null&&x.ctx.dataService.restoreData(c),e==null?(e=new s5(x,Pd.callbackApi,r),e.releaseChart=v?.release):(v||y)&&(e.releaseChart?.(),e.chart=x,e.releaseChart=v?.release),Cc.check()&&typeof window<"u"&&(window.agChartInstances??(window.agChartInstances={}),window.agChartInstances[x.id]=x),x.queuedUserOptions.push(N.userOptions),x.queuedChartOptions.push(N),x.requestFactoryUpdate(P=>{Cc.group(">>>> Chart.applyOptions()",()=>{P.applyOptions(N);let U=P.queuedUserOptions.indexOf(N.userOptions)+1;P.queuedUserOptions.splice(0,U),P.queuedChartOptions.splice(0,U)})}),e}static markRemovedProperties(i,e,n=!1){if(typeof i!="object")return n;for(let r of Object.keys(i))typeof i[r]>"u"&&(Object.assign(i,{[r]:Symbol("UNSET")}),n||(n=!0));return n}static updateUserDelta(i,e,n){e=Zi(e,Jy.OPTIONS_CLONE_OPTS_FAST);let r=Hd(e,Pd.markRemovedProperties,new Set(["data"]),void 0,void 0,!1);Cc(()=>[">>> AgCharts.updateUserDelta() user delta",Zi(e)]),Pd.createOrUpdate({proxy:i,deltaOptions:e,stripSymbols:r,apiStartTime:n})}static createChartInstance(i,e){let n=e?.destroy({keepTransferableResources:!0});return dr.detectChartDefinition(i.processedOptions).create(i,n)}static getPool(i){if(i.pool===!0)return rye.getPool(i.presetType??"default",this.createChartInstance,this.detachAndClear,this.destroy,1/0)}};Il.caretaker=new CG(kf);Il.initialised=!1;Il.callbackApi={caretaker:Il.caretaker,create(t,i,e,n,r){return Il.createOrUpdate({userOptions:t,processedOverrides:i,specialOverrides:e,optionsMetadata:n,data:r})},update(t,i,e,n){return Il.createOrUpdate({userOptions:t,proxy:i,specialOverrides:e,apiStartTime:n})},updateUserDelta(t,i,e){return Il.updateUserDelta(t,i,e)}};Il.detachAndClear=t=>t.detachAndClear();Il.destroy=t=>t.destroy();var L5=Il,U8={};Nl(U8,{Arc:()=>Hc,BBox:()=>we,Caption:()=>on,CategoryScale:()=>Uf,Group:()=>mt,Line:()=>Vo,LinearScale:()=>Vh,Marker:()=>On,Path:()=>va,RadialColumnShape:()=>zs,Rect:()=>ir,Scene:()=>aO,Sector:()=>Xr,Shape:()=>Sn,TranslatableGroup:()=>Kr,getRadialColumnWidth:()=>H8,toRadians:()=>Tr});var Hc=(()=>{let t=class extends va{constructor(){super(...arguments),this.centerX=0,this.centerY=0,this.radius=10,this.startAngle=0,this.endAngle=Math.PI*2,this.counterClockwise=!1,this.type=0}get fullPie(){return ma(Dn(this.startAngle),Dn(this.endAngle))}updatePath(){let i=this.path;i.clear(),i.arc(this.centerX,this.centerY,this.radius,this.startAngle,this.endAngle,this.counterClockwise),this.type===1?i.closePath():this.type===2&&!this.fullPie&&(i.lineTo(this.centerX,this.centerY),i.closePath())}computeBBox(){return new we(this.centerX-this.radius,this.centerY-this.radius,this.radius*2,this.radius*2)}isPointInPath(i,e){let n=this.getBBox();return this.type!==0&&n.containsPoint(i,e)&&this.path.isPointInPath(i,e)}};return t.className="Arc",t})();b([te()],Hc.prototype,"centerX",2);b([te()],Hc.prototype,"centerY",2);b([te()],Hc.prototype,"radius",2);b([te()],Hc.prototype,"startAngle",2);b([te()],Hc.prototype,"endAngle",2);b([te()],Hc.prototype,"counterClockwise",2);b([te()],Hc.prototype,"type",2);function j1(t,i,e){let n=Math.sqrt(t**2+i**2),a=Math.atan2(i,t)+e;return{x:Math.cos(a)*n,y:Math.sin(a)*n}}var zs=(()=>{let t=class extends va{constructor(){super(...arguments),this.isBeveled=!0,this.columnWidth=0,this.startAngle=0,this.endAngle=0,this.outerRadius=0,this.innerRadius=0,this.axisInnerRadius=0,this.axisOuterRadius=0,this.isRadiusAxisReversed=!1}set cornerRadius(i){}computeBBox(){let{innerRadius:i,outerRadius:e,columnWidth:n}=this,r=this.getRotation(),a=-n/2,o=n/2,s=-e,l=-i,c=1/0,d=1/0,u=-1/0,h=-1/0;for(let m=0;m<4;m+=1){let{x:p,y:g}=j1(m%2===0?a:o,m<2?s:l,r);c=Math.min(p,c),d=Math.min(g,d),u=Math.max(p,u),h=Math.max(g,h)}return new we(c,d,u-c,h-d)}getRotation(){let{startAngle:i,endAngle:e}=this,n=DD(i,e);return Dn(i+n/2+Math.PI/2)}updatePath(){let{isBeveled:i}=this;i?this.updateBeveledPath():this.updateRectangularPath(),this.checkPathDirty()}updateRectangularPath(){let{columnWidth:i,innerRadius:e,outerRadius:n,path:r}=this,a=-i/2,o=i/2,s=-n,l=-e,c=this.getRotation(),d=[[a,l],[a,s],[o,s],[o,l]].map(([u,h])=>j1(u,h,c));r.clear(!0),r.moveTo(d[0].x,d[0].y),r.lineTo(d[1].x,d[1].y),r.lineTo(d[2].x,d[2].y),r.lineTo(d[3].x,d[3].y),r.closePath()}updateBeveledPath(){let{columnWidth:i,path:e,outerRadius:n,innerRadius:r,axisInnerRadius:a,axisOuterRadius:o,isRadiusAxisReversed:s}=this,l=ma(r,a),c=Math.asin(i/2/r),d=this.getRotation(),u=(F,P)=>j1(F,P,d),h=(F,P)=>Math.sqrt(F**2+P**2),m=(F,P)=>P>F?0:Math.sqrt(F**2-P**2),p=(F,P,U)=>U?F<P:F>P,g=l&&!isNaN(c)&&c<Math.PI/6,y=-i/2,v=i/2,x=-n,w=-r*(g?Math.cos(c):1),D=p(o,h(r,i/2),!s);if(D){let F=m(o,r);y=-F,v=F}e.clear(!0);let k=u(y,w);e.moveTo(k.x,k.y);let E=ma(r,n),A=p(o,h(n,i/2),!s);if(E&&g)e.arc(0,0,r,Dn(-c-Math.PI/2)+d,Dn(c-Math.PI/2)+d,!1);else if(A){let F=-m(o,i/2),P=m(o,n);if(!D){let U=u(y,F);e.lineTo(U.x,U.y)}if(e.arc(0,0,o,Math.atan2(F,y)+d,Math.atan2(x,-P)+d,!1),!ma(P,0)){let U=u(P,x);e.lineTo(U.x,U.y)}e.arc(0,0,o,Math.atan2(x,P)+d,Math.atan2(F,v)+d,!1)}else{let F=u(y,x),P=u(v,x);e.lineTo(F.x,F.y),e.lineTo(P.x,P.y)}let N=u(v,w);if(e.lineTo(N.x,N.y),g)e.arc(0,0,r,Dn(c-Math.PI/2)+d,Dn(-c-Math.PI/2)+d,!0);else{let F=u(y,w);e.lineTo(F.x,F.y)}e.closePath()}};return t.className="RadialColumnShape",t})();b([te()],zs.prototype,"isBeveled",2);b([te()],zs.prototype,"columnWidth",2);b([te()],zs.prototype,"startAngle",2);b([te()],zs.prototype,"endAngle",2);b([te()],zs.prototype,"outerRadius",2);b([te()],zs.prototype,"innerRadius",2);b([te()],zs.prototype,"axisInnerRadius",2);b([te()],zs.prototype,"axisOuterRadius",2);b([te()],zs.prototype,"isRadiusAxisReversed",2);function H8(t,i,e,n,r){let a=DD(t,i),o=a*(1-n)/2;if(t+=o,i-=o,a<.001)return 2*e*r;if(a>=2*Math.PI){let m=t+a/2;t=m-Math.PI,i=m+Math.PI}let s=e*Math.cos(t),l=e*Math.sin(t),c=e*Math.cos(i),d=e*Math.sin(i),u=Math.floor(Math.sqrt((s-c)**2+(l-d)**2)),h=2*e*r;return Math.max(1,Math.min(h,u))}var G8={};Nl(G8,{ChartTheme:()=>Ns,DEFAULT_ANNOTATION_HANDLE_FILL:()=>Gv,DEFAULT_ANNOTATION_STATISTICS_COLOR:()=>Yv,DEFAULT_ANNOTATION_STATISTICS_DIVIDER_STROKE:()=>Kv,DEFAULT_ANNOTATION_STATISTICS_DOWN_FILL:()=>pv,DEFAULT_ANNOTATION_STATISTICS_DOWN_STROKE:()=>fv,DEFAULT_ANNOTATION_STATISTICS_FILL:()=>Wv,DEFAULT_ANNOTATION_STATISTICS_STROKE:()=>$v,DEFAULT_CAPTION_ALIGNMENT:()=>zd,DEFAULT_CAPTION_LAYOUT_STYLE:()=>Bd,DEFAULT_FIBONACCI_STROKES:()=>mv,DEFAULT_FINANCIAL_CHARTS_ANNOTATION_BACKGROUND_FILL:()=>Rn,DEFAULT_FINANCIAL_CHARTS_ANNOTATION_COLOR:()=>rn,DEFAULT_GRIDLINE_ENABLED:()=>Es,DEFAULT_POLAR_SERIES_STROKE:()=>nS,DEFAULT_SEPARATION_LINES_COLOUR:()=>Uv,DEFAULT_SHADOW_COLOUR:()=>iu,DEFAULT_SPARKLINE_CROSSHAIR_STROKE:()=>rS,DEFAULT_TEXTBOX_COLOR:()=>Qv,DEFAULT_TEXTBOX_FILL:()=>qv,DEFAULT_TEXTBOX_STROKE:()=>Zv,DEFAULT_TEXT_ANNOTATION_COLOR:()=>Hv,DEFAULT_TOOLBAR_POSITION:()=>Xv,IS_DARK_THEME:()=>wf,PALETTE_ALT_DOWN_FILL:()=>EO,PALETTE_ALT_DOWN_STROKE:()=>kO,PALETTE_ALT_NEUTRAL_FILL:()=>TO,PALETTE_ALT_NEUTRAL_STROKE:()=>RO,PALETTE_ALT_UP_FILL:()=>AO,PALETTE_ALT_UP_STROKE:()=>IO,PALETTE_DOWN_FILL:()=>eS,PALETTE_DOWN_STROKE:()=>XD,PALETTE_NEUTRAL_FILL:()=>iS,PALETTE_NEUTRAL_STROKE:()=>tS,PALETTE_UP_FILL:()=>JD,PALETTE_UP_STROKE:()=>QD,getChartTheme:()=>uD,resolveOperation:()=>oye,themeNames:()=>aye,themeSymbols:()=>MO,themes:()=>KO});var aye=Object.keys(KO);function oye(t){let i=Ns.getDefaultPublicParameters(),e=Ns.getDefaultColors();return new z6({line:{operation:t}},{series:[{type:"line"}]},i,e).resolve().operation}var W8={};Nl(W8,{Color:()=>wi,interpolateColor:()=>BG});var sye={};Nl(sye,{AGGREGATION_INDEX_X_MAX:()=>ao,AGGREGATION_INDEX_X_MIN:()=>ba,AGGREGATION_INDEX_Y_MAX:()=>Po,AGGREGATION_INDEX_Y_MIN:()=>No,AGGREGATION_SPAN:()=>El,AbstractBarSeries:()=>u8,AbstractBarSeriesProperties:()=>bL,ActionOnSet:()=>Zr,AnchoredPopover:()=>X8,Animation:()=>HG,AnimationManager:()=>$G,Arc:()=>Hc,Axis:()=>yO,AxisGroupZIndexMap:()=>IW,AxisInterval:()=>Yh,AxisLabel:()=>Ui,AxisTick:()=>Kh,AxisTickGenerator:()=>jW,BASE_FONT_SIZE:()=>xc,BBox:()=>we,Background:()=>Jf,BackgroundModule:()=>j6,BandScale:()=>Lc,BarSeries:()=>_L,BarSeriesModule:()=>p8,BaseModuleInstance:()=>_D,BaseProperties:()=>nt,BaseToolbar:()=>NL,Border:()=>nm,ButtonWidget:()=>Av,CachedTextMeasurer:()=>pG,CachedTextMeasurerPool:()=>tu,CallbackCache:()=>lG,Caption:()=>on,CartesianAxis:()=>Bv,CartesianSeries:()=>om,CartesianSeriesNodeEvent:()=>iL,CartesianSeriesProperties:()=>du,CategoryAxis:()=>Yf,CategoryScale:()=>Uf,ChangeDetectableProperties:()=>eL,Chart:()=>ZD,ChartAxisDirection:()=>QR,ChartOptions:()=>Jy,ChartUpdateType:()=>Zy,CollapseMode:()=>J6,Color:()=>wi,ColorScale:()=>Bf,ConicGradient:()=>Q5,ContextMenuBuiltins:()=>YG,ContextMenuRegistry:()=>KG,ContinuousScale:()=>Di,DEFAULT_CARTESIAN_DIRECTION_KEYS:()=>ng,DEFAULT_CARTESIAN_DIRECTION_NAMES:()=>rg,DEFAULT_POLAR_DIRECTION_KEYS:()=>T8,DEFAULT_POLAR_DIRECTION_NAMES:()=>R8,DEFAULT_TOOLTIP_CLASS:()=>mr,DEFAULT_TOOLTIP_DARK_CLASS:()=>t$,DIRECTION_SWAP_AXES:()=>c$,DOMManager:()=>AG,DataController:()=>uW,DataModel:()=>dW,DataModelSeries:()=>tL,DataService:()=>LD,Debug:()=>yt,Deprecated:()=>lye,DeprecatedAndRenamedTo:()=>cye,DiscreteTimeAxis:()=>G$,DiscreteTimeScale:()=>Rs,DragInterpreter:()=>XG,DraggablePopover:()=>J8,DropShadow:()=>Vl,ExtendedPath2D:()=>Mf,FILL_GRADIENT_CONIC_DEFAULTS:()=>Ume,FILL_GRADIENT_LINEAR_DEFAULTS:()=>Gf,FILL_GRADIENT_LINEAR_HIERARCHY_DEFAULTS:()=>Vme,FILL_GRADIENT_LINEAR_SHADED_DEFAULTS:()=>Bme,FILL_GRADIENT_RADIAL_DEFAULTS:()=>oS,FILL_GRADIENT_RADIAL_REVERSED_DEFAULTS:()=>Jv,FILL_GRADIENT_RADIAL_REVERSED_SERIES_DEFAULTS:()=>jme,FILL_GRADIENT_RADIAL_SERIES_DEFAULTS:()=>zme,FILL_IMAGE_DEFAULTS:()=>Qh,FILL_PATTERN_DEFAULTS:()=>Rc,FILL_PATTERN_HIERARCHY_DEFAULTS:()=>Hme,FONT_SIZE:()=>ZR,FONT_SIZE_RATIO:()=>so,FillGradientDefaults:()=>Go,FillImageDefaults:()=>Ua,FillPatternDefaults:()=>Wi,FloatingToolbar:()=>Wye,FormatManager:()=>Rf,Gradient:()=>MD,Group:()=>mt,GroupedCategoryAxis:()=>l_,HdpiCanvas:()=>rO,HierarchyNode:()=>kye,HierarchySeries:()=>Aye,HierarchySeriesProperties:()=>js,HighlightManager:()=>qG,HighlightProperties:()=>Vc,HighlightState:()=>YW,HighlightStyle:()=>zv,Image:()=>sg,InteractionManager:()=>WG,InteractionState:()=>GG,InterpolationProperties:()=>ag,Invalidating:()=>Sv,LABEL_BOXING_DEFAULTS:()=>Bo,LARGEST_KEY_INTERVAL:()=>O$,LEGEND_CONTAINER_THEME:()=>h$,Label:()=>sn,LayoutElement:()=>dO,LayoutManager:()=>nW,LegendMarkerLabel:()=>Bs,Line:()=>Vo,LineSeries:()=>wL,LineSeriesModule:()=>x8,LinearGradient:()=>X5,LinearScale:()=>Vh,LogScale:()=>jO,LonLatBBox:()=>Eye,Marker:()=>On,Menu:()=>Uye,MenuItemWidget:()=>OL,MenuWidget:()=>Z8,MercatorScale:()=>Tye,ModuleRegistry:()=>dr,Motion:()=>eR,NODE_UPDATE_STATE_TO_PHASE_MAPPING:()=>Ts,NativeWidget:()=>Ef,NewAreaSeriesModule:()=>d8,NewBarSeriesModule:()=>f8,NewBubbleSeriesModule:()=>y8,NewHistogramSeriesModule:()=>_8,NewLineSeriesModule:()=>C8,NewScatterSeriesModule:()=>D8,NiceMode:()=>CW,Node:()=>kc,NumberAxis:()=>ou,ObserveChanges:()=>eu,OrdinalTimeScale:()=>cf,PHASE_METADATA:()=>ov,PHASE_ORDER:()=>lf,PREV_NEXT_KEYS:()=>_f,Padding:()=>Wh,ParallelStateMachine:()=>ghe,Path:()=>va,PointerEvents:()=>K5,PolarAxis:()=>Ff,PolarSeries:()=>IL,PolarZIndexMap:()=>E8,Popover:()=>LL,PropertiesArray:()=>Mv,Property:()=>C,ProxyInteractionService:()=>OG,ProxyOnWrite:()=>Pce,ProxyProperty:()=>tr,ProxyPropertyOnWrite:()=>bn,QUICK_TRANSITION:()=>Qw,QuadtreeNearest:()=>W6,RENDER_TO_OFFSCREEN_CANVAS_THRESHOLD:()=>mD,RadialColumnShape:()=>zs,Range:()=>Pc,Rect:()=>ir,RepeatType:()=>UG,Rotatable:()=>zf,RotatableGroup:()=>Ace,RotatableText:()=>gG,SAFE_FILLS_OPERATION:()=>OO,SAFE_FILL_OPERATION:()=>Pme,SAFE_RANGE2_OPERATION:()=>Fme,SAFE_STROKE_FILL_OPERATION:()=>aS,SKIP_JS_BUILTINS:()=>BR,SMALLEST_KEY_INTERVAL:()=>R$,SORT_DOMAIN_GROUPS:()=>L$,Scalable:()=>WR,ScalableGroup:()=>kce,ScaleAlignment:()=>Z5,Scene:()=>aO,SceneArrayChangeDetection:()=>jR,SceneChangeDetection:()=>te,SceneObjectChangeDetection:()=>uo,SceneRefChangeDetection:()=>W5,Sector:()=>Xr,SectorBox:()=>S8,Selection:()=>qr,Series:()=>qD,SeriesContentZIndexMap:()=>ZW,SeriesGroupingChangedEvent:()=>rD,SeriesItemHighlightStyle:()=>Fc,SeriesMarker:()=>pr,SeriesNodeEvent:()=>KD,SeriesNodePickMode:()=>XW,SeriesProperties:()=>Wo,SeriesTooltip:()=>Uc,SeriesZIndexMap:()=>qW,Shape:()=>Sn,SimpleTextMeasurer:()=>qR,SliderWidget:()=>nO,StateMachine:()=>Rv,StateMachineProperty:()=>phe,StopProperties:()=>HR,SvgPath:()=>q8,TRIPLE_EQ:()=>Vf,Text:()=>oo,TextUtils:()=>Pi,TextWrapper:()=>Iv,ThemeConstants:()=>bG,ThemeSymbols:()=>MO,TimeAxisParentLevel:()=>qf,TimeScale:()=>vf,Toolbar:()=>Hye,ToolbarButtonProperties:()=>u_,ToolbarButtonWidget:()=>eY,ToolbarWidget:()=>OD,Tooltip:()=>$o,TooltipManager:()=>Xw,TooltipPosition:()=>Zh,Transformable:()=>an,TransformableGroup:()=>of,TransformableText:()=>If,Translatable:()=>jf,TranslatableGroup:()=>Kr,TranslatableSvgPath:()=>Bye,UnitTimeScale:()=>Fd,UpdateService:()=>rW,Vec2:()=>yf,Vec4:()=>lv,WIDGET_HTML_EVENTS:()=>YR,Widget:()=>Pl,WidgetEventUtil:()=>Dc,ZIndexMap:()=>LG,ZoomManager:()=>iW,accumulateGroup:()=>N$,accumulateStack:()=>P$,accumulatedValue:()=>w$,accumulativeValueProperty:()=>vR,addEscapeEventListener:()=>AD,addHitTestersToQuadtree:()=>gL,addMouseCloseListener:()=>JR,addOverrideFocusVisibleEventListener:()=>tO,addTouchCloseListener:()=>eO,adjustLabelPlacement:()=>H6,aggregationDomain:()=>xv,aggregationIndexForXRatio:()=>cL,aggregationRangeFittingPoints:()=>sL,aggregationXRatioForDatumIndex:()=>lL,aggregationXRatioForXValue:()=>Oc,angleBetween:()=>DD,angleCategoryAxisOptionsDefs:()=>$$,angleNumberAxisOptionsDefs:()=>W$,angularPadding:()=>Z1,animationValidation:()=>o_,annotationCalloutStylesDefs:()=>c6,annotationChannelStyleDefs:()=>$O,annotationChannelTextDefs:()=>a6,annotationCommentStylesDefs:()=>d6,annotationCrossLineStyleDefs:()=>xR,annotationDisjointChannelStyleDefs:()=>s6,annotationFibonacciStylesDefs:()=>CR,annotationLineStyleDefs:()=>dD,annotationLineTextDefs:()=>xS,annotationMeasurerStylesDefs:()=>Fw,annotationNoteStylesDefs:()=>u6,annotationOptionsDef:()=>Xf,annotationParallelChannelStyleDefs:()=>l6,annotationQuickMeasurerStylesDefs:()=>h6,annotationShapeStylesDefs:()=>wR,annotationTextStylesDef:()=>c_,applyShapeFillBBox:()=>QW,applyShapeStyle:()=>Sc,areScalingEqual:()=>Bh,area:()=>yR,autoSizedLabelOptionsDefs:()=>Qd,bezier2DDistance:()=>nG,bezier2DExtrema:()=>iG,boxPlotHighlightStyleOptionsDef:()=>DR,boxPlotSeriesThemeableOptionsDef:()=>m6,boxPlotStyleOptionsDef:()=>YO,buildDateFormatter:()=>Uh,buildResetPathFn:()=>pL,calculateDataDiff:()=>m8,calculateLabelTranslation:()=>Lye,calculatePlacement:()=>JW,callWithContext:()=>Ls,candlestickSeriesThemeableOptionsDef:()=>p6,cartesianAxisBandHighlightOptions:()=>a_,cartesianAxisCrosshairOptions:()=>ru,cartesianAxisLabelOptionsDefs:()=>n_,cartesianAxisOptionsDefs:()=>jc,cartesianChartOptionsDefs:()=>B8,cartesianCrossLineOptionsDefs:()=>_c,cartesianNumericAxisLabel:()=>PO,cartesianTimeAxisLabel:()=>r_,cartesianTimeAxisParentLevel:()=>mS,checkCrisp:()=>h8,chordSeriesThemeableOptionsDef:()=>f6,clampArray:()=>sv,clippedRoundRect:()=>Tw,collapsedStartingBarPosition:()=>yD,commonAxisIntervalOptionsDefs:()=>FO,commonAxisLabelOptionsDefs:()=>zc,commonAxisOptionsDefs:()=>Xh,commonChartOptionsDefs:()=>at,commonCrossLineLabelOptionsDefs:()=>Gh,commonCrossLineOptionsDefs:()=>kl,commonSeriesOptionsDefs:()=>Vs,commonSeriesThemeableOptionsDefs:()=>$t,compactAggregationIndices:()=>uL,compareDates:()=>xO,computeBarFocusBounds:()=>vL,computeMarkerFocusBounds:()=>DS,coneFunnelSeriesThemeableOptionsDef:()=>g6,continuousAxisOptions:()=>$f,countExpandingSearch:()=>QG,createAggregationIndices:()=>dL,createButton:()=>Nye,createCheckbox:()=>Pye,createDatumId:()=>Mc,createDeprecationWarning:()=>EL,createIcon:()=>K8,createIdsGenerator:()=>DO,createSelect:()=>Fye,createTextArea:()=>Vye,dateToNumber:()=>lo,dateTruncationForDomain:()=>_O,datesSortOrder:()=>CO,datumKeys:()=>Jw,datumStylerProperties:()=>Gd,deconstructSelectionsOrNodes:()=>ND,deepClone:()=>Zi,deepFreeze:()=>wc,diff:()=>s_,discreteTimeAxisIntervalOptionsDefs:()=>VO,drawCorner:()=>jy,drawMarkerUnitPolygon:()=>Hy,durationDay:()=>Hh,durationHour:()=>Fh,durationMinute:()=>Vd,durationMonth:()=>pO,durationSecond:()=>xf,durationWeek:()=>gW,durationYear:()=>cv,easing:()=>eR,enterpriseModule:()=>Yd,errorBarOptionsDefs:()=>lS,errorBarThemeableOptionsDefs:()=>e_,estimateTickCount:()=>PW,evaluateBezier:()=>Sf,expandLegendPosition:()=>Bw,extent:()=>au,extractDecoratedProperties:()=>j5,fillsOptionsDef:()=>gv,findMinMax:()=>er,findQuadtreeMatch:()=>bD,findRangeExtent:()=>Of,fixNumericExtent:()=>co,focusCursorAtEnd:()=>Tce,formatNumber:()=>RG,formatObjectValidator:()=>g$,formatPercent:()=>TG,formatValue:()=>Tf,fromToMotion:()=>Tn,funnelSeriesThemeableOptionsDef:()=>b6,getAngleRatioRadians:()=>q5,getColorStops:()=>tG,getCrossLineValue:()=>_W,getDateTicksForInterval:()=>wO,getDatumRefPoint:()=>sO,getElementBBox:()=>cG,getIconClassNames:()=>ID,getLabelStyles:()=>Al,getLastFocus:()=>RD,getMissCount:()=>lW,getPath:()=>VR,getPathComponents:()=>cW,getRadialColumnWidth:()=>H8,getSequentialColors:()=>ho,getShapeFill:()=>Cf,getShapeStyle:()=>Ol,groupAccumulativeValueProperty:()=>$d,groupAverage:()=>C$,groupCount:()=>bR,groupStackValueProperty:()=>T$,groupSum:()=>x$,hasNoModifiers:()=>kv,heatmapSeriesThemeableOptionsDef:()=>y6,initMenuKeyNav:()=>SG,initRovingTabIndex:()=>DG,interpolatePoints:()=>pD,interpolationOptionsDefs:()=>cS,intervalCeil:()=>bW,intervalEpoch:()=>dv,intervalExtent:()=>fO,intervalFloor:()=>Lo,intervalHierarchy:()=>uv,intervalMilliseconds:()=>ya,intervalNext:()=>vW,intervalPrevious:()=>yW,intervalRange:()=>jo,intervalRangeCount:()=>gO,intervalRangeStartIndex:()=>FD,intervalStep:()=>Zd,intervalUnit:()=>Rl,isAgStandaloneChartOptions:()=>$W,isAgTopologyChartOptions:()=>WW,isBetweenAngles:()=>Rh,isButtonClickEvent:()=>TD,isChartAxisDirection:()=>ade,isContinuous:()=>VD,isDecoratedObject:()=>wD,isDenseInterval:()=>Pf,isGradientFill:()=>Os,isGradientOrPatternFill:()=>Sce,isImageFill:()=>jh,isInputPending:()=>dG,isObjectWithProperty:()=>G5,isObjectWithStringProperty:()=>Jle,isPatternFill:()=>qd,isProperties:()=>Nh,isScaleValid:()=>vv,jsonApply:()=>qy,jsonDiff:()=>Tc,jsonPropertyCompare:()=>uG,jsonWalk:()=>Hd,keyProperty:()=>Wd,legendSymbolSvg:()=>e$,lineDistanceSquared:()=>Kw,linearGaugeSeriesOptionsDef:()=>Xd,linearGaugeSeriesThemeableOptionsDef:()=>sD,linearGaugeTargetOptionsDef:()=>dS,listDecoratedProperties:()=>Ud,lowestGranularityForInterval:()=>Fv,lowestGranularityUnitForTicks:()=>vO,lowestGranularityUnitForValue:()=>jD,makeAccessibleClickListener:()=>mde,makeSeriesTooltip:()=>am,mapLineBackgroundSeriesThemeableOptionsDef:()=>x6,mapLineSeriesThemeableOptionsDef:()=>_6,mapMarkerSeriesThemeableOptionsDef:()=>C6,mapShapeBackgroundSeriesThemeableOptionsDef:()=>D6,mapShapeSeriesThemeableOptionsDef:()=>w6,mapValues:()=>H5,markerFadeInAnimation:()=>Cv,markerOptionsDefs:()=>Bc,markerScaleInAnimation:()=>l8,markerSwipeScaleInAnimation:()=>hL,memo:()=>rv,merge:()=>iv,mergeArrayDefaults:()=>U5,mergeDefaults:()=>Jt,midpointStartingBarPosition:()=>Uge,minimumTimeAxisDatumGranularity:()=>U$,moduleRegistry:()=>Tl,motion:()=>Yye,multiSeriesHighlightStyle:()=>nu,nearestSquared:()=>CD,nearestSquaredInContainer:()=>qle,nextPowerOf2:()=>fue,nightingaleSeriesThemeableOptionsDef:()=>S6,normaliseGroupTo:()=>gS,normalisePropertyTo:()=>Pw,normalisedExtentWithMetadata:()=>BO,normalizeAngle180:()=>Yw,normalizeAngle360:()=>Dn,normalizeAngle360FromDegrees:()=>Ac,normalizeAngle360Inclusive:()=>oce,normalizeContinuousDomains:()=>lO,numberFormatValidator:()=>Fs,objectsEqual:()=>Ln,objectsEqualWith:()=>FR,ohlcSeriesThemeableOptionsDef:()=>v6,ordinalTimeAxisOptionsDefs:()=>gf,pairUpSpans:()=>ev,partialAssign:()=>K1,pathFadeInAnimation:()=>fD,pathMotion:()=>hD,pathSwipeInAnimation:()=>mL,pick:()=>Y1,pickByMatchingAngle:()=>A8,plotAreaPathFill:()=>r8,plotInterpolatedAreaSeriesFillSpans:()=>Uw,plotInterpolatedLinePathStroke:()=>jw,plotLinePathStroke:()=>rL,pointsEq:()=>_v,polarChartOptionsDefs:()=>z8,prepareAreaFillAnimationFns:()=>a8,prepareAreaPathAnimation:()=>o8,prepareAxisAnimationContext:()=>wW,prepareAxisAnimationFunctions:()=>DW,prepareBarAnimationFunctions:()=>vD,prepareLinePathAnimation:()=>n8,prepareLinePathPropertyAnimation:()=>oL,prepareLinePathStrokeAnimationFns:()=>aL,preparePieSeriesAnimationFunctions:()=>Hw,previousPowerOf2:()=>iR,processedDataIsAnimatable:()=>Kf,pyramidSeriesThemeableOptionsDef:()=>M6,radarAreaSeriesThemeableOptionsDef:()=>I6,radarLineSeriesThemeableOptionsDef:()=>k6,radialBarSeriesThemeableOptionsDef:()=>A6,radialColumnSeriesThemeableOptionsDef:()=>E6,radialGaugeSeriesOptionsDef:()=>t_,radialGaugeSeriesThemeableOptionsDef:()=>lD,radialGaugeTargetOptionsDef:()=>uS,radiusCategoryAxisOptionsDefs:()=>K$,radiusNumberAxisOptionsDefs:()=>Y$,range:()=>HD,rangeAreaSeriesThemeableOptionsDef:()=>T6,rangeBarSeriesThemeableOptionsDef:()=>R6,rangeValidator:()=>sS,rangedValueProperty:()=>E$,resetAxisFillSelectionFn:()=>MW,resetAxisGroupFn:()=>SW,resetAxisLabelSelectionFn:()=>nD,resetAxisLineSelectionFn:()=>dR,resetBarSelectionsFn:()=>Dv,resetLabelFn:()=>rm,resetMarkerFn:()=>wS,resetMarkerPositionFn:()=>wv,resetMotion:()=>Er,resetPieSelectionsFn:()=>k8,rowCountProperty:()=>k$,sankeySeriesThemeableOptionsDef:()=>O6,scale:()=>Yr,sectorBox:()=>M8,seriesLabelFadeInAnimation:()=>fn,seriesLabelFadeOutAnimation:()=>zw,seriesLabelOptionsDefs:()=>gi,setElementBBox:()=>Zw,setPath:()=>zR,shadowOptionsDefs:()=>Fl,shallowClone:()=>$R,simpleMemorize:()=>Ar,simpleMemorize2:()=>Ev,singleSeriesHighlightStyle:()=>u$,solveBezier:()=>qw,sortAndUniqueDates:()=>uR,splitBezier2D:()=>nv,standaloneChartOptionsDefs:()=>Gbe,staticFromToMotion:()=>Nc,stopPageScrolling:()=>MG,sum:()=>rpe,sumValues:()=>fS,sunburstSeriesThemeableOptionsDef:()=>L6,textOrSegments:()=>NO,tickFormat:()=>LW,timeInterval:()=>hS,timeIntervalUnit:()=>i_,toDegrees:()=>sce,toRadians:()=>Tr,toolbarButtonOptionsDefs:()=>Lh,tooltipContentAriaLabel:()=>n$,tooltipHtml:()=>a$,tooltipOptionsDefs:()=>ei,topologyChartOptionsDefs:()=>Hbe,trailingAccumulatedValue:()=>D$,trailingAccumulatedValueProperty:()=>cpe,treemapSeriesThemeableOptionsDef:()=>N6,updateClipPath:()=>gD,updateLabelNode:()=>U6,validateCrossLineValue:()=>xW,valueProperty:()=>Fi,visibleRangeIndices:()=>ZG,waterfallSeriesThemeableOptionsDef:()=>P6,without:()=>ue});function EL(){return(t,i)=>{let e=[`Property [${t}] is deprecated.`,i].filter(Boolean).join(" ");z.warnOnce(e)}}function lye(t,i){let e=EL(),n=i?.default;return zh((r,a,o)=>(o!==n&&e(a.toString(),t),o))}function cye(t,i){let e=EL();return zh((n,r,a)=>(a!==n[t]&&(e(r.toString(),`Use [${t}] instead.`),zR(n,t,i?i(a):a)),$1),(n,r)=>(e(r.toString(),`Use [${t}] instead.`),VR(n,t)))}var yf={add:dye,angle:gye,apply:Sye,equal:wye,distance:mye,distanceSquared:pye,from:Dye,gradient:yye,intercept:vye,intersectAtX:xye,intersectAtY:_ye,length:RL,lengthSquared:hye,multiply:uye,normalized:fye,origin:$8,required:Mye,rotate:bye,round:Cye,sub:TL};function dye(t,i){return typeof i=="number"?{x:t.x+i,y:t.y+i}:{x:t.x+i.x,y:t.y+i.y}}function TL(t,i){return typeof i=="number"?{x:t.x-i,y:t.y-i}:{x:t.x-i.x,y:t.y-i.y}}function uye(t,i){return typeof i=="number"?{x:t.x*i,y:t.y*i}:{x:t.x*i.x,y:t.y*i.y}}function RL(t){return Math.sqrt(t.x*t.x+t.y*t.y)}function hye(t){return t.x*t.x+t.y*t.y}function mye(t,i){let e=TL(t,i);return Math.sqrt(e.x*e.x+e.y*e.y)}function pye(t,i){let e=TL(t,i);return e.x*e.x+e.y*e.y}function fye(t){let i=RL(t);return{x:t.x/i,y:t.y/i}}function gye(t,i){return i==null?Math.atan2(t.y,t.x):Math.atan2(t.y,t.x)-Math.atan2(i.y,i.x)}function bye(t,i,e=$8()){let n=RL(t);return{x:e.x+n*Math.cos(i),y:e.y+n*Math.sin(i)}}function yye(t,i,e){let n=i.x-t.x;return(e==null?i.y-t.y:e-i.y-(e-t.y))/n}function vye(t,i,e){return(e==null?t.y:e-t.y)-i*t.x}function _ye(t,i,e=0,n){return{x:t===1/0?1/0:(e-i)/t,y:n==null?e:n-e}}function xye(t,i,e=0,n){let r=t===1/0?1/0:t*e+i;return{x:e,y:n==null?r:n-r}}function Cye(t,i=2){return{x:i1(t.x,i),y:i1(t.y,i)}}function wye(t,i){return t.x===i.x&&t.y===i.y}function Dye(t,i){if(typeof t=="number")return{x:t,y:i};if("currentX"in t)return{x:t.currentX,y:t.currentY};if("offsetWidth"in t)return{x:t.offsetWidth,y:t.offsetHeight};if("width"in t)return[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y+t.height}];if("x1"in t)return[{x:t.x1,y:t.y1},{x:t.x2,y:t.y2}];throw new Error(`Values can not be converted into a vector: [${JSON.stringify(t)}] [${i}]`)}function Sye(t,i){return t.x=i.x,t.y=i.y,t}function Mye(t){return{x:t?.x??0,y:t?.y??0}}function $8(){return{x:0,y:0}}var Iye=(()=>{let t=class Ww{constructor(e,n,r,a,o,s,l,c,d){this.series=e,this.datumIndex=n,this.datum=r,this.sizeValue=a,this.colorValue=o,this.sumSize=s,this.depth=l,this.parent=c,this.children=d,this.midPoint={x:0,y:0}}get hasChildren(){return this.children.length>0}walk(e,n=Ww.Walk.PreOrder){n===Ww.Walk.PreOrder&&e(this),this.children.forEach(r=>{r.walk(e,n)}),n===Ww.Walk.PostOrder&&e(this)}*[Symbol.iterator](){yield this;for(let e of this.children)yield*sm(e)}};return t.Walk={PreOrder:0,PostOrder:1},t})(),kye=Iye,Aye=class extends qD{constructor(t){super({moduleCtx:t,pickModes:[1,0]}),this.colorDomain=[0,0],this.maxDepth=0,this.colorScale=new Bf,this.animationState=new Rv("empty",{empty:{update:{target:"ready",action:i=>this.animateEmptyUpdateReady(i)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:i=>this.animateReadyHighlight(i),resize:i=>this.animateReadyResize(i),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:i=>this.animateWaitingUpdateReady(i)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:i=>this.animateClearingUpdateEmpty(i)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}resetAnimation(t){t==="initial"?this.animationState.transition("reset"):t==="ready"&&this.animationState.transition("skip")}processData(){let{NodeClass:t}=this,{childrenKey:i,sizeKey:e,colorKey:n,colorRange:r}=this.properties,a=0,o=1/0,s=-1/0,l=(h,m,p)=>{let g=p.depth!=null?p.depth+1:0,y=i!=null?h[i]:void 0,v=y==null||y.length===0,x=e!=null?h[e]:void 0;Number.isFinite(x)?x=Math.max(x,0):x=v?1:0;let w=x;a=Math.max(a,g);let D=n!=null?h[n]:void 0;return typeof D=="number"&&(o=Math.min(o,D),s=Math.max(s,D)),c(new t(this,m,h,x,D,w,g,p,[]),y)},c=(h,m)=>{let{datumIndex:p}=h;return m?.forEach((g,y)=>{let v=l(g,p.concat(y),h);h.children.push(v),h.sumSize+=v.sumSize}),h},d=c(new t(this,[],void 0,0,void 0,0,void 0,void 0,[]),this.data),u=[o,s];this.colorScale.domain=o<s?[o,s]:[0,1],this.colorScale.range=r??["black"],this.colorScale.update(),this.rootNode=d,this.maxDepth=a,this.colorDomain=u}update({seriesRect:t}){this.updateSelections(),this.updateNodes();let i=this.getAnimationData();this.checkResize(t)&&this.animationState.transition("resize",i),this.animationState.transition("update",i)}resetAllAnimation(t){this.ctx.animationManager.stopByAnimationGroupId(this.id)}animateEmptyUpdateReady(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(t)}animateWaitingUpdateReady(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(t)}animateReadyHighlight(t){}animateReadyResize(t){this.resetAllAnimation(t)}animateClearingUpdateEmpty(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(t)}getAnimationData(){return{}}isProcessedDataAnimatable(){return!0}checkProcessedDataAnimatable(){this.isProcessedDataAnimatable()||this.ctx.animationManager.skipCurrentBatch()}dataCount(){return NaN}getSeriesDomain(){return[NaN,NaN]}getSeriesRange(t,i){return[NaN,NaN]}getLegendData(t){let{colorKey:i,colorRange:e}=this.properties,{id:n,ctx:{legendManager:r},visible:a}=this;return t==="gradient"&&i!=null&&e!=null?[{legendType:"gradient",enabled:a&&r.getItemEnabled({seriesId:n}),seriesId:n,series:this.getFormatterContext("color"),colorRange:e,colorDomain:this.colorDomain}]:[]}getDatumIdFromData(t){return t.datumIndex.join(":")}getDatumId(t){return this.getDatumIdFromData(t)}removeMeIndexPathForIndex(t){return this.datumSelection.at(t+1)?.datum.datumIndex??[]}removeMeIndexForIndexPath(t){for(let{index:i,datum:e}of this.datumSelection)if(Oa(e.datumIndex,t))return i-1;return 0}pickFocus(t){if(!this.rootNode?.children.length)return;let i=Ae(0,t.datumIndex-t.datumIndexDelta,this.datumSelection.length-1),{datumIndexDelta:e,otherIndexDelta:n}=t,r=this.removeMeIndexPathForIndex(i),a=r.reduce((l,c)=>l.children[c],this.rootNode);if(n>0&&a.hasChildren)r=[...r,0];else if(n<0&&r.length>1)r=r.slice(0,-1);else if(n===0&&e!==0){let l=a.parent.children.length-1;r=r.slice(),r[r.length-1]=Ae(0,r[r.length-1]+e,l)}let o=r.reduce((l,c)=>l.children[c],this.rootNode),s=this.computeFocusBounds(this.datumSelection.at(i+1));if(s!=null)return{datum:o,datumIndex:this.removeMeIndexForIndexPath(r),otherIndex:o.depth,bounds:s,clipFocusBox:!0}}getDatumAriaText(t,i){if(!(t instanceof this.NodeClass)){z.error(`datum is not HierarchyNode: ${JSON.stringify(t)}`);return}return this.ctx.localeManager.t("ariaAnnounceHierarchyDatum",{level:(t.depth??-1)+1,count:t.children.length,description:i})}getCategoryValue(t){}datumIndexForCategoryValue(t){}},js=class extends Wo{constructor(){super(...arguments),this.childrenKey="children",this.fills=Object.values(wn),this.fillGradientDefaults=new Go,this.fillPatternDefaults=new Wi,this.fillImageDefaults=new Ua,this.strokes=Object.values(vc)}};b([C],js.prototype,"childrenKey",2);b([C],js.prototype,"sizeKey",2);b([C],js.prototype,"colorKey",2);b([C],js.prototype,"colorName",2);b([C],js.prototype,"fills",2);b([C],js.prototype,"fillGradientDefaults",2);b([C],js.prototype,"fillPatternDefaults",2);b([C],js.prototype,"fillImageDefaults",2);b([C],js.prototype,"strokes",2);b([C],js.prototype,"colorRange",2);var Eye=class Y8{constructor(i,e,n,r){this.lon0=i,this.lat0=e,this.lon1=n,this.lat1=r}extend(i,e,n,r){return this.lon0=Math.min(this.lon0,i),this.lat0=Math.min(this.lat0,e),this.lon1=Math.max(this.lon1,n),this.lat1=Math.max(this.lat1,r),this}merge(i){return this.extend(i.lon0,i.lat0,i.lon1,i.lat1)}static extend(i,e,n,r,a){return i?i.extend(e,n,r,a):new Y8(e,n,r,a)}},IS=Math.PI/180,U1=t=>t*IS,H1=t=>-Math.log(Math.tan(Math.PI*.25+t*IS*.5)),G1=t=>t/IS,W1=t=>(Math.atan(Math.exp(-t))-Math.PI*.25)/(IS*.5),Tye=class LR extends SD{constructor(i,e){super(),this.domain=i,this.range=e,this.type="mercator",this.defaultTickCount=0,this.bounds=LR.bounds(i)}static bounds(i){let[[e,n],[r,a]]=i,o=U1(e),s=H1(n),l=U1(r),c=H1(a);return new we(Math.min(o,l),Math.min(s,c),Math.abs(l-o),Math.abs(c-s))}static fixedScale(){return new LR([[G1(0),W1(0)],[G1(1),W1(1)]],[[0,0],[1,1]])}toDomain(){}normalizeDomains(...i){let e=-1/0,n=1/0,r=-1/0,a=1/0;for(let o of i)for(let[s,l]of o)e=Math.min(s,e),n=Math.max(s,n),r=Math.min(l,r),a=Math.max(l,a);return{domain:[[e,r],[n,a]],animatable:!0}}convert([i,e]){let[[n,r],[a,o]]=this.range,s=(a-n)/this.bounds.width,l=(o-r)/this.bounds.height;return[(U1(i)-this.bounds.x)*s+n,(H1(e)-this.bounds.y)*l+r]}invert([i,e]){let[[n,r],[a,o]]=this.range,s=(a-n)/this.bounds.width,l=(o-r)/this.bounds.height;return[G1((i-n)/s+this.bounds.x),W1((e-r)/l+this.bounds.y)]}},Rye={top:{xTranslationDirection:0,yTranslationDirection:-1},bottom:{xTranslationDirection:0,yTranslationDirection:1},left:{xTranslationDirection:-1,yTranslationDirection:0},right:{xTranslationDirection:1,yTranslationDirection:0},"top-left":{xTranslationDirection:1,yTranslationDirection:-1},"top-right":{xTranslationDirection:-1,yTranslationDirection:-1},"bottom-left":{xTranslationDirection:1,yTranslationDirection:1},"bottom-right":{xTranslationDirection:-1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},"inside-left":{xTranslationDirection:1,yTranslationDirection:0},"inside-right":{xTranslationDirection:-1,yTranslationDirection:0},"inside-top":{xTranslationDirection:0,yTranslationDirection:1},"inside-bottom":{xTranslationDirection:0,yTranslationDirection:-1},"inside-top-left":{xTranslationDirection:1,yTranslationDirection:1},"inside-bottom-left":{xTranslationDirection:1,yTranslationDirection:-1},"inside-top-right":{xTranslationDirection:-1,yTranslationDirection:1},"inside-bottom-right":{xTranslationDirection:-1,yTranslationDirection:-1}},Oye={top:{xTranslationDirection:1,yTranslationDirection:0},bottom:{xTranslationDirection:-1,yTranslationDirection:0},left:{xTranslationDirection:0,yTranslationDirection:-1},right:{xTranslationDirection:0,yTranslationDirection:1},"top-left":{xTranslationDirection:-1,yTranslationDirection:-1},"top-right":{xTranslationDirection:-1,yTranslationDirection:1},"bottom-left":{xTranslationDirection:1,yTranslationDirection:-1},"bottom-right":{xTranslationDirection:1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},"inside-left":{xTranslationDirection:0,yTranslationDirection:1},"inside-right":{xTranslationDirection:0,yTranslationDirection:-1},"inside-top":{xTranslationDirection:-1,yTranslationDirection:0},"inside-bottom":{xTranslationDirection:1,yTranslationDirection:0},"inside-top-left":{xTranslationDirection:-1,yTranslationDirection:1},"inside-bottom-left":{xTranslationDirection:1,yTranslationDirection:1},"inside-top-right":{xTranslationDirection:-1,yTranslationDirection:-1},"inside-bottom-right":{xTranslationDirection:1,yTranslationDirection:-1}};function Lye({yDirection:t,padding:i=0,position:e="top",bbox:n}){let r=t?Rye:Oye,{xTranslationDirection:a,yTranslationDirection:o}=r[e],s=a*(i+n.width/2),l=o*(i+n.height/2);return{xTranslation:s,yTranslation:l}}function Nye(t,i){let e=Ne("button",kS("ag-charts-input ag-charts-button",i));return t.label!==void 0?e.append(t.label):(e.append(K8(t.icon)),e.ariaLabel=t.altText),e.addEventListener("click",t.onPress),Td(e,i),e}function Pye(t,i){let e=Ne("input",kS("ag-charts-input ag-charts-checkbox",i));return e.type="checkbox",e.checked=t.checked,e.addEventListener("change",n=>t.onChange(e.checked,n)),e.addEventListener("keydown",n=>{TD(n)&&(n.preventDefault(),e.click())}),Td(e,i),e}function Fye(t,i){let e=Ne("select",kS("ag-charts-input ag-charts-select",i));return e.append(...t.options.map(n=>{let r=Ne("option");return r.value=n.value,r.textContent=n.label,r})),it(e,"data-preventdefault",!1),e.value=t.value,e.addEventListener("change",n=>t.onChange(e.value,n)),Td(e,i),e}function Vye(t,i){let e=Ne("textarea",kS("ag-charts-input ag-charts-textarea",i));return e.value=t.value,e.addEventListener("input",n=>t.onChange(e.value,n)),Td(e,i),it(e,"data-preventdefault",!1),e}function K8(t){let i=Ne("span",`ag-charts-icon ag-charts-icon-${t}`);return it(i,"aria-hidden",!0),i}function kS(t,i){return i==null?t:`${t} ${i.class}`}var q8=class extends va{constructor(t=""){super(),this._d="",this.d=t}get d(){return this._d}set d(t){t!==this._d&&(this._d=t,this.path.clear(),this.path.appendSvg(t),this.checkPathDirty())}},Bye=class extends jf(q8){isPointInPath(t,i){return super.isPointInPath(t-this.translationX,i-this.translationY)}},sg=class extends kc{constructor(t){super(),this.sourceImage=t,this.x=0,this.y=0,this.width=0,this.height=0,this.opacity=1}render(t){let{ctx:i}=t,e=this.sourceImage;e&&(i.globalAlpha=this.opacity,i.drawImage(e,0,0,e.width,e.height,this.x,this.y,this.width,this.height)),super.render(t)}};b([te()],sg.prototype,"x",2);b([te()],sg.prototype,"y",2);b([te()],sg.prototype,"width",2);b([te()],sg.prototype,"height",2);b([te()],sg.prototype,"opacity",2);var zye={};Nl(zye,{ButtonWidget:()=>Av,MenuItemWidget:()=>OL,MenuWidget:()=>Z8,NativeWidget:()=>Ef,SliderWidget:()=>nO,ToolbarWidget:()=>OD,WIDGET_HTML_EVENTS:()=>YR,Widget:()=>Pl,WidgetEventUtil:()=>Dc});var OL=class extends EG{constructor(){super(Ne("div"),"menuitem")}},jye=["Escape","ArrowLeft"],Z8=class Q8 extends iO{constructor(i="vertical"){super(i,"menu"),this.closeSubMenu=e=>this.openSubMenu(e,void 0)}destructor(){this.selfClose("2")}addSeparator(){let i=Ur().createElement("div");return it(i,"role","separator"),this.elem.appendChild(i),i}onChildAdded(i){super.onChildAdded(i),i.hasPopup()||i.addListener("mouseenter",this.closeSubMenu)}onChildRemoved(i){super.onChildRemoved(i),i.hasPopup()||i.removeListener("mouseenter",this.closeSubMenu)}addSubMenu(){let i=new OL,e=bh(),n=new Q8(this.orientation),r=o=>{i.isDisabled()||this.openSubMenu(o,n)},a=o=>{kv(o.sourceEvent)&&o.sourceEvent.code==="ArrowRight"&&r(o)};return i.setAriaHasPopup("menu"),i.setAriaExpanded(!1),i.setAriaControls(e),i.addListener("click",r),i.addListener("mouseenter",r),i.addListener("keydown",a),n.addListener("close-widget",()=>i.setAriaExpanded(!1)),n.addListener("open-widget",()=>i.setAriaExpanded(!0)),n.id=e,this.addChild(i),{subMenuButton:i,subMenu:n}}openSubMenu(i,e){let{openScope:n}=this;n&&(n.openSubMenu?.selfClose("4"),e?.open(i),n.openSubMenu=e)}open(i,e){if(this.openScope!=null)return;this.openScope={lastFocus:RD(i.sourceEvent),openSubMenu:void 0,abort:()=>this.selfClose("1"),close:()=>this.selfClose("0"),removers:new pt};let n=this.openScope,r=this.children.map(a=>a.getElement());it(n.lastFocus,"aria-expanded",!0),n.removers.register(JR(this.elem,n.abort),eO(this.elem,n.abort),...this.children.map(a=>AD(a.getElement(),n.close,jye)),e?.overrideFocusVisible&&tO(this.elem,r,e.overrideFocusVisible)),this.internalListener?.dispatch("open-widget",this,{type:"open-widget"}),this.children[0]?.focus({preventScroll:!0})}selfClose(i){if(this.openScope===void 0)return;let{lastFocus:e,removers:n,openSubMenu:r}=this.openScope;this.openScope=void 0,r?.selfClose("3"),it(e,"aria-expanded",!1),i==="0"&&e?.focus({preventScroll:!0}),n.flush(),this.internalListener?.dispatch("close-widget",this,{type:"close-widget"})}close(){this.selfClose("0")}},N5="canvas-overlay",LL=class extends _D{constructor(t,i,e){super(),this.ctx=t,this.hideFns=[],this.moduleId=`popover-${i}`,e?.detached?this.element=Ne("div"):this.element=t.domManager.addChild(N5,this.moduleId),this.element.setAttribute("role","presentation"),this.cleanup.register(()=>t.domManager.removeChild(N5,this.moduleId))}attachTo(t){this.element.parentElement||t.element.append(this.element)}hide(t){let{lastFocus:i=this.lastFocus}=t??{};this.element.children.length!==0&&(this.hideFns.forEach(e=>e()),i?.focus(),this.lastFocus=void 0)}removeChildren(){this.element.replaceChildren()}showWithChildren(t,i){if(!this.element.parentElement)throw new Error("Can not show popover that has not been attached to a parent.");let e=Ne("div","ag-charts-popover");if(i.ariaLabel!=null&&e.setAttribute("aria-label",i.ariaLabel),i.class!=null&&e.classList.add(i.class),e.replaceChildren(...t),this.element.replaceChildren(e),this.hideFns.push(()=>this.removeChildren()),i.onHide&&this.hideFns.push(i.onHide),i.initialFocus&&i.sourceEvent){let n=RD(i.sourceEvent);n!==void 0&&(this.lastFocus=n,this.initialFocus=i.initialFocus)}return e}getPopoverElement(){return this.element.firstElementChild}updatePosition(t){let i=this.getPopoverElement();i&&(i.style.setProperty("right","unset"),i.style.setProperty("bottom","unset"),t.x!=null&&i.style.setProperty("left",`${Math.floor(t.x)}px`),t.y!=null&&i.style.setProperty("top",`${Math.floor(t.y)}px`),this.initialFocus?.focus(),this.initialFocus=void 0)}},X8=class extends LL{setAnchor(t,i){this.anchor=t,this.fallbackAnchor=i,this.updatePosition(t),this.repositionWithinBounds()}showWithChildren(t,i){let e=i.anchor??this.anchor,n=i.fallbackAnchor??this.fallbackAnchor,r=super.showWithChildren(t,i);return e&&this.setAnchor(e,n),tt().requestAnimationFrame(()=>{this.repositionWithinBounds()}),r}repositionWithinBounds(){let{anchor:t,ctx:i,fallbackAnchor:e}=this,n=this.getPopoverElement();if(!t||!n)return;let r=i.domManager.getBoundingClientRect(),{offsetWidth:a,offsetHeight:o}=n,s=Ae(0,t.x,r.width-a),l=Ae(0,t.y,r.height-o);s!==t.x&&e?.x!=null&&(s=Ae(0,e.x-a,r.width-a)),l!==t.y&&e?.y!=null&&(l=Ae(0,e.y-o,r.height-o)),this.updatePosition({x:s,y:l})}},Uye=class extends X8{show(t){let i=t.items.map(n=>this.createRow(t,n)),e=this.showWithChildren(i,t);e.classList.add("ag-charts-menu"),e.setAttribute("role","menu"),this.menuCloser=SG({orientation:"vertical",menu:e,buttons:i,sourceEvent:t.sourceEvent,closeCallback:()=>this.hide()}),this.hideFns.push(()=>{this.menuCloser?.finishClosing(),this.menuCloser=void 0})}createRow(t,i){let{menuItemRole:e="menuitem"}=t,n=i.value===t.value,r=Ne("div","ag-charts-menu__row");if(r.setAttribute("role",e),e==="menuitemradio"&&r.setAttribute("aria-checked",(t.value===i.value).toString()),typeof i.value=="string"&&(r.dataset.popoverId=i.value),r.classList.toggle("ag-charts-menu__row--active",n),i.icon!=null){let l=Ne("span",`ag-charts-menu__icon ${ID(i.icon)}`);r.appendChild(l)}let a=i.strokeWidth!=null;if(a&&(r.classList.toggle("ag-charts-menu__row--stroke-width-visible",a),r.style.setProperty("--strokeWidth",a?`${i.strokeWidth}px`:null)),i.label!=null){let l=Ne("span","ag-charts-menu__label");l.textContent=this.ctx.localeManager.t(i.label),r.appendChild(l)}"altText"in i&&(r.ariaLabel=this.ctx.localeManager.t(i.altText));let o=()=>{t.onPress?.(i)},s=l=>{TD(l)&&(o(),l.preventDefault(),l.stopPropagation())};return r.addEventListener("keydown",s),r.addEventListener("click",s),r.addEventListener("mousemove",()=>{r.focus({preventScroll:!0})}),r}},J8=class extends LL{constructor(){super(...arguments),this.dragged=!1}setDragHandle(t){t.addListener("drag-start",i=>{t.addClass(this.dragHandleDraggingClass),this.onDragStart(i)}),t.addListener("drag-move",this.onDragMove.bind(this)),t.addListener("drag-end",()=>{t.removeClass(this.dragHandleDraggingClass),this.onDragEnd.bind(this)})}onDragStart(t){let i=this.getPopoverElement();i&&(t.sourceEvent.preventDefault(),this.dragged=!0,this.dragStartState={client:yf.from(t.clientX,t.clientY),position:yf.from(Number(i.style.getPropertyValue("left").replace("px","")),Number(i.style.getPropertyValue("top").replace("px","")))})}onDragMove(t){let{dragStartState:i}=this,e=this.getPopoverElement();if(!i||!e)return;let n=yf.sub(yf.from(t.clientX,t.clientY),i.client),r=yf.add(i.position,n),a=this.ctx.domManager.getBoundingClientRect(),o={};r.x>=0&&r.x+e.offsetWidth<=a.width&&(o.x=r.x),r.y>=0&&r.y+e.offsetHeight<=a.height&&(o.y=r.y),this.updatePosition(o)}onDragEnd(){this.dragStartState=void 0}},u_=class extends nt{};b([C],u_.prototype,"icon",2);b([C],u_.prototype,"label",2);b([C],u_.prototype,"ariaLabel",2);b([C],u_.prototype,"tooltip",2);var eY=class extends Av{constructor(t){super(),this.localeManager=t}update(t){let{localeManager:i}=this;t.tooltip&&(this.elem.title=i.t(t.tooltip));let e="";if(t.icon!=null&&(e=`<span class="${ID(t.icon)} ag-charts-toolbar__icon"></span>`),t.label!=null){let n=i.t(t.label);e=`${e}<span class="ag-charts-toolbar__label">${n}</span>`}this.elem.innerHTML=e}setChecked(t){it(this.elem,"aria-checked",t)}},P5="ag-charts-toolbar__button--active",NL=class extends OD{constructor({eventsHub:t,localeManager:i},e,n){super(n),this.ariaLabelId=e,this.horizontalSpacing=10,this.verticalSpacing=10,this.events=new NG,this.hasPrefix=!1,this.buttonWidgets=[],this.updateAriaLabel=()=>this.setAriaLabel(this.localeManager.t(this.ariaLabelId)),this.eventsHub=t,this.localeManager=i,this.addClass("ag-charts-toolbar"),this.toggleClass("ag-charts-toolbar--horizontal",n==="horizontal"),this.toggleClass("ag-charts-toolbar--vertical",n==="vertical"),this.eventsHub.on("locale:change",this.updateAriaLabel),this.updateAriaLabel()}setAriaLabelId(t){this.ariaLabelId=t,this.updateAriaLabel()}addToolbarListener(t,i){return this.events.addListener(t,i)}clearButtons(){for(let t of this.buttonWidgets)t.destroy();this.buttonWidgets.splice(0)}updateButtons(t){let{buttonWidgets:i}=this;for(let[e,n]of t.entries())(this.buttonWidgets.at(e)??this.createButton(e,n)).update(n);for(let e=t.length;e<i.length;e++)this.buttonWidgets.at(e)?.destroy();this.buttonWidgets.splice(t.length),this.refreshButtonClasses()}updateButtonByIndex(t,i){this.buttonWidgets.at(t)?.update(i)}clearActiveButton(){for(let t of this.buttonWidgets)t.toggleClass(P5,!1)}toggleActiveButtonByIndex(t){if(t!==-1)for(let[i,e]of this.buttonWidgets.entries())e.toggleClass(P5,t!=null&&t===i)}toggleButtonEnabledByIndex(t,i){t!==-1&&this.buttonWidgets.at(t)?.setEnabled(i)}toggleSwitchCheckedByIndex(t,i){t!==-1&&this.buttonWidgets.at(t)?.setChecked(i)}getButtonBounds(){return this.buttonWidgets.map(t=>this.getButtonWidgetBounds(t))}setButtonHiddenByIndex(t,i){this.buttonWidgets.at(t)?.setHidden(i)}getButtonWidgetBounds(t){let i=this.getBounds(),e=t.getBounds();return new we(e.x+i.x,e.y+i.y,e.width,e.height)}refreshButtonClasses(){let{buttonWidgets:t,hasPrefix:i}=this,e,n,r;for(let[a,o]of t.entries())e=!i&&a===0||r!=o.section,n=a===t.length-1||o.section!=t.at(a+1)?.section,o.toggleClass("ag-charts-toolbar__button--first",e),o.toggleClass("ag-charts-toolbar__button--last",n),o.toggleClass("ag-charts-toolbar__button--gap",a>0&&e),r=o.section}createButton(t,i){let e=this.createButtonWidget();return e.addClass("ag-charts-toolbar__button"),e.addListener("click",n=>{let r=f({index:t},i instanceof nt?i.toJson():i),a=this.getButtonWidgetBounds(e);this.events.dispatch("button-pressed",{event:n,button:r,buttonBounds:a})}),e.addListener("focus",()=>{this.events.dispatch("button-focused",{button:{index:t}})}),i.section&&(e.section=i.section),this.buttonWidgets.push(e),this.addChild(e),e}},Hye=class extends NL{createButtonWidget(){return new eY(this.localeManager)}},Gye=class extends J8{constructor(t,i,e){super(t,i),this.onPopoverMoved=e,this.dragHandleDraggingClass="ag-charts-floating-toolbar__drag-handle--dragging"}show(t,i={}){this.showWithChildren(t,S(f({},i),{class:"ag-charts-floating-toolbar"}))}hide(){this.dragged=!1,super.hide()}getBounds(){let t=this.getPopoverElement();return new we(t?.offsetLeft??0,t?.offsetTop??0,t?.offsetWidth??0,t?.offsetHeight??0)}hasBeenDragged(){return this.dragged}setAnchor(t,i,e){let n=this.getPopoverElement();if(!n)return;let r=t.position??"above",{offsetWidth:a,offsetHeight:o}=n,s=t.y-o-e,l=t.x-a/2;r==="below"?s=t.y+e:r==="right"?(s=t.y-o/2,l=t.x+i):r==="above-left"&&(l=t.x),this.updatePosition({x:l,y:s})}ignorePointerEvents(){let t=this.getPopoverElement();t&&(t.style.pointerEvents="none")}capturePointerEvents(){let t=this.getPopoverElement();t&&(t.style.pointerEvents="unset")}updatePosition(t){let i=this.getBounds(),e=this.ctx.domManager.getBoundingClientRect();t.x=Math.floor(Ae(0,t.x,e.width-i.width)),t.y=Math.floor(Ae(0,t.y,e.height-i.height)),super.updatePosition(t),this.onPopoverMoved()}},Wye=class extends NL{constructor(t,i,e){super(t,i,"horizontal"),this.hasPrefix=!0,this.popover=new Gye(t,e,this.onPopoverMoved.bind(this)),this.dragHandle=new $ye(t.localeManager.t("toolbarAnnotationsDragHandle")),this.popover.setDragHandle(this.dragHandle)}destroy(){super.destroy(),this.popover.destroy()}show(t={}){this.popover.show([this.dragHandle.getElement(),this.getElement()],t)}hide(){this.popover.hide()}setAnchor(t){this.popover.setAnchor(t,this.horizontalSpacing,this.verticalSpacing)}hasBeenDragged(){return this.popover.hasBeenDragged()}ignorePointerEvents(){this.popover.ignorePointerEvents()}capturePointerEvents(){this.popover.capturePointerEvents()}onPopoverMoved(){let t=this.popover.getBounds();if(this.popoverBounds?.equals(t))return;this.popoverBounds=t.clone();let i=this.getButtonBounds();this.events.dispatch("toolbar-moved",{popoverBounds:t,buttonBounds:i})}getButtonWidgetBounds(t){let i=this.popover.getBounds(),e=super.getButtonWidgetBounds(t),n=this.dragHandle.getBounds();return new we(e.x+i.x-n.width,e.y+i.y,e.width,e.height)}},$ye=class extends Ef{constructor(t){super(Ne("div","ag-charts-floating-toolbar__drag-handle"));let i=new Ef(Ne("span",`${ID("drag-handle")} ag-charts-toolbar__icon`));i.setAriaHidden(!0),this.addChild(i),this.elem.title=t}},Yye=f(f({},mW),pW),O4e={VERSION:kf,_Scene:U8,_Theme:G8,_Util:W8,create:jd.create.bind(jd),createSparkline:jd.__createSparkline.bind(jd),setup:L8,isEnterprise:!1};var Kye=(()=>{class t{chart;_nativeElement;_initialised=!1;ngZone;ngAfterViewInit(){let e=this.patchChartOptions(this.options);this.chart=this.runOutsideAngular(()=>this.createChart(e)),this._initialised=!0,this.chart.chart.waitForUpdate().then(()=>{this.onChartReady.emit(this.chart)})}ngOnChanges(e){this.runOutsideAngular(()=>{!this._initialised||!this.chart||this.chart.update(this.patchChartOptions(this.options))})}ngOnDestroy(){this._initialised&&this.chart&&(this.chart.destroy(),this.chart=void 0,this._initialised=!1)}patchChartOptions(e){let n=r=>{let a=r??{};for(let o of Object.keys(a)){let s=a[o];typeof s=="function"&&(a[o]=(...l)=>{this.runInsideAngular(()=>s(...l))})}};return n(e?.legend?.listeners),n(e?.listeners),e.series?.forEach(r=>{n(r.listeners)}),e.container?e:S(f({},e),{container:this._nativeElement})}runOutsideAngular(e){return this.ngZone?this.ngZone.runOutsideAngular(e):e()}runInsideAngular(e){return this.ngZone?this.ngZone.run(e):e()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=X({type:t,selectors:[["ng-component"]],standalone:!1,features:[_t],decls:0,vars:0,template:function(n,r){},encapsulation:2})}return t})(),tY=(()=>{class t extends Kye{ngZone;options={};onChartReady=new ie;constructor(e,n){super(),this.ngZone=n,this._nativeElement=e.nativeElement}createChart(e){return jd.create(e)}static \u0275fac=function(n){return new(n||t)(ee(me),ee(Ce))};static \u0275cmp=X({type:t,selectors:[["ag-charts"]],inputs:{options:"options"},outputs:{onChartReady:"onChartReady"},features:[Ve],decls:0,vars:0,template:function(n,r){},encapsulation:2})}return t})();var iY=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Se({type:t});static \u0275inj=De({})}return t})();XN(K3);var nY=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=Se({type:t,bootstrap:[$3]})}static{this.\u0275inj=De({providers:[yP(),Y3(),Z3(),{provide:yu,useValue:"pt-PT"},TF(()=>RF(q3)),PV(()=>VV()),W4(()=>K4())],imports:[wM,G3,zz,Yz,nT,DC,Xz,wC,Hj,kd,NT,r3,v3,Lj,z3,eU,lz,Z2,I3,iY,tY,cz,O3,s3]})}}return t})();CM().bootstrapModule(nY).catch(t=>console.error(t));
