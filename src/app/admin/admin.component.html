<div class="tabs-container">
    <mat-tab-group>
        <mat-tab label="Dashboard"> Content 1 </mat-tab>
        <mat-tab label="Quotas"> 
            <div class="select-month">
                <mat-form-field>
                    <mat-label>Seleciona um mês</mat-label>
                    <mat-select [(ngModel)]="selectedMonth" name="month">
                        <mat-option *ngFor="let mes of meses" [value]="mes">
                        {{mes.mes}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
            <table mat-table [dataSource]="usersPayments" matSort class="mat-elevation-z8 tabela">

                <ng-container matColumnDef="type">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Tipo de utilizador</th>
                    <td mat-cell *matCellDef="let element">{{element.type}}</td>
                </ng-container>

                <ng-container matColumnDef="name">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Nome</th>
                    <td mat-cell *matCellDef="let element">{{element.name}}</td>
                </ng-container>

                <ng-container matColumnDef="paymentStatus">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Estado do pagamento</th>
                    <td mat-cell *matCellDef="let element">{{element.paymentStatus ? '✅' : '❌'}}</td>
                </ng-container>

                <ng-container matColumnDef="paymentDate">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Data de pagamento</th>
                    <td mat-cell *matCellDef="let element">{{element.paymentDate | date:'longDate'}}</td>
                </ng-container>

                <ng-container matColumnDef="fine">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Multa</th>
                    <td mat-cell *matCellDef="let element">{{element.fine}}€</td>
                </ng-container>

                <ng-container matColumnDef="opt">
                    <th mat-header-cell *matHeaderCellDef></th>
                    <td mat-cell *matCellDef="let element">
                        <button mat-icon-button [matMenuTriggerFor]="menu" [matMenuTriggerData]="{elem: element}" aria-label="Example icon button with a vertical three dot icon">
                            <mat-icon>more_vert</mat-icon>
                        </button>
                        <mat-menu #menu="matMenu">
                            <ng-template matMenuContent let-elem="elem">
                                <button mat-menu-item (click)="seeAccount(elem)">
                                    <mat-icon>account_circle</mat-icon>
                                    <span>Ver conta</span>
                                </button>
                                <button mat-menu-item (click)="addPayment(elem)">
                                    <mat-icon>check_circle</mat-icon>
                                    <span>Adicionar pagamento</span>
                                </button>
                                <button mat-menu-item (click)="deletePayment(elem)">
                                    <mat-icon>delete</mat-icon>
                                    <span>Remover pagamento</span>
                                </button>
                            </ng-template>
                        </mat-menu>
                    </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="['type','name','paymentStatus','paymentDate','fine','opt']"></tr>
                <tr mat-row 
                    *matRowDef="let row; columns: ['type','name','paymentStatus','paymentDate','fine','opt'];"></tr>
                
            </table>  
        </mat-tab>
        <mat-tab label="Eventos"> Content 3 </mat-tab>
    </mat-tab-group>
</div>
